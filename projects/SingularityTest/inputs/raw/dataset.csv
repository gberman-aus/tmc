Id,Title,Body,ViewCount,Score,Tags,CreationDate
74069789,Unable to use specific React version in a Jupyter Widget,"<p>I'm trying to write a Jupyter Widget that uses react based on <a href=""https://github.com/jupyter-widgets/widget-ts-cookiecutter"" rel=""nofollow noreferrer"">this cookiecutter</a>. I specifically need to use a certain version of react. However, even when installing a specific version, after building the widget, a different version is used in the jupyterlab frontend.
The react version that is installed in the node_modules folder is the version that I want to use and no other module has react as a dependency. In the node_modules folder, there is also no trace of a different react version to be found.</p>
<p>Specifically, I want to use react 18.2.0. The version that I get by logging <code>React.version</code> in the frontend is react 17.0.2. Obviously, I am not able to use React 18 features like <code>useId</code> which results in an error.</p>
<p>How can I use a different version of react? And where does this other react version 17.0.2 come from?</p>
<p><strong>Reproduce</strong>:</p>
<ol>
<li>Install the cookiecutter as described in the README.</li>
<li>Install react and react-dom via <code>jlpm/yarn add react@18.2.0 react-dom@18.2.0</code>.</li>
<li>Add a simple React component in a new file:</li>
</ol>
<pre class=""lang-js prettyprint-override""><code>import React from 'react';

export const SimpleComponent = () =&gt; {
  console.log('React.version:', React.version);
  return &lt;div&gt;Simple Test&lt;/div&gt;;
};
</code></pre>
<ol start=""4"">
<li>Render the react component in the render() function of the view in <code>index.ts</code>:</li>
</ol>
<pre class=""lang-js prettyprint-override""><code>render() {
  this.component = React.createElement(SimpleComponent);
  ReactDOM.render(this.component, this.el);
}
</code></pre>
<p>Console shows: &quot;React.version: 17.0.2&quot;</p>
",12,0,<reactjs><jupyter><jupyter-lab><ipywidgets><jupyter-widget>,2022-10-14 13:12:42
74043173,Slicing dataframes using ipywidgets,"<p>I am trying to create an interactive plot using IPywidgets and Plotly.</p>
<p>I have created and defined the plotly.go output that I would like as a method, and have validated this works using text variables, but I am now looking to define the inputs using IPywidgets.</p>
<p>The buttons have been defined and show up as expected, but the output underneath returns an error for the Plotly graph : <em>AttributeError: 'str' object has no attribute 'loc'</em></p>
<p>The error points to the first line of the method, where I use an unput to create a slice from the DataFrame. Should I take this to mean that the DataFrame is being parsed(?) as a string file rather than as a DataFrame? How do I fix this?</p>
<p>I won't post all the code as it is quite long (unless deemed neccessary), but have summarised it below:</p>
<p>Code used to create the interactive plot:</p>
<pre><code># define a list of analytes to be used for the button
analyte_list = df['ANALYTE'].unique()
first_value = analyte_list[1]

# define buttons to be used on blank plots
sort_options = widgets.ToggleButtons(options = ['HOLEID', 'SAMPLEID'], description = &quot;Sort Samples By:&quot;, disabled = False,
    button_style = &quot;success&quot;)
analyte_options = widgets.Dropdown(options = analyte_list, value = first_value,   description = 'Analyte', disabled = False)
detection_limits_select = widgets.FloatText(value = 10, description = 'Detection Limits:', disabled = False)

widgets.interact(blank_plots, df = df, element = 'Ce', sort_by = sort_options, dl = detection_limits_select)
</code></pre>
<p>Code at the beginning of the method that is causing issues:</p>
<pre><code>def blank_plots(sort_by, element, dl, df = pd.DataFrame):

    # create dataframe for selected analyte
    #dfa = df[df['ANALYTE']==e].copy()
    dfa = df.loc[df[&quot;ANALYTE&quot;]==element].copy()
</code></pre>
<p>And the error output:</p>
<pre><code>     16     # create dataframe for selected analyte
     17     #dfa = df[df['ANALYTE']==e].copy()
---&gt; 18     dfa = df.loc[df[&quot;ANALYTE&quot;]==element].copy()
     20     # define units
     21     units = dfa['UNIT'].unique().tolist()

AttributeError: 'str' object has no attribute 'loc'
</code></pre>
<p>Any advice welcomed, and I will answer any questions I can.</p>
",22,1,<python><pandas><dataframe><plotly><ipywidgets>,2022-10-12 13:59:49
74015370,Using Kangaroo for Jupyter; Warning Triggered and a Timeout,"<p>I have used Kangaroo for my classes with Python. I have several notebooks with lessons and projects.  I have never had a problem using Kangaroo, however since Saturday, I have not been able to access my files. I keep getting warnings about volumes and then the spawn will fail.  Are there any ideas of what I should do here?</p>
<p>&quot;Your server is starting up.</p>
<p>You will be redirected automatically when it's ready for you.</p>
<p>100% Complete
Spawn failed: Timeout</p>
<p>Event log</p>
<p>Server requested</p>
<p>2022-10-10T13:02:04.383457Z [Normal] Successfully assigned uncg-jhub/jupyter-kswilliams2 to aks-nodepool1-16125732-vmss000011</p>
<p>2022-10-10T13:03:10Z [Warning] MountVolume.WaitForAttach failed for volume &quot;pvc-61958737-2a66-4e8b-bade-6e4017b8c6fd&quot; : volume attachment is being deleted</p>
<p>2022-10-10T13:04:07Z [Warning] Unable to attach or mount volumes: unmounted volumes=[volume-kswilliams2], unattached volumes=[volume-kswilliams2 shm-volume]: timed out waiting for the condition
Spawn failed: Timeout&quot;</p>
<p><a href=""https://i.stack.imgur.com/gJemt.png"" rel=""nofollow noreferrer"">Warning messages</a></p>
",13,0,<python><spawn><jupyterhub>,2022-10-10 12:59:25
73993715,Stop Jupyterlab scroll down in the code cell,"<p>It makes me really annoying that the code cell in the Jupyterlab often scrolls down so that I cannot scroll down to the cell that I want:
<a href=""https://i.stack.imgur.com/FFpRH.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/FFpRH.png"" alt=""enter image description here"" /></a></p>
<p>So is there a way to stop or shut-off this scrolling within code cell?</p>
<p>Thanks,</p>
",8,0,<jupyter-notebook><jupyter-lab><jupyterhub>,2022-10-08 01:06:03
73983664,How to upload an excel file to JupyterHUB,"<p>My client does not have the option to directly upload a file to Jupyterhub. I think there might be a way to upload an excel file to Jupyterhub via bitbucket repository by using edge note (putty) but don't know how.</p>
<p>Can anyone tell me how to upload an excel file to Jupyterhub.</p>
",14,0,<git><putty><jupyterhub>,2022-10-07 07:16:54
73981099,Jupyter/Voila output to XLSX,"<p>I can use this code to sucessfully output a .csv file which I can open in Excel. When I try to change the file type to .xlsx and use pd.to_excel() I cannot open the file in Excel as it says unrecognisable format:</p>
<pre><code>
import ipywidgets as widgets
import pandas as pd
from IPython import display
from jupyter.helpers import download_dataframe

download_output=widgets.Output()
download_output.clear_output()
display.display(download_output)
#file_name=&quot;test.csv&quot;
file_name=&quot;test.xlsx&quot;
df=pd.DataFrame({&quot;a&quot;,[1,2,3],&quot;b&quot;:[4,5,6]})
#df.to_csv(file_name)
df.to_excel(file_name)
download_link=download_dataframe(df,filename=file_name,title=file_name,return_link=True)
with download_output:
    display.display(download_link)



</code></pre>
<p>Any idea where I go wrong as I would like to output a .xlsx file?</p>
<p>Many thanks.</p>
",14,0,<python><dataframe><jupyter><ipywidgets><voila>,2022-10-07 00:07:24
73979934,"Link tag, <a href =""ipaddress""></a> does not open an external IP address","<p>I have this simple HTML file with a link tag that has an IP address as an address(the address is changed for security reasons). The IP address is the address of my JupyterHub server's HTTP proxy.</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-html lang-html prettyprint-override""><code>    &lt;html&gt;
    &lt;body&gt;
    &lt;a href=""http://22.222.22.20/"" target=""_blank""&gt;Link&lt;/a&gt;
    &lt;/body&gt;
    &lt;/html&gt;</code></pre>
</div>
</div>
</p>
<p>But this link tag takes me nowhere it does not even open a new tab, however, if I put &quot;https.://www.google.com&quot; it open google. what is the solution?</p>
",42,0,<javascript><html><reactjs><web><jupyterhub>,2022-10-06 20:56:08
73972010,Voila not clearing output/dispalying new output,"<p>I am trying to get an ipywidget button to change colour when clicked. I figured a way to do it as below</p>
<pre><code>import ipywidgets as ipw
from ipywidgets import *
from IPython.display import display, HTML, clear_output
from IPython.display import display, HTML

pdf_btn = ipw.Button(description = 'Run PDF',button_style = 'danger', 
layout=Layout(width='150px', height='30px'))
new_btn = ipw.Button(description = 'PDF done',button_style = 'success', 
layout=Layout(width='150px', height='30px'))

HBox = ipw.HBox([pdf_btn])
HBox1 = ipw.HBox([new_btn])

def clear(b):
    clear_output()
    display(HBox1)

pdf_btn.on_click(clear)

display(HBox)
</code></pre>
<p>When inputting this code in Jupyter Notebook and rendering through Voila nothing happens.</p>
<p>Any ideas why ? And any suggestions ?</p>
",36,0,<jupyter><ipywidgets><voila>,2022-10-06 10:04:16
73957447,I want it to save. it is supposed to be disabled and shouldn't change but it changes,"<p><a href=""https://i.stack.imgur.com/0dfbz.png"" rel=""nofollow noreferrer"">I clicked the first one</a></p>
<p><a href=""https://i.stack.imgur.com/qIpSn.png"" rel=""nofollow noreferrer"">then i clicked the second one but they are not staying the same second is correct but the first is empty</a></p>
<p>the widgets were changing when I clicked the other button the first button was resetting to normal</p>
<pre><code>from ipywidgets import *
from IPython.display import *
</code></pre>
<p>the Output function was not doing its job</p>
<pre><code>out = Output()
b1 = Button()
b1.style.button_color = 'black'
b2 = Button()
b2.style.button_color = 'black'
b3 = Button()
b3.style.button_color = 'black'
b4 = Button()
b4.style.button_color = 'black'
b5 = Button()
b5.style.button_color = 'black'
b6 = Button()
b6.style.button_color = 'black'
b7 = Button()
b7.style.button_color = 'black'
b8 = Button()
b8.style.button_color = 'black'
b9 = Button()
b9.style.button_color = 'black'
board = HBox([VBox([b1,b2,b3]),VBox([b4,b5,b6]),VBox([b7,b8,b9])])

user1name = Text()
user2name = Text()

user1turn = widgets.Text(value=&quot;turn&quot;,description=user1name.value+':',disabled=False)
user2turn = widgets.Text(value=&quot;&quot;,description=user1name.value+':',disabled=False)

user1 = &quot;turn&quot;
user2 = &quot;&quot;
userturn = 1
</code></pre>
<p>I was making tic tac toe but I came across a problem</p>
<pre><code>def u1nc(self):
    out.clear_output()
    with out:
        print(&quot;enter ❌ player's name:&quot;)
        display(user1name)
def onsumbitu1(self):
    out.clear_output()
    user1name.disabled = True
    with out:
        print(&quot;enter ⭕ player's name:&quot;)
        display(user2name)
    
def onsubmitu2(self):
    out.clear_output()
    user2name.disabled = True
    with out:
        display(board)
def turnchooser(self):
    global userturn
    if userturn == 1:
        user2 = &quot;turn&quot;
        user1 = &quot;&quot;
        userturn = 2
    elif userturn == 2:
        user1 = &quot;turn&quot;
        user2 = &quot;&quot;
        userturn = 1
    else:
        out.clear_output
        print(&quot;game over&quot;)

def b1func(self):
    if userturn == 1:
        out.clear_output()
        b1 = Button(description='❌',disabled=True)
        b1.style.button_color = &quot;black&quot;
        board =HBox([VBox([b1,b2,b3]),VBox([b4,b5,b6]),VBox([b7,b8,b9])])
    with out:
        display(board)
    out
elif userturn == 2:
    b1 = Button(description='⭕',disabled=True)
    b1.style.button_color = 'black'
    board = HBox([VBox([b1,b2,b3]),VBox([b4,b5,b6]),VBox([b7,b8,b9])])
    with out:
        display(board)
    out
    
def b2func(self):
    if userturn == 1:
        out.clear_output()
        b2 = Button(description='❌',disabled=True)
        b2.style.button_color = &quot;black&quot;
        board = HBox([VBox([b1,b2,b3]),VBox([b4,b5,b6]),VBox([b7,b8,b9])])
        with out:
            display(board)
        out
    elif userturn == 2:
        out.clear_output()
        b2 = Button(description='⭕',disabled=True)
        b2.style.button_color = 'black'
        board =     HBox([VBox([b1,b2,b3]),VBox([b4,b5,b6]),VBox([b7,b8,b9])])
        with out:
            display(board)
        out
</code></pre>
<p>tic tac toe is not done yet</p>
<pre><code> user1name.on_submit(onsumbitu1)
 user2name.on_submit(onsubmitu2)
 
 out.on_displayed(u1nc)

 b1.on_click(b1func)
 b1.on_click(turnchooser)
 b2.on_click(b2func)
 b2.on_click(turnchooser)
</code></pre>
<p>It shouldn't change but it does</p>
<pre><code> out
</code></pre>
<p>There was no error code the widgets just were changing
it was not working the b1 and b2 were changing</p>
",31,-1,<python-3.x><user-interface><jupyter-notebook><widget><ipywidgets>,2022-10-05 08:03:49
73953899,Installing JupyterHub helm on EKS cluster: Additional property namespace is not allowed,"<p>I am following <a href=""https://z2jh.jupyter.org/en/latest/jupyterhub/installation.html"" rel=""nofollow noreferrer"">https://z2jh.jupyter.org/en/latest/jupyterhub/installation.html</a> to install Jupyterhub on my EKS cluster using CICD.
This repo is working fine for other deployments.</p>
<p>I have just downloaded helm charts and all the files from <a href=""https://jupyterhub.github.io/helm-chart/"" rel=""nofollow noreferrer"">https://jupyterhub.github.io/helm-chart/</a> and moved to my repo.
Just updated the secret in values.yaml, other than that everything is kept same.
After pushing my changes I am getting error in Jenkins logs as-</p>
<pre><code>history.go:56: [debug] getting history for release jupyterhub
install.go:173: [debug] Original chart version: &quot;&quot;
install.go:190: [debug] CHART PATH: /mnt/apps
    
Release &quot;jupyterhub&quot; does not exist. Installing it now.
Error: values don't meet the specifications of the schema(s) in the
following chart(s): jupyterhub:- (root): Additional property namespace is not allowed
</code></pre>
<p>I have validated the values.yaml by converting yaml to json and its valid.
Command which is running to install helm is -</p>
<blockquote>
<p>docker run -i -v
/devops/jenkins-agent-home/workspace/mnt/apps
-e AWS_ACCESS_KEY_ID -e AWS_SECRET_ACCESS_KEY -e AWS_SESSION_TOKEN -e AWS_DEFAULT_REGION=us-east-1 -e AWS_ACCOUNT=********** -e
ARTIFACTORY_USERNAME=********** -e ARTIFACTORY_PASSWORD=****
********.com/asy/-aws-tools/develop/aws-cli /bin/bash -c
'aws eks update-kubeconfig --name ***<strong>-us-e1 --region us-east-1;
helm history jupyterhub --max 20 --namespace ****-platform-ns; helm
lint . --namespace <strong><strong>-platform-ns --with-subcharts; helm upgrade
--install jupyterhub . -f ./values.yaml --set namespace=</strong></strong></strong>-platform-ns  --namespace ****-platform-ns --debug
--atomic --wait --timeout 10m</p>
</blockquote>
<p>converted some values to *</p>
<p>Has someone face this issue?</p>
",95,0,<amazon-web-services><amazon-eks><jupyterhub>,2022-10-04 21:44:17
73941612,ModuleNotFoundError: No module named 'jupyter_bokeh' BUT... My python enviroment has it installed. I even did pip install jupyter_bokeh,"<p>I am at my wits end. I'm trying to render a panel interact widget with some Python code, and it keeps giving me an error that bokeh doesn't exist.</p>
<p>The issue originally was that my panel interact widgets weren't being interactive. It would display a graph, but the widget wouldn't change the visual. I was making a moving slider object but as I used the slider data wouldn't change.</p>
<p>Someone told me to run this command in anaconda to fix it. So my widgets will be interactive.</p>
<p><code>conda install nb_conda_kernelsconda install python_en</code></p>
<p>So now when I run the Python cell in my notebook I get the no module bokeh error.</p>
<p>So I do an install of bokeh</p>
<p><code>pip install jupyter_bokeh</code></p>
<p>And I verify in my environment that bokeh exists.</p>
<p><code>conda list bokeh</code></p>
<p><a href=""https://i.stack.imgur.com/e4z9o.png"" rel=""nofollow noreferrer"">bokeh exists in environment</a></p>
<p>When that didn't work, I simply created a fresh new python environment and that also is giving me the same issue. bokeh exists but it errors saying it doesn't.</p>
",54,0,<jupyter-notebook><bokeh><panel><interactive><ipywidgets>,2022-10-03 23:06:51
73932704,Prophet gives me json output and it's really slow,"<p>I am working with Prophet on Python. I want to fit multiple Time Series with Prophet.
I don't know why but now (before all was good) when I call the .fit() method, Prophet's outputs
are the classic one with  cmdstanpy - INFO, but now I have also json files in output and it's slowing down a lot my work. Here is my code:</p>
<pre><code>### window_train = len(df)
train = pd.DataFrame()
from prophet.make_holidays import make_holidays_df
year_list = [2018,2019,2020,2021]
country_name = 'FR'
hol = make_holidays_df(year_list, country_name)
hol['lower_window'] = -3
hol['upper_window'] = 3


forecasts = pd.DataFrame([])
df_forecast = {}
param_grid = {  
   'changepoint_prior_scale': [0.04,0.05],
   'seasonality_prior_scale': [0.1,0.09],'seasonality_mode':['additive','multiplicative'], 'yearly_seasonality':[4,5]
    

   }
# param_grid = {'seasonality_mode':['additive']}

# Generate all combinations of parameters
all_params = [dict(zip(param_grid.keys(), v)) for v in itertools.product(*param_grid.values())]
rmses = []  # Store the RMSEs for each params here
cutoffs = pd.to_datetime(['2020-02-15', '2020-08-15'])

# Use cross validation to evaluate all parameters
# Make forecasts made outside of package. Could be any modeling technique.
for col in tqdm(range(len(store_departement))):
    train['y'] =dic_target[store_departement[col]]['y']
    train['ds'] =dic_target[store_departement[col]]['ds']
    for params in all_params:
        m = Prophet(**params,uncertainty_samples= None,holidays=hol)
        with supress_stdout_stderr():
            
            m = m.fit(train[['y','ds']])  # Fit model with given params
        df_cv = cross_validation(m, cutoffs=cutoffs, horizon='5W')
        df_p = performance_metrics(df_cv, rolling_window=1)
        rmses.append(df_p['rmse'].values[0])
        # Find the best parameters
    
    best_params = all_params[np.argmin(rmses)]    
    rmses = []
    m = Prophet(**best_params,uncertainty_samples= None,holidays=hol)
    m.add_country_holidays(country_name='FR')
    with supress_stdout_stderr():

        m.fit(train[['y','ds']])
    future = m.make_future_dataframe(0)
    forecast = m.predict(future)
    df_forecast[store_departement[col]]= forecast
    train = train.drop(['y'],axis =1)
    

</code></pre>
<p>And here is an example of an output:</p>
<pre><code>  0%|          | 0/13 [00:00&lt;?, ?it/s]08:03:14 - cmdstanpy - INFO - Chain [1] start processing
08:03:14 - cmdstanpy - INFO - Chain [1] done processing
Filter...
n:0
total:2
elapsed:0.027224302291870117
ncols:null
nrows:null
prefix:&quot;&quot;
ascii:false
unit:&quot;it&quot;
unit_scale:false
rate:null
bar_format:null
postfix:null
unit_divisor:1000
initial:0
colour:null
</code></pre>
<p>Does somebody has a solution ? Thx. I'm working on JupyterHub btw.</p>
",28,0,<python><json><jupyterhub><facebook-prophet><prophet>,2022-10-03 08:14:11
73932562,How to re-open running jupyter notebook on jupyterhub-server?,"<p>I installed a jupyterhub-server (the littlest jupyterhub, <a href=""https://tljh.jupyter.org/en/latest/install/custom-server.html"" rel=""nofollow noreferrer"">using this guide</a>) on a VPS (ubuntu 18.04) which is generally working. However, I am wondering if it is possible to re-open a running notebook, meaning that I get all the outputs of the current run after restarting or switching the computer.
If I close a notebook in browser it does keep running (CPU usage keeps the same and a file I am writing keeps getting updated), but if I re-open it I don't get the outputs of the currently running cell.</p>
<p>Any idea on what I could do? Is it even possible to re-open a notebook like that?</p>
",32,0,<jupyter-notebook><jupyterhub>,2022-10-03 07:58:05
73918495,Mixing Plotly/ipywidgets to modify the x axis of a scatter plot,"<p>I want to mix Plotly with a dropdown widget, the idea being to make some scatter plots and modify the x axis through the widget. Let's say that my dataset is the following :</p>
<pre><code>import sea born as sns
import plotly.graph_objects as go
import pandas as pd
import ipywidgets as widgets
import seaborn as sns
df = sns.load_dataset('diamonds')
</code></pre>
<p>And my target is the column <code>carat</code>. What I tried so far is to create the scatters, include them into the widget and display it :</p>
<pre><code>predictors = df.columns.tolist()
predictors.remove(&quot;carat&quot;)
target = df[&quot;carat&quot;]

data = []
for predictor in predictors:
    chart = go.Scatter(x = df[predictor],
                  y = target,
                  mode=&quot;markers&quot;)
    fig = go.Figure(data=chart)
    data.append((predictor,fig))

widgets.Dropdown(options = [item[0] for item in data],
                       value = [item[0] for item in data][0],
                       description = &quot;Select :&quot;,
                       disabled=False)
</code></pre>
<p>Yet, I am new to ipywidgets/plotly and don't understand what is not working here, since it displays the widget but not the charts even when I change its value. How can I modify the code so that it finally displays the charts when selecting a predictor ?</p>
",45,1,<python><plotly><ipywidgets>,2022-10-01 13:02:27
73916375,How can I handle with Ipywidget button and interactive,"<p><a href=""https://i.stack.imgur.com/QEToQ.png"" rel=""nofollow noreferrer"">I'd like to create a button and a integer slider so that when I choose number thru slider (to set the quantity of Aisles) and hit the &quot;Execute&quot; button, it will plot a tree-map. Then, I choose the other number on slider and hit the button again, it will replot a tree-map with that slider number. However, my code just works at the first time. At the second time, it automatically replot when I change the number on slider without the button hit. Please help me!!!</a></p>
",69,-1,<ipywidgets>,2022-10-01 06:53:12
73913431,"Error when executing R kernel in Jupyter with nbclient package (Error in parse(text = x, srcfile = src): <text>:1:1: unexpected input)","<p>Using the nbclient package to remotely execute an R kernel, the package works fine with the python kernels (3.7/3.9) however gives this error when attempting the run an R kernel.</p>
<p>The following is the error :-</p>
<pre><code>  File &quot;/code/proj/spawner/execution_backend/bivalve.py&quot;, line 160, in _execute
    self._results = self._notebook_client.execute(reset_kc=True, env=env)
  File &quot;/build/venv/lib64/python3.6/site-packages/nbclient/util.py&quot;, line 75, in wrapped
    return just_run(coro(*args, **kwargs))
  File &quot;/build/venv/lib64/python3.6/site-packages/nbclient/util.py&quot;, line 54, in just_run
    return loop.run_until_complete(coro)
  File &quot;/usr/lib64/python3.6/asyncio/base_events.py&quot;, line 484, in run_until_complete
    return future.result()
  File &quot;/build/venv/lib64/python3.6/site-packages/nbclient/client.py&quot;, line 564, in async_execute
    cell, index, execution_count=self.code_cells_executed + 1
  File &quot;/build/venv/lib64/python3.6/site-packages/nbclient/client.py&quot;, line 839, in async_execute_cell
    self._check_raise_for_error(cell, cell_index, exec_reply)
  File &quot;/build/venv/lib64/python3.6/site-packages/nbclient/client.py&quot;, line 755, in _check_raise_for_error
    raise CellExecutionError.from_cell_and_msg(cell, exec_reply['content'])
nbclient.exceptions.CellExecutionError: An error occurred while executing the following cell:
------------------
__nbparams__ = {&quot;__meta__&quot;: {&quot;lookup_service&quot;: {&quot;data&quot;: &quot;{\&quot;timestamp\&quot;: \&quot;2022-09-30T14:46:18.491258\&quot;, \&quot;user\&quot;: \&quot;vkamat\&quot;, \&quot;notebook\&quot;: 2431}&quot;, &quot;signature&quot;: &quot;630e510e60a286a17881fc513e54e54c&quot;}}}
globals().update(__nbparams__)
------------------

Error in parse(text = x, srcfile = src): &lt;text&gt;:1:1: unexpected input
1: _
    ^
Traceback:

ERROR: Error in parse(text = x, srcfile = src): &lt;text&gt;:1:1: unexpected input
1: _
```    ^

</code></pre>
",44,1,<python><r><jupyter><jupyter-irkernel>,2022-09-30 19:53:09
73893598,How to increase font size or change font style of description in togglebutton widget,"<pre class=""lang-py prettyprint-override""><code>widgets.ToggleButtons(options=[&quot;No&quot;,&quot;Yes&quot;], value=&quot;Yes&quot;,description=&quot;values?&quot;,)
</code></pre>
",64,0,<python><ipywidgets>,2022-09-29 09:56:38
73889411,How to open toc automatically when open a .ipynb file in jupyterlab?,"<p>When I open a file in jupyterlab. The left sidebar will disappear the file browser.
<a href=""https://i.stack.imgur.com/lcXAC.png"" rel=""nofollow noreferrer"">file browser</a></p>
<p>But I want to open the toc.
I try to write a javascript to simulate click the toc button in sidebar, but it doesn't work.
There are any configuration or script can open toc?</p>
",20,2,<jupyter-lab><jupyterhub><tableofcontents>,2022-09-29 01:40:10
73887829,"The limit could be changed via ""languageserver.link_file_size_limit"" option","<p>When I try to read in a csv file using</p>
<pre><code>df&lt;-read.csv(&quot;Regression_train.csv&quot;)
</code></pre>
<p>File size (17.6 Mb) exceeds the limit (16 Mb).
The limit could be changed via &quot;languageserver.link_file_size_limit&quot; option.</p>
<p>How do I do that?</p>
",17,1,<r><visual-studio-code><jupyter-irkernel>,2022-09-28 21:10:57
73881543,How to include string after number in IntSlider?,"<p>I wanted to increase the size of the description of my variables and also include the measurement units after the value as indicated in this <a href=""https://i.stack.imgur.com/xjY7S.png"" rel=""nofollow noreferrer"">figure</a>.</p>
<p>My code:</p>
<pre><code>%matplotlib inline
from ipywidgets import interactive
import matplotlib.pyplot as plt
import numpy as np

a = widgets.IntSlider(description='Força', value=500, min=1, max=1e3, step=1)
b = widgets.IntSlider(description='Comprimento', value=100, min=1, max=100, step=1)
c = widgets.IntSlider(description='Módulo de Elasticidade', value=200, min=1, max=1e3, step=1)
d = widgets.IntSlider(description='Altura', value=100, min=1, max=100, step=1)
e = widgets.IntSlider(description='Espessura', value=100, min=1, max=100, step=1)

def delta(Forca, Comprimento, E, Altura, Espessura): 
    Area = Espessura*Altura
    deslocamento = (Comprimento*Forca*1e2)/(E*Area)
    print(f'\nδ = {(deslocamento/1e6):.4}mm\n')
    x1 = np.array([0, 0, Comprimento, Comprimento, 0])
    y1 = np.array([-Altura/2, Altura/2, Altura/2, -Altura/2, -Altura/2])
    x2 = np.array([Comprimento, Comprimento, Comprimento+deslocamento, Comprimento+deslocamento, Comprimento])    
    fig, ax = plt.subplots()   
    x3 = Comprimento+deslocamento
    x_direcao = x3 + Forca
    ax.quiver(x3, 0, x_direcao, 0, color=&quot;red&quot;)
    plt.plot(120, 55, '-', -10, -55,'-',x1, y1, &quot;k-&quot;,x2, y1,&quot;r--&quot; )
    plt.show()

out = widgets.interactive_output(delta, {'Forca': a, 'Comprimento': b, 'E': c, 'Altura' : d, 'Espessura' : e})
widgets.VBox([widgets.VBox([a, b, c, d, e]), out])
</code></pre>
",29,1,<python><matplotlib><widget><visualization><ipywidgets>,2022-09-28 12:34:50
73859852,Set height of v.TexaArea of ipyvuetify to a single row and expandable,"<p>The default height of v.Textarea seems to be ~8 rows. In order to save space in UI, can we reduce it to a single row, and make it expandable in height upon users typing.</p>
<pre class=""lang-py prettyprint-override""><code>import ipyvuetify as v
my_text_box = v.Textarea(
    label= &quot;My note&quot;,
    background_color=&quot;#FAFABF&quot;,
    v_model= 'I have typed some text')

my_text_box
</code></pre>
<p><a href=""https://i.stack.imgur.com/XQJgu.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/XQJgu.png"" alt=""enter image description here"" /></a></p>
",15,0,<ipywidgets><ipyvuetify>,2022-09-26 20:55:36
73853314,Jupyter Notebook: Float div within cell,"<p><strong>Updated Wording</strong></p>
<p>I have a Jupyter notebook which is displaying a mesh of <code>ipywidgets</code>. I would like the &quot;control panel&quot; on the left hand side to be floating so it is always visible. I have tried setting the widget as <code>position: absolute</code> with the parent as <code>position: relative</code> but it does not change anything.</p>
<p>Below is an example of what I am showing.</p>
<p><a href=""https://i.stack.imgur.com/KDXrg.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/KDXrg.png"" alt=""Notebook"" /></a></p>
<pre class=""lang-py prettyprint-override""><code>import ipywidgets
import urllib.request

# Download a sample image
imgURL = &quot;http://site.meishij.net/r/58/25/3568808/a3568808_142682562777944.jpg&quot;
urllib.request.urlretrieve(imgURL, &quot;example_image.jpg&quot;)

# Create 8 widgets with the same image
file = open(&quot;example_image.jpg&quot;, &quot;rb&quot;)
image = file.read()

view1 = ipywidgets.Image(value=image, format='jpeg')
view2 = ipywidgets.Image(value=image, format='jpeg')
view3 = ipywidgets.Image(value=image, format='jpeg')
view4 = ipywidgets.Image(value=image, format='jpeg')
view5 = ipywidgets.Image(value=image, format='jpeg')
view6 = ipywidgets.Image(value=image, format='jpeg')
view7 = ipywidgets.Image(value=image, format='jpeg')
view8 = ipywidgets.Image(value=image, format='jpeg')

# Group them together
viewBox1 = ipywidgets.HBox(children=[view1, view2])
viewBox2 = ipywidgets.HBox(children=[view3, view4])
viewBox3 = ipywidgets.HBox(children=[view5, view6])
viewBox4 = ipywidgets.HBox(children=[view7, view8])
renderPane = ipywidgets.VBox(children=[viewBox1, viewBox2, viewBox3, viewBox4]) 

# Create a control panel
dropdown1 = ipywidgets.Dropdown(options=['opt1', 'opt2'], value='opt1', 
                                description='Choose an opt:', 
                                disabled=False)
dropdown2 = ipywidgets.Dropdown(options=['opt3', 'opt4'], value='opt3', 
                                description='Choose an opt:', 
                                disabled=False)

controlPane = ipywidgets.VBox([dropdown1, dropdown2])

# Update the layout (CSS)
renderPane.layout  = ipywidgets.Layout(flex='8 1 0%', width='auto') 
controlPane.layout = ipywidgets.Layout(flex='2 1 0%', width='auto', position='absolute', top='1em', right='1em')

# Put in the one widget
widget=ipywidgets.HBox([renderPane, controlPane], 
                        layout=ipywidgets.Layout(align_items='stretch', width='100%', position='relative'))

display(widget)
</code></pre>
<p><strong>Original Wording</strong></p>
<p>Within my Jupyter notebook I have a cell which is showing some widgets (<code>ipwidgets</code>). Within the left hand side there are a number of images etc, and on the right I have a 'control panel' used to change parameters.</p>
<p>I would like for this control panel (<code>ipywidgets.VBox</code>) to float so that if I scroll down inside the cell the panel is always visible.</p>
<p>I have tried to use <code>css</code> like</p>
<pre><code>#float-vbox {
    position: fixed;
    top: 1em;
    right: 1em;
}
</code></pre>
<p>within the code <code>self.controls.layout   = ipywidgets.Layout(flex='2 1 0%', width='auto', position='fixed', top='1em', right='1em')</code>.</p>
<p>However this floats it on the whole page. Is there a way to float within the cell only?</p>
",27,0,<css><jupyter-notebook><ipywidgets>,2022-09-26 11:11:07
73827835,--ip=0.0.0.0 option is not applied to jupyter lab command in docker,"<p>In <code>/etc/jupyter/jupyter_server_config.py</code> I have the setting <code>c.ServerApp.ip = &quot;0.0.0.0&quot;</code>
and even I use <code>--ip=0.0.0.0</code> in the command as <code>jupyter lab --ip=&quot;0.0.0.0&quot; --debug --config=dir=/etc/jupyter</code></p>
<p>But the server runs always on 127.0.0.1, not 0.0.0.0:</p>
<pre><code>jovyan@ac08ae367d58:~$ jupyter lab --ip=&quot;0.0.0.0&quot; --debug --config=dir=/etc/jupyter                                                                                                                                                                                            
[D 2022-09-22 23:25:57.952 ServerApp] Searching ['/home/jovyan', '/home/jovyan/.jupyter', '/home/jovyan/.local/etc/jupyter', '/usr/local/etc/jupyter', '/etc/jupyter'] for config files                                                                                        
[D 2022-09-22 23:25:57.952 ServerApp] Looking for jupyter_config in /etc/jupyter                                                                                                                                                                                               
[D 2022-09-22 23:25:57.952 ServerApp] Looking for jupyter_config in /usr/local/etc/jupyter                                                                                                                                                                                     
[D 2022-09-22 23:25:57.952 ServerApp] Looking for jupyter_config in /home/jovyan/.local/etc/jupyter                                                                                                                                                                            
[D 2022-09-22 23:25:57.953 ServerApp] Looking for jupyter_config in /home/jovyan/.jupyter                                                                                                                                                                                      
[D 2022-09-22 23:25:57.953 ServerApp] Looking for jupyter_config in /home/jovyan                                                                                                                                                                                               
[D 2022-09-22 23:25:57.955 ServerApp] Looking for jupyter in dir=/etc                                                                                                                                                                                                          
[D 2022-09-22 23:25:57.958 ServerApp] Paths used for configuration of jupyter_server_config:                                                                                                                                                                                   
        /etc/jupyter/jupyter_server_config.json                                                                                                                                                                                                                                
[D 2022-09-22 23:25:57.958 ServerApp] Paths used for configuration of jupyter_server_config:                                                                                                                                                                                   
        /usr/local/etc/jupyter/jupyter_server_config.d/jupyterlab.json                                                                                                                                                                                                         
        /usr/local/etc/jupyter/jupyter_server_config.d/nbclassic.json                                                                                                                                                                                                          
        /usr/local/etc/jupyter/jupyter_server_config.d/notebook_shim.json
        /usr/local/etc/jupyter/jupyter_server_config.json
[D 2022-09-22 23:25:57.959 ServerApp] Paths used for configuration of jupyter_server_config: 
        /home/jovyan/.local/etc/jupyter/jupyter_server_config.json
[D 2022-09-22 23:25:57.960 ServerApp] Paths used for configuration of jupyter_server_config: 
        /home/jovyan/.jupyter/jupyter_server_config.json
[D 2022-09-22 23:25:57.960 ServerApp] Paths used for configuration of jupyter_server_config: 
        /home/jovyan/jupyter_server_config.json
[D 2022-09-22 23:25:57.977 LabApp] Config changed: {'NotebookApp': {}, 'ServerApp': {'ip': '0.0.0.0', 'config_file': 'dir=/etc/jupyter', 'log_level': 'DEBUG', 'jpserver_extensions': &lt;LazyConfigValue {'update': {'nbclassic': True, 'notebook_shim': True}}&gt;}, 'ExtensionApp'
: {'log_level': 'DEBUG'}}
[I 2022-09-22 23:25:57.978 ServerApp] jupyterlab | extension was successfully linked.
[D 2022-09-22 23:25:57.990 NotebookApp] Config changed: {'NotebookApp': {}, 'ServerApp': {'ip': '0.0.0.0', 'config_file': 'dir=/etc/jupyter', 'log_level': 'DEBUG', 'jpserver_extensions': &lt;LazyConfigValue value={'jupyterlab': True, 'nbclassic': True, 'notebook_shim': True
}&gt;}, 'ExtensionApp': {'log_level': 'DEBUG'}}
[I 2022-09-22 23:25:57.991 ServerApp] nbclassic | extension was successfully linked.
[D 2022-09-22 23:25:58.260 ServerApp] Paths used for configuration of jupyter_notebook_config: 
        /home/jovyan/.jupyter/jupyter_notebook_config.json
[D 2022-09-22 23:25:58.261 ServerApp] Paths used for configuration of jupyter_notebook_config: 
        /etc/jupyter/jupyter_notebook_config.json
[D 2022-09-22 23:25:58.261 ServerApp] Paths used for configuration of jupyter_notebook_config: 
        /usr/local/etc/jupyter/jupyter_notebook_config.d/jupyterlab.json
        /usr/local/etc/jupyter/jupyter_notebook_config.json
[D 2022-09-22 23:25:58.262 ServerApp] Paths used for configuration of jupyter_notebook_config: 
        /home/jovyan/.local/etc/jupyter/jupyter_notebook_config.json
[D 2022-09-22 23:25:58.263 ServerApp] Paths used for configuration of jupyter_notebook_config: 
        /home/jovyan/.jupyter/jupyter_notebook_config.json
[I 2022-09-22 23:25:58.263 ServerApp] notebook_shim | extension was successfully linked.
[D 2022-09-22 23:25:58.265 ServerApp] Config changed: {'ExtensionApp': {'log_level': 'DEBUG'}, 'NotebookApp': {}, 'ServerApp': {'ip': '0.0.0.0', 'config_file': 'dir=/etc/jupyter', 'log_level': 'DEBUG', 'jpserver_extensions': &lt;LazyConfigValue value={'jupyterlab': True, 'nbclassic': True, 'notebook_shim': True}&gt;}}
[I 2022-09-22 23:25:58.282 ServerApp] notebook_shim | extension was successfully loaded.
[I 2022-09-22 23:25:58.283 LabApp] JupyterLab extension loaded from /usr/local/lib/python3.10/site-packages/jupyterlab
[I 2022-09-22 23:25:58.283 LabApp] JupyterLab application directory is /usr/local/share/jupyter/lab
[I 2022-09-22 23:25:58.286 ServerApp] jupyterlab | extension was successfully loaded.
[I 2022-09-22 23:25:58.289 ServerApp] nbclassic | extension was successfully loaded.
[I 2022-09-22 23:25:58.290 ServerApp] Serving notebooks from local directory: /home/jovyan
[I 2022-09-22 23:25:58.290 ServerApp] Jupyter Server 1.18.1 is running at:
[I 2022-09-22 23:25:58.290 ServerApp] http://ac08ae367d58:8888/lab?token=e2e2ac0e0ccf1f2c0a72b5d625e2f1ba3ada18d3bc177df5
[I 2022-09-22 23:25:58.290 ServerApp]  or http://127.0.0.1:8888/lab?token=e2e2ac0e0ccf1f2c0a72b5d625e2f1ba3ada18d3bc177df5
[I 2022-09-22 23:25:58.290 ServerApp] Use Control-C to stop this server and shut down all kernels (twice to skip confirmation).
[W 2022-09-22 23:25:58.295 ServerApp] No web browser found: could not locate runnable browser.
[C 2022-09-22 23:25:58.295 ServerApp] 
    
    To access the server, open this file in a browser:
        file:///home/jovyan/.local/share/jupyter/runtime/jpserver-252-open.html
    Or copy and paste one of these URLs:
        http://ac08ae367d58:8888/lab?token=e2e2ac0e0ccf1f2c0a72b5d625e2f1ba3ada18d3bc177df5
     or http://127.0.0.1:8888/lab?token=e2e2ac0e0ccf1f2c0a72b5d625e2f1ba3ada18d3bc177df5
[D 2022-09-22 23:26:03.300 ServerApp] 200 GET /api (127.0.0.1) 0.84ms
^C[I 2022-09-22 23:26:07.953 ServerApp] interrupted
Serving notebooks from local directory: /home/jovyan
0 active kernels
Jupyter Server 1.18.1 is running at:
http://ac08ae367d58:8888/lab?token=e2e2ac0e0ccf1f2c0a72b5d625e2f1ba3ada18d3bc177df5
 or http://127.0.0.1:8888/lab?token=e2e2ac0e0ccf1f2c0a72b5d625e2f1ba3ada18d3bc177df5
</code></pre>
<p>How can I run the jupyter lab with ip 0.0.0.0? This is docker image to be used in JupyterHub, and in the hub the phenomenon is not change.</p>
<p>The problem is, proxy is not working on the 127.0.0.1.
Any comment will be helpful for me. Thank you so much!</p>
",38,0,<ip><jupyter><jupyterhub>,2022-09-23 12:36:37
73807660,Process choices from Jupyter Widgets within a function,"<p>I am writing a function to allow the user the select from a series of options and then return values based on these selections. I am using <code>Jupyter Widgets</code> for the selection and running in JupyterLab. My selection function works fine on its own, but once it has been embedded in another function, it stops to working. Example:</p>
<pre class=""lang-py prettyprint-override""><code>import ipywidgets as widgets

def get_choices():    
    selections = [
    widgets.ToggleButtons(
        options=['Not Included', 'Included', 'Favorite'],
        description=f&quot;{choice}&quot;,
        disabled=False,
        style= {'description_width': '300px'}
    )
    for choice in ['choice1', 'choice2', 'choice3']
   ]
    
    for e in selections:
        display(e)

    ## waiting for user input
    print(&quot;\n\nPRESS ENTER WHEN FINISHED&quot;)
    input()
    
    return wiki_edges_select

choices = get_choices()

print(choices)
&gt;&gt; [ToggleButtons(description='choice1', index=1, options=('Not Included', 'Included', 'Favorite'), style=ToggleButtonsStyle(description_width='300px'), value='Included'),
 ToggleButtons(description='choice2', index=1, options=('Not Included', 'Included', 'Favorite'), style=ToggleButtonsStyle(description_width='300px'), value='Included'),
 ToggleButtons(description='choice3', index=2, options=('Not Included', 'Included', 'Favorite'), style=ToggleButtonsStyle(description_width='300px'), value='Favorite')]
</code></pre>
<p>(Note that the values are <code>Included</code>, <code>Included</code>, <code>Favorite</code>). However, when embedded in a wrapper function:</p>
<pre><code>def get_choices_and_process():
    choices = get_choices()
    print(choices)

get_choices_and_process()
&gt;&gt; [ToggleButtons(description='choice1', options=('Not Included', 'Included', 'Favorite'), style=ToggleButtonsStyle(description_width='300px'), value='Not Included'), ToggleButtons(description='choice2', options=('Not Included', 'Included', 'Favorite'), style=ToggleButtonsStyle(description_width='300px'), value='Not Included'), ToggleButtons(description='choice3', options=('Not Included', 'Included', 'Favorite'), style=ToggleButtonsStyle(description_width='300px'), value='Not Included')]
</code></pre>
<p>(Note that the values are <code>Not Included</code>, <code>Not Included</code>, <code>Not Included</code>)</p>
<p>I would like to have the <code>choices</code> returned within the <code>get_choices_and_process()</code> function reflect the user's selections as they do when <code>get_choices()</code> is called outside of the wrapper. How can I make this work?</p>
",30,0,<python-3.x><jupyter-lab><ipywidgets>,2022-09-21 22:47:00
73794825,raising ValueError in a for loop,"<p>I am new to coding so bear with me. I am making a function that counts how many trues are in a list that is later defined. I also need a ValueError for incorrect input types. It also has to be a for loop. Please tell me what I am going wrong.</p>
<pre><code>
def only_true(bool_list):
    trues_count = 0
    for value in bool_list:
        if value == int or value == float:
            if value == True:
                trues_count = trues_count + 1   
        raise ValueError(&quot;values in list must be True or False&quot;)
    return trues_count

</code></pre>
",38,0,<python><jupyter-notebook><jupyterhub>,2022-09-21 02:43:29
73788186,Use ipywidget and dataframe in map folium,"<p>I make a map display with folium.map().
From a dataframe I have a list of tuples containing my latitude and longitude.
I make a display with ipywidget of the points on my map without problem.
However, I would like that when a new point is found on the map (for example a point which was not present when my interact was at 1 but which appears in 2) this point is put in a different color than the others .
the ideal would be that the point returns to the initial color (blue here in my code) once it is displayed from the x before.
I can't because it depends on my interact and I don't know how to use it. Can you help me ?</p>
<pre><code>@widgets.interact(x=(0, len(df_reg)-1))
def f(x=0):
  map_complete = folium.Map( location=(45, 0), zoom_start=3 )
  df_map = df_reg[x][(df_reg[x].region == 'AR') &amp; (df_reg[x].data_type == 'MO')]
  points = [(i,j) for i,j in zip(df_map['geospatial_lat_min'],df_map['geospatial_lon_min'])]
  pf = [(i) for i in zip(df_map['platform_code'])]
  i=0
  for i in range(len(df_map)):
    folium.CircleMarker(points[i], radius=2, weight=1, color = 'blue',fill_color= 'blue', fill_opacity=1, tooltip = pf[i]).add_to(map_complete)
  display(map_complete)
</code></pre>
<p><a href=""https://i.stack.imgur.com/LuZ5g.png"" rel=""nofollow noreferrer"">points for interact x=0</a></p>
",22,0,<python><dataframe><widget><folium><ipywidgets>,2022-09-20 14:15:28
73786503,Integration of Jupyter Notebook with Keycloak,"<p>Is it possible to use Keycloak with Jupyter Notebook to sign in users? I am currently using signing in to Jupyter Notebooks with a password, for which I used the configuration file, but I need to switch to Keycloak.</p>
<p>I know that it is possible to integrate JupyterHub and Keycloak, and I did it using the existing instructions in the documentation. Are there some instructions for Jupyter Notebook too?</p>
<p>Thank you in advance!</p>
",27,0,<jupyter-notebook><jupyter><keycloak><jupyterhub><keycloak-services>,2022-09-20 12:11:06
73779028,Gee model crashes kernel in Jupyter R,"<p>I have been trying to build a population average model with binary outcomes and some factors. The estimation sample has about 17000-31000 individuals with negative outcomes each wave and about 2000-7000 with positive outcomes each wave.
The model building code is:</p>
<pre><code>m2_binary_temp &lt;- gee::gee(binary ~ var1 + var2 + var3 +  var4 + var5 + var6 + 
                        as.numeric(var7) + var8 + var9,
                        data = dd,
                        maxiter = 25,
                        family = binomial(link = &quot;logit&quot;),
                        id = person_id,
                        corstr = &quot;exchangeable&quot;,
                        scale.fix = TRUE,
                        scale.value = 1)

summary(m2_gad_temp)
</code></pre>
<p>When I ran with only the exposure variable, the model ran just fine, but with all variables in, the kernel crashed. I tried configuring the maximum iterations but didn't help.</p>
<p>Could it be the data causing the issue, or is it more likely my modeling commands?</p>
",18,0,<r><glm><jupyter-irkernel><libgee>,2022-09-19 20:37:23
73771057,ipywidgets: How to make a double slider widget that accepts a callback for its observe method,"<p>I am trying to create an object that behaves like an <code>ipywidget</code>, but contains two sliders instead of a single one. This object would have a <code>value</code> property that would return a <code>dict</code> of values (one entry for each slider).</p>
<p>I would also like this widget to be embeddable inside other container widgets (<code>VBox</code>, <code>HBox</code>).</p>
<p>I can create a custom class which contains two sliders, and looks like a widget by giving it the proper <code>_repr_mimebundle_</code>:</p>
<pre class=""lang-py prettyprint-override""><code>import ipywidgets as ipw

class SliderWidget:
    def __init__(self):
        self._sliders = {name: ipw.IntSlider(description=name) for name in ('slider1', 'slider2')}

    def observe(self, callback, **kwargs):
        for sl in self._sliders.values():
            sl.observe(callback, **kwargs)

    @property
    def value(self):
        return {name: sl.value for name, sl in self._sliders.items()}

    @value.setter
    def value(self, val):
        for name, v in val.items():
            self._sliders[name].value = v
    
    def _repr_mimebundle_(self, include=None, exclude=None):
        return ipw.VBox(list(self._sliders.values()))._repr_mimebundle_(include=include, exclude=exclude)
</code></pre>
<p>which then looks as it should</p>
<p><a href=""https://i.stack.imgur.com/hNHeo.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/hNHeo.png"" alt=""enter image description here"" /></a></p>
<p>and also works well with the <code>observe</code> method</p>
<pre class=""lang-py prettyprint-override""><code>def func(change):
    print(change)

sw.observe(func, names='value')
</code></pre>
<p>However, it cannot be embedded in other widgets, because it is not a Widget itself:</p>
<pre class=""lang-py prettyprint-override""><code>ipw.HBox([sw, sw])

TraitError: The 'children' trait of a HBox instance contains an Instance of a TypedTuple which expected a Widget, not the SliderWidget at '0x7fbb10757b20'.
</code></pre>
<p>To fix this, I have tried to inherit from <code>VBox</code>, which works nicely</p>
<pre class=""lang-py prettyprint-override""><code>class SliderWidget(ipw.VBox):
    def __init__(self):
        self._sliders = {name: ipw.IntSlider(description=name) for name in ('slider1', 'slider2')}
        super().__init__(list(self._sliders.values()))

    # def observe(self, callback, **kwargs):
    #     for sl in self._sliders.values():
    #         sl.observe(callback, **kwargs)

    @property
    def value(self):
        return {name: sl.value for name, sl in self._sliders.items()}

    @value.setter
    def value(self, val):
        for name, v in val.items():
            self._sliders[name].value = v
</code></pre>
<p>and can be embedded inside other widgets
<a href=""https://i.stack.imgur.com/GzljQ.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/GzljQ.png"" alt=""enter image description here"" /></a></p>
<p>but unfortunately, I cannot seem to get the <code>observe</code> to work.
If I uncomment the overriding of the <code>observe</code> method, I get this error upon creating the widget:</p>
<pre><code>---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
Input In [68], in &lt;cell line: 1&gt;()
----&gt; 1 sw = SliderWidget()
      2 sw

File ~/software/miniconda3/envs/mini/lib/python3.9/site-packages/traitlets/traitlets.py:1183, in HasDescriptors.__new__(*args, **kwargs)
   1181 else:
   1182     inst = new_meth(cls, *args, **kwargs)
-&gt; 1183 inst.setup_instance(*args, **kwargs)
   1184 return inst

File ~/software/miniconda3/envs/mini/lib/python3.9/site-packages/traitlets/traitlets.py:1224, in HasTraits.setup_instance(*args, **kwargs)
   1222 self._trait_validators = {}
   1223 self._cross_validation_lock = False
-&gt; 1224 super(HasTraits, self).setup_instance(*args, **kwargs)

File ~/software/miniconda3/envs/mini/lib/python3.9/site-packages/traitlets/traitlets.py:1206, in HasDescriptors.setup_instance(*args, **kwargs)
   1204 else:
   1205     if isinstance(value, BaseDescriptor):
-&gt; 1206         value.instance_init(self)

File ~/software/miniconda3/envs/mini/lib/python3.9/site-packages/traitlets/traitlets.py:1148, in ObserveHandler.instance_init(self, inst)
   1147 def instance_init(self, inst):
-&gt; 1148     inst.observe(self, self.trait_names, type=self.type)

TypeError: observe() takes 2 positional arguments but 3 were given
</code></pre>
",41,0,<python><ipywidgets>,2022-09-19 09:09:51
73770630,Kubernetes - After server reboot - Error getting node err=node … not found,"<p>I had restarted the server (master node) and I get since then the following message when I want to use kubelet:<br />
<em>The connection to the server YYY.YYY.YYY.YY:6443 was refused - did you specify the right host or port?</em></p>
<p>In the log of kubelet it says “Error getting node” err=“node &quot;jupyterhub-test&quot; not found”. jupyterhub-test is the master node.</p>
<p>The only things I always found while researching, I already tested.</p>
<ul>
<li>restart kubelet</li>
<li>restart docker</li>
<li>swapoff -a</li>
</ul>
<p>I can’t figure out from the log of kubelet where exactly the problem is and I hope you can help me.</p>
<p><strong>Cluster information:</strong><br />
Kubernetes version: Client Version: version.Info{Major:“1”, Minor:“24”, GitVersion:“v1.24.1”, GitCommit:“3ddd0f45aa91e2f30c70734b175631bec5b5825a”, GitTreeState:“clean”, BuildDate:“2022-05-24T12:26:19Z”, GoVersion:“go1.18.2”, Compiler:“gc”, Platform:“linux/amd64”}<br />
Installation method: kubeadm init<br />
Host OS: Ubuntu Ubuntu 20.04.4 LTS</p>
<p><strong>kubelet log:</strong></p>
<pre><code>Sep 14 08:20:37 jupyterhub-test systemd[1]: Started kubelet: The Kubernetes Node Agent.
-- Subject: A start job for unit kubelet.service has finished successfully
-- Defined-By: systemd
-- Support: http://www.ubuntu.com/support
--
-- A start job for unit kubelet.service has finished successfully.
--
-- The job identifier is 7916.
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: Flag --container-runtime has been deprecated, will be removed in 1.27 as the only valid value is 'remote'
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: Flag --pod-infra-container-image has been deprecated, will be removed in 1.27. Image garbage collector will get sandbox image information from CRI.
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.562908  178160 server.go:193] &quot;--pod-infra-container-image will not be pruned by the image garbage collector in kubelet and should also be set in the remote runtime&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: Flag --container-runtime has been deprecated, will be removed in 1.27 as the only valid value is 'remote'
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: Flag --pod-infra-container-image has been deprecated, will be removed in 1.27. Image garbage collector will get sandbox image information from CRI.
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.571728  178160 server.go:399] &quot;Kubelet version&quot; kubeletVersion=&quot;v1.24.1&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.571751  178160 server.go:401] &quot;Golang settings&quot; GOGC=&quot;&quot; GOMAXPROCS=&quot;&quot; GOTRACEBACK=&quot;&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.571927  178160 server.go:813] &quot;Client rotation is on, will bootstrap in background&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.572804  178160 certificate_store.go:130] Loading cert/key pair from &quot;/var/lib/kubelet/pki/kubelet-client-current.pem&quot;.
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.573378  178160 dynamic_cafile_content.go:157] &quot;Starting controller&quot; name=&quot;client-ca-bundle::/etc/kubernetes/pki/ca.crt&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.575898  178160 server.go:648] &quot;--cgroups-per-qos enabled, but --cgroup-root was not specified.  defaulting to /&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.576200  178160 container_manager_linux.go:262] &quot;Container manager verified user specified cgroup-root exists&quot; cgroupRoot=[]
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.576261  178160 container_manager_linux.go:267] &quot;Creating Container Manager object based on Node Config&quot; nodeConfig={RuntimeCgroupsName: SystemCgroupsName: KubeletCgroupsName: KubeletOOMScoreAdj:-999 ContainerRuntime: CgroupsPerQOS:true CgroupRoot:/ CgroupDriver:systemd KubeletRootDir:/var/lib/kubelet ProtectKernelDefaults:false NodeAllocatableConfig:{KubeReservedCgroupName: SystemReservedCgroupName: ReservedSystemCPUs: EnforceNodeAllocatable:map[pods:{}] KubeReserved:map[] SystemReserved:map[] HardEvictionThresholds:[{Signal:imagefs.available Operator:LessThan Value:{Quantity:&lt;nil&gt; Percentage:0.15} GracePeriod:0s MinReclaim:&lt;nil&gt;} {Signal:memory.available Operator:LessThan Value:{Quantity:100Mi Percentage:0} GracePeriod:0s MinReclaim:&lt;nil&gt;} {Signal:nodefs.available Operator:LessThan Value:{Quantity:&lt;nil&gt; Percentage:0.1} GracePeriod:0s MinReclaim:&lt;nil&gt;} {Signal:nodefs.inodesFree Operator:LessThan Value:{Quantity:&lt;nil&gt; Percentage:0.05} GracePeriod:0s MinReclaim:&lt;nil&gt;}]} QOSReserved:map[] ExperimentalCPUManagerPolicy:none ExperimentalCPUManagerPolicyOptions:map[] ExperimentalTopologyManagerScope:container ExperimentalCPUManagerReconcilePeriod:10s ExperimentalMemoryManagerPolicy:None ExperimentalMemoryManagerReservedMemory:[] ExperimentalPodPidsLimit:-1 EnforceCPULimits:true CPUCFSQuotaPeriod:100ms ExperimentalTopologyManagerPolicy:none}
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.576319  178160 topology_manager.go:133] &quot;Creating topology manager with policy per scope&quot; topologyPolicyName=&quot;none&quot; topologyScopeName=&quot;container&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.576328  178160 container_manager_linux.go:302] &quot;Creating device plugin manager&quot; devicePluginEnabled=true
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.576359  178160 state_mem.go:36] &quot;Initialized new in-memory state store&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.579169  178160 kubelet.go:376] &quot;Attempting to sync node with API server&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.579187  178160 kubelet.go:267] &quot;Adding static pod path&quot; path=&quot;/etc/kubernetes/manifests&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.579203  178160 kubelet.go:278] &quot;Adding apiserver pod source&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.579211  178160 apiserver.go:42] &quot;Waiting for node sync before watching apiserver pods&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: WARN 08:20:37.580088  178160 reflector.go:324] vendor/k8s.io/client-go/informers/factory.go:134: failed to list *v1.Node: Get &quot;https://YYY.YYY.YYY.YY:6443/api/v1/nodes?fieldSelector=metadata.name%3Djupyterhub-test&amp;limit=500&amp;resourceVersion=0&quot;: dial tcp YYY.YYY.YYY.YY:6443: connect: connection refused
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: ERROR 08:20:37.580150  178160 reflector.go:138] vendor/k8s.io/client-go/informers/factory.go:134: Failed to watch *v1.Node: failed to list *v1.Node: Get &quot;https://YYY.YYY.YYY.YY:6443/api/v1/nodes?fieldSelector=metadata.name%3Djupyterhub-test&amp;limit=500&amp;resourceVersion=0&quot;: dial tcp YYY.YYY.YYY.YY:6443: connect: connection refused
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.580230  178160 kuberuntime_manager.go:239] &quot;Container runtime initialized&quot; containerRuntime=&quot;containerd&quot; version=&quot;1.6.6&quot; apiVersion=&quot;v1&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.581022  178160 server.go:1181] &quot;Started kubelet&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.581694  178160 server.go:150] &quot;Starting to listen&quot; address=&quot;0.0.0.0&quot; port=10250
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: ERROR 08:20:37.582261  178160 cri_stats_provider.go:455] &quot;Failed to get the info of the filesystem with mountpoint&quot; err=&quot;unable to find data in memory cache&quot; mountpoint=&quot;/var/lib/containerd/io.containerd.snapshotter.v1.overlayfs&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.582351  178160 fs_resource_analyzer.go:67] &quot;Starting FS ResourceAnalyzer&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: ERROR 08:20:37.582738  178160 event.go:276] Unable to write event: '&amp;v1.Event{TypeMeta:v1.TypeMeta{Kind:&quot;&quot;, APIVersion:&quot;&quot;}, ObjectMeta:v1.ObjectMeta{Name:&quot;jupyterhub-test.1714ac53a07755b3&quot;, GenerateName:&quot;&quot;, Namespace:&quot;default&quot;, SelfLink:&quot;&quot;, UID:&quot;&quot;, ResourceVersion:&quot;&quot;, Generation:0, CreationTimestamp:time.Date(1, time.January, 1, 0, 0, 0, 0, time.UTC), DeletionTimestamp:&lt;nil&gt;, DeletionGracePeriodSeconds:(*int64)(nil), Labels:map[string]string(nil), Annotations:map[string]string(nil), OwnerReferences:[]v1.OwnerReference(nil), Finalizers:[]string(nil), ZZZ_DeprecatedClusterName:&quot;&quot;, ManagedFields:[]v1.ManagedFieldsEntry(nil)}, InvolvedObject:v1.ObjectReference{Kind:&quot;Node&quot;, Namespace:&quot;&quot;, Name:&quot;jupyterhub-test&quot;, UID:&quot;jupyterhub-test&quot;, APIVersion:&quot;&quot;, ResourceVersion:&quot;&quot;, FieldPath:&quot;&quot;}, Reason:&quot;Starting&quot;, Message:&quot;Starting kubelet.&quot;, Source:v1.EventSource{Component:&quot;kubelet&quot;, Host:&quot;jupyterhub-test&quot;}, FirstTimestamp:time.Date(2022, time.September, 14, 8, 20, 37, 580993971, time.Local), LastTimestamp:time.Date(2022, time.September, 14, 8, 20, 37, 580993971, time.Local), Count:1, Type:&quot;Normal&quot;, EventTime:time.Date(1, time.January, 1, 0, 0, 0, 0, time.UTC), Series:(*v1.EventSeries)(nil), Action:&quot;&quot;, Related:(*v1.ObjectReference)(nil), ReportingController:&quot;&quot;, ReportingInstance:&quot;&quot;}': 'Post &quot;https://YYY.YYY.YYY.YY:6443/api/v1/namespaces/default/events&quot;: dial tcp YYY.YYY.YYY.YY:6443: connect: connection refused'(may retry after sleeping)
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: WARN 08:20:37.582943  178160 reflector.go:324] vendor/k8s.io/client-go/informers/factory.go:134: failed to list *v1.Service: Get &quot;https://YYY.YYY.YYY.YY:6443/api/v1/services?limit=500&amp;resourceVersion=0&quot;: dial tcp YYY.YYY.YYY.YY:6443: connect: connection refused
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: ERROR 08:20:37.583036  178160 reflector.go:138] vendor/k8s.io/client-go/informers/factory.go:134: Failed to watch *v1.Service: failed to list *v1.Service: Get &quot;https://YYY.YYY.YYY.YY:6443/api/v1/services?limit=500&amp;resourceVersion=0&quot;: dial tcp YYY.YYY.YYY.YY:6443: connect: connection refused
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.583351  178160 server.go:410] &quot;Adding debug handlers to kubelet server&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: ERROR 08:20:37.582359  178160 kubelet.go:1298] &quot;Image garbage collection failed once. Stats initialization may not have completed yet&quot; err=&quot;invalid capacity 0 on image filesystem&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.585879  178160 volume_manager.go:289] &quot;Starting Kubelet Volume Manager&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.585928  178160 desired_state_of_world_populator.go:145] &quot;Desired state populator starts to run&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: ERROR 08:20:37.586167  178160 controller.go:144] failed to ensure lease exists, will retry in 200ms, error: Get &quot;https://YYY.YYY.YYY.YY:6443/apis/coordination.k8s.io/v1/namespaces/kube-node-lease/leases/jupyterhub-test?timeout=10s&quot;: dial tcp YYY.YYY.YYY.YY:6443: connect: connection refused
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: WARN 08:20:37.586759  178160 reflector.go:324] vendor/k8s.io/client-go/informers/factory.go:134: failed to list *v1.CSIDriver: Get &quot;https://YYY.YYY.YYY.YY:6443/apis/storage.k8s.io/v1/csidrivers?limit=500&amp;resourceVersion=0&quot;: dial tcp YYY.YYY.YYY.YY:6443: connect: connection refused
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: ERROR 08:20:37.586877  178160 reflector.go:138] vendor/k8s.io/client-go/informers/factory.go:134: Failed to watch *v1.CSIDriver: failed to list *v1.CSIDriver: Get &quot;https://YYY.YYY.YYY.YY:6443/apis/storage.k8s.io/v1/csidrivers?limit=500&amp;resourceVersion=0&quot;: dial tcp YYY.YYY.YYY.YY:6443: connect: connection refused
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.598425  178160 kubelet_network_linux.go:76] &quot;Initialized protocol iptables rules.&quot; protocol=IPv4
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.614860  178160 kubelet_network_linux.go:76] &quot;Initialized protocol iptables rules.&quot; protocol=IPv6
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.614881  178160 status_manager.go:161] &quot;Starting to sync pod status with apiserver&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.614893  178160 kubelet.go:1974] &quot;Starting kubelet main sync loop&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: ERROR 08:20:37.615122  178160 kubelet.go:1998] &quot;Skipping pod synchronization&quot; err=&quot;[container runtime status check may not have completed yet, PLEG is not healthy: pleg has yet to be successful]&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: WARN 08:20:37.616041  178160 reflector.go:324] vendor/k8s.io/client-go/informers/factory.go:134: failed to list *v1.RuntimeClass: Get &quot;https://YYY.YYY.YYY.YY:6443/apis/node.k8s.io/v1/runtimeclasses?limit=500&amp;resourceVersion=0&quot;: dial tcp YYY.YYY.YYY.YY:6443: connect: connection refused
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: ERROR 08:20:37.616074  178160 reflector.go:138] vendor/k8s.io/client-go/informers/factory.go:134: Failed to watch *v1.RuntimeClass: failed to list *v1.RuntimeClass: Get &quot;https://YYY.YYY.YYY.YY:6443/apis/node.k8s.io/v1/runtimeclasses?limit=500&amp;resourceVersion=0&quot;: dial tcp YYY.YYY.YYY.YY:6443: connect: connection refused
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.665155  178160 cpu_manager.go:213] &quot;Starting CPU manager&quot; policy=&quot;none&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.665168  178160 cpu_manager.go:214] &quot;Reconciling&quot; reconcilePeriod=&quot;10s&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.665179  178160 state_mem.go:36] &quot;Initialized new in-memory state store&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.665277  178160 state_mem.go:88] &quot;Updated default CPUSet&quot; cpuSet=&quot;&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.665286  178160 state_mem.go:96] &quot;Updated CPUSet assignments&quot; assignments=map[]
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.665291  178160 policy_none.go:49] &quot;None policy: Start&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.666175  178160 memory_manager.go:168] &quot;Starting memorymanager&quot; policy=&quot;None&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.666199  178160 state_mem.go:35] &quot;Initializing new in-memory state store&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.666468  178160 state_mem.go:75] &quot;Updated machine memory state&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.670363  178160 manager.go:610] &quot;Failed to read data from checkpoint&quot; checkpoint=&quot;kubelet_internal_checkpoint&quot; err=&quot;checkpoint is not found&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.670567  178160 plugin_manager.go:114] &quot;Starting Kubelet Plugin Manager&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: ERROR 08:20:37.671373  178160 eviction_manager.go:254] &quot;Eviction manager: failed to get summary stats&quot; err=&quot;failed to get node info: node \&quot;jupyterhub-test\&quot; not found&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: ERROR 08:20:37.686080  178160 kubelet.go:2419] &quot;Error getting node&quot; err=&quot;node \&quot;jupyterhub-test\&quot; not found&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.686550  178160 kubelet_node_status.go:70] &quot;Attempting to register node&quot; node=&quot;jupyterhub-test&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: ERROR 08:20:37.686984  178160 kubelet_node_status.go:92] &quot;Unable to register node with API server&quot; err=&quot;Post \&quot;https://YYY.YYY.YYY.YY:6443/api/v1/nodes\&quot;: dial tcp YYY.YYY.YYY.YY:6443: connect: connection refused&quot; node=&quot;jupyterhub-test&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.716206  178160 topology_manager.go:200] &quot;Topology Admit Handler&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.716954  178160 topology_manager.go:200] &quot;Topology Admit Handler&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.717589  178160 topology_manager.go:200] &quot;Topology Admit Handler&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.717932  178160 status_manager.go:664] &quot;Failed to get status for pod&quot; podUID=6caff56f64d1ee735407a5a7ba6a787a pod=&quot;kube-system/etcd-jupyterhub-test&quot; err=&quot;Get \&quot;https://YYY.YYY.YYY.YY:6443/api/v1/namespaces/kube-system/pods/etcd-jupyterhub-test\&quot;: dial tcp YYY.YYY.YYY.YY:6443: connect: connection refused&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.718167  178160 topology_manager.go:200] &quot;Topology Admit Handler&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.718644  178160 pod_container_deletor.go:79] &quot;Container not found in pod's containers&quot; containerID=&quot;daf5debb6988d121c82972b4d0f6c1935c005063b7f42da0c10773efbf0525e1&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.718776  178160 pod_container_deletor.go:79] &quot;Container not found in pod's containers&quot; containerID=&quot;435139d2c5996b2f24600f7cd4911fc77a92bf06e7361347971e70a68e0a54e5&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.718849  178160 pod_container_deletor.go:79] &quot;Container not found in pod's containers&quot; containerID=&quot;3554bcaebcaf46d227f480181f505d48af9a6f9d389e93f1c6d3fab703db8df4&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.718927  178160 pod_container_deletor.go:79] &quot;Container not found in pod's containers&quot; containerID=&quot;257b423a7d1730e88f277239d535923ffac18d5430b723aee160d50af5417553&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.718995  178160 pod_container_deletor.go:79] &quot;Container not found in pod's containers&quot; containerID=&quot;cae22d913fbc0ce98a6e7b0d8b13cef758179416dea8f7a9dd875ab5172d8a4f&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.719055  178160 pod_container_deletor.go:79] &quot;Container not found in pod's containers&quot; containerID=&quot;c86abd3d68a6a6f596481f8784db328cc2bf9951b0a514bff979e4243b63e9ce&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.719113  178160 pod_container_deletor.go:79] &quot;Container not found in pod's containers&quot; containerID=&quot;0db53f26fd3fc078c02941576d2187b8525fe2da77a2e6dffff797bba8b12213&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.719177  178160 pod_container_deletor.go:79] &quot;Container not found in pod's containers&quot; containerID=&quot;19d5c5e57cd43c00235306c69378fd6a9d224a337a79ab0d19417bb7ae8c91b4&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.719239  178160 pod_container_deletor.go:79] &quot;Container not found in pod's containers&quot; containerID=&quot;84298f6839000667cb1d02bc812a84c94920e088d5649821fb6ebe3dabc13698&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.719301  178160 pod_container_deletor.go:79] &quot;Container not found in pod's containers&quot; containerID=&quot;4d624b46c1721a68bf6b8b1a57d0aa23ee8d664108114337234826a1e053c991&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.719370  178160 pod_container_deletor.go:79] &quot;Container not found in pod's containers&quot; containerID=&quot;03454711bc28b88c9a5b4eeb8ab8c962e758bb8ae34cbee798ecd5651ca37bc8&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.719429  178160 pod_container_deletor.go:79] &quot;Container not found in pod's containers&quot; containerID=&quot;1a29e83515332ebd4cf4eabecdaa4c305e280de78a90d90210fd4d467a28bffd&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.719490  178160 pod_container_deletor.go:79] &quot;Container not found in pod's containers&quot; containerID=&quot;1b8edc5b07c4a5eab18f9e7edb73b089ea303a5f393b650deb550935456c5df8&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.718813  178160 status_manager.go:664] &quot;Failed to get status for pod&quot; podUID=8cdd26801ec71603976b3d4c3c72beae pod=&quot;kube-system/kube-apiserver-jupyterhub-test&quot; err=&quot;Get \&quot;https://YYY.YYY.YYY.YY:6443/api/v1/namespaces/kube-system/pods/kube-apiserver-jupyterhub-test\&quot;: dial tcp YYY.YYY.YYY.YY:6443: connect: connection refused&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.719777  178160 status_manager.go:664] &quot;Failed to get status for pod&quot; podUID=c9c46b502c40273f3cde89de382eb13b pod=&quot;kube-system/kube-controller-manager-jupyterhub-test&quot; err=&quot;Get \&quot;https://YYY.YYY.YYY.YY:6443/api/v1/namespaces/kube-system/pods/kube-controller-manager-jupyterhub-test\&quot;: dial tcp YYY.YYY.YYY.YY:6443: connect: connection refused&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.720022  178160 status_manager.go:664] &quot;Failed to get status for pod&quot; podUID=a7527c69e782fb5d6404c82767da6341 pod=&quot;kube-system/kube-scheduler-jupyterhub-test&quot; err=&quot;Get \&quot;https://YYY.YYY.YYY.YY:6443/api/v1/namespaces/kube-system/pods/kube-scheduler-jupyterhub-test\&quot;: dial tcp YYY.YYY.YYY.YY:6443: connect: connection refused&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: ERROR 08:20:37.786540  178160 controller.go:144] failed to ensure lease exists, will retry in 400ms, error: Get &quot;https://YYY.YYY.YYY.YY:6443/apis/coordination.k8s.io/v1/namespaces/kube-node-lease/leases/jupyterhub-test?timeout=10s&quot;: dial tcp YYY.YYY.YYY.YY:6443: connect: connection refused
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: ERROR 08:20:37.786583  178160 kubelet.go:2419] &quot;Error getting node&quot; err=&quot;node \&quot;jupyterhub-test\&quot; not found&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.786993  178160 reconciler.go:270] &quot;operationExecutor.VerifyControllerAttachedVolume started for volume \&quot;k8s-certs\&quot; (UniqueName: \&quot;kubernetes.io/host-path/8cdd26801ec71603976b3d4c3c72beae-k8s-certs\&quot;) pod \&quot;kube-apiserver-jupyterhub-test\&quot; (UID: \&quot;8cdd26801ec71603976b3d4c3c72beae\&quot;) &quot; pod=&quot;kube-system/kube-apiserver-jupyterhub-test&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.787171  178160 reconciler.go:270] &quot;operationExecutor.VerifyControllerAttachedVolume started for volume \&quot;usr-local-share-ca-certificates\&quot; (UniqueName: \&quot;kubernetes.io/host-path/8cdd26801ec71603976b3d4c3c72beae-usr-local-share-ca-certificates\&quot;) pod \&quot;kube-apiserver-jupyterhub-test\&quot; (UID: \&quot;8cdd26801ec71603976b3d4c3c72beae\&quot;) &quot; pod=&quot;kube-system/kube-apiserver-jupyterhub-test&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.787275  178160 reconciler.go:270] &quot;operationExecutor.VerifyControllerAttachedVolume started for volume \&quot;usr-share-ca-certificates\&quot; (UniqueName: \&quot;kubernetes.io/host-path/8cdd26801ec71603976b3d4c3c72beae-usr-share-ca-certificates\&quot;) pod \&quot;kube-apiserver-jupyterhub-test\&quot; (UID: \&quot;8cdd26801ec71603976b3d4c3c72beae\&quot;) &quot; pod=&quot;kube-system/kube-apiserver-jupyterhub-test&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.787372  178160 reconciler.go:270] &quot;operationExecutor.VerifyControllerAttachedVolume started for volume \&quot;etcd-certs\&quot; (UniqueName: \&quot;kubernetes.io/host-path/6caff56f64d1ee735407a5a7ba6a787a-etcd-certs\&quot;) pod \&quot;etcd-jupyterhub-test\&quot; (UID: \&quot;6caff56f64d1ee735407a5a7ba6a787a\&quot;) &quot; pod=&quot;kube-system/etcd-jupyterhub-test&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.787406  178160 reconciler.go:270] &quot;operationExecutor.VerifyControllerAttachedVolume started for volume \&quot;etcd-data\&quot; (UniqueName: \&quot;kubernetes.io/host-path/6caff56f64d1ee735407a5a7ba6a787a-etcd-data\&quot;) pod \&quot;etcd-jupyterhub-test\&quot; (UID: \&quot;6caff56f64d1ee735407a5a7ba6a787a\&quot;) &quot; pod=&quot;kube-system/etcd-jupyterhub-test&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.787431  178160 reconciler.go:270] &quot;operationExecutor.VerifyControllerAttachedVolume started for volume \&quot;ca-certs\&quot; (UniqueName: \&quot;kubernetes.io/host-path/8cdd26801ec71603976b3d4c3c72beae-ca-certs\&quot;) pod \&quot;kube-apiserver-jupyterhub-test\&quot; (UID: \&quot;8cdd26801ec71603976b3d4c3c72beae\&quot;) &quot; pod=&quot;kube-system/kube-apiserver-jupyterhub-test&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.787452  178160 reconciler.go:270] &quot;operationExecutor.VerifyControllerAttachedVolume started for volume \&quot;etc-ca-certificates\&quot; (UniqueName: \&quot;kubernetes.io/host-path/8cdd26801ec71603976b3d4c3c72beae-etc-ca-certificates\&quot;) pod \&quot;kube-apiserver-jupyterhub-test\&quot; (UID: \&quot;8cdd26801ec71603976b3d4c3c72beae\&quot;) &quot; pod=&quot;kube-system/kube-apiserver-jupyterhub-test&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.787479  178160 reconciler.go:270] &quot;operationExecutor.VerifyControllerAttachedVolume started for volume \&quot;etc-pki\&quot; (UniqueName: \&quot;kubernetes.io/host-path/8cdd26801ec71603976b3d4c3c72beae-etc-pki\&quot;) pod \&quot;kube-apiserver-jupyterhub-test\&quot; (UID: \&quot;8cdd26801ec71603976b3d4c3c72beae\&quot;) &quot; pod=&quot;kube-system/kube-apiserver-jupyterhub-test&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: ERROR 08:20:37.887309  178160 kubelet.go:2419] &quot;Error getting node&quot; err=&quot;node \&quot;jupyterhub-test\&quot; not found&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.887665  178160 kubelet_node_status.go:70] &quot;Attempting to register node&quot; node=&quot;jupyterhub-test&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.889786  178160 reconciler.go:270] &quot;operationExecutor.VerifyControllerAttachedVolume started for volume \&quot;ca-certs\&quot; (UniqueName: \&quot;kubernetes.io/host-path/c9c46b502c40273f3cde89de382eb13b-ca-certs\&quot;) pod \&quot;kube-controller-manager-jupyterhub-test\&quot; (UID: \&quot;c9c46b502c40273f3cde89de382eb13b\&quot;) &quot; pod=&quot;kube-system/kube-controller-manager-jupyterhub-test&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.889824  178160 reconciler.go:270] &quot;operationExecutor.VerifyControllerAttachedVolume started for volume \&quot;etc-pki\&quot; (UniqueName: \&quot;kubernetes.io/host-path/c9c46b502c40273f3cde89de382eb13b-etc-pki\&quot;) pod \&quot;kube-controller-manager-jupyterhub-test\&quot; (UID: \&quot;c9c46b502c40273f3cde89de382eb13b\&quot;) &quot; pod=&quot;kube-system/kube-controller-manager-jupyterhub-test&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.889845  178160 reconciler.go:270] &quot;operationExecutor.VerifyControllerAttachedVolume started for volume \&quot;k8s-certs\&quot; (UniqueName: \&quot;kubernetes.io/host-path/c9c46b502c40273f3cde89de382eb13b-k8s-certs\&quot;) pod \&quot;kube-controller-manager-jupyterhub-test\&quot; (UID: \&quot;c9c46b502c40273f3cde89de382eb13b\&quot;) &quot; pod=&quot;kube-system/kube-controller-manager-jupyterhub-test&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.889865  178160 reconciler.go:270] &quot;operationExecutor.VerifyControllerAttachedVolume started for volume \&quot;usr-share-ca-certificates\&quot; (UniqueName: \&quot;kubernetes.io/host-path/c9c46b502c40273f3cde89de382eb13b-usr-share-ca-certificates\&quot;) pod \&quot;kube-controller-manager-jupyterhub-test\&quot; (UID: \&quot;c9c46b502c40273f3cde89de382eb13b\&quot;) &quot; pod=&quot;kube-system/kube-controller-manager-jupyterhub-test&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.889885  178160 reconciler.go:270] &quot;operationExecutor.VerifyControllerAttachedVolume started for volume \&quot;kubeconfig\&quot; (UniqueName: \&quot;kubernetes.io/host-path/a7527c69e782fb5d6404c82767da6341-kubeconfig\&quot;) pod \&quot;kube-scheduler-jupyterhub-test\&quot; (UID: \&quot;a7527c69e782fb5d6404c82767da6341\&quot;) &quot; pod=&quot;kube-system/kube-scheduler-jupyterhub-test&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.889930  178160 reconciler.go:270] &quot;operationExecutor.VerifyControllerAttachedVolume started for volume \&quot;flexvolume-dir\&quot; (UniqueName: \&quot;kubernetes.io/host-path/c9c46b502c40273f3cde89de382eb13b-flexvolume-dir\&quot;) pod \&quot;kube-controller-manager-jupyterhub-test\&quot; (UID: \&quot;c9c46b502c40273f3cde89de382eb13b\&quot;) &quot; pod=&quot;kube-system/kube-controller-manager-jupyterhub-test&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.889950  178160 reconciler.go:270] &quot;operationExecutor.VerifyControllerAttachedVolume started for volume \&quot;kubeconfig\&quot; (UniqueName: \&quot;kubernetes.io/host-path/c9c46b502c40273f3cde89de382eb13b-kubeconfig\&quot;) pod \&quot;kube-controller-manager-jupyterhub-test\&quot; (UID: \&quot;c9c46b502c40273f3cde89de382eb13b\&quot;) &quot; pod=&quot;kube-system/kube-controller-manager-jupyterhub-test&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.889970  178160 reconciler.go:270] &quot;operationExecutor.VerifyControllerAttachedVolume started for volume \&quot;usr-local-share-ca-certificates\&quot; (UniqueName: \&quot;kubernetes.io/host-path/c9c46b502c40273f3cde89de382eb13b-usr-local-share-ca-certificates\&quot;) pod \&quot;kube-controller-manager-jupyterhub-test\&quot; (UID: \&quot;c9c46b502c40273f3cde89de382eb13b\&quot;) &quot; pod=&quot;kube-system/kube-controller-manager-jupyterhub-test&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: INFO 08:20:37.890011  178160 reconciler.go:270] &quot;operationExecutor.VerifyControllerAttachedVolume started for volume \&quot;etc-ca-certificates\&quot; (UniqueName: \&quot;kubernetes.io/host-path/c9c46b502c40273f3cde89de382eb13b-etc-ca-certificates\&quot;) pod \&quot;kube-controller-manager-jupyterhub-test\&quot; (UID: \&quot;c9c46b502c40273f3cde89de382eb13b\&quot;) &quot; pod=&quot;kube-system/kube-controller-manager-jupyterhub-test&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: ERROR 08:20:37.890469  178160 kubelet_node_status.go:92] &quot;Unable to register node with API server&quot; err=&quot;Post \&quot;https://YYY.YYY.YYY.YY:6443/api/v1/nodes\&quot;: dial tcp YYY.YYY.YYY.YY:6443: connect: connection refused&quot; node=&quot;jupyterhub-test&quot;
Sep 14 08:20:37 jupyterhub-test kubelet[178160]: ERROR 08:20:37.988241  178160 kubelet.go:2419] &quot;Error getting node&quot; err=&quot;node \&quot;jupyterhub-test\&quot; not found&quot;
Sep 14 08:20:38 jupyterhub-test kubelet[178160]: INFO 08:20:38.019896  178160 scope.go:110] &quot;RemoveContainer&quot; containerID=&quot;cc4b38a68d8e34264d83b0859a9b9c84b6d71b07f886ba76a9d18e6e2fa63d81&quot;
Sep 14 08:20:38 jupyterhub-test kubelet[178160]: INFO 08:20:38.019999  178160 scope.go:110] &quot;RemoveContainer&quot; containerID=&quot;8ceae598793f115e91fdd87e77b087d5ce5ccede2c719ae78c3c7a3c477bf714&quot;
Sep 14 08:20:38 jupyterhub-test kubelet[178160]: ERROR 08:20:38.088723  178160 kubelet.go:2419] &quot;Error getting node&quot; err=&quot;node \&quot;jupyterhub-test\&quot; not found&quot;
Sep 14 08:20:38 jupyterhub-test kubelet[178160]: ERROR 08:20:38.188858  178160 kubelet.go:2419] &quot;Error getting node&quot; err=&quot;node \&quot;jupyterhub-test\&quot; not found&quot;
</code></pre>
",239,0,<kubernetes><jupyterhub><reboot>,2022-09-19 08:35:22
73741999,How to embed ipyleaflet map containing a WidgetControl in a static HTML page,"<p>I have to generate static html webpages with ipyleaflet, and I would like to add a custom legend. It's basicaly a WidgetControl containing a Ipywidget Accordion. It's displaying well in my Jupyter notebook, but when I am embeding it into an html webpage the WidgetControl doesn't show up.</p>
<p>I am using the embed_data function as described in this page : <a href=""https://ipywidgets.readthedocs.io/en/7.6.5/embedding.html"" rel=""nofollow noreferrer"">https://ipywidgets.readthedocs.io/en/7.6.5/embedding.html</a>
Here is the code :</p>
<pre><code>import json

from ipywidgets import Accordion, HTML
from ipywidgets.embed import embed_data

mapnik = basemap_to_tiles(basemaps.OpenStreetMap.Mapnik)
mapnik.base = True
m = L.Map(layers=[mapnik], center=default_center, zoom=5.5, zoom_snap=0.25, scroll_wheel_zoom=True, zoom_control=False,
    layout=Layout(width='800px', height='500px'))
html_legende = 'Legend text'
html_widget_legend= HTML(value='&lt;div  style=&quot;line-height: normal;&quot;&gt;' + html_legende + '&lt;/div&gt;',
placeholder='Some HTML',
description='Some HTML')
accordion = Accordion()
accordion.children = [html_widget_legend]
accordion.layout ={'width': '250px', 'max_height': '450px'}
accordion.set_title(0, 'Legend title')
accordion.selected_index = None

widget_control1 = WidgetControl(widget=accordion, position='topleft')
m.add_control(widget_control1)

data = embed_data(views=[s1])

html_template = &quot;&quot;&quot;
&lt;html&gt;
  &lt;head&gt;

    &lt;title&gt;Widget export&lt;/title&gt;

    &lt;!-- Load RequireJS, used by the IPywidgets for dependency management --&gt;
    &lt;script 
      src=&quot;https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js&quot; 
      integrity=&quot;sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=&quot; 
      crossorigin=&quot;anonymous&quot;&gt;
    &lt;/script&gt;

    &lt;!-- Load IPywidgets bundle for embedding. --&gt;
    &lt;script
      data-jupyter-widgets-cdn=&quot;https://cdn.jsdelivr.net/npm/&quot;
      src=&quot;https://unpkg.com/@jupyter-widgets/html-manager@*/dist/embed-amd.js&quot; 
      crossorigin=&quot;anonymous&quot;&gt;
    &lt;/script&gt;

    &lt;!-- The state of all the widget models on the page --&gt;
    &lt;script type=&quot;application/vnd.jupyter.widget-state+json&quot;&gt;
      {manager_state}
    &lt;/script&gt;
  &lt;/head&gt;

  &lt;body&gt;

    &lt;h1&gt;Widget export&lt;/h1&gt;

    &lt;div id=&quot;map-widget&quot;&gt;
      &lt;!-- This script tag will be replaced by the view's DOM tree --&gt;
      &lt;script type=&quot;application/vnd.jupyter.widget-view+json&quot;&gt;
        {widget_views[0]}
      &lt;/script&gt;
    &lt;/div&gt;

  &lt;/body&gt;
&lt;/html&gt;
&quot;&quot;&quot;

manager_state = json.dumps(data['manager_state'])
widget_views = [json.dumps(view) for view in data['view_specs']]
rendered_template = html_template.format(manager_state=manager_state, widget_views=widget_views)
with open('export.html', 'w') as fp:
    fp.write(rendered_template)
</code></pre>
<p>When I open the html file with Firefox and Chrome's inspectors I get two js errors, with different explanations  :</p>
<p>Firefox :</p>
<pre><code>TypeError: e is undefined
    F/o/o.paths[e]&lt; embed-amd.js:26
    o embed-amd.js:26
    F embed-amd.js:26
    promise callback*F embed-amd.js:26
    loadClass embed-amd.js:16
    loadClass embed-amd.js:16
    loadViewClass embed-amd.js:16
    state_change embed-amd.js:16
    promise callback*create_view embed-amd.js:16
    create_child_view embed-amd.js:2
    add_control_model Map.js:194
    update embed-amd.js:2
    render_leaflet Map.js:233
    promise callback*render_leaflet Map.js:231
    promise callback*render Map.js:227
    state_change embed-amd.js:16
    create_view embed-amd.js:16
    I embed-amd.js:26
    I embed-amd.js:26
    I embed-amd.js:26
    I embed-amd.js:26
    I embed-amd.js:26
    promise callback*I embed-amd.js:26
    &lt;anonymous&gt; embed-amd.js:29
    execCb require.min.js:1
    check require.min.js:1
    enable require.min.js:1
    init require.min.js:1
    o require.min.js:1
    setTimeout handler*req.nextTick&lt; require.min.js:1
    o require.min.js:1
    requirejs require.min.js:1
    &lt;anonymous&gt; embed-amd.js:29
    &lt;anonymous&gt; embed-amd.js:29
embed-amd.js:16:585209
    loadViewClass embed-amd.js:16
    state_change embed-amd.js:16
    (Asynchrone : promise callback)
    create_view embed-amd.js:16
    create_child_view embed-amd.js:2
    add_control_model Map.js:194
    update embed-amd.js:2
    render_leaflet Map.js:233
    (Asynchrone : promise callback)
    render_leaflet Map.js:231
    render Map.js:227
    state_change embed-amd.js:16
    create_view embed-amd.js:16
    I embed-amd.js:26
    I embed-amd.js:26
    I embed-amd.js:26
    I embed-amd.js:26
    I embed-amd.js:26
    (Asynchrone : promise callback)
    I embed-amd.js:26
    &lt;anonyme&gt; embed-amd.js:29
    execCb require.min.js:1
    check require.min.js:1
    enable require.min.js:1
    init require.min.js:1
    o require.min.js:1
    (Asynchrone : setTimeout handler)
    nextTick require.min.js:1
    o require.min.js:1
    requirejs require.min.js:1
    &lt;anonyme&gt; embed-amd.js:29
    &lt;anonyme&gt; embed-amd.js:29


Uncaught (in promise) TypeError: t is undefined
    addControl leaflet-src.js:4824
    add_control_model Map.js:197
    promise callback*add_control_model Map.js:196
    update embed-amd.js:2
    render_leaflet Map.js:233
    promise callback*render_leaflet Map.js:231
    promise callback*render Map.js:227
    state_change embed-amd.js:16
    create_view embed-amd.js:16
    I embed-amd.js:26
    I embed-amd.js:26
    I embed-amd.js:26
    I embed-amd.js:26
    I embed-amd.js:26
    promise callback*I embed-amd.js:26
    &lt;anonymous&gt; embed-amd.js:29
    execCb require.min.js:1
    check require.min.js:1
    enable require.min.js:1
    init require.min.js:1
    o require.min.js:1
    setTimeout handler*req.nextTick&lt; require.min.js:1
    o require.min.js:1
    requirejs require.min.js:1
    &lt;anonymous&gt; embed-amd.js:29
    &lt;anonymous&gt; embed-amd.js:29
leaflet-src.js:4824:4
</code></pre>
<p>Chrome :</p>
<pre><code>embed-amd.js:16 TypeError: Cannot read property 'indexOf' of undefined
    at embed-amd.js:26
    at o (embed-amd.js:26)
    at embed-amd.js:26
    at async xc.loadViewClass (embed-amd.js:16)
    at async https:/unpkg.com/@jupyter-widgets/html-manager@*/dist/embed-amd.js:16
    at async Promise.all (index 1)
loadViewClass @ embed-amd.js:16
leaflet-src.js:4824 Uncaught (in promise) TypeError: Cannot read property 'addTo' of undefined
    at n.addControl (leaflet-src.js:4824)
    at Map.js:197
    at async Promise.all (index 1)
</code></pre>
<p>Has anyone got these kind of problem ?</p>
",9,0,<python><html><jupyter><ipywidgets><ipyleaflet>,2022-09-16 08:27:52
73735855,How to download an Excel file using ipywidget button?,"<p>I am implementing a button from ipywidget that by clicking it, it downloads an Excel created from a formatted/styled dataframe (i.e. with cells highlighted in colors).</p>
<p>If it is pure data (no color styling etc), I could have saved the data into csv format and solve the problem based on this thread <a href=""https://stackoverflow.com/questions/61708701/how-to-download-a-file-using-ipywidget-button/68683463#68683463"">How to download a file using ipywidget button?</a>.</p>
<p>My code</p>
<pre class=""lang-py prettyprint-override""><code>import ipywidgets
import numpy as np
import pandas as pd

from IPython.display import HTML, display
from ipywidgets import widgets

import pandas.io.formats.style

class DownloadButtonExcel(ipywidgets.Button):
    &quot;&quot;&quot;
    Download button with dynamic content
    The content is generated using a callback when the button is clicked.
    The code is based on ollik1's answer at https://stackoverflow.com/questions/61708701/how-to-download-a-file-using-ipywidget-button/68683463#68683463
    &quot;&quot;&quot;

    def __init__(self, filename: str, contents: Callable[[], pandas.io.formats.style.Styler], **kwargs):
        super(DownloadButtonExcel, self).__init__(**kwargs)
        self.filename = filename
        self.contents = contents
        self.on_click(self.__on_click)
        self.output = widgets.Output()
        display(self.output)

    def __on_click(self, b):
        df = self.contents()
        df.to_excel(self.filename, engine='openpyxl')
        digest = pd.util.hash_pandas_object(df.data).sum()  # bypass browser cache        
        id = f&quot;dl_{digest}&quot;

        with self.output:
            display(
                HTML(
                    f&quot;&quot;&quot;
                        &lt;html&gt;
                        &lt;body&gt;
                        &lt;a id=&quot;{id}&quot; download =&quot;{self.filename}&quot; href=&quot;{self.filename}&quot; download&gt;
                        &lt;/a&gt;

                        &lt;script&gt;
                        (function download() {{
                        document.getElementById('{id}').click();
                        }})()
                        &lt;/script&gt;

                        &lt;/body&gt;
                        &lt;/html&gt;
                        &quot;&quot;&quot;
                )
            )



import pandas as pd
import numpy as np
import matplotlib as mpl

df = pd.DataFrame([[38.0, 2.0, 18.0, 22.0, 21, np.nan],[19, 439, 6, 452, 226,232]],
                  index=pd.Index(['Tumour (Positive)', 'Non-Tumour (Negative)'], name='Actual Label:'),
                  columns=pd.MultiIndex.from_product([['Decision Tree', 'Regression', 'Random'],['Tumour', 'Non-Tumour']], names=['Model:', 'Predicted:']))

df_style = df.style.format(precision = 2).background_gradient().hide(axis = 'index')

download_button_excel = DownloadButtonExcel(
    filename=&quot;Test.xlsx&quot;,
    contents=lambda: df_style,
    description=&quot;Download&quot;,
    style={&quot;button_color&quot;: &quot;transparent&quot;},
)
</code></pre>
<p>The above code creates a button and download the Excel file with correct format.
Different from csv case, where the data can be encoded/decoded and saved in the cache, for current implementation, the <code>df.to_excel(self.filename, engine='openpyxl')</code> code downloads the Excel to local folder.</p>
<p>I am not sure (1) how to encode/decode pandas Styler just as in csv case and implement it using that approach.
(2) I feel I could have moved  <code>df.to_excel(self.filename, engine='openpyxl')</code> to inside function download(), so that the click on button triggers download. But I don't know how.</p>
<p>Any help would be greatly appreciated.</p>
",33,0,<javascript><python><excel><pandas><ipywidgets>,2022-09-15 18:29:01
73733954,using Ipywidgets interactive() on google colab displays the widget indented,"<p>I was testing an option to have widgets appear only when a box is checked. I couldn't use Stack as it's not supported in Google Colab. Everything works as expected, just not displays as expected - as seen in the <a href=""https://i.stack.imgur.com/XDf0M.png"" rel=""nofollow noreferrer"">screenshot here</a>, the widget is not as far left as it can be.</p>
<p>Does anyone know a fix?</p>
<pre class=""lang-py prettyprint-override""><code>class test():
  
  def __init__(self):
    self.option_1 = False
    self.option_2 = False

  def checks(self,a,b):
    if a:
      self.option_1 = True
    else:
      self.option_1 = False
    if b:
      self.option_2 = True
    else:
      self.option_2 = False
    
  def f(self, all_options):
    if all_options:
      w = widgets.interactive(self.checks,a=False,b=False)
      items = widgets.GridBox(w.children[:-1], layout = widgets.Layout(grid_template_columns=&quot;repeat(7, 100px)&quot;))
      display(items)
    else:
      IPython.display.clear_output()

def main():
  test_subject=test()
  w = widgets.interactive(test_subject.f,all_options=True)
  display(w)

main()
</code></pre>
",41,0,<python><google-colaboratory><ipywidgets>,2022-09-15 15:40:33
73728221,Ipywidgets are not displayed propperly in VS Code,"<p>It seems that some of my Jupyter Notebook/VS Code settings are not set up correctly, resulting in different outputs for the same Python code using Ipywidgets on different instances. <strong>What do I need to change in order to see all widgets the same way regardless of the instance on which I'm running the code?</strong></p>
<p>Below you can find of the used versions and the corresponding output:</p>
<p><strong>1. Jupyter Hub (via Firefox)</strong></p>
<ul>
<li>Python 2.7.18</li>
<li>IPython: 8.4.0</li>
<li>ipykernel: 6.15.1</li>
<li>pywidgets: 8.0.1</li>
<li>jupyter_client: 7.3.5</li>
<li>jupyter_core: 4.11.1</li>
<li>jupyter_server: 1.18.1</li>
<li>jupyterlab: 3.4.5</li>
<li>nbclient: 0.6.7</li>
<li>nbconvert: 7.0.0</li>
<li>nbformat: 5.4.0</li>
<li>notebook: 6.4.12</li>
<li>qtconsole: not installed</li>
<li>traitlets: 5.3.0</li>
</ul>
<p><a href=""https://i.stack.imgur.com/MYmtO.png"" rel=""nofollow noreferrer"">Code output of Jupyter Hub via Firefox</a></p>
<p><strong>2. Juyter Notebook (hostet locally, via Firefox)</strong></p>
<ul>
<li>Python 3.10.6</li>
<li>IPython: 8.4.0</li>
<li>ipykernel: 6.15.3</li>
<li>pywidgets: 8.0.1</li>
<li>jupyter_client: 7.3.5</li>
<li>jupyter_core: 4.11.1</li>
<li>jupyter_server: 1.18.1</li>
<li>jupyterlab: 3.4.5</li>
<li>nbclient: 0.6.7</li>
<li>nbconvert: 7.0.0</li>
<li>nbformat: 5.4.0</li>
<li>notebook: 6.4.12</li>
<li>qtconsole: not installed</li>
<li>traitlets: 5.3.0</li>
</ul>
<p><a href=""https://i.stack.imgur.com/II8HU.png"" rel=""nofollow noreferrer"">Code output of Jupyter Notebook hosted locally via Firefox</a></p>
<p><strong>3. VS Code</strong></p>
<ul>
<li>Python 3.10.6</li>
<li>IPython: 8.4.0</li>
<li>ipykernel: 6.15.3</li>
<li>pywidgets: 8.0.1</li>
<li>jupyter_client: 7.3.5</li>
<li>jupyter_core: 4.11.1</li>
<li>jupyter_server: 1.18.1</li>
<li>jupyterlab: 3.4.5</li>
<li>nbclient: 0.6.7</li>
<li>nbconvert: 7.0.0</li>
<li>nbformat: 5.4.0</li>
<li>notebook: 6.4.12</li>
<li>qtconsole: not installed</li>
<li>traitlets: 5.3.0</li>
</ul>
<p><a href=""https://i.stack.imgur.com/1pl3R.png"" rel=""nofollow noreferrer"">Code output of VS-Code</a></p>
<p><strong>Note</strong>: In the VS Code output the text field does not appear. Changing the presentation in the cell by clicking on the three dots and then on Change Presentation gives the following options:</p>
<p><a href=""https://i.stack.imgur.com/aISRn.png"" rel=""nofollow noreferrer"">Presentation option in output cell (VS Code)</a></p>
",74,0,<python><jupyter-notebook><ipywidgets><jupyterhub>,2022-09-15 08:52:56
73721445,Jupyterhub Failed to verify signature on SAML Response,"<p>We are getting an error in the SAML response on Jupyterhub. The similar SAML certificate and response is working fine in the old version of jupyterhub 0.9.4 below:</p>
<pre><code>conda list jupyterhub
Name Version Build Channel
jupyterhub 0.9.4 py37_1000 conda-forge
jupyterhub-samlauthenticator 0.0.7 pypi_0 pypi

But doesnt work in the new version below:

Name Version Build Channel
jupyterhub 2.0.0 pyhd3eb1b0_0
jupyterhub-samlauthenticator 0.0.7 pypi_0 pypi
</code></pre>
<p>I did reinstall the latest jupyterhub-samlauthenticator 0.0.9 but got same error.</p>
<p>See the error messages below:</p>
<pre><code>[I 2022-09-13 17:47:14.423 JupyterHub app:3101] JupyterHub is now running at http://:8000

[W 2022-09-13 17:47:34.330 JupyterHub base:391] Invalid or expired cookie token
[I 2022-09-13 17:47:34.331 JupyterHub samlauthenticator:806] Starting SP-initiated SAML Login
[I 2022-09-13 17:47:34.334 JupyterHub log:189] 302 GET /hub/login -&gt; https://example.com/auth123/ (@::ffff:x.x.x.x) 6.81ms

[W 2022-09-13 17:48:38.395 JupyterHub samlauthenticator:423] Failed to verify signature on SAML Response
[W 2022-09-13 17:48:38.395 JupyterHub samlauthenticator:346] Exception: Extra content at the end of the document, line 1, column 3433 (, line 1)
[W 2022-09-13 17:48:38.395 JupyterHub samlauthenticator:565] Failed to verify signature on SAML Response
[E 2022-09-13 17:48:38.395 JupyterHub samlauthenticator:701] Error validating SAML response
[W 2022-09-13 17:48:38.395 JupyterHub base:802] Failed login for unknown user
[E 2022-09-13 17:48:38.396 JupyterHub web:1789] Uncaught exception POST /hub/login (::ffff:x.x.x.x)
HTTPServerRequest(protocol='http', host='xyz.com:8000', method='POST', uri='/hub/login', version='HTTP/1.1', remote_ip='::ffff:x.x.x.x')
Traceback (most recent call last):
File &quot;/data/anaconda3/lib/python3.9/site-packages/tornado/web.py&quot;, line 1704, in _execute
result = await result
File &quot;/data/anaconda3/lib/python3.9/site-packages/jupyterhub/handlers/login.py&quot;, line 160, in post
login_error='Invalid username or password', username=data['username']
KeyError: 'username'

[E 2022-09-13 17:48:38.463 JupyterHub log:181] {
&quot;X-Forwarded-Host&quot;: &quot;xyz.com:8000&quot;,
&quot;X-Forwarded-Proto&quot;: &quot;http&quot;,
&quot;X-Forwarded-Port&quot;: &quot;8000&quot;,
&quot;X-Forwarded-For&quot;: &quot;::ffff:x.x.x.x&quot;,
&quot;Cookie&quot;: &quot;&quot;,
&quot;Accept-Language&quot;: &quot;en-US,en;q=0.9&quot;,
&quot;Accept-Encoding&quot;: &quot;gzip, deflate, br&quot;,
&quot;Referer&quot;: &quot;https://example.com/&quot;,
&quot;Sec-Fetch-Dest&quot;: &quot;document&quot;,
&quot;Sec-Fetch-Mode&quot;: &quot;navigate&quot;,
&quot;Sec-Fetch-Site&quot;: &quot;same-site&quot;,
&quot;Accept&quot;: &quot;text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,/;q=0.8,application/signed-exchange;v=b3;q=0.9&quot;,
&quot;User-Agent&quot;: &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.0.0 Safari/537.36&quot;,
&quot;Content-Type&quot;: &quot;application/x-www-form-urlencoded&quot;,
&quot;Origin&quot;: &quot;https://example.com&quot;,
&quot;Upgrade-Insecure-Requests&quot;: &quot;1&quot;,
&quot;Sec-Ch-Ua-Platform&quot;: &quot;&quot;Windows&quot;&quot;,
&quot;Sec-Ch-Ua-Mobile&quot;: &quot;?0&quot;,
&quot;Sec-Ch-Ua&quot;: &quot;&quot;Chromium&quot;;v=&quot;104&quot;, &quot; Not A;Brand&quot;;v=&quot;99&quot;, &quot;Google Chrome&quot;;v=&quot;104&quot;&quot;,
&quot;Cache-Control&quot;: &quot;max-age=0&quot;,
&quot;Content-Length&quot;: &quot;7269&quot;,
&quot;Connection&quot;: &quot;close&quot;,
&quot;Host&quot;: &quot;xyz.com:8000&quot;
}
[E 2022-09-13 17:48:38.464 JupyterHub log:189] 500 POST /hub/login (@::ffff:x.x.x.x) 74.15ms
17:52:14.430 [ConfigProxy] info: 200 GET /api/routes
17:57:14.430 [ConfigProxy] info: 200 GET /api/routes
</code></pre>
",26,0,<python><saml><jupyterhub>,2022-09-14 18:09:57
73718027,MultipleSelection and Interact from Ipywidgets not giving the desired display when defining a function,"<p>I want to use the selected items of four different Multiple Select from ipywidgets. I can create the box with the display I want using this code:</p>
<pre><code>box_layout = widgets.Layout(margin = '10px', border= '2px', padding = '10px', 
                            align_items = 'stretch',
                            justify_content = 'space-around',
                            width = '98%')

# Create the widgets
w1 = widgets.SelectMultiple(options = [&quot;a&quot;,&quot;b&quot;,&quot;c&quot;], rows=3)
w2 = widgets.SelectMultiple(options = [&quot;d&quot;,&quot;e&quot;,&quot;f&quot;], rows=3)
w3 = widgets.SelectMultiple(options = [&quot;g&quot;,&quot;h&quot;,&quot;i&quot;], rows=3)
w4 = widgets.SelectMultiple(options = [&quot;j&quot;,&quot;k&quot;,&quot;m&quot;], rows=3)

items = [
    widgets.VBox([widgets.Label(value = &quot;ONE&quot;), w1], layout = item_layout),
    widgets.VBox([widgets.Label(value = &quot;TWO&quot;), w2], layout = item_layout),
    widgets.VBox([widgets.Label(value = &quot;THREE&quot;), w3], layout = item_layout),
    widgets.VBox([widgets.Label(value = &quot;FOUR&quot;), w4], layout = item_layout)]

hbox = widgets.HBox(items, layout=box_layout)
display(hbox) 
</code></pre>
<p>I get this result (I like it, this is what I want): <a href=""https://i.stack.imgur.com/Kl99P.png"" rel=""nofollow noreferrer"">Image here</a></p>
<p>But then, when I try to use the selected items, with the chunk of code below, I don't get the desired result. <a href=""https://i.stack.imgur.com/zQ3NS.png"" rel=""nofollow noreferrer"">Image here</a></p>
<pre><code>@widgets.interact(one=w1, two=w2, three=w3, four=w4)
def trial(one, two, three, four):
    #do whatever e.g:
    display(hbox) 
    print(list(one+two+three+four))
</code></pre>
<p>One+two+three+four gives me the selected items (great!) but the display now is weird. Am I doing something wrong?</p>
<p>Thanks in advance! :)</p>
",21,0,<python><display><interactive><ipywidgets><multiple-select>,2022-09-14 13:49:43
73715821,Jupyter Lab issue displaying widgets (javascript error),"<p>I have troubles replicating a Jupyter Lab install on a new PC. It is working fine on my previous one.
I am unable to display simple widgets (like a checkbox from ipywidgets or ipyvuetify).
I checked that jupyter-widgets is enable with jupyter labextension list. The results is :</p>
<pre><code>    jupyter-vue v1.7.0 enabled ok
    jupyter-vuetify v1.8.4 enabled ok
    @jupyter-widgets/jupyterlab-manager v5.0.2 enabled ok (python, jupyterlab_widgets)
</code></pre>
<p>In the notebook, when i try to display a widget, the cell display a Javascrip error :</p>
<pre><code>    [Open Browser Console for more detailed log - Double click to close this message]
    Failed to load model class 'CheckboxModel' from module '@jupyter-widgets/controls'
    Error: Module @jupyter-widgets/controls, version ^1.5.0 is not registered, however,         
    2.0.0 is
    at f.loadClass (http://localhost:8888/lab/extensions/@jupyter-widgets/jupyterlab- 
    manager/static/134.083e6b37f2f7b2f04b5e.js?v=083e6b37f2f7b2f04b5e:1:74976)
    at f.loadModelClass (http://localhost:8888/lab/extensions/@jupyter-widgets/jupyterlab- 
    manager/static/150.467514c324d2bcc23502.js?v=467514c324d2bcc23502:1:10721)
    at f._make_model (http://localhost:8888/lab/extensions/@jupyter-widgets/jupyterlab- 
    manager/static/150.467514c324d2bcc23502.js?v=467514c324d2bcc23502:1:7517)
    at f.new_model (http://localhost:8888/lab/extensions/@jupyter-widgets/jupyterlab- 
    manager/static/150.467514c324d2bcc23502.js?v=467514c324d2bcc23502:1:5137)
    at f.handle_comm_open (http://localhost:8888/lab/extensions/@jupyter-widgets/jupyterlab- 
    manager/static/150.467514c324d2bcc23502.js?v=467514c324d2bcc23502:1:3894)
    at _handleCommOpen (http://localhost:8888/lab/extensions/@jupyter-widgets/jupyterlab- 
    manager/static/134.083e6b37f2f7b2f04b5e.js?v=083e6b37f2f7b2f04b5e:1:73392)
    at b._handleCommOpen (http://localhost:8888/static/lab/jlab_core.86360d749a1ef5f29afb.js? 
    v=86360d749a1ef5f29afb:2:924842)
    at async b._handleMessage 
    (http://localhost:8888/static/lab/jlab_core.86360d749a1ef5f29afb.js? 
    v=86360d749a1ef5f29afb:2:926832)
</code></pre>
",107,0,<javascript><jupyter-lab><ipywidgets>,2022-09-14 11:08:50
73685530,How is it possible to set Autocomplete off?,"<p>It was observed that the application has not set autocomplete off for username and password on the login page.
So that there is a threat:
As the application has username autocomplete enabled, it will cause username and password saved in the browser.</p>
",23,0,<jupyterhub>,2022-09-12 07:02:03
73651297,ipywidgets: clear_output() has no effect. Why?,"<p>I want to provide a GUI for the user to easily remove outliers from a dataset and plot the data. Therefore, I provide input fields for the user to specify data value limits; and a button to update the plot:</p>
<pre><code>import pandas as pd
import matplotlib.pyplot as plt
import ipywidgets as widgets
from IPython.display import display, clear_output

df = pd.read_csv(&quot;https://raw.githubusercontent.com/juliangermek/aia/main/treasure_data.csv&quot;, sep=&quot;;&quot;)

min_value_x = df[&quot;x&quot;].min()
max_value_x = df[&quot;x&quot;].max()
min_value_y = df[&quot;y&quot;].min()
max_value_y = df[&quot;y&quot;].max()

min_x = widgets.BoundedIntText(
    value=min_value_x,
    min=min_value_x,
    max=max_value_x,
    step=1,
    description='x lower limit:',
)
max_x = widgets.BoundedIntText(
    value=max_value_x,
    min=min_value_x,
    max=max_value_x,
    step=1,
    description='x upper limit:',
)

min_y = widgets.BoundedIntText(
    value=min_value_y,
    min=min_value_y,
    max=max_value_y,
    step=1,
    description='y lower limit:',
)
max_y = widgets.BoundedIntText(
    value=max_value_y,
    min=min_value_y,
    max=max_value_y,
    step=1,
    description='y upper limit:',
)

button = widgets.Button(description=&quot;Update image&quot;, button_style=&quot;info&quot;)
output = widgets.Output()

def on_button_clicked(b):
    with output:
        clear_output()

        is_within_x_domain = (df.x &gt; min_x.value) &amp; (df.x &lt; max_x.value)
        is_within_y_domain = (df.y &gt; min_y.value) &amp; (df.y &lt; max_y.value)

        df2 = df[is_within_x_domain &amp; is_within_y_domain]
        plt.figure(figsize=(20, 4))
        plt.scatter(df2[&quot;x&quot;], df2[&quot;y&quot;])

button.on_click(on_button_clicked) # Run when button is clicked
on_button_clicked(button) # Run when cell is run (so show image on start)

display(min_x)
display(max_x)
display(min_y)
display(max_y)

display(button, output)
</code></pre>
<p><a href=""https://i.stack.imgur.com/pFfuT.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/pFfuT.png"" alt=""enter image description here"" /></a></p>
<p>You should be able to run the code in this colab notebook (as long as you are signed in into a google account): <a href=""https://colab.research.google.com/drive/1eblVXf8J9V0VaObig1isJAbfadfuDIbK?usp=sharing"" rel=""nofollow noreferrer"">https://colab.research.google.com/drive/1eblVXf8J9V0VaObig1isJAbfadfuDIbK?usp=sharing</a></p>
<p>When I click on the update button, a new plot is generated, but the old plot is not deleted although I use <code>clear_output()</code> in the function triggered by the button. Why is this and how can I clear the old plot before displaying the new one?</p>
<p>Thanks!</p>
",31,0,<python><ipywidgets>,2022-09-08 15:06:34
73641032,How to execute a command on Jupyter Notebook Terminal via the Rest API or any Method,"<p>I have deployed Jupyterhub on Kubernetes following this guide <a href=""https://zero-to-jupyterhub.readthedocs.io/en/latest/"" rel=""nofollow noreferrer"">link</a>, I have setup nbgrader and ngshare on jupyterhub using this guide <a href=""https://nbgrader.readthedocs.io/en/stable/configuration/jupyterhub_config.html"" rel=""nofollow noreferrer"">link</a>, I have a Learning management system(LMS) similar to moodle, I want to view the list of assignments both for instructors and students I can do that by using the rest API of Jupyternotebook like this</p>
<pre><code>import requests
import json

api_url = 'http://xx.xxx.xxx.xx/user/kevin/api/contents/release'
payload = {'token': 'XXXXXXXXXXXXXXXXXXXXXXXXXX'}
r = requests.get(api_url,params = payload)

r.raise_for_status()
users = r.json()
print(json.dumps(users, indent = 1))
</code></pre>
<p>now I want to grade all submitted assignments using the nbgrader command <code>nbgrader autograde &quot;Assignment1&quot;</code>, I can do that by logging into instructor notebook server and going to terminal and running the same command but I want to run this command on the notebook server terminal using Jupyter Notebook server rest API, so that instructor clicks on grade button on the LMS frontend which sends a request to LMS backend and which sends a rest API request(which has the above command) to jupyter notebook , which runs the command on terminal and returns the response to LMS backend. I cannot find anything similar on the Jupyter Notebook API <a href=""https://jupyter-server.readthedocs.io/en/latest/developers/rest-api.html"" rel=""nofollow noreferrer""> documentation</a> there is endpoint to start a terminal but not how to run commands on it.</p>
",120,1,<python><kubernetes><jupyter-notebook><jupyterhub><nbgrader>,2022-09-07 20:17:24
73590242,cannot import name 'escape' from 'jinja2' (/opt/anaconda3/lib/python3.9/site-packages/jinja2/__init__.py),"<p>I was trying to import the following libraries in jupyter notebook at once:</p>
<pre><code>import dash
import dash_html_components as html
import dash_core_components as dcc
from dash.dependencies import Input, Output, State
import plotly.graph_objects as go
import plotly.express as px
from dash import no_update
</code></pre>
<p>However, I got the following error:</p>
<pre><code>cannot import name 'escape' from 'jinja2' (/opt/anaconda3/lib/python3.9/site-packages/jinja2/__init__.py)
</code></pre>
<p>Please what is missing?
Thank you.</p>
",39,0,<python><jupyter-notebook><jupyter><jupyter-lab><jupyterhub>,2022-09-03 06:51:48
73584425,Iterate through SelectMultiple ipywidget,"<p>I have an ipywidget <code>SelectMultiple</code> box that I use to select names from to run a report. I'm trying to automate that process and step one is to be able to iterate through my list of names.</p>
<p>I'm struggling as <code>SelectMultiple</code> requires a tuple input (I think) to give a value, and my prescribed name list will sometimes be a single name, yet sometimes be multiple.</p>
<p>My project works fine if I create the <code>SelectMultiple</code> box with no &quot;value&quot; - then I am able to select a single name <code>&quot;apple&quot;</code>, or multiple names <code>&quot;apple, orange&quot;</code> and run my report (I grab the values from the box and then create a list for the rest of my project (<code>name_lst = np.array(name.value).tolist())</code>)</p>
<p>To explain using a simpler example :</p>
<pre><code>import ipywidgets as ipw

name_lst = ['apple','orange', 'banana', 'pear', 'grapes','plums']

name = ipw.SelectMultiple(options = name_lst,
                   #    value=name_lst[0],
                       description='Client:',
                       layout = {'width':'300px','height':'300px'},
                       disabled=False)
</code></pre>
<p>is my SelectMultiple ipywidget</p>
<p>If I unhash then I get the error</p>
<pre><code>TraitError: The 'value' trait of a SelectMultiple instance expected a tuple, not the str 'apple'.
</code></pre>
<p>If I however just select apple from my widget then the rest of my code runs fine.</p>
<p>Thinking of iterating through the list I wanted to do something like :</p>
<pre><code>for i in range(len(name_lst)):
    name = ipw.SelectMultiple(options = name_lst,
                   value=name_lst[i],
                   description='Client:',
                   layout = {'width':'300px','height':'300px'},
                   disabled=False)

    rest of code to run my report
</code></pre>
<p>but this is failing at step one as <code>value=name_lst[0]</code> gives the <code>TraitError</code>.</p>
<p>As <code>SelectMultiple</code> requires a tuple then I know I can put a <code>&quot;,&quot;</code> after the <code>name_list[0]</code> to create the tuple. But then my <code>name.value</code> becomes <code>''apple',,'</code> so it fails later in my code.</p>
<p>Whats puzzling me is if I run and type <code>name.value</code></p>
<p>after selecting only 1 item then the output is (<code>'apple',</code>) which implies a blank second entry, but I dont know how to recreate that in a <code>'value=' field</code> in the widget set up.</p>
",30,0,<python><loops><ipywidgets>,2022-09-02 14:52:07
73583803,Plotly FigureWidgets doesn't get loaded in kaggle's notebook,"<p>I am trying to create an interactive chart using plotly in Kaggle's <code>notebook</code>. My problem here is when I try to add a <code>FigureWidget</code> in the display it's says <code>Loading widget...</code> but none of the <code>widgets</code> load at all. Below, I have given an example of my problem,</p>
<p><strong>Output without <code>FigureWidget</code></strong></p>
<p><img src=""https://i.stack.imgur.com/kKONM.png"" alt=""without FigureWidget"" /></p>
<p><strong>Output with <code>FigureWidget</code></strong></p>
<p><a href=""https://i.stack.imgur.com/sa7CV.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/sa7CV.png"" alt=""with Figurewidget"" /></a></p>
<p><strong>Here is the sample code</strong></p>
<pre class=""lang-py prettyprint-override""><code>g = go.FigureWidget(data = go.Bar(x=[1,2,3,4,5],y=[1,2,3,4,5],name='xyz'),
                    layout = go.Layout(title = dict(text=&quot;title&quot;))
                   )
container1 = widgets.HBox(children = [widgets.IntSlider(),widgets.Checkbox()])
widgets.VBox([container1,g])
</code></pre>
<p>I don't know what is the problem here. The <code>bar trace</code> works fine alone as a chart but it's not getting loaded in widgets.</p>
<p>Please let me know if I'm missing something. Thank you !</p>
<p><strong>P.S. : I am facing this problem in kaggle's notebook</strong></p>
",50,1,<python><jupyter-notebook><plotly><kaggle><ipywidgets>,2022-09-02 14:05:14
73578290,AttributeError: type Object 'Widget' has no attribute '_ipython_display_',"<p>In one of my python test case I have mockcomm object and in the mockcomm function I am using ipywidgets. Recently Upgraded ipywidgets version from 7 to 8. The code is working fine in version 7 of ipywidgets but when upgraded I am facing the below error. Saying Object has not attribute defined. did any one faced the error can help me.</p>
<p><a href=""https://i.stack.imgur.com/y5DUL.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/y5DUL.png"" alt=""enter image description here"" /></a></p>
",53,0,<python><jupyter-notebook><ipywidgets>,2022-09-02 05:53:57
73578014,"Bitnami jupyterhub charts on k8s failing due to password authentication failed for user ""bn_jupyterhub""","<p>I deployed JupyterHub packaged by Bitnami on our GKE k8s cluster under one of our namespaces with the same default values defined in their repo successfully.</p>
<p><a href=""https://github.com/bitnami/charts/tree/master/bitnami/jupyterhub/#installing-the-chart"" rel=""nofollow noreferrer"">https://github.com/bitnami/charts/tree/master/bitnami/jupyterhub/#installing-the-chart</a></p>
<p>However I noticed jupyterhub pod is crashing with Init:CrashLoopBackOff error and logs shows it could not connect to database server.</p>
<pre><code>kubectl logs pod/jupyterhub-hub-59cc99bdfb-d4vjx wait-for-db
←[38;5;6m ←[38;5;5m04:24:03.35 ←[0m←[38;5;2mINFO ←[0m ==&gt; Connecting to the PostgreSQL instance jupyterhub-postgresql:5432
←[38;5;6m ←[38;5;5m04:25:03.57 ←[0m←[38;5;1mERROR←[0m ==&gt; Could not connect to the database server
/bin/bash: line 18: return: can only `return' from a function or sourced script

</code></pre>
<p>It seems postgressql-0 pod is runnin into authentication error seems to be the cause here. I have not used any changes in the values.yaml file provided in the <a href=""https://github.com/bitnami/charts/blob/master/bitnami/jupyterhub/values.yaml"" rel=""nofollow noreferrer"">https://github.com/bitnami/charts/blob/master/bitnami/jupyterhub/values.yaml</a>.</p>
<pre><code>
kubectl logs jupyterhub-postgresql-0 postgresql
←[38;5;6mpostgresql ←[38;5;5m03:13:30.41 ←[0m
←[38;5;6mpostgresql ←[38;5;5m03:13:30.41 ←[0m←[1mWelcome to the Bitnami postgresql container←[0m
←[38;5;6mpostgresql ←[38;5;5m03:13:30.41 ←[0mSubscribe to project updates by watching ←[1mhttps://github.com/bitnami/containers←[0m
←[38;5;6mpostgresql ←[38;5;5m03:13:30.41 ←[0mSubmit issues and feature requests at ←[1mhttps://github.com/bitnami/containers/issues←[0m
←[38;5;6mpostgresql ←[38;5;5m03:13:30.42 ←[0m
←[38;5;6mpostgresql ←[38;5;5m03:13:30.45 ←[0m←[38;5;2mINFO ←[0m ==&gt; ** Starting PostgreSQL setup **
←[38;5;6mpostgresql ←[38;5;5m03:13:30.46 ←[0m←[38;5;2mINFO ←[0m ==&gt; Validating settings in POSTGRESQL_* env vars..
←[38;5;6mpostgresql ←[38;5;5m03:13:30.47 ←[0m←[38;5;2mINFO ←[0m ==&gt; Loading custom pre-init scripts...
←[38;5;6mpostgresql ←[38;5;5m03:13:30.48 ←[0m←[38;5;2mINFO ←[0m ==&gt; Initializing PostgreSQL database...
←[38;5;6mpostgresql ←[38;5;5m03:13:30.50 ←[0m←[38;5;2mINFO ←[0m ==&gt; pg_hba.conf file not detected. Generating it...
←[38;5;6mpostgresql ←[38;5;5m03:13:30.50 ←[0m←[38;5;2mINFO ←[0m ==&gt; Generating local authentication configuration
←[38;5;6mpostgresql ←[38;5;5m03:13:30.53 ←[0m←[38;5;2mINFO ←[0m ==&gt; Deploying PostgreSQL with persisted data...
←[38;5;6mpostgresql ←[38;5;5m03:13:30.57 ←[0m←[38;5;2mINFO ←[0m ==&gt; Configuring replication parameters
←[38;5;6mpostgresql ←[38;5;5m03:13:30.61 ←[0m←[38;5;2mINFO ←[0m ==&gt; Configuring fsync
←[38;5;6mpostgresql ←[38;5;5m03:13:30.62 ←[0m←[38;5;2mINFO ←[0m ==&gt; Configuring synchronous_replication
←[38;5;6mpostgresql ←[38;5;5m03:13:30.66 ←[0m←[38;5;2mINFO ←[0m ==&gt; Loading custom scripts...
←[38;5;6mpostgresql ←[38;5;5m03:13:30.66 ←[0m←[38;5;2mINFO ←[0m ==&gt; Enabling remote connections
←[38;5;6mpostgresql ←[38;5;5m03:13:30.67 ←[0m←[38;5;2mINFO ←[0m ==&gt; ** PostgreSQL setup finished! **

←[38;5;6mpostgresql ←[38;5;5m03:13:30.69 ←[0m←[38;5;2mINFO ←[0m ==&gt; ** Starting PostgreSQL **
2022-09-01 03:13:30.760 GMT [1] LOG:  pgaudit extension initialized
2022-09-01 03:13:30.765 GMT [1] LOG:  starting PostgreSQL 14.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 10.2.1-6) 10.2.1 20210110, 64-bit
2022-09-01 03:13:30.765 GMT [1] LOG:  listening on IPv4 address &quot;0.0.0.0&quot;, port 5432
2022-09-01 03:13:30.766 GMT [1] LOG:  listening on IPv6 address &quot;::&quot;, port 5432
2022-09-01 03:13:30.769 GMT [1] LOG:  listening on Unix socket &quot;/tmp/.s.PGSQL.5432&quot;
2022-09-01 03:13:30.775 GMT [91] LOG:  database system was shut down at 2022-09-01 02:36:41 GMT
2022-09-01 03:13:30.813 GMT [1] LOG:  database system is ready to accept connections
2022-09-01 03:13:57.645 GMT [116] FATAL:  password authentication failed for user &quot;bn_jupyterhub&quot;
2022-09-01 03:13:57.645 GMT [116] DETAIL:  Connection matched pg_hba.conf line 1: &quot;host     all             all             0.0.0.0/0               md5&quot;
2022-09-01 03:14:02.663 GMT [118] FATAL:  password authentication failed for user &quot;bn_jupyterhub&quot;
2022-09-01 03:14:02.663 GMT [118] DETAIL:  Connection matched pg_hba.conf line 1: &quot;host     all             all             0.0.0.0/0               md5&quot;
2022-09-01 03:14:07.681 GMT [131] FATAL:  password authentication failed for user &quot;bn_jupyterhub&quot;

</code></pre>
<p>This was deployed with the same command <strong>helm install jupyterhub bitnami/jupyterhub</strong>. There were no special instructions or password suppled in the values.yaml file.</p>
<p>What am I missing here? Do I have to specify password values here to make it working? restarting the pod and redeploying the charts seems not helpful.</p>
<p>Any further advises are highly appreciated!</p>
<p>Thank you</p>
",51,0,<postgresql><kubernetes><google-kubernetes-engine><bitnami><jupyterhub>,2022-09-02 05:08:45
73571661,"Iterate through list, create Voila page and then screenshot complete page saving image to file","<p>I've built an jupyter notebook that, when run,  lets someone select a name from a list and push a button to generate a report on that name. This is mainly done using ipywidgets.</p>
<p>I'm looking to automate the report generation process so was thinking of :</p>
<ol>
<li>Iterating through list of names</li>
<li>creating a Voila html page once the report is created per name</li>
<li>screenshotting that Voila url using Selenium chromedriver</li>
</ol>
<p>All of this sitting within a loop that can be run.</p>
<p>Am I thinking about this all wrong ? Not experienced with python and interactions with Voila etc.</p>
",22,0,<python><selenium><loops><jupyter-notebook><ipywidgets>,2022-09-01 15:07:48
73558235,"I am using a widget with interact to plot points on a graph as they are selected, but I have problems when trying to use a button to control plt.plot","<p>The code that works is as follows:</p>
<pre><code>def f(x,y):              
    display(x,y)
    plt.plot(x,y,'bo')   
    return (x,y)

widgets.interact(f,x=[('1',10),('2',20),('3',30),('4',40)],
                   y=[('1',1),('2',2),('3',3),('4',4)])
</code></pre>
<p>But the problem is that the point is plotted whenever x or y changes. I inserted a button widget to have the program wait until both x and y are selected before calling the plt.plot() function as shown below, but when Enter is pressed, I get an error message saying that y is not defined. The modified code that doesn't work is shown below.</p>
<pre><code>def f(x,y):              
    display(x,y)
    return (x,y)

def plot_point(x,y):
    plt.plot(x,y,'bo')
    return 

widgets.interact(f,x=[('1',10),('2',20),('3',30),('4',40)],
                   y=[('1',1),('2',2),('3',3),('4',4)])

   
btn=widgets.Button(description='Enter')
display(btn)
btn.on_click(plot_point)
</code></pre>
",18,0,<python><matplotlib><ipywidgets>,2022-08-31 15:23:46
73544285,Saving ipywidget output to file,"<p>I have a jupyter notebook project that creates a series of charts/outcomes for portfolios I upload from excel.</p>
<p>The outputs are displayed within a chart.container(pie chart (plotly),ipy datagrid, stacked bar (plotly))</p>
<p>I upload the input data and hit a button (ipywidget) to produce the &quot;children&quot; for the container.</p>
<p>I have a question :</p>
<p>Is there a way for me to save the output of an ipy datagrid ? I just want to save the image of the grid after my app has run.</p>
<p>I have searched and searched on this - I see I can save the plotly charts to html. If I can find a way to save the datagrid I can paste these together and construct a report. I understand there is no way to save the general &quot;output&quot; of code as an image file (which was my initial task).</p>
",35,0,<python><jupyter-notebook><save><ipywidgets>,2022-08-30 14:38:31
73542204,IPY widget Datetimepicker subtract date.today(),"<p>Hi I'm trying to get the number of days between the date selected with the widget and today's date but I get the following error:
<em>unsupported operand type(s) for -: 'NoneType' and 'datetime.date'</em></p>
<pre><code>import ipywidgets as widgets
from datetime import date


last_connected = widgets.DatePicker(
    description='Pick a Date',
    disabled=False)


def days_between(last):
    return last_connected.value - date.today()
    #return abs((last - date.today()).days)

widgets.interactive(days_between,
                    last = last_connected)
</code></pre>
",22,1,<python><jupyter-notebook><widget><ipywidgets>,2022-08-30 12:06:46
73532648,Is there a way to replicate this bokeh chart using ipychart?,"<p>I am trying to reproduce a bokeh chart using ipychart. The code for the bokeh chart is given below. Many thanks in advance:</p>
<pre><code>[Sample dataframe][1]

import pandas as pd
import panel as pn
pn.extension('tabulator')
import hvplot.pandas
import holoviews as hv
# import the data        
df_1q = pd.read_csv('Fac_Summary_Q3.csv')
# Make DataFrame Pipeline Interactive
idf_1q = df_1q.interactive()

# A MultiSelect widget
cummu_df_ip_1 = pn.widgets.MultiSelect(name='Indicators', value=['A', 'C', 'D', 'E'],
    options=['A','B', 'C', 'D', 'E', 'F', 'G', 'H'], size=6)

# create pipeline
df_1q_bar_pipe = (
    idf_1q[
        (idf_1q.IP !='')
    ]
    .groupby(['IP'])[cummu_df_ip_1].sum()
    # .to_frame()
    .reset_index()
    # .reset_index(drop=True)
)

# hvplot
cummu_bar_plot = df_1q_bar_pipe.hvplot(kind='bar', color='#6d00d8', grid=True, 
   use_index=False, yformatter='%.0f', y=cummu_df_ip_1, xlabel='', fontsize= 
    {'xticks':12,'yticks':12 },title='Overall Performance')
cummu_bar_plot 
[Expected output][2]


  [1]: https://i.stack.imgur.com/GhYwR.png
  [2]: https://i.stack.imgur.com/ZUOgg.png
</code></pre>
<p>When I attempt the same thing using ipychart I get &quot;AttributeError: 'DataFrame' object has no attribute 'ipc'&quot;:</p>
<pre><code>import ipychart as ipc
import ipywidgets as widgets

cummu_df_ip_1 = widgets.SelectMultiple(description='Indicators', value=['A', 'C', 'D', 'E'], options=['A','B', 'C', 'D', 'E', 'F', 'G', 'H'], rows=6)

tx_ind_df_1q_bar_pipe = (
    df_1q[(df_1q.IP !='')]
    .groupby(['IP'])[cummu_df_ip_1.value].sum()
    .reset_index()
)

cummu_bar_plot = tx_ind_df_1q_bar_pipe.ipc(data=tx_ind_df_1q_bar_pipe, kind='bar', y=cummu_df_ip_1, colorscheme='tableau.Blue20')
cummu_bar_plot
</code></pre>
",26,0,<python><pandas><charts><ipywidgets>,2022-08-29 17:38:56
73512907,Combining matplotlib animation with ipywidgets,"<p>I'm trying to get a Matplotlib animation to cooperate with Jupyter's ipywidgets package, so far without success. My current approach is to create a <code>FuncAnimation</code> object and a <code>Play</code> widget, then bind an event handler to its <code>playing</code> attribute which pauses or resumes the animation depending on the current state of the controls. The result is a graph which spasms around and doesn't respond to the playback controls. Any idea how this can be fixed?</p>
<pre class=""lang-py prettyprint-override""><code>fig, ax = plt.subplots()
x_data, y_data = [], []
line, = ax.plot([], [])

def init():
    ax.set_xlim(-1, 1)
    ax.set_ylim(-1, 1)
    return line

def update_animation(frame):
    u_eps = sympy.lambdify(t, u.subs(epsilon, frame))
    x_data = np.linspace(-1, 1, 1000)
    y_data = u_eps(x_data)
    line.set_data(x_data, y_data)
    return line

play = widgets.Play(min=0, max=100, step=1)
slider = widgets.IntSlider()
widgets.jslink((play, 'value'), (slider, 'value'))
playback = widgets.HBox([play, slider])

eps_vals = np.flip((10*np.ones(100))**np.linspace(-4, 0, 100))
animation = FuncAnimation(fig, update_animation, frames=eps_vals, init_func=init)

def on_value_change(change):
    if change['new']:
        animation.resume()
    else:
        animation.pause()

play.observe(on_value_change, 'playing')

display(playback)
</code></pre>
",21,0,<python><matplotlib><jupyter-notebook><ipywidgets>,2022-08-27 17:05:31
73501219,Not able to open or create an ipynb file in Jupyter notebook,"<p>When opening or create a new &quot;.ipynb&quot; file in Jupyter notebook it shows me &quot;500: internal server error&quot; and in terminal gives the error below. It was working fine before but when I upgraded nbconvert it started giving me this error. I upgraded nbconvert to fix the error of download jupyter notebooks as pdf file via latex or html  but it didn't work after upgrading nbconvert too. Then install pandoc but still didn't work.</p>
<p>Tried downgrading to nbconvert to various versions given on several websites including stackoverflow.com but didn't able to fix this error.</p>
<p>Tried upgrading or reinstalling Jupyter again.</p>
<p>Tried upgrading jupyter-hub.</p>
<p>Tried upgrading ipython[all].</p>
<p>By trying all of the above solutions from various websites not able to solve this error or pass it to the new error. Still showing the same message on the web &quot;500: internal server error&quot; and giving the same error as shown below in the terminal.</p>
<pre><code>[I 17:58:58.226 NotebookApp] Creating new notebook in /Project - House Price Prediction
[E 17:58:58.383 NotebookApp] Uncaught exception GET /notebooks/Project%20-%20House%20Price%20Prediction/Untitled.ipynb?kernel_name=python3 (::1)
    HTTPServerRequest(protocol='http', host='localhost:8888', method='GET', uri='/notebooks/Project%20-%20House%20Price%20Prediction/Untitled.ipynb?kernel_name=python3', version='HTTP/1.1', remote_ip='::1')
    Traceback (most recent call last):
      File &quot;/Users/harshulnanda/tensorflow-work/env/lib/python3.10/site-packages/tornado/web.py&quot;, line 1713, in _execute
        result = await result
      File &quot;/Users/harshulnanda/tensorflow-work/env/lib/python3.10/site-packages/tornado/gen.py&quot;, line 782, in run
        yielded = self.gen.send(value)
      File &quot;/Users/harshulnanda/tensorflow-work/env/lib/python3.10/site-packages/notebook/notebook/handlers.py&quot;, line 94, in get
        self.write(self.render_template('notebook.html',
      File &quot;/Users/harshulnanda/tensorflow-work/env/lib/python3.10/site-packages/notebook/base/handlers.py&quot;, line 511, in render_template
        return template.render(**ns)
      File &quot;/Users/harshulnanda/tensorflow-work/env/lib/python3.10/site-packages/jinja2/environment.py&quot;, line 1291, in render
        self.environment.handle_exception()
      File &quot;/Users/harshulnanda/tensorflow-work/env/lib/python3.10/site-packages/jinja2/environment.py&quot;, line 925, in handle_exception
        raise rewrite_traceback_stack(source=source)
      File &quot;/Users/harshulnanda/tensorflow-work/env/lib/python3.10/site-packages/notebook/templates/notebook.html&quot;, line 1, in top-level template code
        {% extends &quot;page.html&quot; %}
      File &quot;/Users/harshulnanda/tensorflow-work/env/lib/python3.10/site-packages/notebook/templates/page.html&quot;, line 154, in top-level template code
        {% block header %}
      File &quot;/Users/harshulnanda/tensorflow-work/env/lib/python3.10/site-packages/notebook/templates/notebook.html&quot;, line 115, in block 'header'
        {% for exporter in get_frontend_exporters() %}
      File &quot;/Users/harshulnanda/tensorflow-work/env/lib/python3.10/site-packages/notebook/notebook/handlers.py&quot;, line 23, in get_frontend_exporters
        from nbconvert.exporters.base import get_export_names, get_exporter
      File &quot;/Users/harshulnanda/.local/lib/python3.10/site-packages/nbconvert/__init__.py&quot;, line 7, in &lt;module&gt;
        from .exporters import *
      File &quot;/Users/harshulnanda/.local/lib/python3.10/site-packages/nbconvert/exporters/__init__.py&quot;, line 1, in &lt;module&gt;
        from .asciidoc import ASCIIDocExporter
      File &quot;/Users/harshulnanda/.local/lib/python3.10/site-packages/nbconvert/exporters/asciidoc.py&quot;, line 9, in &lt;module&gt;
        from .templateexporter import TemplateExporter
      File &quot;/Users/harshulnanda/.local/lib/python3.10/site-packages/nbconvert/exporters/templateexporter.py&quot;, line 25, in &lt;module&gt;
        from lxml.html.clean import clean_html
      File &quot;/Users/harshulnanda/.local/lib/python3.10/site-packages/lxml/html/__init__.py&quot;, line 53, in &lt;module&gt;
        from .. import etree
    ImportError: dlopen(/Users/harshulnanda/.local/lib/python3.10/site-packages/lxml/etree.cpython-310-darwin.so, 0x0002): tried: '/Users/harshulnanda/.local/lib/python3.10/site-packages/lxml/etree.cpython-310-darwin.so' (mach-o file, but is an incompatible architecture (have 'x86_64', need 'arm64e'))
[E 17:58:58.386 NotebookApp] {
      &quot;Host&quot;: &quot;localhost:8888&quot;,
      &quot;Accept&quot;: &quot;text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8&quot;,
      &quot;Referer&quot;: &quot;http://localhost:8888/tree/Project%20-%20House%20Price%20Prediction&quot;,
      &quot;User-Agent&quot;: &quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.5 Safari/605.1.15&quot;
    }
[E 17:58:58.386 NotebookApp] 500 GET /notebooks/Project%20-%20House%20Price%20Prediction/Untitled.ipynb?kernel_name=python3 (::1) 92.170000ms referer=http://localhost:8888/tree/Project%20-%20House%20Price%20Prediction
</code></pre>
",239,0,<python><jupyter-notebook><jupyter><ipython><jupyterhub>,2022-08-26 12:42:34
73495620,max number of python plotly.graph_objects.FigureWidget instances,"<p>At most 8 FigureWidgets can be displayed in one python application. Is there a way to increase the limit higher?</p>
<p>The below is a simplified Jupyter notebook example, where 10 FigureWidgets are supposed to be displayed, but only 8 of them are drawn. If a button in an undisplayed widget is clicked, then the widget is drawn but another widget disappears.</p>
<p>Tried many other scenarios, but the behavior is consistent in keeping maximum 8 FigureWidgets. My colleagues see the same issues. Is there a way to increase the limit?</p>
<pre><code>import plotly.graph_objects as go
import ipywidgets

figs = []
for i in range(10):
    fig = go.Figure()
    fig.update_layout(title=&quot;Fig&quot;+str(i)) \
        .add_trace(go.Scattergl(x=list(range(100)), y=list(range(100)), mode='markers'))
    figs.append(go.FigureWidget(fig))
ipywidgets.VBox([ipywidgets.HBox(figs[0:5]), ipywidgets.HBox(figs[5:10])])
</code></pre>
<p><a href=""https://i.stack.imgur.com/TEsR9.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/TEsR9.png"" alt=""enter image description here"" /></a></p>
",28,0,<python><python-3.x><plotly><ipywidgets><plotly.graph-objects>,2022-08-26 02:54:16
73490227,JupyterHub (TLJH) server spawn failure,"<p>We are trying to create a golden AMI for launching EC2 instances for our data devs. TLJH is already installed on the image, along with several lab extensions. Since we want to use SSO authentication, an additional <a href=""https://tljh.jupyter.org/en/latest/howto/auth/awscognito.html"" rel=""nofollow noreferrer"">config file</a> was created with the necessary code for leveraging our Cognito user pool's federated logins.</p>
<p>Next, a cloud formation template was created for spinning up a fully loaded and configured TLJH EC2 instance. Part of the template contains a user data setup script that runs post-creation (the port assignment is just for our dev environment redirection to localhost):</p>
<pre><code>#!/bin/bash
systemctl stop jupyterhub.service
sudo tljh-config set http.port 8000
sudo tljh-config add-item users.admin testorg_${Email}
sudo tljh-config set user_environment.default_app jupyterlab
sudo tljh-config reload
</code></pre>
<p>When the deployment is complete, I am able to browse to the hub and get prompted to sign in with Cognito, which works fine. When the server attempts to spawn, it will timeout and fail. If I try to restart the user's server, then the spawn works. Below are the relevant failure lines from the hub log:</p>
<pre><code>Aug 25 14:15:24 ip-10-73-32-231 python3[1411]: [I 2022-08-25 14:15:24.760 JupyterHub base:762] User logged in: testorg_testuser@company.com
Aug 25 14:15:24 ip-10-73-32-231 python3[1411]: [I 2022-08-25 14:15:24.762 JupyterHub log:189] 302 GET /hub/oauth_callback?code=[secret]&amp;state=[secret] -&gt; /hub/ (@127.0.0.1) 480.53ms
Aug 25 14:15:24 ip-10-73-32-231 python3[1411]: [I 2022-08-25 14:15:24.805 JupyterHub log:189] 302 GET /hub/ -&gt; /hub/spawn (testorg_testuser@company.com@127.0.0.1) 12.37ms
Aug 25 14:15:24 ip-10-73-32-231 python3[1411]: [I 2022-08-25 14:15:24.852 JupyterHub provider:574] Creating oauth client jupyterhub-user-testuser%40company.com
Aug 25 14:15:25 ip-10-73-32-231 python3[1411]: Running as unit: jupyter-testorg_testuser@company.com.service
Aug 25 14:15:25 ip-10-73-32-231 python3[1411]: [I 2022-08-25 14:15:25.839 JupyterHub log:189] 302 GET /hub/spawn -&gt; /hub/spawn-pending/testorg_testuser@company.com (testorg_testuser@company.com@127.0.0.1) 1004.88ms
Aug 25 14:15:25 ip-10-73-32-231 python3[1411]: [I 2022-08-25 14:15:25.865 JupyterHub pages:402] testorg_testuser@company.com is pending spawn
Aug 25 14:15:25 ip-10-73-32-231 python3[1411]: [I 2022-08-25 14:15:25.872 JupyterHub log:189] 200 GET /hub/spawn-pending/testorg_testuser@company.com (testorg_testuser@company.com@127.0.0.1) 10.33ms
Aug 25 14:15:34 ip-10-73-32-231 python3[1411]: [W 2022-08-25 14:15:34.854 JupyterHub base:1043] User testorg_testuser@company.com is slow to become responsive (timeout=10)
Aug 25 14:15:40 ip-10-73-32-231 python3[1411]: [I 2022-08-25 14:15:40.801 JupyterHub log:189] 200 GET /hub/api/ (cull-idle@127.0.0.1) 95.08ms
Aug 25 14:15:40 ip-10-73-32-231 python3[1411]: [I 2022-08-25 14:15:40.812 JupyterHub log:189] 200 GET /hub/api/users?state=[secret] (cull-idle@127.0.0.1) 8.03ms
Aug 25 14:15:53 ip-10-73-32-231 python3[1411]: [W 2022-08-25 14:15:53.118 JupyterHub user:772] testorg_testuser@company.com's server never showed up at http://127.0.0.1:41947/user/testorg_testuser@company.com/ after 30 seconds. Giving up
Aug 25 14:15:55 ip-10-73-32-231 python3[1411]: [I 2022-08-25 14:15:55.689 JupyterHub log:189] 200 GET /hub/api (@127.0.0.1) 3.18ms
Aug 25 14:15:56 ip-10-73-32-231 python3[1411]: [I 2022-08-25 14:15:56.083 JupyterHub log:189] 200 POST /hub/api/users/testorg_testuser@company.com/activity (testorg_testuser@company.com@127.0.0.1) 290.22ms
Aug 25 14:16:40 ip-10-73-32-231 python3[1411]: [I 2022-08-25 14:16:40.691 JupyterHub log:189] 200 GET /hub/api/ (cull-idle@127.0.0.1) 8.64ms
Aug 25 14:16:40 ip-10-73-32-231 python3[1411]: [I 2022-08-25 14:16:40.699 JupyterHub log:189] 200 GET /hub/api/users?state=[secret] (cull-idle@127.0.0.1) 4.96ms
Aug 25 14:17:23 ip-10-73-32-231 python3[1411]: [E 2022-08-25 14:17:23.305 JupyterHub gen:624] Exception in Future &lt;Task finished coro=&lt;BaseHandler.spawn_single_user.&lt;locals&gt;.finish_user_spawn() done, defined at /opt/tljh/hub/lib/python3.6/site-packages/jupyterhub/handlers/base.py:900&gt; exception=TimeoutError(&quot;Server at http://127.0.0.1:41947/user/testorg_testuser@company.com/ didn't respond in 30 seconds&quot;,)&gt; after timeout
Aug 25 14:17:23 ip-10-73-32-231 python3[1411]:     Traceback (most recent call last):
Aug 25 14:17:23 ip-10-73-32-231 python3[1411]:       File &quot;/opt/tljh/hub/lib/python3.6/site-packages/tornado/gen.py&quot;, line 618, in error_callback
Aug 25 14:17:23 ip-10-73-32-231 python3[1411]:         future.result()
Aug 25 14:17:23 ip-10-73-32-231 python3[1411]:       File &quot;/opt/tljh/hub/lib/python3.6/site-packages/jupyterhub/handlers/base.py&quot;, line 907, in finish_user_spawn
Aug 25 14:17:23 ip-10-73-32-231 python3[1411]:         await spawn_future
Aug 25 14:17:23 ip-10-73-32-231 python3[1411]:       File &quot;/opt/tljh/hub/lib/python3.6/site-packages/jupyterhub/user.py&quot;, line 748, in spawn
Aug 25 14:17:23 ip-10-73-32-231 python3[1411]:         await self._wait_up(spawner)
Aug 25 14:17:23 ip-10-73-32-231 python3[1411]:       File &quot;/opt/tljh/hub/lib/python3.6/site-packages/jupyterhub/user.py&quot;, line 795, in _wait_up
Aug 25 14:17:23 ip-10-73-32-231 python3[1411]:         raise e
Aug 25 14:17:23 ip-10-73-32-231 python3[1411]:       File &quot;/opt/tljh/hub/lib/python3.6/site-packages/jupyterhub/user.py&quot;, line 763, in _wait_up
Aug 25 14:17:23 ip-10-73-32-231 python3[1411]:         http=True, timeout=spawner.http_timeout, ssl_context=ssl_context
Aug 25 14:17:23 ip-10-73-32-231 python3[1411]:       File &quot;/opt/tljh/hub/lib/python3.6/site-packages/jupyterhub/utils.py&quot;, line 241, in wait_for_http_server
Aug 25 14:17:23 ip-10-73-32-231 python3[1411]:         timeout=timeout,
Aug 25 14:17:23 ip-10-73-32-231 python3[1411]:       File &quot;/opt/tljh/hub/lib/python3.6/site-packages/jupyterhub/utils.py&quot;, line 184, in exponential_backoff
Aug 25 14:17:23 ip-10-73-32-231 python3[1411]:         raise TimeoutError(fail_message)
Aug 25 14:17:23 ip-10-73-32-231 python3[1411]:     TimeoutError: Server at http://127.0.0.1:41947/user/testorg_testuser@company.com/ didn't respond in 30 seconds
</code></pre>
<p>I would sincerely appreciate some insight as to what is causing this spawn to fail in the first place.</p>
",84,0,<jupyter><jupyterhub>,2022-08-25 15:31:40
73484386,Exporting collapsible table to HTML,"<p>I would like to export a jupyter notebook containing collapsible tables to HTML.
It is possible to produce collapsible tables using accordions from ipywidgets. Yet, the latter disappear when exported to HTML.
Is there any way to either keep widgets exported to HTML using an offline solution, or build collapsible tables compatible to HTML export ?</p>
<p>My code :</p>
<pre><code>import pandas as pd
import ipywidgets as widgets
from IPython.display import display, HTML

# Data
df = pd.DataFrame(({&quot;A&quot; : range(0,10),
                    &quot;B&quot; : range(10,20)
                   }))

# Accordion
out = widgets.Output()
with out:
    display(df)

accordion=widgets.Accordion(children=[out], selected_index=None)
accordion.set_title(0, &quot;Accordion&quot;)
accordion
</code></pre>
",49,0,<python><jupyter-notebook><ipywidgets>,2022-08-25 08:36:48
73463935,Github on Azure DSVM Jupyterhub,"<p>This might be a basic question but I couldnt find the answer myself.</p>
<p>I set up an Azure DSVM and use JupyterHub.
In one of my github repositories I have some notebooks I would like to work with. So I cloned the github repo via the terminal (git clone ...). It also worked. But how can I access these files now? In the JupyterHub file browser they are not existent.</p>
",16,0,<azure><github><jupyter><jupyterhub><azure-dsvm>,2022-08-23 19:03:56
73448638,Access ipywidgets Output outputs,"<p>I need to extract outputs from ipywidgets.Output, but their content depends on when the cell with extraction function was launched. Basically, the widget displays it's content fine, while it's outputs attribute remains empty. Here's an example:</p>
<pre><code>from ipywidgets import Output
import time

def get_output_text(out_w):
    try:
        return out_w.outputs[0]['text']
    except IndexError:
        return 'no text'

out = Output()
display(out)

for i in range(3):
    with out:
        out.clear_output()
        print(f'iteration: {i}')
        time.sleep(1)
    print(f'iteration: {i}, len(outputs): {len(out.outputs)}')

# iteration: 2

# iteration: 0, len(outputs): 0
# iteration: 1, len(outputs): 0
# iteration: 2, len(outputs): 0
</code></pre>
<p>Also I'm trying to access outputs in a separate cell like this:</p>
<pre><code>print(get_output_text(out))
</code></pre>
<p>It yields 3 different results, depending on the launch moment:</p>
<ol>
<li>Together with the loop cell: <code>no text</code></li>
<li>One second after launching the loop cell: <code>iteration: 0</code></li>
<li>After all previous execution is finished: <code>iteration: 2</code></li>
</ol>
<p>The desirable behavior is getting <code>iteration: 2</code> when accessing the outputs right after the loop is over, being launched by Run All Cells. How to ensure this?</p>
<p>ipywidgets: 7.6.5, jupyterlab: 3.4.4</p>
",40,0,<python><ipython><ipywidgets>,2022-08-22 17:01:02
73443775,Can ipywidgets access the notebook save/load functionality?,"<p>In Jupiter lab, can I have an ipywidgets &quot;Save&quot; and &quot;Load&quot; buttons which call the save/load of the notebook?</p>
<p>And can I access the is_saved attribute of the notebook?</p>
<p>Much thanks!</p>
",32,1,<jupyter-lab><ipywidgets>,2022-08-22 10:38:18
73424519,Running helm upgrade not updating user pods - Jupyterhub,"<p>As title states, running helm upgrade is not updating my user pods.  Currently have culling and scheduling disabled (via the Helm chart)...but I believed that wouldn't/shouldn't matter.  Is there another option I'm missing or misunderstanding?</p>
<p>JupyterHub chart version <code>0.11.1</code></p>
<p>More information, I can tell the hub, proxy, and other deployments update when running helm upgrade, why wouldn't the user pods as well?</p>
<p>Update: This is necessary when the docker image the user pods are relying on is updated with anything.</p>
",56,0,<jupyter-notebook><jupyter><kubernetes-helm><jupyterhub><helm3>,2022-08-20 06:21:26
73423082,React front-end Jupyterhub backend,"<p>I'm looking to set up a server environment for students where they can log into an isolated environment, use a react front-end to select some dropdown options (dataset, ml algorithm, columns etc) and then some statistics/graphs are generated. The idea is that people with little code experience can try out machine learning.</p>
<p>I was wondering if this is something I could manage with Jupyterhub as the account login/setup/security/isolation is taken care of?</p>
<p>Ideally beginners would only see the React front-end and advanced users could switch between the Front-end and Jupyterhub.</p>
<p>Or would some Docker approach be better?</p>
<p>Any pointers would really be appreciated!</p>
",12,0,<reactjs><docker><jupyter><jupyterhub>,2022-08-19 23:22:50
73416506,Cannot setup Jupyterhub+Jupyterlab to run as a service on Ubuntu machine,"<p>I am supposed to set up Jupyterhub Server for my team at work The idea is that everybody gets a JupyterLab interface in the browser when they access  <code>http://ourserverip:&lt;port&gt;</code>. I've been following this <a href=""https://jupyterhub.readthedocs.io/en/1.2.0/installation-guide-hard.html"" rel=""nofollow noreferrer"">link</a> for the instructions. I literally followed every step at the exact same order and fail at starting <code>jupyterhub.service</code>.</p>
<p>I deviated from the link in terms of <code>[Environment]</code> and <code>ExecStart</code> in my <code>jupyterhub.service</code> file. They propose</p>
<pre><code>Environment=&quot;PATH=/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/opt/jupyterhub/bin&quot;
ExecStart=/opt/jupyterhub/bin/jupyterhub -f /opt/jupyterhub/etc/jupyterhub/jupyterhub_config.py
</code></pre>
<p>which couldn't find my jupyterhub binary (cannot reproduct <code>systemctl status jupyterhub.service</code> at this step but it the problem was finding jupyterhub binary), so I changed it to <code>/usr/local/bin</code> in the following way.</p>
<pre><code>Environment=&quot;PATH=/usr/local/bin&quot;
ExecStart=/usr/local/bin/jupyterhub --ip=0.0.0.0  --port=8999  -f /usr/local/bin/jupyterhub_config.py
</code></pre>
<p>Now it finds the binary but fails at starting a proxy.The output of my <code>sudo systemctl status jupyterhub.service</code> is the following:</p>
<pre><code>● jupyterhub.service - JupyterHub
     Loaded: loaded (/etc/systemd/system/jupyterhub.service; enabled; vendor preset: enabled)
     Active: failed (Result: exit-code) since Fri 2022-08-19 13:31:18 CEST; 5min ago
    Process: 9583 ExecStart=/usr/local/bin/jupyterhub --ip=0.0.0.0 --port=8999 -f /usr/local/bin/jupyterhub_config.py (code=exited, status=1/FAILURE)
   Main PID: 9583 (code=exited, status=1/FAILURE)

авг 19 13:31:18 companyname jupyterhub[9583]:       File &quot;/usr/local/lib/python3.8/dist-packages/jupyterhub/app.py&quot;, line 3048, in start
авг 19 13:31:18 companyname jupyterhub[9583]:         await self.proxy.start()
авг 19 13:31:18 companyname jupyterhub[9583]:       File &quot;/usr/local/lib/python3.8/dist-packages/jupyterhub/proxy.py&quot;, line 719, in start
авг 19 13:31:18 companyname jupyterhub[9583]:         _check_process()
авг 19 13:31:18 companyname jupyterhub[9583]:       File &quot;/usr/local/lib/python3.8/dist-packages/jupyterhub/proxy.py&quot;, line 715, in _check_process
авг 19 13:31:18 companyname jupyterhub[9583]:         raise e from None
авг 19 13:31:18 companyname jupyterhub[9583]:     RuntimeError: Proxy failed to start with exit code 127
авг 19 13:31:18 companyname jupyterhub[9583]:     
авг 19 13:31:18 companyname systemd[1]: jupyterhub.service: Main process exited, code=exited, status=1/FAILURE
авг 19 13:31:18 companyname systemd[1]: jupyterhub.service: Failed with result 'exit-code'.
</code></pre>
<p>I tried reinstalling configurable-http-proxy, updating nodejs version, as well as experimenting with different configurations for binary paths in jupyterhub.service. Depending on a combination it either cannot find a file, or cannot start a proxy.</p>
<p>I'm stuck on this for days, so if anyone has a idea on how to approach this please advise.
Thank you very much!</p>
",33,0,<ubuntu><service><jupyter-lab><jupyterhub><systemctl>,2022-08-19 12:02:00
73409560,How to set the height of an ipywidgets.Text?,"<p>I am trying:</p>
<pre class=""lang-py prettyprint-override""><code>from ipywidgets import Text, Layout
Text('test', layout=Layout(height='15px'))
</code></pre>
<p>but, it doesn't shrink the height of the Text widget frame. Instead, it just shows the frame cropped. See here:</p>
<p><a href=""https://i.stack.imgur.com/TFzUz.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/TFzUz.png"" alt=""enter image description here"" /></a></p>
<p>How to properly get a Text widget with a specified frame height?</p>
",38,1,<python><widget><jupyter-lab><ipywidgets>,2022-08-18 21:19:43
73408936,How to build image viewer app with ipywidgets using OOP?,"<p>I want to build an image viewer app (like the Photos app on Windows) with ipywidgets, where I can step through images and extend it to delete them if required. I am using the code from <a href=""https://stackoverflow.com/a/72748403/14022582"">here</a>.</p>
<p>I would like to use an object oriented approach instead of using global variables as its confusing, but I can't figure out how to get the image to update when the <code>prev_image</code> or <code>next_image</code> buttons are clicked, similar to how a button is connected to a function in PyQt5. How can I do this? Here is my code:</p>
<pre><code>import os
from ipywidgets import Button, Box
from IPython.display import display, Image


class ImageApp():
    def __init__(self, path):
        self.prev_image = widgets.Button(layout=Layout(width='auto', height='auto'),
                            description='Prev',
                            icon='backward')
        self.next_image = widgets.Button(layout=Layout(width='auto', height='auto'),
                            description='Next',
                            icon='forward')

        self.out = widgets.Output()
        self.i =1
        self.list_of_images = self.get_list_of_images(path)
        self.image = Image(self.list_of_images[self.i], width = 600, height = 300)
        with self.out:
            display(self.image)
            
        # linking button and function together using a button's method
        self.prev_image.on_click(on_prev_button_clicked)
        self.next_image.on_click(on_next_button_clicked)

        self.buttons = Box([self.prev_image, self.next_image])
        self.buttons.layout.display = 'flex'
        self.buttons.layout.justify_content = 'center'
        self.image_layout = Box([self.out])
        self.image_layout.layout.display = 'flex'
        self.image_layout.layout.justify_content = 'center'

        display(self.image_layout, self.buttons)
    
    def get_list_of_images(self, path):
        list_of_images = []
        for image in os.listdir(path):
            if image.endswith('.jpg'):
                imagepath=os.path.join(path,image)
                list_of_images.append(imagepath)
        return list_of_images
    
    def on_next_button_clicked(self,_):
        # &quot;linking function with output&quot;
        with self.out:
            # what happens when we press the button
            self.out.clear_output()
            self.i +=1
            self.image = Image(self.list_of_images[self.i], width = 600, height = 300)
            display(self.image)

    def on_prev_button_clicked(self,_):
        with self.out:
            # what happens when we press the button
            self.out.clear_output()
            self.i -=1
            self.image = Image(self.list_of_images[self.i], width = 600, height = 300)
            display(self.image)

ImageApp(path)
</code></pre>
",29,0,<python><ipywidgets>,2022-08-18 20:16:31
73408671,How can I normalize a plotly scatter at `xaxis.range[0]` as the `range_selector/rangeslider` changes the plot?,"<p>I have a plotly fig with a <code>range_selector</code> and <code>rangeslider</code> –– it was created through cufflinks, and it works fine.</p>
<pre><code>import cufflinks as cf
import plotly.graph_objects as go

fig = df.iplot(kind='scatter',xTitle='Dates',yTitle='Value',title='Stock Chart'
  , rangeslider=True
  , rangeselector={ 
      'steps':[ 'all', '2 year', '1 year','2 month', 'ytd' ],
      'bgcolor' : ('grey',.3), 'x': 0.8 , 'y' : 1
  }
  , asFigure=True   # returns instance of go.Figure
)
</code></pre>
<p>How can I normalize the chart such that all the traces are <code>1.0</code> at <code>fig.layout.xaxis.range[0]</code>? I can't find a way to listen to changes by the <code>range_selector</code>/<code>rangeslider</code>. If I could get the value of <code>fig.layout.xaxis.range[0]</code>, I can normalize the data using something like</p>
<pre><code>df_normalized = df.div(  df_row_at_range0   , axis=1 )

</code></pre>
<p>and then update <code>fig.data[n].y</code> for each of the traces. I looked at <code>ipywidgets</code> but there is no way to respond to <code>range_selector/rangeslider</code> changes.</p>
<p>Is there another clever approach???</p>
<p>Here is the output of the <code>fig.layout</code>:</p>
<pre><code># fig.layout
fig.layout.XAxis({
    'gridcolor': '#E1E5ED',
    'rangeselector': {'bgcolor': 'rgba(128, 128, 128, 0.3)',
                      'buttons': [{'count': 1, 'label': 'all', 'step': 'all'},
                                  {'count': 2, 'label': '2 year', 'step': 'year', 'stepmode': 'backward'},
                                  {'count': 1, 'label': '1 year', 'step': 'year', 'stepmode': 'backward'},
                                  {'count': 2, 'label': '2 month', 'step': 'month', 'stepmode': 'backward'},
                                  {'count': 1, 'label': 'ytd', 'step': 'year', 'stepmode': 'todate'}],
                      'font': {'size': 13},
                      'visible': True,
                      'x': 0.8,
                      'y': 1},
    'rangeslider': {'visible': True},
    'showgrid': True,
    'tickfont': {'color': '#4D5663'},
    'title': {'font': {'color': '#4D5663'}, 'text': 'Dates'},
    'zerolinecolor': '#E1E5ED'
})
</code></pre>
",29,0,<jupyter-notebook><plotly><plotly-python><ipywidgets><cufflinks>,2022-08-18 19:47:33
73407189,VS Code Interactive is not rendering tqdm.notebook properly,"<p>I used to use from <code>tqdm.auto import tqdm</code> and when I was in VS Code Interactive, I would get nice outputs of <code>tqdm</code> like so:</p>
<p><a href=""https://i.stack.imgur.com/5bAl0.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/5bAl0.png"" alt=""tqdm.notebook image"" /></a></p>
<p>I setup a new environment with venv, and now I've lost that - only the text version works:</p>
<p><a href=""https://i.stack.imgur.com/Quc2m.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/Quc2m.png"" alt=""tqdm.auto import tqdm only works with text"" /></a></p>
<p>When I run this sample cell:</p>
<pre><code>from tqdm.auto import tqdm
import time
for i in tqdm(range(10)):
    time.sleep(.1)
</code></pre>
<p>I get nothing outputted:</p>
<p><a href=""https://i.stack.imgur.com/ylclH.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/ylclH.png"" alt=""no outputs :("" /></a></p>
<p>I noticed some errors in the jupyter logs:</p>
<pre><code>info 13:23:28.399: Execute Cell 2 Interactive-1.interactive
info 13:23:28.476: Widget Message: WidgetManager: Loading class LayoutModel:@jupyter-widgets/base:2.0.0
info 13:23:28.525: Widget Message: WidgetManager: Loading class ProgressStyleModel:@jupyter-widgets/controls:2.0.0
info 13:23:28.526: Widget Message: WidgetManager: Loading class FloatProgressModel:@jupyter-widgets/controls:2.0.0
info 13:23:28.527: Widget Message: WidgetManager: Loading class LayoutModel:@jupyter-widgets/base:2.0.0
info 13:23:28.527: Widget Message: WidgetManager: Loading class HTMLStyleModel:@jupyter-widgets/controls:2.0.0
info 13:23:28.527: Widget Message: WidgetManager: failed, Loading class HTMLStyleModel:@jupyter-widgets/controls:2.0.0
info 13:23:28.527: Widget Message: WidgetManager: failed, Loading class HTMLStyleModel:@jupyter-widgets/controls:2.0.0
error 13:23:28.532: Widget load failure {} {
  className: 'HTMLStyleModel',
  moduleName: '@jupyter-widgets/controls',
  moduleVersion: '2.0.0',
  cdnsUsed: false,
  isOnline: true,
  timedout: false,
  error: '{}'
}
info 13:23:28.534: Widget Message: WidgetManager: Loading class HTMLModel:@jupyter-widgets/controls:2.0.0
info 13:23:28.534: Widget Message: WidgetManager: Loading class LayoutModel:@jupyter-widgets/base:2.0.0
info 13:23:28.534: Widget Message: WidgetManager: Loading class HTMLStyleModel:@jupyter-widgets/controls:2.0.0
info 13:23:28.534: Widget Message: WidgetManager: failed, Loading class HTMLStyleModel:@jupyter-widgets/controls:2.0.0
info 13:23:28.534: Widget Message: WidgetManager: failed, Loading class HTMLStyleModel:@jupyter-widgets/controls:2.0.0
error 13:23:28.534: Widget load failure {} {
  className: 'HTMLStyleModel',
  moduleName: '@jupyter-widgets/controls',
  moduleVersion: '2.0.0',
  cdnsUsed: false,
  isOnline: true,
  timedout: false,
  error: '{}'
}
info 13:23:28.535: Widget Message: WidgetManager: Loading class HTMLModel:@jupyter-widgets/controls:2.0.0
info 13:23:28.536: Widget Message: WidgetManager: Loading class LayoutModel:@jupyter-widgets/base:2.0.0
info 13:23:28.542: Widget Message: WidgetManager: Loading class HBoxModel:@jupyter-widgets/controls:2.0.0
info 13:23:29.464: Cell 2 executed with state Success
</code></pre>
",384,3,<visual-studio-code><jupyter-notebook><ipython><ipywidgets><tqdm>,2022-08-18 17:26:33
73394630,What is the keyword to enable an ipywidget widget again?,"<p>So I have an event handler for an ipywidgets togglebuttons widget, and depending on the value, I either hide or show a series of widgets. The hiding part is easy, as that is readily documented on here. you just do widget.layout.display = 'none' but what is the keyword to enable it again? I tried 'true', 'full'</p>
",13,0,<python><ipywidgets>,2022-08-17 20:36:43
73360279,ModuleNotFoundError: No module named 'seaborn'. online jupyter notebook,"<p>Can anyone help me  with this issue. I'm tying to do an algorithm in online Jupyterlite. But it's giving the above error.</p>
<p>ModuleNotFoundError                       Traceback (most recent call last)
Input In [17], in &lt;cell line: 1&gt;()
----&gt; 1 import seaborn as sns</p>
<p>ModuleNotFoundError: No module named 'seaborn'</p>
",186,-3,<python><jupyter-notebook><jupyter-lab><jupyter-irkernel>,2022-08-15 11:19:11
73346211,create line chart in pyspark jupyter notebook on emr,"<p>I am running pyspark on an aws emr.  I have a jupyter notebook, running in jupyter hub on the aws emr.  I have read data into a spark dataframe named clusters_df.  I'm now trying to create a simple line chart with k as the x axis and score as the y axis.  I tried converting the dataframe to a pandas dataframe, since I don't think spark has built in data visualization.  When I try to display the chart in the jupyter notebook I'm getting the messages below.  I've also tried matplotlib.  Both code examples are below, with the messages that get returned.  Can anyone suggest how to create a line chart with a jupyter notebook running pyspark on an emr?</p>
<p>libraries imported:</p>
<pre><code>import pyspark
##### running on emr
## function to create all tables
from pyspark.sql.types import *
from pyspark.context import SparkContext
from pyspark.sql import Window
from pyspark.sql import SQLContext
from pyspark import SparkConf
from pyspark.sql import SparkSession

from pyspark.sql.functions import col
from pyspark.sql.functions import first
import pyspark.sql.functions as func
from pyspark.sql.functions import lit,StringType,coalesce,lag,trim, upper, substring
from pyspark.sql.functions import UserDefinedFunction
from pyspark.sql.functions import round, explode,row_number,udf, length, min, when, format_number
from pyspark.sql.functions import  hour, year, month, dayofmonth, date_add, to_date,datediff,dayofyear, weekofyear, date_format, unix_timestamp

from pyspark.ml.evaluation import RegressionEvaluator
from pyspark.ml.recommendation import ALS
from pyspark.ml.feature import MinMaxScaler, PCA
from pyspark.ml.feature import VectorAssembler
from pyspark.ml import Pipeline
from pyspark.sql.functions import udf
from pyspark.sql.types import DoubleType
from pyspark.ml.feature import StandardScaler


import traceback
import sys
import time
import math
import datetime
import numpy as np
import pandas as pd
</code></pre>
<p>UPdate: I want to clarify I'm showing the two code examples below to show two examples of trying to create a linechart visualization in a jupyter notebook running with spark on an emr, that both fail to produce a line chart visualization.</p>
<p>the panadas example just returns the text shown. the matplotlib example returns the error shown because it doesn't seem to recognize spark anymore once the magic code is run in the cell to import matplotlib.</p>
<p>importing dataframe:</p>
<pre><code>clusters_df=sqlContext.read.parquet(&quot;path&quot;)
</code></pre>
<p>code:</p>
<pre><code>clusters_df.toPandas().plot.line(x=&quot;k&quot;,y=&quot;score&quot;);
</code></pre>
<p>output:</p>
<pre><code>&lt;AxesSubplot:xlabel='k'&gt;
</code></pre>
<p>code:</p>
<pre><code>%matplotlib inline

import matplotlib.pyplot as plt

pnds_df=clusters_df.toPandas()

plt.plot(pnds_df['k'],pnds_df['score'])

plt.show()
</code></pre>
<p>output:</p>
<pre><code>---------------------------------------------------------------------------
NameError                                 Traceback (most recent call last)
&lt;ipython-input-33-5e7649bc56fb&gt; in &lt;module&gt;
      3 import matplotlib.pyplot as plt
      4 
----&gt; 5 pnds_df=clusters_df.toPandas()
      6 
      7 plt.plot(pnds_df['k'],pnds_df['score'])

NameError: name 'clusters_df' is not defined
</code></pre>
",51,0,<matplotlib><pyspark><jupyter-notebook><amazon-emr><jupyterhub>,2022-08-13 17:04:32
73305849,Widgets in JupyterLab,"<p>I’ve discovered JupyterLab may not work well with the ipywidgets package.</p>
<p>After inputting the <code>pip install ipywidgets</code> in the terminal, I ran the following code and unfortunately did not get a widget:</p>
<pre><code>import ipywidgets as widgets
widgets.IntSlider()
from IPython.display import display
w= widgets.IntSlider()
uploader = widgets.FileUpload(accept=&quot;*.xlsx&quot;,multiple = False
display(uploader)
</code></pre>
<p>Instead, I just get a a string output of <code>FileUpload (value=({}, accept='*.xlsx', description='Upload')</code></p>
<p>Why is this the case, and how can I get widgets to work in JupyterLab?</p>
<p><a href=""https://i.stack.imgur.com/nTkQQ.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/nTkQQ.jpg"" alt=""enter image description here"" /></a></p>
",135,0,<python><jupyter-notebook><jupyter><jupyter-lab><ipywidgets>,2022-08-10 11:54:42
73278038,I'm getting an error in Jupyter Notebook using R,"<p>I'm using R on Jupyter Notebook to complete a Cousera Assignment (Analysis of Global COVID-19 Pandemic Data). Despite following a detailed tutorial, I still get error messages that my variables are not defined, even after defining it properly.</p>
<p>In the attached image, I used the following code:</p>
<p>wiki_base_url &lt;- &quot;https://en.wikipedia.org/w/index.php&quot;
response &lt;- GET(wiki_base_url)
response</p>
<pre><code>wiki_base_url &lt;- &quot;https://en.wikipedia.org/w/index.php&quot;
response &lt;- GET(wiki_base_url)
response
</code></pre>
<p>Yet, I got an error that says:</p>
<pre><code>NameError                                 Traceback (most recent call last)
Input In [24], in &lt;cell line: 2&gt;()
  1 # Call the get_wiki_covid19_page function and print the response
   ----&gt; 2 wiki_base_url &lt;- &quot;https://en.wikipedia.org/w/index.php&quot;
 3 response &lt;- GET(wiki_base_url)
   4 response
  NameError: name 'wiki_base_url' is not defined
</code></pre>
<p><a href=""https://i.stack.imgur.com/iidXn.png"" rel=""nofollow noreferrer"">enter image description here</a></p>
",83,0,<python><r><jupyter-notebook><jupyter-lab><jupyter-irkernel>,2022-08-08 12:39:50
73254926,How to copy whole directory/folder and paste in a different location in Jupyter Lab,"<p>I’m wondering if there is any way to copy a directory/folder with its contents in a different location inside the file browser section.</p>
<p>I’m trying to copy and move entire directories between notebook folders in Analytics Lab but, I haven’t seen any option to make this action.</p>
<p>I would like to know if there is any functionality that I can implement or if this function is contemplated in future releases.</p>
<p>I appreciate your answers and comments.</p>
",42,0,<jupyter-notebook><jupyter-lab><jupyterhub>,2022-08-05 20:19:42
73233547,Use pyspark on yarn cluster without creating the context,"<p>I'll try to do my best to explain my self. I'm using JupyterHub to connect to the cluster of my university and write some code. Basically i'm using pyspark but, since i'va always used &quot;yarn kernel&quot; (i'm not sure of what i'm sying) i've never defined the spark context or the spark session. Now, for some reason, it doesn't work anymore and when i try to use spark this error appears:
Code -&gt;</p>
<pre><code>df = spark.read.csv('file:///%s/.....
</code></pre>
<p>Error -&gt;</p>
<pre><code>name 'spark' is not defined
</code></pre>
<p>It already happend to me but i just solved by installing another version of pyspark. Now i don't know what to do.</p>
",25,0,<pyspark><hadoop-yarn><jupyterhub>,2022-08-04 09:33:19
73194396,JupyterHub - Set separate home directory for each user in the JupyterHub,"<p>I installed Anaconda environment on CentOS 7 operating system. With <code>conda</code> command I installed JupyterHub and all the necessary tools. I started the JupyterHub, after configuring it. I used <code>jupyterhub -f /etc/jupyterhub/jupyterhub_conf.py &amp;</code> instruction. I created users on the host system and gave them a home directory to be under the JupyterHub. In the JupyterHub config file I put: <code>c.Spawner.notebook_dir=/home/conda/multiusers</code>. And then, in that folder, I created the home directories for all the users.</p>
<p>How can I instruct JupyterHub to load each user into its home folder and not into common &quot;multiusers&quot; folder?</p>
<p>Thank you in advance!</p>
",79,0,<jupyter-notebook><jupyter><jupyter-lab><jupyterhub>,2022-08-01 13:24:39
73192732,Cannot log in with user to JupyterHub - PAM Authentication failed,"<p>I installed Anaconda on Centos 7 operating system, and with <code>conda</code> instruction I installed Jupyter notebooks, JupyterLab, and JupyterHub. JupyterHub is version 2.0.0.</p>
<p>The problem is that I <strong>can log in only the very first time</strong> into the JupyterHub, with the whitelisted username, and any other time, also with the same user, I cannot log in, I receive the error:</p>
<pre><code>PAM Authentication failed (user@127.0.0.1): [PAM Error 7] Authentication failure
</code></pre>
<p>I am using the config file, run with <code>jupyterhub -f /etc/jupyterhub/jupyterhub_conf.py</code>. Here is the configuration:</p>
<pre><code># Configuration file for jupyterhub.
import os

#------------------------------------------------------------------------------
# Configurable configuration
#------------------------------------------------------------------------------

#------------------------------------------------------------------------------
# LoggingConfigurable configuration
#------------------------------------------------------------------------------

# A parent class for Configurables that log.
# 
# Subclasses have a log trait, and the default behavior is to get the logger
# from the currently running Application.

#------------------------------------------------------------------------------
# SingletonConfigurable configuration
#------------------------------------------------------------------------------

# A configurable that only allows one instance.
# 
# This class is for classes that should only have one instance of itself or
# *any* subclass. To create and retrieve such a class use the
# :meth:`SingletonConfigurable.instance` method.

#------------------------------------------------------------------------------
# Application configuration
#------------------------------------------------------------------------------

# This is an application.

# The date format used by logging formatters for %(asctime)s
# c.Application.log_datefmt = '%Y-%m-%d %H:%M:%S'

# The Logging format template
# c.Application.log_format = '[%(name)s]%(highlevel)s %(message)s'

# Set the log level by value or name.
# c.Application.log_level = 30

#------------------------------------------------------------------------------
# JupyterHub configuration
#------------------------------------------------------------------------------

# An Application for starting a Multi-User Jupyter Notebook server.

# Grant admin users permission to access single-user servers.
# 
# Users should be properly informed if this is enabled.
# c.JupyterHub.admin_access = False

# DEPRECATED, use Authenticator.admin_users instead.
# c.JupyterHub.admin_users = set()

# Answer yes to any questions (e.g. confirm overwrite)
# c.JupyterHub.answer_yes = False

# Class for authenticating users.
# 
# This should be a class with the following form:
# 
# - constructor takes one kwarg: `config`, the IPython config object.
# 
# - is a tornado.gen.coroutine
# - returns username on success, None on failure
# - takes two arguments: (handler, data),
#   where `handler` is the calling web.RequestHandler,
#   and `data` is the POST form data from the login page.
# c.JupyterHub.authenticator_class = 'jupyterhub.auth.PAMAuthenticator'


# c.JupyterHub.authenticator_class = 'oauthenticator.LocalGitHubOAuthenticator'
# c.GitHubOAuthenticator.oauth_callback_url = os.environ['OAUTH_CALLBACK_URL']


# The base URL of the entire application
# c.JupyterHub.base_url = '/'

# Whether to shutdown the proxy when the Hub shuts down.
# 
# Disable if you want to be able to teardown the Hub while leaving the proxy
# running.
# 
# Only valid if the proxy was starting by the Hub process.
# 
# If both this and cleanup_servers are False, sending SIGINT to the Hub will
# only shutdown the Hub, leaving everything else running.
# 
# The Hub should be able to resume from database state.
# c.JupyterHub.cleanup_proxy = True

# Whether to shutdown single-user servers when the Hub shuts down.
# 
# Disable if you want to be able to teardown the Hub while leaving the single-
# user servers running.
# 
# If both this and cleanup_proxy are False, sending SIGINT to the Hub will only
# shutdown the Hub, leaving everything else running.
# 
# The Hub should be able to resume from database state.
# c.JupyterHub.cleanup_servers = True

# The config file to load
# c.JupyterHub.config_file = 'jupyterhub_config.py'
#c.JupyterHub.config_file = '/etc/jupyterhub/jupyterhub_config.py'

# Number of days for a login cookie to be valid. Default is two weeks.
# c.JupyterHub.cookie_max_age_days = 14

# The cookie secret to use to encrypt cookies.
# 
# Loaded from the JPY_COOKIE_SECRET env variable by default.
# c.JupyterHub.cookie_secret = b''

# File in which to store the cookie secret.
# c.JupyterHub.cookie_secret_file = 'jupyterhub_cookie_secret'

# The location of jupyterhub data files (e.g. /usr/local/share/jupyter/hub)
# c.JupyterHub.data_files_path = '/opt/anaconda/envs/hub/share/jupyter/hub'

# Include any kwargs to pass to the database connection. See
# sqlalchemy.create_engine for details.
# c.JupyterHub.db_kwargs = {}

# url for the database. e.g. `sqlite:///jupyterhub.sqlite`
# c.JupyterHub.db_url = 'sqlite:///jupyterhub.sqlite'
c.JupyterHub.db_url = '/etc/jupyterhub/jupyterhub.sqlite'

# log all database transactions. This has A LOT of output
# c.JupyterHub.debug_db = False

# show debug output in configurable-http-proxy
# c.JupyterHub.debug_proxy = False

# Set a logging.FileHandler on this file.
# c.JupyterHub.extra_log_file = ''
c.JupyterHub.extra_log_file = '/var/log/jupyterhub.log'

# Extra log handlers to set on JupyterHub logger
# c.JupyterHub.extra_log_handlers = []

# Generate default config file
# c.JupyterHub.generate_config = False

# The ip for this process
# c.JupyterHub.hub_ip = 'localhost'

# The port for this process
c.JupyterHub.hub_port = 8080

# The prefix for the hub server. Must not be '/'
# c.JupyterHub.hub_prefix = '/hub/'

# The public facing ip of the proxy
c.JupyterHub.ip = '127.0.0.1'

# Supply extra arguments that will be passed to Jinja environment.
# c.JupyterHub.jinja_environment_options = {}

# Interval (in seconds) at which to update last-activity timestamps.
# c.JupyterHub.last_activity_interval = 300

# File to write PID Useful for daemonizing jupyterhub.
# c.JupyterHub.pid_file = ''
c.JupyterHub.pid_file = '/etc/jupyterhub/jupyterhub.pid'

# The public facing port of the proxy
c.JupyterHub.port = 443

# The ip for the proxy API handlers
# c.JupyterHub.proxy_api_ip = 'localhost'

# The port for the proxy API handlers
# c.JupyterHub.proxy_api_port = 0

# The Proxy Auth token.
# 
# Loaded from the CONFIGPROXY_AUTH_TOKEN env variable by default.
# c.JupyterHub.proxy_auth_token = ''

# Interval (in seconds) at which to check if the proxy is running.
# c.JupyterHub.proxy_check_interval = 30

# The command to start the http proxy.
# 
# Only override if configurable-http-proxy is not on your PATH
# c.JupyterHub.proxy_cmd = ['configurable-http-proxy']

# Purge and reset the database.
# c.JupyterHub.reset_db = False

# The class to use for spawning single-user servers.
# 
# Should be a subclass of Spawner.
# c.JupyterHub.spawner_class = 'jupyterhub.spawner.LocalProcessSpawner'

# Path to SSL certificate file for the public facing interface of the proxy
# 
# Use with ssl_key
c.JupyterHub.ssl_cert = '/home/test/anaconda/certs/certificate.pem'

# Path to SSL key file for the public facing interface of the proxy
# 
# Use with ssl_cert
# c.JupyterHub.ssl_key = ''
c.JupyterHub.ssl_key = '/home/user/anaconda/certs/key.pem'

# Paths to search for jinja templates.
# c.JupyterHub.template_paths = []

# 
# c.JupyterHub.tornado_settings = {}

#------------------------------------------------------------------------------
# Spawner configuration
#------------------------------------------------------------------------------

# Base class for spawning single-user notebook servers.
# 
# Subclass this, and override the following methods:
# 
# - load_state - get_state - start - stop - poll

# Extra arguments to be passed to the single-user server
# c.Spawner.args = []

# The command used for starting notebooks.
# c.Spawner.cmd = ['jupyterhub-singleuser']

# Enable debug-logging of the single-user server
# c.Spawner.debug = False

# Whitelist of environment variables for the subprocess to inherit
# c.Spawner.env_keep = ['PATH', 'PYTHONPATH', 'CONDA_ROOT', 'CONDA_DEFAULT_ENV', 'VIRTUAL_ENV', 'LANG', 'LC_ALL']

# Timeout (in seconds) before giving up on a spawned HTTP server
# 
# Once a server has successfully been spawned, this is the amount of time we
# wait before assuming that the server is unable to accept connections.
# c.Spawner.http_timeout = 30

# The IP address (or hostname) the single-user server should listen on
# c.Spawner.ip = 'localhost'

# The notebook directory for the single-user server
# 
# `~` will be expanded to the user's home directory `%U` will be expanded to the
# user's username
c.Spawner.notebook_dir = '/home/test/conda/multiuser'

# An HTML form for options a user can specify on launching their server. The
# surrounding `&lt;form&gt;` element and the submit button are already provided.
# 
# For example:
# 
#     Set your key:
#     &lt;input name=&quot;key&quot; val=&quot;default_key&quot;&gt;&lt;/input&gt;
#     &lt;br&gt;
#     Choose a letter:
#     &lt;select name=&quot;letter&quot; multiple=&quot;true&quot;&gt;
#       &lt;option value=&quot;A&quot;&gt;The letter A&lt;/option&gt;
#       &lt;option value=&quot;B&quot;&gt;The letter B&lt;/option&gt;
#     &lt;/select&gt;
# c.Spawner.options_form = ''

# Interval (in seconds) on which to poll the spawner.
# c.Spawner.poll_interval = 30

# Timeout (in seconds) before giving up on the spawner.
# 
# This is the timeout for start to return, not the timeout for the server to
# respond. Callers of spawner.start will assume that startup has failed if it
# takes longer than this. start should return when the server process is started
# and its location is known.
# c.Spawner.start_timeout = 60

#------------------------------------------------------------------------------
# LocalProcessSpawner configuration
#------------------------------------------------------------------------------

# A Spawner that just uses Popen to start local processes as users.
# 
# Requires users to exist on the local system.
# 
# This is the default spawner for JupyterHub.

# Seconds to wait for process to halt after SIGINT before proceeding to SIGTERM
# c.LocalProcessSpawner.INTERRUPT_TIMEOUT = 10

# Seconds to wait for process to halt after SIGKILL before giving up
# c.LocalProcessSpawner.KILL_TIMEOUT = 5

# Seconds to wait for process to halt after SIGTERM before proceeding to SIGKILL
# c.LocalProcessSpawner.TERM_TIMEOUT = 5

#------------------------------------------------------------------------------
# Authenticator configuration
#------------------------------------------------------------------------------

# A class for authentication.
# 
# The primary API is one method, `authenticate`, a tornado coroutine for
# authenticating users.

# set of usernames of admin users
# 
# If unspecified, only the user that launches the server will be admin.
# c.Authenticator.admin_users = set()

# Dictionary mapping authenticator usernames to JupyterHub users.
# 
# Can be used to map OAuth service names to local users, for instance.
# 
# Used in normalize_username.
# c.Authenticator.username_map = {}

# Regular expression pattern for validating usernames.
# 
# If not defined: allow any username.
# c.Authenticator.username_pattern = ''

# Username whitelist.
# 
# Use this to restrict which users can login. If empty, allow any user to
# attempt login.
c.Authenticator.whitelist = set({&quot;user_1&quot;, &quot;user_2&quot;, &quot;root&quot;,&quot;user_3&quot;})

#------------------------------------------------------------------------------
# LocalAuthenticator configuration
#------------------------------------------------------------------------------

# Base class for Authenticators that work with local Linux/UNIX users
# 
# Checks for local users, and can attempt to create them if they exist.

# The command to use for creating users as a list of strings.
# 
# For each element in the list, the string USERNAME will be replaced with the
# user's username. The username will also be appended as the final argument.
# 
# For Linux, the default value is:
# 
#     ['adduser', '-q', '--gecos', '&quot;&quot;', '--disabled-password']
# 
# To specify a custom home directory, set this to:
# 
#     ['adduser', '-q', '--gecos', '&quot;&quot;', '--home', '/customhome/USERNAME', '--
# disabled-password']
# 
# This will run the command:
# 
# adduser -q --gecos &quot;&quot; --home /customhome/river --disabled-password river
# 
# when the user 'river' is created.
# c.LocalAuthenticator.add_user_cmd = []

# If a user is added that doesn't exist on the system, should I try to create
# the system user?
# c.LocalAuthenticator.create_system_users = False
c.LocalAuthenticator.create_system_users = True

# Automatically whitelist anyone in this group.
c.LocalAuthenticator.group_whitelist = set({'jupyter'})

#------------------------------------------------------------------------------
# PAMAuthenticator configuration
#------------------------------------------------------------------------------

# Authenticate local Linux/UNIX users with PAM

# The encoding to use for PAM
# c.PAMAuthenticator.encoding = 'utf8'

# The PAM service to use for authentication.
#c.PAMAuthenticator.service = 'login'
#c.JupyterHub.authenticator_class = 'jupyterhub.auth.PAMAuthenticator'
</code></pre>
<p>Maybe the problem is with the host operating system. So I gave all permissions to <code>/etc/shadow</code>. I also run JupyterHub as a root user.</p>
<p>Thank you in advance!</p>
",418,0,<python><jupyter-notebook><centos><jupyter><jupyterhub>,2022-08-01 11:03:47
73181855,Using a singular widget for multiple functions that depend on the same parameter,"<p>I want to use a single slider widget for multiple functions that depend on the parameter, how can I go about doing it. This is what I have so far, but it's quite tacky:</p>
<pre><code>def Func(c):
    Code
    return x,y,z

def Func_1(d):
    Code
    return x

interact(Func, c=widgets.FloatSlider(min,max...))
interact(Func_1, d=widgets.FloatSlider(min,max...))

</code></pre>
<p>I don't want to do this because this creates two separate slider I have to manually adjust to the same value, it's nonoptimal.</p>
",50,0,<python><slider><ipywidgets>,2022-07-31 08:55:24
73181025,show table items as interactive sliders on jupyter notebook,"<p>I am using <code>qgrid</code> to show pandas dataframe as a table in jupyter notebook. The code I'm using now is very simple, like:</p>
<pre><code>qgrid_widget = qgrid.show_grid(some_df, show_toolbar=True)
qgrid_widget
</code></pre>
<p>Now the table is shown like the following (The table is big, I just show part of it):</p>
<p><a href=""https://i.stack.imgur.com/hqXYQ.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/hqXYQ.png"" alt=""enter image description here"" /></a></p>
<p>For the rest of the work, I need to adjust many values in the table. And, as an experimental work, I don't know yet how the values should be adjusted, so I need to try. Now, to adjust the values, I double-click on the entry and enter the new value. I think a more efficient way is the following: each value in the table is represented on a slider, and I can drag the slider in the table to change the value.</p>
<p>I have tried the following but they don't work:</p>
<ol>
<li>use <code>ipywidgets.FloatSlider()</code> as the entry of the table. This way, <code>qgrid</code> shows table entries just in plain text, &quot;FloatSlider(value=xx, min=xx, max=xx, step=xxx)&quot;.</li>
<li>use <code>ipysheet</code> with <code>FloatSlider()</code>. However, even by following <a href=""https://github.com/QuantStack/ipysheet"" rel=""nofollow noreferrer"">the examples here</a>, the sheet just doesn't display on my jupyter notebook.</li>
</ol>
<p>Does anyone have an idea for this question? How to use an interactive slider for each value in a table? Thanks!</p>
",130,0,<dataframe><jupyter-notebook><slider><ipywidgets><qgrid>,2022-07-31 06:03:10
73154230,Is there a way to observe whether a checkbox in a container of checkboxes is checked and disable all the checkboxes in that container if so?,"<p>I'm building an interface in Jupyter Notebook, and for one of the questions being asked (there is a VBox consisting of a Label with the value being the name of the question), users should only be able to select one of the choices. Since I am asking multiple questions, and some of the questions allow multiple answers, I am using a checkbox because I do not know how to make the vertical radio buttons have consistent spacing with the other checkboxes.</p>
<p><img src=""https://i.stack.imgur.com/jx4En.png"" alt=""A screen shot of my UI showing a grid of checkboxes with three columns and many rows"" /></p>
<p>this image gives an idea of what the layout looks like.</p>
",53,-2,<python><pandas><jupyter><ipywidgets>,2022-07-28 14:06:16
73144561,Is there a way to align ipywidgets checkbox and radiobutton?,"<p><a href=""https://i.stack.imgur.com/xi2Y9.png"" rel=""nofollow noreferrer"">enter image description here</a></p>
<p>I'm trying to align ipywidgets checkbox and radiobuttons. The checkboxes are children of a VBox container, and the VBoxes are children of a HBox. However, I want the user to only be able to select one item under the groupby column, because I want to do a Pandas dataframe groupby.</p>
<p>If I do it just using checkboxes, the layout is no problem but the problem arises in that the user may choose to select more than once due to the non intuitive interface, as shown here: <a href=""https://i.stack.imgur.com/Y4uds.png"" rel=""nofollow noreferrer"">enter image description here</a></p>
",31,0,<python><pandas><jupyter><ipywidgets>,2022-07-27 20:59:59
73126324,Python ipywidgets interact calls method twice,"<p>I wrote some code and noticed that the <code>interact</code> method from ipywidgets calls the method of which the arguments are to be manipulated twice. I was wondering why that is and if it is possible to make it only call once. From the documentation it seems that is not a bug of my code but that this is wanted.</p>
<p>Here is a small example:</p>
<pre><code>def func(x=0):
  print(x)

interact(func, x = widgets.IntSlider(min = -1, max=1, step=1),)
</code></pre>
<p>As you will see it prints twice the argument of <code>x</code>.</p>
",37,0,<python><jupyter-notebook><ipywidgets>,2022-07-26 15:45:09
73085091,Ipywidgets update tab on button click,"<p>I am trying to build ipywidgets tabs wherein I want to add values from dropdown to the tab display to categories features in different tabs.</p>
<p>For example I select 'Age' from features dropdown and select Numerical Data as type, and click update, that should add 'Age' in the numerical_data list which will be displayed in the Numerical data Tab.</p>
<p>For now, my list is getting updated but i am unable to display it in the tab on button click.</p>
<p>Code is as below.</p>
<pre><code>import pandas as pd
import ipywidgets as widgets
from ipywidgets import Button, Layout


style = {'description_width': '80px'}
layout = {'width': '290px'}
justify_content = {'flex-start'}


data_item1 = widgets.Output()
data_item2 = widgets.Output()
data_item3 = widgets.Output()
data_item4 = widgets.Output()

tabs = widgets.Tab(children=[data_item1, data_item2, data_item3, data_item4], 
                   layout=widgets.Layout(max_height='300px', max_width='740px', min_width='740px', justify_content='flex-start'))
tabs.set_title(0, 'Numerical Data')
tabs.set_title(1, 'Categorical Data')
tabs.set_title(2, 'Date Time Data')
tabs.set_title(3, 'Unclassified Data')


X_train = pd.read_csv('https://raw.githubusercontent.com/insaid2018/Term-1/master/Data/Casestudy/titanic_train.csv')

df = pd.DataFrame(X_train.columns)
df.columns = ['Features']
feature_list = df['Features'].tolist()
my_list = ['Select']

name_list = my_list + feature_list


features = widgets.Dropdown(
    options=name_list[0:len(name_list)],
    value='Select',
    description='Features:', style=style, layout=layout
)

types = widgets.Dropdown(
    options=[('Type', 1),('Numerical Data', 2), ('Categorical Data', 3), ('Date Time Data', 4), ('Unclassified Data',5)],
    value=1,
    description='Type:', style=style, layout=layout
) 
            
button_addfeature = widgets.Button(description=&quot;Update&quot;, button_style='primary')
button_addfeature.style.button_color = '#51b555'
button_addfeature.style.font_style = 'italic'
button_addfeature.style.font_weight = 'bold'




with data_item1:
    numerical_data = []
    if len(numerical_data) == 0:
        print(None)

with data_item2:
    categorical_data = []
    if len(categorical_data) == 0:
        print(None)

with data_item3:
    date_time_data = []
    if len(date_time_data) == 0:
        print(None)
    
with data_item4:
    uncategorized_data = []
    uncategorized_data = uncategorized_data + feature_list
    df = pd.DataFrame(feature_list)
    df.columns = ['Features']
    df.index = df.index + 1
    # displaying the DataFrame
    left_aligned_df = df.style.set_properties(**{'text-align': 'left'})
    left_aligned_df = left_aligned_df.set_table_styles([dict(selector = 'th', props=[('text-align', 'left')])])
    display (left_aligned_df)

display(widgets.HBox([tabs]))    
display(widgets.HBox([features,types,button_addfeature]))

out = widgets.Output()

def on_button_clicked(b):

    with out:
        if (types.value) == 2:
            i = features.label
            if i not in numerical_data:
                numerical_data.append(i)
                uncategorized_data.remove(i)
                df_numerical_data = pd.DataFrame(numerical_data)
                df_numerical_data.columns = ['Features']
                df_numerical_data.index = df_numerical_data.index + 1
                # displaying the DataFrame
                left_aligned_dfn = df_numerical_data.style.set_properties(**{'text-align': 'left'})
                left_aligned_dfn = left_aligned_dfn.set_table_styles([dict(selector = 'th', props=[('text-align', 'left')])])
                display(left_aligned_dfn)
            else:
                print('Classification alreay present!')
            
        elif (types.value) == 3:
            i = features.label
            if i not in categorical_data:
                categorical_data.append(i)
                uncategorized_data.remove(i)
                #date_time_data.remove(i)
                #numerical_data.remove(i)
                display(categorical_data)   
            
        elif (types.value) == 4:
            date_time_data.append(features.label)
            uncategorized_data.remove(features.label)
            
        elif (types.value) == 1:
            print('Select feature and type')
            
        else: 
            print('Select feature and type')
    
    #display(numerical_data)
    #display(categorical_data)
    #display(date_time_data)
    #display(uncategorized_data)
    display(out)

    
button_addfeature.on_click(on_button_clicked)
#data_item1.observe(on_button_clicked, out)```
</code></pre>
",59,0,<ipywidgets>,2022-07-22 19:11:19
73051708,How to Install JupyterHub in Remote server (Client Node) and use web browser from local machines to connect and run parallely?,"<p>I am new to production environment server setup. I want to install JupyterHub in my company's remote server which we use as client Node, and allow developers to connect from their local machine though their web browser and build their code. Is there any documentation where I can refer to for installation and creating Login IDs for developers to connect from their browser and also how to allocate resources to each developer?</p>
<p>The Client node has 256 GB of ram, while there maybe up to 30 parallel users running their data analysis/machine learning codes. Could anyone guide with their expertise?</p>
",15,0,<jupyterhub>,2022-07-20 12:31:41
73051331,ipyleaflet Search Control never successfully searches,"<p>I've followed the <a href=""https://github.com/jupyter-widgets/ipyleaflet/blob/master/examples/SearchControl.ipynb"" rel=""nofollow noreferrer"">examples</a> but I can never get the ipyleaflet <code>SearchControl</code> to work in my JupyterLab notebook:</p>
<pre class=""lang-py prettyprint-override""><code>import json
from ipyleaflet import Map, GeoJSON, SearchControl, LayerGroup

m = Map(center=(40, -100), zoom=10)
data = {}
#  fill data as {'layer': GeoDataFrame}

search_space = LayerGroup()

for layer in data:
    search_space.add_layer(
        GeoJSON(data=json.loads(data[layer].to_json(drop_id=True)))
    ) #  `data[layer]` is a geopandas GeoDataFrame

m.add_control(SearchControl(
    position = 'topleft',
    layer = search_space,
))
</code></pre>
<p>Even when I grab the same <a href=""https://raw.githubusercontent.com/jupyter-widgets/ipyleaflet/master/examples/countries.geo.json"" rel=""nofollow noreferrer"">JSON file</a> used in <a href=""https://ipyleaflet.readthedocs.io/en/latest/controls/search_control.html"" rel=""nofollow noreferrer"">the docs</a>, I still suffer the error that no search term is ever found.</p>
<p>Additionally, I've noticed the map populates with unclickable markers when I attach the controls to map. These markers align with the locations from my data. So something is happening, but it is certainly wrong behavior.</p>
<p>Running ipyleaflet 0.17.0 on Python3.</p>
",25,0,<python><ipywidgets><ipyleaflet>,2022-07-20 12:02:41
73042915,Graphs only appear in JupyterLab log?,"<p>I'm trying to manufacture a button that, when clicked, will begin a loop that triggers some data collection and several live, updating plots.
I thought I had the plots and the loops sorted out well, but as soon as I try to incorporate the button things go south. My plots are now in my JupyterLab log, not in the command line where they had been appearing (and updating) before. Has anyone encountered this issue before? Or have a potential workaround?
Here is how my code is structured:</p>
<pre><code>import csv
from datetime import datetime
import pyvisa as visa
import serial
import time
from time import sleep
import numpy as np
from IPython import display
from IPython.display import clear_output
import matplotlib.pyplot as plt
import sys 
import ipywidgets as widgets
import voila
from ipywidgets import ToggleButtons
from ipywidgets import Button
import asyncio
import nest_asyncio
from asyncio import coroutine
nest_asyncio.apply()

%matplotlib widget #only widget, not notebook or inline, will keep my plots interactive 

async def mainexp(n, s): #these all lead to different loops that collect + plot data smoothly
    plt.clf()
    data = asyncio.create_task(datacollect(n, s))
    graphr = asyncio.create_task(graphloopr(n, s))
    graphv = asyncio.create_task(graphloopv(n, s))
    await asyncio.sleep(s)

## button to start data collection + plotting
startbutton = widgets.Button(description=&quot;Start&quot;)
out = widgets.Output()

def on_button_clicked(b):
    with out:
        clear_output(True)
        print(&quot;Hello&quot;)
        asyncio.run(datarun(10, 1))
        #show()

startbutton.on_click(on_button_clicked)

display(startbutton, out)
</code></pre>
<p>At this point my machine tells me it is collecting data, &quot;Hello&quot; prints...the only issue is when it comes to graphing--and it's stored as a blank axis in my list of log entries...?</p>
",30,0,<python><matplotlib><jupyter-lab><ipywidgets><voila>,2022-07-19 20:06:48
73031368,How to disable !pip and %pip command in jupyter,"<p>Can we disable !pip and %pip commands in jupyter
I want to do this for i don't want to give package installation access to user in my machine learning product. Any one have an idea 💡?</p>
",39,0,<python><pip><jupyter-notebook><jupyter><jupyterhub>,2022-07-19 05:05:13
73011804,"JupyterHub ""500 : Internal Server Error Redirect loop detected.""","<p>When running JupyterHub via <code>docker-compose up</code> and logging in for the first time as <code>some_user</code> created via web GUI of JupyterHub I can't seem to spawn the ser<a href=""https://i.stack.imgur.com/km0VF.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/km0VF.png"" alt=""enter image description here"" /></a></p>
<p>Logs:</p>
<pre><code>sudo docker-compose up
[+] Running 1/0
 ⠿ Container jh_container  Created                                                                                                                                                                                                                                                                                                        0.0s
Attaching to jh_container
jh_container  | [D 2022-07-17 12:25:07.224 JupyterHub application:837] Looking for /etc/jupyterhub/jupyterhub_config in /srv/jupyterhub
jh_container  | [D 2022-07-17 12:25:07.229 JupyterHub application:858] Loaded config file: /etc/jupyterhub/jupyterhub_config.py
jh_container  | [I 2022-07-17 12:25:07.235 JupyterHub app:2771] Running JupyterHub version 2.3.1
jh_container  | [I 2022-07-17 12:25:07.235 JupyterHub app:2801] Using Authenticator: nativeauthenticator.nativeauthenticator.NativeAuthenticator
jh_container  | [I 2022-07-17 12:25:07.235 JupyterHub app:2801] Using Spawner: dockerspawner.dockerspawner.DockerSpawner-12.1.0
jh_container  | [I 2022-07-17 12:25:07.236 JupyterHub app:2801] Using Proxy: jupyterhub.proxy.ConfigurableHTTPProxy-2.3.1
jh_container  | [I 2022-07-17 12:25:07.239 JupyterHub app:1606] Loading cookie_secret from /srv/jupyterhub/jupyterhub_cookie_secret
jh_container  | [D 2022-07-17 12:25:07.240 JupyterHub app:1775] Connecting to db: sqlite:///jupyterhub.sqlite
jh_container  | [D 2022-07-17 12:25:07.248 JupyterHub orm:953] database schema version found: 833da8570507
jh_container  | [I 2022-07-17 12:25:07.275 JupyterHub proxy:496] Generating new CONFIGPROXY_AUTH_TOKEN
jh_container  | [D 2022-07-17 12:25:07.275 JupyterHub app:2024] Loading roles into database
jh_container  | [I 2022-07-17 12:25:07.283 JupyterHub app:1926] Not using allowed_users. Any authenticated user will be allowed.
jh_container  | [D 2022-07-17 12:25:07.285 JupyterHub app:2283] Purging expired APITokens
jh_container  | [D 2022-07-17 12:25:07.287 JupyterHub app:2283] Purging expired OAuthCodes
jh_container  | [D 2022-07-17 12:25:07.288 JupyterHub app:2116] Loading role assignments from config
jh_container  | [D 2022-07-17 12:25:07.297 JupyterHub app:2429] Initializing spawners
jh_container  | [D 2022-07-17 12:25:07.298 JupyterHub app:2560] Loaded users:
jh_container  |     
jh_container  | [I 2022-07-17 12:25:07.298 JupyterHub app:2840] Initialized 0 spawners in 0.001 seconds
jh_container  | [W 2022-07-17 12:25:07.299 JupyterHub proxy:687] Running JupyterHub without SSL.  I hope there is SSL termination happening somewhere else...
jh_container  | [I 2022-07-17 12:25:07.299 JupyterHub proxy:691] Starting proxy @ http://:8000
jh_container  | [D 2022-07-17 12:25:07.299 JupyterHub proxy:692] Proxy cmd: ['configurable-http-proxy', '--ip', '', '--port', '8000', '--api-ip', '127.0.0.1', '--api-port', '8001', '--error-target', 'http://192.168.64.2:8081/hub/error']
jh_container  | [D 2022-07-17 12:25:07.302 JupyterHub proxy:610] Writing proxy pid file: jupyterhub-proxy.pid
jh_container  | 12:25:07.614 [ConfigProxy] info: Proxying http://*:8000 to (no default)
jh_container  | 12:25:07.615 [ConfigProxy] info: Proxy API at http://127.0.0.1:8001/api/routes
jh_container  | [D 2022-07-17 12:25:07.645 JupyterHub proxy:728] Proxy started and appears to be up
jh_container  | [D 2022-07-17 12:25:07.646 JupyterHub proxy:821] Proxy: Fetching GET http://127.0.0.1:8001/api/routes
jh_container  | 12:25:07.652 [ConfigProxy] info: 200 GET /api/routes 
jh_container  | [I 2022-07-17 12:25:07.652 JupyterHub app:3089] Hub API listening on http://0.0.0.0:8081/hub/
jh_container  | [I 2022-07-17 12:25:07.652 JupyterHub app:3091] Private Hub API connect url http://192.168.64.2:8081/hub/
jh_container  | [D 2022-07-17 12:25:07.653 JupyterHub proxy:343] Fetching routes to check
jh_container  | [D 2022-07-17 12:25:07.653 JupyterHub proxy:821] Proxy: Fetching GET http://127.0.0.1:8001/api/routes
jh_container  | 12:25:07.653 [ConfigProxy] info: 200 GET /api/routes 
jh_container  | [D 2022-07-17 12:25:07.653 JupyterHub proxy:346] Checking routes
jh_container  | [I 2022-07-17 12:25:07.653 JupyterHub proxy:431] Adding route for Hub: / =&gt; http://192.168.64.2:8081
jh_container  | [D 2022-07-17 12:25:07.653 JupyterHub proxy:821] Proxy: Fetching POST http://127.0.0.1:8001/api/routes/
jh_container  | 12:25:07.654 [ConfigProxy] info: Adding route / -&gt; http://192.168.64.2:8081
jh_container  | 12:25:07.654 [ConfigProxy] info: Route added / -&gt; http://192.168.64.2:8081
jh_container  | 12:25:07.654 [ConfigProxy] info: 201 POST /api/routes/ 
jh_container  | [I 2022-07-17 12:25:07.655 JupyterHub app:3156] JupyterHub is now running at http://:8000
jh_container  | [D 2022-07-17 12:25:07.655 JupyterHub app:2764] It took 0.435 seconds for the Hub to start
jh_container  | [I 2022-07-17 12:25:19.270 JupyterHub log:189] 302 GET / -&gt; /hub/ (@192.168.64.1) 0.75ms
jh_container  | [D 2022-07-17 12:25:19.279 JupyterHub base:326] Refreshing auth for myadmin
jh_container  | [D 2022-07-17 12:25:19.281 JupyterHub user:399] Creating &lt;class 'dockerspawner.dockerspawner.DockerSpawner'&gt; for myadmin:
jh_container  | [I 2022-07-17 12:25:19.283 JupyterHub log:189] 302 GET /hub/ -&gt; /hub/spawn (myadmin@192.168.64.1) 10.58ms
jh_container  | [D 2022-07-17 12:25:19.285 JupyterHub scopes:491] Checking access via scope servers
jh_container  | [D 2022-07-17 12:25:19.285 JupyterHub scopes:389] Unrestricted access to /hub/spawn via servers
jh_container  | [D 2022-07-17 12:25:19.285 JupyterHub pages:215] Triggering spawn with default options for myadmin
jh_container  | [D 2022-07-17 12:25:19.285 JupyterHub base:934] Initiating spawn for myadmin
jh_container  | [D 2022-07-17 12:25:19.285 JupyterHub base:938] 0/100 concurrent spawns
jh_container  | [D 2022-07-17 12:25:19.285 JupyterHub base:943] 0 active servers
jh_container  | [D 2022-07-17 12:25:19.288 JupyterHub roles:477] Checking token permissions against requested role server
jh_container  | [I 2022-07-17 12:25:19.289 JupyterHub roles:482] Adding role server to token: &lt;APIToken('3dde...', user='myadmin', client_id='jupyterhub')&gt;
jh_container  | [I 2022-07-17 12:25:19.295 JupyterHub provider:607] Creating oauth client jupyterhub-user-myadmin
jh_container  | [D 2022-07-17 12:25:19.307 JupyterHub user:728] Calling Spawner.start for myadmin
jh_container  | [D 2022-07-17 12:25:19.319 JupyterHub dockerspawner:982] Getting container 'jupyter-myadmin'
jh_container  | [I 2022-07-17 12:25:19.320 JupyterHub dockerspawner:988] Container 'jupyter-myadmin' is gone
jh_container  | [D 2022-07-17 12:25:19.323 JupyterHub dockerspawner:1148] Starting host with config: {'auto_remove': True, 'binds': {}, 'links': {}, 'mounts': [], 'mem_limit': 0, 'cpu_period': 100000, 'cpu_quota': 0, 'network_mode': 'jupyterhub-network'}
jh_container  | [I 2022-07-17 12:25:19.337 JupyterHub dockerspawner:1272] Created container jupyter-myadmin (id: d5b54b4) from image jupyter/scipy-notebook:lab-3.4.3
jh_container  | [I 2022-07-17 12:25:19.337 JupyterHub dockerspawner:1296] Starting container jupyter-myadmin (id: d5b54b4)
jh_container  | [D 2022-07-17 12:25:19.631 JupyterHub spawner:1258] Polling subprocess every 30s
jh_container  | [I 2022-07-17 12:25:20.286 JupyterHub log:189] 302 GET /hub/spawn -&gt; /hub/spawn-pending/myadmin (myadmin@192.168.64.1) 1002.05ms
jh_container  | [D 2022-07-17 12:25:20.291 JupyterHub scopes:491] Checking access via scope servers
jh_container  | [D 2022-07-17 12:25:20.291 JupyterHub scopes:389] Unrestricted access to /hub/spawn-pending/myadmin via servers
jh_container  | [I 2022-07-17 12:25:20.291 JupyterHub pages:401] myadmin is pending spawn
jh_container  | [I 2022-07-17 12:25:20.310 JupyterHub log:189] 200 GET /hub/spawn-pending/myadmin (myadmin@192.168.64.1) 20.61ms
jh_container  | [D 2022-07-17 12:25:20.468 JupyterHub scopes:491] Checking access via scope read:servers
jh_container  | [D 2022-07-17 12:25:20.468 JupyterHub scopes:389] Unrestricted access to /hub/api/users/myadmin/server/progress via read:servers
jh_container  | [I 2022-07-17 12:25:20.527 JupyterHub log:189] 200 GET /hub/api (@192.168.64.3) 0.53ms
jh_container  | [D 2022-07-17 12:25:20.532 JupyterHub base:281] Recording first activity for &lt;APIToken('3dde...', user='myadmin', client_id='jupyterhub')&gt;
jh_container  | [D 2022-07-17 12:25:20.539 JupyterHub scopes:301] Authenticated with token &lt;APIToken('3dde...', user='myadmin', client_id='jupyterhub')&gt;
jh_container  | [D 2022-07-17 12:25:20.541 JupyterHub scopes:491] Checking access via scope users:activity
jh_container  | [D 2022-07-17 12:25:20.541 JupyterHub scopes:402] Argument-based access to /hub/api/users/myadmin/activity via users:activity
jh_container  | [D 2022-07-17 12:25:20.542 JupyterHub users:859] Activity for user myadmin: 2022-07-17T12:25:20.513412Z
jh_container  | [D 2022-07-17 12:25:20.542 JupyterHub users:877] Activity on server myadmin/: 2022-07-17T12:25:20.513412Z
jh_container  | [I 2022-07-17 12:25:20.545 JupyterHub log:189] 200 POST /hub/api/users/myadmin/activity (myadmin@192.168.64.3) 14.99ms
jh_container  | [D 2022-07-17 12:25:20.653 JupyterHub utils:230] Server at http://192.168.64.3:8888/user/myadmin/ responded with 302
jh_container  | [D 2022-07-17 12:25:20.653 JupyterHub _version:74] jupyterhub and jupyterhub-singleuser both on version 2.3.1
jh_container  | [I 2022-07-17 12:25:20.653 JupyterHub base:963] User myadmin took 1.368 seconds to start
jh_container  | [I 2022-07-17 12:25:20.653 JupyterHub proxy:286] Adding user myadmin to proxy /user/myadmin/ =&gt; http://192.168.64.3:8888
jh_container  | [D 2022-07-17 12:25:20.653 JupyterHub proxy:821] Proxy: Fetching POST http://127.0.0.1:8001/api/routes/user/myadmin
jh_container  | 12:25:20.655 [ConfigProxy] info: Adding route /user/myadmin -&gt; http://192.168.64.3:8888
jh_container  | 12:25:20.655 [ConfigProxy] info: Route added /user/myadmin -&gt; http://192.168.64.3:8888
jh_container  | 12:25:20.655 [ConfigProxy] info: 201 POST /api/routes/user/myadmin 
jh_container  | [I 2022-07-17 12:25:20.656 JupyterHub users:753] Server myadmin is ready
jh_container  | [I 2022-07-17 12:25:20.656 JupyterHub log:189] 200 GET /hub/api/users/myadmin/server/progress (myadmin@192.168.64.1) 189.29ms
jh_container  | [D 2022-07-17 12:25:20.662 JupyterHub scopes:491] Checking access via scope servers
jh_container  | [D 2022-07-17 12:25:20.662 JupyterHub scopes:389] Unrestricted access to /hub/spawn-pending/myadmin via servers
jh_container  | [I 2022-07-17 12:25:20.663 JupyterHub log:189] 302 GET /hub/spawn-pending/myadmin -&gt; /user/myadmin/ (myadmin@192.168.64.1) 2.32ms
jh_container  | [I 2022-07-17 12:25:20.666 JupyterHub log:189] 302 GET /user/myadmin/ -&gt; /hub/user/myadmin/ (@192.168.64.1) 0.27ms
jh_container  | [D 2022-07-17 12:25:20.668 JupyterHub scopes:491] Checking access via scope access:servers
jh_container  | [D 2022-07-17 12:25:20.668 JupyterHub scopes:389] Unrestricted access to /hub/user/myadmin/ via access:servers
jh_container  | [I 2022-07-17 12:25:20.669 JupyterHub log:189] 302 GET /hub/user/myadmin/ -&gt; /user/myadmin/?redirects=1 (myadmin@192.168.64.1) 1.35ms
jh_container  | [I 2022-07-17 12:25:20.671 JupyterHub log:189] 302 GET /user/myadmin/?redirects=1 -&gt; /hub/user/myadmin/?redirects=1 (@192.168.64.1) 0.25ms
jh_container  | [D 2022-07-17 12:25:20.673 JupyterHub scopes:491] Checking access via scope access:servers
jh_container  | [D 2022-07-17 12:25:20.673 JupyterHub scopes:389] Unrestricted access to /hub/user/myadmin/ via access:servers
jh_container  | [W 2022-07-17 12:25:20.673 JupyterHub base:1615] Redirect loop detected on /hub/user/myadmin/?redirects=1
jh_container  | [I 2022-07-17 12:25:22.675 JupyterHub log:189] 302 GET /hub/user/myadmin/?redirects=1 -&gt; /user/myadmin/?redirects=2 (myadmin@192.168.64.1) 2003.39ms
jh_container  | [I 2022-07-17 12:25:22.679 JupyterHub log:189] 302 GET /user/myadmin/?redirects=2 -&gt; /hub/user/myadmin/?redirects=2 (@192.168.64.1) 0.67ms
jh_container  | [D 2022-07-17 12:25:22.683 JupyterHub scopes:491] Checking access via scope access:servers
jh_container  | [D 2022-07-17 12:25:22.683 JupyterHub scopes:389] Unrestricted access to /hub/user/myadmin/ via access:servers
jh_container  | [W 2022-07-17 12:25:22.684 JupyterHub base:1615] Redirect loop detected on /hub/user/myadmin/?redirects=2
jh_container  | [I 2022-07-17 12:25:26.685 JupyterHub log:189] 302 GET /hub/user/myadmin/?redirects=2 -&gt; /user/myadmin/?redirects=3 (myadmin@192.168.64.1) 4003.62ms
jh_container  | [I 2022-07-17 12:25:26.689 JupyterHub log:189] 302 GET /user/myadmin/?redirects=3 -&gt; /hub/user/myadmin/?redirects=3 (@192.168.64.1) 0.66ms
jh_container  | [D 2022-07-17 12:25:26.693 JupyterHub scopes:491] Checking access via scope access:servers
jh_container  | [D 2022-07-17 12:25:26.693 JupyterHub scopes:389] Unrestricted access to /hub/user/myadmin/ via access:servers
jh_container  | [W 2022-07-17 12:25:26.694 JupyterHub base:1615] Redirect loop detected on /hub/user/myadmin/?redirects=3
jh_container  | [I 2022-07-17 12:25:34.695 JupyterHub log:189] 302 GET /hub/user/myadmin/?redirects=3 -&gt; /user/myadmin/?redirects=4 (myadmin@192.168.64.1) 8003.82ms
jh_container  | [I 2022-07-17 12:25:34.698 JupyterHub log:189] 302 GET /user/myadmin/?redirects=4 -&gt; /hub/user/myadmin/?redirects=4 (@192.168.64.1) 0.41ms
jh_container  | [D 2022-07-17 12:25:34.701 JupyterHub scopes:491] Checking access via scope access:servers
jh_container  | [D 2022-07-17 12:25:34.701 JupyterHub scopes:389] Unrestricted access to /hub/user/myadmin/ via access:servers
jh_container  | [W 2022-07-17 12:25:34.701 JupyterHub web:1787] 500 GET /hub/user/myadmin/?redirects=4 (192.168.64.1): Redirect loop detected.
jh_container  | [D 2022-07-17 12:25:34.702 JupyterHub base:1342] No template for 500
jh_container  | [E 2022-07-17 12:25:34.719 JupyterHub log:181] {
jh_container  |       &quot;Host&quot;: &quot;192.168.64.2:8081&quot;,
jh_container  |       &quot;Connection&quot;: &quot;keep-alive&quot;,
jh_container  |       &quot;Cache-Control&quot;: &quot;max-age=0&quot;,
jh_container  |       &quot;Upgrade-Insecure-Requests&quot;: &quot;1&quot;,
jh_container  |       &quot;User-Agent&quot;: &quot;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.5060.53 Safari/537.36&quot;,
jh_container  |       &quot;Accept&quot;: &quot;text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9&quot;,
jh_container  |       &quot;Referer&quot;: &quot;http://192.168.64.2:8081/hub/spawn-pending/myadmin&quot;,
jh_container  |       &quot;Accept-Encoding&quot;: &quot;gzip, deflate&quot;,
jh_container  |       &quot;Accept-Language&quot;: &quot;pl-PL,pl;q=0.9,en-US;q=0.8,en;q=0.7&quot;,
jh_container  |       &quot;Cookie&quot;: &quot;jupyterhub-hub-login=[secret]; jupyterhub-session-id=[secret]&quot;
jh_container  |     }
jh_container  | [E 2022-07-17 12:25:34.719 JupyterHub log:189] 500 GET /hub/user/myadmin/?redirects=4 (myadmin@192.168.64.1) 19.43ms
^CGracefully stopping... (press Ctrl+C again to force)
[+] Running 1/1
</code></pre>
<p>⠿ Container jh_container  Stopped</p>
<p>with follwoing <code>docker-compose.yml</code>:</p>
<pre><code>version: &quot;3.9&quot;
services:
    jupyterhub: # Configuration for Hub+Proxy
        build: 
            context: ./jupyterhub/  # path to the Dockerfile
            args:
                JUPYTERHUB_VERSION: 2.3.1
        image: mc_jupyterhub_img:v1    # image name
        container_name: jh_container    # container name
        restart: always
        tty: true
        stdin_open: true
        volumes:
            - &quot;/var/run/docker.sock:/var/run/docker.sock:rw&quot;
        ports:
            - 8000:8000
            - 8081:8081
        networks:
            - ${DOCKER_NETWORK_NAME}
        environment:
            DOCKER_JUPYTER_IMAGE: jupyter/scipy-notebook:lab-3.4.3 
            DOCKER_NETWORK_NAME: ${DOCKER_NETWORK_NAME}
            
        env_file:
            - .env
        command: &gt;
            jupyterhub --debug -f /etc/jupyterhub/jupyterhub_config.py


networks:
    jupyterhub-network:
        name: ${DOCKER_NETWORK_NAME}
</code></pre>
<p>and <code>jupyter_config.py</code>:</p>
<pre><code>import os 

c = get_config()  

import nativeauthenticator
c.JupyterHub.authenticator_class = 'nativeauthenticator.NativeAuthenticator'
c.JupyterHub.template_paths = [f&quot;{os.path.dirname(nativeauthenticator.__file__)}/templates/&quot;]
c.Authenticator.admin_users = {&quot;myadmin&quot;}

import netifaces
docker0 = netifaces.ifaddresses('eth0')
docker0_ipv4 = docker0[netifaces.AF_INET][0]

c.JupyterHub.hub_ip = '0.0.0.0'
c.JupyterHub.hub_connect_ip = docker0_ipv4['addr']

c.JupyterHub.spawner_class = 'dockerspawner.DockerSpawner'

c.DockerSpawner.image = os.environ['DOCKER_JUPYTER_IMAGE']

network_name = os.environ['DOCKER_NETWORK_NAME']
c.DockerSpawner.use_internal_ip = True
c.DockerSpawner.network_name = network_name
c.DockerSpawner.extra_host_config = { 'network_mode': network_name }
c.DockerSpawner.remove = True
</code></pre>
<p>How can I fix this? What am I doing wrong?</p>
",206,0,<jupyter-lab><jupyterhub>,2022-07-17 12:32:46
72993001,Ipywidget button on_click call function with arguments,"<p>Running a jupyter notebook where i'm attempting to call a function on a button click. The function needs to take a value from a dropdown widget as an argument. Here's the code:</p>
<pre><code>import ipywidgets as widgets
import functools
from IPython.core.display import clear_output, display

def set_adc_precoder(_,adc_):
    with adc_precoder_out:
        clear_output()
        print(&quot;set_adc_precoder&quot;)
        print(adc_)
    
set_adc_precoder_btn = widgets.Button(description=&quot;Set ADC Precoder&quot;)
adc_precoder_select = widgets.Dropdown(options=range(0,16),description='ADC:')
adc_pre_form_items = [set_adc_precoder_btn, adc_precoder_select]
adc_pre_form = widgets.Box(adc_pre_form_items, layout=widgets.Layout(border='solid 2px',width='700px'))

adc_precoder_out = widgets.Output()

set_adc_precoder_btn.on_click(functools.partial(set_adc_precoder,\
                                                adc_ = adc_precoder_select.value))
                              
display(adc_pre_form,adc_precoder_out)
</code></pre>
<p>This gives the following output:
<a href=""https://i.stack.imgur.com/C8qJG.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/C8qJG.png"" alt=""enter image description here"" /></a></p>
<p>The value of the dropdown doesn't appear to be getting passed to the function. However, if I change:</p>
<pre><code>set_adc_precoder_btn.on_click(functools.partial(set_adc_precoder,\
                                                adc_ = adc_precoder_select.value))
</code></pre>
<p>to:</p>
<pre><code>set_adc_precoder_btn.on_click(functools.partial(set_adc_precoder,\
                                                adc_ = 7))
</code></pre>
<p>Then the value '7' gets passed as expected:</p>
<p><a href=""https://i.stack.imgur.com/tR0Gd.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/tR0Gd.png"" alt=""enter image description here"" /></a></p>
<p>So it looks like the dropdown value isn't getting updated. Can anyone spot what i've missed here?
Thanks.</p>
",257,0,<jupyter-notebook><ipywidgets>,2022-07-15 11:04:02
72986298,ipywidgets (Jupyter) trouble inside conditional,"<p>I am looking to present a dropdown to my user and store their answer but only if a certain previous condition is met. Here is an idea of what I have so far:</p>
<pre><code>number = 1
if (number == 1):
    name = widgets.Dropdown (
            options = [(&quot;days&quot;, 1), (&quot;months&quot;, 2), (&quot;years&quot;, 3)],
            value = 1,  
            description = 'choose:',
        ) 
    name
</code></pre>
<p>This dropdown appears on the screen if it is written with no conditional. But once I put it inside of the if-statement, my code runs without showing it and does not throw an error. This is my first time using ipywidgets, so any help would be greatly appreciated. Thank you! :)</p>
",31,0,<python><drop-down-menu><jupyter-notebook><conditional-statements><ipywidgets>,2022-07-14 20:26:32
72964693,Finding index value from list of ipywidget boxes,"<p>I have created a series of ipywidget Textboxes (which I use in a form for entry). I am trying to find out the index position for a given .value</p>
<p>if I have a list of 5 Names I know  I can type :</p>
<pre><code> dd_list[5].value 
</code></pre>
<p>to get the value of the textbox on row 6.</p>
<p>I need to reverse the formula to get the row number/index value of a given .value</p>
<p>Its not as simple as getting elements index position from a list as my list stores all the ipywidget textbox information and I have to type .value to isolate the &quot;value&quot; field in textbox</p>
",23,0,<python><list><ipywidgets>,2022-07-13 10:24:26
72961608,Retrieve datepicker value in @interact when widget in grid container,"<p>How would one retrieve the values from the datepicker inside an <code>interactive</code> session in a Jupyter notebook? It is not clear for me from the documentation how to retrieve the attributes from the children.</p>
<pre><code>start_date_w = widgets.DatePicker(
    value=date(2022,1,1),
    description='Pick a start Date',
    disabled=False, 
    style=style
)

end_date_w = widgets.DatePicker(
    value=date(2022,7,12),
    description='Pick a end Date',
    disabled=False, 
    style=style
)

start_date_2_w = widgets.DatePicker(
    value=date(2022,2,1),
    description='Pick a start Date',
    disabled=False, 
    style=style
)

end_date_2_w = widgets.DatePicker(
    value=date(2022,7,12),
    description='Pick a end Date',
    disabled=False, 
    style=style
)


date_picker_w = TwoByTwoLayout(top_left=start_date_w,
               top_right=start_date_2_w,
               bottom_left=end_date_w,
               bottom_right=end_date_2_w)
</code></pre>
<h4>NEW CELL</h4>
<pre><code>@interact(date_picker=date_picker_w)
def f(date_picker):
# start_date = (date_picker_w.top_left, 'value') # &lt;- Attempt 1
# start_date = date_picker_w.top_left.get_interact_value() # Attempt 2
...


</code></pre>
",22,0,<python><jupyter-notebook><ipywidgets>,2022-07-13 06:04:04
72956006,"ipywidgets, problem using a Text widget to filter options in a Select widget with automatic updates/ real-time interaction","<p>I'm trying to use ipywidgets for the first time to make an interactive browser in Jupyter Notebooks of Census data using the census module. In general I'm having difficulty learning the widget library. My plan is to use the Text widget to enter a search term that will then filter the available census 'concepts' or table options (example: &quot;Means of transportation to work&quot;) in a Selection or SelectMultiple widget. The selections made will then filter and show available data variables / columns for that census 'concept' or table (example: &quot;car&quot;, &quot;truck&quot;, &quot;bus&quot;, &quot;bike&quot;, &quot;walk&quot;)</p>
<p>For reference, this first code block is what I got to work in a normal Jupyter Notebook with no widgets (at the bottom is the ipywidget attempt I'm having trouble with). I'm just starting to explore widgets and don't know anyone with experience with them. Any assistance is greatly appreciated!</p>
<p>*Note, running my code would require a census api key from census.gov/data/developers.html, the &quot;Request a KEY&quot; option on the left side menu, and change the ckey=&quot;&quot; variable in the code below to your key. Keys are free, as it is publicly available government data.</p>
<pre><code>#This section works for me as standalone code, not using ipywidgets
#Show all concepts to get an idea of search phrases to use
concepts_all = list([n for n in sorted(list([f&quot;{t['description']}&quot; for t in c.acs5.tables()]))]);
#This is a VERY long list, so I commented out printing it
#[print(c) for c in concepts_all]

#Apply a search phrase and limit options accordingly
concept_description_search_phrase = &quot;Means of transportation to work by travel&quot;
[print(f&quot;{table['name']}: {table['description']}&quot;) for table in c.acs5.tables() if concept_description_search_phrase.lower() in table['description'].lower()]

#From the filtered options, chose one specific one to search, and display available data for it
concept_full_description = 'MEANS OF TRANSPORTATION TO WORK BY TRAVEL TIME TO WORK'
variable_filter_phrase = 'bicycle'

df = [pd.read_json(table['variables']) for table in c.acs5.tables() if table['description'] == concept_full_description][0]

acs_variable_names_list = [row.name for n,row in df.iterrows() 
 if variable_filter_phrase.lower() in row['variables']['label'].lower() 
 and 'Annotation' not in row['variables']['label'] 
 and 'Margin of Error' not in row['variables']['label']]

acs_variable_names_list
# This is the final list I want out from a ipywidgets based workflow
# Which are variable columns, (ex: number of people in each census block group that 
# have a 10, 15, 30, 45, 60+ minute commute by bicycle
########################################################
</code></pre>
<p>I'm having trouble getting the ipywidgets to work properly, where the Text box will interactively filter the available options in the Selection menu. I can only get it to work on a default value for the Text widget, but not off of the interactive menu. I'm basically going for the effect of the Combobox widget, but with the option to select more than one item if desired, and still see all the available options after a selection is made (so I'm thinking to use a Text and Select widget together instead of Combobox). This is my attempt so far:</p>
<pre><code>out = widgets.Output()
display(out)

search_phrase = widgets.Text(
    value = 'transportation',
    layout = widgets.Layout(width = '900px')
)

select_multiple = widgets.SelectMultiple(
        options = [n for n in concepts_all if search_phrase.value.lower() in n.lower()],
        layout = widgets.Layout(width='900px',height='250px'),
        ensure_option = True,
        disabled=False
)


def search_change(change):
    output.clear_output()
    display(search_phrase)
    with output:
        if change.new == '':
            print('new search')
            return search_phrase.value
        else:
            print('same search')
            return search_phrase.value
                   
display(search_phrase)   
display(select_multiple)
#Issue here with getting the search_phrase to properly filter options in select_multiple


#
concept_full_description = select_multiple.value[0]  #Using Widgets
variable_filter_phrase = widgets.Text(value = 'bicy')

display(variable_filter_phrase) #Issue, this text box won't automatically filter the output
                                #it is only filtering by the default value

df = [pd.read_json(table['variables']) for table in c.acs5.tables() if table['description'] == concept_full_description][0]

acs_variable_names_list = [row.name for n,row in df.iterrows() 
 if variable_filter_phrase.value.lower() in row['variables']['label'].lower() 
 and 'Annotation' not in row['variables']['label'] 
 and 'Margin of Error' not in row['variables']['label']] #print(row.name,&quot;: &quot;,row['variables']['label'])

acs_variable_names_list
#This is the desired output list that will go into later workflows
</code></pre>
<p>I think I'm doing something wrong either in use of the .observe(), .interact(), or output /clear_output process. I'm just learning the ipywidgets and am even having trouble getting this to work in a basic example trying to follow the ipywidgets.readthedocs.io documentation.</p>
",64,0,<select><text><jupyter-notebook><interactive><ipywidgets>,2022-07-12 17:08:10
72952346,Can we Restrict pip install in jupyter cell/notebook,"<p>Can we restrict or disable pip install in jupyter.
I don't want to install any packages in my jupyter notebook.
any one have idea about it??</p>
",38,0,<python><pip><jupyter-notebook><jupyterhub>,2022-07-12 12:30:15
72944674,Jupyterlab - find and replace globally ( all files and in all directories ),"<p>Is there any way to find and replace text string automatically in all folder's files? similar to what we get in sublime text, VS code etc</p>
",83,0,<jupyter-notebook><jupyter-lab><jupyterhub><jupyter-console>,2022-07-11 21:05:38
72942721,How to embed a dropdown ipywidget in an ipysheet spreadsheet?,"<p>I tried following the code to merge a dropdown menu ipywidget into the ipysheet. it seems like my code works the way I imagined. However, I am unable to select items from the menus listed in the dropdown widget.</p>
<pre><code>import ipysheet
import ipywidgets as widgets

Solvent = widgets.Dropdown(
    options=['DMC', '2-Butanol', 'Chloroform', 'Ethanol'],
    value='DMC',)

sheet2 = ipysheet.sheet()
ipysheet.column(0, [Solvent])
ipysheet.column(1, [1,2,3,4, 5])


widgets.VBox([sheet2, Solvent ])
</code></pre>
",65,1,<python-3.x><dropdown><spreadsheet><jupyter-lab><ipywidgets>,2022-07-11 17:52:16
72923256,How to export ipywidgets function into HTML file,"<p>I am using <code>ipyeidgets</code> to create a dashboard, I need to export that dashboard into <code>HTML</code> as well.
Code is as below:</p>
<pre class=""lang-py prettyprint-override""><code>    import ipywidgets as widgets
    from IPython.display import display, clear_output
          def testt(df):
               out3 = widgets.Output()
               tab = widgets.Tab(children = [out3])
               display(tab)
                    with out3:
                    def check_correlation(df):
                        corr_matrix = df.corr()
                        fig = px.imshow(corr_matrix)
                        fig.show()
                    check_correlation(df)
</code></pre>
<p>I have tried to use ipywidgets.embed but I can't find a way to import the whole function in it, is there another solution to do so?</p>
<p>Code to export my whole function:</p>
<pre class=""lang-py prettyprint-override""><code>    from ipywidgets.embed import embed_minimal_html as emh
    
    emh('export.html',views = [tab,out1], title = 'testing')
</code></pre>
<p>but this isn't working and just showing the tab in <code>HTML</code> page.</p>
<p>And this code is inside the <code>testt(df)</code> function. Also if there is any other way to do so please tell me.</p>
",102,0,<python><html><jupyter-notebook><ipywidgets>,2022-07-09 17:04:26
72916658,Some matplotlib colorbars disappear when colorbar axes are moved,"<p>I am using the following lines of python code to create a figure with multiple subplots in a Jupiter notebook and attempting to add colorbars to some of the plots. The following lines are 1 of 7 sections copied and pasted with adjustments to GridSpec, variables, labels and axes handles made for each:</p>
<pre><code>fig = plt.figure(figsize=(20,20))

    gs = gridspec.GridSpec(21, 13)
...
    if i &gt;= 1:
        ax3 = plt.subplot(gs[6:9, 3*i+1:3*i+4],projection=ccrs.Robinson())
    else:
        ax3 = plt.subplot(gs[6:9, 3*i:3*i+3],projection=ccrs.Robinson())
    if i == 0:
        cs3 = ax3.contourf(Lon,lat,cldhgh.squeeze(),12,transform=ccrs.PlateCarree(),cmap='gist_gray',vmin=0,vmax=1)
        ax3.coastlines()
        Cticks=np.around(np.linspace(0,1,6),decimals=1)
        Cbar_ax3 = fig.add_axes([0.3,0.58,0.01,0.10])
        cb3 = fig.colorbar(cs3, spacing='proportional',orientation='vertical',cax=Cbar_ax3,ticks=Cticks)
        #cb2.set_ticklabels(Cticks.astype(int).astype(str),fontsize=7)
        cb3.set_ticklabels(Cticks.astype(str),fontsize=12)
        cb3.set_label('High Cloud Fraction',fontsize=10)
    else:
        cs3 = ax3.contourf(Lon,lat,delta_cldhgh,61,transform=ccrs.PlateCarree(),cmap='BrBG',vmin=-0.2,vmax=0.2)
        c3 = ax3.contour(Lon,lat,cldhgh.squeeze(),12,vmin=0,vmax=1,colors='black',linewidths=0.5)
        ax3.coastlines()
        if i == 1:
            cticks=np.around(np.linspace(-0.2,0.2,5),decimals=1)
            cbar_ax = fig.add_axes([1.02,0.58,0.01,0.10])
            ax3.set_ylabel('Hybrid Sigma-Pressure level (mb)',fontsize=12)
            #cb = fig.colorbar(cs, spacing='proportional',orientation='vertical',cax=cbar_ax,ticks=cticks)
            cb3 = fig.colorbar(mappable=None, norm=Normalize(vmin=-0.2,vmax=0.2), cmap='BrBG',spacing='proportional',orientation='vertical',cax=cbar_ax,ticks=cticks)
            cb3.set_ticklabels(cticks.astype(str),fontsize=12)
            #cb2.set_ticklabels(cticks.astype(int).astype(str),fontsize=10)
            cb3.set_label('Cloud Fraction Difference',fontsize=10)
...

plt.suptitle('Comparison of mappables of Background Climate States',fontsize=24,y=1.01)
#fig.text(-0.04, 0.5, 'Sigma Pressure Level (mb)', va='center', rotation='vertical')
fig.tight_layout(pad=0.2)
plt.show()
fig.savefig(figure_path+'Reference_Climate_Comparison_of_Mappables.pdf',bbox_inches='tight')
</code></pre>
<p>I am able to <em>almost</em> do this successfully, except the original guess I made for the x displacement of my colorbars on the left side of the figure was too large:</p>
<p><a href=""https://i.stack.imgur.com/Fujj1.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/Fujj1.jpg"" alt=""Figure with colorbars but in wrong position"" /></a></p>
<p>To fix this I simply adjusted the first index of each subplot's &quot;Cbar_ax&quot; variable to be slightly smaller (e.g. from 0.3 to 0.25):</p>
<pre><code>Cbar_ax3 = fig.add_axes([0.25,0.58,0.01,0.10])
</code></pre>
<p>The adjustment works for some subplots, but for others the colorbars all but vanish:</p>
<p><a href=""https://i.stack.imgur.com/kmGAe.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/kmGAe.jpg"" alt=""Figure with adjusted colorbars, but some disappear"" /></a></p>
<p>I have no idea how to solve this problem. I can make the colorbars appear using plt.colorbar() instead of fig.colorbar() without an colorbar axes designation, but the subplots themselves are not a consistent size with the rest of the figure (since plt.colorbar steals axes space from it's parent axes by default). What am I not seeing here? Why do some of these colorbars disappear when I move them?</p>
",40,0,<matplotlib><python-3.7><colorbar><cartopy><jupyterhub>,2022-07-08 20:26:05
72889319,Can I clone a jupyterhub kernel?,"<p>I access a JupyterHub instance with some preconfigured kernels. I know how to create a new kernel from scratch, but how can I clone an existing one?  I want to customize it with my own packages.</p>
<p>I created a pure python kernel, but I'd like to clone our default spark kernel. The new kernel should have the <em>spark</em> object already created.</p>
<p>The JupyterHub env was set up by an admin. It uses pure Python (no Conda).</p>
",16,0,<pyspark><jupyter><jupyterhub><jupyter-kernel>,2022-07-06 20:09:07
72883216,JupyterHub fails to spawn new session with 'No module named IPythonHandler',"<p>I am using the jupyterhub 1.4 Docker image and have set it up to spawn sessions with sudospawner-singleuser. However I now get the following error when a user tries to log in:</p>
<p><code>AttributeError: module 'notebook.base.handlers' has no attribute 'IPythonHandler'</code></p>
<p>The setup used to work but started to fail after I restarted my container. I also tried the 1.5 image and got the same error, both with the following stack trace:</p>
<pre><code> Traceback (most recent call last):
   File &quot;/usr/local/lib/python3.9/dist-packages/traitlets/utils/importstring.py&quot;, line 32, in import_item
     pak = getattr(module, obj)
 AttributeError: module 'notebook.base.handlers' has no attribute 'IPythonHandler'

 During handling of the above exception, another exception occurred:
 Traceback (most recent call last):
   File &quot;/usr/local/lib/python3.9/dist-packages/jupyterlab/labhubapp.py&quot;, line 19, in &lt;module&gt;
     from jupyterhub.singleuser.mixins import make_singleuser_app
   File &quot;/usr/local/lib/python3.9/dist-packages/jupyterhub/singleuser/__init__.py&quot;, line 5, in &lt;module&gt;
     from .app import main
   File &quot;/usr/local/lib/python3.9/dist-packages/jupyterhub/singleuser/app.py&quot;, line 41, in &lt;module&gt;
     SingleUserNotebookApp = make_singleuser_app(App)
   File &quot;/usr/local/lib/python3.9/dist-packages/jupyterhub/singleuser/mixins.py&quot;, line 916, in make_singleuser_app
     BaseHandler = _patch_app_base_handlers(empty_parent_app)
   File &quot;/usr/local/lib/python3.9/dist-packages/jupyterhub/singleuser/mixins.py&quot;, line 871, in _patch_app_base_handlers
     base_handlers.append(import_item(base_handler_name))
   File &quot;/usr/local/lib/python3.9/dist-packages/traitlets/utils/importstring.py&quot;, line 34, in import_item
     raise ImportError(&quot;No module named %s&quot; % obj)
 ImportError: No module named IPythonHandler
</code></pre>
<p>Any idea why this is now happening and how I can fix it?</p>
",117,1,<python><jupyter><jupyter-lab><jupyterhub>,2022-07-06 11:59:33
72874361,How to save an interactive plot?,"<p>I'm creating an interactive plot using Pywedge Bibliothek in jupyter notebook using this code</p>
<pre><code>x=pw.Pywedge_Charts(df, c=None, y='Number_Trips')
charts=x.make_charts()
charts
</code></pre>
<p>an example of the output is as follows <a href=""https://i.stack.imgur.com/4W9F4.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/4W9F4.png"" alt=""trips per days"" /></a></p>
<p>and i can desactivate as well as activate the day i want to see.. my question is how can i save it and keep it interactive to use it in a website or if it is even possible?</p>
",147,-1,<python><dataframe><ipywidgets>,2022-07-05 19:03:11
72857755,Handle multiple python versions and python multiple libraries versions with jupyterhub,"<p>I have a Linux machine that hosts a multiple user Jupyter Hub (TLJH) service.</p>
<p>I started it 1 year ago and today, it is not possible to do any update/upgrade without breaking it.
By update I mean : Linux updates and, but most, Python updates.
For example : I have library loop references. When I install or upgrade a library (1st), it updates another library(2nd) and breaks another (3rd) library</p>
<p>I believe that some thing were baldy configured.</p>
<p>So I'm here to take some testimonials about your potential experiences on this kind of needs.</p>
<p>What I would like to have is :</p>
<ul>
<li>A multiple user jupyter environnement</li>
<li>A way to manage different Python versions and different libraries versions without getting my end users too deep in technique</li>
<li>Maybe a solution that couples docker and Jupyter. But we need to be able to code in jupyter hub</li>
<li>Or a way to handle easily one or several kernel per user.</li>
<li>Any other idea ?</li>
</ul>
<p>Thank you, let me know if I'm not clear at all or if you are missing informations !</p>
<p>In advance, many thanks guys !</p>
",27,0,<python><jupyterhub>,2022-07-04 13:45:38
72856448,is it possible to jupyterhub on gke autopilot via helm?,"<p>I am trying to install the jupyterhub on the gke autopilot cluster via helm using <a href=""https://zero-to-jupyterhub.readthedocs.io/en/latest/kubernetes/google/step-zero-gcp.html"" rel=""nofollow noreferrer"">tutorial</a>. It gets installed but when I start the jupyterhub server from the UI(svc), getting the spawn failed error in the logs it says &quot;block-cloud-metadata not allowed;&quot;.</p>
<p>is it possible to jupyterhub on gke autopilot via helm?</p>
",37,0,<google-kubernetes-engine><jupyterhub><autopilot>,2022-07-04 12:05:14
72849120,Limit an interactive Box for numerical values,"<p>I am trying to bound an interactive box into a numerical value only (something similar to the BoundedFloatText object). This is an example of my code - an interactive box with a button. I want this box to be limited to numerical values only. Does anyone know if it is possible?</p>
<pre><code>import ipywidgets as widgets
from ipywidgets import interactive, interact_manual, Layout, Button, ButtonStyle

def diff(MeaP):
        MeaP = float(MeaP); 
        diff = abs(MeaP)
        print(f&quot;Difference in the population = {round(diff,7)}&quot;)

style = {'description_width': 'initial'}           
Z2 = interactive(diff, {'manual': True}, MeaP=&quot;0&quot;)
Z2.children[0].layout = Layout(width='200px', padding = &quot;0px 25px 0px 0px&quot;)
Z2.children[0].style = style
Z2.children[0].description = &quot;&lt;b&gt; Difference &lt;/b&gt;&quot; 
Z2.children[1].style.button_color=&quot;lightblue&quot;
Z2.children[1].description=&quot;Click the button&quot; 
Z2.children[1].style.font_weight = &quot;bold&quot;
Z2.children[1].layout = Layout(width='250px')

display(Z2) 
</code></pre>
",16,0,<python><ipywidgets>,2022-07-03 18:52:46
72843914,Jupyter Hub in VS code does not start/render,"<p>Hello and thanks in advance.
Please forgive any mistakes I may have made in posting this question. If you get the gist of it please help.</p>
<p>Question</p>
<p>At my work they have a server with jupyter hub on it.
I am trying to access it on vs code but vs-code is stuck somewhere it never displays code cell.</p>
<p><strong>To clear few things i have tried</strong></p>
<ol>
<li><p>I have specified the server URL in the format</p>
<p>http://hostname:port/user?username/?token=token</p>
</li>
<li><p>I tried it with local server and same thing happens. Logs are attached at the end.</p>
</li>
<li><p>I have tried downgrading the extensions and Vs code(versions 1.66 and 1.68 ) both but they don't work as well.</p>
</li>
<li><p>I have changed the pip install directory from %APPDATA% to &quot;C:\Program Files\python\Scripts&quot; and &quot;C:\Program Files\python\Lib\site-packages&quot;. this is done due to the permission issues from Appdata location.</p>
</li>
</ol>
<hr />
<p>Logs for Local Connection/default server</p>
<pre><code>info 8:41:22.410: Disposing kernel .jvsc74a57bd0570feb405e2e27c949193ac68f46852414290d515b0ba6e5d90d076ed2284471.c:\Program Files\Python38\python.exe.c:\Program Files\Python38\python.exe.-m#ipykernel_launcher for notebook Untitled-1.ipynb due to selection of another kernel or closing of the notebook info 8:41:22.410: Dispose Kernel 'Untitled-1.ipynb' associated with 'Untitled-1.ipynb' info 8:41:22.415: kill daemon info 8:41:32.743: Preferred Remote kernel for Untitled-1.ipynb is undefined info 8:41:32.839: Starting Jupyter Session id = 'startUsingPythonInterpreter:.jvsc74a57bd0570feb405e2e27c949193ac68f46852414290d515b0ba6e5d90d076ed2284471.c:\Program Files\Python38\python.exe.c:\Program Files\Python38\python.exe.-m#ipykernel_launcher' (Python Path: , EnvType: Global, EnvName: '', Version: 3.8.3) for 'Untitled-1.ipynb' (disableUI=true) info 8:41:32.840: Creating raw notebook for resource 'Untitled-1.ipynb' info 8:41:32.840: Computing working directory for resource 'Untitled-1.ipynb' info 8:41:32.840: Starting raw kernel 'Python 3.8.3 64-bit' for interpreter c:\Program Files\Python38\python.exe info 8:41:32.845: Preferred Remote kernel for Untitled-1.ipynb is undefined info 8:41:32.845: Find preferred kernel for Untitled-1.ipynb with metadata {&quot;orig_nbformat&quot;:4,&quot;language_info&quot;:{&quot;name&quot;:&quot;python&quot;}} &amp; preferred interpreter c:\Program Files\Python38\python.exe info 8:41:32.847: Preferred Remote kernel for Untitled-1.ipynb is undefined info 8:41:32.847: Preferred kernel .jvsc74a57bd0570feb405e2e27c949193ac68f46852414290d515b0ba6e5d90d076ed2284471.c:\Program Files\Python38\python.exe.c:\Program Files\Python38\python.exe.-m#ipykernel_launcher is exact match info 8:41:32.848: PreferredConnection: .jvsc74a57bd0570feb405e2e27c949193ac68f46852414290d515b0ba6e5d90d076ed2284471.c:\Program Files\Python38\python.exe.c:\Program Files\Python38\python.exe.-m#ipykernel_launcher found for NotebookDocument: Untitled-1.ipynb info 8:41:32.882: Process Execution: &gt; c:\Program Files\Python38\python.exe -c &quot;import ipykernel; print(ipykernel.__version__); print(&quot;5dc3a68c-e34e-4080-9c3e-2a532b2ccb4d&quot;); print(ipykernel.__file__)&quot;
&gt; c:\Program Files\Python38\python.exe -c &quot;import ipykernel; print(ipykernel.__version__); print(&quot;5dc3a68c-e34e-4080-9c3e-2a532b2ccb4d&quot;); print(ipykernel.__file__)&quot; info 8:41:32.916: Kernel launching with ports 9000,9001,9002,9003,9004. Start port is 9000 info 8:41:32.938: Preferred Remote kernel for Untitled-1.ipynb is undefined info 8:41:32.938: Find preferred kernel for Untitled-1.ipynb with metadata {&quot;orig_nbformat&quot;:4,&quot;language_info&quot;:{&quot;name&quot;:&quot;python&quot;}} &amp; preferred interpreter c:\Program Files\Python38\python.exe info 8:41:32.940: Preferred Remote kernel for Untitled-1.ipynb is undefined info 8:41:32.940: Preferred kernel .jvsc74a57bd0570feb405e2e27c949193ac68f46852414290d515b0ba6e5d90d076ed2284471.c:\Program Files\Python38\python.exe.c:\Program Files\Python38\python.exe.-m#ipykernel_launcher is exact match info 8:41:32.951: Creating daemon process for c:\Program Files\Python38\python.exe with env variables count 71 info 8:41:32.982: Process Execution: &gt; c:\Program Files\Python38\python.exe
-m vscode_datascience_helpers.daemon --daemon-module=vscode_datascience_helpers.kernel_interrupt_daemon -v --ppid 12152
&gt; c:\Program Files\Python38\python.exe -m vscode_datascience_helpers.daemon
--daemon-module=vscode_datascience_helpers.kernel_interrupt_daemon -v --ppid 12152 info 8:41:33.498: get interrupthandle daemon info 8:41:33.529: Process Execution: &gt; c:\Program Files\Python38\python.exe
-m ipykernel_launcher --ip=127.0.0.1 --stdin=9003 --control=9001 --hb=9000 --Session.signature_scheme=&quot;hmac-sha256&quot; --Session.key=b&quot;13a7f515-4cc3-4467-8c28-feae6f9391ef&quot; --shell=9002 --transport=&quot;tcp&quot; --iopub=9004 --f=c:\Users\skum1299\AppData\Roaming\jupyter\runtime\kernel-v2-12152zPVg8viHVYps.json
&gt; c:\Program Files\Python38\python.exe -m ipykernel_launcher --ip=127.0.0.1 --stdin=9003 --control=9001 --hb=9000 --Session.signature_scheme=&quot;hmac-sha256&quot; --Session.key=b&quot;13a7f515-4cc3-4467-8c28-feae6f9391ef&quot; --shell=9002 --transport=&quot;tcp&quot; --iopub=9004 --f=c:\Users\skum1299\AppData\Roaming\jupyter\runtime\kernel-v2-12152zPVg8viHVYps.json info 8:41:33.529: Process Execution: cwd: c:\program files\microsoft vs code cwd: c:\program files\microsoft vs code info 8:41:33.779: ipykernel version 6.15.0 for c:\Program Files\Python38\python.exe info 8:41:33.779: ipykernel location c:\Program Files\Python38\lib\site-packages\ipykernel\__init__.py for c:\Program Files\Python38\python.exe warn 8:41:35.299: StdErr from Kernel Process c:\Program Files\Python38\lib\site-packages\traitlets\traitlets.py:2392: FutureWarning: Supporting extra quotes around strings is deprecated in traitlets 5.0. You can use 'hmac-sha256' instead of '&quot;hmac-sha256&quot;' if you require traitlets &gt;=5.   warn(

warn 8:41:35.299: StdErr from Kernel Process c:\Program Files\Python38\lib\site-packages\traitlets\traitlets.py:2346: FutureWarning: Supporting extra quotes around Bytes is deprecated in traitlets 5.0. Use '13a7f515-4cc3-4467-8c28-feae6f9391ef' instead of 'b&quot;13a7f515-4cc3-4467-8c28-feae6f9391ef&quot;'.   warn(

info 8:41:35.383: Kernel Output: NOTE: When using the `ipython kernel` entry point, Ctrl-C will not work.

To exit, you will have to explicitly quit this process, by either sending &quot;quit&quot; from a client, or using Ctrl-\ in UNIX-like environments.

To read more about this, see https://github.com/ipython/ipython/issues/2049


To connect another client to this kernel, use:
    --existing c:\Users\skum1299\AppData\Roaming\jupyter\runtime\kernel-v2-12152zPVg8viHVYps.json

info 8:41:35.453: Started kernel Python 3.8.3 64-bit, (Raw session started and connected) info 8:41:35.454: Finished connecting 0c88f1ff-9743-4b11-881b-832ba275d8e0 info 8:41:35.472: Executing silently Code (idle) = __vsc_ipynb_file__ = &quot;Untitled-1.ipynb&quot;\n%config Completer.use_jedi = False info 8:41:35.504: Executing silently Code (completed) = __vsc_ipynb_file__
= &quot;Untitled-1.ipynb&quot;\n%config Completer.use_jedi = False info 8:41:35.505: Waiting for idle on (kernel): a79ddae2-cc75-4e16-8e64-6bc27a6782fc -&gt; idle info 8:41:35.505: Finished waiting for idle on (kernel): a79ddae2-cc75-4e16-8e64-6bc27a6782fc -&gt; idle
</code></pre>
<hr />
<p>Logs for remote connection</p>
<pre><code>Visual Studio Code (1.68.1, undefined, desktop)
Jupyter Extension Version: 2022.5.1001601848.
Python Extension Version: 2022.8.1.
No workspace folder opened.
info 9:40:7.301: ZMQ install verified.
User belongs to experiment group 'jupyterTest'
User belongs to experiment group 'jupyterEnhancedDataViewer'
info 9:40:7.545: LSP Notebooks experiment is disabled -- not in treatment group
info 9:40:7.633: Experiment status for python is {&quot;enabled&quot;:true,&quot;optInto&quot;:[],&quot;optOutFrom&quot;:[]}
info 9:40:8.495: Process Execution: &gt; c:\Program Files\Python38\python.exe -m pip list
&gt; c:\Program Files\Python38\python.exe -m pip list
info 9:40:13.151: Creating server with url : http://rn000060355:8000/user/skum1299/
info 9:40:23.826: Checking for server existence.
info 9:40:23.827: Checking for server usability.
info 9:40:23.827: Starting notebook server.
info 9:40:23.827: Connecting to server
info 9:40:23.827: Connecting to process server
info 9:40:23.827: Connecting server kernel http://rn000060355:8000/user/skum1299/
Connecting to Jupyter server at http://rn000060355:8000/user/skum1299/
info 9:40:23.828: Creating server with url : http://rn000060355:8000/user/skum1299/
info 9:40:23.829: Connection complete server
info 9:40:23.829: Server started.
info 9:40:23.829: Creating server with url : http://rn000060355:8000/user/skum1299/
info 9:40:24.931: Creating server with url : http://rn000060355:8000/user/skum1299/
info 9:41:5.451: Preferred Remote kernel for Untitled-1.ipynb is undefined
info 9:41:5.628: Starting Jupyter Session id = 'startUsingPythonInterpreter:.jvsc74a57bd0570feb405e2e27c949193ac68f46852414290d515b0ba6e5d90d076ed2284471.c:\Program Files\Python38\python.exe.c:\Program Files\Python38\python.exe.-m#ipykernel_launcher' (Python Path: , EnvType: Global, EnvName: '', Version: 3.8.3) for 'Untitled-1.ipynb' (disableUI=true)
info 9:41:5.629: Creating raw notebook for resource 'Untitled-1.ipynb'
info 9:41:5.629: Computing working directory for resource 'Untitled-1.ipynb'
info 9:41:5.630: Starting raw kernel 'Python 3.8.3 64-bit' for interpreter c:\Program Files\Python38\python.exe
info 9:41:5.655: Process Execution: &gt; c:\Program Files\Python38\python.exe -c &quot;import ipykernel; print(ipykernel.__version__); print(&quot;5dc3a68c-e34e-4080-9c3e-2a532b2ccb4d&quot;); print(ipykernel.__file__)&quot;
&gt; c:\Program Files\Python38\python.exe -c &quot;import ipykernel; print(ipykernel.__version__); print(&quot;5dc3a68c-e34e-4080-9c3e-2a532b2ccb4d&quot;); print(ipykernel.__file__)&quot;
info 9:41:5.679: Kernel launching with ports 9000,9001,9002,9003,9004. Start port is 9000
info 9:41:5.708: Creating daemon process for c:\Program Files\Python38\python.exe with env variables count 71
info 9:41:5.726: Process Execution: &gt; c:\Program Files\Python38\python.exe -m vscode_datascience_helpers.daemon --daemon-module=vscode_datascience_helpers.kernel_interrupt_daemon -v --ppid 2752
&gt; c:\Program Files\Python38\python.exe -m vscode_datascience_helpers.daemon --daemon-module=vscode_datascience_helpers.kernel_interrupt_daemon -v --ppid 2752
info 9:41:5.992: get interrupthandle daemon
info 9:41:6.7: Process Execution: &gt; c:\Program Files\Python38\python.exe -m ipykernel_launcher --ip=127.0.0.1 --stdin=9003 --control=9001 --hb=9000 --Session.signature_scheme=&quot;hmac-sha256&quot; --Session.key=b&quot;c493610e-2f96-41b4-ba77-66713c1e3f69&quot; --shell=9002 --transport=&quot;tcp&quot; --iopub=9004 --f=c:\Users\skum1299\AppData\Roaming\jupyter\runtime\kernel-v2-2752Xm0khhJ1gzpQ.json
&gt; c:\Program Files\Python38\python.exe -m ipykernel_launcher --ip=127.0.0.1 --stdin=9003 --control=9001 --hb=9000 --Session.signature_scheme=&quot;hmac-sha256&quot; --Session.key=b&quot;c493610e-2f96-41b4-ba77-66713c1e3f69&quot; --shell=9002 --transport=&quot;tcp&quot; --iopub=9004 --f=c:\Users\skum1299\AppData\Roaming\jupyter\runtime\kernel-v2-2752Xm0khhJ1gzpQ.json
info 9:41:6.7: Process Execution: cwd: c:\program files\microsoft vs code
cwd: c:\program files\microsoft vs code
info 9:41:6.100: Registering dummy command feature
info 9:41:6.292: ipykernel version 6.15.0 for c:\Program Files\Python38\python.exe
info 9:41:6.292: ipykernel location c:\Program Files\Python38\lib\site-packages\ipykernel\__init__.py for c:\Program Files\Python38\python.exe
warn 9:41:7.482: StdErr from Kernel Process c:\Program Files\Python38\lib\site-packages\traitlets\traitlets.py:2392: FutureWarning: Supporting extra quotes around strings is deprecated in traitlets 5.0. You can use 'hmac-sha256' instead of '&quot;hmac-sha256&quot;' if you require traitlets &gt;=5.
  warn(

warn 9:41:7.482: StdErr from Kernel Process c:\Program Files\Python38\lib\site-packages\traitlets\traitlets.py:2346: FutureWarning: Supporting extra quotes around Bytes is deprecated in traitlets 5.0. Use 'c493610e-2f96-41b4-ba77-66713c1e3f69' instead of 'b&quot;c493610e-2f96-41b4-ba77-66713c1e3f69&quot;'.
  warn(

info 9:41:7.552: Kernel Output: NOTE: When using the `ipython kernel` entry point, Ctrl-C will not work.

To exit, you will have to explicitly quit this process, by either sending
&quot;quit&quot; from a client, or using Ctrl-\ in UNIX-like environments.

To read more about this, see https://github.com/ipython/ipython/issues/2049


To connect another client to this kernel, use:
    --existing c:\Users\skum1299\AppData\Roaming\jupyter\runtime\kernel-v2-2752Xm0khhJ1gzpQ.json

info 9:41:7.736: Started kernel Python 3.8.3 64-bit, (Raw session started and connected)
info 9:41:7.736: Finished connecting ca4d7c65-b76d-49cd-a738-8cfebda8c13f
info 9:41:7.743: Executing silently Code (idle) = __vsc_ipynb_file__ = &quot;Untitled-1.ipynb&quot;\n%config Completer.use_jedi = False
info 9:41:7.761: Executing silently Code (completed) = __vsc_ipynb_file__ = &quot;Untitled-1.ipynb&quot;\n%config Completer.use_jedi = False
info 9:41:7.762: Waiting for idle on (kernel): 832c8eae-f931-4481-9e33-0a2961758749 -&gt; idle
info 9:41:7.762: Finished waiting for idle on (kernel): 832c8eae-f931-4481-9e33-0a2961758749 -&gt; idle
info 9:41:7.764: Creating server with url : http://rn000060355:8000/user/skum1299/
info 9:41:8.841: Creating server with url : http://rn000060355:8000/user/skum1299/
</code></pre>
",67,0,<python-3.x><visual-studio-code><jupyter-notebook><vscode-extensions><jupyterhub>,2022-07-03 04:27:41
72832971,dynamically create search space JSON/dictionary using ipywidgets (or similar) in Colab,"<p>I'd like to create an interactive interface for defining <a href=""https://ax.dev/"" rel=""nofollow noreferrer"">Ax</a> search spaces using <a href=""https://ax.dev/tutorials/gpei_hartmann_service.html"" rel=""nofollow noreferrer"">Ax's Service API</a>.</p>
<blockquote>
<p>An experiment consists of a <strong>search space</strong> (parameters and parameter
constraints) and <strong>optimization configuration</strong> (objective name,
minimization setting, and outcome constraints). Note that:</p>
<ul>
<li>Only <code>name</code>, <code>parameters</code>, and <code>objective_name</code> arguments are required.</li>
<li>Dictionaries in <code>parameters</code> have the following required keys: &quot;name&quot; - parameter name, &quot;type&quot; - parameter type (&quot;range&quot;, &quot;choice&quot; or
&quot;fixed&quot;), &quot;bounds&quot; for range parameters, &quot;values&quot; for choice
parameters, and &quot;value&quot; for fixed parameters.</li>
<li>Dictionaries in <code>parameters</code> can optionally include &quot;value_type&quot; (&quot;int&quot;, &quot;float&quot;, &quot;bool&quot; or &quot;str&quot;), &quot;log_scale&quot; flag for range
parameters, and &quot;is_ordered&quot; flag for choice parameters.</li>
<li><code>parameter_constraints</code> should be a list of strings of form &quot;p1 &gt;= p2&quot; or &quot;p1 + p2 &lt;= some_bound&quot;.</li>
<li><code>outcome_constraints</code> should be a list of strings of form &quot;constrained_metric &lt;= some_bound&quot;.</li>
</ul>
</blockquote>
<p>(source: <a href=""https://ax.dev/tutorials/gpei_hartmann_service.html"" rel=""nofollow noreferrer"">Ax Docs</a>)</p>
<p>Here is an example of a search space (same source as above):</p>
<pre class=""lang-py prettyprint-override""><code>ax_client.create_experiment(
    name=&quot;hartmann_test_experiment&quot;,
    parameters=[
        {
            &quot;name&quot;: &quot;x1&quot;,
            &quot;type&quot;: &quot;range&quot;,
            &quot;bounds&quot;: [0.0, 1.0],
            &quot;value_type&quot;: &quot;float&quot;,  # Optional, defaults to inference from type of &quot;bounds&quot;.
            &quot;log_scale&quot;: False,  # Optional, defaults to False.
        },
        {
            &quot;name&quot;: &quot;x2&quot;,
            &quot;type&quot;: &quot;range&quot;,
            &quot;bounds&quot;: [0.0, 1.0],
        },
        {
            &quot;name&quot;: &quot;x3&quot;,
            &quot;type&quot;: &quot;range&quot;,
            &quot;bounds&quot;: [0.0, 1.0],
        },
        {
            &quot;name&quot;: &quot;x4&quot;,
            &quot;type&quot;: &quot;range&quot;,
            &quot;bounds&quot;: [0.0, 1.0],
        },
        {
            &quot;name&quot;: &quot;x5&quot;,
            &quot;type&quot;: &quot;range&quot;,
            &quot;bounds&quot;: [0.0, 1.0],
        },
        {
            &quot;name&quot;: &quot;x6&quot;,
            &quot;type&quot;: &quot;range&quot;,
            &quot;bounds&quot;: [0.0, 1.0],
        },
    ],
    objective_name=&quot;hartmann6&quot;,
    minimize=True,  # Optional, defaults to False.
    parameter_constraints=[&quot;x1 + x2 &lt;= 2.0&quot;],  # Optional.
    outcome_constraints=[&quot;l2norm &lt;= 1.25&quot;],  # Optional.
)
</code></pre>
<p>The task amounts to dynamically creating a list of parameter dictionaries (required), a list of parameter constraints (optional), and a list of outcome constraints (optional). The number of items in each list and the acceptable input types for each list item depends on the user's specific optimization task.</p>
<p>I've gotten started with using <code>ipywidgets</code>:</p>
<pre class=""lang-py prettyprint-override""><code>import ipywidgets as widgets
param_fields = [&quot;name&quot;, &quot;type&quot;]
values = [&quot;str&quot;, &quot;str&quot;]

type_options = [&quot;range&quot;, &quot;choice&quot;, &quot;fixed&quot;]

num_params_widget = widgets.BoundedIntText(value=3, min=1, description=&quot;num_params:&quot;)
num_params_widget

def get_params(i):
  return [widgets.Text(value=&quot;&quot;, placeholder=&quot;What is the variable name?&quot;, description=f&quot;variable_{i}&quot;), widgets.Dropdown(options=type_options, description=f&quot;type_{i}&quot;)]

name_type_widgets = [widgets.Box(get_params(i)) for i in range(num_params)]

for i, ntw in enumerate(name_type_widgets):
  type_widget = ntw.children[1]
  if type_widget.value == &quot;range&quot;:
    subwidgets = (widgets.FloatText(description=&quot;lower_bound&quot;), widgets.FloatText(description=&quot;upper_bound&quot;))
  elif type_widget.value == &quot;choice&quot;:
    subwidgets = (widgets.BoundedIntText(min=1, description=&quot;num_options&quot;))
  # https://github.com/jupyter-widgets/ipywidgets/issues/1764
  ntw.children = ntw.children + subwidgets
widgets.VBox(name_type_widgets)
</code></pre>
<p>However, &quot;add new parameter&quot; and &quot;delete parameter&quot; buttons are probably going to be a much better user experience, as they don't have to start over if they decide they actually wanted 8 parameters instead of 6 (i.e. preserve the state of individual parameters). Maybe this would involve using <a href=""https://ipywidgets.readthedocs.io/en/latest/examples/Using%20Interact.html#Arguments-that-are-dependent-on-each-other"" rel=""nofollow noreferrer""><code>observe</code></a>, <a href=""https://ipywidgets.readthedocs.io/en/latest/examples/Using%20Interact.html#interactive"" rel=""nofollow noreferrer""><code>interactive</code></a> or similar.</p>
<p>The main requirements are that it needs to be interactive and on Google Colab (i.e. the actual code can be hidden), since the target audience is mostly experimenters/scientists/students that have little-to-no coding experience and may not have (easy/free) access to a GPU otherwise. Past that, whether it's <code>ipywidgets</code> or something else is fine. The built-in Colab forms, while very useful, won't cut it for this task due to variable dependencies.</p>
<p>How would you recommend going about this? Even more amazing would be if someone can provide a full working example.</p>
<p>Related:</p>
<ul>
<li><a href=""https://stackoverflow.com/questions/45754356/jupyter-notebook-widgets-create-dependent-dropdowns"">Jupyter Notebook Widgets: Create dependent dropdowns</a></li>
<li><a href=""https://stackoverflow.com/questions/70564974/how-to-create-a-dynamic-dependent-dropdown-menu-using-ipywidgets"">How to create a dynamic dependent dropdown menu using ipywidgets?</a></li>
<li><a href=""https://stackoverflow.com/questions/72267070/using-dynamic-number-of-sliders-with-ipywidgets"">Using dynamic number of sliders with ipywidgets</a></li>
<li><a href=""https://stackoverflow.com/questions/46481308/jupyter-notebook-ipython-widgets-dynamic-number-of-widgets"">Jupyter Notebook + iPython Widgets - Dynamic Number of Widgets</a></li>
<li><a href=""https://stackoverflow.com/questions/54093955/ipywidgets-use-checkbox-to-display-or-hide-other-widgets"">ipywidgets use checkbox to display or hide other widgets</a></li>
<li><a href=""https://stackoverflow.com/questions/67927358/ipywidgets-dropdown-widgets-how-to-populate-nested-widgets-based-on-selected-dr"">ipywidgets dropdown widgets: How to populate nested widgets based on selected dropdown option on onchange event?</a></li>
<li><a href=""https://stackoverflow.com/questions/53891529/how-to-include-multiple-interactive-widgets-in-the-same-cell-in-jupyter-notebook"">How to include multiple interactive widgets in the same cell in Jupyter notebook</a></li>
</ul>
",40,0,<python><forms><jupyter-notebook><google-colaboratory><ipywidgets>,2022-07-01 17:47:55
72802952,JupyterHub - log current user,"<p>I use a custom logger to log who is currently doing any kind of stuff in Jupyterhub.</p>
<pre><code>logging_config: dict = {
    &quot;version&quot;: 1,
    &quot;disable_existing_loggers&quot;: False,
    &quot;formatters&quot;: {
        &quot;company&quot;: {
            &quot;()&quot;: lambda: MyFormatter(user=os.environ.get(&quot;JUPYTERHUB_USER&quot;, &quot;Unknown&quot;))
        },
    },
....

c.Application.logging_config = logging_config
</code></pre>
<p>Output:
<code>{&quot;asctime&quot;: &quot;2022-06-29 14:13:43,773&quot;, &quot;level&quot;: &quot;WARNING&quot;, &quot;name&quot;: &quot;JupyterHub&quot;, &quot;message&quot;: &quot;Updating Hub route http://127.0.0.1:8081 \u2192 http://jupyterhub:8081&quot;, &quot;user&quot;: &quot;Unknown&quot;</code></p>
<p>The logger itself works fine, but I am not able to log who was performing the action. In the Image I start, there is a <code>JUPYTERHUB_USER</code> env variable available. This seems to get passed from JupyterHub ( I don´t know how this is done exactly). But in JupyterHub I don´t have this variable available.</p>
<p>Is there a way to use it in JupyterHub, not just in the jupyterLab container?</p>
",46,0,<jupyter><jupyter-lab><jupyterhub>,2022-06-29 14:16:56
72775595,Error running pyspark on The Littlest JupyterHub,"<p>I’m having trouble running the pyspark kernel in my TLJH environment. The error I receive is as follows…</p>
<pre><code>PermissionError: [Errno 13] Permission denied: ‘/root/anaconda3/bin/python’
</code></pre>
<p>Any thoughts on how to resolve? Anaconda is running as root and root has full access to /root/anaconda3/bin/python</p>
<p>Thanks!
Stuart</p>
",31,0,<jupyter-notebook><jupyter><jupyterhub>,2022-06-27 16:42:14
72761874,Is it possible to attach an on-click method to a non-button element with ipywidgets?,"<p>Created an element meant to be a more styled, complex button, but using <code>Box</code> rather than <code>Button</code>, and now realize I can't use <code>on_click</code> on it.</p>
<p>Is there any workaround? Was surprised Googling this and finding absolutely nothing. I mean, I get it, if you want to trigger a click, use a button. I don't think I could've created a button like this with the Button widget though:</p>
<p><a href=""https://i.stack.imgur.com/IMXUy.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/IMXUy.png"" alt=""enter image description here"" /></a>
(<a href=""https://i.gyazo.com/a16d3b394188c6bc4a16c77b345f0f04.mp4"" rel=""nofollow noreferrer"">interaction</a>)</p>
<pre><code>class StatusButton():
    def __init__(self, logo_path: str, title: str, vertical=False, img_width=30, offset=0, link=False):
        self.state_condition = False
        if vertical:
            margin = &quot;0px 0px 3px 0px&quot;
        else:
            margin = &quot;0px 3px 0px 0px&quot;
        tip = widgets.Box([
                        render_img('./images/open.png', width=15, height=15).add_class('non_interactive')
                    ], layout=widgets.Layout(
                        width='40px',
                        height='40px',
                        justify_content='center',
                        align_items='center'
                    )).add_class('black_bg').add_class('anchor_end').add_class('clickable')
        if link:
            def open_page(b):
                print('Opening link:', link)
                webbrowser.open(link)
            tip.on_click(open_page) # This will trigger an error
                                    # since Box has no on_click
        elem = widgets.Box([
                    render_img(logo_path, width=img_width),
                    widgets.HTML(f&quot;&lt;div style='padding-left: 10px; font-size: 13px; font-weight: bold;'&gt;{title}&lt;/div&gt;&quot;),
                    tip
                ], layout=widgets.Layout(
                    display='flex',
                    flex_flow='row',
                    align_items='center',
                    justify_content='center',
                    border='solid 1px #a5a5a5',
                    overflow='hidden',
                    margin=margin,
                    padding='10px 10px 10px 10px',
                    width='225px',
                    height='40px',
                ))
        self.elem = elem
</code></pre>
",34,0,<python><ipywidgets>,2022-06-26 13:10:29
72740914,How to properly register an observer callback with ipywidgets FileUpload?,"<p>I'm registering a callback function via observe on the FileUpload widget to all events as I'm not providing a filter as 2nd argument to the <em>observe</em> method. This means, after an upload <em>report_change</em> is called multiple times with traitlets containing different objects of type <em>list</em> and <em>dict</em>. As can be seen from the code below I need to check for type and contents of the <em>dict</em> to make sure it is the correct one.</p>
<p>What is the proper way to register a callback handler to be called only when a file upload was successful and only with the actually uploaded object (which is a dict containing also some metadata)</p>
<pre><code>import ipywidgets as widgets


uploader = widgets.FileUpload(
    accept='.png',
    multiple=False
)



image = widgets.Image()

def report_change(change):
    new_value = change.new
    if type(new_value) is dict and len(new_value) &gt; 0:
        first_key = next(iter(new_value))
        if '.png' in first_key:
            image_data = new_value[first_key]['content']
            image.value = image_data
            
    return

uploader.observe(report_change)
display(uploader)
display(image)
</code></pre>
",85,0,<jupyter-notebook><jupyter><ipython><observer-pattern><ipywidgets>,2022-06-24 08:11:16
72738726,how to add retrial logic for failed jobs in cronjob?,"<p>I have scheduled a cronjob with the below syntax and it works well. The code is in the below. But I need add a function saying if the job failed, retry that notebook after 4 hours.</p>
<p>I didn't find a solution in google. Can anyone help me take a look?</p>
<p>Thank you very much.</p>
<pre><code>PATH=/opt/tljh/user/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/snap/bin
SHELL=/bin/bash

## test
05 23 * * * papermill ~/a.ipynb ~/a_output.ipynb
05 23 * * * papermill ~/b.ipynb ~/b_output.ipynb
</code></pre>
",50,0,<terminal><cron><jupyterhub>,2022-06-24 03:35:40
72719231,Python - Dynamic selection of columns to new dataframe,"<p>I am looking for a solution to dynamically select two columns from a dataframe (using ipywidgets or steamlit for example) and create a new dataframe using that selection.</p>
<p>The aim is to allow a user to select two columns from a larger dataset to allow filtering of those two columns to remove NaNs for regression and plotting. I do not want to type every column header out as the dataframe will change for every use. Any help would be of much help!</p>
<pre><code>import ipywidgets as widgets
import pandas as pd

df = pd.DataFrame({'A' : [4,NaN], 'B' : [10,20], 'C' : [100,50], 'D' : [-30,-50]})

x_choice = widgets.Dropdown(
    options=list(df.select_dtypes('number').columns)[0:],
    description='Number:',
    disabled=False,
)

y_choice = widgets.Dropdown(
    options=list(df.select_dtypes('number').columns)[1:],
    description='Number:',
    disabled=False,
)


dfX = pd.DataFrame(x_choice, y_choice)
dfX.dropna()
</code></pre>
",151,3,<python><pandas><widget><ipywidgets><streamlit>,2022-06-22 16:47:44
72703500,How to give multiple users access to the same JupyterLab server using JupyterHub?,"<p>I am working a Jupiter Notebook/ Lab (via JupyterHub) integration into an other application.</p>
<h3>Goal:</h3>
<p>The goal is to allow users to create a Jupyter Notebook/ Lab server from the application (using the JupyterHub API) and therefore extend the applications capabilities with the power of python.</p>
<p>As far as I know this would be possible by implementing a custom Authenticator that integrates the applications login system and create the servers using the JupyterHub API.</p>
<h3>Problem:</h3>
<p>A nice feature would be to give multiple users of the application access to the same Jupyter Notebook/ Lab (server). However, I cannot find a way to share servers across users or mange permissions to servers.</p>
<p>There is a <code>Groups</code> feature in JupyterHub, but it is very poorly documented... and I don't really understand what it is doing.</p>
<p>I would be grateful for any help, whether this is (at all) possible with JupyterHub?</p>
",414,2,<python><jupyter-notebook><jupyter><jupyterhub>,2022-06-21 15:30:59
72699670,Updating widget from background thread in Colab,"<p>In my Colab script, I would like to regularly update an IPython widget through a background task (ie. without blocking the main thread and prevent interaction with the notebook).</p>
<p>I found this section in the Jupyter Widgets documentation: <a href=""https://ipywidgets.readthedocs.io/en/latest/examples/Widget%20Asynchronous.html#Updating-a-widget-in-the-background"" rel=""nofollow noreferrer"">https://ipywidgets.readthedocs.io/en/latest/examples/Widget%20Asynchronous.html#Updating-a-widget-in-the-background</a></p>
<pre><code>import threading
from IPython.display import display
import ipywidgets as widgets
import time
progress = widgets.FloatProgress(value=0.0, min=0.0, max=1.0)

def work(progress):
    total = 100
    for i in range(total):
        time.sleep(0.2)
        progress.value = float(i+1)/total

thread = threading.Thread(target=work, args=(progress,))
display(progress)
thread.start()
</code></pre>
<p>This does not work in Google Colab, <em>unless</em> I follow this with a thread.join() - which obviously defeats the point...</p>
<p>Does anyone have a solution?</p>
",76,0,<google-colaboratory><python-multithreading><ipywidgets>,2022-06-21 11:04:54
72677630,Package list in EMR master node versus package list in EMR Notebook,"<p>I have one EMR cluster up and running. In it, I have one Jupyter Notebook with <code>pyspark</code> kernel.</p>
<p>For the master node, I am able to <code>SSH</code> into it. I am able to install Python packages in the master node easily, such as :</p>
<pre><code>pip install pandas

</code></pre>
<p>which I can then verify successful with <code>pip freeze</code></p>
<p>However, when I go to the <code>pyspark</code> notebook, using <code>sc.list_packages()</code>, I see a different list of packages in there. Some package has different version compared to in the master node. Some package (such as <code>pandas</code>) does not appear altogether.</p>
<p>Here is the list of <code>pip freeze</code> in master node <code>SSH</code>.</p>
<pre><code>aws-cfn-bootstrap==2.0
beautifulsoup4==4.9.1
boto==2.49.0
click==7.1.2
Cython==0.29.30
docutils==0.14
jmespath==0.10.0
joblib==0.15.1
lockfile==0.11.0
lxml==4.5.1
mysqlclient==1.4.2
nltk==3.5
nose==1.3.4
numpy==1.21.6
pandas==1.3.5
py-dateutil==2.2
py4j==0.10.9.5
pybind11==2.9.2
pyspark==3.3.0
pystache==0.5.4
python-daemon==2.2.3
python-dateutil==2.8.2
python37-sagemaker-pyspark==1.3.0
pytz==2020.1
PyYAML==5.3.1
regex==2020.6.8
scipy==1.7.3
simplejson==3.2.0
six==1.13.0
soupsieve==1.9.5
tqdm==4.46.1
windmill==1.6

</code></pre>
<p>And here is the package list in the <code>PySpark</code> notebook using <code>sc.list_packages()</code>:</p>
<pre><code>aws-cfn-bootstrap (2.0)
beautifulsoup4 (4.9.1)
boto (2.49.0)
click (7.1.2)
docutils (0.14)
jmespath (0.10.0)
joblib (0.15.1)
lockfile (0.11.0)
lxml (4.5.1)
mysqlclient (1.4.2)
nltk (3.5)
nose (1.3.4)
numpy (1.16.5)
pip (9.0.1)
py-dateutil (2.2)
pystache (0.5.4)
python-daemon (2.2.3)
python37-sagemaker-pyspark (1.3.0)
pytz (2020.1)
PyYAML (5.3.1)
regex (2020.6.8)
setuptools (28.8.0)
simplejson (3.2.0)
six (1.13.0)
soupsieve (1.9.5)
tqdm (4.46.1)
UNKNOWN (1.3.5)
wheel (0.29.0)
windmill (1.6)

DEPRECATION: The default format will switch to columns in the future. You can use --format=(legacy|columns) (or define a format=(legacy|columns) in your pip.conf under the [list] section) to disable this warning.
You are using pip version 9.0.1, however version 22.1.2 is available.
You should consider upgrading via the 'pip install --upgrade pip' command.
</code></pre>
<p>Note that <code>pandas</code>, <code>scipy</code> and <code>pip</code> are different. Why are they different? How do I upgrade or update the list in the <code>PySpark</code> notebook?</p>
",132,0,<pyspark><amazon-emr><jupyterhub>,2022-06-19 14:21:13
72675671,why is my jupyter notebook showing this warning along with the result,"<p>This is my code</p>
<pre class=""lang-py prettyprint-override""><code>order =  ['G', 'TV-Y', 'TV-G', 'PG', 'TV-Y7', 'TV-Y7-FV', 'TV-PG', 'PG-13', 'TV-14', 'R', 'NC-17', 'TV-MA']
plt.figure(figsize=(15,7))
g = sns.countplot(netflix_df.Rating, hue=netflix_df.Category, order=order, palette=&quot;pastel&quot;);
plt.title(&quot;Ratings for Movies &amp; TV Shows&quot;)
plt.xlabel(&quot;Rating&quot;)
plt.ylabel(&quot;Total Count&quot;)
plt.show()
</code></pre>
<p>But it is showing this warning along with the graph</p>
<pre class=""lang-py prettyprint-override""><code>FutureWarning: Pass the following variable as a keyword arg: x. From version 0.12, the only valid positional argument will be `data`, and passing other arguments without an explicit keyword will result in an error or misinterpretation.
</code></pre>
",27,0,<python><matplotlib><seaborn><jupyterhub>,2022-06-19 09:23:36
72665289,How to run a streamlit app in a Jupiter Hub environment,"<p>Imagine you work in a Jupiter Hub environment.</p>
<p>You install streamlit as follows:</p>
<pre><code>pip install --user streamlit
</code></pre>
<p>Then I create a file as:</p>
<pre><code>import streamlit as st

st.title('This is a Streamlit test in JH')
</code></pre>
<p>If I am in my own local laptop I can go to the command line and write:</p>
<pre><code>streamlit run whatevername.py
</code></pre>
<p>and the app is shown in the localhost of the browser.</p>
<p>How can I visualise the same app if I am working in a Jupiter Hub?
I would like to be able to render such an app in the same way the notebooks are visualised by rendering them with voila.</p>
<p>EDIT 1:
The intention here is not only to render the streamlit app for the user, but serve it to other users of the HUB.</p>
",212,0,<python><streamlit><jupyterhub><voila>,2022-06-17 22:17:44
72663466,Logging Ipywidgets interactions in VS code Jupyter Notebook,"<p>Trying to figure out how I can access to <strong>Jupyter Notebook logging in VS code</strong>, as able to do in <strong>Jupyter lab</strong>.</p>
<p>I have a Jupyter Notebook in my local branch, which runs an app project following MVP pattern. Would like to debug/log <strong>ipywidgets</strong> interactions errors and exceptions in VS code. In Jupyter Lab this it is possible to access to log however don't know how to <strong>access to logs in VS code</strong>.</p>
",161,0,<python-3.x><visual-studio-code><jupyter-notebook><jupyter-lab><ipywidgets>,2022-06-17 18:32:10
72650163,Failed to initialize anaconda directories Windows 11,"<p>I installed anaconda the latest version of anaconda, anaconda3-2022.05 and i got the error failed to initialize anaconda directories and it is pointing towards anaconda3\lib_nsis.py and i don't know what is the problem and even when using old version of anaconda still get the same error.
Can someone help please</p>
",215,3,<python><jupyter-notebook><anaconda><anaconda3><jupyter-irkernel>,2022-06-16 18:08:54
72632812,When using widget.interact with plotly widgets do not appear,"<p>I am trying to select which column of a df to show with a Dropdown from ipwidgets.</p>
<pre><code>def draw_lineplt(df):
    fig = px.line(df[test.value],
                         title=&quot;Plot x y z &quot; + test.value)
    fig.show()
 
widgets.interact(draw_lineplt(feature_df_L),
                 test = widgets.Dropdown(
        options=['rms', 'am', 'var'],
        value='rms',
        description='Value',
        disabled=False,
                                        )
                )
</code></pre>
<p>When i run this the dropdown does not show up, but the title shows that a Value has been passed since part of the title comes from the dropdown.</p>
<p>When i try the most minimal thing with a dropdown it works.</p>
<pre><code>def f(x):
    return x

widgets.interact(f,x = widgets.Dropdown(
        options=['rms', 'am', 'var'],
        value='rms',
        description='Number:',
        disabled=False,))
</code></pre>
<p>This results in a Dropdown that is changing its output.</p>
<p>If ad the dropdown with display(test) it does not update the Graph itself but if i change the dropdown and then rerun the cell it updates correctly.
<a href=""https://i.stack.imgur.com/58Peo.png"" rel=""nofollow noreferrer"">enter image description here</a></p>
",24,0,<python><plot><plotly><dropdown><ipywidgets>,2022-06-15 13:59:28
72629176,"JupyterHub: regular error message: ""Your server at ... is not running. Would you like to restart it?""","<p>We are running a JupyterHub server that is on an AWS-EC2 instance.</p>
<p>When we connect to the server we regularly (often after less then 10 minutes) have the error message <code>&quot;Your server at ... is not running. Would you like to restart it?&quot;</code>. The error appears while working from a notebook or even while just being in the terminal while a script is running.</p>
<p>Additional information:</p>
<ul>
<li>The EC2-Instance continues to work (it is possible to e.g. access it via a VNC-remote connection).</li>
<li>We are accessing JupyterHub via Browser. The problem appears both via Firefox from Ubuntu 2004 and via Chrome from Windows 10.</li>
<li>The operating system is <code>Ubuntu 18.04.6 LTS</code>.</li>
<li>The installed Jupiter-packages are:</li>
</ul>
<p>.</p>
<pre><code>pip freeze | grep jupyter

&gt; jupyter-client==7.0.6
&gt; jupyter-core==4.9.1
&gt; jupyter-resource-usage==0.6.0
&gt; jupyter-server==1.11.2
&gt; jupyter-telemetry==0.1.0
&gt; jupyterhub==1.5.0
&gt; jupyterlab==3.2.2
&gt; jupyterlab-pygments==0.1.2
&gt; jupyterlab-server==2.8.2
&gt; jupyterlab-widgets==1.0.2
&gt; nteract-on-jupyter==2.1.3
</code></pre>
<p>Does anyone have an idea how to solve this?</p>
",197,1,<server><jupyter><jupyterhub>,2022-06-15 09:46:09
72620603,Multi-user python notebooks on server with conda env on local machine?,"<p>My team uses a system (call it ABC). ABC provides a python API but, due to licensing, it can only interface with ABC locally.</p>
<p>I would like to setup a remote environment that enables my team to collaborate via notebooks (hopefully JupyterHub), but executes the python code locally (we have identical conda environments on each of our machines).</p>
<p>I can think of some hacky ways to achieve this. But is there a canonical, or clean way of doing this that I'm missing?</p>
",122,0,<python><architecture><jupyter><jupyterhub>,2022-06-14 16:41:50
72604929,Creating new df from series of widget boxes,"<p>I have created an &quot;input form&quot; with several ipywidget boxes. I want to be able to reference all the values to create a new dataframe.
I'm currently doing this in a horrible way.</p>
<pre><code>      portfolio_df = pd.DataFrame([[VBox1.children[0].value, VBox2.children[0].value, VBox3.children[0].value, VBox4.children[0].value]],
      columns=['Product Name','Units','Price', 'Invested Amount'])
      row_2 = [VBox1.children[1].value, VBox2.children[1].value, VBox3.children[1].value, VBox4.children[21].value]
      portfolio_df.loc[len(portfolio_df)] = row_2
      row_3 = [VBox1.children[2].value, VBox2.children[2].value, VBox3.children[2].value, VBox4.children[2].value]
      portfolio_df.loc[len(portfolio_df)] = row_3
      row_4 = [VBox1.children[3].value, VBox2.children[3].value, VBox3.children[3].value, VBox4.children[3].value]
      portfolio_df.loc[len(portfolio_df)] = row_4  
</code></pre>
<p>and so on up till row 23 in this instance !! (but the length will vary up to the number of children within a VBox)</p>
<p>I suspect I can do this more pythonically using a for loop but cant figure it out.</p>
<p>Full code as per requests (I've edited columns so my live data is different but this is exact replica of the set up)</p>
<pre><code>import pandas as pd
import numpy as np
import datetime as dt
import ipywidgets as ipw
from ipywidgets import *


barrier_list = pd.DataFrame(np.random.randn(24, 4), columns=('Product 
Name','ISIN','A','B'))
barrier_list= barrier_list.astype(str)

dd_list = []
for i in range(len(barrier_list['Product Name'])):
    dropdown = ipw.FloatText(description=barrier_list['ISIN'][i],
                               value=barrier_list['Product Name'][i],
                               disabled=False,
                               layout = {'width':'350px'})
    dropdown.style.description_width = 'initial'

    dd_list.append(dropdown)

dd_list1 = []
for i in range(len(barrier_list['Product Name'])):
    dropdown1 = ipw.FloatText(description='Units',
                                value=0,
                           layout = {'width':'200px'})

    dd_list1.append(dropdown1)

dd_list2 = []
for i in range(len(barrier_list['Product Name'])):
    dropdown2 = ipw.FloatText(description='Price',
                                value=0,
                             layout = {'width':'200px'})

    dd_list2.append(dropdown2)

dd_list3 = []
for i in range(len(barrier_list['Product Name'])):
    dropdown3 = ipw.FloatText(description='Value',
                                value=0,
                             layout = {'width':'200px'})

    dd_list3.append(dropdown3)

VBox1 = ipw.VBox(dd_list)
VBox2 = ipw.VBox(dd_list1)
VBox3 = ipw.VBox(dd_list2)
VBox4 = ipw.VBox(dd_list3)
HBox = widgets.HBox([VBox1, VBox2, VBox3, VBox4])
</code></pre>
",26,0,<python><for-loop><ipywidgets>,2022-06-13 14:55:00
72586803,Collpase partial JupyterLab Output,"<p>In a codeblock, I'm running a for loop in which I'm shown summary dataframe and plot for each index in list. Because of this my output become to long and difficult to read/navigate. Is there way to collapse partial output in jupyter lab.</p>
<p>Below I have written dummy code to illustrate the problem and objective.</p>
<pre><code>import numpy as np
import pandas as pd
import matplotlib.pyplot as plt
from IPython.display import HTML
for i in range(2):
    display(HTML(f'&lt;h3&gt; [-] Running code for {i} &lt;/h3&gt;'))
    # Doing some calulation
    d = pd.DataFrame({'X': np.random.rand(10), 'Y': np.random.rand(10)})
    corr = d.corr()
    # Showning results in dataframe and figure
    display(corr)
    d.plot(figsize=(5, 3))
    plt.show()
</code></pre>
<p>Output of above code is shown below. In my actual code there is more than 20 heading and multiple dataframe/plot under each heading. So, I want <strong>output to collpase when person click on heading</strong> and shown again after person click again. Basically use heading as toggle for the output.</p>
<img src=""https://i.stack.imgur.com/6NXyZ.png"" width=""300"" />
",83,0,<python><jupyter-notebook><jupyter><jupyter-lab><jupyterhub>,2022-06-11 18:07:03
72573163,Is there something similar to ipywidgets in R?,"<p>I'm creating choropleths maps in Colab using the R Kernel. And I'd rather create a map with a widget in order to be able to select the map to show.</p>
<p>I have done this previously in Python using the <code>ipywidgets</code> package, and now I should do it using R language. So, my question is: is there something similar to <code>ipywidgets</code> in R?</p>
<p>Thanks!</p>
",60,0,<python><r><google-colaboratory><ipywidgets><choropleth>,2022-06-10 10:57:05
72564918,Jupyter Lab controls no longer work ipywidgets with ipympl,"<p>I have consistently used the following workflow for fully updating my Jupyter Lab working environments:</p>
<pre><code>$ rmvirtualenv my_env
$ mkvirtualenv --python=`which python` my_env
[my_env] $ pip install -r requirements.txt
[my_env] $ jupyter lab build
[my_env] $ jupyter lab
</code></pre>
<p>Recently however, after these steps:</p>
<ol>
<li>My widgets all become non-functional. I can operate and interact with them, but the figures they control do not change at all.</li>
<li>All of the widget controls move from being above the figure they control to to below it.</li>
</ol>
<p>Projects in virtualenvs that have not been recently updated in this way continue to work fine, and updating them reliably makes them stop working.</p>
<p>This occurs consistently (I have now ruined half a dozen projects confirming the pattern), and even for notebooks hosted outside my local machine (such as <a href=""https://mybinder.org/v2/gh/orome/logistic-map-py.git/main/?urlpath=lab/tree/demo.ipynb"" rel=""nofollow noreferrer"">this one hosted on Binder</a>). Control widgets themselves seem to work fine though (e.g., in notebooks <a href=""https://mybinder.org/v2/gh/orome/automata-py.git/master/?urlpath=lab/tree/demo.ipynb"" rel=""nofollow noreferrer"">like this one</a>) when ipympl is not involved. I have also confirmed that the observed behavior is independent of browser and local machine (at least macOS vs iOS).</p>
<p>Has something about Jupyter Lab, ipywidgets, or ipympl changed recently that might be causing this?</p>
<hr />
<p>Typical post update (non-working) configuration:</p>
<pre><code>$ jupyter --version
Selected Jupyter core packages...
IPython          : 8.4.0
ipykernel        : 6.13.1
ipywidgets       : 7.7.0
jupyter_client   : 7.3.4
jupyter_core     : 4.10.0
jupyter_server   : 1.17.1
jupyterlab       : 3.4.3
nbclient         : 0.6.4
nbconvert        : 6.5.0
nbformat         : 5.4.0
notebook         : 6.4.12
qtconsole        : not installed
traitlets        : 5.2.2

$ jupyter labextension list 
JupyterLab v3.4.3
/Users/Rax/Documents/Projects/Coding/Python/venvs/picollisions/share/jupyter/labextensions
        jupyterlab_pygments v0.2.2 enabled OK (python, jupyterlab_pygments)
        nbdime-jupyterlab v2.1.1 enabled OK
        jupyter-matplotlib v0.11.1 enabled OK
        @jupyterlab/git v0.37.1 enabled OK (python, jupyterlab-git)
        @jupyter-widgets/jupyterlab-manager v3.1.0 enabled OK (python, jupyterlab_widgets)
        @kiteco/jupyterlab-kite v2.0.2 enabled OK (python, jupyterlab_kite)

Other labextensions (built into JupyterLab)
   app dir: /Users/Rax/Documents/Projects/Coding/Python/venvs/picollisions/share/jupyter/lab
</code></pre>
<hr />
<p>Typical pre update (working) configuration:</p>
<pre><code>$ jupyter --version
jupyter core     : 4.7.1
jupyter-notebook : 6.4.3
qtconsole        : not installed
ipython          : 7.26.0
ipykernel        : 6.2.0
jupyter client   : 6.1.12
jupyter lab      : 3.1.10
nbconvert        : 6.1.0
ipywidgets       : 7.6.4
nbformat         : 5.1.3
traitlets        : 5.0.5

jupyter labextension list
JupyterLab v3.1.10
/Users/Rax/Documents/Projects/Coding/Python/venvs/picollisions/share/jupyter/labextensions
        nbdime-jupyterlab v2.1.0 enabled OK
        jupyter-matplotlib v0.9.0 enabled OK
        @jupyterlab/git v0.32.2 enabled OK (python, jupyterlab-git)
        @jupyter-widgets/jupyterlab-manager v3.0.0 enabled OK (python, jupyterlab_widgets)
        @kiteco/jupyterlab-kite v2.0.2 enabled OK (python, jupyterlab_kite)

/usr/local/share/jupyter/labextensions
        jupyterlab_pygments v0.2.2 enabled OK (python, jupyterlab_pygments)

Other labextensions (built into JupyterLab)
   app dir: /Users/Rax/Documents/Projects/Coding/Python/venvs/picollisions/share/jupyter/lab
</code></pre>
<hr />
<p>Typical requirements:</p>
<pre><code>#...
ipywidgets                 
ipympl

jupyterlab &gt;=3.1                
jupyterlab-git                 
jupyterlab-kite &gt;=2.0.2        
</code></pre>
<p>(I've tried omitting Kite to see if that was the culprit. In any case it is not present in the Binder versions.)</p>
",183,0,<matplotlib><jupyter-lab><ipywidgets><ipympl>,2022-06-09 18:19:58
72557932,Speed up Jupyter server spawn like on Kaggle,"<p>Currently, I am developing a jupyterhub server inside a Kubernetes cluster, hence using &quot;Kubespawner&quot; with autoscale on a cloud platform. It took a while to spawn a notebook server due to the nature of &quot;auto scale&quot; which is going to scale up when required to have more Notebook servers.</p>
<p>Could anyone please give me advice to gain spawn speed similar to Kaggle? because currently what I have will takes around 3-5 minutes just to spawn a notebook server. While Kaggle could spawn a notebook server just at 30seconds max. It is very impressive compared to mine.</p>
<p>Thanks in advance.</p>
",60,1,<jupyter-notebook><jupyter><jupyter-lab><jupyterhub>,2022-06-09 09:32:43
72556913,JupyterHub Redirecting to /user/tree not working,"<ul>
<li><p>Step 1: Spawning a user pod is successful via JWT token.</p>
</li>
<li><p>Step 2: Hub should redirect to {{url}}/jhub/user/john.doe12/tree but its throwing Bad Gateway 502 error</p>
</li>
<li><p>Step 3: Now if try and hit {{url}}/jhub/user/john.doe12/tree seperately it works.</p>
</li>
</ul>
<p><img src=""https://i.stack.imgur.com/VWIIF.png"" alt=""Single user pod logs"" /></p>
",62,1,<kubernetes><jupyterhub>,2022-06-09 08:17:56
72541997,Creating several input boxes from df in Python - smartly,"<p>I'm trying to create an input form based on a Excel spreadsheet.
I use the spreadsheet to create a dataframe (which has 30 &quot;products&quot; listed)
I need to create a series of input boxes for each product on the list.
Currently I do this in a very inefficient way :</p>
<pre><code>  product_1 = (ipw.Dropdown(options=barrier_list['Product Name'],
                   value = barrier_list['Product Name'][0],
                   description= barrier_list['ISIN'][0],
                   disabled=False,
                   layout = {'width':'350px'}))
  product_1.style.description_width = 'initial'

  units_1 = (ipw.IntText(value=for_table['Units'][0],
                   description='Units:',
                   disabled=False,
                   layout = {'width':'200px'}
                  ))

  price_1 = (ipw.FloatText(value=for_table['Price'][0],
                   description='Price:',
                   disabled=False,
                   layout = {'width':'200px'}
                  ))

  value_1 = (ipw.FloatText(value=0,
                   description='Value:',
                   disabled=False,
                   layout = {'width':'200px'}
                  ))

  HBox_1 = ipw.HBox([product_1,units_1,price_1, value_1])
</code></pre>
<p>Which creates exactly what I need for one line of the input sheet. To do the next line I copy this exact code again and change all the [0] to [1]. This goes on 30x.</p>
<p>I know this is a terrible way to do it but I cannot figure out how to use a loop to create the 30 lines (1 per product) of input boxes.</p>
",31,0,<python><loops><ipywidgets>,2022-06-08 07:54:09
72538062,matplotlib is returning empty plot,"<p><a href=""https://i.stack.imgur.com/4eAhj.png"" rel=""nofollow noreferrer"">Click Here for the image</a></p>
<p>trying to plot an animated line chart in python. Why is this code returning to a blank white plot ? a guidance would be appreciated. And also if there is a better way to draw an animated line chart in Python, please suggest.Thank you.</p>
<pre><code>from matplotlib import pyplot as plt
from matplotlib.animation import FuncAnimation
import numpy as np

x_data=[]
y_data =[]
fig,ax = plt.subplots()
ax.set_xlim(0,100)
ax.set_ylim(0,12)
line, = ax.plot(0,0)

def update(i):
    x_data.append(i*10)
    y_data.append(i)

    line.set_xdata(x_data)
    line.set_ydata(y_data)
    return line,

animation = FuncAnimation(fig,func = update, frames = np.arange(0,10,0.01), interval =200)

plt.show()
</code></pre>
",48,0,<python><matplotlib><jupyter-notebook><matplotlib-animation><jupyter-irkernel>,2022-06-07 22:14:31
72536019,How to change dynamically drop down list where value comes from dataframe?,"<p>I have a dataframe like this:</p>
<pre><code>label city adress price
a     LA   adr_1  1000K
a     NYC  adr_2  209K
c     NYC  adr_3  37474K
c     LA   adr_4  7272K
</code></pre>
<p>I tried to create 4 drop down list.</p>
<pre><code># Make a dropdown to select the Area, or &quot;All&quot;
label = widgets.Dropdown(
    options=['All'] + list(df['label'].unique()),
    value='All',
    description='label :',
)

city = widgets.Dropdown(
    options=['All'] + list(df['city'].unique()),
    value='All',
    description='city :',
)

adress = widgets.Dropdown(
    options=['All'] + list(df['adress'].unique()),
    value='All',
    description='adress :',
)

price= widgets.Dropdown(
    options=['All'] + list(df['price'].unique()),
    value='All',
    description='price:',
)
</code></pre>
<p>The first dropdown 'label' not depending on 3 others. 'city' depend on value from label, adress depend on value from 'label' and 'city', price depend on 'label' 'city' and 'adress' values from dropdowns.</p>
<p>I tried to update the second drop down when I select value for label:</p>
<pre><code>def plotit(Modele, Matiere, Garniture, Couleur):
   
df2 = df.copy()
    if label!= 'All':
        df2 = df2[df2.label== label]
        
        city= widgets.Dropdown(
            options=list(df2['city'].unique()),
            value='All',
            description='city:',
        )
        
    plt.show();

interactive(plotit, label=label, city=city, adress=adress, price=price)
</code></pre>
<p>But I have the error 'TraitError: Invalid selection: value not found' and it comes at city = ... in the plotit function.</p>
<p>How can I do to change dynamically values in each 3 dropdown ?</p>
",48,0,<python><jupyter-notebook><ipython><ipywidgets>,2022-06-07 18:31:33
72524239,How does one use the ipywidgets selection range slider with the geopandas explore map?,"<p>I am trying to create an interactive chloropleth map using an ipywidgets date slider. The explore() part works by itself, when I used &quot;2021-01-01&quot; as the date and did this:</p>
<pre><code>mergedOzone[mergedOzone.date_local == &quot;2021-01-01&quot;].explore(
            column = &quot;aqi&quot;,
            cmap=&quot;plasma&quot;,
            tooltip = &quot;COUNTY_NAM&quot;,
            scheme=&quot;naturalbreaks&quot;,
            legend=True
         )
</code></pre>
<p>However, when put into a function and using the slider, it doesn't work. I put print statements, which showed that the code is entering the if statement — it's just not showing the map itself.</p>
<pre><code>def plot(date, Parameter):
    date = &quot;2021-&quot; + date[0]
    if Parameter.upper() == &quot;OZONE&quot;:
        mergedOzone[mergedOzone.date_local == date].explore(
            column = &quot;aqi&quot;,
            cmap=&quot;plasma&quot;,
            tooltip = &quot;COUNTY_NAM&quot;,
            scheme=&quot;naturalbreaks&quot;,
            legend=True
        )

ipywidgets.interact(plot, Parameter=&quot;(type ozone or sulfur dioxide)&quot;, date=selection_range_slider, continuous_update=False)
</code></pre>
",23,1,<python><jupyter><geopandas><ipywidgets>,2022-06-06 22:57:37
72512231,Can't save an image using ipywidgets in jupyter notebooks / Voila,"<p>I'm trying to make a web application in jupyter notebook using voila but it's my first time and I can't get it to work.</p>
<p>My goal is to upload an image, save it to a predefined folder and display it in the app.</p>
<p>So far, i can create the upload widget like this:</p>
<pre><code>import ipywidgets as ipw

uploader = ipw.FileUpload()
display(uploader)
</code></pre>
<p>and it's ok, but when i want to acces the value or content to save it, i get this error:</p>
<pre><code>uploader.value
</code></pre>
<p>{}</p>
<pre><code>uploader.content
</code></pre>
<pre><code>---------------------------------------------------------------------------
AttributeError                            Traceback (most recent call last)
Input In [21], in &lt;cell line: 1&gt;()

----&gt; 1 uploader.content

AttributeError: 'FileUpload' object has no attribute 'content'
</code></pre>
<p>Any help or recommendation will be highly appreciated. Thanks</p>
",78,0,<python><file-upload><jupyter-notebook><ipywidgets><voila>,2022-06-06 01:35:37
72508058,How conda environments can be visible for all users added into jupyterhub?,"<p>I am using <code>jupyterhub</code> where i have installed <code>conda</code> and created <code>environments</code> too, from the perspective of the admin. My concern is that i have also added some other users into <code>jupyterhub</code> server but those users cannot see any of what i have installed in the <code>admin</code> user. How can I do that ?</p>
<p>I want other users that i have added to the server to be able to chose the appropriate <code>kernel</code> environment to be able to run the notebooks i will be sending them. (Without asking every user to create every kernel environment and install every package in it...then add it to the kernelspec)</p>
",66,1,<conda><jupyterhub><virtual-environment><multiple-users>,2022-06-05 14:14:16
72504234,"Styling ipywidgets.Accordion panels, individually","<p>Is there a way to apply some styling (e.g. with CSS) on an <code>Accordion</code> widget? For example, I'd like to style a single pane in the Accordion to make the background color light yellow.</p>
<p>Note that setting a layout on the <code>Accordion</code> itself will style the container that holds the individual panes, while applying a layout to the <code>children</code> of the <code>Accordion</code> will style the contents of the panes, but not the panes themselves. How can I apply a style to the panes themselves? Ideally this would be at the individual level, but applying a style to all panes in an <code>Accordion</code> could be made to serve my purposes.</p>
",227,0,<python><ipywidgets>,2022-06-05 01:43:10
72498924,"Add drop down list from geojson, csv files from Ipywidgets module using PYTHON","<p>I am badly stuck with the problem of creating a drop-down list using Ipywidgets in python with files (JSON,GEOJSON,CSV)</p>
<blockquote>
<p>m = geemap.Map() url = &quot;C:/Users/Hp/Desktop/New_SoilDB_RAW.geojson&quot;</p>
<p>m.add_point_layer(url, popup=[&quot;DISTRICTS&quot;, &quot;Soil&quot;], layer_name=&quot;Soil&quot;)
m</p>
</blockquote>
<h1>choose option</h1>
<blockquote>
<p>from ipywidgets import VBox, Label, Dropdown, Output</p>
<p>desc = Label(&quot;C:/Users/Hp/Desktop/New_SoilDB.csv&quot;)</p>
<p>dropdown = Dropdown(
options=['Soil', 'DISTRICTS', 'LAT', 'LONG'],
value='clay','Karimnagar',,
disabled=False)</p>
<p>output = Output()</p>
<p>dropdown.observe(generate_plot, names=&quot;value&quot;)</p>
<p>VBox([desc, dropdown, output])</p>
</blockquote>
<p><a href=""https://i.stack.imgur.com/ClFfq.png"" rel=""nofollow noreferrer"">enter image description here</a></p>
<p>I am confused how to deal with the issue and any seek help.
Thanks in advance</p>
",56,0,<python><jupyter-notebook><ipywidgets><geemap>,2022-06-04 10:17:08
72465375,Collect text data through ipywidgets and update a pandas dataframe,"<p>I am trying to collect data through ipywidgets. The objective once all the fields are filled , pressing the submit button should populate a row in a data frame.
I wrote the following code</p>
<pre><code>class record():
    def __init__(self):
        self.id = widgets.Text(description='id')
        self.paper = widgets.Text(description='paper')
        self.objective = widgets.Text(description='objective')
        self.language = widgets.Text(description='language')
        self.citations = widgets.Text(description='citations')
        self.notes = widgets.Text(description='notes')
        self.button = widgets.Button(description=&quot;Submit&quot;)
        self.button.on_click(self.on_button_clicked)
        display(self.id, self.paper, self.objective, self.language,self.citations,self.notes,self.button)

    def on_button_clicked(self,b):
        data = ('|').join([self.id.value,self.paper.value,self.objective.value,self.language.value,self.citations.value,self.notes.value])
        populate(data)

r =record()
</code></pre>
<p>The <code>populate</code> method has the code to populate the entries to the dataframe. id, paper, objective, language, citations, and notes are the column names of the data frame. Populate methods reads a saved dataframe adds an additional row and saves it. I am new to using ipywidgets how to call the <code>populate</code> function on button press?</p>
",257,1,<python><pandas><jupyter-notebook><ipywidgets>,2022-06-01 16:40:37
72441923,Can I restrict how many items my Jupyter notebooks displays when using the ipywidgets Combobox?,"<p>I have a long list of options that I would like to show in a Combobox style, using ipywidgets.
However, I would like that, as I start typing the text, only x (eg. 10) options are displayed. So far I have:</p>
<p><code>pos_input = widgets.Combobox(placeholder='Type something', options=my_list, description='Position:', ensure_option=True)</code></p>
<p>And I don't know what spec to add to restrict the visible options.</p>
",33,0,<python><jupyter-notebook><ipywidgets>,2022-05-31 03:20:25
72427654,How can i pause this code in Jupyter Notebook?,"<p><strong>When i click the Submit answer button, additional codes can only be run after that.</strong></p>
<pre><code>import ipywidgets as widgets
</code></pre>
<p><em><strong>Here are a few lines of code that are responsible for the look of the button etc.</strong></em></p>
<pre><code>selector = widgets.RadioButtons(
    options=['Valid', 'Invalid', 'Skip'], 
    value=None,
    description='',
    disabled=False
)
button = widgets.Button(
    description='Submit answer',
    disabled=False,
    button_style='',
)
    
def evaluate(button):
    selection = selector.get_interact_value()    
    if (selection == 'Valid'):
        f = open(r&quot;C:\Users\asd\Desktop\asd.txt&quot;, &quot;a&quot;, encoding='utf-8')
        f.write('asd')
        f.close()
    elif (selection == 'Invalid'):
        pass
    elif (selection == 'Skip'):
        pass

button.on_click(evaluate)        

left_box = widgets.VBox([selector, button])
widgets.HBox([left_box])

print('nvm') **#If I click Submit answer button, then run this code**
</code></pre>
<p>How can i do that?</p>
",226,1,<python><jupyter-notebook><ipywidgets>,2022-05-29 22:16:35
72427162,Partially visible text for ipywidgets,"<p>I have made a <code>selection_range_slider</code> in jupyter notebook using <code>ipywidgets</code>, the only issue is that we can't see the end of the second date. What modification should I make to make this visible? (see picture below)</p>
<p><a href=""https://i.stack.imgur.com/00t7K.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/00t7K.png"" alt="""" /></a></p>
<p>Here is my code:</p>
<pre><code>    start_date = datetime(2019, 4, 24)
    end_date = date.today()

    dates = pd.date_range(start_date, end_date, freq='D')

    options = [(date.strftime(' %d %b %Y '), date) for date in dates]
    index = (0, len(options)-1)

    selection_range_slider = widgets.SelectionRangeSlider(
        options=options,
        index=index,
        description='Dates',
        continuous_update=False,
        orientation='horizontal',
        layout={'width': '800px'},
        placeholder='Type something'
     )

    selection_range_slider.observe(change_scatter_chart, names=&quot;value&quot;)
    selection_range_slider

    widgets.VBox([selection_range_slider, fig])
</code></pre>
",45,0,<python><jupyter-notebook><jupyter><ipywidgets><bqplot>,2022-05-29 20:44:39
72423073,Jupyterlab R kernel export pdf dataframe goes out of bounds because of dimensions text,"<p><a href=""https://i.stack.imgur.com/jfb2E.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/jfb2E.png"" alt=""enter image description here"" /></a></p>
<p>As shown in the screenshot because of the &quot;dimensions text&quot; (&quot;A data.frame: 9 x 7&quot;) the data frame cannot be centered and thus goes out of bounds horizontally. How can I disable this writing?</p>
",19,1,<r><jupyter-lab><jupyter-irkernel>,2022-05-29 11:03:53
72420572,Return Selected Value From Dropdown and Checkbox Using Ipywidgets,"<p>I currently have the following code:</p>
<pre><code>from ipywidgets import Checkbox, Dropdown, interact, widgets

def locate_customer_name(list_of_values: list) -&gt; list:
    db_dropdown = widgets.Dropdown(options=['Blue', 'Green', 'Yellow], description='Color:', value=None)
    unknown_checkbox = widgets.Checkbox(
        value=False, description='Unable to locate Color In list', disabled=False, indent=False
    )

    @interact(db_dropdown_values=db_dropdown, lost_checkbox=unknown_checkbox)
    def _core_func(db_dropdown_values, lost_checkbox):
        dropdown_selection = db_dropdown.value
        checkbox = unknown_checkbox.value
        button = widgets.Button(description='Confirm')
        out = widgets.Output()
        def _on_button_clicked(dropdown_select, checkbox):
            with out:
                print(dropdown_select, checkbox)
        display(button, out)
        button.on_click(_on_button_clicked(dropdown_selection, checkbox))
</code></pre>
<p>What I am looking to do is return the values selected in the _on_button_click function (e.g. dropdown_select and checkbox). For now, it seems like I am only able to print those variables out. How would I return them, so I can use them as inputs to another function?</p>
",172,0,<python-3.x><jupyter-notebook><jupyter><ipywidgets>,2022-05-29 02:48:59
72419486,Exporting a Jupyter Notebook widgets slider to html,"<p>I have the following slider figure code run on Jupyter Notebook.</p>
<pre><code>import plotly.graph_objects as go
from ipywidgets import widgets
from plotly.subplots import make_subplots
import numpy as np


x_plot=np.arange(-5,5,0.1)
y_plot=np.arange(-5,5,0.1)
X, Y = np.meshgrid(x_plot, y_plot)

fig = make_subplots(rows=1, cols=2,
                    specs=[[{'is_3d': True}, {'is_3d': True}]],
                    )

fig.add_trace(go.Surface(x=X, y=Y, z=np.cos(X),
                         showscale=False), 1, 1)
fig.add_trace(go.Surface(x=X, y=Y, z=np.cos(X),
                         showscale=False), 1, 2)

ele_slider = widgets.FloatSlider(min=-np.pi/2, max=np.pi/2, value=np.pi/4, description=&quot;Elevation&quot;)
azi_slider = widgets.FloatSlider(min=0, max=2*np.pi, value=np.pi/4, description=&quot;Azimuth&quot;)
fig_widg = go.FigureWidget(fig)

r=2.5

fig_widg.layout.scene1.camera.eye=dict(x=r/2, y=r/2, z=r/np.sqrt(2))
fig_widg.layout.scene2.camera.eye=dict(x=r/2, y=r/2, z=r/np.sqrt(2))


def func(change):
    x = r * np.cos(ele_slider.value) * np.cos(azi_slider.value)
    y = r * np.cos(ele_slider.value) * np.sin(azi_slider.value)
    z = r * np.sin(ele_slider.value)
    fig_widg.layout.scene1.camera.eye=dict(x=x, y=y, z=z)
    fig_widg.layout.scene2.camera.eye=dict(x=x, y=y, z=z)    

azi_slider.observe(func, names=&quot;value&quot;)
ele_slider.observe(func, names=&quot;value&quot;)
widgets.VBox([ele_slider, azi_slider, fig_widg])
</code></pre>
<p>I want to export this slider to html and I was wondering if there is a method like the write_html method in plotly or it is not possible to export from this.</p>
",340,1,<python><jupyter-notebook><plotly-python><ipywidgets>,2022-05-28 21:48:30
72410176,How to display Canvas with ipycanvas on Jupyterhub?,"<p>The following code works fine on my local machine/environment:</p>
<pre><code>from ipycanvas import Canvas
canvas = Canvas(width=300, height=300)
display(canvas)
</code></pre>
<p>But using <code>jupyterhub</code> installed on VM on GCP it does no longer display the canvas.</p>
<p>What is missing ?</p>
",82,1,<display><jupyterhub><ipycanvas>,2022-05-27 19:22:49
72403821,ipywidgets tab not displaying every time,"<p>In googleColab, I am creting 3 tabs using ipywidgets, and filling them with plots from Plotly.
However it sometimes works, sometimes doesn't display the first plot:</p>
<p>Here is the code, and a <a href=""https://github.com/leodtprojectsd/Stack_questions/blob/main/Colab_ipywidget_not_working.ipynb"" rel=""nofollow noreferrer"">link to github with COLAB</a> example i created.</p>
<pre class=""lang-py prettyprint-override""><code>import ipywidgets as widgets
import pandas as pd 
import plotly.express as px

df = px.data.gapminder()
fig0 = px.line(df.query(&quot;continent=='Africa'&quot;), x=&quot;year&quot;, y=&quot;lifeExp&quot;, title='fig0')
fig1 = px.line(df.query(&quot;continent=='Oceania'&quot;), x=&quot;year&quot;, y=&quot;lifeExp&quot;, title='fig1')
fig2= px.line(df.query(&quot;continent=='Europe'&quot;), x=&quot;year&quot;, y=&quot;lifeExp&quot;, title='fig2')

figures = {&quot;fig0&quot;: fig0, 
     &quot;fig1&quot;: fig1, 
     &quot;fig2&quot;: fig2}

sub_tab=[widgets.Output() for i in range(len(figures))]
tab = widgets.Tab(sub_tab)
for i, k in enumerate(figures):
    tab.set_title(i,k)
    with sub_tab[i]:
       figures[k].show()
display(tab)
</code></pre>
<p>Not working:
<a href=""https://i.stack.imgur.com/PuSxG.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/PuSxG.png"" alt=""enter image description here"" /></a></p>
<p>Working:
<a href=""https://i.stack.imgur.com/pGBRe.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/pGBRe.png"" alt=""enter image description here"" /></a></p>
<p>#TRIAL FROM r-beginners comment: sometimes wont show tab1
<a href=""https://i.stack.imgur.com/gUxCF.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/gUxCF.png"" alt=""enter image description here"" /></a></p>
",107,0,<python><pandas><plotly><google-colaboratory><ipywidgets>,2022-05-27 10:13:03
72384574,Python: ipywidgets not showing output,"<p>I wrote a python script that should have a data frame as output, but it does not show any output. Below is the python code:</p>
<pre><code>import pandas as pd
import numpy as np
import ipywidgets as widgets
import datetime
from ipywidgets import interactive
from IPython.display import display, Javascript
from datetime import date, timedelta
from random import choices
  

books = [&quot;Book_1&quot;,&quot;Book_2&quot;,&quot;Book_3&quot;,&quot;Book_4&quot;,&quot;Book_5&quot;]
counterparties = [&quot;Counterparty_1&quot;,&quot;Counterparty_2&quot;,&quot;Counterparty_3&quot;,&quot;Counterparty_4&quot;,&quot;Counterparty_5&quot;]

book = choices(books, k = 100)
counterparty = choices(counterparties, k = 100)


date1, date2 = date(2018, 8, 1), date(2023, 8, 3)
  
res_dates = [date1]
  
while date1 != date2:
    date1 += timedelta(days=1)
    res_dates.append(date1)
  
ldd = choices(res_dates, k=100)

dict = {'book': book, 'counterparty': counterparty, 'last_trading_date': ldd} 

df = pd.DataFrame(dict)



books = pd.Categorical(df['book'])
books = books.categories

books_dropdown = widgets.Dropdown(
    options=books,
    value=books[0],
    description='Book:',
    disabled=False,
)


counterparty = pd.Categorical(df['counterparty'])
counterparty = counterparty.categories

counter_dropdown = widgets.Dropdown(
    options=counterparty,
    value=counterparty[0],
    description='Counterparty:',
    disabled=False,
)


date_picker = widgets.DatePicker(
    description='Pick a Date',
    disabled=False,
)
date_picker.add_class(&quot;start-date&quot;)

script = Javascript(&quot;\
                const query = '.start-date &gt; input:first-of-type'; \
                document.querySelector(query).setAttribute('min', '2020-12-01'); \
                document.querySelector(query).setAttribute('max', '2025-01-01'); \
        &quot;)


box = widgets.VBox([books_dropdown, counter_dropdown, date_picker])
display(box)

def filter_function(bookcode, cpartycode, datecode):
        
    filtered = df[(df['book'] == bookcode) &amp; (df['counterparty'] == cpartycode)]
    
    x = datetime.date(datecode.value)
    
    filtered = filtered[filtered['last_trading_date'] &lt; x]
    
    with report_output:
        report_output.clear_output()
        display(filtered)
        
interactive(filter_function, bookcode=books_dropdown, cpartycode=counter_dropdown, datecode=date_picker) 

report_output = widgets.Output()
display(report_output)
</code></pre>
<p>What this does is basically take a data frame, subset the said data frame into a smaller data frame based on categories of two variables, and truncate the resulting data frame based on a date selected by the user.</p>
<p>Did I make a mistake somewhere? If so, can someone point to me where? Thank you in advance.</p>
<p><strong>Edit:</strong></p>
<p>After many attempts I came to the conclusion that the problem is related to the <code>DatePicker</code> widget. So you can focus on that when trying to solve the problem.</p>
",412,0,<python><jupyter-notebook><dashboard><ipywidgets>,2022-05-25 21:56:53
72382496,Update results interactively with ipywidgets DatePicker,"<p>I am trying to create a dashboard using Python and <code>Ipywidget</code>, where the user selects the values in two columns from a drop down menu, and a date, and the dashboard would display the results corresponding to his choice. An example of what I want is in the drawing below:</p>
<p><a href=""https://i.stack.imgur.com/UuGHi.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/UuGHi.png"" alt=""enter image description here"" /></a></p>
<p>I tried to create it, but what I did is very messy, since this the first time I am using the <code>Ipywidget</code> library. This is the code I wrote:</p>
<pre><code>import pandas as pd
import numpy as np
import ipywidgets as widgets
import datetime
from ipywidgets import interactive
from IPython.display import display, Javascript

parquet_file = r'/home/maanan/sevencommodities/random_deals.parq'

df = pd.read_parquet(parquet_file, engine='auto')

# Create widgets
## Book widget

books = pd.Categorical(df['book'])
books = books.categories

books_dropdown = widgets.Dropdown(
    options=books,
    value=books[0],
    description='Book:',
    disabled=False,
)


## Counterparty widget

counterparty = pd.Categorical(df['counterparty'])
counterparty = counterparty.categories

counter_dropdown = widgets.Dropdown(
    options=counterparty,
    value=counterparty[0],
    description='Counterparty:',
    disabled=False,
)


# Time widget

date_picker = widgets.DatePicker(
    description='Pick a Date',
    disabled=False,
)
date_picker.add_class(&quot;start-date&quot;)

script = Javascript(&quot;\
                const query = '.start-date &gt; input:first-of-type'; \
                document.querySelector(query).setAttribute('min', '2020-12-01'); \
                document.querySelector(query).setAttribute('max', '2025-01-01'); \
        &quot;)


report_output = widgets.Output()

def filter_function(bookcode, cpartycode, datecode):
        
    filtered = df[(df['book'] == bookcode) &amp; (df['counterparty'] == cpartycode)]
    
    x = datetime.date(datecode)
    
    filtered = filtered[filtered['last_trading_date'] &lt; x]
    
    filtered = pd.pivot_table(filtered, values=&quot;volume&quot;, index=[&quot;new_window&quot;], columns=[&quot;commodity_name&quot;], aggfunc=np.sum)
    with report_output:
        report_output.clear_output()
        display(filtered)
    
interactive(filter_function, bookcode=books_dropdown, cpartycode=counter_dropdown, datecode=date_picker) 

display(books_dropdown)

display(counter_dropdown)

display(report_output)
</code></pre>
<p>The code above gives me the following error:</p>
<pre><code>TypeError                                 Traceback (most recent call last)
File ~/sevencommodities/jupyterenv/lib/python3.8/site-packages/ipywidgets/widgets/interaction.py:257, in interactive.update(self, *args)
    255     value = widget.get_interact_value()
    256     self.kwargs[widget._kwarg] = value
--&gt; 257 self.result = self.f(**self.kwargs)
    258 show_inline_matplotlib_plots()
    259 if self.auto_display and self.result is not None:

Input In [153], in filter_function(bookcode, cpartycode, datecode)
     17 filtered['new_window'] = filtered.apply(lambda x: ConvtoQuarter(x['tenor'], x['delivery_window']), axis=1)
     19 # Select the period to be cascaded
---&gt; 21 x = datetime.date(datecode)
     23 filtered = filtered[filtered['last_trading_date'] &lt; x]
     25 filtered = filtered[filtered['last_trading_date'] &gt;= x]

TypeError: an integer is required (got type datetime.date)
</code></pre>
<p>Can someone please help me correct and tidy up the code and make it give the expected results? Thank you in advance.</p>
",59,0,<python><datepicker><widget><dashboard><ipywidgets>,2022-05-25 18:19:25
72381563,ipysheet dropdown can only be added at cell level?,"<p>For for ipysheet all of <code>row</code>, <code>column</code>, <code>cell_range</code> and <code>cell</code> methods have a parameter <code>choice</code> which can be used for generating a dropdown.
See <a href=""https://i.stack.imgur.com/tkGut.jpg"" rel=""nofollow noreferrer"">https://i.stack.imgur.com/tkGut.jpg</a>.</p>
<p>But it seems only cell works. See code below.
In <a href=""https://i.stack.imgur.com/6fjqy.png"" rel=""nofollow noreferrer"">https://i.stack.imgur.com/6fjqy.png</a>, only the cell at row 1 and column 0 has a dropdown. while others, though specified a choice option, are not displaying the dropdowns.</p>
<p>Any suggestions would be appreciated!</p>
<pre class=""lang-py prettyprint-override""><code>import ipysheet
sheet = ipysheet.sheet(rows=5, columns=4)
row = ipysheet.row(0, [0, 1, 2, 3], background_color=&quot;red&quot;, choice = ['1', '2'])
column = ipysheet.column(1, [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;], row_start=1, background_color=&quot;green&quot;, choice = ['1', '2'])
cell_range = ipysheet.cell_range([[&quot;hi&quot;, &quot;ola&quot;], [&quot;ciao&quot;, &quot;bonjour&quot;], [&quot;hallo&quot;, &quot;guten tag&quot;]],
                                  row_start=1, column_start=2, background_color=&quot;yellow&quot;, choice = ['1', '2'])
cell = ipysheet.cell(row = 1, column = 0, value = 'Tom', choice = ['Tom', 'Jerry'])
sheet
</code></pre>
",75,1,<ipywidgets>,2022-05-25 16:51:21
72361140,How can I make a temporaty zip object downlaodable for user using Jupyter Notebook and Voila,"<p>I writing a jupyter notebook, which I would like to render using Voila to create a small web app/tool.
What the tool does is to get <strong>one</strong> Geojson file containing <strong>many</strong> polygons from the user and return a ZIP file containing <strong>many</strong> GeoJSON files (a file per polygon). For example, if the user uploads a GeoJSON file with 20 polygons (they are all in the same file), then the output should be a ZIP file containing 20 separate GeoJSON files - file per polygon.
I am able to do it locally and the ZIP file is saved as needed.</p>
<p>However, I would like to render it using Voila so that it can later work from anywhere, meaning the ZIP file will be created in-memory/on-the-fly/as-a-buffer (not sure which term is the accurate one) and then the user will be able to download the ZIP file, via automatic download, or by clicking on a button or with a pop-up window to download, it really does not matter here.</p>
<p>Here is a snippet of my code (let me know if it's not enough):</p>
<pre><code>def on_button_clicked(event):
    with output:
        clear_output()
        df = gpd.GeoDataFrame().from_features(json.loads(upload.data[0])) # if the file is geojson
        display(HTML(f'&lt;h4&gt;&lt;left&gt;There are {len(df)} polygons in the file&lt;/left&gt;&lt;/h4&gt;'))
        
        # make results.zip in temp directory
        # https://gist.github.com/simonthompson99/362404d6142db3ed14908244f5750d08
        tmpdir = tempfile.mkdtemp()
        zip_fn = os.path.join(tmpdir, 'results.zip')
        zip_obj = zipfile.ZipFile(zip_fn, 'w')

        for i in range(df.shape[0]):

            if len(field_names_col.value)==0:
                field_name = f'field_{str(i+1)}'
            else:
                field_name = df[field_names_col.value][i]

            output_name = f'{field_name}.{output_format.value.lower()}'

            df.iloc[[i]].to_file(f'{tmpdir}\\{output_name}', driver=output_format.value)

        for f in glob.glob(f&quot;{tmpdir}/*&quot;):
            zip_obj.write(f, os.path.basename(f)) # add file to archive, second argument is the structure to be represented in zip archive, i.e. this just makes flat strucutre

        zip_obj.close()

button_send.on_click(on_button_clicked)

vbox_result = widgets.VBox([button_send, output])
</code></pre>
<p>The important part is near the end:</p>
<pre><code>for f in glob.glob(f&quot;{tmpdir}/*&quot;):
    zip_obj.write(f, os.path.basename(f)) # add file to archive, second argument is the structure to be represented in zip archive, i.e. this just makes flat strucutre

zip_obj.close()
</code></pre>
<p>I iterate over the temporary separate files and create a temporary ZIP file (results.zip) stored in the <code>zip_obj</code>. How can I &quot;push&quot; this ZIP object to the user for download using Jupyter Notebook?</p>
<p>I tried using (just before or just after <code>zip_obj.close()</code>):</p>
<pre><code>local_file = FileLink(os.path.basename(f), result_html_prefix=&quot;Click here to download: &quot;)
display(local_file)
</code></pre>
<p>But I get an error when rendering it with Voila:</p>
<blockquote>
<p>Path (results.zip) doesn't exist. It may still be in the process of
being generated, or you may have the incorrect path.</p>
</blockquote>
<p>For example, to save it locally I did:</p>
<pre><code>with zipfile.ZipFile('c:/tool/results.zip', 'w') as zipf:
    for f in tmpdir.glob(&quot;*&quot;):
      zipf.write(f, arcname=f.name)
</code></pre>
",60,0,<jupyter-notebook><download><ipywidgets><voila>,2022-05-24 10:16:52
72357455,ipywidgets jslink - non direct mappings,"<pre class=""lang-py prettyprint-override""><code>import ipywidgets as widgets
from IPython.display import display

slider = widgets.IntSlider(min=0, max=100, step=1, description='Age:', value = 0)
agelabel = widgets.Label(value = '0')

mylink = widgets.jslink((slider, 'value'), (agelabel, 'value'))
display(slider, agelabel)
</code></pre>
<p>In the first two lines after imports, we created a slider to choose age from and a label to display a message. This code works as expected and displays the slider's value in label as we move it.</p>
<p>Now, instead of displaying the direct value from slider, we want to show in label <code>Your selected age : 12</code> or even apply some logic <code>You may not order alcoholic drinks at 12</code>.</p>
<p>Essentially getting the callback but not restriced to the mapped attributes <code>value</code> of these controls (<code>((slider, 'value'), (agelabel, 'value'))</code>).</p>
",79,0,<python><jupyter-notebook><ipywidgets>,2022-05-24 05:09:45
72353743,Choose date within a range using ipywidgets Date Picker,"<p>I need to create a widget that would allow the user to choose a date between two dates, say <code>datetime.date(2021, 1, 1)</code> and <code>datetime.date(2023, 12, 31)</code>, and from the official documentation of <code>ipywidgets</code> I could not find anything more than this:</p>
<pre><code>date_picker = widgets.DatePicker(
    description='Pick a Date',
    disabled=False,
)
</code></pre>
<p>Can someone please help me add constraints to the widgets? Thanks.</p>
",224,0,<python><datepicker><widget><ipywidgets>,2022-05-23 19:13:50
72316861,How to save widget Hbox animation as gif or video in python notebook?,"<p>I need to produce a gif or video set to show the movement comparison of ground truth video and predicted video, the original code is like this:</p>
<pre><code># Select a few random examples from the dataset.
examples = val_dataset[np.random.choice(range(len(val_dataset)), size=5)]

# Iterate over the examples and predict the frames.
predicted_videos = []
for example in examples:
    # Pick the first/last ten frames from the example.
    frames = example[:10, ...]
    original_frames = example[10:, ...]
    new_predictions = np.zeros(shape=(10, *frames[0].shape))
    #print(new_predictions.shape)
    # Predict a new set of 10 frames.
    for i in range(10):
        # Extract the model's prediction and post-process it.
        frames = example[: 10 + i + 1, ...]
        #print(frames.shape)
        new_prediction = model.predict(np.expand_dims(frames, axis=0))
        new_prediction = np.squeeze(new_prediction, axis=0)
        #print(new_prediction.shape)
        predicted_frame = np.expand_dims(new_prediction[-1, ...], axis=0)
        #print(predicted_frame.shape)
        # Extend the set of prediction frames.
        new_predictions[i] = predicted_frame

    # Create and save GIFs for each of the ground truth/prediction images.
    for frame_set in [original_frames, new_predictions]:
        # Construct a GIF from the selected video frames.
        current_frames = np.squeeze(frame_set)
        current_frames = current_frames[..., np.newaxis] * np.ones(3)
        current_frames = (current_frames * 255).astype(np.uint8)
        current_frames = list(current_frames)

        # Construct a GIF from the frames.
        with io.BytesIO() as gif:
            imageio.mimsave(gif, current_frames, &quot;GIF&quot;, fps=5)
            predicted_videos.append(gif.getvalue())

# Display the videos.
print(&quot; Truth\tPrediction&quot;)
for i in range(0, len(predicted_videos), 2):
    # Construct and display an `HBox` with the ground truth and prediction.
    box = HBox(
        [
            widgets.Image(value=predicted_videos[i]),
            widgets.Image(value=predicted_videos[i + 1]),
        ]
    )
    display(box)
</code></pre>
<p><a href=""https://i.stack.imgur.com/GnZM8.png"" rel=""nofollow noreferrer"">enter image description here</a></p>
<p>With display(box), I can see the videos in jupyter notebook but How can I save this video set to a gif or video that can be added to slides?</p>
<p>Thank you!</p>
",47,0,<python><keras><computer-vision><jupyter><ipywidgets>,2022-05-20 09:49:09
72313715,Jupyter notebook not loading the correct virtual environment,"<p>We deployed Jupyterhub in Kubernetes using the helm chart , the chart version is 0.9.0</p>
<p><a href=""https://github.com/jupyterhub/zero-to-jupyterhub-k8s/tree/main/jupyterhub"" rel=""nofollow noreferrer"">https://github.com/jupyterhub/zero-to-jupyterhub-k8s/tree/main/jupyterhub</a>
<a href=""https://zero-to-jupyterhub.readthedocs.io/en/latest/jupyterhub/installation.html"" rel=""nofollow noreferrer"">https://zero-to-jupyterhub.readthedocs.io/en/latest/jupyterhub/installation.html</a></p>
<p>Users creating virtual environments using the terminal and created kernals as well,
But when they accessing the jupyter notebook using the newly created kernal and run the command</p>
<pre><code>!conda info
</code></pre>
<p>It is not showing the correct virtual environment</p>
<p>If we run the below command to list the installed packages</p>
<pre><code>!pip list
</code></pre>
<p>It is the base environment packages only , it is not showing the packages which we installed in virtual environment</p>
",39,0,<kubernetes><jupyter-notebook><jupyter><jupyterhub><jupyter-irkernel>,2022-05-20 04:51:11
72294377,Capture output of autograded answer for subsequent autograder tests in nbgrader,"<p>I am trying to automate <code>autograding</code> with <code>nbgrader</code>. Usually the student writes a piece of code (like a <code>variable</code> or a <code>function</code>) in the <code>autograded answer</code> cell that the instructor uses (by referring to the <code>variable</code> or <code>function</code>) to write <code>autograder tests</code>.</p>
<p>But some times the input code from the <code>autograded answer</code> cell can be just a <code>print(...)</code> which outputs something to the screen (rather than a <code>variable</code> or <code>function</code>). In that case how is it possible to <em><strong>capture</strong></em> the printed output so that we can use it the next cell for writing <code>autograder tests</code> on it ?</p>
",36,1,<jupyter-notebook><jupyter><jupyterhub><nbgrader>,2022-05-18 18:36:28
72274053,"Setup Keycloak, Oauth-proxy and Jupyterhub","<p>I have deployed  <strong>Jupyterhub and Keycloak</strong> instances with Helm charts. I'm trying to authenticate user with Open Id Connect identity provider from Keycloak. But I'm pretty confused about the settings. I have followed instructions from <a href=""https://zero-to-jupyterhub.readthedocs.io/en/latest/administrator/authentication.html#keycloak"" rel=""nofollow noreferrer"">here</a> saying I should use a GenericOAuthenticator when implementing Keycloak.</p>
<p>To configure OpenId Connect Client I followed <a href=""https://www.keycloak.org/docs/latest/server_admin/index.html#_oidc_clients"" rel=""nofollow noreferrer"">this</a>.</p>
<p>I also create a group membership and audience and added to the mappers of the Jupyterhub &quot;jhub&quot; client. As well as a group like <a href=""https://cloud.redhat.com/blog/adding-authentication-to-your-kubernetes-web-applications-with-keycloak"" rel=""nofollow noreferrer"">this</a> and created two test users and added one of them to that group.</p>
<p>My problem is: When I try to logging I get a <code>403 error Forbidden</code> and a URL similar to this:</p>
<pre><code>https://jhub.compana.com/hub/oauth_callback?state=eyJzdGF0ZV9pZCI6ICJmYzE4NzA0ZmVmZTk0MGExOGU3ZWMysdfsdfsghfgh9LHKGJHDViLyJ9&amp;session_state=ffg334-444f-b510-1f15d1444790&amp;code=d8e977770a-1asdfasdf664-a790-asdfasdf.a6aac533-c75d-d555f-b510-asdasd.aaaaasdf73353-ce76-4aa9-894e-123asdafs
</code></pre>
<p>My questions are:</p>
<ol>
<li>Am I right about using Oauth Proxy? Do I need it if I'm using Keycloak. According to Jupyterhub docs, there are two authentication flows, so I'm using Oauth-proxy as external authenticator but I'm not positive about the way I'm doing that.</li>
</ol>
<blockquote>
<p>JupyterHub is often deployed with oauthenticator, where an external
identity provider, such as GitHub or KeyCloak, is used to authenticate
users. When this is the case, there are two nested oauth flows: an
internal oauth flow where JupyterHub is the provider, and and external
oauth flow, where JupyterHub is a client.</p>
</blockquote>
<ol start=""2"">
<li><p>Does Keycloak already has a default OIDC identity provider? The menu doesn't show any after the installation. Should I have done this for each client, since it's asking for an Authorization URL or is it redundant?
I tried to find out this but I only offers the possibility to define my own default identity provider according to <a href=""https://www.keycloak.org/docs/latest/server_admin/index.html#default_identity_provider"" rel=""nofollow noreferrer"">this</a> .</p>
</li>
<li><p>Is there a way to test the Oauth flow from the terminal or with Postman in a way that I can inspect the responses?</p>
</li>
</ol>
<p>I could get an Id token with:</p>
<pre><code>curl -k -X POST https://keycloak.company.com/auth/realms/company/protocol/openid-connect/token -d grant_type=password -d username=myuser -d password=mypassword -d client_id=my-client -d scope=openid -d response_type=id_token -d client_secret=myclientsecret

</code></pre>
<p>But how can try to login from the console?</p>
<hr />
<p>Keycloak console screenshots:</p>
<p><a href=""https://i.stack.imgur.com/pqPvV.png"" rel=""nofollow noreferrer"">identity provider list</a></p>
<p>Relevant files:</p>
<ul>
<li>Jupyterhub-values.yaml:</li>
</ul>
<pre><code>hub:
  config:
    Authenticator:
      enable_auth_state: true

    JupyterHub:
      authenticator_class: generic-oauth

    GenericOAuthenticator:
      client_id: jhubclient
      client_secret: abcsecret

      oauth_callback_url: https://jhub.company.com/hub/oauth_callback
      authorize_url: https://keycloak.company.com/auth/realms/company/protocol/openid-connect/auth
      token_url: https://keycloak.company.com/auth/realms/company/protocol/openid-connect/token
      userdata_url: https://keycloak.company.com/auth/realms/company/protocol/openid-connect/userinfo
      login_service: keycloak
      username_key: preferred_username
      userdata_params:
        state: state
  
  extraEnv:
    OAUTH2_AUTHORIZE_URL: https://keycloak.company.com/auth/realms/company/protocol/openid-connect/auth
    OAUTH2_TOKEN_URL: https://keycloak.company.com/auth/realms/company/protocol/openid-connect/token
    OAUTH_CALLBACK_URL: https://keycloak.company.com/hub/company

ingress:
  enabled: true
  annotations:
    kubernetes.io/ingress.class: &quot;nginx&quot;
    nginx.ingress.kubernetes.io/cors-allow-headers: &quot;X-Forwarded-For, X-Forwarded-Proto, DNT,X-CustomHeader,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization&quot;
  hosts:
    - jhub.company.com
</code></pre>
<ul>
<li>keycloak-values.yaml:</li>
</ul>
<pre><code>mostly default values but added for https:

extraEnvVars: 
- name: KEYCLOAK_PROXY_ADDRESS_FORWARDING
  value: &quot;true&quot;

- name: PROXY_ADDRESS_FORWARDING
  value: &quot;true&quot;

- name: KEYCLOAK_ENABLE_TLS
  value: &quot;true&quot;

- name: KEYCLOAK_FRONTEND_URL
  value: &quot;https://keycloak.company.com/auth&quot;

  ingress:
    enabled: true
    servicePort: https
  annotations:
    cert-manager.io/cluster-issuer: letsencrypt-cluster-issuer
    nginx.ingress.kubernetes.io/ssl-redirect: &quot;true&quot;
    nginx.ingress.kubernetes.io/backend-protocol: &quot;HTTPS&quot;
    nginx.ingress.kubernetes.io/ssl-passthrough: &quot;true&quot;
    nginx.org/redirect-to-https: &quot;true&quot;
    
    nginx.org/server-snippets: |
      location /auth {
        proxy_set_header Host $http_host;
        proxy_set_header X-Forwarded-For $host;
        proxy_set_header X-Forwarded-Proto $scheme;
      }

</code></pre>
",580,0,<oauth><keycloak><jupyterhub>,2022-05-17 12:25:30
72271574,Interactive Plot of DataFrame by index with Ipywidgets,"<p>I have two DataFrames:</p>
<pre><code>import numpy as np
import pandas as pd
import ipywidgets as widgets
import seaborn as sns

df = pd.DataFrame(np.random.rand(6,2), index=['Nr. 1', 'Nr. 2', 'Nr. 3', 'Nr. 4', 'Nr. 5', 'Nr. 6'], columns=['A', 'B', 'C', 'D'])

df2 = pd.DataFrame(np.array([[1, 2, 3, 4]]), columns=['a', 'b', 'c', 'd'])
</code></pre>
<p>I want to make an interactive plot where I can choose the row of the DataFrame by a dropdown of the index of <code>df</code>.</p>
<p>This is my approach:</p>
<pre><code>Index= df.index.tolist()
Nr = widgets.Dropdown(options=Nr, value=Nr[0], description='Number:', disabled=False)
button = widgets.Button(description='Plot', disabled = False, button_style='', tooltip = 'Plotting', icon='check')

out = widgets.Output(layout={'border': '1px solid black'})
box = widgets.VBox([Nr, button])
def on_button_clicked(b):
    with out:
         ax = sns.regplot(x=df_2[0], y=df.loc[[Nr]])
button.on_click(on_button_clicked, False)
display(box)
</code></pre>
<p>However, I get this error: <code>'None of [Index([Dropdown(description='Nr:', index = 4, options=('Nr. 1', 'Nr. 2', 'Nr. 3', 'Nr. 4'), value = 'Nr. 1')], dtype = 'object', name='Nr')] are in the [index]'</code></p>
<p>What am I missing?</p>
",217,2,<python><pandas><seaborn><jupyter><ipywidgets>,2022-05-17 09:36:24
72267070,Using dynamic number of sliders with ipywidgets,"<p>I want to call a function interactively using <code>ipywidgets</code> with a dynamic number of sliders.
I am able to display it.</p>
<pre class=""lang-py prettyprint-override""><code>n_alphas = 3
alphas = [
    widgets.FloatSlider(min=-1, max=1, step=1e-3, description=f'$z_{i}$', orientation='vertical')
    for i in range(n_alphas)
]
ui = widgets.HBox(alphas)
display(ui)
</code></pre>
<p>This correctly renders three vertical sliders as defined by <code>n_alphas</code>.</p>
<p><a href=""https://i.stack.imgur.com/ClIiX.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/ClIiX.png"" alt=""three vertical sliders"" /></a></p>
<p>Unfortunately I am not able to bind this UI with the dynamic number of sliders to some function.
I tried variants of the following, but nothing worked:</p>
<pre class=""lang-py prettyprint-override""><code>out = widgets.interactive_output(print_alphas, alphas)
display(ui, out)
</code></pre>
<p>What is needed to bind the list of sliders defined by <code>alphas</code> to the function <code>print_alphas</code> and how should that function itself be defined?</p>
",214,0,<python><jupyter-notebook><ipywidgets>,2022-05-17 00:48:41
72266464,JupyterHub single user kernel,"<p>Is it possible in JupyterHub that regardless of the user logged in, a kernel (e.g. Python) will always run with a specific user?</p>
<p>I think it might be possible with container-based Spawners (e.g. KubeSpawner or DockerSpawner), but not sure if LocalProcessSpawner can do it or if there is some configuration to the kernel.json that will allow this.</p>
",64,0,<jupyter-notebook><jupyter><jupyter-lab><jupyterhub>,2022-05-16 23:01:35
72232038,I cannot get an ipywidgets on_button_clicked(b) event in Jupyter Notebook to work in exported HTML,"<p>I have a collection of widgets in a Jupyter Notebook, including an ipyleaflet Map and ipywidgets Button. I can get the button on_button_clicked(b) event to work in the notebook, but when I export the widgets to HTML, the button event does not seen to register.
'''
from ipyleaflet import  Map
from ipywidgets import  Button, interact
from ipywidgets.embed import embed_data</p>
<p>def display_window(map):
b1 = Button(description='test', disabled=False, button_style='')</p>
<pre><code>    output = widgets.Output()
    def on_button_clicked(b):
        with output:
            #do something
    b1.on_click(on_button_clicked)
    #setup webpage
    data = embed_data(views=[b1, map])
    html_template = &quot;&quot;&quot;
    &lt;html&gt;
      &lt;head&gt;

        &lt;title&gt;Test&lt;/title&gt;

        &lt;!-- Load RequireJS, used by the IPywidgets for dependency management --&gt;
        &lt;script 
          src=&quot;https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js&quot; 
          integrity=&quot;sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=&quot; 
          crossorigin=&quot;anonymous&quot;&gt;
        &lt;/script&gt;

        &lt;!-- Load IPywidgets bundle for embedding. --&gt;
        &lt;script
          data-jupyter-widgets-cdn=&quot;https://cdn.jsdelivr.net/npm/&quot;
          src=&quot;https://unpkg.com/@jupyter-widgets/html-manager@*/dist/embed-amd.js&quot; 
          crossorigin=&quot;anonymous&quot;&gt;
        &lt;/script&gt;

        &lt;!-- The state of all the widget models on the page --&gt;
        &lt;script type=&quot;application/vnd.jupyter.widget-state+json&quot;&gt;
          {manager_state}
        &lt;/script&gt;
      &lt;/head&gt;

      &lt;body&gt;

        &lt;h1&gt;Test&lt;/h1&gt;

        
        &lt;div id=&quot;button&quot;&gt;
          &lt;!-- This script tag will be replaced by the view's DOM tree --&gt;
          &lt;script type=&quot;application/vnd.jupyter.widget-view+json&quot;&gt;
            {widget_views[0]}
          &lt;/script&gt;
        &lt;/div&gt;
        
        &lt;div id=&quot;ipyleaflet-map&quot;&gt;
            &lt;script type=&quot;application/vnd.jupyter.widget-view+json&quot;&gt;
              {widget_views[1]}
            &lt;/script&gt;
        &lt;/div&gt;
        
      &lt;/body&gt;
    &lt;/html&gt;
    &quot;&quot;&quot;

    manager_state = json.dumps(data['manager_state'])
    widget_views = [json.dumps(view) for view in data['view_specs']]
    rendered_template = html_template.format(manager_state=manager_state, widget_views=widget_views)

    html_file = open(&quot;text.html&quot;,'w')
    html_file.write(rendered_template)
    html_file.close()

    
</code></pre>
",101,0,<ipywidgets>,2022-05-13 15:29:18
72227905,Jupyter Hub generate automatic logs,"<p>It is possible to generate automatic log for each new Jupyter notebook file that is created?<br />
The time, user, cell command and the output of the cell command should be available in the logs for the entire user usage period.
The environment would be a Jupyter Hub Server on the Google Cloud environment created with terraform.</p>
<p>Appreciate any help!</p>
",63,0,<logging><google-cloud-platform><automation><jupyter-notebook><jupyterhub>,2022-05-13 10:13:41
72225127,JupyterHub user pod can't assume EKS node role,"<p>I installed JupyterHub with Helm on an EKS cluster, although the EKS service role can be correctly assumed by the hub pod (whose name starts with &quot;hub-&quot;), the user pods (starting with &quot;jupyter-USERNAME&quot;) seem can't assume the role. Because of this, when a user uses boto3 in her notebook, she is asked for her IAM user credentials, which is not ideal.</p>
<p>All other pods in that namespace can assume the EKS role automatically except for the JupyterHub user pods. May I have your advice on this please? Thanks everyone for your time and consideration.</p>
",54,0,<kubernetes><amazon-eks><jupyterhub>,2022-05-13 06:10:39
72219773,ipywidgets interact: set the framerate?,"<p>I have an <code>ipywidgets.interact</code> slider bar on a long-ish running process.  This creates a situation where, when I move the slider bar, several values get buffered and I sit and wait for a while for the output to &quot;catch up&quot; to the point to which I've moved the slider bar.  I'd like to set the number of values that get buffered when I use the slider bar.</p>
<p>Example:</p>
<pre><code>from ipywidgets import interact
import matplotlib.pyplot as plt
import cv2
from skimage import io

image = io.imread('https://www.wikipedia.org/portal/wikipedia.org/assets/img/Wikipedia-logo-v2.png')

@interact
def edges(low=100, high=150, aperture=3):
    plt.imshow(cv2.Canny(image, low, high, apertureSize=aperture))
</code></pre>
<p>Try moving the slider around and watch the image continue updating for a while after you stop.  I'm on a laptop, so your mileage may vary if you have a beast of a machine.</p>
<p>How can I set the &quot;framerate&quot; to the <code>interact</code> function?</p>
",26,0,<python><ipywidgets>,2022-05-12 17:19:24
72218816,Centering plots in Jupyter-Lab using R kernel,"<p>I'm using Jupyter-lab with <strong>R kernel</strong> and I would like to know how to center the plots I make. Here is how it looks by default :</p>
<p><a href=""https://i.stack.imgur.com/CZp8K.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/CZp8K.png"" alt=""Default display"" /></a></p>
<p>I would like to make it like this :</p>
<p><a href=""https://i.stack.imgur.com/EZNlP.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/EZNlP.png"" alt=""enter image description here"" /></a></p>
",56,1,<r><jupyter-notebook><jupyter><jupyter-lab><jupyter-irkernel>,2022-05-12 16:03:30
72217527,Displays the current value at the bottom of the SelectionRangeSlider Jupyter Notebook,"<p>I'm creating an interactive notebook by using the library ipywidgets. I'm interested in SelectionRangeSlider widget. In documentation, we have a simple example :</p>
<pre><code>import datetime
dates = [datetime.date(2015, i, 1) for i in range(1, 13)]   
options = [(i.strftime('%b'), i) for i in dates]
widgets.SelectionRangeSlider(
options=options,
index=(0, 11),
description='Months (2015)',
disabled=False
)
</code></pre>
<p>That creates folowing slider :</p>
<p><a href=""https://i.stack.imgur.com/SZFvc.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/SZFvc.png"" alt=""enter image description here"" /></a></p>
<p>I would like to change the position of the current values selected, putting it at the bottom, like that:</p>
<p><a href=""https://i.stack.imgur.com/c4dhs.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/c4dhs.png"" alt=""enter image description here"" /></a></p>
<p>I've read documentation but I couldn't find a way to do this. Anyone knows if it's even possible to change this position? Thanks a lot.</p>
",46,0,<jupyter-notebook><widget><ipywidgets>,2022-05-12 14:33:14
72217039,FFmpeg and Jupyter Notebooks,"<p>I'm getting the error <code>RuntimeError: Requested MovieWriter (ffmpeg) not available</code> when trying to run <a href=""https://pythonnumericalmethods.berkeley.edu/notebooks/chapter12.04-Animations-and-Movies.html#:%7E:text=You%20can%20create%20animations%20in,the%20animation%20functionality%20is%20built."" rel=""nofollow noreferrer"">this</a> simple example of creating and displaying an animation in a <em>Jupyter Notebook</em>.</p>
<pre><code>---------------------------------------------------------------------------
RuntimeError                              Traceback (most recent call last)
&lt;ipython-input-1-799d6a3690af&gt; in &lt;module&gt;
      8 
      9 # Define the meta data for the movie
---&gt; 10 FFMpegWriter = manimation.writers['ffmpeg']
     11 metadata = dict(title='Movie Test', artist='Matplotlib',
     12                 comment='a red circle following a blue sine wave')

/usr/local/lib/python3.8/dist-packages/matplotlib/animation.py in __getitem__(self, name)
    164         if self.is_available(name):
    165             return self._registered[name]
--&gt; 166         raise RuntimeError(f&quot;Requested MovieWriter ({name}) not available&quot;)
    167 
    168 

RuntimeError: Requested MovieWriter (ffmpeg) not available

</code></pre>
<p>Running <code>!pip install ffmpeg</code> didn't help, as <code>ffmpeg</code> is already installed, apparently:</p>
<pre><code>Requirement already satisfied: ffmpeg in /home/username/.local/lib/python3.8/site-packages
</code></pre>
<p>How can I make this work?</p>
",532,0,<python><ffmpeg><jupyter-notebook><jupyterhub>,2022-05-12 14:02:26
72210335,Dockerfile ENV variable is not found in jupyter,"<p>As shown in the below Dockerfile, I declared an environment variable using the ENV keyword, then opened jupyterhub using ENTRYPOINT keyword.<br />
And I created a container with <code>docker run -d -v &lt;some_path&gt;:/VOLUME/ -p 9020:80 --ulimit core=0 --shm-size=32G --name &lt;cnt_name&gt; &lt;img_name&gt;</code>.<br />
However, I can't get the variable &quot;TZ&quot; on jupyterhub, not only Ipython but also terminal.<br />
On the other hand, I can get the variable when I access the terminal with <code>docker exec -it &lt;cnt_name&gt; bash</code>.<br />
Why does it happen and how can I use the variable &quot;TZ&quot; on the jupyterhub?</p>
<pre><code>FROM pytorchlightning/pytorch_lightning:base-cuda-py3.9-torch1.11

ENV TZ=Asia/Seoul

RUN apt update
RUN curl -sL https://deb.nodesource.com/setup_14.x | bash -
RUN apt install -y nodejs vim sudo libgl1-mesa-glx
RUN npm install -g configurable-http-proxy
RUN pip install pytorch_lightning scikit-learn ray[tune] wandb
RUN pip install torchmetrics torchsummary
RUN pip install pandas opencv-python tqdm matplotlib
RUN pip install jupyter jupyterlab jupyterhub
RUN jupyter labextension install @jupyterlab/toc @jupyter-widgets/jupyterlab-manager
RUN useradd -rm -G sudo kslee -s /bin/bash -p $(perl -e 'print crypt($ARGV[0], &quot;password&quot;)' '1234') -u 1003
RUN chmod 777 /tmp
WORKDIR /jupyterhub

EXPOSE 80

ENTRYPOINT [&quot;jupyterhub&quot;, &quot;--port&quot;, &quot;80&quot;, &quot;--ip&quot;, &quot;0.0.0.0&quot;, &quot;--Spawner.default_url&quot;, &quot;/lab&quot;, &quot;--Spawner.notebook_dir&quot;, &quot;/VOLUME&quot;, &quot;--Authenticator.admin_users&quot;, &quot;\&quot;{'kslee'}\&quot;&quot;]
</code></pre>
",18,0,<docker><dockerfile><jupyter><jupyterhub>,2022-05-12 05:01:33
72204386,making ipywidget widget handle JS calls,"<p>I'm trying to do the following using ipywidgets but I don't find a simple example in the doc.</p>
<p>Assume I'm rendering an ipywidgets component C in an Output widget object, so it is showing in the output notebook.</p>
<p>I also have another component that can generate any javascript function call.</p>
<p>How can I make it that component C &quot;receives&quot; the javascript call, and then updates/refreshes when this call is received.</p>
<p>For instance, I want to be able to call the JS function (or equivalent):</p>
<pre><code>refreshComponent(1, 2, &quot;a&quot;)
</code></pre>
<p>Which should be &quot;captured&quot; by component C and handled in python code as calling the following function:</p>
<pre><code>def refresh_component(a: int, b: int, c: str):
   ...
</code></pre>
<p>What's a simple way to do this ? I couldnt find if this is possible out of the box with regular ipywidgets (in which case the JS function to calls are not easy to find), or if it's something I have to manually declare</p>
<p>thanks !</p>
",52,0,<python><jupyter-notebook><ipywidgets>,2022-05-11 16:16:33
72178559,How to use pip with venv in protected directory?,"<p>I'm trying to install a python program (<code>jupyterhub</code>) and its dependencies using <code>pip</code> and <code>python-venv</code> package.
I want to install it in an <code>/opt</code> directory, which requires root privilege to access.</p>
<p>Here is the problem. <code>pip</code> shows an error if you try to execute it from <code>root</code> user, because it can break some system packages, and suggests using virtual environments instead. However, I am using a virtual environment, just in a privileged directory.</p>
<p>What can be done about that? My first instinct would be dealing with all installations in a home folder, than moving it to <code>/opt</code> and recursively changing ownership to <code>root</code> user. Might it work?</p>
",35,0,<python><linux><pip><jupyterhub>,2022-05-09 21:52:14
72174482,Bold certain part of Ipywidgets Button text,"<p>I am creating a button in Jupyter Notebook using ipywidgets with the following code:</p>
<pre><code>from IPython.display import Javascript, display
from ipywidgets import widgets
from ipywidgets import Layout,interact, interactive, fixed, interact_manual, IntSlider, HBox, Label
def run_all(ev):
    display(Javascript('IPython.notebook.execute_cell_range(IPython.notebook.get_selected_index()+1, IPython.notebook.get_selected_index()+2)'))

button = widgets.Button(description=&quot;This is a blue colored earth&quot;,layout=Layout(width='70%', height='40px'),
                        style=dict(text_color='#FFFFFF'))
button.style.button_color = '#ff9838'

button.on_click(run_all)
display(button)
</code></pre>
<p>Now this is generating the following output:
<a href=""https://i.stack.imgur.com/zVJnz.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/zVJnz.png"" alt=""enter image description here"" /></a></p>
<p>Now I want to bold certain part of the text in the button.. Let's say &quot;blue colored earth&quot;
Can you please help me with it?</p>
",260,0,<python><jupyter-notebook><jupyter><ipywidgets>,2022-05-09 15:25:51
72172770,Jupyterhub Kernel not connecting in Google Cloud Platform,"<p>I am using GKE for Jupyterhub deployment. I followed the step given in Documentation but I am facing kernel connection issue.</p>
<p>I am using Helm Chart version 1.2.</p>
<p>Jupyterhub version 1.5</p>
<p>I saw a similar issue posted here: <a href=""https://github.com/jupyter/notebook/issues/2664"" rel=""nofollow noreferrer"">https://github.com/jupyter/notebook/issues/2664</a>, I changed the tornado version but issue still persist.</p>
<p><a href=""https://i.stack.imgur.com/Qj8zE.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/Qj8zE.png"" alt=""enter image description here"" /></a></p>
<p><a href=""https://i.stack.imgur.com/qsgtn.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/qsgtn.png"" alt=""enter image description here"" /></a></p>
<p>In the console when I checked It was showing Websocket connection Failure</p>
",39,0,<google-cloud-platform><google-kubernetes-engine><kubernetes-helm><jupyterhub><jupyter-irkernel>,2022-05-09 13:27:58
72148285,Place ipywidget Dropdown on screen in matplotlib.pyplot axes ax1,"<p>When I run this code, the Dropdown is nowhere to be found.  How do I make it appear in ax1?
(I think I would like to avoid Tkinter.)</p>
<pre><code>#!/usr/bin/env python3
#Place ipywidget Dropdown on screen in matplotlib.pyplot  axes ax1
import matplotlib.pyplot as plt
from ipywidgets.widgets import Dropdown, Layout

fig = plt.figure()
axcolor = 'lightgoldenrodyellow'

# I want a fig with 1 axes--left rectangle with Dropdown  (later I will have 4 other axes)
# instance the axes  [left, bottom, width, height].
ax1 = fig.add_axes([.1, .4, .4, .4]) #([.92, .97, .08, .03])

# Dropdown is from ipywidgets
def STypeGrp_event_handler(change):
    print(change.new)
    STypeGrp.value = &quot;&quot;       
STypeGrp = Dropdown(
    options=list(['E1', 'E2', 'F1']),
    value='E1',
    description='Type-Grp:',
    layout=Layout(width='100px', margin = '20px 20px 20px 20px')
)
STypeGrp.observe(STypeGrp_event_handler)
#widgets.interact(STypeGrp_event_handler, value=STypeGrp)
plots = [STypeGrp]

# ?? How do I put STypeGrp dropdown into the ax1 frame??

figManager = plt.get_current_fig_manager()
figManager.window.showMaximized()
plt.show()
</code></pre>
",31,0,<python-3.x><matplotlib><ipywidgets>,2022-05-06 23:26:59
72142064,Jupyterhub authenticator “invalid username or password” with users that are clearly valid,"<p>Obs: this question is duplicated <a href=""https://discourse.jupyter.org/t/authenticator-invalid-username-or-password-with-users-that-are-clearly-valid/14135"" rel=""nofollow noreferrer"">here</a>.</p>
<p>Hello all. Im configuring a jupyterhub server in an ubuntu machine. According to <a href=""https://jupyterhub.readthedocs.io/en/stable/getting-started/authenticators-users-basics.html"" rel=""nofollow noreferrer"">this</a> page, not setting a specific c.Authenticator.allowed_users will automatically set to default and allow for all authenticated users.
My server does not have any c.Authenticator.allowed_users property set, however it displays “Invalid username or password” to some users that exist in the domain and can, for example, ssh into the server machine.</p>
<p>Do i need to set any specific configuration that im not aware of?</p>
<p>If it helps, my machine gets a lot of info about authenticated users from the domain, so not everything is stored locally. For example,</p>
<pre><code>cat /etc/passwd
</code></pre>
<p>results in a short list of users info while</p>
<pre><code>getent passwd
</code></pre>
<p>Results in a much longer list. Is this affecting my server somehow?</p>
<p>Invalid login screen:</p>
<p><a href=""https://i.stack.imgur.com/J0kqV.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/J0kqV.png"" alt=""enter image description here"" /></a></p>
<p>Server configuration code:</p>
<pre><code>c.JupyterHub.bind_url = 'http://:8000/jupyter'
c.JupyterHub.pid_file = '/etc/jupyterhub/jupyterhub.pid'
c.JupyterHub.shutdown_on_logout = True
c.JupyterHub.spawner_class = 'lnlsSpawner.spawner.spawner'
c.Spawner.env_keep = ['PATH', 'PYTHONPATH', 'CONDA_ROOT', 'CONDA_DEFAULT_ENV', 'VIRTUAL_ENV', 'LANG', 'LC_ALL', 'PYDM_DEFAULT_PROTOCOL', 'EPICS_CA_ADDR_LIST']
c.Spawner.notebook_dir = '~/' #Added for testing. Should be removed?
</code></pre>
",412,0,<python><authentication><jupyterhub>,2022-05-06 13:14:03
72135988,Initiate ipywidget from the start,"<p>I am trying to use this ipywidget to initiate a bokeh plot with a function, it works fine once the dropdown value is changed. It will load the function and show the plot as expected, although it needs to be changed. I tried change.value == 2021 which is the dropdown value(the initial) but still the same. I am intending to bring it to Flask and I would need it to work from the start as I would like to create script, div to export it to HTML. Now with pyscript it is handy to work with ipywidget in flask.</p>
<pre><code>f1Years = range(2004,2022)
f1Y_s = [&quot;{:04d}&quot;.format(x) for x in f1Years][::-1]

selectY = widgets.Dropdown(
    options=f1Y_s,
    value='2021',
    description='Select year:',
    display=True)#, disabled=False)



year = widgets.Output()

def dp_year(change):
    year.clear_output()
    with year:
        if (change.value == 2021):
            display(show(Constplot(2021)))
        else:
            display(show(Constplot(int(change.new))))
        
            

def retPlot():
    selectY.observe(dp_year, names='value')
    display(selectY)
    
    return display(year)
</code></pre>
<p>a snapshot of it<a href=""https://i.stack.imgur.com/ARYpe.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/ARYpe.png"" alt=""outcome"" /></a></p>
",54,0,<python><flask><frontend><bokeh><ipywidgets>,2022-05-06 03:54:07
72126652,Replicating ssh behavior with jupyternotebook spawn,"<p>OBS1: this question is duplicated <a href=""https://discourse.jupyter.org/t/replicating-ssh-behavior-with-jupyternotebook-spawn/14126"" rel=""nofollow noreferrer"">here</a> as suggested by Wayne in the comments, but still with no answer.</p>
<p>I have a remote machine running ubuntu where i am configuring a jupyterhub notebooks server. The server is already up and running, however, i noticed that it only works well with users that have previously logged in the machine via ssh.
For users that have never logged in the machine via ssh before, the server spawns a login screen but after the login comes the following image:</p>
<p><a href=""https://i.stack.imgur.com/X1oJu.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/X1oJu.png"" alt=""enter image description here"" /></a></p>
<p>It displayed a different directory path before (i mean different than /user/john.snow), but i configured the jupyterhub spawner class to make the directory by adding the lines:</p>
<pre><code>if os.path.exists('mkdir /home/FOLDER/' + env['JUPYTERHUB_USER'])!=True:
    os.system('mkdir /home/FOLDER/' + env['JUPYTERHUB_USER'])
</code></pre>
<p>(i append the complete spawner code at the end of the question, if thats useful)</p>
<p>Since i dont intend to need to test every single directory that jupyter notebook looks for, my desire is to find the ssh configuration files in the computer and mimic what ssh does for that particular user with the spawner.
Is it possible? I tried looking at /etc/ssh/ssh_config and similar but almost all of the file is commented and the syntax is mysterious.</p>
<p>Thanks for any suggestions.</p>
<p>OBS: full spawner code:</p>
<pre><code>import os, getpass
import yaml
from jupyterhub.spawner import Spawner, LocalProcessSpawner

class spawner(LocalProcessSpawner):

    def start(self):
        # get environment variables,
        # several of which are required for configuring the single-user server
        env = self.get_env()
        ret = super(spawner, self).start()
        if os.path.exists('mkdir /home/FOLDER/' + env['JUPYTERHUB_USER'])!=True:
            os.system('mkdir /home/FOLDER/' + env['JUPYTERHUB_USER'])
        os.system('mkdir /home/FOLDER/' + env['JUPYTERHUB_USER'] + '/notebooks')
        os.system('cp -r /usr/local/scripts/notebooks/* /home/FOLDER/' + env['JUPYTERHUB_USER'] + '/notebooks/')
        os.system('chmod -R 777 /home/FOLDER/' + env['JUPYTERHUB_USER'] + '/notebooks/')



        return ret
</code></pre>
",42,0,<python><ubuntu><ssh><jupyterhub>,2022-05-05 11:47:51
72109592,How to use ipywidgets.Dropdown in Jupyter Notebook?,"<p>When I use <code>ipywidgets.Dropdown</code> in Jupyter Notebook, the option box is not rendered.</p>
<p><a href=""https://i.stack.imgur.com/TJWKk.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/TJWKk.png"" alt=""Code screenshots here"" /></a></p>
<pre><code>from ipywidgets import widgets

function = widgets.Dropdown(
    options=[('one',1), ('two',2)], 
    value=1,
    description='function')
function
</code></pre>
<p>All I got was:</p>
<pre><code>Dropdown(description='function', options=(('one', 1), ('two', 2)), value=1)
</code></pre>
<p>but no dropdown choices.</p>
<p>I also tried <code>display(function)</code>, didn't work either.</p>
<p>Where is the problem?</p>
",40,0,<python><jupyter-notebook><ipywidgets>,2022-05-04 07:55:55
72103527,JupyterHub not inheriting environment variables even with env_keep from spawner,"<p>I have a Jupyter server being spawned via</p>
<pre><code>systemctl start jupyterhub.service
</code></pre>
<p>in a debian 9.11. The jupyterhub.service file defines a certain jupyterhub.sh as start file, which is just a series of sources and then the call to jupyterhub in the form:</p>
<pre><code>source /etc/profile
source /path/to/source/file
...
echo $PYTHONPATH
jupyterhub -f /etc/jupyterhub/jupyterhub_config.py
</code></pre>
<p>(echo $PYTHONPATH is there for debug). The file jupyterhub_config.py defines a jupyter Spawner and uses the spawner env_keep method in the following way:</p>
<pre><code>c.Spawner.env_keep = ['PATH', 'PYTHONPATH', 'CONDA_ROOT', 'CONDA_DEFAULT_ENV', 'VIRTUAL_ENV', 'LANG', 'LC_ALL', 'PYDM_DEFAULT_PROTOCOL', 'EPICS_CA_ADDR_LIST']
</code></pre>
<p>so when initializing my jupyter, going to a notebook and writing</p>
<pre><code>! echo $PYTHONPATH
</code></pre>
<p>in a cell, i expect to see the variable listed above with the values identical to what was defined on the source files. However, this does not happen and my PYTHONPATH is not what i expect.
For example, by running</p>
<blockquote>
<p>systemctl start jupyterhub.service</p>
</blockquote>
<p>and going into the server notebook, there i get PYTHONPATH=:/some/paths/string:/that/seems/short:/example/blabla</p>
<p>but stopping the server and running the jupyterhub.sh file with the echo $PYTHONPATH line i get PYTHONPATH=:/some/string/that/:/is/much/longer/:/than/the/other/path/:/example/blabla/bla:/blabla/blabla/bla/blabla:/blabla/bla</p>
<p>Finally, the weirdest thing is: in jupyterhub.sh file, if i write</p>
<blockquote>
<p>source /some/file/that/exports/variables</p>
</blockquote>
<p>no new variable ends up in my notebook. However, if i write</p>
<blockquote>
<p>export PYTHONPATH=$PYTHONPATH:/new/path</p>
</blockquote>
<p>then /new/path ends up appended to the notebook's PYTHONPATH.</p>
<p>Does anyone know what is going on here and how can i adequately source my environment variables from desired files?</p>
",82,0,<python><linux><jupyterhub>,2022-05-03 17:55:09
72094480,How do I launch The Littlest JupyterHub as admin?,"<p>I'm trying to get up to speed with The Littlest JupyterHub.</p>
<p>I've followed the documentation and added myself as an admin with the following.
<a href=""https://i.stack.imgur.com/ZK1c2.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/ZK1c2.png"" alt=""enter image description here"" /></a></p>
<p>Updated my config file with my key and cert then launched the hub with <code>jupyterhub -f ./jupyterhub_config.py</code>.</p>
<p>I then get to this screen:
<a href=""https://i.stack.imgur.com/Zk7O5.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/Zk7O5.png"" alt=""enter image description here"" /></a></p>
<p>My issue is that I dont see the control panel described here:
<a href=""https://i.stack.imgur.com/6Sl1j.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/6Sl1j.png"" alt=""enter image description here"" /></a></p>
<p>Can anyone suggest where I've gone wrong?</p>
",104,0,<jupyter-notebook><jupyter><jupyterhub>,2022-05-03 03:13:48
72087720,Kubernetes Service account token ignored in Jupyter,"<p>I am spinning up a new Jupyter notebook instance from Jupiter hub and wish to have Kubernetes API access from inside the spun up container. According to the <a href=""https://zero-to-jupyterhub.readthedocs.io/en/latest/administrator/security.html#kubernetes-api-access"" rel=""nofollow noreferrer"">docs</a>, I added the parameter for service account in my helm values and as expected, I can see the service account token mounted as expected.</p>
<pre><code>subu@jupyter-subu:~$ sudo ls /run/secrets/kubernetes.io/serviceaccount/
ca.crt  namespace  token
</code></pre>
<p>When I try to run kubectl however, I get an access denied</p>
<pre><code>subu@jupyter-subu:~$ kubectl get pods
error: open /var/run/secrets/kubernetes.io/serviceaccount/token: permission denied
</code></pre>
<p>Fair enough, but run it as sudo and it simply ignores the service account token.</p>
<pre><code>subu@jupyter-subu:~$ sudo kubectl get pods
The connection to the server localhost:8080 was refused - did you specify the right host or port?
</code></pre>
<p>If I setup the kubectl config manually with the details of the token, it works totally though, its just the default settings that don't work. Any ideas on why this could be happening would be much appreciated!</p>
",328,2,<kubernetes><jupyter><kubectl><jupyterhub>,2022-05-02 13:51:13
72067556,Is there a way to forward a port from Docker to a custom address on host's machine?,"<p>I am currently trying to forward a port from a Docker container to my local machine. I am running the following command:</p>
<pre class=""lang-sh prettyprint-override""><code>docker run -itp jupyterhub.localhost:80:8000 --name jupyterhub bitnami/jupyterhub sudo jupyterhub
</code></pre>
<p>But I am getting this error:</p>
<pre class=""lang-sh prettyprint-override""><code>docker: Invalid ip address: jupyterhub.localhost.
</code></pre>
<p>Basically, I want the container to be forwarded to the <code>jupyterhub.localhost:80</code> address. Is this possible to do with Docker?</p>
",45,0,<docker><jupyterhub>,2022-04-30 10:10:59
72053396,How to selectively clear certain ipywidgets using clear_output()?,"<p>I believe it is now recommended to use Output() and <code>with</code>context manager to manage ipywidgets. My question is when using <code>clear_output()</code> how to selectively clear certain widgets but not all of them. This would be helpful and can help realize the scenario where user triggers some action, and one of the widget is replaced by a new one.
In the example below, three widgets are stored in <code>Output()</code> and <code>clear_output()</code> clear all of them.</p>
<p>A side question about <code>display</code>, I am not sure where does it place new widgets (where is the canvas it is drawing widgets on). I was developing a web with multiple tabs (<code>ipyvuetify TabItem</code>) but when I used <code>display</code> to show some widgets at ONE tab, it shows at all tabs. Strange.</p>
<pre class=""lang-py prettyprint-override""><code>import ipywidgets as widgets
from IPython.display import display, clear_output
slider = widgets.IntSlider(
    value=7,
    min=0,
    max=10,
    step=1,
    description='Test:',
    disabled=False,
    continuous_update=False,
    orientation='horizontal',
    readout=True,
    readout_format='d'
)

dropdown = widgets.Dropdown(
    options=['1', '2', '3'],
    value='2',
    description='Number:',
    disabled=False,
)

radio = widgets.RadioButtons(
    options=['pepperoni', 'pineapple', 'anchovies'],
    description='Pizza topping:',
    disabled=False
)
out = widgets.Output()
display(out)
with out:
    display(dropdown)
    display(radio)
    display(slider)
out.clear_output()
out
</code></pre>
",49,0,<ipywidgets><ipyvuetify>,2022-04-29 05:53:31
72044704,Can Jupyter labs or pandas serve static files?,"<p>If I am running a <a href=""https://jupyter-notebook.readthedocs.io/en/stable/public_server.html#running-a-notebook-server"" rel=""nofollow noreferrer"">Jupyter notebook server</a> where an analyst can browse into server URL to run IPython, (typical IPython but hosted remotely) can the analyst export the data in CSV form as well to their local machine? Like download CSV file they are working on from a Pandas data wrangling process?</p>
<p>For example if a Pandas data frame is created something like this method below of IPython hosted remotely from an SQL query:</p>
<pre><code># Example python program to read data from a PostgreSQL table
# and load into a pandas DataFrame
import psycopg2
import pandas as pds
from sqlalchemy import create_engine

# Create an engine instance
alchemyEngine = create_engine('postgresql+psycopg2://test:@127.0.0.1', pool_recycle=3600);

# Connect to PostgreSQL server
dbConnection = alchemyEngine.connect();

# Read data from PostgreSQL database table and load into a DataFrame instance
dataFrame = pds.read_sql(&quot;select * from \&quot;StudentScores\&quot;&quot;, dbConnection);

pds.set_option('display.expand_frame_repr', False);

# Print the DataFrame
print(dataFrame);

# Close the database connection
dbConnection.close();
</code></pre>
<p>Would Jupyter labs have something to similar of serving a static file like a web server can do? For example a Flask server you can serve static file, sorry NOT a web developer but I have experimented with this in with Flask. The Flask code looks like this below for <code>send_file</code> to serve a static file:</p>
<pre><code>from flask import Flask, request, send_file
import io
import os
import csv 
app = Flask(__name__)
@app.route('/get_csv')
def get_csv():
    &quot;&quot;&quot; 
    Returns the monthly weather csv file (Montreal, year=2019)
    corresponding to the month passed as parameter.
    &quot;&quot;&quot;
    # Checking that the month parameter has been supplied
    if not &quot;month&quot; in request.args:
        return &quot;ERROR: value for 'month' is missing&quot;
    # Also make sure that the value provided is numeric
    try:
        month = int(request.args[&quot;month&quot;])
    except:
        return &quot;ERROR: value for 'month' should be between 1 and 12&quot;
    csv_dir  = &quot;./static&quot;
    csv_file = &quot;2019_%02d_weather.csv&quot; % month
    csv_path = os.path.join(csv_dir, csv_file)
    
    # Also make sure the requested csv file does exist
    if not os.path.isfile(csv_path):
        return &quot;ERROR: file %s was not found on the server&quot; % csv_file
    # Send the file back to the client
    return send_file(csv_path, as_attachment=True, attachment_filename=csv_file)
</code></pre>
<p>Can a IPython or pandas serve a static file if IPython is hosted on a remote machine?</p>
",153,1,<pandas><jupyter-notebook><ipython><jupyter-lab><jupyterhub>,2022-04-28 13:37:55
72023378,Python Dropdown Menu to Choose Model to Show Accuracy and Confusion Matrix,"<p>I'm using ipywidgets to create a dropdown menu to choose from different models, and then have a confusion matrix visualization and accuracy score output. I have the dropdown menu created, but I do not know how to link this to different code to run the models and have this output shown.</p>
<p>Additionally, if you know how to create a button to save export the accuracies generated, that would be very appreciated.</p>
<pre><code># Dropdown menu
menu = widgets.Dropdown(
    options= ['Decision Tree', 'Random Forest'],
    value= 'Decision Tree',
    description='Selection:',
    disabled=False,
)
display(menu)

# First Model
dt = DecisionTreeClassifier(random_state=42)
dt = dt.fit(x_train, y_train)
y_dt = dt.predict(x_test)

matrix = confusion_matrix(y_test, y_dt)
sns.heatmap(matrix, annot=True)
plt.show()
print(accuracy_score(y_test, y_dt))
</code></pre>
",27,0,<python><ipywidgets>,2022-04-27 04:42:36
72020986,How to access remote Jupyter Labs instance IPython hosted from Ubuntu,"<p>I have a Linux Ubuntu computer on a LAN where I am attempting to run Jupiter labs on it a <a href=""https://jupyter-notebook.readthedocs.io/en/stable/public_server.html"" rel=""nofollow noreferrer"">Jupyter server</a> where I can dial into a Jupyter notebook via the web browser. Hopefully that makes sense I can hit IPython Jupyter lab instance via a web browser from a different machine. Its just on a test bench on my LAN so no need for server hardening or TLS/SSL or anything like that.</p>
<p>Odd thing that I am running into is Pandas isn't even installed on it and errors when I attempted to install. Python kernel in IPython is running ok. I tested with with <code>2*2</code> which returns <code>4</code> as expected but when I <code>pip install pandas</code> it errors. odd to me that the linux version of Anaconda does NOT include pandas? On a windows anaconda distribution I can pip install via the IPython cell no problems. Any tips appreciated troubleshooting first time experience working with Jupyter server and linux.</p>
<p>Very long error after this:</p>
<pre><code>Collecting pandas

Using cached https://files.pythonhosted.org/packages/99/f0/f99700ef327e51d291efdf4a6de29e685c4d198cbf8531541fc84d169e0e/pandas-1.3.5.tar.gz
  Installing build dependencies ... done
  Getting requirements to build wheel ... done
    Preparing wheel metadata ... done
Requirement already satisfied: numpy&gt;=1.17.3; platform_machine != &quot;aarch64&quot; and platform_machine != &quot;arm64&quot; and python_version &lt; &quot;3.10&quot; in /home/ben/snap/jupyter/common/lib/python3.7/site-packages (from pandas) (1.21.5)
Requirement already satisfied: python-dateutil&gt;=2.7.3 in /snap/jupyter/6/lib/python3.7/site-packages (from pandas) (2.8.0)
Collecting pytz&gt;=2017.3 (from pandas)
  Using cached https://files.pythonhosted.org/packages/60/2e/dec1cc18c51b8df33c7c4d0a321b084cf38e1733b98f9d15018880fb4970/pytz-2022.1-py2.py3-none-any.whl
Requirement already satisfied: six&gt;=1.5 in /snap/jupyter/6/lib/python3.7/site-packages (from python-dateutil&gt;=2.7.3-&gt;pandas) (1.12.0)
Building wheels for collected packages: pandas
  Building wheel for pandas (PEP 517) ... error
  ERROR: Complete output from command /snap/jupyter/6/bin/python /snap/jupyter/6/lib/python3.7/site-packages/pip/_vendor/pep517/_in_process.py build_wheel /tmp/tmpqm1ihgpj:
</code></pre>
<p>Bottom of the error:</p>
<pre><code>error: command 'gcc' failed: No such file or directory: 'gcc'
  ----------------------------------------
  ERROR: Failed building wheel for pandas
  Running setup.py clean for pandas
Failed to build pandas
ERROR: Could not build wheels for pandas which use PEP 517 and cannot be installed directly
Note: you may need to restart the kernel to use updated packages.
</code></pre>
",290,0,<python><pandas><linux><anaconda><jupyterhub>,2022-04-26 21:58:50
72014035,ipywidgets Label does not render any Latex,"<p>ipywidgets Label does not render any Latex formula.</p>
<p>I.e when I make labels in jupyterlab:</p>
<pre><code>import ipywidgets as widgets
from IPython.display import display
from IPython.display import Math, Latex
a = widgets.Label(value=r&quot;The $m$ in $\Huge E=mc^2$:&quot;)
b = widgets.Label(value = r'\(\color{red} {' + 'test'  + '}\)')
display(a, b)
</code></pre>
<p>I get this:</p>
<pre><code>The $m$ in $\Huge E=mc^2$:
\(\color{red} {test}\)
</code></pre>
<p>Was solved this by installing jupyterlab-matjax3. But this only worked till I restart Jupyterlab.</p>
<p>OS windows 10, Jupyter lab version 3.3.3</p>
",132,0,<jupyter-notebook><latex><jupyter-lab><ipywidgets>,2022-04-26 12:32:35
72013097,Increase text of the dropdown menu - Python,"<p>I am trying to create dropdown menu using the following code on Python.</p>
<pre><code>pqrs = ['Segment1', 'Segment2', 'Segment3']

#Segment Criteria
Segment_selected = widgets.Text()
# print('=' * term_size.columns)
# print('\n' +&quot;\033[1m&quot; + 'Select a Segment criteria for Selecting HCP Universe' + &quot;\033[0m&quot;)
# python code to run in jupyter notebook

from ipywidgets import interact, interactive, Layout
def lx(Segmentation):
    Segment_selected.value = str(Segmentation)
int_widget = interactive(lx, Segmentation=pqrs,)
int_widget.children[0].layout = Layout(width='400px',height = '40px')
display(int_widget)
</code></pre>
<p>This is generating the following output:
<a href=""https://i.stack.imgur.com/XdR6V.png."" rel=""nofollow noreferrer"">Code Output</a></p>
<p>Now, the problem is I want to show the complete text on the left side of the dropdown. It appears as &quot;Segmentati...&quot; in my case which I want it to be &quot;Segmentation&quot; in my case. But I am unable to do so.</p>
<p>Can you please help me?</p>
",105,1,<python><pandas><jupyter-notebook><interactive><ipywidgets>,2022-04-26 11:26:02
72005836,using interactive_output in ipywidgets to manage the layout of multiple input widgets to create a more user-friendly interface,"<p>Working on an interactive viz in Jupyter notebboks and get an attribution error, I tried upgrading widgets, didn't work.</p>
<pre><code>    import ipywidgets as widgets
    from ipywidgets import interact
    one = widgets.IntSlider(min=0,          max =10)
    two = widgets.IntSlider(min=0, max=100)
    three = widgets.IntSlider(min=0, max=1000)
    ui = widgets.Hbox([one,two,three] ` ` `
                    
----&gt;`AttributeError                            Traceback (most recent call last)
 C:\Users\LARRYD~1\AppData\Local\Temp/ipykernel_16808/2257911237.py in &lt;module&gt;
  4 two = widgets.IntSlider(min=0, max=100)
  5 three = widgets.IntSlider(min=0, max=1000)
----&gt; 6 ui = widgets.Hbox([one,two,three])

 AttributeError: module 'ipywidgets' has no attribute 'Hbox'

 def func(x,y,z):
 print (f&quot;The first value is: {x+2}&quot;)
 print(f&quot;The second value is: {y*2}&quot;)
 print(f&quot;The third value is {z**2}&quot;)
 out = widgets.interactive_output(func, {'x': one, 'y' : two, 'z':
 tree}) display(ui, out)


 NameError: name 'ui' is not defined
</code></pre>
",341,0,<python><ipywidgets>,2022-04-25 21:16:47
72000779,"Spyder - combination Mpi4Py, SpyderConsole and retrieving variables","<p>Ok a bit of background first - I'm intensely working on a Python implementation of Grammatical Evolution. So far I've managed to solve a lot of deployment issues, optimisations regarding exec, strings and class methods.
Currently I'm working on multi-threading and after getting a large amount of advice from different sources I decided to use Mpi4py since it is already featured in the PyOpus library that I'm using as part of my framework.</p>
<p>Running the example directly from windows command line works like a charm, but I've created a hypothetical situation in my head that I would like to solve (or discover that it is too much of a hassle).</p>
<p>The issue:
I'm running this piece of code from a separate file as suggested by <a href=""https://stackoverflow.com/questions/55858787/spyder-ide-run-file-with-mpiexec"">Sypder community</a>:</p>
<pre><code>from IPython import get_ipython
ip = get_ipython()
ip.run_cell(&quot;!mpiexec -n 4 python myfile.py&quot;)
</code></pre>
<p>The original file contents are simple:</p>
<pre><code>from pyopus.parallel.cooperative import cOS
from pyopus.parallel.mpi import MPI
from funclib import jobProcessor

if __name__=='__main__':
    # Set up MPI
    cOS.setVM(MPI())
    
    # This generator produces 100 jobs which are tuples of the form
    #   (function, args)
    jobGen=((jobProcessor, [value]) for value in range(100))
    
    # Dispatch jobs and collect results
    results=cOS.dispatch(jobList=jobGen, remote=True)

    # Results are put in the list in the ame order as the jobs are generated by jobGen
    print(&quot;Results: &quot;+str(results))

    # Finish, need to do this if MPI is used
    cOS.finalize()
</code></pre>
<p>Now the question - how do I access the results variable? Because running the file leaves me with the ip object and no idea how to access the variables stored within (or even knowing if the results exist within it).</p>
<p>Thank you!</p>
",38,0,<python><mpi><jupyter-irkernel>,2022-04-25 13:59:50
71995117,Interact Ipywidget form with a function,"<p>I created a form with Ipywidget, but got some problems to &quot;link&quot; the chosen drop-down option with the &quot;naïve&quot; function <em>f1</em>.</p>
<pre><code>
import warnings
warnings.filterwarnings('ignore')

from ipywidgets import Layout, Button, Box, FloatText, Textarea, Dropdown, Label, IntSlider, widgets

form_item_layout = Layout(
    display='flex',
    flex_flow='row',
    justify_content='space-between'
)

form_items = [
    Box([Label(value='Material 1'), 
        Dropdown(options=crude.columns)], layout=form_item_layout),

    Box([Label(value='Material 2'),
        Dropdown(options=refinery['Material'].unique())], layout=form_item_layout)
]

form = Box(form_items, layout=Layout(
    display='flex',
    flex_flow='column',
    border='solid 2px',
    align_items='stretch',
    width='30%'
))


def f1(material):
    print(material)

w = interact(f1, material=form._trait_values['children'][1])

display(w)

</code></pre>
<p>I've been trying to open the methods and attributes, but got no success for while...</p>
<p>How can I put the selected box' item into the function?</p>
",47,0,<python><ipywidgets>,2022-04-25 06:08:55
71970355,`ipywidgets.interact` shows the widget itself but does not apply the function in the argument (Jupyter Notebook),"<p>I have a problem that interactive objects from <code>ipywidgets</code> do not work in Jupyter Notebook on my computer. The widget itself is displayed but the function that it should control (e.g. drawing graph with changing parameter), seemingly, does not run. I took example from documentation and it does not work.</p>
<p><a href=""https://i.stack.imgur.com/x2Dtd.png"" rel=""nofollow noreferrer"">The picture of code and output</a></p>
<p>Code:</p>
<pre><code>import ipywidgets
import widgetsnbextension

def greeting(text=&quot;World&quot;):
    print(&quot;Hello {}&quot;.format(text))
ipywidgets.interact(greeting, text=&quot;IPython Widgets&quot;)
</code></pre>
<p>What have I already tried:</p>
<ol>
<li>There were similar questions, like <a href=""https://stackoverflow.com/questions/36351109/ipython-notebook-ipywidgets-does-not-show"">this</a> but the answer didn't work for me (the answer was to run this:
<code>jupyter nbextension enable --py widgetsnbextension</code>).</li>
<li>The code above works in GoogleColab so I tried to install their versions of packages <code>ipython</code> and <code>ipykernel</code> (packages <code>ipywidgets</code> and <code>widgetsnbextensions</code> were of the same version as mine). But it has led to errors so I have given up this idea. I have the latest versions of all packages now and I don't have Anaconda.</li>
</ol>
<p>What should I try next? May be I am wrong and the problem has a different cause?</p>
",361,1,<python><jupyter-notebook><ipython><ipywidgets>,2022-04-22 14:24:56
71969387,Jupyter Lab - Use input() while interacting with a ipywidget and for it to execute observe method and thus update the widget,"<p>In jupyterlab, I'm using a ipywidget consisting of nested Tab widgets with a HTML widget for each leaf Tab children. I was wondering is it possible to interact with this ipywidget while waiting for input using input() . I'm loading strings into the HTML widget when Tab.selected_index changes using observe() because jupyterlab complains about too many operations or something like that but because of input blocking nothing is happening.</p>
<p>So in pseudocode</p>
<ol>
<li>I create the widget <code>Tab_5</code> a Tab Widget which for each Tab has another Tab Widget associated with it. Eg Queries have associated tabs 1-10, 11-20 are top level tabs and Tabs 1,2,3,4,5,6,7,8,9,10 are nested under Tab 1 - 10 etc</li>
<li>create <code>def on_value_change(change)</code></li>
</ol>
<pre><code>        if len(Tab_5.children[Tab_5.selected_index].children[Tab_5.children[Tab_5.selected_index].selected_index].value) == 0:
            index = 10 * Tab_5.selected_index + Tab_5.children[Tab_5.selected_index].selected_index
            Tab_5.children[Tab_5.selected_index].children[Tab_5.children[Tab_5.selected_index].selected_index].value = &quot;&lt;div style ='line-height: normal;'&gt;&quot;+ descList[index] + &quot;&lt;br&gt;&lt;br&gt;&quot;+ str(queryStrings[index]) + &quot;&lt;br&gt;&lt;br&gt;&quot; + str(responses[index]) + &quot;&lt;/div&gt;&quot;
</code></pre>
<ol start=""3"">
<li>assign it to the children widgets using <code>Tab_5.children[i].observe(on_value_change, names='selected_index')</code>, <code>Tab_5.observe(on_value_change, names='selected_index')</code></li>
</ol>
<p>So I looked at <a href=""https://ipywidgets.readthedocs.io/en/latest/examples/Widget%20Asynchronous.html"" rel=""nofollow noreferrer"">https://ipywidgets.readthedocs.io/en/latest/examples/Widget%20Asynchronous.html</a> and didn't really understand it and tried doing stuff with the last example.</p>
<p>Basically I'm running some queries using an API and I want to see my past queries in the tabbed interface before choosing to continuing on with future queries with the same parameters apart from one which is incremented. But at the moment, the tabbed widget is not updating while waiting for input.</p>
<p>So previously I generated some Markdown as output but it become really slow. I also at one stage used</p>
<pre><code>    from IPython.core.getipython import get_ipython
    shell = get_ipython()
    payload = dict(
        source='set_next_input',
        text=contents,
        replace=False,
    )
    shell.payload_manager.write_payload(payload, single = False)
    
create_new_cell(&quot;&quot;.join(output))
</code></pre>
<p>which created a new code cell which needed to be manually turned into a Markdown cell. (You can programmatically create a cell in Jupyter Notebook but not Jupyter Lab)</p>
<p>So do I need to do something with threads or asyncio? Is this possible or can I accomplish this in a better way by having a widget for the input?</p>
<p>Any suggestions?</p>
",230,0,<python><multithreading><jupyter-lab><ipywidgets>,2022-04-22 13:16:01
71963086,Jupyter dropdown menu to choose graph based on column name,"<p>I would like to make a dropdown menu that shows each column name from the dataset, and the user can choose a column to visualize the data.
With Python this code is:</p>
<pre><code>for i in df.columns:
    plt.figure(figsize = (10,6))
    plt.title(&quot;Count vs &quot;+i)
    sns.histplot(data = df, x = i, element = 'bars')
</code></pre>
<p>I have tried the following code, which does not account for each column name, nor does it output charts similar to the above code.</p>
<pre><code>def f(x):
    return x

def f(age):
    df.loc[age].iplot(
                    xTitle='Year', 
                    yTitle='Count of {}'.format(age),
                    title='Count per Age'
                     )

interact(f, age=df.index)
</code></pre>
",299,0,<python><jupyter-notebook><ipython><jupyter><ipywidgets>,2022-04-22 03:15:01
71962786,Jupyter connection closed while downloading large file,"<p>I try to download file from my juputerhub notebook with 'download' button.When the file's smaller than 100mb,everything works fine.But when the file is larger than 100mb,it comes with &quot;503:service uavalable&quot;.&quot;503 connection closed&quot; in log file.I assume there maybe some error with my &quot;jupyterhub_config.py&quot;,but how can i fix it</p>
",104,0,<jupyter-notebook><jupyter><jupyterhub>,2022-04-22 02:22:25
71958492,How to get basic ipywidgets text box working properly in JupyterLab 3.2.9?,"<p>I'm playing with the Reddit API and I'd like to have a basic text box for the user to input a subreddit to search. I want this interactivity so that I can (hopefully) post my notebook on github or nbviewer and have someone else try it. When I try to run my code, several things happen:</p>
<ol>
<li>The notebook continues to execute code cells instead of waiting for user to input a subreddit</li>
<li>If I execute the cells manually, I can get the text box to appear, but then nothing happens when I hit 'Enter'.</li>
</ol>
<p>Below is my code:</p>
<pre><code>def onchange(change):
    with caption:
        print(change.value)
        
sub = widgets.Text(placeholder='Enter subreddit', description='r/')
caption = widgets.Output()

display(sub)
sub.on_submit(onchange)
</code></pre>
<p>And here is what it looks like when I execute the cell manually:</p>
<p><a href=""https://i.stack.imgur.com/AJeO6.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/AJeO6.png"" alt=""My cell output"" /></a></p>
",609,1,<python><jupyter-notebook><jupyter-lab><ipywidgets>,2022-04-21 17:21:50
71946199,Control display of an ipyvuetify page by a dropdown works in notebook not in voila,"<p>I have encountered another working in notebook but not in voila issue. I have tried for a couple of hours but feel like I am still missing something and therefore seeking expert opinions here.</p>
<p>I have a function <code>create_pages_and_run()</code> that takes in a dictionary, d,  as an input to generate a dashboard (the data type is ipyvuetify.generated.App.App). The dictionary can be retrieved from a json file scenario_dict using a country name as key where I designed a dropdown to collect the country name.</p>
<p>The purpose is to ask user to select a country name and the page will be redrawn/refreshed. I have the following code that works in notebook but not in Voila. (Works means that when a new country name is selected, the dashboard is displayed with the widgets using data from that countries)</p>
<pre class=""lang-py prettyprint-override""><code>scenario_dropdown = widgets.Dropdown(
    options=all_scenarios,
    value=initial_scenario,
    description=&quot;Scenario&quot;,
    layout=widgets.Layout(margin=&quot;0 20px 0 0&quot;, height=&quot;39px&quot;, width=&quot;15%&quot;),
)

d = scenario_dict[initial_scenario]
app = create_pages_and_run(d)

#the below code works for notebook
def on_change(change):
    global d, app
    if change[&quot;name&quot;] == &quot;value&quot; and (change[&quot;new&quot;] != change[&quot;old&quot;]):
        d = scenario_dict[change[&quot;new&quot;]]
        app = create_pages_and_run(d)
        clear_output()
        display(app)

scenario_dropdown.observe(on_change)
</code></pre>
<p>My failed code using ipywidgets.Output is as below. (Failed in the sense, after selecting country name in the dropdown no change is observed).</p>
<pre class=""lang-py prettyprint-override""><code>scenario_dropdown = widgets.Dropdown(
    options=all_scenarios,
    value=initial_scenario,
    description=&quot;Scenario&quot;,
    layout=widgets.Layout(margin=&quot;0 20px 0 0&quot;, height=&quot;39px&quot;, width=&quot;15%&quot;),
)

d = scenario_dict[initial_scenario]
app = create_pages_and_run(d)
out  = widgets.Output()
with out:
    display(app) 

# the code works failed for voila
def on_change(change):
    global d, app, out
    if change[&quot;name&quot;] == &quot;value&quot; and (change[&quot;new&quot;] != change[&quot;old&quot;]):
        d = scenario_dict[change[&quot;new&quot;]]
        app = create_pages_and_run(d)
        out.clear_output()
        with out:
            display(app)
        display(out)

scenario_dropdown.observe(on_change)
</code></pre>
<p>I appreciate your help, thanks.</p>
",92,0,<jupyter-notebook><ipywidgets><voila><ipyvuetify>,2022-04-20 21:07:37
71939867,How to enable authentication via openLDAP on JupyterHub without SSL certificate?,"<p>I am trying to create a JupyterHub that uses an LDAP to authenticate users.</p>
<p>The JupyterHub is working but when I am trying log on the web page show a Error 500.</p>
<p>I must clarify that when I tried it with the PAM method it worked without problems, but when configuring it to use the LDAP it started to fail.</p>
<p>I am using docker-compose. I currently have three containers:</p>
<h1>1. JupyterHub:</h1>
<pre><code>jupyter:
  build:
    context: ./jupyterhub
  ports:
    - &quot;8380:8000&quot;
  environment:
    VIRTUAL_HOST: jupyter.probandofran.eu
    LETSENCRYPT_HOST: jupyter.probandofran.eu
    VIRTUAL_PORT: 8000
  restart: on-failure
  depends_on:
    - jupyterlab      
    - revproxy-letsencrypt
  volumes:
    - ${VOLUMES_BASE_PATH}/jupyter:/home
    - /var/run/docker.sock:/var/run/docker.sock:ro
  healthcheck:
    test: curl --fail -s http://jupyter:8000/ || exit 1
    interval: 10s # time between tests
    timeout: 5s # time waiting for a response
    start_period: 30s # time from launch when the failed tests are ignored
    retries: 5 # countdown of failed tests
</code></pre>
<h1>2.Jupyterlab:</h1>
<pre><code>jupyterlab:
  build:
    context: ./jupyterlab
  image: ngd-jupyterlab
  command: echo
  healthcheck:
    test: curl --fail -s http://jupyterlab:8080/ || exit 1
    interval: 10s # time between tests
    timeout: 5s # time waiting for a response
    start_period: 30s # time from launch when the failed tests are ignored
    retries: 5 # countdown of failed tests
</code></pre>
<h1>3. OpenLDAP</h1>
<pre><code>openldap:
  image: docker.io/bitnami/openldap:2.6
  ports:
    - '1389:1389'
    - '1636:1636'
  environment:
    - LDAP_ENABLE_TLS=no
    - LDAP_ADMIN_USERNAME=admin
    - LDAP_ADMIN_PASSWORD=adminpassword
    - LDAP_USERS=user1,user02
    - LDAP_PASSWORDS=user1,password2
  volumes:
    - 'openldap_data:/bitnami/openldap'
</code></pre>
<p>I think the problem is in the JupyterHub configuration file</p>
<h1>jupyterhub_config.py</h1>
<pre><code>    from jupyter_client.localinterfaces import public_ips
    ip = public_ips()[0]

    c.Spawner.default_url = '/lab'
    c.Authenticator.admin_users = {'fran'}
    c.JupyterHub.admin_access = False
    in_docker_compose = True  # &quot;False&quot; for standalone testing (for instance, to check changes to Jupyterlab image)
    c.JupyterHub.hub_ip = ip if not in_docker_compose else '0.0.0.0'
    # 'jupyter' is the name of Jupyterhub service in &quot;docker-compose&quot; file
    c.JupyterHub.hub_connect_ip = '' if not in_docker_compose else 'jupyter'
    if in_docker_compose:
        c.DockerSpawner.network_name = 'webproxy'  # Should match the network name used in the docker compose file
    c.JupyterHub.spawner_class = 'dockerspawner.DockerSpawner'
    c.DockerSpawner.image = 'ngd-jupyterlab'  # 'jupyter/datascience-notebook:r-4.0.3'
    notebook_dir = &quot;/home/jovyan/&quot;
    c.DockerSpawner.notebook_dir = notebook_dir
    c.DockerSpawner.volumes = {'jupyterhub-user-{username}': dict(bind=notebook_dir, mode=&quot;rw&quot;)}
    c.DockerSpawner.use_internal_ip = True
    c.DockerSpawner.remove_containers = True
    c.DockerSpawner.remove = True

    # c.DockerSpawner.extra_host_config = { 'network_mode': network_name }
    c.JupyterHub.authenticator_class = 'ldapauthenticator.LDAPAuthenticator'
    c.LDAPAuthenticator.lookup_dn = False
    c.LDAPAuthenticator.bind_dn_template = [
        &quot;uid={username},ou=people,dc=wikimedia,dc=org&quot;,
        &quot;cn={username},ou=users,dc=example,dc=org&quot;
    ]


    # c.JupyterHub.allow_named_servers = False
    # c.JupyterHub.authenticator_class = 'jupyterhub.auth.PAMAuthenticator'
    c.JupyterHub.cleanup_proxy = True
    c.JupyterHub.cleanup_servers = True
    c.LDAPAuthenticator.server_use_ssl = False
    c.LDAPAuthenticator.use_ssl = False
    c.LDAPAuthenticator.server_address = 'openldap' 
    c.LDAPAuthenticator.server_port = 1389
    c.LDAPAuthenticator.user_search_base = 'dc=example,dc=org'
    # c.JupyterHub.reset_db = True
</code></pre>
<p>When I use the docker-compose up it show:</p>
<pre><code>
    jupyter_1               | [E 2022-04-20 11:57:07.496 JupyterHub web:1789] Uncaught exception POST /hub/login?next=%2Fhub%2F (192.168.112.1)
    jupyter_1               |     HTTPServerRequest(protocol='http', host='jupyter.probandofran.eu', method='POST', uri='/hub/login?next=%2Fhub%2F', version='HTTP/1.1', remote_ip='192.168.112.1')
    jupyter_1               |     Traceback (most recent call last):
    jupyter_1               |       File &quot;/usr/local/lib/python3.8/dist-packages/tornado/web.py&quot;, line 1704, in _execute
    jupyter_1               |         result = await result
    jupyter_1               |       File &quot;/usr/local/lib/python3.8/dist-packages/jupyterhub/handlers/login.py&quot;, line 151, in post
    jupyter_1               |         user = await self.login_user(data)
    jupyter_1               |       File &quot;/usr/local/lib/python3.8/dist-packages/jupyterhub/handlers/base.py&quot;, line 804, in login_user
    jupyter_1               |         authenticated = await self.authenticate(data)
    jupyter_1               |       File &quot;/usr/local/lib/python3.8/dist-packages/jupyterhub/auth.py&quot;, line 473, in get_authenticated_user
    jupyter_1               |         authenticated = await maybe_future(self.authenticate(handler, data))
    jupyter_1               |       File &quot;/usr/local/lib/python3.8/dist-packages/ldapauthenticator/ldapauthenticator.py&quot;, line 382, in authenticate
    jupyter_1               |         conn = self.get_connection(userdn, password)
    jupyter_1               |       File &quot;/usr/local/lib/python3.8/dist-packages/ldapauthenticator/ldapauthenticator.py&quot;, line 314, in get_connection
    jupyter_1               |         conn = ldap3.Connection(
    jupyter_1               |       File &quot;/usr/local/lib/python3.8/dist-packages/ldap3/core/connection.py&quot;, line 355, in __init__
    jupyter_1               |         self.do_auto_bind()
    jupyter_1               |       File &quot;/usr/local/lib/python3.8/dist-packages/ldap3/core/connection.py&quot;, line 374, in do_auto_bind
    jupyter_1               |         self.start_tls(read_server_info=False)
    jupyter_1               |       File &quot;/usr/local/lib/python3.8/dist-packages/ldap3/core/connection.py&quot;, line 1264, in start_tls
    jupyter_1               |         if self.server.tls.start_tls(self) and self.strategy.sync:  # for asynchronous connections _start_tls is run by the strategy
    jupyter_1               |       File &quot;/usr/local/lib/python3.8/dist-packages/ldap3/core/tls.py&quot;, line 277, in start_tls
    jupyter_1               |         raise LDAPStartTLSError(connection.last_error)
    jupyter_1               |     ldap3.core.exceptions.LDAPStartTLSError: startTLS failed - protocolError
    jupyter_1               |     

</code></pre>
<p>It's my first time posting on stackOverflow, I'm sorry if I made any mistake posting.</p>
",260,1,<docker-compose><openldap><jupyterhub>,2022-04-20 12:42:49
71924354,Nbconvert 5.6.1 doesn't want to install,"<p>I am trying to install nbconvert 5.6.1 with this command:</p>
<p>sudo -E pip install --upgrade nbconvert==5.6.1</p>
<p>and it said that it is successfully installed.</p>
<p>But after running command jupyter --version I get this:</p>
<p>Selected Jupyter core packages...</p>
<p>IPython          : 7.30.1</p>
<p>ipykernel        : 6.6.0</p>
<p>ipywidgets       : 7.6.5</p>
<p>jupyter_client   : 6.1.12</p>
<p>jupyter_core     : 4.9.1</p>
<p>jupyter_server   : 1.13.1</p>
<p>jupyterlab       : 3.2.5</p>
<p>nbclient         : 0.5.9</p>
<p>nbconvert        : not installed</p>
<p>nbformat         : 5.1.3</p>
<p>notebook         : 6.4.4</p>
<p>qtconsole        : 5.2.2</p>
<p>traitlets        : 5.1.1</p>
<p>It is like my jupyter doesn't recognize nbconvert 5.6.1 version.</p>
<p>I need jupyter 5.6.1 because my generate feedback is not working.</p>
<p>When I install any version of nbconverter 6.x.x it recognizes it.</p>
<p>How do I fix this problem?</p>
",401,0,<python><jupyter-notebook><jupyter><jupyterhub><nbconvert>,2022-04-19 11:39:40
71912377,JupyterHub installation in windows using docker,"<p>I want to install JupiterHub using Docker (my operating system is Windows). I have done the installation steps and I am running JupiterHab, when I login to jupyterhub as an admin or user in browser, I get the following error:</p>
<p>Spawn failed: Server at <a href=""http://127.0.0.1:44325/user/zahra/"" rel=""nofollow noreferrer"">http://127.0.0.1:44325/user/zahra/</a> didn't respond in 30 seconds</p>
<p>i edited the jupyterhub config file and added these lines:</p>
<p>import pwd, subprocess</p>
<p>c.JupyterHub.authenticator_class = 'nativeauthenticator.NativeAuthenticator'</p>
<p>c.Authenticator.admin_users = {'admin'}</p>
<p>def pre_spawn_hook(spawner):</p>
<pre><code>username = spawner.user.name

try:

    pwd.getpwnam(username)

except KeyError:

    subprocess.check_call(['useradd', '-ms', '/bin/bash', username])
</code></pre>
<p>c.Spawner.pre_spawn_hook = pre_spawn_hook</p>
<p>c.Spawner.default_url = '/lab'</p>
<p>Help me please</p>
",78,0,<docker><spawn><jupyterhub>,2022-04-18 13:22:34
71910707,Plotly Ipywidgets - Interactive - Accessing cross sample for figure output,"<p>I am new to plotly and ipywidgets</p>
<p>I want to create a <code>fig</code> that has two board of controllers, called <code>control1</code> and <code>control2</code>. In which, <code>control1</code> is a set of widgets allow me to modify to data. Then in <code>control2</code> I want to access the data in <code>control1</code> for further analysis and display.</p>
<p>The simple solution for this is to combine <code>control1</code> and <code>control2</code> as a single <code>control</code> board. However, I have many filter and this makes it does not look very nice so I want to separate them.</p>
<p>Let me illustrate with a simple data:</p>
<pre><code>   comp  year  val1  val2
0     a  2000    89    19
1     a  2001    47    91
2     a  2002    50    25
3     a  2003    63     5
4     a  2004    40    28
5     a  2005    79    53
6     b  2000    26    57
7     b  2001    19    75
8     b  2002    72    89
9     b  2003    74     7
10    b  2004    49    11
11    c  2000    35    62
12    c  2001    50    23
13    c  2002    32    40
14    c  2003    83    60
15    d  2000    91    71
16    d  2001    61    64
17    d  2002    29    80
18    d  2003   100    48
19    d  2004    38    41
20    d  2005    75    38
</code></pre>
<p>Creating figure by:</p>
<pre><code>import ipywidgets as widgets
import pandas as pd
import plotly.graph_objects as go

# Import data
df = pd.read_csv('test_interactive.csv')

# Creating figure
data = go.Scattergl(x=df['val1'],
                    y=df['val2'],
                    mode='markers')
layout = go.Layout(title='Some Title')
fig = go.FigureWidget(data=data, layout=layout)

# Create `control1` board:
def graph_filter(comp, year):
    # filter by 'comp' and 'year':
    tem = df[(df['comp'] == comp) &amp; (df['year'] == year)]
    
    fig.data[0].x = tem['val1']
    fig.data[0].y = tem['val2']
    
control1 = widgets.interactive(
    graph_filter,
    comp=widgets.Dropdown(
        options=df['comp'].unique(),
        value='a',
        disabeled=False,
        description='Select Comp'),
    year=widgets.Dropdown(
        options=df['year'].unique(),
        value=2000,
        description='Select Year',
        disabeled=False)
)
</code></pre>
<p>Now I want to create another <code>control2</code> which I can access data filter after <code>control1</code> for further analysis but I don't know how to.</p>
<pre><code>control2 = ???
</code></pre>
<p>Thank you</p>
",19,0,<plotly><plotly-dash><plotly-python><ipywidgets>,2022-04-18 10:38:54
71891044,"interact, panel in Python","<p>I am very new to Python.
I am trying to create a panel with MC Simulation.  I would like to have an input selector for trading years.</p>
<p>This is what I have:</p>
<pre><code>@widgets.interact(options=[1, 5, 10, 15, 20, 30])
def plot_age(options):
    
    simulation_ew = MCSimulation(
                      portfolio,
                      weights=equal_weights(portfolio),
                      num_simulation=50,
                      num_trading_days=252*options)
    clear_output(wait=True)
    simulation_ew.calc_cumulative_return() 
    display(simulation_ew)  
</code></pre>
<p>But I don't know how to have this in a panel object.</p>
",66,0,<python><ipywidgets>,2022-04-16 04:15:51
71877253,Selecting IntSlider widget by running code in Jupyter Lab,"<p>In Jupyter Lab when the ipywidgets.IntSlider object is selected I can use the arrow keys to change its value interactively. Is it possible to select the IntSlider widget (or any widget) by running some code so that I don't have to click on it to be able to interact with it? Please see sample code below.</p>
<p>Use-case: I'm using some functionalities to set the value of an IntSlider. It would be nice to be able to interact with it using the arrow keys right after the value change without having to click on it.</p>
<pre><code>import ipywidgets as w
w_int = w.IntSlider(
    value=7,
    min=0,
    max=10,
)
display(w_int)
# How can I select widget w_int at this point?
</code></pre>
",82,0,<python><jupyter-notebook><jupyter-lab><ipywidgets>,2022-04-14 20:24:10
71864898,How do I load a .sql file in a python environment?,"<p>I have a .sql file which I'm trying to load in an online Python environment (JupyterHub) but other code I've found online has just left me confused. I've gotten as far as:</p>
<pre><code>import sqlite3
from sqlite3 import connect
sqlite_uri = &quot;sqlite:///basketball.db&quot;
sqlite_engine = sqlalchemy.create_engine(sqlite_uri)

connection = sqlite3.connect(&quot;:memory:&quot;)

cursor = connection.cursor()

sql_file = open(&quot;travel-times.sql&quot;)

travel = sql_file.read()
travel

sql_expr = &quot;&quot;&quot;
SELECT *
FROM travel;
&quot;&quot;&quot;

pd.read_sql(sql_expr, sqlite_engine)

</code></pre>
<p>and calling the 'travel' object does at least print the data in raw form, but from there I'm at a loss to actually load the table from here. What commands would accomplish this?</p>
",47,0,<python><sql><sqlite><jupyter-notebook><jupyterhub>,2022-04-13 23:37:46
71832558,How can I update the R home directory in Jupyter Lab?,"<p>I am having a hard time updating my R version in Jupyter Lab.  I downloaded the most recent R version (4.1.3), but Jupyter still appears to be pointing at the wrong R folder / old version of R (4.1.0).  Can someone help me with how to update which version of R jupyter is using?</p>
<p>I don't use Conda, which may complicate things.</p>
<p><a href=""https://i.stack.imgur.com/YdFfA.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/YdFfA.png"" alt=""enter image description here"" /></a></p>
<p><a href=""https://i.stack.imgur.com/qhCU0.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/qhCU0.png"" alt=""enter image description here"" /></a></p>
",25,0,<r><jupyter><jupyter-lab><jupyter-irkernel>,2022-04-11 18:22:59
71828657,ipywidgets and plotly problem. Plot not being displayed after first call,"<p>I am trying to create a dashboard that contains plotly graphs and ipython widgets inside a jupyter notebook. But i'm having a very annoying problem: the function doesn't show any chart when the cell is executed for the first time. It only shows after interacting with its widgets for the first time and the plot is refreshed.</p>
<p>Note:
I have to use <code>interactive_output</code> because i want to change the layout.
The problem doesn't occur when i use <code>interact</code> or <code>interactive</code> instead of
<code>interactive_output</code>.</p>
<p>Here you can see an example code where this problem happens:</p>
<pre><code>a = widgets.IntSlider(value=10)
b = widgets.IntSlider()
c = widgets.IntSlider()
ui = widgets.HBox([a, b, c])
def f(a, b, c):
    fig = go.Figure()
    fig.add_trace(go.Scatter(x=[a,b,c], y=[a,b,c],
                    mode='lines',
                    name='Shear'))
    fig.show()
    

out = widgets.interactive_output(f, {'a': a, 'b': b, 'c': c})
display(ui, out)
</code></pre>
<p>I want the plot to be displayed once I run the code without needing to interact with the widgets before. How can i solve this?</p>
<p>Thank you for your time.</p>
",406,0,<python><jupyter-notebook><plotly><ipython><ipywidgets>,2022-04-11 13:24:36
71827389,How to continue in computation process in Jupyter notebook on different device,"<p><strong>Background info:</strong>
I have a situation when I do the computation on some device (let's say device A). After some time I would like to transfer to other device (let's say mobile device B) and continue in the same computational process as I started on device A.</p>
<p><strong>Problem:</strong>
When I open the notebook on device B there is a problem with the cell presently running. There is no continuous output visible on device B (let's say every 5 seconds there should be some checkpoint visible). It is like the cell is not even running. It's marked ([ ]) instead of ([*]). This way I have no idea when the computation will stop or how the output looks like on device B.</p>
<p><strong>My effort:</strong>
What I have tried so far is to reconnect to a kernel on device B with no results. Also I can see that on device B the kernel is not active which in my opinion means that I have to somehow (re)connect to the running kernel on device A. There is an option to switch kernels with possibility to &quot;choose kernel from other session&quot; (I assume this is the solution). But I cannot find a way to connect to a kernel from session on device A.</p>
<p><strong>Bonus info:</strong>
I use Binderhub, not pure Jupyter notebooks</p>
",52,0,<jupyter-notebook><jupyter><jupyter-lab><jupyterhub><binderhub>,2022-04-11 11:54:01
71805549,How to use ipywidgets in jupyter-notebook without Internet,"<p>I have developed interactive application in python using jupyter notebook with ipywidgets and use voila to run the notebook.
On my development system (with internet) I have the application working flawlessly. But on the system without internet the application does not load. On inspection with developer tools, the web application is trying to load scripts from <a href=""https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS_CHTML-full,Safe"" rel=""nofollow noreferrer"">mathjax</a>, <a href=""https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@%5E5/css/all.min.css"" rel=""nofollow noreferrer"">font-awesome</a>  and <a href=""https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@%5E5/css/v4-shims.min.css"" rel=""nofollow noreferrer"">here</a></p>
<p>If anyone could guide me on how to workaround this problem ? Run jupyter notebook application with ipywidgets without internet. Can we change some settings / configuration to use the static copy of these dependencies?</p>
<p>---- Update
On the system without internet, running jupyter lab and notebook and running the cells works perfectly fine. I am able to view the font-awesome icons and other ipywidgets. This issue is observed only using voila</p>
<p>Thanks in advance for your help.</p>
",126,2,<jupyter-notebook><ipywidgets><voila>,2022-04-09 05:42:52
71772798,Smartcard LDAP Authentication for Jupyter Hub,"<p>We are in the process of setting up a Jupyter Hub instance and want to use LDAP authentication. To do so we are currently using the jupyterhub-ldap-authenticator GitHub package, which works when logging in with a username and password, but we use smartcards for all of our other authentication needs.</p>
<p>So far I haven't been able to find any documentation for smartcard/token LDAP authentication with JupyterHub. Has anybody successfully configured this as an option? We were originally planning on using Apache httpd for the LDAP authentication into JupyterLab without using Hub at all, which worked for authentication with the smartcards, but we were unable to get the proxy to work with the websockets, so the terminal and interpreter failed to work.</p>
",47,0,<ldap><jupyter-lab><smartcard><jupyterhub>,2022-04-06 19:48:10
71766191,Creating a publicly distributed Jupyter Notebook from Github repo,"<p>I have an online course (<a href=""https://github.com/dendibakh/perf-ninja"" rel=""noreferrer"">Performance Ninja</a>), which I would like to turn into a publicly distributed Jupyter Notebook. The course is hosted on Github. There I have the source code for the lab assignments that students need to work on. They need to fix the issue by changing the code and submit (git push) their work. It will be picked up by Github Actions and sent to my remote server, which is appropriately configured for performance benchmarking. Thus, I don't rely on virtualized CI machines offered by Github for example, they are not suitable for performance measurements.</p>
<p>I want to make a Jupyter Notebook, which will be a view into my Github repo. It will provide nice interface, ability to focus on the part of the code that matters (kernel of the benchmark), and have a simple way of submitting solutions for automated benchmarking (just hit Shift-Enter).</p>
<p>I was looking at JupyterHub. It should work nicely, but then the issue is that I have to have a public static IP for the JupyterHub server.</p>
<p>Ideally, I would like to be able to trigger Github Actions workflow from the Jupyter Notebook itself. A user (student) would authenticate themselves with Github, change the code and hit Shift-Enter, which will trigger Github Actions (maybe pushing the code to a private branch).</p>
<p>I assume I’m not the first person facing a similar problem. I would like to hear from people with experience, what would be my best option here?</p>
",366,10,<jupyter-notebook><github-actions><jupyterhub>,2022-04-06 11:46:23
71736282,ipywidgets button tooltip font,"<p>when implementing a button with ipywidgets the way to add a tooltip is:</p>
<pre><code>import ipywidgets as wd
mybtn = wd.Button(description='load',
                       disabled=False,
                       button_style='', # 'success', 'info', 'warning', 'danger' or ''
                       tooltip='this will happen:... this will happen:...this will happen:...this will happen:...this will happen:...this will happen:...this will happen:...this will happen:...this will happen:...',
                       icon='',
                       layout=layout_btn)
mybtn.style.button_color = '#90ee90' # or 'lightgreen' or 'rgb(144,238,144)'
mybtn
</code></pre>
<p>that results in:</p>
<p><a href=""https://i.stack.imgur.com/mfDcL.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/mfDcL.png"" alt=""enter image description here"" /></a></p>
<p>How can I make the tooltip font bigger?</p>
",61,1,<css><button><tooltip><ipywidgets>,2022-04-04 11:13:47
71735687,python ipywidgets button clicked with CONTROL combination,"<p>The typical way to create a button in python with widgets is as follows:</p>
<pre><code>button = wd.Button(description = &quot;Click&quot;)
output = wd.Output()
display(button, output)

def on_button_clicked(b):
    with output:
        print(&quot;button clicked&quot;)

button.on_click(on_button_clicked)
</code></pre>
<p>when clicking the button the corresponding method runs.</p>
<p>Is it possible to distinguish between simply click and CTRL+click?
i.e. having like two methods,on_click, or on_CTRL_click</p>
<p>thanks</p>
<p><a href=""https://i.stack.imgur.com/EHQqi.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/EHQqi.png"" alt=""enter image description here"" /></a></p>
",31,1,<python><button><ipywidgets>,2022-04-04 10:26:06
71716272,Plotly interactive Multiplot is not working in Google Colab,"<p>Hello I'm using Google colab to display multiplot that's why I tried to create one scatterplot with 3 scatter in it and under that, there is a parallel categories plot that should be connected to scatter but when I try to select a group of points in scatter, I cannot change color in parcat it's always grey, I think those functions such as on_click and on_selection does not work but I couldn't replace them with another code can someone help me?</p>
<pre class=""lang-py prettyprint-override""><code>import plotly.graph_objects as go
from ipywidgets import widgets
import pandas as pd
import numpy as np

# Build parcats dimensions
#here dfTot is my big class include every layer(input,1,2,3,output) 
#Check image under the Code

dfTot = pd.concat([df1,df2,df3,df4], axis=1,join='inner')

categorical_dimensions = ['Layer Input', 'Layer 2', 'Layer 3','Layer Output'];

dimensions = [dict(values=dfTot[label], label=label) for label in categorical_dimensions]

# Build colorscale
color = np.zeros(len(dfTot), dtype='uint8')
colorscale = [[0, 'gray'], [1, 'firebrick']]

# Build figure as FigureWidget
fig = go.FigureWidget(
    data=[
          go.Scatter(x=layer_activation1[:,0], y=layer_activation1[:,1],showlegend = False,hovertemplate =y+&quot;&lt;br&gt;&quot;+&quot;Cluster Groupe : &quot;+df2['Layer 2']+&quot;&lt;br&gt;&quot;+&quot;Layer 2&quot;'&lt;extra&gt;&lt;/extra&gt;',
    marker={'color': 'gray'}, mode='markers', selected={'marker': {'color': 'firebrick'}},
    unselected={'marker': {'opacity': 0.3}}), 

          
          go.Scatter(x=layer_activation2[:,0], y=layer_activation2[:,1],showlegend = False,hovertemplate =y+&quot;&lt;br&gt;&quot;+&quot;Cluster Groupe : &quot;+df3['Layer 3']+&quot;&lt;br&gt;&quot;+&quot;Layer 3&quot;'&lt;extra&gt;&lt;/extra&gt;',
    marker={'color': 'gray'}, mode='markers', selected={'marker': {'color': 'firebrick'}},
    unselected={'marker': {'opacity': 0.3}}), 

          
          go.Scatter(x=layer_activation3[:,0], y=layer_activation3[:,1],showlegend = False,hovertemplate =y+&quot;&lt;/br&gt;&quot;+&quot;Cluster Groupe : &quot;+df4['Layer Output']+&quot;&lt;br&gt;&quot;+&quot;Layer Output&quot;'&lt;extra&gt;&lt;/extra&gt;',
    marker={'color': 'gray'}, mode='markers', selected={'marker': {'color': 'firebrick'}},
    unselected={'marker': {'opacity': 0.3}}), 

    go.Parcats(
        domain={'y': [0, 0.4]}, dimensions=dimensions,
        line={'colorscale': colorscale, 'cmin': 0,
              'cmax': 1, 'color': color, 'shape': 'hspline'})
    ])



fig.update_layout(
        height=800, xaxis={'title': 'Axis x'},
        yaxis={'title': 'Axis y', 'domain': [0.6, 1]},
        dragmode='lasso', hovermode='closest')

# Update color callback
def update_color(trace, points, state):
    new_color = np.zeros(len(dfTot), dtype='uint8')
    # Update scatter selection
    fig.data[0].selectedpoints = points.point_inds
    new_color[points.point_inds] = 1
    fig.data[3].line.color = new_color

    fig.data[1].selectedpoints = points.point_inds
    new_color[points.point_inds] = 1
    fig.data[3].line.color = new_color

    fig.data[2].selectedpoints = points.point_inds
    # Update parcats colors

    new_color[points.point_inds] = 1
    fig.data[3].line.color = new_color

# Register callback on scatter selection...
fig.data[0].on_selection(update_color)
fig.data[1].on_selection(update_color)
fig.data[2].on_selection(update_color)
# and parcats click
fig.data[3].on_click(update_color)
</code></pre>
<p><a href=""https://i.stack.imgur.com/hWSTL.png"" rel=""nofollow noreferrer"">Here is the screenshot of plot</a></p>
",104,0,<deep-learning><plotly><google-colaboratory><plotly-python><ipywidgets>,2022-04-02 09:17:57
71688960,Nothing showing up when I command jupyterhub_config.py in ubuntu terminal,"<p>I'm using Ubuntu 20.04 and jupyterhub for multi users via web(certbot, nginx).</p>
<p>I got a problem 502 bad gateway for some reason so I tried to interrupt the command 'jupyterhub -f /pathoffile/jupyterhub_config.py' to figure out the problem.</p>
<p>After that I restart the nginx service and entered the command 'jupyterhub -f /pathoffile/jupyterhub_config.py but nothing is showing up on the terminal.</p>
<p>Apparently, a user using this server he got a situation couldn't import libraries like only running sign so he just stopped 'My server'. I think it was the main reason everything has started.</p>
<p>I totally have no idea what's going on so if there is any helpful advice please I would like to ask the ideas.</p>
<p>Thank you.</p>
<p>I got a problem 502 bad gateway for some reason so I tried to interrupt the command 'jupyterhub -f /pathoffile/jupyterhub_config.py' to figure out the problem.</p>
<p>After that I restart the nginx service and executed the command 'jupyterhub -f /pathoffile/jupyterhub_config.py but nothing is showing up on the terminal.</p>
<p>Apparently, a user using this server he got a situation couldn't import libraries like only running sign so he just stopped 'My server'. I think it was the main reason everything has started.</p>
",26,0,<ubuntu><nginx><certbot><jupyterhub>,2022-03-31 08:01:03
71666939,Add raster to leaflet map in python - Raster loaded by localtileserver not displayed,"<p>I try to reproduce the example at <a href=""https://localtileserver.banesullivan.com/"" rel=""nofollow noreferrer"">https://localtileserver.banesullivan.com/</a>. Unfortunately, the raster map is not displayed. I see only the OSM basemap. I am working in a Jupyterhub environment (Version 3.3.2) under Python 3.8.10</p>
<p>The example code looks like:</p>
<pre><code>from localtileserver import get_leaflet_tile_layer, examples
from ipyleaflet import Map

# Create a TileClient from a raster file
tile_client = examples.get_san_francisco()

# Create ipyleaflet TileLayer from that server
t = get_leaflet_tile_layer(tile_client)
# Create ipyleaflet map, add tile layer, and display
m = Map(center=tile_client.center(), zoom=10)
m.add_layer(t)
m
</code></pre>
<p><a href=""https://i.stack.imgur.com/jKVdL.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/jKVdL.png"" alt=""Result with missing raster"" /></a></p>
<p>Expected outcome:
<a href=""https://i.stack.imgur.com/6YR1k.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/6YR1k.png"" alt=""Result with raster"" /></a></p>
<p>Does anybody have an idea how I can solve this?</p>
<p>Thank you!</p>
",244,3,<python-3.x><leaflet><jupyterhub>,2022-03-29 18:13:47
71659198,JupyterHub custom DockerSpawner to bind different shared volumes based on LDAP group membership,"<p>Users and groups are managed by LDAPAuthenticator.</p>
<pre class=""lang-py prettyprint-override""><code>c.JupyterHub.authenticator_class = 'ldapauthenticator.LDAPAuthenticator'
c.LDAPAuthenticator.allowed_groups = [...]
....
</code></pre>
<p>DockerSpawner is currently used to bind shared and individual volumes e.g</p>
<pre class=""lang-py prettyprint-override""><code>c.DockerSpawner.volumes = { 'jupyterhub-user-{username}': os.path.join(notebook_dir, 'MyNotebooks'),
                            'notebook-data': {'bind': os.path.join(notebook_dir, 'SharedData'), 'mode': 'ro'},
                            'deployment_shared-notebooks': {'bind': os.path.join(notebook_dir, 'SharedNotebooks'), 'mode': 'ro'}
                            }
</code></pre>
<p>This way the volumes are mounted for all the user from c.LDAPAuthenticator.allowed_groups.
I've found a snippet here (<a href=""https://github.com/jupyterhub/dockerspawner/issues/239"" rel=""nofollow noreferrer"">https://github.com/jupyterhub/dockerspawner/issues/239</a>) showing how to make custom Spawner to mount volumes based on the username:</p>
<pre class=""lang-py prettyprint-override""><code>from dockerspawner import DockerSpawner
class MyDockerSpawner(DockerSpawner):
    team_map = {
        'username1': 'team-a',
        'username2': 'team-b',
        'username3': 'team-a',
    }

    def start(self):
        if self.user.name in self.team_map:
            team = self.team_map[self.user.name]
            # add team volume to volumes
            self.volumes['/directory/jupyterhub-team-{}'.format(team)] = {
                'bind': '/home/jovyan/teamfolder',
                'mode': 'rw',  # or ro for read-only
            }
        return super().start()
</code></pre>
<p>How can a similar functionality be achieved based on LDAP user groups? e.g. only mount an additional specific volume when a user is a memember of <code>cn=certificateAdmin,ou=groups</code></p>
",374,1,<docker><jupyter-lab><docker-volume><jupyterhub>,2022-03-29 08:59:58
71651760,Interacting programmatically with ipywidgets Video widget in Jupyther notebook,"<p>I was trying to build a Jupyter notebook solution for outlier analysis of video dataset. I wanted to use <code>Video</code> widget for that purpose, but I didn't find in the documentation how to get a current video frame and/or scroll to needed position by calling some widget's method. My problem is very similar (virtually the same) to these unanswered questions <a href=""https://stackoverflow.com/questions/68212528/controlling-video-widget-position-in-jupyter-notebook"">one</a> and <a href=""https://stackoverflow.com/questions/69301602/synchronized-connected-side-by-side-video-jupyter-notebook"">two</a>.</p>
<p>I managed to implement the idea by saving the video frames to numpy array and employing matplotlib's <code>imshow</code> function, but video playing is very jittering. I used blitting technique to get some extra fps, but it didn't help much, and in comparison, <code>Video</code> widget produces a smoother experience. It looks like <code>Video</code> widget is essentially a wrapper for browser's built-in video player.</p>
<p><strong>Question</strong>: How can I get control of widget's playing programmatically so I can synchronize multiple widgets? Could some <code>%%javascript</code> magic help with a <code>IPython.display</code> interaction?</p>
<p>Here below is a Python code snippet just for illustration purposes, to give you an idea of what I want to achieve.</p>
<pre><code>%matplotlib widget

from videoreader import VideoReader # nice pithonic wrapper for video reading with opencv
import numpy as np
import matplotlib.pyplot as plt
from ipywidgets import IntSlider, Play, link, HBox, VBox 

# prepare buffered video frames
vr = VideoReader('Big.Buck.Bunny.mp4')

fps = vr.frame_rate
frames = []
for frame in vr[0:300:1]:
    frames.append(frame[:,:,::-1]) # brg2rgb 
del vr

vi_buff = np.stack(frames, axis=0) # dimensions (T, H, W, C)  

# simulate random signal for demonstration purposes
t = np.linspace(0.0, vi_buff.shape[0], num=vi_buff.shape[0]*10)
s = np.sin(2*np.pi*t)*np.random.randn(vi_buff.shape[0]*10)

plt.ioff()
fig = plt.figure(figsize=(11, 8))
ax1 = plt.subplot2grid((6, 6), (0, 0), rowspan=2, colspan=3)
ax2 = plt.subplot2grid((6, 6), (0, 3), colspan=3)
ax3 = plt.subplot2grid((6, 6), (1, 3), colspan=3)
plt.ion()

# initial plots 
img = ax1.imshow(vi_buff[0,...])
l0 = ax2.plot(t, s)
l1 = ax3.plot(t, -s)

# initial scene
lo_y, hi_y = ax2.get_ybound()
ax2.set_xbound(lower=-12., upper=2.)
ax3.set_xbound(lower=-12., upper=2.)

def update_plot(change):
    val = change.new
    img.set_data(vi_buff[val,...])
    ax2.axis([val - 12, val + 2, lo_y, hi_y])
    ax3.axis([val - 12, val + 2, lo_y, hi_y])
    fig.canvas.draw_idle()

player = Play(
    value=0, #intial frame index
    min=0,
    max=vi_buff.shape[0]-1,
    step=1,
    interval=int(1/round(fps)*1000) #referesh interval in ms
)
fr_slider = IntSlider(
    value=0,
    min=0,
    max=vi_buff.shape[0]-1
)
fr_slider.observe(update_plot, names='value')

link((player,&quot;value&quot;), (fr_slider,&quot;value&quot;))

VBox([HBox([player, fr_slider]), fig.canvas])
</code></pre>
<p><a href=""https://i.stack.imgur.com/UdQSj.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/UdQSj.png"" alt=""matplotlib solution"" /></a></p>
",525,0,<javascript><python><jupyter-notebook><ipywidgets>,2022-03-28 18:03:53
71650821,Jupyterhub: chaning the theme (colors) does not work,"<p>I'm using JupyterHub to work with my python notebooks.</p>
<p>All is installed on Ubuntu instance on a local server machine.
I'm trying to change the theme color of my notebooks but not sucessfully.
As you can see from the picture below it looks like the jupyterthemes are properly installed but when I changed them actually nothing happens.</p>
<p>I tried closing and opening again my browser, restarting the kernel, loading the command from the terminal with sudo command . Nothing helped.</p>
<p>Any ideas pls?</p>
<p><a href=""https://i.stack.imgur.com/Iyt1y.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/Iyt1y.png"" alt=""enter image description here"" /></a></p>
",32,0,<ubuntu><jupyter-notebook><themes><jupyterhub>,2022-03-28 16:45:48
71649567,Python Inquirer in Jupyter Lab console,"<p>Is it possible to use <code>python-inquirer</code> in a Jupyter Lab Console?</p>
<p>I was using <code>ipywidgets</code> in a notebook. Then I dicovered that this lib does not work in the jupyter console.</p>
<p><code>python-inquirer</code> does not work in regular jupyter notebook and does not work in a jupyter console as well.</p>
<p>I've tried <code>InquirerPy</code> and also <code>simple-term-menu</code>. Both failed in Jupyter Console.</p>
<p>Can anyone tell me about some lib or a workaround to reach the <code>inquirer</code> behaviour in Jupyter Console?</p>
<p>Code sample:</p>
<pre><code>import inquirer
questions = [
  inquirer.List('size',
                message=&quot;What size do you need?&quot;,
                choices=['Jumbo', 'Large', 'Standard', 'Medium', 'Small', 'Micro'],
            ),
]
answers = inquirer.prompt(questions)
</code></pre>
<p>Thanks in advance.</p>
",57,0,<python><jupyter-lab><ipywidgets><jupyter-console><inquirer>,2022-03-28 15:03:02
71615147,jupyterhub ldap auth using certificate - how to,"<p>This is similar to the existing one - <a href=""https://stackoverflow.com/questions/48626974/setting-up-ldap-for-jupyter-server"">Setting up LDAP for Jupyter Server</a></p>
<p>Where ,instead of using &quot;bind_user_password&quot;, i want to try using certificate, i.e below lines that is being currently used :</p>
<pre><code>ldap_uri = ldap://ldap:389
ldap_default_bind_dn = cn=serviceaccount,dc=example,dc=com
ldap_default_authtok_type = password
ldap_default_authtok = 0hdsvmofnvp
ldap_search_base = dc=example,dc=com
ldap_id_use_start_tls = true
ldap_tls_reqcert = hard
ldap_tls_cacert = /etc/pki/tls/CA/ldap.ca
</code></pre>
<p>I did went thru this document - <a href=""https://github.com/jupyterhub/ldapauthenticator"" rel=""nofollow noreferrer"">https://github.com/jupyterhub/ldapauthenticator</a> and we couldnt find the way to use certificate, please help to share the info on how to enable the same in jupyter using above lines.</p>
<p>yes , we are using jypter hub v 3.3.2</p>
",115,0,<ldap><authorization><jupyterhub>,2022-03-25 10:04:27
71611989,I would like to test the memory load on JUPYTERHUB,"<p>I am using a jupyter that operates as a POD in a k8s environment.</p>
<p>I want to test the kernel with Python code.</p>
<p>I would like to intentionally OOM the jupyter kernel.
The kernel does not die by using infinite loop/while.</p>
<p>I'd like to take a load test.
What source-code should be used to kill a jupyter kernel?</p>
",33,0,<python><jupyter><jupyterhub>,2022-03-25 03:52:26
71597350,How to encrypt traffic in Jupyterhub (TLJH) with AWS Certificate Manager,"<p>I'm trying to run Jupyterhub (TLJH) in AWS EC2 using the steps provided <a href=""https://tljh.jupyter.org/en/latest/install/amazon.html"" rel=""nofollow noreferrer"">here</a>. The setup works over http. However, I run into trouble when I try to map a subdomain and simultaneously use a SSL certificate and key from AWS Certificate Manager.</p>
<p>The steps outlined in this <a href=""https://tljh.jupyter.org/en/latest/howto/admin/https.html"" rel=""nofollow noreferrer"">link</a> describes how to encrypt if we use lets encrypt, or if we can download the SSL key and certificate. Unfortunately, its not simple to download the SSL certificate from AWS Certificate Manager.</p>
<p>So, my question is, how to use the AWS Certificate Manager that has certificate for a subdomain to encrypt traffic and connect to the jupyterhub.</p>
",29,0,<amazon-web-services><amazon-ec2><ssl-certificate><jupyterhub><aws-certificate-manager>,2022-03-24 05:13:10
71594145,python ipywidges: how to pass an extra variable to a handler,"<p>I would like to observe an ipywidget text input</p>
<pre><code>out4 = wd.Output()
wd_input_text4 = wd.Text(value=&quot;&quot;,
                         placeholder='placeholder',
                         description='Number:',
                         )
def method4(sender):
    with out4:
        out4.clear_output()
        print(wd_input_text4.value)

wd_input_text4.observe(method4, names=['value'], type='change')

display(wd.VBox([wd_input_text4,out4]))
</code></pre>
<p>What I would like is to pass to the handler an extra variable, just call it A.
pseudocode would be (it does not work):</p>
<pre><code>def method4(sender, A):
        with out4:
            out4.clear_output()
            print(wd_input_text4.value, A)
    
    wd_input_text4.observe(method4, names=['value'], type='change', A)
</code></pre>
<p>Is that even possible?
How can I do it?</p>
",52,1,<python><ipywidgets>,2022-03-23 21:16:01
71585100,Using bootstrap in jupyter widget,"<p>I try to make simple widget with animation for Jupyter notebook using ipywidgets library.</p>
<p>I want to use bootstrap library for prettify my widget. So, I imported <code>bootstrap.min.css</code> file, but, when I create widget, styles of my notebook break down. Please see screenshot before
<a href=""https://i.stack.imgur.com/hWlVs.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/hWlVs.png"" alt=""before"" /></a></p>
<p>and after creating widget.</p>
<p><a href=""https://i.stack.imgur.com/QuAye.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/QuAye.png"" alt=""enter image description here"" /></a></p>
<p>Apparently this is due to the fact that styles are overwritten. What can I do to correct the influence of my styles on the general jupyter-notebook styles. I would be grateful for any advice or example of how bootstrap is used in other widgets.</p>
",255,0,<css><twitter-bootstrap><jupyter-notebook><jupyter-lab><ipywidgets>,2022-03-23 09:52:51
71580771,How do I use pod anti-affinity to allocate a kernel-dangerous k8s pod to its own HW?,"<p>I have a k8s based jupyterhub cluster (built using the z2jh helm chart). Each user runs jupyterlab in their own private pod, but due to the leakiness of the GPU abstraction (and other things like kernel IO contention). I have a destructively productive scientist user, kev, whos heavy ML training workload routinely brings down other services.</p>
<p>Amongst the k8s labels available on my particularly-demanding-user-workload's pod is:
<code>hub.jupyter.org/username: kev</code></p>
<p>I'd like to allocate this kev's pod to its own hardware, apart from other user's pods, my web services, etc.</p>
<p>I thought this might be achievable using pod anti affinity (<a href=""https://zero-to-jupyterhub.readthedocs.io/en/latest/resources/reference.html#singleuser-extrapodantiaffinity-required"" rel=""nofollow noreferrer"">https://zero-to-jupyterhub.readthedocs.io/en/latest/resources/reference.html#singleuser-extrapodantiaffinity-required</a>), which I hope to apply unconditionally to all my user's pods, but will only activate when its kev's pod, i.e. pod label matches label<code>hub.jupyter.org/username: kev</code></p>
<p>I've been trying to fashion a k8s pod anti affinity selector (<a href=""https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.19/#labelselector-v1-meta"" rel=""nofollow noreferrer"">https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.19/#labelselector-v1-meta</a>) that I could apply to all pods, and would result in pods that match <code>hub.jupyter.org/username: kev</code> having anti-affinity for all other pods (matching a label, e.g. I would hope to match kev's pod having anti-affinity for any other pod with label <code>app: myjupcluster</code>), but I'm either blocking on getting the logic right, or perhaps that's a sign that this isn't a do-able match with the level of operators/logic available to pod anti-affinity selectors?</p>
",69,0,<kubernetes><kubernetes-pod><jupyterhub>,2022-03-23 01:19:51
71573200,"ipywidget output in contextual ""with"" clear_output()","<p>When using ipywidgets the output standard is using a with contextual manager as follows:</p>
<pre><code>import ipywidgets as wd
out = wd.Output()
with out:
    display('whatever')
</code></pre>
<p>the function <code>clear_output()</code> clears the content of the widget.
Why does the following not work:?</p>
<pre><code>with out:
    clear_output()
</code></pre>
<p>and actually you have to use:</p>
<pre><code>with out:
     out.clear_output()
</code></pre>
<p>it looks like inside <code>with</code> it should recognized that you are referring to out, right?</p>
<p>I could not understand it:<br />
<a href=""https://ipywidgets.readthedocs.io/en/latest/examples/Output%20Widget.html"" rel=""nofollow noreferrer"">Output widgets: leveraging Jupyter’s display system — Jupyter Widgets documentation</a></p>
<p>I am assuming that the <code>with</code> is a context manager that is aware of the context he is working.</p>
",323,0,<python><jupyter-notebook><output><ipywidgets>,2022-03-22 13:48:27
71563125,Adding scroll to the final output view using ipywidgets,"<p>I am trying to create an app based on ipywidgets. But unfortunately the scroll is not appearing as I expect it to be. Instead the scrolls are appearing on every output element, whereas I want a single scroll if the height of the content in any of the output element exceeds. Moreover it should not cut the visibility of the content in any of the output.</p>
<pre><code>%%html
&lt;style&gt;
.out1{
      width: 700px;
      height: 400px;
      display: flex;
      justify-content: center;
      padding: 10px 10px 10px 10px;
      border: 1px solid black;
}

.out2{
      width: 350px;
      height: 400px;
      display: flex;
      justify-content: center;
      padding: 20px 5px 10px 10px;
      border: 1px solid black;
}

.out3{
      width: 350px;
      height: 400px;
      display: flex;
      justify-content: center;
      padding: 20px 5px 10px 10px;
      border: 1px solid black;

}

.out4{
      width: 700px;
      height: 400px;
      display: flex;
      justify-content: center;
      padding: 20px 10px 0px 10px;
      border: 1px solid black;
}

.out_box{
      border: 1px solid black;
      height: 800px;
      width: 700px;
      overflow: auto;
}
&lt;/style&gt;

out1=widgets.Output()
out1.add_class('out1')

out2=widgets.Output()
out2.add_class('out2')

out3=widgets.Output()
out3.add_class('out3')

out4=widgets.Output()
out4.add_class('out4')

box1=widgets.Box([out1], scroll=False)
box2=widgets.HBox([out2,out3], scroll=False)
box3=widgets.Box([out4], scroll=False)

out_box=widgets.VBox([box1,box2,box3])
out_box.add_class('out_box')
</code></pre>
<p>Attached is the snap, which I am getting. Results with multiple scroll bars. But I want a single scroll bar at the right end.
<a href=""https://i.stack.imgur.com/kAbFY.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/kAbFY.png"" alt=""enter image description here"" /></a></p>
",123,0,<python><html><css><jupyter-notebook><ipywidgets>,2022-03-21 19:31:36
71557383,Progress widget Jupyter,"<p>I want to make a progress bar widget for jupyter notebook with an additional status (in progress).</p>
<p>My widget will have three states - finished, in_progress, not_started. As a result, I expect a shaded part of the widget for the finished share, animated for in_progress and unfilled for not_started.</p>
<p>I will be glad of any information that will help me. Now I have studied the documentation on <a href=""https://ipywidgets.readthedocs.io/en/latest/examples/Widget%20Custom.html"" rel=""nofollow noreferrer"">https://ipywidgets.readthedocs.io/en/latest/examples/Widget%20Custom.html</a> but I haven't been able to write my widget yet.</p>
",215,0,<python><jupyter-notebook><ipywidgets>,2022-03-21 12:07:43
71546760,python ipywidgets button color,"<p>When using ipywidgets the way to create a button is basically as follows:</p>
<pre><code>import ipywidgets as widgets
layout_btn = widgets.Layout(width='200px')
mybtn = widgets.Button(description='load',
                       disabled=False,
                       button_style='', # 'success', 'info', 'warning', 'danger' or ''
                       tooltip='this will happen:...',
                       icon='',
                        layout=layout_btn)
</code></pre>
<p>in the Layout object several things can be defined:
see here:
<a href=""https://ipywidgets.readthedocs.io/en/latest/examples/Widget%20Styling.html"" rel=""nofollow noreferrer"">https://ipywidgets.readthedocs.io/en/latest/examples/Widget%20Styling.html</a></p>
<p>Within all the layout possibilities I do not see the possibility of modifying the color of the button itself.</p>
<p>The question is how to make a button of a particular color (RBG or HEX)?</p>
<p>Thanks.</p>
",122,1,<python><button><ipywidgets>,2022-03-20 12:30:55
71530587,Jupyterhub multiple web applications port problem,"<p>at my firm we have a jupyterhub/lab installed and is used by roughly 70-100 people in a secure network that can only be accessed to from work. Recently the idea of hosting web-applications for short time use came up, but we are having port problems. User A is running a web application on port 5000, and User B can’t use the port because it is already in use. Port 5000 is default, it can be changed but this is not the behavior we want. Does anyone know of a way for web-applications to run on the same port in the same environment? Have looked into server-proxy but i do not really understand it. Is the way to achieve this really to be running a vm for each user securing that the port is not in use?</p>
<p>Any help is appreciated</p>
",48,0,<jupyter><jupyter-lab><jupyterhub>,2022-03-18 16:55:26
71481269,How do I fix validation in tljh/jupyter notebook?,"<p>I managed to set up the tljh and nbgrader but the validation doesn't work in my notebook.
As you can see it displays this:</p>
<p><img src=""https://i.stack.imgur.com/1fRdk.jpg"" alt=""Image"" /></p>
<pre class=""lang-py prettyprint-override""><code>&quot;&quot;&quot;Module containing a preprocessor that executes the code cells
and updates outputs&quot;&quot;&quot;

# Copyright (c) IPython Development Team.
# Distributed under the terms of the Modified BSD License.
import base64
from textwrap import dedent
from contextlib import contextmanager
try:
    from time import monotonic # Py 3
except ImportError:
    from time import time as monotonic # Py 2

try:
    from queue import Empty  # Py 3
except ImportError:
    from Queue import Empty  # Py 2

try:
    TimeoutError  # Py 3
except NameError:
    TimeoutError = RuntimeError  # Py 2

from traitlets import List, Unicode, Bool, Enum, Any, Type, Dict, Integer, default

from nbformat.v4 import output_from_msg

from .base import Preprocessor
from ..utils.exceptions import ConversionException

class DeadKernelError(RuntimeError):
    pass

class CellExecutionComplete(Exception):
    &quot;&quot;&quot;
    Used as a control signal for cell execution across run_cell and
    process_message function calls. Raised when all execution requests
    are completed and no further messages are expected from the kernel
    over zeromq channels.
    &quot;&quot;&quot;
    pass

class CellExecutionError(ConversionException):
    &quot;&quot;&quot;
    Custom exception to propagate exceptions that are raised during
    notebook execution to the caller. This is mostly useful when
    using nbconvert as a library, since it allows to deal with
    failures gracefully.
    &quot;&quot;&quot;
    def _init_(self, traceback):
        super(CellExecutionError, self)._init_(traceback)
        self.traceback = traceback

    def _str_(self):
        s = self._unicode_()
        if not isinstance(s, str):
            s = s.encode('utf8', 'replace')
        return s

    def _unicode_(self):
        return self.traceback

    @classmethod
    def from_cell_and_msg(cls, cell, msg):
        &quot;&quot;&quot;Instantiate from a code cell object and a message contents
        (message is either execute_reply or error)
        &quot;&quot;&quot;
        tb = '\n'.join(msg.get('traceback', []))
        return cls(exec_err_msg.format(cell=cell, traceback=tb,
                                       ename=msg.get('ename', '&lt;Error&gt;'),
                                       evalue=msg.get('evalue', '')
                                      ))

exec_err_msg = u&quot;&quot;&quot;\
An error occurred while executing the following cell:
------------------
{cell.source}
------------------

{traceback}
{ename}: {evalue}
&quot;&quot;&quot;

class ExecutePreprocessor(Preprocessor):
    &quot;&quot;&quot;
    Executes all the cells in a notebook
    &quot;&quot;&quot;

    timeout = Integer(30, allow_none=True,
        help=dedent(
            &quot;&quot;&quot;
            The time to wait (in seconds) for output from executions.
            If a cell execution takes longer, an exception (TimeoutError
            on python 3+, RuntimeError on python 2) is raised.

            `None` or `-1` will disable the timeout. If `timeout_func` is set,
            it overrides `timeout`.
            &quot;&quot;&quot;
        )
    ).tag(config=True)

    timeout_func = Any(
        default_value=None,
        allow_none=True,
        help=dedent(
            &quot;&quot;&quot;
            A callable which, when given the cell source as input,
            returns the time to wait (in seconds) for output from cell
            executions. If a cell execution takes longer, an exception
            (TimeoutError on python 3+, RuntimeError on python 2) is
            raised.

            Returning `None` or `-1` will disable the timeout for the cell.
            Not setting `timeout_func` will cause the preprocessor to
            default to using the `timeout` trait for all cells. The
            `timeout_func` trait overrides `timeout` if it is not `None`.
            &quot;&quot;&quot;
        )
    ).tag(config=True)

    interrupt_on_timeout = Bool(False,
        help=dedent(
            &quot;&quot;&quot;
            If execution of a cell times out, interrupt the kernel and
            continue executing other cells rather than throwing an error and
            stopping.
            &quot;&quot;&quot;
        )
    ).tag(config=True)

    startup_timeout = Integer(60,
        help=dedent(
            &quot;&quot;&quot;
            The time to wait (in seconds) for the kernel to start.
            If kernel startup takes longer, a RuntimeError is
            raised.
            &quot;&quot;&quot;
        )
    ).tag(config=True)

    allow_errors = Bool(False,
        help=dedent(
            &quot;&quot;&quot;
            If `False` (default), when a cell raises an error the
            execution is stopped and a `CellExecutionError`
            is raised.
            If `True`, execution errors are ignored and the execution
            is continued until the end of the notebook. Output from
            exceptions is included in the cell output in both cases.
            &quot;&quot;&quot;
        )
    ).tag(config=True)

    force_raise_errors = Bool(False,
        help=dedent(
            &quot;&quot;&quot;
            If False (default), errors from executing the notebook can be
            allowed with a `raises-exception` tag on a single cell, or the
            `allow_errors` configurable option for all cells. An allowed error
            will be recorded in notebook output, and execution will continue.
            If an error occurs when it is not explicitly allowed, a
            `CellExecutionError` will be raised.
            If True, `CellExecutionError` will be raised for any error that occurs
            while executing the notebook. This overrides both the
            `allow_errors` option and the `raises-exception` cell tag.
            &quot;&quot;&quot;
        )
    ).tag(config=True)

    extra_arguments = List(Unicode())

    kernel_name = Unicode('',
        help=dedent(
            &quot;&quot;&quot;
            Name of kernel to use to execute the cells.
            If not set, use the kernel_spec embedded in the notebook.
            &quot;&quot;&quot;
        )
    ).tag(config=True)

    raise_on_iopub_timeout = Bool(False,
        help=dedent(
            &quot;&quot;&quot;
            If `False` (default), then the kernel will continue waiting for
            iopub messages until it receives a kernel idle message, or until a
            timeout occurs, at which point the currently executing cell will be
            skipped. If `True`, then an error will be raised after the first
            timeout. This option generally does not need to be used, but may be
            useful in contexts where there is the possibility of executing
            notebooks with memory-consuming infinite loops.
            &quot;&quot;&quot;
            )
    ).tag(config=True)

    store_widget_state = Bool(True,
        help=dedent(
            &quot;&quot;&quot;
            If `True` (default), then the state of the Jupyter widgets created
            at the kernel will be stored in the metadata of the notebook.
            &quot;&quot;&quot;
            )
    ).tag(config=True)

    iopub_timeout = Integer(4, allow_none=False,
        help=dedent(
            &quot;&quot;&quot;
            The time to wait (in seconds) for IOPub output. This generally
            doesn't need to be set, but on some slow networks (such as CI
            systems) the default timeout might not be long enough to get all
            messages.
            &quot;&quot;&quot;
        )
    ).tag(config=True)

    shutdown_kernel = Enum(['graceful', 'immediate'],
        default_value='graceful',
        help=dedent(
            &quot;&quot;&quot;
            If `graceful` (default), then the kernel is given time to clean
            up after executing all cells, e.g., to execute its `atexit` hooks.
            If `immediate`, then the kernel is signaled to immediately
            terminate.
            &quot;&quot;&quot;
            )
    ).tag(config=True)

    ipython_hist_file = Unicode(
        default_value=':memory:',
        help=&quot;&quot;&quot;Path to file to use for SQLite history database for an IPython kernel.

        The specific value `:memory:` (including the colon
        at both end but not the back ticks), avoids creating a history file. Otherwise, IPython
        will create a history file for each kernel.

        When running kernels simultaneously (e.g. via multiprocessing) saving history a single
        SQLite file can result in database errors, so using `:memory:` is recommended in non-interactive
        contexts.

        &quot;&quot;&quot;).tag(config=True)

    kernel_manager_class = Type(
        config=True,
        help='The kernel manager class to use.'
    )
    @default('kernel_manager_class')
    def _kernel_manager_class_default(self):
        &quot;&quot;&quot;Use a dynamic default to avoid importing jupyter_client at startup&quot;&quot;&quot;
        try:
            from jupyter_client import KernelManager
        except ImportError:
            raise ImportError(&quot;`nbconvert --execute` requires the jupyter_client package: `pip install jupyter_client`&quot;)
        return KernelManager

    _display_id_map = Dict(
        help=dedent(
              &quot;&quot;&quot;
              mapping of locations of outputs with a given display_id
              tracks cell index and output index within cell.outputs for
              each appearance of the display_id
              {
                   'display_id': {
                  cell_idx: [output_idx,]
                   }
              }
              &quot;&quot;&quot;))

    def start_new_kernel(self, **kwargs):
        &quot;&quot;&quot;Creates a new kernel manager and kernel client.

        Parameters
        ----------
        kwargs :
            Any options for `self.kernel_manager_class.start_kernel()`. Because
            that defaults to KernelManager, this will likely include options
            accepted by `KernelManager.start_kernel()``, which includes `cwd`.

        Returns
        -------
        km : KernelManager
            A kernel manager as created by self.kernel_manager_class.
        kc : KernelClient
            Kernel client as created by the kernel manager `km`.
        &quot;&quot;&quot;
        if not self.kernel_name:
            self.kernel_name = self.nb.metadata.get(
                'kernelspec', {}).get('name', 'python')
        km = self.kernel_manager_class(kernel_name=self.kernel_name,
                                       config=self.config)
        if km.ipykernel and self.ipython_hist_file:
            self.extra_arguments += ['--HistoryManager.hist_file={}'.format(self.ipython_hist_file)]
        km.start_kernel(extra_arguments=self.extra_arguments, **kwargs)

        kc = km.client()
        kc.start_channels()
        try:
            kc.wait_for_ready(timeout=self.startup_timeout)
        except RuntimeError:
            kc.stop_channels()
            km.shutdown_kernel()
            raise
        kc.allow_stdin = False
        return km, kc

    @contextmanager
    def setup_preprocessor(self, nb, resources, km=None, **kwargs):
        &quot;&quot;&quot;
        Context manager for setting up the class to execute a notebook.

        The assigns `nb` to `self.nb` where it will be modified in-place. It also creates
        and assigns the Kernel Manager (`self.km`) and Kernel Client(`self.kc`).

        It is intended to yield to a block that will execute codeself.

        When control returns from the yield it stops the client's zmq channels, shuts
        down the kernel, and removes the now unused attributes.

        Parameters
        ----------
        nb : NotebookNode
            Notebook being executed.
        resources : dictionary
            Additional resources used in the conversion process. For example,
            passing ``{'metadata': {'path': run_path}}`` sets the
            execution path to ``run_path``.
        km : KernerlManager (optional)
            Optional kernel manager. If none is provided, a kernel manager will
            be created.

        Returns
        -------
        nb : NotebookNode
            The executed notebook.
        resources : dictionary
            Additional resources used in the conversion process.
        &quot;&quot;&quot;
        path = resources.get('metadata', {}).get('path', '') or None
        self.nb = nb
        # clear display_id map
        self._display_id_map = {}
        self.widget_state = {}
        self.widget_buffers = {}

        if km is None:
            kwargs[&quot;cwd&quot;] = path
            self.km, self.kc = self.start_new_kernel(**kwargs)
            try:
                # Yielding unbound args for more easier understanding and downstream consumption
                yield nb, self.km, self.kc
            finally:
                self.kc.stop_channels()
                self.km.shutdown_kernel(now=self.shutdown_kernel == 'immediate')

                for attr in ['nb', 'km', 'kc']:
                    delattr(self, attr)
        else:
            self.km = km
            if not km.has_kernel:
                km.start_kernel(extra_arguments=self.extra_arguments, **kwargs)
            self.kc = km.client()

            self.kc.start_channels()
            try:
                self.kc.wait_for_ready(timeout=self.startup_timeout)
            except RuntimeError:
                self.kc.stop_channels()
                raise
            self.kc.allow_stdin = False
            try:
                yield nb, self.km, self.kc
            finally:
                for attr in ['nb', 'km', 'kc']:
                    delattr(self, attr)

    def preprocess(self, nb, resources=None, km=None):
        &quot;&quot;&quot;
        Preprocess notebook executing each code cell.

        The input argument `nb` is modified in-place.

        Parameters
        ----------
        nb : NotebookNode
            Notebook being executed.
        resources : dictionary (optional)
            Additional resources used in the conversion process. For example,
            passing ``{'metadata': {'path': run_path}}`` sets the
            execution path to ``run_path``.
        km: KernelManager (optional)
            Optional kernel manager. If none is provided, a kernel manager will
            be created.

        Returns
        -------
        nb : NotebookNode
            The executed notebook.
        resources : dictionary
            Additional resources used in the conversion process.
        &quot;&quot;&quot;

        if not resources:
            resources = {}

        with self.setup_preprocessor(nb, resources, km=km):
            self.log.info(&quot;Executing notebook with kernel: %s&quot; % self.kernel_name)
            nb, resources = super(ExecutePreprocessor, self).preprocess(nb, resources)
            info_msg = self._wait_for_reply(self.kc.kernel_info())
            nb.metadata['language_info'] = info_msg['content']['language_info']
            self.set_widgets_metadata()

        return nb, resources

    def set_widgets_metadata(self):
        if self.widget_state:
            self.nb.metadata.widgets = {
                'application/vnd.jupyter.widget-state+json': {
                    'state': {
                        model_id: _serialize_widget_state(state)
                        for model_id, state in self.widget_state.items() if '_model_name' in state
                    },
                    'version_major': 2,
                    'version_minor': 0,
                }
            }
            for key, widget in self.nb.metadata.widgets['application/vnd.jupyter.widget-state+json']['state'].items():
                buffers = self.widget_buffers.get(key)
                if buffers:
                    widget['buffers'] = buffers

    def preprocess_cell(self, cell, resources, cell_index, store_history=True):
        &quot;&quot;&quot;
        Executes a single code cell. See base.py for details.

        To execute all cells see :meth:`preprocess`.
        &quot;&quot;&quot;
        if cell.cell_type != 'code' or not cell.source.strip():
            return cell, resources

        reply, outputs = self.run_cell(cell, cell_index, store_history)
        # Backwards compatibility for processes that wrap run_cell
        cell.outputs = outputs

        cell_allows_errors = (self.allow_errors or &quot;raises-exception&quot;
                              in cell.metadata.get(&quot;tags&quot;, []))

        if self.force_raise_errors or not cell_allows_errors:
            for out in cell.outputs:
                if out.output_type == 'error':
                    raise CellExecutionError.from_cell_and_msg(cell, out)
            if (reply is not None) and reply['content']['status'] == 'error':
                raise CellExecutionError.from_cell_and_msg(cell, reply['content'])
        return cell, resources

    def _update_display_id(self, display_id, msg):
        &quot;&quot;&quot;Update outputs with a given display_id&quot;&quot;&quot;
        if display_id not in self._display_id_map:
            self.log.debug(&quot;display id %r not in %s&quot;, display_id, self._display_id_map)
            return

        if msg['header']['msg_type'] == 'update_display_data':
            msg['header']['msg_type'] = 'display_data'

        try:
            out = output_from_msg(msg)
        except ValueError:
            self.log.error(&quot;unhandled iopub msg: &quot; + msg['msg_type'])
            return

        for cell_idx, output_indices in self._display_id_map[display_id].items():
            cell = self.nb['cells'][cell_idx]
            outputs = cell['outputs']
            for output_idx in output_indices:
                outputs[output_idx]['data'] = out['data']
                outputs[output_idx]['metadata'] = out['metadata']

    def _poll_for_reply(self, msg_id, cell=None, timeout=None):
        try:
            # check with timeout if kernel is still alive
            msg = self.kc.shell_channel.get_msg(timeout=timeout)
            if msg['parent_header'].get('msg_id') == msg_id:
                return msg
        except Empty:
            # received no message, check if kernel is still alive
            self._check_alive()
            # kernel still alive, wait for a message

    def _get_timeout(self, cell):
        if self.timeout_func is not None and cell is not None:
            timeout = self.timeout_func(cell)
        else:
            timeout = self.timeout

        if not timeout or timeout &lt; 0:
            timeout = None

        return timeout

    def _handle_timeout(self):
        self.log.error(
            &quot;Timeout waiting for execute reply (%is).&quot; % self.timeout)
        if self.interrupt_on_timeout:
            self.log.error(&quot;Interrupting kernel&quot;)
            self.km.interrupt_kernel()
        else:
            raise TimeoutError(&quot;Cell execution timed out&quot;)

    def _check_alive(self):
        if not self.kc.is_alive():
            self.log.error(
                &quot;Kernel died while waiting for execute reply.&quot;)
            raise DeadKernelError(&quot;Kernel died&quot;)

    def _wait_for_reply(self, msg_id, cell=None):
        # wait for finish, with timeout
        timeout = self._get_timeout(cell)
        cummulative_time = 0
        timeout_interval = 5
        while True:
            try:
                msg = self.kc.shell_channel.get_msg(timeout=timeout_interval)
            except Empty:
                self._check_alive()
                cummulative_time += timeout_interval
                if timeout and cummulative_time &gt; timeout:
                    self._handle_timeout()
                    break
            else:
                if msg['parent_header'].get('msg_id') == msg_id:
                    return msg

    def _timeout_with_deadline(self, timeout, deadline):
        if deadline is not None and deadline - monotonic() &lt; timeout:
            timeout = deadline - monotonic()

        if timeout &lt; 0:
            timeout = 0

        return timeout

    def _passed_deadline(self, deadline):
        if deadline is not None and deadline - monotonic() &lt;= 0:
            self._handle_timeout()
            return True
        return False

    def run_cell(self, cell, cell_index=0, store_history=True):
        parent_msg_id = self.kc.execute(cell.source,
            store_history=store_history, stop_on_error=not self.allow_errors)
        self.log.debug(&quot;Executing cell:\n%s&quot;, cell.source)
        exec_timeout = self._get_timeout(cell)
        deadline = None
        if exec_timeout is not None:
            deadline = monotonic() + exec_timeout

        cell.outputs = []
        self.clear_before_next_output = False

        # This loop resolves #659. By polling iopub_channel's and shell_channel's
        # output we avoid dropping output and important signals (like idle) from
        # iopub_channel. Prior to this change, iopub_channel wasn't polled until
        # after exec_reply was obtained from shell_channel, leading to the
        # aforementioned dropped data.

        # These two variables are used to track what still needs polling:
        # more_output=true =&gt; continue to poll the iopub_channel
        more_output = True
        # polling_exec_reply=true =&gt; continue to poll the shell_channel
        polling_exec_reply = True

        while more_output or polling_exec_reply:
            if polling_exec_reply:
                if self._passed_deadline(deadline):
                    polling_exec_reply = False
                    continue

                # Avoid exceeding the execution timeout (deadline), but stop
                # after at most 1s so we can poll output from iopub_channel.
                timeout = self._timeout_with_deadline(1, deadline)
                exec_reply = self._poll_for_reply(parent_msg_id, cell, timeout)
                if exec_reply is not None:
                    polling_exec_reply = False

            if more_output:
                try:
                    timeout = self.iopub_timeout
                    if polling_exec_reply:
                        # Avoid exceeding the execution timeout (deadline) while
                        # polling for output.
                        timeout = self._timeout_with_deadline(timeout, deadline)
                    msg = self.kc.iopub_channel.get_msg(timeout=timeout)
                except Empty:
                    if polling_exec_reply:
                        # Still waiting for execution to finish so we expect that
                        # output may not always be produced yet.
                        continue

                    if self.raise_on_iopub_timeout:
                        raise TimeoutError(&quot;Timeout waiting for IOPub output&quot;)
                    else:
                        self.log.warning(&quot;Timeout waiting for IOPub output&quot;)
                        more_output = False
                        continue
            if msg['parent_header'].get('msg_id') != parent_msg_id:
                # not an output from our execution
                continue

            try:
                # Will raise CellExecutionComplete when completed
                self.process_message(msg, cell, cell_index)
            except CellExecutionComplete:
                more_output = False

        # Return cell.outputs still for backwards compatibility
        return exec_reply, cell.outputs

    def process_message(self, msg, cell, cell_index):
        &quot;&quot;&quot;
        Processes a kernel message, updates cell state, and returns the
        resulting output object that was appended to cell.outputs.

        The input argument `cell` is modified in-place.

        Parameters
        ----------
        msg : dict
            The kernel message being processed.
        cell : nbformat.NotebookNode
            The cell which is currently being processed.
        cell_index : int
            The position of the cell within the notebook object.

        Returns
        -------
        output : dict
            The execution output payload (or None for no output).

        Raises
        ------
        CellExecutionComplete
          Once a message arrives which indicates computation completeness.

        &quot;&quot;&quot;
        msg_type = msg['msg_type']
        self.log.debug(&quot;msg_type: %s&quot;, msg_type)
        content = msg['content']
        self.log.debug(&quot;content: %s&quot;, content)

        display_id = content.get('transient', {}).get('display_id', None)
        if display_id and msg_type in {'execute_result', 'display_data', 'update_display_data'}:
            self._update_display_id(display_id, msg)

        # set the prompt number for the input and the output
        if 'execution_count' in content:
            cell['execution_count'] = content['execution_count']

        if msg_type == 'status':
            if content['execution_state'] == 'idle':
                raise CellExecutionComplete()
        elif msg_type == 'clear_output':
            self.clear_output(cell.outputs, msg, cell_index)
        elif msg_type.startswith('comm'):
            self.handle_comm_msg(cell.outputs, msg, cell_index)
        # Check for remaining messages we don't process
        elif msg_type not in ['execute_input', 'update_display_data']:
            # Assign output as our processed &quot;result&quot;
            return self.output(cell.outputs, msg, display_id, cell_index)

    def output(self, outs, msg, display_id, cell_index):
        msg_type = msg['msg_type']

        try:
            out = output_from_msg(msg)
        except ValueError:
            self.log.error(&quot;unhandled iopub msg: &quot; + msg_type)
            return

        if self.clear_before_next_output:
            self.log.debug('Executing delayed clear_output')
            outs[:] = []
            self.clear_display_id_mapping(cell_index)
            self.clear_before_next_output = False

        if display_id:
            # record output index in:
            #   _display_id_map[display_id][cell_idx]
            cell_map = self._display_id_map.setdefault(display_id, {})
            output_idx_list = cell_map.setdefault(cell_index, [])
            output_idx_list.append(len(outs))

        outs.append(out)

        return out

    def clear_output(self, outs, msg, cell_index):
        content = msg['content']
        if content.get('wait'):
            self.log.debug('Wait to clear output')
            self.clear_before_next_output = True
        else:
            self.log.debug('Immediate clear output')
            outs[:] = []
            self.clear_display_id_mapping(cell_index)

    def clear_display_id_mapping(self, cell_index):
        for display_id, cell_map in self._display_id_map.items():
            if cell_index in cell_map:
                cell_map[cell_index] = []

    def handle_comm_msg(self, outs, msg, cell_index):
        content = msg['content']
        data = content['data']
        if self.store_widget_state and 'state' in data:  # ignore custom msg'es
            self.widget_state.setdefault(content['comm_id'], {}).update(data['state'])
            if 'buffer_paths' in data and data['buffer_paths']:
                self.widget_buffers[content['comm_id']] = _get_buffer_data(msg)

def executenb(nb, cwd=None, km=None, **kwargs):
    &quot;&quot;&quot;Execute a notebook's code, updating outputs within the notebook object.

    This is a convenient wrapper around ExecutePreprocessor. It returns the
    modified notebook object.

    Parameters
    ----------
    nb : NotebookNode
      The notebook object to be executed
    cwd : str, optional
      If supplied, the kernel will run in this directory
    km : KernelManager, optional
      If supplied, the specified kernel manager will be used for code execution.
    kwargs :
      Any other options for ExecutePreprocessor, e.g. timeout, kernel_name
    &quot;&quot;&quot;
    resources = {}
    if cwd is not None:
        resources['metadata'] = {'path': cwd}
    ep = ExecutePreprocessor(**kwargs)
    return ep.preprocess(nb, resources, km=km)[0]


def _serialize_widget_state(state):
    &quot;&quot;&quot;Serialize a widget state, following format in @jupyter-widgets/schema.&quot;&quot;&quot;
    return {
        'model_name': state.get('_model_name'),
        'model_module': state.get('_model_module'),
        'model_module_version': state.get('_model_module_version'),
        'state': state,
    }


def _get_buffer_data(msg):
    encoded_buffers = []
    paths = msg['content']['data']['buffer_paths']
    buffers = msg['buffers']
    for path, buffer in zip(paths, buffers):
        encoded_buffers.append({
            'data': base64.b64encode(buffer).decode('utf-8'),
            'encoding': 'base64',
            'path': path
        })
    return encoded_buffers
</code></pre>
<p>I hope that the problem can be understood and would be grateful for any help:)</p>
",362,1,<python><jupyter-notebook><jupyter><jupyterhub><nbgrader>,2022-03-15 11:12:00
71480491,Python ipywidgets: Setting different colors for Button,"<p>The <a href=""https://ipywidgets.readthedocs.io/en/stable/examples/Widget%20List.html#Button"" rel=""nofollow noreferrer"">documentation</a> explains the basic colors you can set on the button.</p>
<pre><code>widgets.Button(
    description='Click me',
    disabled=False,
    button_style='', # 'success', 'info', 'warning', 'danger' or ''
    tooltip='Click me',
    icon='check'
)
</code></pre>
<p>Are there additional colors that can be used? How?</p>
",531,1,<python><jupyter-notebook><google-colaboratory><ipywidgets>,2022-03-15 10:17:54
71461169,ipywidgets dropdown with pandas MultiIndex,"<p>How can the ipywidgets dropdown menu be used with a pandas MultiIndex as the options field?  It seems to display only the first level from the MultiIndex.  For example, the following code run in JupyterLab only shows options [1, 1, 2, 2].</p>
<pre><code>import ipywidgets
import pandas as pd

arrays = [[1, 1, 2, 2], ['red', 'blue', 'red', 'blue']]
index = pd.MultiIndex.from_arrays(arrays, names=('number', 'color'))
dropdown = ipywidgets.Dropdown(options=index)
display(dropdown)
</code></pre>
<p><a href=""https://i.stack.imgur.com/xW4HH.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/xW4HH.png"" alt=""enter image description here"" /></a></p>
",35,1,<drop-down-menu><multi-index><ipywidgets>,2022-03-13 21:56:31
71442963,How to run JupyterHub in Docker using DockerSpawner and PAM Authenticator?,"<p>I am trying to run JupyterHub in a Docker container using the DockerSpawner.  When I run the container, I see the error that I pasted below.  I have provided:</p>
<ol>
<li>The contents of the DockerFile</li>
<li>The setting in jupyterhub_config.py.</li>
<li>The command that I use to run container.</li>
<li>The debug output that shows the error.</li>
</ol>
<p><strong>Dockerfile</strong></p>
<pre><code>FROM jupyterhub/jupyterhub:latest

WORKDIR /root

COPY jupyterhub_config.py /etc/jupyterhub/jupyterhub_config.py

RUN apt-get update

RUN apt-get -y install \
    net-tools \
    ca-certificates \
    curl \
    gnupg \
    lsb-release

RUN curl -fsSL https://download.docker.com/linux/ubuntu/gpg | gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg

RUN echo &quot;deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable&quot; | tee /etc/apt/sources.list.d/docker.list &gt; /dev/null

RUN apt-get update

RUN apt-get -y install docker-ce docker-ce-cli containerd.io

RUN python3 -m pip install notebook jupyterlab dockerspawner oauthenticator 

RUN useradd -m -s /bin/bash admin -p &quot;$(openssl passwd -1 82481956)&quot;

CMD [&quot;jupyterhub&quot;, &quot;--debug&quot;, &quot;-f&quot;, &quot;/etc/jupyterhub/jupyterhub_config.py&quot;]
</code></pre>
<p><strong>The only change to default jupyterhub_config.py</strong></p>
<pre><code>c.JupyterHub.spawner_class = 'dockerspawner.DockerSpawner'
</code></pre>
<p><strong>This is how I run the container</strong>
<code>docker run -d -v /var/run/docker.sock:/var/run/docker.sock -p 8000:8000 -t etc_jupyterhub_rtc:latest</code></p>
<p><strong>Debug output</strong></p>
<pre><code>$ docker logs -f 7e1f5e4ef1100e26148fa23064e0d542c339110e28dbd6df87dd90db6965127d
[D 2022-03-11 14:33:17.203 JupyterHub application:731] Looking for /etc/jupyterhub/jupyterhub_config in /root
[D 2022-03-11 14:33:17.204 JupyterHub application:753] Loaded config file: /etc/jupyterhub/jupyterhub_config.py
[I 2022-03-11 14:33:17.211 JupyterHub app:2769] Running JupyterHub version 2.2.0
[I 2022-03-11 14:33:17.211 JupyterHub app:2799] Using Authenticator: jupyterhub.auth.PAMAuthenticator-2.2.0
[I 2022-03-11 14:33:17.211 JupyterHub app:2799] Using Spawner: dockerspawner.dockerspawner.DockerSpawner-12.1.0
[I 2022-03-11 14:33:17.212 JupyterHub app:2799] Using Proxy: jupyterhub.proxy.ConfigurableHTTPProxy-2.2.0
[D 2022-03-11 14:33:17.245 JupyterHub app:1646] Generating new cookie_secret
[I 2022-03-11 14:33:17.245 JupyterHub app:1651] Writing cookie_secret to /root/jupyterhub_cookie_secret
[D 2022-03-11 14:33:17.245 JupyterHub app:1773] Connecting to db: sqlite:///jupyterhub.sqlite
[D 2022-03-11 14:33:17.259 JupyterHub orm:924] Stamping empty database with alembic revision 833da8570507
[I 2022-03-11 14:33:17.262 alembic.runtime.migration migration:201] Context impl SQLiteImpl.
[I 2022-03-11 14:33:17.262 alembic.runtime.migration migration:204] Will assume non-transactional DDL.
[I 2022-03-11 14:33:17.268 alembic.runtime.migration migration:615] Running stamp_revision  -&gt; 833da8570507
[D 2022-03-11 14:33:17.268 alembic.runtime.migration migration:815] new branch insert 833da8570507
[I 2022-03-11 14:33:17.358 JupyterHub proxy:496] Generating new CONFIGPROXY_AUTH_TOKEN
[D 2022-03-11 14:33:17.358 JupyterHub app:2022] Loading roles into database
[I 2022-03-11 14:33:17.379 JupyterHub app:1924] Not using allowed_users. Any authenticated user will be allowed.
[D 2022-03-11 14:33:17.382 JupyterHub app:2281] Purging expired APITokens
[D 2022-03-11 14:33:17.384 JupyterHub app:2281] Purging expired OAuthCodes
[D 2022-03-11 14:33:17.385 JupyterHub app:2114] Loading role assignments from config
[D 2022-03-11 14:33:17.391 JupyterHub app:2427] Initializing spawners
[D 2022-03-11 14:33:17.392 JupyterHub app:2558] Loaded users:
    
[I 2022-03-11 14:33:17.393 JupyterHub app:2838] Initialized 0 spawners in 0.002 seconds
[W 2022-03-11 14:33:17.394 JupyterHub proxy:687] Running JupyterHub without SSL.  I hope there is SSL termination happening somewhere else...
[I 2022-03-11 14:33:17.394 JupyterHub proxy:691] Starting proxy @ http://:8000
[D 2022-03-11 14:33:17.394 JupyterHub proxy:692] Proxy cmd: ['configurable-http-proxy', '--ip', '', '--port', '8000', '--api-ip', '127.0.0.1', '--api-port', '8001', '--error-target', 'http://127.0.0.1:8081/hub/error']
[D 2022-03-11 14:33:17.398 JupyterHub proxy:610] Writing proxy pid file: jupyterhub-proxy.pid
14:33:17.809 [ConfigProxy] info: Proxying http://*:8000 to (no default)
14:33:17.813 [ConfigProxy] info: Proxy API at http://127.0.0.1:8001/api/routes
[D 2022-03-11 14:33:18.339 JupyterHub proxy:728] Proxy started and appears to be up
[D 2022-03-11 14:33:18.342 JupyterHub proxy:821] Proxy: Fetching GET http://127.0.0.1:8001/api/routes
14:33:18.369 [ConfigProxy] info: 200 GET /api/routes 
[I 2022-03-11 14:33:18.369 JupyterHub app:3087] Hub API listening on http://127.0.0.1:8081/hub/
[D 2022-03-11 14:33:18.370 JupyterHub proxy:343] Fetching routes to check
[D 2022-03-11 14:33:18.370 JupyterHub proxy:821] Proxy: Fetching GET http://127.0.0.1:8001/api/routes
14:33:18.372 [ConfigProxy] info: 200 GET /api/routes 
[D 2022-03-11 14:33:18.372 JupyterHub proxy:346] Checking routes
[I 2022-03-11 14:33:18.372 JupyterHub proxy:431] Adding route for Hub: / =&gt; http://127.0.0.1:8081
[D 2022-03-11 14:33:18.373 JupyterHub proxy:821] Proxy: Fetching POST http://127.0.0.1:8001/api/routes/
14:33:18.374 [ConfigProxy] info: Adding route / -&gt; http://127.0.0.1:8081
14:33:18.374 [ConfigProxy] info: Route added / -&gt; http://127.0.0.1:8081
14:33:18.375 [ConfigProxy] info: 201 POST /api/routes/ 
[I 2022-03-11 14:33:18.375 JupyterHub app:3154] JupyterHub is now running at http://:8000
[D 2022-03-11 14:33:18.375 JupyterHub app:2762] It took 1.176 seconds for the Hub to start
[I 2022-03-11 14:33:48.701 JupyterHub log:189] 302 GET / -&gt; /hub/ (@::ffff:172.18.0.1) 0.96ms
[W 2022-03-11 14:33:48.706 JupyterHub base:393] Invalid or expired cookie token
[I 2022-03-11 14:33:48.707 JupyterHub log:189] 302 GET /hub/ -&gt; /hub/login?next=%2Fhub%2F (@::ffff:172.18.0.1) 1.22ms
[I 2022-03-11 14:33:48.744 JupyterHub log:189] 200 GET /hub/login?next=%2Fhub%2F (@::ffff:172.18.0.1) 33.91ms
[D 2022-03-11 14:33:59.053 JupyterHub roles:454] Assigning default role to User admin
[I 2022-03-11 14:33:59.062 JupyterHub roles:366] Adding role user for User: admin
[D 2022-03-11 14:33:59.072 JupyterHub roles:454] Assigning default role to User admin
[D 2022-03-11 14:33:59.077 JupyterHub base:563] Setting cookie for admin: jupyterhub-hub-login
[D 2022-03-11 14:33:59.077 JupyterHub base:559] Setting cookie jupyterhub-hub-login: {'httponly': True, 'path': '/hub/'}
[I 2022-03-11 14:33:59.077 JupyterHub base:807] User logged in: admin
[I 2022-03-11 14:33:59.078 JupyterHub log:189] 302 POST /hub/login?next=%2Fhub%2F -&gt; /hub/ (admin@::ffff:172.18.0.1) 44.18ms
[D 2022-03-11 14:33:59.083 JupyterHub base:281] Recording first activity for &lt;User(admin 0/1 running)&gt;
[D 2022-03-11 14:33:59.090 JupyterHub user:399] Creating &lt;class 'dockerspawner.dockerspawner.DockerSpawner'&gt; for admin:
[I 2022-03-11 14:33:59.091 JupyterHub log:189] 302 GET /hub/ -&gt; /hub/spawn (admin@::ffff:172.18.0.1) 10.39ms
[D 2022-03-11 14:33:59.096 JupyterHub scopes:491] Checking access via scope servers
[D 2022-03-11 14:33:59.096 JupyterHub scopes:402] Argument-based access to /hub/spawn via servers
[D 2022-03-11 14:33:59.096 JupyterHub pages:215] Triggering spawn with default options for admin
[D 2022-03-11 14:33:59.096 JupyterHub base:925] Initiating spawn for admin
[D 2022-03-11 14:33:59.096 JupyterHub base:929] 0/100 concurrent spawns
[D 2022-03-11 14:33:59.096 JupyterHub base:934] 0 active servers
[D 2022-03-11 14:33:59.101 JupyterHub roles:477] Checking token permissions against requested role server
[I 2022-03-11 14:33:59.103 JupyterHub roles:482] Adding role server to token: &lt;APIToken('8e5f...', user='admin', client_id='jupyterhub')&gt;
[I 2022-03-11 14:33:59.111 JupyterHub provider:607] Creating oauth client jupyterhub-user-admin
[D 2022-03-11 14:33:59.129 JupyterHub user:728] Calling Spawner.start for admin
[D 2022-03-11 14:33:59.141 JupyterHub dockerspawner:982] Getting container 'jupyter-admin'
[I 2022-03-11 14:33:59.143 JupyterHub dockerspawner:988] Container 'jupyter-admin' is gone
[D 2022-03-11 14:33:59.145 JupyterHub dockerspawner:1148] Starting host with config: {'auto_remove': False, 'binds': {}, 'links': {}, 'mounts': [], 'mem_limit': 0, 'cpu_period': 100000, 'cpu_quota': 0, 'port_bindings': {8888: ('127.0.0.1',)}, 'network_mode': 'bridge'}
[I 2022-03-11 14:33:59.198 JupyterHub dockerspawner:1272] Created container jupyter-admin (id: 80539e2) from image jupyterhub/singleuser:2.2
[I 2022-03-11 14:33:59.198 JupyterHub dockerspawner:1296] Starting container jupyter-admin (id: 80539e2)
[D 2022-03-11 14:33:59.444 JupyterHub spawner:1253] Polling subprocess every 30s
[I 2022-03-11 14:34:00.098 JupyterHub log:189] 302 GET /hub/spawn -&gt; /hub/spawn-pending/admin (admin@::ffff:172.18.0.1) 1003.46ms
[D 2022-03-11 14:34:00.103 JupyterHub scopes:491] Checking access via scope servers
[D 2022-03-11 14:34:00.103 JupyterHub scopes:402] Argument-based access to /hub/spawn-pending/admin via servers
[I 2022-03-11 14:34:00.103 JupyterHub pages:401] admin is pending spawn
[I 2022-03-11 14:34:00.106 JupyterHub log:189] 200 GET /hub/spawn-pending/admin (admin@::ffff:172.18.0.1) 5.04ms
[D 2022-03-11 14:34:00.148 JupyterHub scopes:491] Checking access via scope read:servers
[D 2022-03-11 14:34:00.148 JupyterHub scopes:402] Argument-based access to /hub/api/users/admin/server/progress via read:servers
[D 2022-03-11 14:34:09.098 JupyterHub dockerspawner:982] Getting container 'jupyter-admin'
[D 2022-03-11 14:34:09.103 JupyterHub dockerspawner:967] Container 80539e2 status: {'Dead': False,
     'Error': '',
     'ExitCode': 0,
     'FinishedAt': '0001-01-01T00:00:00Z',
     'OOMKilled': False,
     'Paused': False,
     'Pid': 375518,
     'Restarting': False,
     'Running': True,
     'StartedAt': '2022-03-11T14:33:59.433584941Z',
     'Status': 'running'}
[W 2022-03-11 14:34:09.103 JupyterHub base:1086] User admin is slow to become responsive (timeout=10)
[D 2022-03-11 14:34:09.103 JupyterHub base:1091] Expecting server for admin at: http://127.0.0.1:49158/user/admin/
[W 2022-03-11 14:34:29.216 JupyterHub user:864] admin's server never showed up at http://127.0.0.1:49158/user/admin/ after 30 seconds. Giving up.
    
    Common causes of this timeout, and debugging tips:
    
    1. The server didn't finish starting,
       or it crashed due to a configuration issue.
       Check the single-user server's logs for hints at what needs fixing.
    2. The server started, but is not accessible at the specified URL.
       This may be a configuration issue specific to your chosen Spawner.
       Check the single-user server logs and resource to make sure the URL
       is correct and accessible from the Hub.
    3. (unlikely) Everything is working, but the server took too long to respond.
       To fix: increase `Spawner.http_timeout` configuration
       to a number of seconds that is enough for servers to become responsive.
    
[D 2022-03-11 14:34:29.217 JupyterHub user:913] Stopping admin
[D 2022-03-11 14:34:29.217 JupyterHub dockerspawner:982] Getting container 'jupyter-admin'
[D 2022-03-11 14:34:29.223 JupyterHub dockerspawner:967] Container 80539e2 status: {'Dead': False,
     'Error': '',
     'ExitCode': 0,
     'FinishedAt': '0001-01-01T00:00:00Z',
     'OOMKilled': False,
     'Paused': False,
     'Pid': 375518,
     'Restarting': False,
     'Running': True,
     'StartedAt': '2022-03-11T14:33:59.433584941Z',
     'Status': 'running'}
[I 2022-03-11 14:34:29.223 JupyterHub dockerspawner:1390] Stopping container jupyter-admin (id: 80539e2)
[D 2022-03-11 14:34:29.584 JupyterHub user:936] Finished stopping admin
[E 2022-03-11 14:34:29.590 JupyterHub gen:623] Exception in Future &lt;Task finished name='Task-30' coro=&lt;BaseHandler.spawn_single_user.&lt;locals&gt;.finish_user_spawn() done, defined at /usr/local/lib/python3.8/dist-packages/jupyterhub/handlers/base.py:945&gt; exception=TimeoutError(&quot;Server at http://127.0.0.1:49158/user/admin/ didn't respond in 30 seconds&quot;)&gt; after timeout
    Traceback (most recent call last):
      File &quot;/usr/local/lib/python3.8/dist-packages/tornado/gen.py&quot;, line 618, in error_callback
        future.result()
      File &quot;/usr/local/lib/python3.8/dist-packages/jupyterhub/handlers/base.py&quot;, line 952, in finish_user_spawn
        await spawn_future
      File &quot;/usr/local/lib/python3.8/dist-packages/jupyterhub/user.py&quot;, line 845, in spawn
        await self._wait_up(spawner)
      File &quot;/usr/local/lib/python3.8/dist-packages/jupyterhub/user.py&quot;, line 889, in _wait_up
        raise e
      File &quot;/usr/local/lib/python3.8/dist-packages/jupyterhub/user.py&quot;, line 859, in _wait_up
        resp = await server.wait_up(
      File &quot;/usr/local/lib/python3.8/dist-packages/jupyterhub/utils.py&quot;, line 241, in wait_for_http_server
        re = await exponential_backoff(
      File &quot;/usr/local/lib/python3.8/dist-packages/jupyterhub/utils.py&quot;, line 189, in exponential_backoff
        raise asyncio.TimeoutError(fail_message)
    asyncio.exceptions.TimeoutError: Server at http://127.0.0.1:49158/user/admin/ didn't respond in 30 seconds
    
[I 2022-03-11 14:34:29.593 JupyterHub log:189] 200 GET /hub/api/users/admin/server/progress (admin@::ffff:172.18.0.1) 29446.80ms
[D 2022-03-11 14:38:18.376 JupyterHub proxy:821] Proxy: Fetching GET http://127.0.0.1:8001/api/routes
14:38:18.377 [ConfigProxy] info: 200 GET /api/routes 
[D 2022-03-11 14:38:18.378 JupyterHub proxy:346] Checking routes
</code></pre>
",646,0,<jupyterhub>,2022-03-11 18:13:42
71437118,"How to add extra container port for singleuser in helm [Jupyterhub, multi notebook for users]","<p>I am using the helm chart of jupyterhub.</p>
<p><a href=""https://github.com/jupyterhub/zero-to-jupyterhub-k8s/tree/main/jupyterhub"" rel=""nofollow noreferrer"">https://github.com/jupyterhub/zero-to-jupyterhub-k8s/tree/main/jupyterhub</a></p>
<p>Instead of just only have port 8888, I want to add extra port for the &quot;singleuser&quot;.</p>
<p>However, seem there are no way in the values.yaml for me to set that value.</p>
<p>Will any body have a good idea for this ?</p>
",220,0,<jupyter-notebook><jupyter><jupyterhub>,2022-03-11 10:28:36
71425338,Jupyter notebook ipywidgets interact does not show Pillow images,"<p>I want to use <code>ipywidgets.interact</code> to show Pillow images similar to what someone already did <a href=""https://linuxtut.com/en/55dc860433d52228ce20/"" rel=""nofollow noreferrer"">here</a>. However, in my case Jupyter would not render the image. Instead it looks like this:</p>
<p><a href=""https://i.stack.imgur.com/JiAp0.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/JiAp0.png"" alt=""Screenshot of Jupyter"" /></a></p>
<p>If I output the image separately into a cell then it displays. Does anyone know how I can fix this?</p>
",324,0,<jupyter-notebook><ipywidgets><dataspell>,2022-03-10 13:57:09
71422628,Using Ipython.display javasript along with interact is producing 2 new code cells instead of one. How do I restrict it to one new code cell?,"<pre><code>def func(x, print_func=False, jupyter_used=True):
    code= Some python code would be called using x
    if print_func==False:
       encoded_code=base64.b64encode(str.encode(code))).decode()
       display(Javascript(&quot;&quot;&quot;
           var code = IPython.notebook.insert_cell_below('code');
                      code.set_text(atob(&quot;{0}&quot;));
                      &quot;&quot;&quot;.format(where, encoded_code)))    
     elif print_function==True:
         print(code)
</code></pre>
<p>interact_manual(func,x=func_list, print_func=False, jupyter_used=fixed(True))</p>
",12,0,<jupyter-notebook><ipython><javascript-objects><ipywidgets>,2022-03-10 10:31:58
71409500,Azure synpase notebook - ipywidgets not showing on using interact,"<p>I am using Azure synapse notebook and i am trying to use Ipywidgets there. The problem I am facing is on using the &quot;Interact&quot; function of the widget. It doesn't shows the widget and just shows the value. Below is the code and the respective output in synapse vs Jupyter notebook.</p>
<pre><code>import ipywidgets as widgets
from IPython.display import display as dp

def func(a):
    display(a)

interact(func,  a=widgets.IntSlider(min=10, max=50, step=2))
</code></pre>
<p>The output in synapse vs jupyter</p>
<p><strong>Jupyter</strong></p>
<p><a href=""https://i.stack.imgur.com/81htu.png"" rel=""nofollow noreferrer"">enter image description here</a></p>
<p><strong>Synpase</strong></p>
<p><a href=""https://i.stack.imgur.com/gMWjU.png"" rel=""nofollow noreferrer"">enter image description here</a></p>
<p>I have also tried using <strong>interactive</strong> function but i am still facing the same issue</p>
",122,0,<python><azure><azure-synapse><ipywidgets>,2022-03-09 12:39:01
71408393,How do I get voila to display the output (ipywidgets) of nested functions?,"<p>My goal is to get this simplified example to work. If I run execute(), widget 1 should be displayed along with a button to add widget 2. If the button is clicked, the whole execute() should be run again and now display widgets 1 and 2. If I call this in my Jupyter notebook, it works fine - however, with voila - only the direct execution of execute() is displayed. Is there any way I can fix this?</p>
<pre><code>import ipywidgets as widgets
from ipywidgets import HBox, VBox
from IPython.display import clear_output

w2 = False

def add_w2(b1):
    
    global w2
    
    w2 = True
    clear_output(wait=False)
    execute()

def execute():
    
    global w2
    
    widget1 = widgets.Text('Widget 1')
    b1 = widgets.Button(description='Add widget 2')
    b1.on_click(add_w2)

    wdgts = HBox([widget1, b1])

    if w2 == True:
        widget2 = widgets.Text('Widget 2')
        widget1.value = 'sss'
        wdgts = VBox([widget1, widget2])
    
    return display(wdgts)
</code></pre>
",209,0,<python><jupyter><ipywidgets><voila>,2022-03-09 11:11:20
71345540,"JupyterHub Azure Gov OAuth posts to non-Gov AAD Authority endpoints, not the ones set in App Registration","<p><strong>Context:</strong></p>
<ul>
<li>I have JupyterHub helm chart deployed on AWS EKS, following instructions here <a href=""https://zero-to-jupyterhub.readthedocs.io/en/latest/kubernetes/index.html"" rel=""nofollow noreferrer"">https://zero-to-jupyterhub.readthedocs.io/en/latest/kubernetes/index.html</a></li>
<li>for SSO for all our apps, we use Azure Gov AD</li>
<li>in Azure App Registration, as required for apps authenticated on Azure Gov, Authority Endpoints are setup correctly to hit <code>https://login.microsoftonline.us/&lt;tenant_id&gt;/oauth2/token</code> as shown in attached pic</li>
<li>however, when I try SSO into JupyterHub, connection in Auth0 is hitting <code>https://login.microsoftonline.com</code> instead, as shown in attached logs from pod running Jupyterhub, resulting in a 500 Status error</li>
</ul>
<p>What could be causing Auth0 connection to hit a different, wrong endpoint not specified in AAD App Registration?</p>
<p>Did anyone face similar issues trying to authenticate an app on Azure Gov?</p>
<p>Is this an error on Azure AD side, or how OAuthenticator is configured on JupyterHub?</p>
<p><a href=""https://i.stack.imgur.com/X3a7A.jpg"" rel=""nofollow noreferrer"">AAD Endpoints</a></p>
<pre><code>k logs hub-78c6c9ff4f-znbxp -n jupyterhub2 --follow
[E 2022-03-03 02:15:58.325 JupyterHub oauth2:389] Error fetching 400 POST https://login.microsoftonline.com/&lt;tenant_id&gt;/oauth2/token: {
     &quot;correlation_id&quot;: &lt;id&gt;,
     &quot;error&quot;: &quot;invalid_request&quot;,
     &quot;error_codes&quot;: [
      900432
     ],
     &quot;error_description&quot;: &quot;AADSTS900432: Confidential Client is not supported in Cross Cloud request.\r\nTrace ID: 9898f82e-b503-4c47-8ae4-859d8d54b500\r\nCorrelation ID: a86756e7-8aaa-4eb9-876a-1db5d145889d\r\nTimestamp: 2022-03-03 02:15:58Z&quot;,
     &quot;timestamp&quot;: &quot;2022-03-03 02:15:58Z&quot;,
     &quot;trace_id&quot;: &quot;9898f82e-b503-4c47-8ae4-859d8d54b500&quot;
    }
</code></pre>
",52,0,<oauth><azure-active-directory><single-sign-on><amazon-eks><jupyterhub>,2022-03-04 01:05:58
71315805,how do I use a browse button instead of with open function using python,"<p>I wanted my code to have a button that lets me select the file I wanted to use instead of manually typing the file name in the code. My file is the file1234 as you can see below from my code. I also wanted to use <strong>ipywidgets</strong> if possible.</p>
<pre><code>from openpyxl import Workbook

wb = Workbook()

with open('file1234.txt', encoding='utf-8') as blah:
    row = 1
    column = 1
    ws = wb.active
    
    lines = [line for line in blah.readlines()
            if 'entered the channel' not in line
            and 'left the channel' not in line]
    
    for line in lines:
        if column == 1:
            ## split the line and rejoin
            value = &quot; &quot;.join(line.strip().split(' ')[2:])
        else:
            value = line.strip()
            
        ws.cell(row=row, column=column, value=value)
        
        if (column := column + 1) &gt; 3:
            row += 1
            column = 1
            
    for column_cells in ws.columns:
        length = max(len(str(cell.value)) for cell in column_cells)
        ws.column_dimensions[column_cells[0].column_letter].width = length

    wb.save('txt_toexl.xlsx')
</code></pre>
",37,0,<python><ipywidgets>,2022-03-01 23:31:11
71288962,Jupyterhub Bitnami pod evicted,"<p>I have installed helm chart for jupyterhub bitnami over GKE.</p>
<p>When a singleuser pod is created, it gets &quot;evicted&quot; after some time because of ephermal storage with following error</p>
<p>&quot;Pod ephemeral local storage usage exceeds the total limit 1Gi&quot;</p>
<p>I did not find in documentation how to increase ephermal storage. Can you please tell how can I increase this ephermal storage or what is the alternative way to fix this issue?</p>
<p><a href=""https://i.stack.imgur.com/5G1oQ.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/5G1oQ.png"" alt=""enter image description here"" /></a></p>
",94,0,<jupyter-notebook><google-kubernetes-engine><jupyter-lab><bitnami><jupyterhub>,2022-02-27 22:30:48
71271096,Remove waste info from plots,"<p>in my code I use matplot package as</p>
<pre><code>import matplotlib.pyplot as plt
</code></pre>
<p>and ipywidget package as</p>
<pre><code>import ipywidgets as widgets
</code></pre>
<p>this is my function:</p>
<pre><code>def run_LagGraph(ev): 

    clear_output()
    DisplaySeptatedButtons(2)
    fig3, (ax1) = plt.subplots(figsize=(18,10),facecolor='cornsilk', nrows=1, ncols=1)
    plt.subplots_adjust(left=None, bottom=None, right=None, top=None, wspace=None, hspace=0.6)

    ax1.hist(dfp.lag, bins=bins_list , alpha=0.5,edgecolor='Blue',lw=2, color='navy')

    span10=ax1.axvspan(0,0,color=&quot;Red&quot;,alpha=0.4)
    span11=ax1.axvspan(0,0,color=&quot;green&quot;,alpha=0.4)
    span12=ax1.axvspan(0,0,color=&quot;Yellow&quot;,alpha=0.4)
    span13=ax1.axvspan(0,0,color=&quot;Red&quot;,alpha=0.4)


    ax1.set_xticks(ticks_list)
    ax1.set_title(label=f&quot;{ProjectName} \n Activities Lag Duration Distribution&quot;
                  ,fontsize=17,
                  color=&quot;black&quot;,
                  loc=&quot;center&quot;,
                  fontstyle='italic')
    
    ax1.set_xlabel('Duration Range')
    ax1.set_ylabel('# of Activities')
    
    pdqg2=pdq.loc[pdq.index==2]
    g2str=pdqg2.at[2,'quality_note_general']

    ax1.text(0.2,-0.08,g2str, transform=fig3.transFigure, size=14)
    
    plt.close()
    
    def fun(g,y,r,r0,sy):
        span10.set_xy([[0,0],[0,1],[r0,1],[r0,0]])
        span11.set_xy([[0,0],[0,1],[g,1],[g,0]])
        span12.set_xy([[g,0],[g,1],[y,1],[y,0]])
        span13.set_xy([[y,0],[y,1],[r,1],[r,0]])
        ax1.set_xlim([r0, sy]) 
        display(fig3,span10, span11, span12, span13 )
        
    r0= widgets.IntSlider(min=-140, max=0, step=7, value=0,description = 'Red Zone:&lt;0', layout=widgets.Layout(width=&quot;30%&quot;))
    g= widgets.IntSlider(min=0, max=1000, step=7, value=42,description = 'Green Zone', layout=widgets.Layout(width=&quot;30%&quot;))
    y= widgets.IntSlider(min=0, max=1000, step=7, value=84,description = 'Yellow Zone', layout=widgets.Layout(width=&quot;30%&quot;))
    r= widgets.IntSlider(min=0, max=1000, step=7, value=140,description = 'Red Zone', layout=widgets.Layout(width=&quot;30%&quot;))
    sy=widgets.IntSlider(min=0, max=1000, step=7, value=140,description = 'Duration Range', layout=widgets.Layout(width=&quot;30%&quot;))
    
    sliders= widgets.HBox([r0,g,y,r,sy])
    out = widgets.interactive_output(fun, {'r0': r0,'g': g, 'y': y, 'r': r, 'sy': sy})
    
    display(sliders,out)  
</code></pre>
<p>you can set bins_list,ticks_list,pdqg2 and other data's anything you want.</p>
<p>the problem is this:</p>
<p>when i use this function :</p>
<pre><code>widgets.interactive_output 
</code></pre>
<p>from ipywidgets package this notes will appear:
<a href=""https://i.stack.imgur.com/HfLVe.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/HfLVe.png"" alt=""Plot"" /></a></p>
<p>any solution to remove these?</p>
",33,0,<python><python-3.x><matplotlib><ipywidgets>,2022-02-25 19:55:08
71250235,refresh matplotlib in Jupyter when updating with ipywidget,"<p>I want to draw a line in a Jupyter notebook, which can be moved using an ipywidget slider. I also want to have the mouse coordinates displayed, for which I'm using <code>%matplotlib notebook</code>. Here is what I have so far :</p>
<pre><code>%matplotlib notebook
from ipywidgets import interact


fig, ax = plt.subplots()

@interact(n=(-200, 0))
def show(n):
    # fig.clear() #doesn't show anything
    y = -n+x
    ax.plot(x, y)
    
    plt.show()
</code></pre>
<p>When moving the line using the slider, the plot doesn't refresh, all previous positions of the line
remain visible:
<a href=""https://i.stack.imgur.com/eMWqU.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/eMWqU.png"" alt=""enter image description here"" /></a></p>
<p>I tried to refresh using <code>fig.clear()</code>, but then noting shows.</p>
<p>How can I solve this?</p>
",381,0,<python><matplotlib><jupyter><ipywidgets>,2022-02-24 10:04:17
71246223,How to apply selecting a file button in python,"<p>I learned how to create a select file button but I don't know how to apply it to the code as you can see below.</p>
<pre><code>from openpyxl import Workbook
# import copy

wb = Workbook()

with open('chat_20220222152420.txt', encoding='utf-8') as sherr:
    row = 1
    column = 1
    ws = wb.active
    for line in sherr:
        if column == 1:
            ## split the line and rejoin
            value = &quot; &quot;.join(line.strip().split(' ')[2:])
        else:
            value = line.strip()
            
        ws.cell(row=row, column=column, value=value)
        
        if (column := column + 1) &gt; 3:
            row += 1
            column = 1
            
    wb.save('Chatchatchat.xlsx')
</code></pre>
<p>Instead of using the with open(), I wanted to use a button to choose the file I wanted to open. Below is the code I tried for selecting a file. I just don't know how to apply it in the above code :'(</p>
<pre><code>from ipywidgets import Button
from tkinter import Tk, filedialog
from IPython.display import clear_output, display

def select_files(b):
    
    root = Tk()
    root.withdraw()                                       # Hide the main window.
    root.call('wm', 'attributes', '.', '-topmost', True)  # Raise the root to the top of all windows.
    b.files = filedialog.askopenfilename(multiple=False)  # List of selected files will be set button's file attribute.
    print(b.files)                                        # Print the list of files selected.
    
fileselect = Button(description=&quot;File select&quot;)
fileselect.on_click(select_files)

display(fileselect)
</code></pre>
",143,0,<python><button><ipywidgets>,2022-02-24 02:05:14
71236309,How to give permissions write and Read to a mount folder in docker container,"<p>I want to do a binding (mount volume) between the jupyterLab and the VM. The only problem is the permissions, the folder that I create <code>(/home/jovyan/work)</code> always have a root permissions. I cannot create anything inside. I tried many solutions: In a docker file I tried this solution:</p>
<pre><code>FROM my_image
RUN if [[ -d &quot;$HOME/toto&quot; ]] ; then echo OK ; else mkdir &quot;$HOME/toto&quot; ; fi
RUN chmod 777 $HOME/toto
</code></pre>
<p>==&gt; always I got no permissions on the mounted folder</p>
<pre><code>ARG NB_DIR=/tmp/lab_share
RUN mkdir &quot;$NB_DIR&quot;
RUN chown :100 &quot;$NB_DIR&quot;
RUN chmod g+rws &quot;$NB_DIR&quot;
RUN apt-get install acl
RUN setfacl -d -m g::rwx &quot;$NB_DIR&quot;
USER root
</code></pre>
<p>==&gt; The problem here is the setfacl is not recognized in the container, I tried to install it just before, always not acceptable.</p>
<p>I tried to add a GRANT_SUDO in the jupyterHub service</p>
<pre><code>extraEnv:
      GRANT_SUDO: &quot;yes&quot;
</code></pre>
<p>==&gt; The problem here is the extraEnv is not recognized</p>
<p>I tried to create a method in the jupyterHub_config file, just after the binding code:</p>
<pre><code>    notebook_dir = os.environ.get('DOCKER_NOTEBOOK_DIR') or '/home/jovyan/work'
    c.DockerSpawner.notebook_dir = notebook_dir
    c.DockerSpawner.volumes = { &quot;/tmp/{username}&quot; :notebook_dir}
    c.DockerSpawner.remove_containers = True


##### CREATE HOOKER
def create_dir_hook(spawner):
    username = spawner.user.name # get the username
    logger.info(f&quot;### USERNAME {username}&quot;)
    volume_path = os.path.join('/tmp', username)
    logger.info(f&quot;### USERNAME {volume_path}&quot;)
    if not os.path.exists(volume_path):
        # create a directory with umask 0755
        # hub and container user must have the same UID to be writeable
        # still readable by other users on the system
        logger.info(f&quot;FOLDER FOR USER {username} not existing&quot;)
        logger.info(f&quot;CREATING A FOLDER IN {volume_path}&quot;)
        os.mkdir(volume_path, 0o777)
        # now do whatever you think your user needs
        # ...
    logger.info(&quot;coucou&quot;)
# attach the hook function to the spawner
c.Spawner.pre_spawn_hook = create_dir_hook
</code></pre>
<p>In this solutions the compilator don't read all the if bloc, even the else bloc. I found in the docker doc, that is a famous issue in docker, but I didn't find it's solution. Really I need your help please, if you have any solution I will be appreciate. Thanks a lot.</p>
",2003,0,<docker><docker-compose><jupyter-notebook><jupyter-lab><jupyterhub>,2022-02-23 11:43:08
71217692,How to check which authenticator_class is used by jupyterhub without reading jupyterhub_config file?,"<p>I'm dynamically setting different authenticator class in jupyterhub_config file.</p>
<p><code>jupyterhub_config.py</code></p>
<blockquote>
<p><code>c.JupyterHub.authenticator_class = &quot;authenticator_A&quot;</code></p>
</blockquote>
<p>Now i want to check which autheticator is used in notebook cell.
How can i get this class without reading the file?</p>
",126,3,<python><jupyter-notebook><jupyter-lab><jupyterhub><authenticator>,2022-02-22 07:56:00
71207654,How can we connect to remote spark cluster via jupyterhub?,"<p>First of all my agenda is to be able to use spark codes inside jupyterhub. In other words I want to connect a remote spark cluster to jupyterhub. After searching about it I came up with two solutions:1)Livy and 2)spark magic. I have tried Livy but since it doesn't support spark version 3 I have put that one aside, also another way we considered was via spark magic but we couldn't install or even find a good documentation about it.</p>
<p>what came into our minds was somehow merge the two image of spark and jupyterhub together to gain what we need.
Does anyone have any idea how it can be done or a better suggestion?
Even a good documentation about spark magic that we can use would be wonderful.
thank you for your help.</p>
",148,1,<apache-spark><jupyterhub><livy>,2022-02-21 14:04:35
71206490,Make Matplotlib widget background color match dark theme in Visual Studio Code,"<p>If I use a dark theme in Visual Studio Code and in Matplotlib, the figure can be configured to have dark background, but the background of the widget / cell is still white.</p>
<pre class=""lang-python prettyprint-override""><code>%matplotlib widget

import matplotlib.pyplot as plt
import numpy as np

plt.style.use('dark_background')

figure, axis = plt.subplots()

axis.plot(np.arange(100))
</code></pre>
<p><a href=""https://i.stack.imgur.com/tT1QB.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/tT1QB.png"" alt=""Image of plot in Visual Studio Code"" /></a></p>
<p>This also happens if I use the option of the Jupyter extension to use the Visual Studio Code theme in the <a href=""https://en.wikipedia.org/wiki/IPython#Project_Jupyter"" rel=""nofollow noreferrer"">notebook</a> (actually, then it's even worse because the axis labels are not visible).</p>
<p>Note, that I need to use <code>%matplotlib widget</code> as a renderer, and cannot use <code>%matplotlib inline</code>. For inline, I found a configuration that works.</p>
<p>In the browser, it works if I select the Jupyter dark theme, so I guess, I would kind of select a different &quot;theme&quot; in the Jupyter renderer extension, if something like this is possible (?)</p>
<p><a href=""https://i.stack.imgur.com/luT51.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/luT51.png"" alt=""Image of the plot in a browser"" /></a></p>
<p>Is there a way to configure the Jupyter extension / Visual Studio Code / ... to have a real &quot;dark mode for Matplotlib&quot;?</p>
",566,10,<matplotlib><visual-studio-code><jupyter><ipywidgets>,2022-02-21 12:40:33
71150252,"Widget inside function, can I access its value(s) later but avoiding the use of `global`?","<p>I have the following in a Jupyter notebook cell</p>
<pre><code>import ipywidgets as w

def input_data(n):
    global grid
    grid = w.GridspecLayout(n, 3)
    for i in range(n):
        for j in range(3):
            grid[i, j] = w.FloatText(
                description='$%s%d}$'%(['L_{',r'q_{\text{min, }',r'q_{\text{max, }'][j], i+1),
                layout = w.Layout(width='250px'),
                style={'description_width': '80px'}
            )
    display(grid)
    
bi = w.BoundedIntText(
    value=2,
    min=2,
    max=5,
    step=1,
    description='Number of spans:',
    disabled=False,
    style={'description_width': 'initial'}
)

out = w.interactive_output(input_data, {'n': bi})
display(bi, out)
</code></pre>
<p>and it works:<br />
<a href=""https://i.stack.imgur.com/OZ5Zx.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/OZ5Zx.png"" alt=""enter image description here"" /></a></p>
<p>and I can access the <code>grid.children</code> in later cells to perform my analyses, but I'd like to avoid the use of <code>global</code> in the function, is this possible?</p>
",19,0,<python><jupyter-notebook><ipywidgets>,2022-02-16 22:48:42
71148286,jupyter-lab: How to stop a long-running function with an ipywidget button?,"<p>In jupyter-lab I have a long running function <code>long_runner()</code> doing some heavy numeric computation. I would like to be able to stop this function by clicking on an ipywidget button. Interrupting the kernel is not an option since other parts of the GUI should continue working.</p>
<p>Here is a code example with a button which sets a stop flag. This stop flag is used in <code>long_runner</code> to break out of the loop. When <code>long_runner</code> is active, the Button seems to be reactive to clicks, but the associated function <code>set_stop_flag</code> is only executed after <code>long_runner</code> has finished normally and thus no intermediate stop is possible.</p>
<p>I looked at some examples with asyncio but could not find something fitting this use-case with a heavy-compute function.</p>
<p>How could the desired behavior be acchieved?</p>
<pre class=""lang-py prettyprint-override""><code>from ipywidgets import Button

stop_flag = 0
def set_stop_flag(b):
    global stop_flag
    print(&quot;stop flag activated&quot;)
    stop_flag = 1
    
b=Button(description=&quot;stop&quot;)
b.on_click(set_stop_flag)
display(b)

def long_runner():
    x=0
    print(&quot;starting ...&quot;)
    for i in range(100000000):
        if stop_flag==1:
            print(&quot;stop=&quot;,stop_flag)
            break
        x += i*i
    print(&quot;stopping&quot;,i)
    return(x,i)

print(long_runner())
</code></pre>
<p>Here is the program output when the stop-button is clicked during the execution of <code>long-runner</code>:</p>
<p><a href=""https://i.stack.imgur.com/iK9Gw.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/iK9Gw.png"" alt=""enter image description here"" /></a></p>
",235,0,<python><python-asyncio><jupyter-lab><ipywidgets>,2022-02-16 19:38:36
71133865,Generate linked dropdown ipywidget in a for loop -> one per multiindex level,"<p>I would like to select part of a pandas MultiIndex DataFrame to apply some post-processing (mainly to plot some graphs).</p>
<p>To do so, I would like to use one DropDown ipywidgets per MultiIndex level. And I would like to have a function capable of generate this widgets no matter the number of levels the DataFrame have.</p>
<p>Let's assume we have the following DataFrame (MultiIndex with 3 levels):</p>
<pre><code>d = {'num_legs': [4, 4, 2, 2],
 'num_wings': [0, 0, 2, 2],
 'class': ['mammal', 'mammal', 'mammal', 'bird'],
 'animal': ['cat', 'dog', 'bat', 'penguin'],
 'locomotion': ['walks', 'walks', 'flies', 'walks']}
df = pd.DataFrame(data=d)
df = df.set_index(['class', 'locomotion', 'animal'])
</code></pre>
<p>I would like to have a first dropdown widget allowing to choose among &quot;mammal&quot; or &quot;bird&quot;. The second dropdown widget, will then allow the choice among &quot;walks&quot; and &quot;flies&quot; depending on the first choice (actually, choosing bird will give only &quot;walks&quot; as possible choice because of DataFrame data). The third one would propose the available animals depending on the previous choices.</p>
<p>Here follows my code...nearly working : the first two dropdowns interact correctly but the subsequent ones keeps staying empty...</p>
<pre><code>def multi_index_dropdown(df,n_of_levels_to_expands=None) :

n_of_levels_to_expands = df.index.nlevels
dd = {}

dd[0] = widgets.Dropdown(options=df.index.unique(level=0),
                                 description=df.index.names[0],
                                 disabled=False)
def make_update(ln) :
    def update_level(*args) :
        dd[ln].options = df.loc[dd[ln-1].value].index.unique(level=0)
    return update_level

update_levels = {}

for level_n in range(1,n_of_levels_to_expands) :
    dd[level_n] = widgets.Dropdown(description=df.index.names[level_n],
                                   disabled=False)

    update_levels[level_n] = make_update(level_n)
    
    dd[level_n-1].observe(update_levels[level_n],'value')

display(dd[0],dd[1],dd[2])

return dd
choice = multi_index_dropdown(df)
</code></pre>
<p>What's going wrong here?
Additional information:</p>
<ul>
<li>I am working with jupyter lab (I do not think this is important...).</li>
<li>This is the first time I use a function (make_update) to create function in a for loop. However, I understood it was useful to pass the proper &quot;level_n&quot; argument...hoping I used it right!</li>
</ul>
",113,0,<python><pandas><drop-down-menu><multi-index><ipywidgets>,2022-02-15 21:54:02
71102313,Ipywidgets button and dropdown not showing showing output in Jupyter lab,"<p><strong>I am trying to create a small project using Button and Dropdown widgets from ipywidgets in Jupyter Lab. Sample code is</strong></p>
<pre><code>btn = widgets.Button(description='Mark')
display(btn)
def btn_eventhandler(obj):
    print('The name is {} !'.format(obj.description))
btn.on_click(btn_eventhandler)
</code></pre>
<p><strong>I get the button but it does not give any output on clicking as seen in image below. There is no error message either.</strong>
<a href=""https://i.stack.imgur.com/rIxZM.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/rIxZM.png"" alt=""enter image description here"" /></a></p>
<p><strong>The result that i want can be seen in the log  classified under <em>warning</em> as seen in the image below</strong></p>
<p><a href=""https://i.stack.imgur.com/Vyn8L.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/Vyn8L.png"" alt=""enter image description here"" /></a></p>
<p><strong>The same issue also arises in using Dropdown. <em>However, Intslider widget works fine without any issues</em></strong></p>
<p><strong>I have tried some of the suggestions mentioned in these threads but none worked</strong></p>
<ol>
<li><a href=""https://stackoverflow.com/questions/49542417/how-to-get-ipywidgets-working-in-jupyter-lab"">How to get ipywidgets working in Jupyter Lab?</a></li>
<li><a href=""https://stackoverflow.com/questions/62419844/jupyter-notebook-ipywidgets-not-showing-no-error"">jupyter notebook ipywidgets not showing (no error)</a></li>
<li><a href=""https://stackoverflow.com/questions/52590291/interactive-jupyter-widgets-not-working-in-jupyter-lab"">Interactive Jupyter Widgets not working in Jupyter Lab</a></li>
</ol>
<p>These are the jupyter versions that are currently installed-</p>
<ul>
<li>jupyter core     : 4.7.0</li>
<li>jupyter-notebook : 6.2.0</li>
<li>qtconsole        : 5.0.1</li>
<li>ipython          : 7.31.0</li>
<li>ipykernel        : 5.4.2</li>
<li>jupyter client   : 6.1.7</li>
<li>jupyter lab      : 3.0.12</li>
<li>nbconvert        : 6.0.7</li>
<li>ipywidgets       : 7.6.5</li>
<li>nbformat         : 5.0.8</li>
<li>traitlets        : 4.3.3</li>
</ul>
<p><strong>Is there something that I am doing wrong? I tried running the same in Jupyter Notebook where it works fine
Thank you</strong></p>
",698,1,<python><ipywidgets>,2022-02-13 15:49:36
71064168,Jupyterhub | Cull | SingleUser | Heml,"<p>I have implemented Jupyterhub using Helm chart. I want to remove the user if the user is inactive for specific time. I have implemented that with cull but the problem is that it removes admin user as well. I just want to remove other user apart from admin. <a href=""https://i.stack.imgur.com/YJWyP.png"" rel=""nofollow noreferrer"">Here is the cull instrucitons</a></p>
",37,0,<jupyter-notebook><kubernetes-helm><jupyter-lab><jupyterhub><jupyter-irkernel>,2022-02-10 11:18:49
71054069,IPywidgets create vmin/vmax slider doesn't work,"<p>I'm new to Python and I'm struggling with creating interactive Images. I programmed a  function that plots an Image from a 3D Matrix. I managed to create a slider to go through slices of the 3D data (first dimension of the matrix).</p>
<p>However, when I try to make a slider for <code>vmin</code> and <code>vmax</code>, I get the error:</p>
<blockquote>
<p>ValueError: cannot find widget or abbreviation for argument: 'v1'</p>
</blockquote>
<p>My code:</p>
<pre><code>def signalPlot(mat, num):
    sigPlot, ax = plt.subplots()
    sigPlotAx = ax.imshow(mat[num,:,:])
    plt.colorbar(sigPlotAx)
    plt.show()
    return sigPlot, sigPlotAx

def updateSP(num1, v1, v2):
    sigPlotAx.set_data(cleanMat[num1,:,:])
    sigPlotAx.set_clim(vmin=v1, vmax=v2)

sigPlot, sigPlotAx = signalPlot(3DMat,0)
plt.draw()

interact(updateSP, num1=widgets.IntSlider(min=0, max=np.shape(cleanMat)[0]-1, step=1))
interact(updateSP, v1=widgets.IntSlider(min=0, max=0.5, step=.01))
interact(updateSP, v2=widgets.IntSlider(min=0.5, max=2, step=.01))
</code></pre>
",25,0,<image><slider><jupyter-lab><interactive><ipywidgets>,2022-02-09 17:27:21
71053457,Multithreading in Google Colab with communication between Javascript and IPython Kernel,"<p>my problem is the following:</p>
<ol>
<li>There's along running function that sends data to the HTML widget interface</li>
<li>The interface needs to stay interactive and trigger other functions immediately</li>
</ol>
<p>I created an interface with the IPython HTML Widget. The widgets has buttons, etc. Inside this widget I'm displaying dynamically changing messages that are send from a python function using a <a href=""https://stackoverflow.com/a/63625591/18012482"">comm channel from client to kernel</a>. This function takes quite some time and while it is running, it's blocking the interface from reacting to button clicks. Those button clicks are only executed after the function has stopped running. As I want these things to happen simultaneously I tried to put in a different thread so it doesn't block the kernel. But on Google Colab after I start the thread, the cell stops and nothing happens. I've taken a look at this: <a href=""https://stackoverflow.com/questions/56720478/python-semaphore-does-not-seem-to-work-in-google-colab"">Python Semaphore does not seem to work in Google Colab</a> But the solution of thread.join() does not work for me, because this blocks the kernel yet again.</p>
<p>Now I'm very new to threading and all of this but I can't get both the training function and the interface running. And I'm probably having a terrible approach to all of this. I also tried to look into Asyncio, but I guess I'm lacking the right understanding for my problem.</p>
<p>Here's the content of my HTML widget:</p>
<pre><code>html = &quot;&quot;&quot;
&lt;div&gt;
&lt;div id=&quot;message&quot;&gt;Message display&lt;/div&gt;
&lt;button id=&quot;button&quot;&gt;Click&lt;/button&gt;
&lt;/div&gt;
  
&quot;&quot;&quot;
javascript = &quot;&quot;&quot;&lt;script&gt;
var kernel = google.colab.kernel;
(async () =&gt; {
  const channel = await kernel.comms.open('comm_target');

  (async function() {
    for await (const message of channel.messages) {
      console.log(message.data)
      document.getElementById(&quot;message&quot;).innerHTML = message.data
    }
  })();
})()

/*  Button click */
const addBtn = document.querySelector('#button');
addBtn.addEventListener('click', function(e) {
  e.preventDefault();
  kernel.invokeFunction(&quot;button_click&quot;);
});
/* start long function */
kernel.invokeFunction(&quot;start_function&quot;);
&lt;/script&gt;
&quot;&quot;&quot;
</code></pre>
<p>And here are my functions in Python:</p>
<pre><code>import ipywidgets as widgets
from IPython.display import display, HTML, Image
import google.colab.output
import json
import threading
import time

#this part is from the stackoverflow answer
comm_ = None

def target_func(comm, msg):
  global comm_
  comm_ = comm 

  ## Register handler for later messages
  @comm.on_msg
  def _recv(msg):
    # Use msg['content']['data'] for the data in the message
    comm.send({'echo': msg['content']['data']})
        
  @comm.on_close
  def _close(msg):
    global comm_
    comm_ = None

get_ipython().kernel.comm_manager.register_target('comm_target', target_func)

#simulation for the long running function
def long_function():
   for i in range(100):
     time.sleep(2)
     comm_.send(data=i)

#button click for testing
def button_click():
  print(&quot;Button clicked&quot;) 

google.colab.output.register_callback('button_click', button_click)

def start():
  mainthread = threading.Thread(target = long_function)
  mainthread.start()
  #mainthread.join()

google.colab.output.register_callback('start_function', start)  

whtml = widgets.HTML(value = (html + javascript))
display(whtml)
</code></pre>
",270,1,<javascript><multithreading><ipython><google-colaboratory><ipywidgets>,2022-02-09 16:42:29
71033953,Automating the execution of a Jupyter notebook in Azure,"<p>I have a script in the Jupyter notebook, which creates interactive graphs for the data set that it is provided. I then convert the output as an HTML file without inputs to create a report for that dataset to be shared with my colleagues.
I have also used papermill to parametrize the process, that I send it the name of the file and it creates a report for me. All the datasets are stored in Azure datalake.</p>
<p>Now it is all very easy when I am doing it in my local machine, but I want to automate the process to generate reports for the new incoming datasets every hour and store the HTML outputs in the azure datalake, I want to run this automation on the cloud.</p>
<p>I initially began with using automation accounts, but I didnot know how to execute a jupyter notebook in the automation accounts, and where to store my .ipynb file. I have also looked at the jupyter hub server (VM) on azure cloud but I am unable to understand how to automate it as well.</p>
<p>Can any one help me with a way to automate the entire process on the Azure Cloud in the cheapest way possible, because I have to generate a lot of reports.</p>
<p>Thanks!</p>
",379,0,<azure><automation><jupyter-notebook><virtual-machine><jupyterhub>,2022-02-08 12:30:37
71015823,"Livy on K8S, namespace restriction","<p>I have spark (3.0.1), livy (0.8.0) and Jupyterhub (sparkmagic) running on K8S in specific namespace, Kubernetes master is used as a resource manager.</p>
<p>When trying to create pyspark session in Jupyterhub's notebook I get the error:</p>
<blockquote>
<p>22/02/04 12:09:16 WARN InteractiveSession: Failed to stop RSCDriver.
Killing it... 22/02/04 12:09:18 WARN InteractiveSession: Error
stopping session 2.
io.fabric8.kubernetes.client.KubernetesClientException: Failure
executing: GET at:
<a href=""https://kubernetes.default.svc.cluster.local/api/v1/pods?labelSelector=spark-app-tag%2Cspark-role%3Ddriver%2Cspark-app-selector"" rel=""nofollow noreferrer"">https://kubernetes.default.svc.cluster.local/api/v1/pods?labelSelector=spark-app-tag%2Cspark-role%3Ddriver%2Cspark-app-selector</a>.
Message: Forbidden!Configured service account doesn't have access.
Service account may have been revoked. pods is forbidden: User
&quot;system:serviceaccount:namespace:livy-acc&quot; cannot list resource
&quot;pods&quot; in API group &quot;&quot; at the cluster scope.</p>
</blockquote>
<p>This error states that livy's Kubernetes client tries to list all the pods clusterwide but lacking permissions to do that.</p>
<p>Is it possible to restrict/limit the livy to operate in a certain namespace on Kubernetes, as the alternative of giving away cluster role is not an option due some security concerns.</p>
",316,0,<apache-spark><kubernetes><jupyterhub><livy>,2022-02-07 08:59:45
71013045,ipywidgets button onclick event is not raising the onclick method,"<pre><code>import ipywidgets as widgets

button = widgets.Button(description=&quot;Click Me!&quot;)
output = widgets.Output()

display(button, output)

def on_button_clicked():
    print(&quot;button clicked&quot;)

button.on_click(on_button_clicked)
</code></pre>
<p>The button shows up.. but when I click on the button, I expect to see the message &quot;button clicked&quot; to show up.  But that's not happening.</p>
<p>Is there something I'm missing here?<br />
I am using vscode to run my jupyter notebook.</p>
",1676,2,<python><visual-studio-code><ipywidgets>,2022-02-07 03:03:43
71007094,"Jupyter Hub shows ""Error Starting Kernel - Unhandeled error"" without showing further information","<p>I am using jupyter hub with <a href=""https://jupyterhub.readthedocs.io/en/stable/"" rel=""nofollow noreferrer"">multiple users</a>.  I have created new environment few days ago. It seemed to work, I left it for few days, and today when I try to open notebook and set kernel I have pop-up  error message:</p>
<blockquote>
<p>&quot;Error Starting Kernel - Unhandled error&quot;
<a href=""https://i.stack.imgur.com/7W8yF.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/7W8yF.png"" alt=""enter image description here"" /></a></p>
</blockquote>
<p>I know two things that maybe related to this error:</p>
<ol>
<li>The new environment set few days ago</li>
<li>I am running out of memory</li>
</ol>
<p>I have read <a href=""https://github.com/jupyter/notebook/issues/5207"" rel=""nofollow noreferrer"">this</a> post  and I have chcked the version I have of jupyter_client (7.1.0) and jupyter_core (4.9.1) which seems to be more updated than the ones in the answer post, so I beleive that this is not the issue.</p>
<p>I have also tried to remove that environment but got error in the end:</p>
<blockquote>
<p>[Errno 28] No space left on device</p>
</blockquote>
<p>I have also tried just to remove some files I have to have memory but the delet is failing.</p>
<p>I am not sure if the source of the error is the environment or the memory or both, but need some clue to solve it.<br />
<strong>My end goal is to have my jupyter hub working again- being able to set kernel and removing files.</strong></p>
",55,0,<error-handling><kernel><jupyterhub>,2022-02-06 12:23:25
70995856,Kernel for JupyterLab with environment modules,"<p>Is it possible to first load an environment in a kernel? I would like to activate something via:</p>
<pre><code>module load &lt;something&gt;
</code></pre>
<p>This will activate some extensions in a version which are not the default ones. Is there some option I could use in:</p>
<pre><code>{
 &quot;argv&quot;: [
  &quot;/usr/bin/python&quot;,
  &quot;-m&quot;,
  &quot;ipykernel_launcher&quot;,
  &quot;-f&quot;,
  &quot;{connection_file}&quot;
 ],
 &quot;display_name&quot;: &quot;Python 3 (ipykernel)&quot;,
 &quot;language&quot;: &quot;python&quot;,
 &quot;metadata&quot;: {
  &quot;debugger&quot;: true
 }
}
</code></pre>
",56,0,<jupyter-notebook><jupyter><jupyterhub><environment-modules>,2022-02-05 06:48:42
70989869,ipyvolume volshow() - What shape should my data be to make 3d model?,"<p>I am trying to use the ipyvolume python library to plot a 3d point cloud. We have used the Open3D package to generate this 3D point cloud. I want to do something very similar to the documentation examples: <a href=""https://ipyvolume.readthedocs.io/en/latest/examples/volshow.html"" rel=""nofollow noreferrer"">https://ipyvolume.readthedocs.io/en/latest/examples/volshow.html</a></p>
<p>I understand that the ipyvolume methods such as <code>ipv.volshow()</code> expects an array of data. I have an array of data that looks like this:</p>
<pre><code>P = array([[ 0.0051742 ,  0.10626399,  0.01062735, ...,  0.01879627,
    -0.01922575, -0.05036209],
   [-2.2630372 , -0.38258322,  0.08570537, ..., -0.04932544,
     0.0137127 , -0.02299847],
   [-0.23068776,  0.05513662, -0.42779801, ...,  0.00773981,
    -0.04239558, -0.06303643],
   ...,
   [-0.22129507,  0.32924513,  0.02123527, ..., -0.1875066 ,
     0.35197259, -0.11491861],
   [ 0.87214987, -0.64629679, -0.0212894 , ..., -0.10913009,
    -0.06635196,  0.08411509],
   [-0.04259179,  0.11791404, -0.18094207, ...,  0.16721471,
     0.1883819 , -0.01183254]])
</code></pre>
<p>The error message I have when trying to use this data is:</p>
<pre><code>TypeError: _grow_limits() missing 1 required positional argument: 'z'
</code></pre>
<p>This leads me to believe that my array of data is not in the correct shape. Can someone please give an example of what shape my data should be or an example of how to use this data in the <code>ipv.volshow()</code> function?</p>
",84,0,<python><ipywidgets><open3d>,2022-02-04 16:38:43
70976946,What is wrong with my JupyterHub config file ? Error when using helm to install Jupyter,"<p>I am attempting to deploy JupyterHub into my kubernetes cluster as i want to have it integrated with a self hosted Gitlab instance running in the same cluster.</p>
<p>I have followed the steps on the Gitlab documentation page as shown <a href=""https://docs.gitlab.com/ee/user/project/clusters/runbooks/"" rel=""nofollow noreferrer"">here</a>.</p>
<p>however when attempt to install this helm chart with this command</p>
<p><code>helm install jupyterhub/jupyterhub --namespace jupyter --version=1.2.0 --values values.yaml --generate-name</code> ... i get the below errors.</p>
<pre><code>- (root): Additional property gitlab is not allowed
- hub.extraConfig: Invalid type. Expected: object, given: string
- ingress: Additional property host is not allowed
</code></pre>
<p>I am using helm chart from <a href=""https://github.com/jupyterhub/helm-chart"" rel=""nofollow noreferrer"">https://github.com/jupyterhub/helm-chart</a>. see below for my values.yaml</p>
<p><strong>VALUES.YAML</strong></p>
<pre><code>#-----------------------------------------------------------------------------
# The gitlab and ingress sections must be customized!
#-----------------------------------------------------------------------------

gitlab:
   clientId: &lt;Your OAuth Application ID&gt;
   clientSecret: &lt;Your OAuth Application Secret&gt;
   callbackUrl: http://&lt;Jupyter Hostname&gt;/hub/oauth_callback,
   # Limit access to members of specific projects or groups:
   # allowedGitlabGroups: [ &quot;my-group-1&quot;, &quot;my-group-2&quot; ]
   # allowedProjectIds: [ 12345, 6789 ]

# ingress is required for OAuth to work
ingress:
   enabled: true
   host: &lt;JupyterHostname&gt;
   # tls:
   #    - hosts:
   #       - &lt;JupyterHostanme&gt;
   #         secretName: jupyter-cert
   # annotations:
   #    kubernetes.io/ingress.class: &quot;nginx&quot;
   #    kubernetes.io/tls-acme: &quot;true&quot;

#-----------------------------------------------------------------------------
# NO MODIFICATIONS REQUIRED BEYOND THIS POINT
#-----------------------------------------------------------------------------

hub:
   extraEnv:
      JUPYTER_ENABLE_LAB: 1
   extraConfig: |
      c.KubeSpawner.cmd = ['jupyter-labhub']
      c.GitLabOAuthenticator.scope = ['api read_repository write_repository']

      async def add_auth_env(spawner):
         '''
         We set user's id, login and access token on single user image to
         enable repository integration for JupyterHub.
         See: https://gitlab.com/gitlab-org/gitlab-foss/issues/47138#note_154294790
         '''
         auth_state = await spawner.user.get_auth_state()

         if not auth_state:
            spawner.log.warning(&quot;No auth state for %s&quot;, spawner.user)
            return

         spawner.environment['GITLAB_ACCESS_TOKEN'] = auth_state['access_token']
         spawner.environment['GITLAB_USER_LOGIN'] = auth_state['gitlab_user']['username']
         spawner.environment['GITLAB_USER_ID'] = str(auth_state['gitlab_user']['id'])
         spawner.environment['GITLAB_USER_EMAIL'] = auth_state['gitlab_user']['email']
         spawner.environment['GITLAB_USER_NAME'] = auth_state['gitlab_user']['name']

      c.KubeSpawner.pre_spawn_hook = add_auth_env

auth:
   type: gitlab
   state:
      enabled: true

singleuser:
   defaultUrl: &quot;/lab&quot;
   image:
      name: registry.gitlab.com/gitlab-org/jupyterhub-user-image
      tag: latest
   lifecycleHooks:
      postStart:
         exec:
         command:
            - &quot;sh&quot;
            - &quot;-c&quot;
            - &gt;
               git clone https://gitlab.com/gitlab-org/nurtch-demo.git DevOps-Runbook-Demo || true;
               echo &quot;https://oauth2:${GITLAB_ACCESS_TOKEN}@${GITLAB_HOST}&quot; &gt; ~/.git-credentials;
               git config --global credential.helper store;
               git config --global user.email &quot;${GITLAB_USER_EMAIL}&quot;;
               git config --global user.name &quot;${GITLAB_USER_NAME}&quot;;
               jupyter serverextension enable --py jupyterlab_git

proxy:
   service:
      type: ClusterIP
</code></pre>
",406,1,<kubernetes><gitlab><google-kubernetes-engine><jupyterhub><runbook>,2022-02-03 19:07:36
70971900,jupyterhub fails to spawn server with systemdspawner,"<p>I am trying to run jupyterhub on an Ubuntu 20.04 LTS server. My idea is to run python/jupyterhub in a conda virtual environment as a system service. As I want to be able to limit the resources available to individual users I installed the systemdspawner.</p>
<p>After installing everything and starting the jupyterhub service I can login through my web browser. However, when trying to start the server the spawner stucks and after a while I get an error message saying &quot;Spawn failed: Timeout&quot;</p>
<p>in journalctl I can see the following messages:</p>
<blockquote>
<p>User logged in: me 302 POST /hub/login?next= -&gt; /hub/spawn (me@::ffff:[my IP address]) 59.42ms</p>
<p>Adding role server to token: &lt;APIToken('93c8...', user='me', client_id='jupyterhub')</p>
<p>Creating oauth client jupyterhub-user-me</p>
<p>pam_loginuid(login:session): Error writing /proc/self/loginuid: Operation not permitted</p>
<p>pam_loginuid(login:session): set_loginuid failed</p>
<p>pam_unix(login:session): session opened for user me by (uid=0)</p>
<p>Failed to open PAM session for me: [PAM Error 14] Cannot make/remove an entry for the specified session</p>
<p>Disabling PAM sessions from now on. user:me</p>
<p>Unit jupyter-me-singleuser in a failed state. Resetting state.</p>
</blockquote>
<p>Disclaimer: My Jupyter/Python installation is replacing an former installation that was setup by someone else and got messed up a bit during time. I tried to remove everything related and start with a clean installation from scratch. However, as I had very little documentation about the old setup there is a certain risk that there might be some left-overs of the previous installation that may cause trouble.</p>
<p>Any ideas?</p>
",722,0,<jupyter-notebook><systemd><jupyterhub><pam>,2022-02-03 13:11:19
70969638,Run all cells below when a button is clicked in Google Colab,"<p>I am trying to create a button with Placeholder text which after clicking runs all cells below it automatically. I am trying this in Google Colab.</p>
<p>My earlier solution for Jupyter notebook seems to stop working in Colab:</p>
<pre><code>from IPython.display import display, Javascript
from IPython.core.display import HTML
HTML('''&lt;script&gt; &lt;/script&gt; &lt;form action=&quot;javascript:IPython.notebook.execute_cells_below()&quot;&gt;&lt;input type=&quot;submit&quot; id=&quot;toggleButton&quot; value=&quot;Generate Report&quot;&gt;&lt;/form&gt;''')
</code></pre>
<p>Does anyone know a probable fix or any alternate solution for this?</p>
<p>Thanks,</p>
<p>Debayan</p>
",478,2,<javascript><google-colaboratory><ipywidgets>,2022-02-03 10:29:00
70960713,Why does Ipywidget slider update variable only if it's an item from a list?,"<p>I created an ipywidget slider that, as you slide it, the image being displayed changes + the text displayed also changes. All images were previously stored in a list called image_data &amp; same with the text, in a list called comp_scores. So, this works well (image/text change as slider is moved), but for some reason, when I call the &quot;current_image&quot; variable later- in another jupyter notebook cell-, it returns the original value (&quot;1&quot;) which was set before I moved the slider, instead of the value that the slider was moved to.</p>
<p>However, when I set &quot;current_image=[1]&quot; (a list) and then interchange all &quot;current_image&quot; instances in the code below with &quot;current_image[0]&quot;, and then I call current_image[0] later, it returns the updated value. Does anyone know why this is?</p>
<pre><code>%matplotlib notebook
from ipywidgets import *
import numpy as np
import matplotlib.pyplot as plt

current_image=1
slider_fig = plt.figure(figsize=(4,2))
ax = slider_fig.add_subplot(1, 1, 1)
line = ax.imshow(image_data[current_image], cmap='gray')

n = widgets.Text(
    value= &quot;Comp Value: &quot; + str(round(comp_scores[0][current_image],1)) ,
    description='',
    disabled=True)

display(n)

plt.axis('off')

def update(image=current_image):
    
    current_image=image
    
    line.set_data(image_data[current_image])
    slider_fig.canvas.draw()

    n.value=&quot;Comp Value: &quot;+ str(round(comp_scores[0][current_image],1))
    
    
s_range=(0,24,1)
interact(update,image=s_range) 
</code></pre>
",107,0,<python><ipywidgets>,2022-02-02 18:13:19
70946897,File Upload Widget with Voila Library (ipywidgets),"<p>I'm trying to create a jupyter notebook web app using Voila whereby users can upload a JSON file, and then based upon that JSON file a dashboard will be created. I am trying to do this by using the File Upload widget in ipywidgets.</p>
<p>In Voila, it will not run the subsequent cells once you open up the HTML website it creates for you so I am having a lot of trouble trying to get this to work. Any help would be much appreciated.</p>
",374,0,<file-upload><jupyter-notebook><jupyter><ipywidgets><voila>,2022-02-01 20:07:10
70943362,Refilling xml file with data from sdf file,"<p>As I am very new to python, I have been struggling to finish the code.</p>
<p>I have an xml file with a small part I need to refill.</p>
<h3>XML excerpt</h3>
<p>This is the part that I need to refill.</p>
<pre class=""lang-xml prettyprint-override""><code>&lt;Definition&gt;
    &lt;Model&gt; 
        &lt;Xcaption&gt;1&lt;/XCaption&gt;
        &lt;Ycaption&gt;A&lt;/YCaption&gt;
        &lt;String&gt;manynumbers&lt;/String&gt;```
</code></pre>
<p>This is repeating 80 times in the xml structure</p>
<h3>Problem and question</h3>
<p>I am able to enter all the elements with <code>elementree</code>.</p>
<p>Yet, I need to take information from the <em>sdf</em> file, that has this data in different order.</p>
<p>I organized it with <a href=""https://ipywidgets.readthedocs.io/en/latest/"" rel=""nofollow noreferrer""><code>ipywidgets</code></a> with drop-down value, yet I have trouble thinking forward to connect one with another.</p>
<p>Any ideas?</p>
",62,0,<python><elementtree><ipywidgets><sdf>,2022-02-01 15:43:56
70892368,plotly python - linked brushing between scatter and parallel coordinates plots,"<p>i am trying to build linked brushing between Parallel Coordinates and Scatter plot via plotly.</p>
<p>I have found an example with scatter + parallel categories type of plot <a href=""https://plotly.com/python/parallel-categories-diagram/"" rel=""nofollow noreferrer"">here</a>. I was trying to transform this example, which would suite to my purpose, but it does not. With the code i am building, selection for some reason in active on parallel coordinates plot only. Any thoughts what i am doing wrong?</p>
<pre><code>import plotly.graph_objects as go
from ipywidgets import widgets
import pandas as pd
import numpy as np

cars_df = pd.read_csv('https://raw.githubusercontent.com/plotly/datasets/master/imports-85.csv')




# Build parcats dimensions
categorical_dimensions = ['body-style', 'drive-wheels', 'fuel-type'];

dimensions = [dict(values=cars_df[label], label=label) for label in categorical_dimensions]

# Build colorscale
color = np.zeros(len(cars_df), dtype='uint8')
colorscale = [[0, 'gray'], [1, 'firebrick']]

# Build figure as FigureWidget
fig = go.FigureWidget(
    data=[
        go.Scatter(x=cars_df.horsepower, y=cars_df['highway-mpg'],
                   marker={'color': 'gray'}, mode='markers', selected={'marker': {'color': 'firebrick'}},
                   unselected={'marker': {'opacity': 0.3}}), 
          
        go.Parcats(
              domain={'y': [0, 0.35]}, dimensions=dimensions,
              line={'colorscale': colorscale, 'cmin': 0,
                    'cmax': 1, 'color': color, 'shape': 'hspline'}),
          
          go.Parcoords(
                line = dict(color = cars_df['price']), domain={'y': [0.4, .65]},
              #                    colorscale = [[0,'purple'],[0.5,'lightseagreen'],[1,'gold']]),
                dimensions = list([
                    dict(
#                         range = [2500,4300],
                        label = 'wheel-base', values = cars_df['wheel-base']),
                    dict(
#                                   range = [2500,4300],
                        label = 'engine-size', values = cars_df['engine-size']),
                    dict(
#                                   range = [5,200],
                        label = 'stroke', values = cars_df['stroke']),
                    dict(
#                                   range = [5,200],
                        label = 'compression-ratio', values = cars_df['compression-ratio']),
                    dict(
#                                   range = [0,4],
                        label = 'price', values = cars_df['price']),
#                 dict(range = [0,1],
#                     label = 'PBU_error', values = df_plot['PBU_error'])
            ]),
#               line={'colorscale': colorscale, 'cmin': 0,
#                     'cmax': 1, 'color': color, 'shape': 'hspline'}
          ),
    ])

fig.update_layout(
        height=1500, xaxis={'title': 'Horsepower'},
        yaxis={'title': 'MPG', 'domain': [0.7, 1]},
        dragmode='lasso', hovermode='closest')

# Update color callback
def update_color(trace, points, state):
    # Update scatter selection
    fig.data[0].selectedpoints = points.point_inds

    # Update parcats colors
    new_color = np.zeros(len(cars_df), dtype='uint8')
    new_color[points.point_inds] = 1
    fig.data[1].line.color = new_color
    
    # Update parcats colors
    new_color = np.zeros(len(cars_df), dtype='uint8')
    new_color[points.point_inds] = 1
    fig.data[2].line.color = new_color
    

# Register callback on scatter selection...
fig.data[0].on_selection(update_color)
# and parcats click
fig.data[1].on_click(update_color)
# and parcats click
fig.data[2].on_selection(update_color)


fig
</code></pre>
",300,0,<python><plotly><ipywidgets><parallel-coordinates>,2022-01-28 10:41:30
70875950,ipywidgets Text on_change is buggy refreshes while typing,"<p>I am using ipywidgets.Text and written a function that would run when the text has changed. that function is time-intensive. The Text takes integers up to 1000.</p>
<pre><code>from ipywidgets import Text
a = Text(description = &quot;Type here&quot;, placeholder = &quot;integer: ex: 123&quot;)

def on_change(change):
    if change[&quot;new&quot;]!= change[&quot;old&quot;]:
        print(change)
        #some time intensive code
a.observe(on_change, names =[&quot;value&quot;])
</code></pre>
<p>so, when I type say 123, the on_change function runs for 1,12 and 123(picture attached).
<a href=""https://i.stack.imgur.com/CvM3P.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/CvM3P.png"" alt=""enter image description here"" /></a>
Can I somehow eliminate it running for 1 and 12?</p>
<p>One obvious idea is to keep an explicit button and run only when that is clicked..
but isn't there a better idea?</p>
",142,0,<python><onchange><observers><ipywidgets>,2022-01-27 09:13:46
70868473,returning focus to textarea widget with button.on_click(),"<p>I made a notebook for saving latex into PNGs that I can later import into PDFs.
<a href=""https://i.stack.imgur.com/whwix.png"" rel=""nofollow noreferrer"">screen shot</a></p>
<p>I have buttons that add text to the textarea via .on_click(). Is it possible to set the focus back to the text area in the callback function?</p>
",173,0,<jupyter-notebook><ipywidgets>,2022-01-26 18:24:44
70836667,Is there a configuration option for JupyterHub to accept insecure registry to pull Notebook image from?,"<p>I have a Kubernetes Pod running Jupyterhub, which is pulling its Notebook image from a separate registry. The registry is not private, but is reachable through internal network alone.</p>
<p>Since the registry doesn't have an outward-facing URL, I cannot give it proper SSL-Certs. However, without certs (or with self-signed certs) JupyterHub won't pull the image, complaining either about &quot;server gave HTTP response to HTTPS client&quot; or about the self-signage.</p>
<p>I know about adding insecure registries to the docker daemon, but since this is a self-contained image and pod which may be deleted or restarted in the future, I feel like manually adding in exceptions each time is not the intended way.</p>
<p>Is there a way through the jupyterhub config to tell it to allow either the self-signed certificate or accept the registry as insecure?</p>
",42,0,<docker-registry><jupyterhub>,2022-01-24 15:55:44
70832695,IPython.display not showing TextBox in ipywidgets,"<p>I'm trying to build such a functionality such that whenever the user clicks in the Add button in my code, it generates a new text box, just under the old one. For example, like this:</p>
<p><a href=""https://i.stack.imgur.com/7LSTC.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/7LSTC.png"" alt=""enter image description here"" /></a></p>
<p>Now, if the user were to click on add once again, a 5th text box should appear.</p>
<p>I've tried to achieve the same using this piece of code:</p>
<pre><code>add_button = widgets.Button(description='Add',
                            disabled=False,
                            button_style='',
                            style={'description_width': 'initial', 'button_width': 'auto'},
                            icon='plus'
                        )
display(add_button)
add_button.on_click(add_new)
</code></pre>
<p>And my add_new function is simply defined as follows:</p>
<pre><code>def add_new(*args):
    display(widgets.Text(placeholder='Type something',description='String:'))
</code></pre>
<p>But this does not seem to be working nothing happens on clicking the button, any help would be appreciated. Also if there is a better way to do this, please help, I'm new to ipywidgets.</p>
",237,0,<python-3.x><jupyter-notebook><textbox><ipywidgets>,2022-01-24 10:56:24
70829085,What does WebSocket receive when the JupyterHub kernel is down?,"<p>I'm using WebSocket to execute my code in JuputerHub.</p>
<p>Sometimes, the kernel crashes.</p>
<p>On the JupyterHub screen, it pops up and dies.</p>
<p>At this time, I was trying to find out what is received by the WebSocket client.</p>
<p>I found that the following message was received.</p>
<pre><code> {
    &quot;header&quot;: 
    {
        &quot;msg_id&quot;: &quot;22c8998f-d7e10c7f402c9277feae8936_2&quot;, 
        &quot;msg_type&quot;: &quot;status&quot;, 
        &quot;username&quot;: &quot;username&quot;, 
        &quot;session&quot;: &quot;22c8998f-d7e10c7f402c9277feae8936&quot;, 
        &quot;date&quot;: &quot;2022-01-20T00:44:38.498534Z&quot;, 
        &quot;version&quot;: &quot;5.3&quot;
    }, 
    &quot;msg_id&quot;: &quot;22c8998f-d7e10c7f402c9277feae8936_2&quot;, 
    &quot;msg_type&quot;: &quot;status&quot;, 
    &quot;parent_header&quot;: {}, 
    &quot;content&quot;: 
        {
            &quot;execution_state&quot;: &quot;restarting&quot;
        }, 
    &quot;metadata&quot;: {}, 
    &quot;channel&quot;: &quot;iopub&quot;
}
</code></pre>
<p>Noted.</p>
<pre><code>&quot;execution_state&quot;: &quot;restarting&quot;
</code></pre>
<p>This execution_state is the one I used in the previous example. As far as I can tell, this execution_state is not sent in any other case.</p>
<p>When the kernel crashes, <code>&quot;execution_state&quot;: &quot;restarting&quot;</code> is sent.
Is this a JupyterHub specification?</p>
<p><a href=""https://jupyter-client.readthedocs.io/en/stable/messaging.html"" rel=""nofollow noreferrer"">https://jupyter-client.readthedocs.io/en/stable/messaging.html</a>
I also read , but I couldn't find such a description.</p>
",37,1,<websocket><jupyterhub>,2022-01-24 04:41:15
70816395,Why am I intermittently getting W293 warnings in Jupyter Lab?,"<p>In Python, blank lines should not contain whitespace. However, if I double return to create a blank line for readability, JupyterLab isn't automatically deleting the whitespace it automatically added in the first place to maintain indentation level. So naturally, my code is full of blank lines that contain whitespace. Yet, I only get the warnings sometimes, e.g. if I re-open a notebook.</p>
<p>Is this a bug(s)? Should the IDE (JupyterLab 3.1.8, via JupyterHub) be removing them automatically? I'd be surprised to learn that intended default behavior results in so many warnings without manual removal. And why am I only seeing the warnings sometimes?</p>
<p>I see from a <a href=""https://stackoverflow.com/questions/28159539/how-to-fix-the-w293-blank-line-contains-whitespace"">related question</a> that there may be extensions to remove the whitespace or suppress the warning, but it seems wrong that what I'm experiencing should require IDE modification (or even settings changes, really) to avoid.</p>
<p><a href=""https://i.stack.imgur.com/N01UI.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/N01UI.png"" alt=""enter image description here"" /></a></p>
",20,0,<python><jupyter><jupyter-lab><pep8><jupyterhub>,2022-01-22 19:28:41
70811484,JupyterHub pod no longer connects to Postgres pod,"<p>I have a kubernetes cluster containing (amongst others) a jupyterhub pod and a postgresql pod as its database. Everything worked fine for months until a recent incident where a shared storage ran full; the resulting file system warnings forced the connected linux machines (including this cluster node) into a read-only status. Now, that and all other issues resulting from it so far could be fixed; the nodes and pods all seem to start up fine, but the jupyterhub pod alone runs into a CrashLoopBackoff, because it can for some reason no longer connect to the database service/pod.</p>
<p>Here are the logs from the relevant pods I've gathered so far. I've redacted the username and password for obvious reasons, but I have checked that they align between the pods. And as said, I haven't changed the configuration and the system ran fine before the incident.</p>
<pre><code>kubectl logs &lt;jupyterhub&gt; | tail

[I 2022-01-22 08:04:28.905 JupyterHub app:2349] Running JupyterHub version 1.3.0
[I 2022-01-22 08:04:28.906 JupyterHub app:2379] Using Authenticator: builtins.MyAuthenticator
[I 2022-01-22 08:04:28.906 JupyterHub app:2379] Using Spawner: builtins.MySpawner
[I 2022-01-22 08:04:28.906 JupyterHub app:2379] Using Proxy: jupyterhub.proxy.ConfigurableHTTPProxy-1.3.0
[I 2022-01-22 08:04:28.981 JupyterHub app:1465] Writing cookie_secret to /jhub/jupyterhub_cookie_secret
[E 2022-01-22 08:04:39.048 JupyterHub app:1597] Failed to connect to db: postgresql://[redacted]:[redacted]@postgres:1500
[C 2022-01-22 08:04:39.049 JupyterHub app:1601] If you recently upgraded JupyterHub, try running
        jupyterhub upgrade-db
    to upgrade your JupyterHub database schema

</code></pre>
<p>The database itself seems to be running fine though.</p>
<pre><code>kubectl logs &lt;postgres&gt; | tail

2022-01-19 13:47:50.245 UTC [1] LOG:  starting PostgreSQL 14.1 (Debian 14.1-1.pgdg110+1) on x86_64-pc-linux-gnu, compiled by gcc (Debian 10.2.1-6) 10.2.1 20210110, 64-bit
2022-01-19 13:47:50.245 UTC [1] LOG:  listening on IPv4 address &quot;0.0.0.0&quot;, port 1500
2022-01-19 13:47:50.245 UTC [1] LOG:  listening on IPv6 address &quot;::&quot;, port 1500
2022-01-19 13:47:50.380 UTC [1] LOG:  listening on Unix socket &quot;/var/run/postgresql/.s.PGSQL.1500&quot;
2022-01-19 13:47:50.494 UTC [62] LOG:  database system was shut down at 2022-01-19 13:47:49 UTC
2022-01-19 13:47:50.535 UTC [1] LOG:  database system is ready to accept connections
</code></pre>
<p>And so does the service:</p>
<pre><code>kubectl describe service postgres

Name:              postgres
Namespace:         jhub
Labels:            &lt;none&gt;
Annotations:       &lt;none&gt;
Selector:          app=postgres
Type:              ClusterIP
IP Families:       &lt;none&gt;
IP:                10.100.209.184
IPs:               10.100.209.184
Port:              &lt;unset&gt;  1500/TCP
TargetPort:        1500/TCP
Endpoints:         10.0.0.139:1500
Session Affinity:  None
Events:            &lt;none&gt;
</code></pre>
<p>For reference, the relevant yamls.</p>
<pre><code>
postgres.yaml

apiVersion: apps/v1
kind: Deployment
metadata:
  name: postgres
  labels:
    app: postgres
spec:
  replicas: 1
  selector:
    matchLabels:
      app: postgres
  template:
    metadata:
      labels:
        app: postgres
    spec:
      containers:
        - name: postgres
          image: postgres
          ports:
            - containerPort: 1500
          env:
            - name: POSTGRES_USER
              value: &lt;redacted&gt;
            - name: POSTGRES_PASSWORD
              value: &lt;redacted&gt;
            - name: PGPORT
              value: '1500'

---

apiVersion: v1
kind: Service
metadata:
  name: postgres
spec:
  selector:
    app: postgres
  ports:
    - protocol: TCP
      port: 1500
      targetPort: 1500


</code></pre>
<p>The db url within the jupyterhub_config.py also doesn't seem unusual:</p>
<pre><code>postgres_passwd = os.getenv('POSTGRES_PASSWORD')
c.JupyterHub.db_url = f'postgresql://redacted:{postgres_passwd}@postgres:1500'

</code></pre>
<p>This was everything I deemed relevant for now; if there's more you need, let me know.</p>
<p>I'm rather stumped. It's mostly the fact that, as I said, before the incident everything ran fine. The overall cluster configuration hasn't changed. All other issues had some outside factor as cause and could through that be identified and fixed, but here the issue seems to be contained entirely within the cluster.</p>
<p>Thanks for reading and I appreciate any help or hints.</p>
<p>E: List of actions taken so far:</p>
<ul>
<li>Restarting the entire node has been tried before.</li>
<li>Started up a postgresclient in the same namespace and tried connecting with the URI that's in the jupyterhub_config; gave me a &quot;could not translate host name &quot;postgres&quot; to address: Temporary failure in name resolution&quot;.</li>
<li>Running down the DNS Troubleshooting list, I found the following issues:</li>
</ul>
<pre><code>kubectl get endpoints kube-dns --namespace=kube-system
NAME       ENDPOINTS   AGE
kube-dns               260d
</code></pre>
<pre><code>kubectl describe endpoints kube-dns --namespace=kube-system
Name:         kube-dns
Namespace:    kube-system
Labels:       k8s-app=kube-dns
              kubernetes.io/cluster-service=true
              kubernetes.io/name=KubeDNS
Annotations:  endpoints.kubernetes.io/last-change-trigger-time: 2022-01-10T13:09:07Z
Subsets:
  Addresses:          &lt;none&gt;
  NotReadyAddresses:  10.0.6.78,10.0.9.76
  Ports:
    Name     Port  Protocol
    ----     ----  --------
    dns-tcp  53    TCP
    dns      53    UDP
    metrics  9153  TCP

Events:  &lt;none&gt;
</code></pre>
<pre><code>kubectl logs --namespace=kube-system -l k8s-app=kube-dns
Error from server: Get &quot;https://141.83.188.131:10250/containerLogs/kube-system/coredns-74ff55c5b-n76km/coredns?tailLines=10&quot;: dial tcp 141.83.188.131:10250: connect: connection refused

</code></pre>
<pre><code>kubectl describe --namespace=kube-system -l k8s-app=kube-dns
error: You must specify the type of resource to describe. Use &quot;kubectl api-resources&quot; for a complete list of supported resources.
bergmann@k8s-manager:~/jupyterhub$ kubectl describe pod --namespace=kube-system -l k8s-app=kube-dns
Name:                 coredns-74ff55c5b-n76km
Namespace:            kube-system
Priority:             2000000000
Priority Class Name:  system-cluster-critical
Node:                 k8s-worker-08/141.83.188.131
Start Time:           Mon, 06 Dec 2021 01:40:35 +0100
Labels:               k8s-app=kube-dns
                      pod-template-hash=74ff55c5b
Annotations:          &lt;none&gt;
Status:               Running
IP:                   10.0.6.78
IPs:
  IP:           10.0.6.78
Controlled By:  ReplicaSet/coredns-74ff55c5b
Containers:
  coredns:
    Container ID:  docker://d7239ff0f11295180ebff1434bc8a0dcb357a5d55128e8cf02b2b821822da6b3
    Image:         k8s.gcr.io/coredns:1.7.0
    Image ID:      docker-pullable://k8s.gcr.io/coredns@sha256:73ca82b4ce829766d4f1f10947c3a338888f876fbed0540dc849c89ff256e90c
    Ports:         53/UDP, 53/TCP, 9153/TCP
    Host Ports:    0/UDP, 0/TCP, 0/TCP
    Args:
      -conf
      /etc/coredns/Corefile
    State:          Running
      Started:      Mon, 06 Dec 2021 01:40:41 +0100
    Ready:          True
    Restart Count:  0
    Limits:
      memory:  170Mi
    Requests:
      cpu:        100m
      memory:     70Mi
    Liveness:     http-get http://:8080/health delay=60s timeout=5s period=10s #success=1 #failure=5
    Readiness:    http-get http://:8181/ready delay=0s timeout=1s period=10s #success=1 #failure=3
    Environment:  &lt;none&gt;
    Mounts:
      /etc/coredns from config-volume (ro)
      /var/run/secrets/kubernetes.io/serviceaccount from coredns-token-gzml9 (ro)
Conditions:
  Type              Status
  Initialized       True
  Ready             False
  ContainersReady   True
  PodScheduled      True
Volumes:
  config-volume:
    Type:      ConfigMap (a volume populated by a ConfigMap)
    Name:      coredns
    Optional:  false
  coredns-token-gzml9:
    Type:        Secret (a volume populated by a Secret)
    SecretName:  coredns-token-gzml9
    Optional:    false
QoS Class:       Burstable
Node-Selectors:  kubernetes.io/os=linux
Tolerations:     CriticalAddonsOnly op=Exists
                 node-role.kubernetes.io/control-plane:NoSchedule
                 node-role.kubernetes.io/master:NoSchedule
                 node.kubernetes.io/not-ready:NoExecute op=Exists for 300s
                 node.kubernetes.io/unreachable:NoExecute op=Exists for 300s
Events:          &lt;none&gt;


Name:                 coredns-74ff55c5b-vv8v7
Namespace:            kube-system
Priority:             2000000000
Priority Class Name:  system-cluster-critical
Node:                 k8s-worker-10/141.83.188.161
Start Time:           Mon, 06 Dec 2021 01:49:21 +0100
Labels:               k8s-app=kube-dns
                      pod-template-hash=74ff55c5b
Annotations:          &lt;none&gt;
Status:               Running
IP:                   10.0.9.76
IPs:
  IP:           10.0.9.76
Controlled By:  ReplicaSet/coredns-74ff55c5b
Containers:
  coredns:
    Container ID:  docker://986105a2646ecdadf6fadbd700b9fdbeb578325603ee8353e5283b2b65967c23
    Image:         k8s.gcr.io/coredns:1.7.0
    Image ID:      docker-pullable://k8s.gcr.io/coredns@sha256:73ca82b4ce829766d4f1f10947c3a338888f876fbed0540dc849c89ff256e90c
    Ports:         53/UDP, 53/TCP, 9153/TCP
    Host Ports:    0/UDP, 0/TCP, 0/TCP
    Args:
      -conf
      /etc/coredns/Corefile
    State:          Running
      Started:      Mon, 06 Dec 2021 01:49:27 +0100
    Ready:          True
    Restart Count:  0
    Limits:
      memory:  170Mi
    Requests:
      cpu:        100m
      memory:     70Mi
    Liveness:     http-get http://:8080/health delay=60s timeout=5s period=10s #success=1 #failure=5
    Readiness:    http-get http://:8181/ready delay=0s timeout=1s period=10s #success=1 #failure=3
    Environment:  &lt;none&gt;
    Mounts:
      /etc/coredns from config-volume (ro)
      /var/run/secrets/kubernetes.io/serviceaccount from coredns-token-gzml9 (ro)
Conditions:
  Type              Status
  Initialized       True
  Ready             False
  ContainersReady   True
  PodScheduled      True
Volumes:
  config-volume:
    Type:      ConfigMap (a volume populated by a ConfigMap)
    Name:      coredns
    Optional:  false
  coredns-token-gzml9:
    Type:        Secret (a volume populated by a Secret)
    SecretName:  coredns-token-gzml9
    Optional:    false
QoS Class:       Burstable
Node-Selectors:  kubernetes.io/os=linux
Tolerations:     CriticalAddonsOnly op=Exists
                 node-role.kubernetes.io/control-plane:NoSchedule
                 node-role.kubernetes.io/master:NoSchedule
                 node.kubernetes.io/not-ready:NoExecute op=Exists for 300s
                 node.kubernetes.io/unreachable:NoExecute op=Exists for 300s
Events:          &lt;none&gt;

</code></pre>
",131,0,<postgresql><kubernetes><jupyterhub>,2022-01-22 09:20:47
70791583,How to run specific Kernel in jupyter hub from terminal,"<p>Assume I have a script 'test.py'. To run this in Jupyter terminal I can simply put</p>
<pre><code>python test.py
</code></pre>
<p>However, what if I wish to run this with K8s cluster rather than Python. Is there any way to execute with a specific Kernel from terminal? For example,</p>
<pre><code>python --pyspark_k8s test.py
</code></pre>
<p>The above line is for illustrational purposes :-)</p>
<p>Thanks</p>
",77,1,<python><terminal><kernel><jupyter><jupyterhub>,2022-01-20 18:30:36
70768942,"Trying to install IRkernel returns error on macOS 12.1. "" jupyter-client has to be installed but “jupyter kernelspec --version” exited with code 126""","<p>I have installed all necessary packages. Installed &quot;devtools&quot; and everything else. Then ran devtools::install_github('IRkernel/IRkernel') in R.
That went fine.</p>
<p>Then when I run IRkernel::installspec(user = FALSE) it returns</p>
<p>&quot;jupyter-client has to be installed but “jupyter kernelspec --version” exited with code 126.&quot;</p>
<p>Spent hours trying to figure it out. What does exited with code 126 exactly mean. I'm doing all this in terminal and not in R studio.</p>
",22,0,<jupyter-notebook><jupyter-irkernel>,2022-01-19 10:26:37
70766632,Force R to show plot before input in Colab,"<p>I'd like to display a plot and <em>then</em> have the user give some input, but the plot always appears <em>after</em> the input line.  A simple example is:</p>
<pre><code>plot( 1:10 )
ans &lt;- readline(&quot;What is your favorite number?&quot;)
</code></pre>
<p>which gives the prompt first and <em>then</em> does the plot.  The end goal will then be to do this in a <code>for</code> loop, where each iteration I present a plot and then ask the user for feedback about the plot.</p>
<p>This is in <a href=""https://colab.research.google.com/#create=true&amp;language=r"" rel=""nofollow noreferrer"">Colab</a> and I'd like to stay working in Colab as this is an application for students and I want something they can run easily.</p>
<p>I've tried various things including <code>Sys.sleep(0)</code> and <code>flush.console()</code> but without any luck.</p>
<p><strong>Edit</strong> My MWE above isn't actually representative of my code. A better example is the following:</p>
<pre class=""lang-r prettyprint-override""><code>par(mfrow=c(1,2))
plot(1:10)
plot(1:10)
print('Hello')
</code></pre>
",288,1,<r><jupyter-notebook><google-colaboratory><jupyter-irkernel>,2022-01-19 07:18:30
70758831,iPyWidgets FileUpload not working as I expect it,"<p>Im currently trying to load a file in my jupyter notebook, to read it's content.</p>
<p>My Code:</p>
<pre><code>file = widgets.FileUpload(
    description= 'Title',
    accept='.csv',
    multiple=False,
)
box = widgets.HBox([file])
display(box)

# New Cell

print(str(file))
</code></pre>
<p>I run the first cell, after that i use the FileUploader to Upload a .csv File before running the second cell.
I expect the output to be a dict containing the files Context like &quot;content&quot; etc.</p>
<p>A Screenshot of a simpler version:</p>
<p><a href=""https://i.stack.imgur.com/AbQvI.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/AbQvI.png"" alt=""enter image description here"" /></a></p>
<p>Does anyone know that i'm doing wrong?
I also tried every other idea that came to my mind.</p>
",852,2,<jupyter-notebook><ipywidgets>,2022-01-18 16:12:17
70749257,Helm Install from DockerHub image - DockerHub Image download fails,"<p>When running the following command:</p>
<pre class=""lang-sh prettyprint-override""><code>helm upgrade --cleanup-on-fail \
    -- install $releaseName $dockerHubName/$dockerHubRepo:$tag \
    -- namespace $namespace \
    -- create-namespace \
    -- values config.yaml
</code></pre>
<p>I get the following error:</p>
<pre><code>Error: Failed to download &quot;$dockerHubName/$dockerHubRepo&quot;
</code></pre>
<p>I've also tried with different tags, with semantic versioning (tag=&quot;1.0.0&quot;) and there's a image with the tag &quot;latest&quot; on the DockerHub repo (which is Public)</p>
<p>This also works with the base JuPyTerHub image <code>jupyterhub/jupyterhub</code></p>
",784,2,<docker><kubernetes><kubernetes-helm><dockerhub><jupyterhub>,2022-01-18 01:12:50
70744561,"Export environment variables to JupyterHub users, without using Docker?","<p>JupyterHub has various authentication methods, and the one I am using is <a href=""https://jupyterhub.readthedocs.io/en/stable/getting-started/authenticators-users-basics.html#configure-admins-admin-users"" rel=""nofollow noreferrer"">the PAMAuthenticator</a>, which basically means you log into the JupyterHub with your Linux userid and password.</p>
<p>However, environment variables that I create, like this (or for that matter in those set in my <code>.bashrc</code>), before running JupyterHub, do not get set within the user's JupyterLab session. As you can see they're available in the console, with or without the <code>pipenv</code>, and within python itself via <code>os.getenv()</code>.</p>
<p><a href=""https://i.stack.imgur.com/SdBV2.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/SdBV2.png"" alt=""enter image description here"" /></a></p>
<p>However in JupyterHub's spawned JupyterLab for my user (me):</p>
<p><a href=""https://i.stack.imgur.com/cG9Rr.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/cG9Rr.png"" alt=""enter image description here"" /></a>
This environment variable <code>myname</code> is not available even if I export it in a bash session from within JupyterLab as follows:</p>
<p><a href=""https://i.stack.imgur.com/ep1YI.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/ep1YI.png"" alt=""enter image description here"" /></a></p>
<p>Now the <a href=""https://zero-to-jupyterhub.readthedocs.io/en/latest/jupyterhub/customizing/user-environment.html"" rel=""nofollow noreferrer"">documentation</a> says I can customize user environments using a Docker container for each user, but this seems unnecessarily heavyweight. Is there an easier way of doing this?</p>
<p>If not, what is the easiest way to do this via Docker?</p>
",522,3,<docker><jupyterhub>,2022-01-17 16:30:17
70722012,How do I make Poetry-based Jupyter use IRkernel installed using renv?,"<p>I have the following project layout:</p>
<pre><code>. my-project
|- pyproject.toml
|- poetry.lock
|- .jupyter
|  '- jupyter_notebook_config.py
|- kernels
|  '- R-renv
|     '- kernel.json
|- .renv
|- renv.lock
|- .Rprofile
'- # other stuff
</code></pre>
<p><code>IRkernel</code> is installed in the renv using:</p>
<pre><code>R -e 'install.packages(&quot;renv&quot;); renv::activate(); renv::install(&quot;IRkernel&quot;); IRkernel::installspec(); renv::snapshot(type = &quot;all&quot;)'
</code></pre>
<p>Jupyterlab is installed through Poetry.</p>
<pre><code>[tool.poetry]
name = &quot;my-project&quot;
version = &quot;0.1.0&quot;

[tool.poetry.dependencies]
python = &quot;^3.9&quot;

[tool.poetry.dev-dependencies]
jupyterlab = &quot;^3.2.8&quot;
jupytext = &quot;^1.13.6&quot;

[build-system]
requires = [&quot;poetry-core&gt;=1.0.0&quot;]
build-backend = &quot;poetry.core.masonry.api&quot;
</code></pre>
<p>In <code>jupyter_notebook_config.py</code>, I have:</p>
<pre><code>c.NotebookApp.contents_manager_class=&quot;jupytext.TextFileContentsManager&quot;
c.NotebookApp.notebook_dir = '/Users/X/Code/my-project/kernels' # absolute directory for debugging.
c.ContentsManager.default_jupytext_formats = &quot;.ipynb,.Rmd&quot;
</code></pre>
<p>In <code>kernel.json</code>, I have:</p>
<pre><code>{&quot;argv&quot;: [&quot;R&quot;, &quot;--slave&quot;, &quot;-e&quot;, &quot;IRkernel::main()&quot;, &quot;--args&quot;, &quot;{connection_file}&quot;],
 &quot;display_name&quot;:&quot;R renv&quot;,
 &quot;language&quot;:&quot;R&quot;
}
</code></pre>
<p>based on <a href=""https://stackoverflow.com/a/68939098/2682729"">this answer</a>.</p>
<p>However, Jupyter does not seem to be picking up the kernel:</p>
<pre><code>❯ poetry run jupyter kernelspec list
Available kernels:
  ir         /Users/varun/Library/Jupyter/kernels/ir
  python3    /Users/varun/Library/Caches/pypoetry/virtualenvs/sg-data-analysis-ywZVJcuX-py3.9/share/jupyter/kernels/python3
</code></pre>
<p>If I try <code>poetry run jupyter notebook</code>, I run into errors when trying to open a <code>.Rmd</code> file, because it complains about IRkernel not being found, which is consistent with the result of <code>kernelspec list</code>.</p>
<p>Is there a way I can point the Poetry-based Jupyter to the renv-based IRkernel, ideally without modifying any files outside the project directory?</p>
",362,4,<r><jupyter-notebook><python-poetry><jupyter-irkernel><renv>,2022-01-15 13:45:33
70699897,"Pyspark kernel in jupyterhub, access to master remotely","<p>i have two kernels for Spark, one to run locally and one to run towards a cluster. Is there a way to set an environment variable to my spark master so that users dont have to define master in SparkContext in the kernel which is to speak with the spark cluster? I tried &quot;export SPARK_MASTER_HOST='spark:/my-server.domain.com:7077' &quot;, however that did not work.</p>
<p>Code</p>
<pre><code>from pyspark import SparkContext
import random

def inside(p):
    x, y = random.random(), random.random()
    return x*x + y*y &lt; 1


sc = SparkContext(master=&quot;spark:/my-server.domain.com:7077&quot;, appName=&quot;test&quot;)

num_samples = 2

count = sc.parallelize(range(0, num_samples)).filter(inside).count()

pi = 4 * count / num_samples
print(pi)

sc.stop()
</code></pre>
",193,0,<apache-spark><pyspark><jupyter-lab><jupyterhub>,2022-01-13 16:28:04
70667445,ipywidgets and Pyzo,"<p>I'm using Pyzo (version 4.11.5) and I want to use the function interact (from package ipywidgets), wrote the program below, and the exit is :</p>
<pre><code>interactive(children=(IntSlider(value=10, description='x', max=30, min=-10), Output()), _dom_classes=('widget-interact',))
&lt;function f at 0x0000020B2A12ACA0&gt;
</code></pre>
<p>Is Ipywidgets only for Jupyter Lab ?</p>
<p>Code :</p>
<pre><code>import matplotlib.pyplot as plt
import numpy as np
from ipywidgets import interact
from scipy.integrate import odeint


def ordre(alpha,k,a0):

    if alpha == 0.5 :
      tmax = 0.1
    else :
      tmax = 3

    #Création d'une base de temps
    tps=np.linspace(0,tmax,5000)

    #Création d'une fonction loi de vitesse

    if alpha == 0.5 :
        def LoiVitesse(x,t) :
            return - k *x**0.5
    else :
        def LoiVitesse(x,t) :
            return - k *x** alpha

    #Obtention de la concentration en réactif au cours du temps (résolution ED)
    conc=odeint(LoiVitesse,a0,tps)

    #Recherche du temps de demi-réaction
    i=0
    while conc[i] &gt; a0/2 :
      i=i+1
    tdemi=tps[i]

    #Commandes de tracé
    plt.title(f'Ordre = {alpha} \n Temps de demi-réaction= {round(tdemi,2)} s')
    plt.plot(tps,conc,'b-', label='réactif A')
    plt.plot(tdemi,a0/2,'ro',markersize=10)
    plt.axvline(x=tdemi,ymax=a0/2,ls='--',color='k')
    plt.axhline(y=a0/2,xmax=tdemi,ls='--')
    plt.xlim(0,3)
    plt.ylim(0,1.5)
    plt.xlabel('t en s')
    plt.ylabel('Concentrations en $mol.L^{-1}$')
    plt.grid()
    plt.legend()
    plt.show()

interact(ordre, alpha = (0, 5, 0.5), k = (1, 10, 0.5), a0 = (0.5, 1.5, 0.1))
</code></pre>
",36,0,<python><ipywidgets><pyzo>,2022-01-11 13:14:17
70657559,Jupyterhub helm install timed out waiting for the condition,"<p>Thanks everyone as always for the help, I come once again with my melted brain in my hat in my hand asking for some assistance.</p>
<p>Environment setup:</p>
<p>3 Ubuntu VMs running Kubernetes Kubeadm install</p>
<ul>
<li>1 control node</li>
<li>2 worker nodes</li>
</ul>
<p>MetalLB deployment as load balancer for K8s</p>
<p>No out of the box storage classes or volumes.</p>
<p>I have been trying to simply install Jupyterhub using helm and am constantly running into various issues but the most recent one is a real head scratcher when I try to install it.</p>
<p>At this point I really need some help on a plain &quot;local-storage&quot; install, then use NFS for the user data in the future.  The Zero to Jupyterhub docs have been helpful but, not for this issue sorry to say.</p>
<pre><code>dev@control1:~/jupyterhub$ helm upgrade --install jhub jupyterhub-1.2.0.tgz --values config.yml

Error: UPGRADE FAILED: pre-upgrade hooks failed: timed out waiting for the condition

dev@control1:~/jupyterhub$ helm list
NAME    NAMESPACE       REVISION        UPDATED                                 STATUS  CHART                   APP VERSION
jhub    default         2               2022-01-10 18:16:58.570337598 +0000 UTC failed  jupyterhub-1.2.0        1.5.0
</code></pre>
<p>Here is my config.yml for the values:</p>
<pre><code>proxy:
  secretToken: &quot;xxxxxx&quot;

singleuser:
  storage:
    type: dynamic
    dynamic:
      storageClass: local-storage
debug:
  enabled: true
</code></pre>
<p>here is my storage class for the local storage:</p>
<pre><code>kind: StorageClass
apiVersion: storage.k8s.io/v1
metadata:
  annotations:
    storageclass.kubernetes.io/is-default-class: &quot;true&quot;
  name: local-storage
provisioner: kubernetes.io/no-provisioner
volumeBindingMode: WaitForFirstConsumer

</code></pre>
<p>I have tried various persistent volume files and none work, so I'll list them here anyway:</p>
<p>hub persistent volume:</p>
<pre><code>apiVersion: v1
kind: PersistentVolume
metadata:
  name: hub-db-pv
spec:
  capacity:
    storage: 1Gi
  # volumeMode field requires BlockVolume Alpha feature gate to be enabled.
  volumeMode: Filesystem
  accessModes:
  - ReadWriteOnce
  persistentVolumeReclaimPolicy: Retain
  storageClassName: local-storage
  local:
    path: /tmp/jhub
  nodeAffinity:
    required:
      nodeSelectorTerms:
      - matchExpressions:
        - key: kubernetes.io/hostname
          operator: In
          values:
          - worker1
</code></pre>
<p>Upon starting the install process, these are the only pods that are spun up:</p>
<pre><code>
NAME                              READY   STATUS    RESTARTS   AGE
pod/hook-image-awaiter--1-brl2q   1/1     Running   0          47s
pod/hook-image-puller-9fghk       1/1     Running   0          47s
pod/hook-image-puller-scp88       1/1     Running   0          47s

NAME                 TYPE        CLUSTER-IP   EXTERNAL-IP   PORT(S)   AGE
service/kubernetes   ClusterIP   10.96.0.1    &lt;none&gt;        443/TCP   46d

NAME                               DESIRED   CURRENT   READY   UP-TO-DATE   AVAILABLE   NODE SELECTOR   AGE
daemonset.apps/hook-image-puller   2         2         2       2            2           &lt;none&gt;          48s

NAME                           COMPLETIONS   DURATION   AGE
job.batch/hook-image-awaiter   0/1           48s        48s

</code></pre>
<p>The helm debug logs show:</p>
<pre><code>Error: INSTALLATION FAILED: failed pre-install: timed out waiting for the condition
helm.go:88: [debug] failed pre-install: timed out waiting for the condition
INSTALLATION FAILED
main.newInstallCmd.func2
        helm.sh/helm/v3/cmd/helm/install.go:127
github.com/spf13/cobra.(*Command).execute
        github.com/spf13/cobra@v1.2.1/command.go:856
github.com/spf13/cobra.(*Command).ExecuteC
        github.com/spf13/cobra@v1.2.1/command.go:974
github.com/spf13/cobra.(*Command).Execute
        github.com/spf13/cobra@v1.2.1/command.go:902
main.main
        helm.sh/helm/v3/cmd/helm/helm.go:87
runtime.main
        runtime/proc.go:225
runtime.goexit
        runtime/asm_amd64.s:1371


</code></pre>
<p>kubectl events show nothing out of the ordinary:</p>
<pre><code>44m         Normal    SuccessfulCreate   daemonset/hook-image-puller       Created pod: hook-image-puller-scp88
44m         Normal    SuccessfulCreate   daemonset/hook-image-puller       Created pod: hook-image-puller-9fghk
35m         Normal    SuccessfulCreate   daemonset/hook-image-puller       Created pod: hook-image-puller-cx7sb
35m         Normal    SuccessfulCreate   daemonset/hook-image-puller       Created pod: hook-image-puller-mw6cd
9m10s       Normal    SuccessfulCreate   daemonset/hook-image-puller       Created pod: hook-image-puller-pgt4n
9m10s       Normal    SuccessfulCreate   daemonset/hook-image-puller       Created pod: hook-image-puller-p6h49

</code></pre>
<p>Thanks again for any help!</p>
",490,0,<kubernetes><kubernetes-helm><persistent-volumes><jupyterhub>,2022-01-10 18:55:13
70650079,Open a url from a jupyter lab notebook rendered with voila in a new Chrome Tab,"<p>I work in a JupyterHub environment where I use to render applications with voila.</p>
<p>One of this particular applications is supposed to be a kind of Launcher from where a user can launch (open) a particular url web in another chrome tab.</p>
<p>I use the following code:</p>
<pre><code>import ipyvuetify as vue
from ipywidgets import Output
from IPython.display import Javascript

out=Output()
b = vue.Btn(color='primary',children=['open tabs'])
def on_click(widget, event, data):
    # generate an URL
    url_nyt    = &quot;https://www.nytimes.com/&quot;
    url_news   = &quot;https://www.cnn.com&quot;
    with out:
        print('go')
        # VEEEEEEEERRRRY important: inside out
        display(Javascript(f'window.open(&quot;{url_nyt}&quot;);'))
        print('first')
    with out:
        display(Javascript(f'window.open(&quot;{url_news}&quot;);'))
        print('second')
# this does not work neither: display(Javascript(f'window.open(&quot;{url_nyt}&quot;);window.open(&quot;{url_news}&quot;)'))
        
b.on_event('click', on_click)
display(b,out)
</code></pre>
<p>This works only with the first url. What happens is that indeed a new tab opens and the nyt web site opens there but there is no second tab open. Nevertheless in the output widget is possible to see &quot;second&quot; so the second display was run, did not give an error, but did not work.</p>
<p>Any idea why that is like this?
Or any workaround?
Is it necessary to open the tab in the background? how?</p>
<p>btw, the library webbrowser does not work since this is jupyterHub (in a remote server) and not a local jupyter lab distribution.</p>
<p>thanks</p>
",559,1,<python><ipywidgets><jupyterhub><voila><ipyvuetify>,2022-01-10 09:16:09
70638798,Where to upload the image files to JupyterHub server (ltjh),"<p>I would like to create a jupyter notebook that displays some images like this.</p>
<p><a href=""https://i.stack.imgur.com/8iais.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/8iais.png"" alt=""enter image description here"" /></a></p>
<p>In the case of my computer,  the image files are stored in the local device. So I wrote one-line tag to show the image.</p>
<pre><code>  &lt;img src=&quot;images/python_with_Birds.gif&quot; width = '400'/&gt; 
</code></pre>
<p>But if I want to share my created jupyter notebook with others on JupyterHub by</p>
<p><strong>Option 1:</strong> Give him ipynb file and all of images to save in his own JupyterHub client.</p>
<p>This option is not suitable for ipynb files with a large number of images. So I think the 2nd one would be better.</p>
<p><strong>Option 2:</strong> Just give him the ipynb file (file.ipynb with no image) which inserted a link of the images in the markdown like this:</p>
<pre><code>&lt;img src=&quot;https://jupyterhub-domain-name/images/python_with_Birds.gif&quot; width = '400'/&gt;
</code></pre>
<p><strong>The question is, is option-2 possible?</strong></p>
<p>If possible,</p>
<ol>
<li><p>where should the image files be stored (directory) of the server? or</p>
</li>
<li><p>Is there any other way for other people to view the images without sending them the image files?</p>
</li>
</ol>
<p>Any help will be greatly appreciated.</p>
<p>My server is below:</p>
<pre><code>Ubuntu 20.04.3 LTS (GNU/Linux 5.4.0-92-generic x86_64)
NAME=&quot;Ubuntu&quot;
VERSION=&quot;20.04.3 LTS (Focal Fossa)&quot;
ID=ubuntu
ID_LIKE=debian
PRETTY_NAME=&quot;Ubuntu 20.04.3 LTS&quot;
VERSION_ID=&quot;20.04&quot;
</code></pre>
",45,0,<python><ubuntu><server><jupyter-notebook><jupyterhub>,2022-01-09 05:57:02
70630387,Saving Functions into Package in Jupyter Notebooks,"<p>not sure if I'm phrasing my question correctly but here goes. I've been using Python in a Juptyer Notebook on juptyer hub for one of my class. I've written many useful functions that I want to use to solve problems with. Right now, I have a code block at the beginning of my notebook with all the functions. Like this</p>
<pre><code>import math
from fractions import Fraction

def ln(x):
    return math.log(x)
def lg(x):
    return math.log(x,2)

#Binomial Distribution
def binom(n,k,p):
    #binom(10,3,0.3), 0.266
    return math.comb(n,k)*p**k*(1-p)**(n-k)

def WrtFish():
    #Test WrtFish(), h,10,3,3 0.266
    poptype = input('Is the population haploid or diploid? Enter h or d.')
    rawpop = input('How many individuals are in the population?')
    if poptype == 'h':
        pop = int(rawpop)
    elif poptype == 'd':
        pop = 2*int(rawpop)
    rawgen1 = input('How many individuals in the current generation have the trait?')
    rawgen2 = input('How many individuals in the next generation are being inquired about?')
    i = int(rawgen1)
    j = int(rawgen2)
    p = i/pop
    return binom(pop,j,p)
</code></pre>
<p>It's gotten execessive, and I wanted to know if it's possible for me to make my own package for my own use. My ideal goal is to be able to chuck all of these in a package that I can update and import in new notebooks. e.i. I want to store all these functions in a notebook and be able to call them in a blank notebook where I can work out problems. I'd appreciate any insight you could give. Thank you!!!</p>
",174,0,<python><jupyter-notebook><jupyter><jupyterhub>,2022-01-08 07:26:56
70622850,ipywidget Dropdown 'new' value contains multiple objects,"<p>I am building some interactive graphs and am trying to build one with second dynamic dropdown based on the first.</p>
<pre><code>def update_dropdown(change):
    global country_list
    global country_list2
    global drop2
    print(change.new)
    ##country_list2 = country_list.remove(change.new) &lt;- Not working because of multiple values
    ##drop2.options = country_list2
    
country_list2 = country_list
drop1 = widgets.Dropdown(options=country_list, value='United States', description='Country:')
drop2 = widgets.Dropdown(options=country_list2, value='China', description='Country:')
drop1.observe(update_dropdown)
interactive(compare_country_graph, Country1=drop1, Country2=drop2, Column=widgets.Dropdown(options=column_list, value='GDP', description='Metric:'))

**Ouput:**
{'index': 189}
Uruguay
Uruguay
189
{}
</code></pre>
<p>The problem is, change.new is returning mutiple values and no matter how I try and spin it, I can't just get one value. I have tried lists, dictionaries, series, and arrays to no avail.</p>
<p>More code I have tried:</p>
<pre><code>def update_dropdown(change):
    global country_list
    global country_list2
    global drop2
    global y
    global newword
    y= []
    for letter in str(change.new):
        if letter.isalpha():
            y.append(letter)
    
    new = &quot;&quot;
    for x in y:
        new += x 
        
    print(new)

**Output:**
index
Uruguay
Uruguay 
</code></pre>
<p>Does anyone know how I can access and get ONLY the country name from this dropdown?</p>
",289,0,<python><jupyter-notebook><observers><ipywidgets>,2022-01-07 14:40:25
70620575,Dynamic ipywidgets function for matplotlib does not print the plot,"<p>I am using <a href=""https://coderzcolumn.com/tutorials/data-science/interactive-charts-using-matplotlib-and-ipywidgets"" rel=""nofollow noreferrer"">this tutorial</a> and want to create a basic interactive scatterplot with n-columns.</p>
<p>My data looks like:</p>
<pre><code>psm pb  procedures
36  999 33
25  567 34
24  352 20
45  456 24
</code></pre>
<p>My code:</p>
<pre><code>import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import ipywidgets as widgets
import warnings
warnings.filterwarnings(&quot;ignore&quot;)
%matplotlib widget

def create_scatter(feature1, feature2):
    with plt.style.context(&quot;ggplot&quot;):
        fig = plt.figure(figsize=(8,4))

        plt.scatter(x = psm_df[feature1],
                y = psm_df[feature2],
                s=20
               )

        plt.xlabel(feature1.capitalize())
        plt.ylabel(feature2.capitalize())

        plt.title(&quot;%s vs %s&quot;%(feature1.capitalize(), feature2.capitalize()))

 widgets.interact(create_scatter, feature1=psm_df.columns, feature2=psm_df.columns);
</code></pre>
<p>Filters appear, but the plot does not</p>
<p><a href=""https://i.stack.imgur.com/wMWoN.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/wMWoN.png"" alt=""enter image description here"" /></a></p>
<p>I thought there is an error, but I cannot reproduce a single plot from that tutorial, they are not printed too. What is wrong? Thanks!</p>
",124,0,<python><matplotlib><ipywidgets>,2022-01-07 11:28:43
70607035,ipywidget observe printing multiple times while write to file only once,"<p>Working on using ipywidgets in a jupyter notebook, when I change the value in the dropbox, and in the observe function I use a print, I get three outputs:</p>
<pre><code>import ipywidgets as widgets

feat_ref_dropdown = widgets.Dropdown(options=[&quot;feat1&quot;,&quot;feat2&quot;,&quot;feat3&quot;,&quot;feat4&quot;], value=None, description=&quot;feat ref:&quot;)
out = widgets.Output()

def on_dropdown_change(change):
    with out:
        global selection_option
        if change['name'] == 'value' and (change['new'] != change['old']):
            # Used just to test the idea
            with open(&quot;./demo.txt&quot;, &quot;a+&quot;) as f:
                f.write(str(change))
                f.write(&quot;\n&quot;)
            print(&quot;changed&quot;)
            selected_option = feat_ref_dropdown.value
            print(selected_option)

feat_ref_dropdown.observe(on_dropdown_change, names=['value'])
display(feat_ref_dropdown, out)
</code></pre>
<p>When I run it I get the following output cell:</p>
<p><a href=""https://i.stack.imgur.com/0jPgg.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/0jPgg.png"" alt=""output-cell for above code"" /></a></p>
<p>However when I open the <em>demo.txt</em> I see just a single line:</p>
<blockquote>
<p>{'name': 'value', 'old': None, 'new': 'feat2', 'owner': Dropdown(description='feat ref:', index=1, options=('feat1', 'feat2', 'feat3', 'feat4'), value='feat2'), 'type': 'change'}</p>
</blockquote>
<p>I added the <code>global selection_option</code> because I saw it as an answer in another question:
<a href=""https://stackoverflow.com/questions/57631700/why-is-my-ipywidget-observe-being-call-multiple-times-on-a-single-state-change"">Why is my ipywidget observe being call multiple times on a single state change?</a> but it doesn't seem to have helped.</p>
",140,0,<python><jupyter-notebook><ipywidgets>,2022-01-06 12:22:10
70564974,How to create a dynamic dependent dropdown menu using ipywidgets?,"<p>I created a form with two drop down menu's:</p>
<p>My goal is to make one dropdown dependent on the other dropdown.</p>
<p><a href=""https://i.stack.imgur.com/o9k5G.png"" rel=""nofollow noreferrer"">This picture illustrates my goal and the current situation.</a></p>
<p>The sample code below can be run in Google Colab or Jupyter notebook to replicate the current situation.</p>
<pre><code>#@title 
import ipywidgets as widgets
from ipywidgets import HBox, Label
from ipywidgets import Layout, Button, Box, FloatText, Textarea, Dropdown, Label, IntSlider
import time
import pandas as pd

#Create DF
df = df = pd.DataFrame(columns = ['Dropdown_column', 'Float_column'])
df

# Layout
form_item_layout = Layout(
    display='flex',
    flex_flow='row',
    justify_content='space-between',
)


button_item_layout = Layout(
    display='flex',
    flex_flow='row',
    justify_content='center',
    padding = '5%'
)


# Independent dropdown item

drop_down_input = 'Dropdown_input_1'

drop_down = widgets.Dropdown(options=('Dropdown_input_1', 'Dropdown_input_2'))

def dropdown_handler(change):
    global drop_down_input
    print('\r','Dropdown: ' + str(change.new),end='')
    drop_down_input = change.new

drop_down.observe(dropdown_handler, names='value')


# Dependent drop down

# Dependent drop down elements

dependent_drop_down_elements = {}
dependent_drop_down_elements['Dropdown_input_1'] = ['A', 'B']
dependent_drop_down_elements['Dropdown_input_2'] = ['C', 'D', 'E'] 

# Define dependent drop down

dependent_drop_down = widgets.Dropdown(options=(dependent_drop_down_elements['Dropdown_input_1']))

def dropdown_handler(change):
    global drop_down_input
    print('\r','Dropdown: ' + str(change.new),end='')
    drop_down_input = change.new  
drop_down.observe(dropdown_handler, names='value')



# Button

button = widgets.Button(description='Add row to dataframe')
out = widgets.Output()
def on_button_clicked(b):
    global df
    button.description = 'Row added'
    time.sleep(1)
    with out:
      new_row = {'Dropdown_column': drop_down_input, 'Float_column': float_input}
      df = df.append(new_row, ignore_index=True)
      button.description = 'Add row to dataframe'
      out.clear_output()  
      display(df)
button.on_click(on_button_clicked)

# Form items

form_items = [         
    Box([Label(value='Independent dropdown'),
         drop_down], layout=form_item_layout),
    Box([Label(value='Dependent dropdown'),
         dependent_drop_down], layout=form_item_layout)
         ]

form = Box(form_items, layout=Layout(
    display='flex',
    flex_flow='column',
    border='solid 1px',
    align_items='stretch',
    width='30%',
    padding = '1%'
))
display(form)
display(out)
</code></pre>
<p>Is this possible? If so, can you explain how?</p>
",867,1,<python><jupyter-notebook><google-colaboratory><ipywidgets>,2022-01-03 11:17:41
70519533,How to overwrite Python Jupyter display output,"<p>I have created a small form with ipywidgets. The sample code can be run in Jupyter or Google colab.</p>
<p>Each time the form is filled and the button is clicked a row gets added to a dataframe. Subsequently the dataframe gets displayed.</p>
<p>My problem is that the output displays the new updated dataframe on top of the old one. What I want is that the new display output overwrites the old one. <a href=""https://i.stack.imgur.com/Vb6rp.png"" rel=""nofollow noreferrer"">See image description here</a>.</p>
<pre><code>import ipywidgets as widgets
from ipywidgets import HBox, Label
from ipywidgets import Layout, Button, Box, FloatText, Textarea, Dropdown, Label, IntSlider
import time
import pandas as pd

#Create DF
df = df = pd.DataFrame(columns = ['Dropdown_column', 'Float_column'])
df

# Layout
form_item_layout = Layout(
    display='flex',
    flex_flow='row',
    justify_content='space-between',
)


button_item_layout = Layout(
    display='flex',
    flex_flow='row',
    justify_content='center',
    padding = '5%'
)

# Dropdown item

drop_down_input = 'Dropdown_input_1'

drop_down = widgets.Dropdown(options=[('Dropdown_input_1', 'Dropdown_input_1'), ('Dropdown_input_2','Dropdown_input_2'), ('Dropdown_input_3', 'Dropdown_input_3')])

def dropdown_handler(change):
    global drop_down_input
    print('\r','Dropdown: ' + str(change.new),end='')
    drop_down_input = change.new  
drop_down.observe(dropdown_handler, names='value')

# FloatText item

float_input = 0

FloatText = widgets.FloatText()

def IntText_handler(change):
    global float_input
    print('\r','Float text:' + str(change.new),end='')
    float_input = change.new 
FloatText.observe(IntText_handler, names='value')



# Button

button = widgets.Button(description='Add row to dataframe')
out = widgets.Output()
def on_button_clicked(b):
    global df
    button.description = 'Row added'
    time.sleep(1)
    with out:
      new_row = {'Dropdown_column': drop_down_input, 'Float_column': float_input}
      df = df.append(new_row, ignore_index=True)
      button.description = 'Add row to dataframe'
      display(df)
button.on_click(on_button_clicked)

# Form items

form_items = [         
    Box([Label(value='Dropdown'),
         drop_down], layout=form_item_layout),
    Box([Label(value='FloatText'),
         FloatText], layout=form_item_layout),
    Box([Label(value=''), button],
        layout=button_item_layout),    
]

form = Box(form_items, layout=Layout(
    display='flex',
    flex_flow='column',
    border='solid 1px',
    align_items='stretch',
    width='30%',
    padding = '1%'
))
display(form)
display(out)
</code></pre>
<p>I have tried using the print() function in combination with '/r' and changing #button part of my code.
Change:</p>
<pre><code>display(df)
</code></pre>
<p>to</p>
<pre><code>print('\r',str(df), end='')
</code></pre>
<p>or</p>
<pre><code>print(str(df), end='\r')
</code></pre>
<p>But this does not work either.</p>
<p>Does somebody have any idea what to do?</p>
",132,0,<python><jupyter><ipywidgets>,2021-12-29 12:38:49
70507883,How to stop flickering while dragging the slider in interact feature of ipywidgets in Jupyter notebook in Python?,"<p>I have written a function to display bar plots in a certain order. The function takes demand as an argument.</p>
<p>The code looks as follows:</p>
<pre><code>def display_plot(demand = 0):
    
    plt.figure(figsize = (20, 10))
    
    x = [&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;D&quot;,&quot;E&quot;,&quot;F&quot;,&quot;G&quot;,&quot;H&quot;]
    y = [-25, -10, 5, 10, 30, 40, 50, 60]
    w = [300, 200, 205, 400, 200, 400, 540, 630]
    w_cumulative = [300, 500, 705, 1105, 1305, 1705, 2245, 2875]

    colors = [&quot;yellow&quot;,&quot;limegreen&quot;,&quot;green&quot;,&quot;blue&quot;,&quot;red&quot;,&quot;brown&quot;,&quot;grey&quot;,&quot;black&quot;]

    xpos = [150.0, 400.0, 602.5, 905.0, 1205.0, 1505.0, 1975.0, 2560.0]

    fig = plt.bar(xpos,
            height = y,
            width = w,
            color = colors,
            alpha = 0.5,
          )
    
    #For loop to get the cutoff value 
    for index in range(len(w_cumulative)):

        if w_cumulative[index] &lt; demand:
            pass

        else:
            cut_off_index = index
            print (cut_off_index)
            break

    plt.hlines(y = y[cut_off_index],
          xmin = 0,
          xmax = demand,
          color = &quot;red&quot;,
          linestyle = &quot;dashed&quot;)
        
    plt.xlim((0, w_cumulative[-1]))

    plt.vlines(x = demand,
              ymin = 0,
              ymax = y[cut_off_index])
    
    plt.text(x = demand - 5,
            y = y[cut_off_index]+5,
            s = str(y[cut_off_index]))

    plt.show()
    
</code></pre>
<p>I tried to interact with the plot created by this function. The user-defined feature here is <code>demand</code>. When I change the demand, the hlines and vlines change accordingly. As well as the text such that the height of each bar is displayed.</p>
<p>Using</p>
<pre><code>from ipywidgets import *
interact(display_plot, demand = (0, sum(w), 10))
</code></pre>
<p>I am getting the desired output, which is as shown <a href=""https://i.stack.imgur.com/M7mSg.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/M7mSg.png"" alt=""enter image description here"" /></a></p>
<p>When I click at a point on the slider to change value, it is relatively fine. However, when I drag the slider, the plot flickers a lot. This is very annoying. I think this is because of the for-loop I have used inside the <code>display_plot</code> function, which calculates the instantaneous value of <code>cut_off_index</code> while changing <code>demand</code> by dragging the slider.</p>
<p>I tried adding <code>clear_output(wait=True)</code> inside <code>display_plot()</code> function by calling from <code>from IPython.display import clear_output</code>. I also tried adding <code>time.sleep(1)</code> inside the function. However, the plot is still flickering a lot while dragging the slider. The height of the plot is always constant. But only the contents inside it needs to be updated when I interact. Is there any way to avoid flickering the plot in this case?</p>
",292,1,<python><python-3.x><user-interface><jupyter-notebook><ipywidgets>,2021-12-28 13:38:52
70497685,"bokeh, ipywidgets, jupyterlab and voilà","<p>I'm trying to create a webapp using bokeh. Mostly, it will consist of markdown text and some figures. Right now I'm stuck a getting voilà to show two bokeh figures side by side. Within the notebook everything runs smoothly, but in the voilà visualization I see errors like</p>
<pre><code>Javascript Error: Error rendering Bokeh model: could not find #5db0eeb2-830f-4e00-b6fe-552a45536513 HTML tag
</code></pre>
<p>Now, if I try in <em>classic</em> jupyter notebook (within jupyter-lab <code>Help</code> -&gt; <code>Launch Classic Notebook</code>), then it renders fine. However, when it is served from github, I get again javascript errors.</p>
<p>A MWE within jupyterlab but <strong>non-working</strong> in voilà is:</p>
<pre><code>import numpy as np
import ipywidgets as widgets
import bokeh.plotting
from bokeh.io import output_notebook, show
from bokeh.models import ColumnDataSource, Line

output_notebook()

t = np.arange(10)
signal = np.arange(10)

f_1 = bokeh.plotting.figure(plot_width=400, plot_height=300, toolbar_location=None)
data_source_1 = ColumnDataSource(data=dict(t=t, signal=signal))
f_1.line(x='t', y='signal', source=data_source_1)

out_1 = widgets.Output()
with out_1:
    show(f_1)

f_2 = bokeh.plotting.figure(plot_width=400, plot_height=300, toolbar_location=None)
data_source_2 = ColumnDataSource(data=dict(t=t, signal=2*signal))
f_2.line(x='t', y='signal', source=data_source_2)

out_2 = widgets.Output()
with out_2:
    show(f_2)

widgets.HBox([out_1, out_2])
</code></pre>
<p>This is meant to be part of mini-lecture on analog modulations: the <a href=""https://mybinder.org/v2/gh/manuvazquez/uc3m_communications_theory/35b88fe866197f47987dcc26a194fd2bcc7f2e30?filepath=labs%2Fnotebooks%2Fbokeh_analog_modulations_lab.ipynb"" rel=""nofollow noreferrer"">classic notebook version</a> works fine, but when I try to use voilà-served version (click the <code>Voilà</code> button there or just go to this other <a href=""https://hub.gke2.mybinder.org/user/manuvazquez-uc3-ications_theory-dza074aj/voila/render/labs/notebooks/bokeh_analog_modulations_lab.ipynb"" rel=""nofollow noreferrer"">link</a>) I hit the same problem.</p>
<p>Any clue?</p>
",301,2,<python><bokeh><jupyter-lab><ipywidgets><voila>,2021-12-27 15:56:04
70492070,How to add seaborn library in jupyter lite static build,"<p>I have created the static build of jupyter lite while running seaborn library example code in jupyter lite tool i am getting this error : seaborn module not found.</p>
",519,0,<jupyter-notebook><jupyter-lab><jupyterhub><jupyter-irkernel><jupyter-console>,2021-12-27 05:43:07
70485412,in JupyterLab using ipywidgets: how to know which textbox was last selected?,"<p>In my Jupyter notebook I am using ipywidgets to make a GUI. In that GUI I have a listbox and 3 text boxes. When I click in a text box, I would like to indicate that this textbox is selected (e.g. with a yellow background). When I select something in the listbox, the selected item should appear in the textbox that was last selected. I wrote this example code, in which I put the selected text in textbox2. How can I know the textbox that was last selected?</p>
<pre><code>import ipywidgets as widgets
from IPython.display import display

my_select = widgets.Select(
    options=['apple', 'orange', 'banana'],
    value=None,
    rows=5,
    disabled=False,
)

text1 = widgets.Text(description='text1')
text2 = widgets.Text(description='text2')
text3 = widgets.Text(description='text3')

my_widget = widgets.HBox([my_select, widgets.VBox([text1, text2, text3])])

def copy_item(change):
    text2.value = change['new']

my_select.observe(copy_item, names='value')

my_widget
</code></pre>
",136,0,<python><jupyter><ipywidgets>,2021-12-26 09:29:31
70438176,Is there a way to use ipywidgets in Palantir's Foundry platform using code workbook,"<p>Is there a way to use ipywdigets in code workbook. I am able to import the library and execute, however nothing shows up in the visualization</p>
",56,0,<python><interactive><ipywidgets><palantir-foundry>,2021-12-21 15:54:30
70436504,"problem with event loops, gui qt5, and ipywidgets in a jupyter notebook","<p>I am trying to integrate interactive ipywidgets with a loop in my code that also performs other tasks (in this case, acquiring data from some hardware attached from the computer and updating live plots).</p>
<p>In the past, I could do this by using <code>IPython.kernel.do_one_iteration()</code> in my <code>while</code> loop: this would trigger a sync of the ipywidget changes and I would be able to retrieve them from the python widget objects. A minimal example is here:</p>
<pre><code>import ipywidgets as widgets
from time import sleep
import IPython

do_one_iteration = IPython.get_ipython().kernel.do_one_iteration

w = widgets.ToggleButton()
display(w)

i=0
while True:
    do_one_iteration()
    print(i, w.value, end=&quot;\r&quot;)
    w.decription = str(i)
    sleep(0.5)
    i+=1
</code></pre>
<p>Here, the for loop prints out the ticker integer along with the state of the widget. (In the real code, I would also acquire data, update plots, and change plot / acquisition settings dependent on the interaction with the user via the widgets.)</p>
<p>With ipykernel 5.3.2 and ipython 7.16.1, this worked fine: if the widget changed, calling <code>do_one_iteration()</code> synced the widget states to the kernel and I could retrieve it from my <code>while</code> loop.</p>
<p>After an upgrade (to 6.4.1 and 7.29.0), this no longer works. It seems that <code>do_one_iteration()</code> is now a coroutine: I get a warning <code>coroutine 'Kernel.do_one_iteration' was never awaited</code> if I use the above code.</p>
<p>With some help of a friend, we found a way to do this with threading an asyncio:</p>
<pre><code>%gui asyncio
import asyncio
import ipywidgets as widgets

button = widgets.ToggleButton()
display(button)
text = widgets.Text()
display(text)
text.value= str(button.value)

stop_button = widgets.ToggleButton()
stop_button.description = &quot;Stop&quot;
display(stop_button)

async def f():   
    i=0
    while True:
        i += 1
        text.value = str(i) + &quot; &quot; + str(button.value)
        await asyncio.sleep(0.2)
        if stop_button.value == True:
            return

asyncio.create_task(f());
</code></pre>
<p>And this works (also adding a stop button, and changing to text output widget instead of printing). But to throw a spanner in the works, I need to use a library that itself uses a QT gui event loop. Some more puzzling suggests that this should be the code to make this work:</p>
<pre><code>%gui qt5
import asyncio
import ipywidgets as widgets
import qasync

button = widgets.ToggleButton()
display(button)
text = widgets.Text()
display(text)
text.value= str(button.value)

stop_button = widgets.ToggleButton()
stop_button.description = &quot;Stop&quot;
display(stop_button)

async def f(): 
    while True:
        i += 1
        text.value = str(i) + &quot; &quot; + str(button.value)
        await asyncio.sleep(0.2)
        if stop_button.value == True:
            return

from qtpy import QtWidgets
APP = QtWidgets.QApplication.instance()

loop = qasync.QEventLoop(APP)
asyncio.set_event_loop(loop)
asyncio.create_task(f());
</code></pre>
<p>But with this code, the updates do not propagate, and I get the following error on the terminal running my notebook server:</p>
<pre><code>[IPKernelApp] ERROR | Error in message handler
Traceback (most recent call last):
  File &quot;/Users/gsteele/anaconda3/envs/myenv2/lib/python3.9/site-packages/ipykernel/kernelbase.py&quot;, line 457, in dispatch_queue
    await self.process_one()
  File &quot;/Users/gsteele/anaconda3/envs/myenv2/lib/python3.9/site-packages/ipykernel/kernelbase.py&quot;, line 440, in process_one
    t, dispatch, args = await self.msg_queue.get()
RuntimeError: Task &lt;Task pending name='Task-2' 
coro=&lt;Kernel.dispatch_queue() running at 
/Users/gsteele/anaconda3/envs/myenv2/lib/python3.9/site-packages/ipykernel/kernelbase.py:457&gt; 
cb=[IOLoop.add_future.&lt;locals&gt;.&lt;lambda&gt;() at /Users/gsteele/anaconda3/envs/myenv2/lib/python3.9/site-packages/tornado/ioloop.py:688]&gt; 
got Future &lt;Future pending&gt; attached to a different loop
</code></pre>
<p>It seems that somehow my ipywidgets events are propagating to the wrong event loop.</p>
<p>And now my question is: does anybody know what is going on here?</p>
<p>It's hard for me to identify if this is a &quot;bug&quot;, and if so, in which software package do things go wrong? ipykernel? Or tornado? Or ipywidgets? Or asyncio? Or maybe I'm missing something?</p>
<p>Any thoughts highly welcome, thanks!</p>
",249,1,<jupyter-notebook><python-asyncio><ipywidgets>,2021-12-21 13:48:26
70425695,What is the purpose of groups in JupyterHub?,"<p>I'm trying to limit file access for certain users. Basically, I want team members A to have access to the project A folder, and team members B to have access to the project B folder.
But it seems to me that Jupyter's groups are not made for this. I don't understand what these groups are for, and the documentation doesn't seem clear to me. Could you please help me?</p>
",357,0,<jupyter><jupyterhub>,2021-12-20 17:25:24
70411694,How do I update ipywidget values while running code?,"<p>So I want to create a simple UI in Jupyter notebook where:</p>
<ol>
<li>A counter &quot;number&quot; is incremented every second</li>
<li>If the checkbox &quot;pause&quot; is checked, &quot;number&quot; is not incremented</li>
<li>If the button &quot;trigger&quot; is pressed, &quot;number&quot; is decremented, regardless of pause status</li>
</ol>
<p>So far I tried a few variants of the code below but it doesn't work; it seems like the widget values aren't updating when running the while loop. Is there a way to fix it or another way to do this? Thanks!</p>
<pre><code>import ipywidgets as widgets
import time
from IPython.display import display, clear_output

btn = widgets.Button(description = &quot;Trigger&quot;)
pause = widgets.Checkbox(value = False, description = &quot;Paused?&quot;)
number = widgets.Label(&quot;0&quot;)
wid = widgets.VBox([btn, number, pause])
display(wid)

def triggered(b):
    number.value = str(int(number.value) - 1)

btn.on_click(triggered)

while True:
    time.sleep(1)
    while (pause.value == True):
        time.sleep(3)
    number.value = str(int(number.value) + 1)
</code></pre>
",739,1,<python><user-interface><jupyter-notebook><ipywidgets>,2021-12-19 13:08:32
70379015,ipython widget button that refreshes a table,"<p>I'm having issues with a simple code.</p>
<p>I'm using jupyterlab and I have a cell that creates a widget with 3 buttons. It then executes the &quot;model&quot; function:</p>
<pre><code>from ipywidgets import *

wid = interactive(model, months=widgets.ToggleButtons(options=['3m','6m','9m'], description='months'))

display(wid)
</code></pre>
<p>The model function returns a dataframe called pred_df.</p>
<p>Then I have another cell where I'm having the problem. I want to have a button that refreshes a display of the dataframe.</p>
<pre><code>button = widgets.Button(description=&quot;Refresh&quot;)

display(button)

def on_button_clicked(b):
    pred_df = wid.result
    pred_df = pred_df.sort_values(by='Predicted returns', ascending=False)
    print(pred_df.head(10))
    
button.on_click(on_button_clicked)
</code></pre>
<p>The problem here, I think, is that the display is printing the button over the print method, is it still shows in the console log.</p>
<p>Is there a way I can resolve this?</p>
",691,0,<python><widget><jupyter><jupyter-lab><ipywidgets>,2021-12-16 12:26:39
70328279,How to customise the color bar of a Figure Widget Heatmap?,"<p>I am plotting the phase of a complex function in the complex plane using a Heatmap. For that I use the libraries Plotly and ipywidgets to create an interactive plot. Now I am looking for a way to create a (2*pi-) cyclic color bar, so that the value -pi has the same colour as the value pi.
My Heatmap looks like this:
<a href=""https://i.stack.imgur.com/cmhfD.jpg"" rel=""nofollow noreferrer"">Heatmap</a>
So far I haven't found any solution for my problem.
This is what the code looks like:</p>
<pre><code>#import some usefull libraries:
import numpy as np
import matplotlib.pyplot as plt
import ipywidgets as widgets
from ipywidgets import interact, interactive, fixed, interact_manual, HBox, Layout, VBox
from IPython.display import display,clear_output
import pandas as pd
import plotly.graph_objects as go
import plotly.express as px
from datetime import datetime
import cmath
np.seterr(divide='ignore', invalid='ignore')
print('start programm:'+datetime.now().strftime(&quot;(%H:%M:%S.%f)&quot;))

#some parameters:

mass = 280
alpha = 1
la = 0
m1a = 139.57061
m2a = 139.57061
gFaka = 0.5
number = 1
lb = 0
gFakb = 0
m1b = 493.677
m2b = 493.677


#some functions:

def q(s, m1, m2):
    return (np.sqrt(s**2 + m1**4 + m2**4 - 2*s*m1**2 - 2*m1**2*m2**2 - 2*m1**2*s))/(2*np.sqrt(s))

#Blatt-Weisskopf form factors:
def weiss(z,la):
    if la != 0:
        if la ==1:
            return np.sqrt(1/(1+z**2))
        else:
            return np.sqrt(1/(9+ 3*z**2 + z**4))
    else:
        return 1
    
def smallnum(s,la,m1,m2):
    q0=abs(q(s,m1,m2))
    return (q(s,m1,m2)/q0)**la*weiss(q(s,m1,m2)/q0,la)

def rho(s,m1,m2):
    return 2*q(s,m1,m2)/(16*np.pi*np.sqrt(s))

def width(s,mass,gFaka,la,m1a,m2a,gFakb,lb,m1b,m2b):
   res = gFaka**2*rho(s,m1a,m2a)*smallnum(s,la,m1a,m2a)**2 + gFakb**2*rho(s,m1b,m2b)*smallnum(s,lb,m1b,m2b)**2
   return 1/mass*res

def num(s,alpha,la,m1,m2,gFak):
    return alpha*gFak*smallnum(s,la,m1,m2)

def amp(s,la,mass,alpha,m1a,m2a,gFaka,lb,gFakb,m1b,m2b):
    return num(s,alpha,la,m1a,m2a,gFaka) /  (mass**2-s-1j*(mass*width(s,mass,gFaka,la,m1a,m2a,gFakb,lb,m1b,m2b)))


print('start heat:'+datetime.now().strftime(&quot;(%H:%M:%S.%f)&quot;))
epsilon =0.5
#epsilon to avoid division by 0

#function to calculate the imaginary part of the amplitude using a set of complex numbers
#the input are two lists of numbers (x contains the real parts and y the imaginary parts of the computed complex numbers), the result is a 2D-matrix:
def func(x,y,la,mass,alpha,m1a,m2a,gFaka,lb,gFakb,m1b,m2b):
    res1 = []
    res2 = []
    for i in x:
        for k in y:
            s= complex(i,k)
            num = cmath.phase(amp(s,la,mass,alpha,m1a,m2a,gFaka,lb,gFakb,m1b,m2b))
            res1.append(num)
        res2.append(res1)
        res1=[]
    return res2

#calculate upper and lower bounds for the x and y
lowX=mass**2-20+epsilon
upX=mass**2+20+epsilon
lowY =-50
upY = 50

number1 = 100
number2 = 300

#compute a set of data points, using more datapoints around the Breit-Wigner mass, where the pole is expected, in order to improve the performance of the programm:
x=np.sort(np.append(np.linspace(lowX,upX,num=number1),np.linspace(mass**2-5,mass**2+5,num=number2)))
y=np.sort(np.append(np.linspace(lowY,upY,num=number1),np.linspace(-10,10,num=number2)))

fig = go.FigureWidget(data =
    go.Heatmap(z=func(x,y,la,mass,alpha,m1a,m2a,gFaka,lb,gFakb,m1b,m2b),x=x, y=y, zsmooth = 'best',colorbar=dict(title='Phase(A)',titleside = 'top') ))


#set the layout of the plot:
fig.layout.title.text = 'Heatmap of the Breit-Wigner amplitude in the complex plane'
fig.layout.xaxis.title = r'$\Re{(s)}$'
fig.layout.yaxis.title = r'$\Im{(s)}$'
fig.layout.xaxis.title.font.size = 18
fig.layout.yaxis.title.font.size = 18
fig.layout.autosize = False
fig.layout.width=650
fig.layout.height = 650

#initialise all widgets in an interact enviroment and define an update function, that is called as soon as a parameter is changed using one of the widgets and immediately changes the plot:
def update(momentum_a = la, BreitWignerMass = mass, Alpha = alpha, Mass1 = m1a, Mass2 = m2a, Coupling_a = gFaka, momentum_b_0 = lb, coupling_b_0 = gFakb, mass1_b_0=m1b,mass2_b_0=m2b):
    with fig.batch_update():

        lowX=BreitWignerMass**2-20+epsilon
        upX=BreitWignerMass**2+20+epsilon
        lowY =-50
        upY = 50
        x=np.sort(np.append(np.linspace(lowX,upX,num=number1),np.linspace(BreitWignerMass**2-5,BreitWignerMass**2+5,num=number2)))
        y=np.sort(np.append(np.linspace(lowY,upY,num=number1),np.linspace(-10,10,num=number2)))
        fig.data[0].x = np.sort(np.append(np.linspace(lowX,upX,num=number1),np.linspace(BreitWignerMass**2-5,BreitWignerMass**2+5,num=number2)))
        fig.data[0].y = np.sort(np.append(np.linspace(lowY,upY,num=number1),np.linspace(-10,10,num=number2)))
        fig.data[0].z = func(x,y,momentum_a,BreitWignerMass,Alpha,Mass1,Mass2,Coupling_a,momentum_b_0,coupling_b_0,mass1_b_0,mass2_b_0)
        
w2=interactive(update,
          momentum_a = widgets.IntSlider(value=la,min=0,max=2,step=1,description=r'l$_a$:'),
          BreitWignerMass = widgets.IntSlider(min=0.0,max=2.0*mass,step=1.0,value=mass,description=r'M$_{\text{BW}}$:'),
          Alpha = widgets.IntSlider(value=alpha,min=alpha-2, max=alpha + 2,step=1,description=r'$\alpha$:'),
          Mass1 = widgets.IntSlider(value=m1a,min=0,max=2*m1a,step=1,description=r'm$_1^a$:'),
          Mass2 =  widgets.IntSlider(value=m2a,min=0,max=2*m2a,step=1,description=r'm$_2^a$:'),
          Coupling_a = widgets.FloatSlider(value=gFaka,min=0,max=1.0,step=0.1,description=r'g$_a$'),    
          momentum_b_0 = widgets.IntSlider(value=lb,min=0,max=2,step=1,description=r'l$_b$'),
          coupling_b_0 = widgets.FloatSlider(value=gFakb,min=0.0,max=1.0,step=0.1,description=r'g$_b$:'),
          mass1_b_0 = widgets.IntSlider(value=m1b,min=0.0,max=2*m1b,step=1,description=r'm$_1^b$:'),
          mass2_b_0 = widgets.IntSlider(value=m2b,min=0.0,max=2*m2b,step=1,description=r'm$_2^b$:'))

#create HBoxes and VBoxes to place the sliders next to the plot
box_layout = Layout(display='flex', flex_flow='row', justify_content='space-between', align_items='center')
Hbox_layout = Layout(display='flex', flex_flow='column', justify_content='space-between', align_items='center')


h1 = HBox([w2.children[0],w2.children[1]], layout=Hbox_layout)
h2 = HBox([w2.children[2],w2.children[3]], layout=Hbox_layout)
hSum_12 = HBox([h1,h2], layout=Hbox_layout)
h3 = HBox([w2.children[4],w2.children[5]], layout=Hbox_layout)
h4 = HBox([w2.children[6],w2.children[7]], layout=Hbox_layout)
hSum_34 = HBox([h3,h4], layout=Hbox_layout)
h5 = HBox([w2.children[8],w2.children[9]], layout=Hbox_layout)
hSum_56 = HBox([h5,w2.children[10]], layout=Hbox_layout)

#creating a large hbox:
HSum_first = HBox([hSum_12,hSum_34], layout=Hbox_layout)
HSum_final = HBox([HSum_first,hSum_56], layout=Hbox_layout)

display(VBox([fig,HSum_final], layout=box_layout))
#keeping track of the time:
print('end heat:'+datetime.now().strftime(&quot;(%H:%M:%S.%f)&quot;))
</code></pre>
<p>I would be very grateful for some advice.</p>
",96,0,<python><plotly><heatmap><colorbar><ipywidgets>,2021-12-12 22:39:35
70316173,Cannot stop jupyterhub in Docker?,"<p>So, I have Docker installed on Windows 10. Then, in <code>cmd.exe</code>, I run a docker container:</p>
<pre class=""lang-none prettyprint-override""><code>C:\Users\user&gt;docker start -i image_name
</code></pre>
<p>... containing an Ubuntu 20.04 image, where, once started, from the command line I run:</p>
<pre><code>$ jupyterhub -f /etc/jupyterhub/jupyterhub_config.py
</code></pre>
<p>So, this has been running for three days without a problem; then I start noticing some problems, I though I should restart jupyterhub, and ... I just realized when I hit CTRL-C in the <code>cmd.exe</code> window which hosts the jupyterhub Docker image -- which otherwise stops jupyterhub and makes it exit -- now is completely ignored!</p>
<p>So, how could I stop jupyterhub when it is stuck in a Docker image running in <code>cmd.exe</code> in Windows?</p>
",58,0,<windows><docker><ubuntu><cmd><jupyterhub>,2021-12-11 14:54:58
70312359,Ipywidget with periodic update using thread,"<p>I am trying to periodically record the value of a slider widget. I have checked out the official document on <a href=""https://ipywidgets.readthedocs.io/en/stable/examples/Widget%20Asynchronous.html#Updating-a-widget-in-the-background"" rel=""nofollow noreferrer"">Asynchronous Widgets</a>. But for my code, it seems blocking still happens.</p>
<pre><code>import threading
import time
from ipywidgets import widgets

w = widgets.IntSlider()
out = widgets.Output()
def record():
   for i in range(10):
       time.sleep(1)
       with out:
           print(f&quot;record {w.value}&quot;)
           
t = threading.Thread(target=record)

display(w,out)
t.start()
t.join()

</code></pre>
<p>I expected the output of the slider value at every second as I drag the slider. Instead, it only prints 0s during the drag.</p>
<p>I also tried to put both processes in threads (and use the observe method for slider), doesn't work as well.</p>
<p>Environment: Jupyter lab 3.2.1</p>
",261,0,<python><multithreading><jupyter-lab><ipywidgets>,2021-12-11 03:14:08
70303356,Is it possible to integrate vscode as extension in jupyterhub?,"<p>I am trying to get VScode as extension in my jupyterhub as we have terminal, python console etc.
so that any user can click on vscode icon and get the data copied to his/her local vscode setup on laptop/computer.</p>
",69,0,<visual-studio-code><jupyterhub>,2021-12-10 10:51:38
70295267,Jupyter widgets: How to use 'Button' to update content of 'Label' based on value of 'FloatText'?,"<p>I am unable to use widgets in Jupyter to make something that actually should be simple but I can't make it work: I want a GUI where the user presses a 'Button' to update the content of a 'Label' based on value of 'FloatText'</p>
<p>I tried many things to no avail. Here two examples:</p>
<p>Example 1:</p>
<pre><code>from ipywidgets import FloatText, Button, Label, interact

t_str1 = FloatText( description='Strain in %:', value='3' )

b_cs   = Button( description='Compute Stress' )

t_str2 = Label( value='Waiting' )

display( t_str1 ); display( b_cs )

def compute_stress( x ):
    t_str2 = Label( value='Stress = ' + str(x+3)+ 'MPa' )
    display( t_str2 );
    
interact( compute_stress, x=t_str1 );
</code></pre>
<p>Result of example 1:</p>
<p><a href=""https://i.stack.imgur.com/S85G5.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/S85G5.png"" alt=""enter image description here"" /></a></p>
<p>Example 2:</p>
<pre><code>from ipywidgets import FloatText, Button, Label, interact

t_str1 = FloatText( description='Strain in %:', value='3' )

b_cs   = Button( description='Compute Stress' )

t_str2 = Label( value='Waiting' )

display( t_str1 ); display( b_cs ); display( t_str2 );

def compute_stress( x ):
    t_str2 = Label( value='Stress = ' + str(x+3)+ 'MPa' )
    
interact( compute_stress, x=t_str1 );
</code></pre>
<p>Result of example 2:</p>
<p><a href=""https://i.stack.imgur.com/pQtPe.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/pQtPe.png"" alt=""enter image description here"" /></a></p>
<p>This is what I would like to obtain</p>
<p><a href=""https://i.stack.imgur.com/5ZQ1I.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/5ZQ1I.png"" alt=""enter image description here"" /></a></p>
",1042,1,<python><jupyter-notebook><jupyter><ipywidgets>,2021-12-09 18:55:28
70278114,JupyterHub populate user home with notebooks (and data),"<p>I have a <code>JupyterHub</code> server hosted on an Ubuntu machine.</p>
<p>(Mainly) since I want to avoid adding hundreds of potential users to the machine I opted to use <code>c.JupyterHub.authenticator_class = 'jupyterhub.auth.DummyAuthenticator'</code> (with a password)</p>
<p>The Spawner I use is
<code>c.JupyterHub.spawner_class = 'jupyterhub.spawner.SimpleLocalProcessSpawner'</code> although I also tried <code>'jupyterhub.spawner.LocalProcessSpawner'</code>.</p>
<p>I want users to have <strong>some pre-populated notebooks</strong> once they log in.</p>
<p>I first tried <a href=""https://tljh.jupyter.org/en/latest/howto/content/share-data.html"" rel=""nofollow noreferrer"">https://tljh.jupyter.org/en/latest/howto/content/share-data.html</a> putting the data in <code>/etc/skel</code> put it wasn't copied.</p>
<p>Then, according to various docs I could set <code>c.Spawner.pre_spawn_hook = populate_user_home</code> (tried also <code>c.SimpleLocalProcessSpawner.pre_spawn_hook = populate_user_home</code>) and have that method copy the files I want over to the user's home.</p>
<p>The method I have looks something like:</p>
<pre><code>def populate_user_home(spawner):
    username = spawner.user.name
    # DummyAuthenticator creates users in /tmp
    volume_path = os.path.join('/tmp', username)
    if not os.path.exists(volume_path):
        os.mkdir(volume_path, 0o777)
        copyDirectory(&lt;path_to_tutorials&gt;, os.path.join(volume_path, 'tutorials'))

</code></pre>
<p>Problem is that this method <strong>is never called!</strong></p>
<ol>
<li>What am I doing wrong?</li>
<li>Is there another (simpler?) way to populate the home of new users?</li>
</ol>
",131,0,<jupyter><jupyterhub>,2021-12-08 16:06:11
70260968,ipywidget button with on_click utilizing async functions of fabric-sdk-py. Example to make it work?,"<p>Currently I'm implementing an interface to the Hyperledger Fabric using Jupyter and fabric-sdk-py. I want to submit a transaction and/or evaluate tranactions using Button ipywidget (simple example is):</p>
<pre class=""lang-py prettyprint-override""><code>def _check_id(b):
    x = await contract.evaluate_transaction('queryUnprotectedEntry', [_id_info.value], user)
_check_id_button.on_click(_check_id)
</code></pre>
<p>Of course this doesn't work since <code>await</code> is called outside of an async function. If I use <code>async def _check_id(b)</code> I get problems because <code>_check_id' was never awaited</code>.</p>
<p>If I use <code>asyncio.run</code> or <code>asyncio.get_event_loop().run_until_complete</code>, it doesn't work as well with <code>This event loop is already running</code></p>
<p>What would be the way for a button to execute an async function using <code>on_click</code>?</p>
",219,1,<jupyter><python-asyncio><ipywidgets>,2021-12-07 13:27:01
70254053,Using Ipython widgets with Plotly,"<p>I am try to use create a dynamic stock information renderer. I had it working with matplotlib, but I wanted to move to Plotly. However, once I switched over to Plotly my chart no longer displays. Jupyter-lab is not outputting any errors for my code.</p>
<pre><code>from ipywidgets import VBox, HBox, Text, Button, widgets, Layout
from IPython.display import display
from datetime import datetime, timedelta
import yfinance as yf
import pandas as pd
import plotly.graph_objs as go
import plotly.offline as py
import plotly.express as px
import numpy as np

class StockGraph():
    def __init__(self):
        self.tickers = {}
        self.lines = []
        self.views = {
            &quot;Raw Data&quot;: lambda x: x,
            &quot;Rolling Average&quot;: lambda x: x.rolling(rolling.value).mean(),
            &quot;Rolling Variance&quot;: lambda x: x.rolling(rolling.value).var(),
            &quot;Rolling Standard Deviation&quot;: lambda x: x.rolling(rolling.value).var()**0.5,
            &quot;Rolling Coefficient of Variation&quot;: lambda x: (x.rolling(rolling.value).var()**0.5) / (x.rolling(rolling.value).mean())
        }


    def plot_data(self, *args):
        if start_date.value.year &gt; 1900 and end_date.value.year &gt; 1900:
            new_df = pd.DataFrame()
            while self.lines:
                item = self.lines.pop()
                item.remove()
            for tick in self.tickers.keys():
                df = self.tickers[tick]
                start = datetime(start_date.value.year, start_date.value.month, start_date.value.day)
                end = datetime(end_date.value.year, end_date.value.month, end_date.value.day)
                selection = df.loc[(df.index &gt;= start) &amp; (df.index &lt;= end)]
                value = self.views[calculation.value](selection[data_type.value])
                new_df[tick] = value
            fig = px.line(new_df, x=new_df.index, y=new_df.columns)
            fig.show()

    def render_stocks(self, *args):
        if stock_text.value != '':
            ticker = yf.download(stock_text.value.upper(), period=&quot;max&quot;, progress=False)
            if not ticker.empty:
                self.tickers[stock_text.value.upper()] = ticker
                self.plot_data()
        stock_text.value = ''
        boxes = [self.completed_stock(each) for each in self.tickers]
        tickersWidget.children = ([VBox([VBox(boxes), HBox([stock_text, stock_button])])])


    def completed_stock(self, ticker): 
        tickerField = Text(value=ticker,layout=Layout(width='50%',))
        removeButton = Button(description='Remove', button_style='danger',layout=Layout(width='50%',))
        return HBox([tickerField, removeButton])


    def completed_stock(self, ticker):
        def remove_stock(_):
            if tickerField.value in self.tickers.keys():
                self.tickers.pop(tickerField.value)
                self.render_stocks()
            self.plot_data()
                    
        tickerField = Text(value=ticker,layout=Layout(width='50%',))
        removeButton = Button(description='Remove', button_style='danger',layout=Layout(width='50%',))
        removeButton.on_click(remove_stock)
        stock_view = HBox([tickerField, removeButton])
        return stock_view
    
    def finish_matplotlib(self):
        ax.legend()
        title = f&quot;{calculation.value} of {data_type.value} from {start_date.value.strftime('%Y/%m/%d')}&quot;
        title += f&quot; to {end_date.value.strftime('%Y/%m/%d')}&quot;
        ax.set_title(title)
        ax.relim()
        ax.autoscale()
        fig.canvas.draw_idle()

graph = StockGraph()

# Setting up a basic view with an empty field and a button
stock_text = widgets.Text(value='',layout=Layout(width='50%',))
stock_button = widgets.Button(description='Add',layout=Layout(width='50%',))                                 
stock_button.on_click(graph.render_stocks)
tickersWidget = HBox([stock_text, stock_button])

# Choose data to be shown
calculation = widgets.Dropdown(value=&quot;Raw Data&quot;, options=graph.views.keys(),layout=Layout(width='auto',))
data_type = widgets.Dropdown(value=&quot;Close&quot;, options=['Open', 'Close', 'High', 'Low', 'Volume'],layout=Layout(width='auto',))
calculation.observe(graph.plot_data)
data_type.observe(graph.plot_data)
dropdowns = VBox([calculation, data_type])

#Choose dates to be shown
start_date = widgets.DatePicker(value=datetime.today() - timedelta(days=365),disabled=False,layout=Layout(width='auto',))
end_date = widgets.DatePicker(value=datetime.today(),disabled=False,layout=Layout(width='auto',))
start_date.observe(graph.plot_data)
end_date.observe(graph.plot_data)
dates = VBox([start_date, end_date])

#Other Settings for Users
rolling = widgets.Dropdown(options=list(range(2,101)), value=60,description='Rolling:',disabled=False,layout=Layout(width='auto',))
rolling.observe(graph.plot_data)

final_view = VBox([tickersWidget, dropdowns, dates, rolling],layout=Layout(width='20%',))
display(final_view)

</code></pre>
<p>I would love for some insight on why the chart will not show.</p>
",187,0,<python><jupyter><plotly-python><ipywidgets>,2021-12-07 01:52:39
70223911,Setting different resources for multiple Jupyter Notebook pods,"<p>I recently hosted Jupyterhub in our K8s cluster. We set memory limits to 1GB so now all Jupyter notebook are with this configuration. But we have notebooks which are resource(memory and cpu) intensive and some notebooks are not resource intensive</p>
<p>So , is there anyway to assign different resource for multiple jupyter pods ?</p>
<p>I am  using  helm chart to deploy jupyterhub  <a href=""https://zero-to-jupyterhub.readthedocs.io/en/latest/jupyterhub/installation.html"" rel=""nofollow noreferrer"">https://zero-to-jupyterhub.readthedocs.io/en/latest/jupyterhub/installation.html</a></p>
",373,1,<kubernetes><jupyter-notebook><jupyterhub>,2021-12-04 07:52:46
70223192,getting key error on using ipywidgets in jupyter notebook?,"<p>My dataset contains COURSEID, TOPICID, CHAPTERID and  SUBJECTID and all of them are natural numbers  AND i want to draw some visualisations based on the values selected using dropdown, and i want the update the dropdown of new each of them based on the previous value selected</p>
<p>My code</p>
<p>from IPython.display import *
import ipywidgets as widgets
from ipywidgets import *</p>
<pre><code>subject = Dropdown(options=df_new.SUBJECTID.unique().tolist())
course = Dropdown()
chapter = Dropdown()
topic = Dropdown()

def update1(*args):
    course.options = df_new[df_new[subject.value]].COURSEID.unique().tolist()
subject.observe(update1)


def update2(*args):
    chapter.options = df_new[df_new[course.value]].CHAPTERID.unique().tolist()
course.observe(update2)


def update3(*args):
    topic.options = df_new[df_new[chapter.value]].TOPICID.unique().tolist()
chapter.observe(update3)

display(subject, course, chapter, topic)
</code></pre>
<p>I am trying to do something like this default value of subject in the dropdown is 1 but when i execute the code i am getting key error as 1 no matter what  value i choose</p>
<p>Needs help in knowing the error and if this is not the right way then how can i achieve these results</p>
",70,0,<python><jupyter><ipywidgets>,2021-12-04 05:09:03
70220840,How to remove all previous registered handlers for widgets events (registered with observe or on_click),"<p>I have created and registered a handler.</p>
<pre><code># Example code
selectWidgetName.observe(myFunction, 'value')
</code></pre>
<p>Then I updated the code of the function and want to re-register it with the same command.</p>
<p>That adds a handler in parallel to the first one, not overwriting the first one.</p>
<p>How can I remove all existing handlers so as to apply a new and only one?</p>
",108,0,<python><jupyter-notebook><google-colaboratory><ipywidgets>,2021-12-03 21:24:51
70216136,New handling of Access Tokens in JupyterHub 2.0.0?,"<p>I have a containerized platform covered with some integration tests. Jupyter Containers are spawned for each user. There is a relatively simple python test implemented which communicates with jupyter via REST API and creates a folder. Basically it's logging in, extracts token from the page data and uses this token for the next call to create a directory. It looks like this:</p>
<pre class=""lang-py prettyprint-override""><code>class TokenParser(HTMLParser):
    &quot;&quot;&quot;
    Small parser to extract Jupyter Access Token.
    &quot;&quot;&quot;
    def __init__(self):
        self.jupyter_token = None
        super().__init__()

    def handle_data(self, data):
        jupyter_data = {}
        try:
            if self.jupyter_token is None:
                jupyter_data = json.loads(data)
                self.jupyter_token = jupyter_data[&quot;token&quot;]
        except:
            pass

def test_create_directory_in_mynotebooks(cert_path=None):
    time.sleep(10)
    client = requests.session()
    url = JUPYTER_HOST + '/hub/login?next='
    data = {'username': JUPYTER_USER, 'password': JUPYER_PASSWORD}
    response = client.post(url, data=data, verify=cert_path)
    response.raise_for_status()
    content_string = response.content.decode('utf-8')
    parser = TokenParser()
    parser.feed(content_string)
    url = JUPYTER_HOST + '/user/test-bot/api/contents/MyNotebooks'
    data = {'path': 'MyNotebooks', 
            'type' : 'directory'
            }
    token = &quot;&quot; if parser.jupyter_token is None else parser.jupyter_token
    response = client.post(url, json=data, verify=cert_path, 
                                headers={&quot;Authorization&quot;: &quot;token &quot;+token}, allow_redirects=False)
    assert response.status_code &gt;= 200, content_string
    assert response.status_code &lt; 400, (str(response.status_code) + &quot; &quot; + str(response.content), content_string) 
</code></pre>
<p>Recently the jupyterhub version switced from 1.5.0 to 2.0.0 and this test doesn't work anymore. The token cannot be found in the page anymore. When I try manually to explore jupyterhub, I also don't find the token. But of course I can create the folder. &quot;jupyter notebook list&quot; returns running notebooks but also without tokens.</p>
<p>What could have happened? Are there significant changes in the jupyterhub_config or maybe environment variables?</p>
",221,0,<docker><jupyter-notebook><jupyter-lab><jupyterhub>,2021-12-03 14:46:57
70206072,How to make an interactive bar plot with seaborn and ipywidgets,"<p>I have a dataset with athletes, their age-range and the year they competed:</p>
<pre class=""lang-py prettyprint-override""><code>import ipywidgets as widgets
from ipywidgets import interact  
import pandas as pd  
import matplotlib.pyplot as plt 
import seaborn as sns  
import numpy as np  

data = {'Name':['Tom', 'Nick', 'Chris', 'Jack'],
        'Age':['20-25', '19&lt;', '&gt;75', '20-25'], 
        'Year':[2019,2019,2018,2018], 
         'Count': [1,1,1,1]} 
df = pd.DataFrame(data)
</code></pre>
<p>Mind you, this is 1000s on entries long, but I didn't want to use that much space so I'm using a much simplified version.</p>
<p>I am trying to make an interactive bar plot with ipywidgets using that data.</p>
<pre class=""lang-py prettyprint-override""><code>age = ['20-25', '19&lt;', '&gt;75','20-25']
@interact(Age = age)
def f(Age):      
    df2= df[df['age'].str.contains(Age)].groupby('Year').sum() 
    df2['year'] = ['2018','2019']
    return sns.barplot(x=&quot;Year&quot;, y=&quot;Count&quot;, data=df2) 
</code></pre>
<p>The x axis is the year, the y axis is the number of participants that year and you can interactively filter via a scroll bar and see the number of participants by age range of your choosing.</p>
<p>I didn't know how to do that, so I tried to 'brute force it' and added a count column of 1, so that I would get the total number of participants even when the dataset got filtered. I also brute forced the years, but some age ranges don't compete in all years so It breaks and it's not working.</p>
<p>Age is all the various options of age range, I put them all in a list.</p>
",792,2,<python><pandas><matplotlib><seaborn><ipywidgets>,2021-12-02 20:29:51
70187024,Is it possible possible to create a shared folder between users in AWS Sagemaker Studio?,"<p>I'm currently trying to migrate a data science environment (jupyter notebook)running on Kubernetes to Sagemaker Studio.
I set up SSO and I now have privates work spaces for each user but I'd like to also have a shared folder between all the users. I've googled quite a bit to find an answer to this question without success.</p>
<p>Thanks for you help</p>
",351,6,<amazon-web-services><jupyter-lab><amazon-sagemaker><jupyterhub>,2021-12-01 15:35:05
70181593,"when log in jupyterhub ,report 500 : Internal Server Error","<p>I install jupyterhub from source ,the version is 0.9.4. I try to log in with root user,but the server response 500 message.</p>
<blockquote>
<p>500 : Internal Server Error
Spawner failed to start [status=1]. The logs for root may contain details.
You can try restarting your server from the home page.</p>
</blockquote>
<p>then I click HOME PAGE and start my server ,it failed and shows message:</p>
<blockquote>
<p>Spawn failed: Server at <a href=""http://192.168.183.148:47297/user/root/"" rel=""nofollow noreferrer"">http://192.168.183.148:47297/user/root/</a> didn't respond in 30 seconds</p>
</blockquote>
<p>my jupyterhub_config.py</p>
<pre><code>c.JupyterHub.authenticator_class = 'dummyauthenticator.DummyAuthenticator'
c.JupyterHub.bind_url = 'http://192.168.183.148:8000'
c.JupyterHub.data_files_path = '/usr/local/share/jupyterhub'
c.Spawner.ip = '192.168.183.148'
c.Authenticator.admin_users = {'root'}
c.Authenticator.whitelist = {'root','vinwin'}
c.PAMAuthenticator.encoding = 'utf8'
</code></pre>
<pre><code>[root@localhost jupyter]# jupyterhub -f jupyterhub_config.py 
</code></pre>
<p>console log:</p>
<pre><code>[I 2021-12-01 03:46:26.857 JupyterHub app:1673] Using Authenticator:dummyauthenticator.dummyauthenticator.DummyAuthenticator

[I 2021-12-01 03:46:26.857 JupyterHub app:1673] Using Spawner: jupyterhub.spawner.LocalProcessSpawner-0.9.4

[I 2021-12-01 03:46:26.858 JupyterHub app:1055] Writing cookie_secret to /etc/jupyter/jupyterhub_cookie_secret

[I 2021-12-01 03:46:26.883 alembic.runtime.migration migration:155] Context impl SQLiteImpl.

[I 2021-12-01 03:46:26.884 alembic.runtime.migration migration:162] Will assume non-transactional DDL.

[I 2021-12-01 03:46:26.890 alembic.runtime.migration migration:517] Running stamp_revision  -&gt; 896818069c98

[I 2021-12-01 03:46:26.931 JupyterHub proxy:431] Generating new CONFIGPROXY_AUTH_TOKEN

[I 2021-12-01 03:46:26.987 JupyterHub app:1855] Hub API listening on http://127.0.0.1:8081/hub/

[W 2021-12-01 03:46:26.988 JupyterHub proxy:565] Running JupyterHub without SSL.  I hope there is SSL termination happening somewhere else...

[I 2021-12-01 03:46:26.988 JupyterHub proxy:567] Starting proxy @ http://192.168.183.148:8000
03:46:27.217 [ConfigProxy] info: Proxying http://192.168.183.148:8000 to (no default)
03:46:27.220 [ConfigProxy] info: Proxy API at http://127.0.0.1:8001/api/routes
(node:53082) ExperimentalWarning: queueMicrotask() is experimental.
03:46:27.854 [ConfigProxy] info: 200 GET /api/routes 

[I 2021-12-01 03:46:27.855 JupyterHub proxy:301] Checking routes

[I 2021-12-01 03:46:27.855 JupyterHub proxy:370] Adding default route for Hub: / =&gt; http://127.0.0.1:8081
03:46:27.861 [ConfigProxy] info: Adding route / -&gt; http://127.0.0.1:8081
03:46:27.862 [ConfigProxy] info: Route added / -&gt; http://127.0.0.1:8081
03:46:27.863 [ConfigProxy] info: 201 POST /api/routes/ 

[I 2021-12-01 03:46:27.867 JupyterHub app:1912] JupyterHub is now running at http://192.168.183.148:8000

[I 2021-12-01 03:46:40.510 JupyterHub log:158] 302 GET / -&gt; /hub (@192.168.183.1) 0.86ms

[I 2021-12-01 03:46:40.545 JupyterHub log:158] 302 GET /hub -&gt; /hub/ (@192.168.183.1) 1.03ms

[W 2021-12-01 03:46:40.571 JupyterHub base:242] Invalid or expired cookie token

[I 2021-12-01 03:46:40.574 JupyterHub log:158] 302 GET /hub/ -&gt; /hub/login (@192.168.183.1) 3.96ms

[I 2021-12-01 03:46:40.630 JupyterHub log:158] 200 GET /hub/login (@192.168.183.1) 31.31ms

[I 2021-12-01 03:46:45.414 JupyterHub base:499] User logged in: root

[I 2021-12-01 03:46:45.415 JupyterHub log:158] 302 POST /hub/login?next= -&gt; /user/root/ (root@192.168.183.1) 11.03ms

[I 2021-12-01 03:46:45.451 JupyterHub log:158] 302 GET /user/root/ -&gt; /hub/user/root/ (@192.168.183.1) 0.77ms

[I 2021-12-01 03:46:45.530 JupyterHub spawner:1100] Spawning jupyterhub-singleuser '--ip=&quot;192.168.183.148&quot;' --port=46793
Traceback (most recent call last):
  File &quot;/usr/local/bin/jupyterhub-singleuser&quot;, line 3, in &lt;module&gt;
    from jupyterhub.singleuser import main
  File &quot;/usr/local/lib/python3.5/site-packages/jupyterhub/singleuser.py&quot;, line 34, in &lt;module&gt;
    from notebook.notebookapp import (
  File &quot;/usr/local/lib/python3.5/site-packages/notebook/notebookapp.py&quot;, line 81, in &lt;module&gt;
    from .services.kernels.kernelmanager import MappingKernelManager
  File &quot;/usr/local/lib/python3.5/site-packages/notebook/services/kernels/kernelmanager.py&quot;, line 19, in &lt;module&gt;
    from jupyter_client.session import Session
  File &quot;/usr/local/lib/python3.5/site-packages/jupyter_client/__init__.py&quot;, line 6, in &lt;module&gt;
    from .asynchronous import AsyncKernelClient  # noqa
  File &quot;/usr/local/lib/python3.5/site-packages/jupyter_client/asynchronous/__init__.py&quot;, line 1, in &lt;module&gt;
    from .client import AsyncKernelClient  # noqa
  File &quot;/usr/local/lib/python3.5/site-packages/jupyter_client/asynchronous/client.py&quot;, line 6, in &lt;module&gt;
    from jupyter_client.channels import HBChannel
  File &quot;/usr/local/lib/python3.5/site-packages/jupyter_client/channels.py&quot;, line 47
    time_to_dead: float = 1.0
                ^
SyntaxError: invalid syntax

[W 2021-12-01 03:46:55.506 JupyterHub web:1787] 500 GET /hub/user/root/ (192.168.183.1): Spawner failed to start [status=1]. The logs for root may contain details.

[E 2021-12-01 03:46:55.520 JupyterHub log:150] {
      &quot;X-Forwarded-Proto&quot;: &quot;http&quot;,
      &quot;Accept-Encoding&quot;: &quot;gzip, deflate&quot;,
      &quot;X-Forwarded-For&quot;: &quot;192.168.183.1&quot;,
      &quot;Upgrade-Insecure-Requests&quot;: &quot;1&quot;,
      &quot;Cookie&quot;: &quot;jupyterhub-hub-login=\&quot;2|1:0|10:1638348405|20:jupyterhub-hub-login|44:NTAxYTI1MTFlMjEyNDk0OGEyMzcxMGE4YmQyZTY0MTc=|7226825397d8c04df83eb08b3d6643e6a050f12ac549f65bae0dacffde3b36f6\&quot;; jupyterhub-session-id=7f07873d8ead4f2dbc0684c4e951d7fc&quot;,
      &quot;Accept-Language&quot;: &quot;zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2&quot;,
      &quot;Host&quot;: &quot;192.168.183.148:8000&quot;,
      &quot;Referer&quot;: &quot;http://192.168.183.148:8000/hub/login&quot;,
      &quot;X-Forwarded-Host&quot;: &quot;192.168.183.148:8000&quot;,
      &quot;User-Agent&quot;: &quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/99.0.3538.77 Safari/537.36&quot;,
      &quot;Accept&quot;: &quot;text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,*/*;q=0.8&quot;,
      &quot;X-Forwarded-Port&quot;: &quot;8000&quot;,
      &quot;Connection&quot;: &quot;close&quot;
    }

[E 2021-12-01 03:46:55.520 JupyterHub log:158] 500 GET /hub/user/root/ (root@192.168.183.1) 10042.81ms

[W 2021-12-01 03:47:14.769 JupyterHub user:510] root's server never showed up at http://192.168.183.148:46793/user/root/ after 30 seconds. Giving up

[E 2021-12-01 03:47:14.805 JupyterHub gen:624] Exception in Future &lt;Task finished coro=&lt;BaseHandler.spawn_single_user.&lt;locals&gt;.finish_user_spawn() done, defined at /usr/local/lib/python3.5/site-packages/jupyterhub/handlers/base.py:619&gt; exception=TimeoutError(&quot;Server at http://192.168.183.148:46793/user/root/ didn't respond in 30 seconds&quot;,)&gt; after timeout
    Traceback (most recent call last):
      File &quot;/usr/local/lib/python3.5/site-packages/tornado/gen.py&quot;, line 618, in error_callback
        future.result()
      File &quot;/usr/local/lib/python3.5/asyncio/futures.py&quot;, line 294, in result
        raise self._exception
      File &quot;/usr/local/lib/python3.5/asyncio/tasks.py&quot;, line 240, in _step
        result = coro.send(None)
      File &quot;/usr/local/lib/python3.5/site-packages/jupyterhub/handlers/base.py&quot;, line 626, in finish_user_spawn
        await spawn_future
      File &quot;/usr/local/lib/python3.5/site-packages/jupyterhub/user.py&quot;, line 528, in spawn
        raise e
      File &quot;/usr/local/lib/python3.5/site-packages/jupyterhub/user.py&quot;, line 502, in spawn
        resp = await server.wait_up(http=True, timeout=spawner.http_timeout)
      File &quot;/usr/local/lib/python3.5/site-packages/jupyterhub/utils.py&quot;, line 197, in wait_for_http_server
        timeout=timeout
      File &quot;/usr/local/lib/python3.5/site-packages/jupyterhub/utils.py&quot;, line 155, in exponential_backoff
        raise TimeoutError(fail_message)
    TimeoutError: Server at http://192.168.183.148:46793/user/root/ didn't respond in 30 seconds
</code></pre>
<p>I have the same error in ubuntu and centos.
Both of them installed python3 and python2.</p>
",763,0,<python><jupyterhub>,2021-12-01 09:11:38
70152459,Is use of cloud storage for each tljh user possible?,"<p>We have a tljh instance on an azure server and would like for each user to have access to their onedrive to allow for easier data management and backup. Is this possible? Related question - is there a way to allow the tljh user to authenticate via the one drive credentials?</p>
",31,0,<onedrive><jupyterhub>,2021-11-29 09:36:41
70143645,JupyterHub Not Loading Up with Given External-IP| K8s | Helm,"<p>I have a bare metal setup with MetalLB and nfs-subdir via helm (<a href=""https://github.com/kubernetes-sigs/nfs-subdir-external-provisioner"" rel=""nofollow noreferrer"">source</a>). I am using k8s v1.20.5 with one master and two worker nodes. I installed JupyterHub with Helm, setting the secretkey and readjusted the allocated volume. On run, the pods look fine but when I use the external-ip to run JupyterHub the page keeps loading infinitely. I have done the following:</p>
<pre><code>kubectl describe pods &lt;name of the jupyterHub pod&gt;
</code></pre>
<p>which gives me:</p>
<pre><code>Events:
  Type    Reason     Age   From               Message
  ----    ------     ----  ----               -------
  Normal  Scheduled  17m   default-scheduler  Successfully assigned default/hub-6d785f96b5-xs7pr to worker-2
  Normal  Pulled     17m   kubelet            Container image &quot;jupyterhub/k8s-hub:1.2.0&quot; already present on machine
  Normal  Created    17m   kubelet            Created container hub
  Normal  Started    17m   kubelet            Started container hub
</code></pre>
<p>The volume is also being created on the nfs store and on deleting the jupyterhub pod it is being archived. So that is working fine (I guess). I have created nginx deployment with helm and that works fine. The jupyterHub external-ip however, keeps loading infinitely with no errors.</p>
<p>Any help on how to solve this is greatly appreciated. Thanks!</p>
",80,1,<kubernetes><kubernetes-helm><kubectl><jupyterhub>,2021-11-28 12:58:51
70139677,How to control the width of buttons of ipywidgets.ToggleButtons,"<p>A basic togglebutton looks like</p>
<pre><code>widgets.ToggleButtons(
    options=['Slow', 'Regular', 'Fast'],
    description='Speed:',
    disabled=False,
    button_style='', # 'success', 'info', 'warning', 'danger' or ''
    tooltips=['Description of slow', 'Description of regular', 'Description of fast'],
#     icons=['check'] * 3
)
</code></pre>
<p>Code comes from <a href=""https://ipywidgets.readthedocs.io/en/latest/examples/Widget%20List.html#ToggleButtons"" rel=""nofollow noreferrer"">https://ipywidgets.readthedocs.io/en/latest/examples/Widget%20List.html#ToggleButtons</a></p>
<p>But that produces rather large buttons for small text.</p>
<p><a href=""https://i.stack.imgur.com/i5PbL.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/i5PbL.png"" alt=""enter image description here"" /></a></p>
<p>I have been playing with different options for layout, but that only affects the container of the buttons.</p>
",473,1,<ipywidgets>,2021-11-28 00:04:08
70135616,JupyterHub not launching on Helm | K8s,"<p>I have a metalLB loadbalancer, k8s clusters (one master and one worker) v1.18.5, helm 3.7, and nfs dynamic volume provisioning using helm. I run up a jupyterhub instance with helm. Within a minute everything is set up but when I use the external IP to open JupyterHub on my browser, noting loads up. here is my <code>kubectl get all </code></p>
<pre><code>pod/continuous-image-puller-4l5gj                      1/1     Running   0          23s
pod/hub-6c9cb48df8-k5t4w                               1/1     Running   0          23s
pod/nfs-subdir-external-provisioner-789697969b-hqp46   1/1     Running   0          23h
pod/nginx2-669c86457c-hc5mv                            1/1     Running   0          35h
pod/proxy-66cb767659-svwbv                             1/1     Running   0          23s
pod/user-scheduler-6d4698dd59-wqw9l                    1/1     Running   0          23s
pod/user-scheduler-6d4698dd59-zk4c7                    1/1     Running   0          23s

NAME                   TYPE           CLUSTER-IP      EXTERNAL-IP   PORT(S)        AGE
service/hub            ClusterIP      10.111.196.55   &lt;none&gt;        8081/TCP       23s
service/kubernetes     ClusterIP      10.96.0.1       &lt;none&gt;        443/TCP        39h
service/nginx2         LoadBalancer   10.106.241.85   10.0.3.240    80:30746/TCP   32h
service/proxy-api      ClusterIP      10.109.211.71   &lt;none&gt;        8001/TCP       23s
service/proxy-public   LoadBalancer   10.111.233.85   10.0.3.241    80:31336/TCP   23s

NAME                                     DESIRED   CURRENT   READY   UP-TO-DATE   AVAILABLE   NODE SELECTOR   AGE
daemonset.apps/continuous-image-puller   1         1         1       1            1           &lt;none&gt;          23s

NAME                                              READY   UP-TO-DATE   AVAILABLE   AGE
deployment.apps/hub                               1/1     1            1           23s
deployment.apps/nfs-subdir-external-provisioner   1/1     1            1           23h
deployment.apps/nginx2                            1/1     1            1           35h
deployment.apps/proxy                             1/1     1            1           23s
deployment.apps/user-scheduler                    2/2     2            2           23s

NAME                                                         DESIRED   CURRENT   READY   AGE
replicaset.apps/hub-6c9cb48df8                               1         1         1       23s
replicaset.apps/nfs-subdir-external-provisioner-789697969b   1         1         1       23h
replicaset.apps/nginx2-669c86457c                            1         1         1       35h
replicaset.apps/proxy-66cb767659                             1         1         1       23s
replicaset.apps/user-scheduler-6d4698dd59                    2         2         2       23s

NAME                                READY   AGE
statefulset.apps/user-placeholder   0/0     23s
</code></pre>
<p>Also, below is my storage class for reference: <code>kubectl get sc</code></p>
<pre><code>
NAME         PROVISIONER                                     RECLAIMPOLICY   VOLUMEBINDINGMODE   ALLOWVOLUMEEXPANSION   AGE
nfs-client   cluster.local/nfs-subdir-external-provisioner   Delete          Immediate           true                   23h

</code></pre>
<p>I will not paste the config file as it is very large, basically what I did was
<code>helm show values jupyterhub/jupyterhub &gt; /tmp/jupyterhub.yaml</code>
(after changing some values)
<code>helm install jupyterhub jupyterhub/jupyterhub --values /tmp/jupyterhub.yaml</code>
The only few things I changed was the security-key (hex [as mentioned on the website]) along with writing nfs-client wherever it said storageClass and storageClassName and perhaps altering the storage size (1Gi/2Gi). That's all. The LoadBalancer works fine because I ran nginx and I can easily open it up on my browser. So I decided to check the JupyterHub pod's by first getting the pod's name using: <code>kubectl get pods</code></p>
<pre><code>
NAME                                               READY   STATUS    RESTARTS   AGE
continuous-image-puller-4l5gj                      1/1     Running   0          20m
hub-6c9cb48df8-k5t4w                               1/1     Running   0          20m
nfs-subdir-external-provisioner-789697969b-hqp46   1/1     Running   0          23h
nginx2-669c86457c-hc5mv                            1/1     Running   0          35h
proxy-66cb767659-svwbv                             1/1     Running   0          20m
user-scheduler-6d4698dd59-wqw9l                    1/1     Running   0          20m
user-scheduler-6d4698dd59-zk4c7                    1/1     Running   0          20m
root@master:/home/ubuntu# 

</code></pre>
<p>and then using <code>kubectl describe pod hub-6c9cb48df8-k5t4w  -n default</code> which gave me this:</p>
<pre><code>Name:         hub-6c9cb48df8-k5t4w
Namespace:    default
Priority:     0
Node:         worker/10.0.0.126
Start Time:   Sat, 27 Nov 2021 10:21:43 +0000
Labels:       app=jupyterhub
              component=hub
              hub.jupyter.org/network-access-proxy-api=true
              hub.jupyter.org/network-access-proxy-http=true
              hub.jupyter.org/network-access-singleuser=true
              pod-template-hash=6c9cb48df8
              release=jupyterhub
Annotations:  checksum/config-map: f746d7e563a064e9158fe6f7f59bdbd463ed24ad7a927d75a1f18c022c3afeaf
              checksum/secret: 926186a1b18e5cb9aa5b8c0a177f379299bcf0f05ac4de17d1958422054d15e5
              cni.projectcalico.org/podIP: 192.168.171.97/32
              cni.projectcalico.org/podIPs: 192.168.171.97/32
Status:       Running
IP:           192.168.171.97
IPs:
  IP:           192.168.171.97
Controlled By:  ReplicaSet/hub-6c9cb48df8
Containers:
  hub:
    Container ID:  docker://1d5e3a812f9712f6d59c09d855b034e2f6bc3e058bad4932db87145ec09f70d1
    Image:         jupyterhub/k8s-hub:1.2.0
    Image ID:      docker-pullable://jupyterhub/k8s-hub@sha256:e4770285aaf7230b930643986221757c2cc2e9420f5e21ac892582c96a57ce1c
    Port:          8081/TCP
    Host Port:     0/TCP
    Args:
      jupyterhub
      --config
      /usr/local/etc/jupyterhub/jupyterhub_config.py
      --upgrade-db
    State:          Running
      Started:      Sat, 27 Nov 2021 10:21:45 +0000
    Ready:          True
    Restart Count:  0
    Liveness:       http-get http://:http/hub/health delay=300s timeout=3s period=10s #success=1 #failure=30
    Readiness:      http-get http://:http/hub/health delay=0s timeout=1s period=2s #success=1 #failure=1000
    Environment:
      PYTHONUNBUFFERED:        1
      HELM_RELEASE_NAME:       jupyterhub
      POD_NAMESPACE:           default (v1:metadata.namespace)
      CONFIGPROXY_AUTH_TOKEN:  &lt;set to the key 'hub.config.ConfigurableHTTPProxy.auth_token' in secret 'hub'&gt;  Optional: false
    Mounts:
      /srv/jupyterhub from pvc (rw)
      /usr/local/etc/jupyterhub/config/ from config (rw)
      /usr/local/etc/jupyterhub/jupyterhub_config.py from config (rw,path=&quot;jupyterhub_config.py&quot;)
      /usr/local/etc/jupyterhub/secret/ from secret (rw)
      /usr/local/etc/jupyterhub/z2jh.py from config (rw,path=&quot;z2jh.py&quot;)
      /var/run/secrets/kubernetes.io/serviceaccount from hub-token-zd25x (ro)
Conditions:
  Type              Status
  Initialized       True 
  Ready             True 
  ContainersReady   True 
  PodScheduled      True 
Volumes:
  config:
    Type:      ConfigMap (a volume populated by a ConfigMap)
    Name:      hub
    Optional:  false
  secret:
    Type:        Secret (a volume populated by a Secret)
    SecretName:  hub
    Optional:    false
  pvc:
    Type:       PersistentVolumeClaim (a reference to a PersistentVolumeClaim in the same namespace)
    ClaimName:  hub-db-dir
    ReadOnly:   false
  hub-token-zd25x:
    Type:        Secret (a volume populated by a Secret)
    SecretName:  hub-token-zd25x
    Optional:    false
QoS Class:       BestEffort
Node-Selectors:  &lt;none&gt;
Tolerations:     hub.jupyter.org/dedicated=core:NoSchedule
                 hub.jupyter.org_dedicated=core:NoSchedule
                 node.kubernetes.io/not-ready:NoExecute for 300s
                 node.kubernetes.io/unreachable:NoExecute for 300s
Events:
  Type     Reason     Age                From               Message
  ----     ------     ----               ----               -------
  Normal   Scheduled  21m                default-scheduler  Successfully assigned default/hub-6c9cb48df8-k5t4w to worker
  Normal   Pulled     21m                kubelet, worker    Container image &quot;jupyterhub/k8s-hub:1.2.0&quot; already present on machine
  Normal   Created    21m                kubelet, worker    Created container hub
  Normal   Started    21m                kubelet, worker    Started container hub
  Warning  Unhealthy  21m (x3 over 21m)  kubelet, worker    Readiness probe failed: Get http://192.168.171.97:8081/hub/health: dial tcp 192.168.171.97:8081: connect: connection refused
</code></pre>
<p>So I know that the pod is unhealthy. But I do not have any other details to debug this. Any help on how to fix or debug this would be highly appreciated.</p>
<p>Thank you!</p>
",244,1,<kubernetes><kubernetes-helm><jupyterhub><metallb><nfsclient>,2021-11-27 14:22:40
70123324,configurable-http-proxy not running on Jupyterhub start,"<p>I'm trying to run Jupyterhub on Centos 7.  I know that Jupyterhub depends on a configurable-htp-proxy module provided by node, and it seems to be there and ready to run.</p>
<p>However - when I try to start jupyterhub it errors</p>
<pre><code>     jupyterhub
    [I 2021-11-26 05:51:58.027 JupyterHub app:2479] Running JupyterHub version 1.5.0
    [I 2021-11-26 05:51:58.028 JupyterHub app:2510] Using Authenticator: jupyterhub.auth.PAMAuthenticator-1.5.0
    [I 2021-11-26 05:51:58.028 JupyterHub app:2510] Using Spawner: jupyterhub.spawner.LocalProcessSpawner-1.5.0
    [I 2021-11-26 05:51:58.028 JupyterHub app:2510] Using Proxy: jupyterhub.proxy.ConfigurableHTTPProxy-1.5.0
    [I 2021-11-26 05:51:58.033 JupyterHub app:1554] Loading cookie_secret from /home/centos/jupyterhub_cookie_secret
    [I 2021-11-26 05:51:58.054 JupyterHub proxy:497] Generating new CONFIGPROXY_AUTH_TOKEN
    [W 2021-11-26 05:51:58.055 JupyterHub app:1828] No admin users, admin interface will be unavailable.
    [W 2021-11-26 05:51:58.055 JupyterHub app:1830] Add any administrative users to `c.Authenticator.admin_users` in config.
    [I 2021-11-26 05:51:58.055 JupyterHub app:1859] Not using allowed_users. Any authenticated user will be allowed.
    [I 2021-11-26 05:51:58.102 JupyterHub app:2549] Initialized 0 spawners in 0.002 seconds
    [W 2021-11-26 05:51:58.104 JupyterHub proxy:700] Running JupyterHub without SSL.  I hope there is SSL termination happening somewhere else...
    [I 2021-11-26 05:51:58.105 JupyterHub proxy:703] Starting proxy @ http://:8000
    [E 2021-11-26 05:51:58.107 JupyterHub proxy:716] Failed to find proxy ['configurable-http-proxy']
        The proxy can be installed with `npm install -g configurable-http-proxy`.To install `npm`, install nodejs which includes `npm`.If you see an `EACCES` error or permissions error, refer to the `npm` documentation on How To Prevent Permissions Errors.
    [C 2021-11-26 05:51:58.107 JupyterHub app:2755] Failed to start proxy
        Traceback (most recent call last):
          File &quot;/home/centos/miniconda3/lib/python3.7/site-packages/jupyterhub/app.py&quot;, line 2753, in start
            await self.proxy.start()
          File &quot;/home/centos/miniconda3/lib/python3.7/site-packages/jupyterhub/proxy.py&quot;, line 708, in start
            cmd, env=env, start_new_session=True, shell=shell
          File &quot;/home/centos/miniconda3/lib/python3.7/subprocess.py&quot;, line 800, in __init__
            restore_signals, start_new_session)
          File &quot;/home/centos/miniconda3/lib/python3.7/subprocess.py&quot;, line 1551, in _execute_child
            raise child_exception_type(errno_num, err_msg, err_filename)
        FileNotFoundError: [Errno 2] No such file or directory: 'configurable-http-proxy': 'configurable-http-proxy'
</code></pre>
<p>Running ls shows the file is present.</p>
<pre><code>    &gt; ls /home/centos/miniconda3/lib/node_modules
    configurable-http-proxy  npm
</code></pre>
<p>But running anything related to configurable-http-proxy fails with the following error:-</p>
<pre><code>    configurable-http-proxy
/home/centos/miniconda3/lib/node_modules/configurable-http-proxy/node_modules/commander/lib/command.js:866
  async parseAsync(argv, parseOptions) {
        ^^^^^^^^^^

SyntaxError: Unexpected identifier
    at createScript (vm.js:56:10)
    at Object.runInThisContext (vm.js:97:10)
    at Module._compile (module.js:549:28)
    at Object.Module._extensions..js (module.js:586:10)
    at Module.load (module.js:494:32)
    at tryModuleLoad (module.js:453:12)
    at Function.Module._load (module.js:445:3)
    at Module.require (module.js:504:17)
    at require (internal/module.js:20:19)
    at Object.&lt;anonymous&gt; (/home/centos/miniconda3/lib/node_modules/configurable-http-proxy/node_modules/commander/index.js:2:21)
</code></pre>
<p>And similarly:-</p>
<pre><code>&gt; configurable-http-proxy -V
/home/centos/miniconda3/lib/node_modules/configurable-http-proxy/node_modules/commander/lib/command.js:866
  async parseAsync(argv, parseOptions) {
        ^^^^^^^^^^

SyntaxError: Unexpected identifier
    at createScript (vm.js:56:10)
    at Object.runInThisContext (vm.js:97:10)
    at Module._compile (module.js:549:28)
    at Object.Module._extensions..js (module.js:586:10)
    at Module.load (module.js:494:32)
    at tryModuleLoad (module.js:453:12)
    at Function.Module._load (module.js:445:3)
    at Module.require (module.js:504:17)
    at require (internal/module.js:20:19)
    at Object.&lt;anonymous&gt; (/home/centos/miniconda3/lib/node_modules/configurable-http-proxy/node_modules/commander/index.js:2:21)
</code></pre>
<p>Can anyone advise on a fix?</p>
",373,2,<centos7><jupyterhub>,2021-11-26 10:56:54
70114538,Add widget ipywidgets in html file with folium,"<p>I'm trying to save the file as html But the widget is not showing.
Here's my code:</p>
<pre><code># show map types using ipywidgets
# widget
select_widget=ipywidgets.Select(
    options=['Open Street Map', 'Terrain', 'Toner', 'Watercolor', 'Positron', 'Dark Matter'],
    value='Terrain',
    description='Map Type:',
    disabled=False)
os.chdir(&quot;C:\Sami\Studies\SPLIT\KFC&quot;)
# widget function
def select(map_type):
    if map_type == 'Open Street Map':
        m = folium.Map(location=[36.799841, 10.180579], zoom_start=12, height=500)
        folium.Marker(location=[36.799841, 10.180579],radius=2,weight=2,tooltip = &quot;Positron&quot;).add_to(m)
        display(m)
    if map_type == 'Terrain':
        m = folium.Map(location=[39.739192, -104.990337], tiles='Stamen Terrain', zoom_start=12, height=400)
        display(m)
    if map_type == 'Toner':
        m = folium.Map(location=[39.739192, -104.990337], tiles='Stamen Toner', zoom_start=12, height=400)
        display(m)
    if map_type == 'Watercolor':
        m = folium.Map(location=[39.739192, -104.990337], tiles='Stamen Watercolor', zoom_start=12, height=400)
        display(m)
    if map_type == 'Positron':
        m = folium.Map(location=[39.739192, -104.990337], tiles='CartoDB Positron', zoom_start=12, height=400)
        display(m)
    if map_type == 'Dark Matter':
        m = folium.Map(location=[39.739192, -104.990337], tiles='CartoDB Dark_Matter', zoom_start=12, height=400)
        display(m)
        
# interaction between widgets and function    
ipywidgets.interact(select, map_type=select_widget)
m.save(&quot;The map.html&quot;)

</code></pre>
<p>Here's how it is in jupyter:
<a href=""https://i.stack.imgur.com/sY2Uv.jpg"" rel=""nofollow noreferrer"">The output in Jupyter</a></p>
<p>and here's the output in html: (There is no widget):
<a href=""https://i.stack.imgur.com/G5aQK.jpg"" rel=""nofollow noreferrer"">The output in html</a></p>
<p>I'm trying to save the file in html so that the map can be sent but I don't know how to do it. any insight is appreciated thank you!!</p>
",144,0,<python><html><folium><ipywidgets>,2021-11-25 16:33:43
70114005,Cursor of FloatSlide widget doesn't move,"<p>Recently, I have been trying to use widgets to interact with my plots. I have created a function that takes in two parameters  to make my plots and it works perfectly, producing different plots depending on the value of the given parameters.</p>
<p>However, when I try to create FloatSlider widgets for these parameters, only one of  them works. The other sort of &quot;gets stuck&quot; - I just can't move the slider <a href=""https://imgur.com/mKhbR0j"" rel=""nofollow noreferrer"">(here is a link of a GIF showing what happens when I try to move the cursor of the slider)</a>.</p>
<p>Do you guys have any idea on what could be causing this issue?</p>
<p>Here is the code I'm using:</p>
<pre><code>import numpy as np
import matplotlib.pyplot as plt
import matplotlib.gridspec as gridspec
import ipywidgets as widgets
import matplotlib.ticker as mtick

def plot_2_2(v_0=0,dt=7e-7):

    D = 1.5e-6 # diâmetro da gota de óleo [m]
    rho = 840 # densidade do líquido [kg/m^3]
    g = 9.8 # aceleração da gravidade [m/s^2]
    V = np.pi/6*D**3 # volume da gota [m^3]

    m = rho*V # massa da partícula [kg]
    beta = 1.6e-4 # viscosidade dinâmica do ar [kg/ms]
    b = beta*D # coeficiente de atrito linear [kg/s]

    t_0 = 0 # tempo [s]
    v_0 = v_0 # velocidade inicial da gota [m/s]
    n_i = 0 # número de iterações
    dt = dt # intervalo de tempo entre iterações [s]

    fig = plt.figure(constrained_layout=True, figsize=[14,8])
    spec = gridspec.GridSpec(ncols=1,nrows=2,figure=fig)
    ax1 = fig.add_subplot(spec[0,0])
    ax2 = fig.add_subplot(spec[1,0])

    t = np.array([t_0])
    v = np.array([v_0])

    while v[-1] &lt; (1-1e-4)*m*g/b or n_i &lt; 100:
        
        t = np.append(t,t[-1]+dt) # Passo no tempo

        v = np.append(v,v[-1]+(m*g-b*v[-1])*(dt)/m) # Cálculo da velocidade no tempo seguinte

        n_i += 1 # Aumento do contador de iterações
        
    l11, = ax1.plot(t,v,'r--') # Solução numérica

    l12, = ax1.plot(t,v_0*np.exp(-b/m*t)-(-m*g/b)*(1-np.exp(-b/m*t)),'kx') # Solução analítica

    l2, = ax2.plot(t,100*abs(v_0*np.exp(-b/m*t)-(-m*g/b)*(1-np.exp(-b/m*t))),'c--') # Erro relativo

    ax1.set_xlabel('Tempo [s]')    
    ax1.set_ylabel('Velocidade da Gota [m/s]')
    ax1.set_ylim(bottom=-0.5e-4,top=1.5e-4)
    ax1.ticklabel_format(axis=&quot;y&quot;, style=&quot;sci&quot;, scilimits=(0,0))
    ax1.set_title(&quot;Evolução Velocidade da Gota&quot;)
    ax1.grid(linestyle='-.')
    # ax1.legend([l11,l12],['Solução Numérica','Solução Analítica - $v(t) = v_0 \cdot \exp^{-\dfrac{b}{m}t}$'])

    ax2.yaxis.set_major_formatter(mtick.PercentFormatter())
    ax2.set_xlabel('Tempo [s]')    
    ax2.set_ylabel('Erro Relativo')
    ax2.set_title(&quot;Solução Numérica vs Solução Analítica&quot;)
    ax2.grid(linestyle='-.')

    plt.show(fig)
    
widgets.interact(plot_2_2, v_0=widgets.FloatSlider(min=0,max=10e-5,step=1e-5,readout_format='.1e'), dt=widgets.FloatSlider(min=5e-7,max=10e-7,step=1e-7,readout_format='.1e'))
</code></pre>
<p>Thanks, appreciate the help.</p>
",30,1,<ipywidgets>,2021-11-25 15:53:26
70097421,Controlling order of display in ipywidgets Vbox (when matplotlib widget is used)?,"<p>This is so damn irritating... using:</p>
<pre><code>Python 3.8.10 (default, Sep 28 2021, 16:10:42) [GCC 9.3.0]
matplotlib 3.5.0
ipywidgets 7.6.5
jupyter 1.0.0
</code></pre>
<p>So, consider this example:</p>
<pre class=""lang-py prettyprint-override""><code>import IPython.display
from IPython.display import display
from ipywidgets import widgets, Layout

%matplotlib widget
import matplotlib as mpl
import matplotlib.pyplot as plt

widget_01 = widgets.HTML(&quot;&lt;p&gt;Hello, world&lt;/p&gt;&quot;)
widget_02 = widgets.Output(layout=Layout(width='100%'))
widget_03 = widgets.Output(layout=Layout(width='100%'))

with widget_02:
    IPython.display.clear_output(True)
    display(widgets.HTMLMath(&quot;&lt;p&gt;Try equation: $x_y = y_x$&lt;/p&gt;&quot;))
    
myvbox = widgets.VBox([
    widget_01,
    widget_02,
    widget_03
],)
display(myvbox)

with widget_03:
    IPython.display.clear_output(True)
    display(widgets.HTMLMath(&quot;&lt;p&gt;In the next episode...&lt;/p&gt;&quot;))
</code></pre>
<p>So, I have a &quot;Vbox&quot;, which has three elements, &quot;widget_01&quot;, &quot;widget_02&quot;, &quot;widget_03&quot;; these three elements are put in a list, which (unlike dict) has an order, so I can count on &quot;widget_01&quot; being &quot;first&quot;, &quot;widget_02&quot; being &quot;second&quot;, and so on. And since this is a &quot;VBox&quot;, that is, Vertical Box, I'd expect the &quot;first&quot; item in the list to be rendered on top, the &quot;second&quot; item below it (that is, in the middle), and so on.</p>
<p>And indeed, that is how the output looks like in the simplest case:</p>
<p><a href=""https://i.stack.imgur.com/SN621.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/SN621.png"" alt=""vbox_order_ok"" /></a></p>
<p>Ok, cool - now, let's just make &quot;widget_02&quot; into <code>matplotlib widget</code>:</p>
<pre class=""lang-py prettyprint-override""><code>import IPython.display
from IPython.display import display
from ipywidgets import widgets, Layout

%matplotlib widget
import matplotlib as mpl
import matplotlib.pyplot as plt

widget_01 = widgets.HTML(&quot;&lt;p&gt;Hello, world&lt;/p&gt;&quot;)
widget_02 = widgets.Output(layout=Layout(width='100%'))
widget_03 = widgets.Output(layout=Layout(width='100%'))

with widget_02:
    IPython.display.clear_output(True)
    fig = plt.figure(figsize=(10,1), dpi=90)
    fig.canvas.toolbar_visible = False
    ax = fig.add_subplot(111)
    ax.plot([0,1,2], [0,1,2])
    
myvbox = widgets.VBox([
    widget_01,
    widget_02,
    widget_03
],)
display(myvbox)

with widget_03:
    IPython.display.clear_output(True)
    display(widgets.HTMLMath(&quot;&lt;p&gt;In the next episode...&lt;/p&gt;&quot;))
</code></pre>
<p>Well, now - for whatever reason - &quot;widget_02&quot; (which became a plot) is not in the middle anymore, but is instead last (at bottom):</p>
<p><a href=""https://i.stack.imgur.com/AIIpR.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/AIIpR.png"" alt=""vbox_order_bad"" /></a></p>
<p>I mean, I sure <em>update</em> &quot;widget_03&quot; after I update the plot - but I'd expect the VBox to keep the order of widgets?</p>
<p>So - how can I have a Matplotlib widget rendered in the order it is listed into an ipywidgets VBox, <em>even</em> if I update a different widget in the same VBox after I have rendered the plot?</p>
",270,0,<python><matplotlib><jupyter-notebook><ipython><ipywidgets>,2021-11-24 13:59:19
70096103,React to ipywidget events while the cell is blocket in an `await` (using `%autoawait` magic),"<p>I would like to wait to <a href=""https://ipywidgets.readthedocs.io/en/latest/examples/Widget%20Asynchronous.html"" rel=""nofollow noreferrer"">asynchronous jupyter widget events</a> while the cell is blocked executing async code (thus, usually idle, waiting for I/O, utilising the <code>%autowait</code> magic). Unfortunately, the jupyter notebook does not seem to send any traitlet events while the cell is blocking. The documentation above circumvents this, by sending the callback into the &quot;background&quot;, so it can react after the cell has finished executing. I would like to avoid that, because it make reasoning about background tasks harder than it needs to be; it's precisely against the principles of my favourite async event loop in python: <a href=""https://trio.readthedocs.io/en/stable/"" rel=""nofollow noreferrer"">trio</a>. Is there a way to make that work?</p>
<p>Here is the example from the jupyter docs adapted to trio (though it fails the same way with asyncio):</p>
<pre class=""lang-py prettyprint-override""><code>import trio

from IPython.display import display
from ipywidgets import IntSlider, Output

%autoawait trio

async def wait_for_change(widget, attribute):
    result = None
    evt = trio.Event()
    def value_changed(change):
        nonlocal result
        result = change
        evt.set()
    widget.observe(value_changed, attribute)
    try:
        await evt.wait()
    finally:
        widget.unobserve(value_changed, attribute)
    return result

slider = IntSlider()
out = Output()

display(slider)
display(out)

# at this point, the widgets are visible

for i in range(10):
    out.append_stdout('did work ' + str(i) + '\n')
    # here, the cell blocks thanks to the `%autoawait` above -
    # but jupyter fails to forward any events
    x = await wait_for_change(slider, 'value')
    out.append_stdout('async function continued with value ' + str(x) + '\n')
</code></pre>
",153,2,<python><async-await><jupyter-notebook><ipywidgets><python-trio>,2021-11-24 12:29:43
70084058,Accessing a future object when using Python's Ipywidgets and Asyncio,"<p>I'm using Python's Asyncio library to create an interactive, 'stop-start' Notebook.
I am trying to run a section of code at a time, with proceeding sections utilising the previous input provided by a user.</p>
<p>For example, I have some code which uses Ipywidgets' file upload. I want my code to generate the upload button, 'stop' at this point, wait for a user to upload a CSV via the button, then for proceeding code to 'start' again (i.e. carry out processing steps on the CSV).</p>
<p>Thus far I've used the functions provided by the <a href=""https://ipywidgets.readthedocs.io/en/latest/examples/Widget%20Asynchronous.html"" rel=""nofollow noreferrer"">Ipywidgets documentation</a> to link the upload button with the uploaded object:</p>
<pre><code>import ipywidgets as widgets
from IPython.display import display, Markdown
import asyncio
import nest_asyncio

# Enable use of event loop in Jupyter Lab
nest_asyncio.apply()

# Initialise widgets
output = widgets.Output(clear_output=True)
upload = widgets.FileUpload()

@output.capture(clear_output=True)
def file_upload(widget):
    
    ''' Link change in widget value with the widget itself. '''
    
    future = asyncio.Future()
    
    @output.capture(clear_output=True)
    def on_value_change(change):
        
        ''' Get the 'change' in the widget value when the widget is updated. '''

        # Assign change in widget to future object
        future.set_result(widget.value)

        print('future result:', future.result())

        widget.unobserve(on_value_change)
    
    # Observed result - linking file upload button with the function used to extract the input
    widget.observe(on_value_change, names='value')
    
    return future
</code></pre>
<p>The issue I have is extracting the explicit file value (in a dictionary format) via the future object it's been assigned to.</p>
<p>When I run the following code:</p>
<pre><code>display(upload, output)
asyncio.ensure_future(file_upload(upload))
</code></pre>
<p>I get the following result (printed to cell output after uploading the file):</p>
<pre><code>future result: {'phone numbers for testing.csv': {'metadata': {'name': 'phone numbers for testing.csv', 'type': 'text/csv', 'size': 164, 'lastModified': 1632481950130}, 'content': b'Phone Numbers,,,,,\r\n07580026754,,,,,\r\n077896654312,,,,,\r\n+4456778763451,,,,,\r\n4487654367890,,,,,\r\n+44(0)765436217656,,,,,\r\n01685777444,,,,,\r\n+44(0)1652777666,,,,,\r\n'}}
</code></pre>
<p>The above object is correct - however I cannot seem to access this in the <code>main()</code> function used to run the code asynchronously, e.g the following code returns <code>&lt;Future pending&gt;</code> NOT <code>&lt;Future finished&gt;</code> (or the dictionary I need, accessed via <code>future.result()</code>):</p>
<pre><code>async def main():
    file = asyncio.ensure_future(file_upload(upload))
    print(file)

display(upload, output)
asyncio.run(main())
</code></pre>
<p>I believe <code>asyncio.ensure_future()</code> schedules the coroutine as a task and runs it, whilst <code>asyncio.run()</code> starts/manages/stops the event loop, however I'm still very much learning about this library and how it operates. If anyone has any suggestions on how I can get the future in <code>main()</code> to become accessible so that I can perform subsequent processing, that would be greatly appreciated. There must be a way to do it without assigning it as a global variable?</p>
",206,1,<python><concurrency><jupyter-notebook><python-asyncio><ipywidgets>,2021-11-23 16:04:14
70056220,Sliders not showing (ipywidgets),"<p>I am using the code from a course to display a function with some parameters m, s and logN as interactive sliders. However, while they show on other machines, they don't on mine (MacMini m1) and I have no idea why, but given that I had lots of problems installing ipywidgets, I think it is more software-related.</p>
<p><a href=""https://i.stack.imgur.com/xa6ub.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/xa6ub.png"" alt=""enter image description here"" /></a></p>
<p>Essentially, I can only not see the three sliders, but the plot looks the same.</p>
<p>This is the code:</p>
<pre><code>def f1(m,s,logN):

    #mu, sigma, N = 0.5, 0.25, 10000 # mean and standard deviation

    x = np.random.normal(m, s, 10**logN)

    g=sns.distplot(x, hist_kws=dict(cumulative=True),
         kde_kws=dict(cumulative=True))   
    g.set(xlim=(-15,25))
    plt.show()

    np.mean(x), np.sqrt(np.var(x))

interactive_plot = interactive(f1, m=(0.0, 10, 1), s=(1,10.0,1), 
logN=(1,5,1))
output = interactive_plot.children[-1]
output.layout.width = '600px'

interactive_plot
</code></pre>
",60,0,<python><plot><slider><interactive><ipywidgets>,2021-11-21 16:06:23
70041634,Load and update dataframe in jupyter lab,"<p>I am creating a webpage with Voila.</p>
<p>I wish to use a widget to load a dataframe:</p>
<pre><code>import ipywidgets as ipw
from ipyfilechooser import FileChooser

fc = FileChooser()
df = pd.read_csv(fc.value)
</code></pre>
<p>The file to be uploaded is a .csv file as:</p>
<pre><code>run_#,run_type,reaction_id,nuc_reaction,energy,fileresidual,abundance,mass,element,projectile,run_path,result_path
,TALYS,1,natMo-a,1 40 1,y,1.0,Multi,Multi,a,/home/alletro/Tc-97/talys/xs_run_1/1,/home/alletro/Tc-97/talys/xs_result_1/1
1,TALYS,1a,92Mo-a,1 40 1,y,0.1453,92,Mo,a,/home/alletro/Tc-97/talys/xs_run_1/1/a,/home/alletro/Tc-97/talys/xs_result_1/1/a
1,TALYS,1b,94Mo-a,1 40 1,y,0.0915,94,Mo,a,/home/alletro/Tc-97/talys/xs_run_1/1/b,/home/alletro/Tc-97/talys/xs_result_1/1/b
</code></pre>
<p>I then wish the dataframe loaded to update a ipysheet widget further down in the notebook. The sheet will be displayed with a default dataframe until the dataframe is uploaded from FileChooser</p>
<pre><code>df = pd.DataFrame(np.zeros([1,12]), columns=['run_#','run_type', 'reaction_id', 'nuc_reaction' ,'energy',   'fileresidual', 'abundance','mass', 'element', 'projectile', 'run_path', 'result_path'])
sheet = ips.from_dataframe(df)
display(sheet)
</code></pre>
<p>I have seen how observe() and inspect() may be used for investigating changes in variables but cannot see how this would work with a dataframe.</p>
",117,0,<python><jupyter><ipywidgets><filechooser><voila>,2021-11-19 22:34:21
70039571,Voila rendering of jupyter notebook out of screen width,"<p>In jupyter notebook when I try to render a graphical user interface written in ipywidgets, everything worked fine.
<a href=""https://i.stack.imgur.com/U4Ber.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/U4Ber.jpg"" alt=""Graphical user interface as it appears in jupyter notebook"" /></a></p>
<p>When I then render the same using the Voila rendering, the table and map rendered outside the screen width. Is there any settings in Voila that controls the rendering width? I basically need the table and map to render within the screen width.</p>
<p>Additional information. Below are the codes</p>
<pre><code>import ipywidgets 
import glob
import json
import pandas as pd
import qgrid
import folium
from IPython.display import display 

takeawayFolderPath = '/home/hd2900/Documents/Python/POS/takeawayOrders'
class GeoMapping:
    def __init__(self, takeawayFolderPath, homeCoordinate, deliveryRadius):
        self.takeawayFolderPath = takeawayFolderPath
        self.homeCoordinate = homeCoordinate
        self.deliveryRadius = deliveryRadius #The deliver radius is given in meters
        currentSelectedRowNumber = None
        self.refreshJson()
        self.getOrderDataFrame()
        self.buildGUI()
        self.displayTable()
        self.displayMap()
    
    def buildGUI(self):
        self.btn_update = ipywidgets.Button(description = 'Refresh')
        self.btn_update.on_click(self.update_btn)
        self.tableOutput1 = ipywidgets.Output()
        self.btn_orderComplete = ipywidgets.Button(description = 'Complete', button_style = 'danger')
        self.btn_orderComplete.on_click(self.orderComplete)
        self.mapOutput = ipywidgets.Output()
        self.VBox = ipywidgets.VBox([self.btn_update, self.tableOutput1, self.btn_orderComplete, self.mapOutput])
        display(self.VBox)
        
    def displayMap(self):
        with self.mapOutput:
            self.mapOutput.clear_output()
            #Centering the map at home coordinate
            self.map = folium.Map(location= self.homeCoordinate, zoom_start=12)
            
            #Add a red circle marker to show home. This is not the delivery 
            folium.CircleMarker(
                location= self.homeCoordinate,
                radius=5,
                popup= &quot;Home&quot;,
                color=&quot;#FF0000&quot;,
                fill=True,
                fill_color=&quot;#FF0000&quot;,
                ).add_to(self.map)
            
            #Add delivery radius ring
            folium.Circle(
                radius = self.deliveryRadius,
                location= self.homeCoordinate,
                popup=&quot;&quot;,
                color=&quot;crimson&quot;,
                fill=False).add_to(self.map)
            
            #Take time into account and plot the maps in different color. The color order
            for orderid in self.orderDF['Order Id']:
                latitude, longitude, deadline = self.getGeoCoordinateFromOrderId(orderid)
                
                #Plot the coordinates in map
                folium.Marker(
                    [latitude, longitude], popup=f&quot;&lt;h1&gt;{orderid} {deadline}&lt;/h1&gt;&quot;, tooltip = &quot;more info&quot;
                    ).add_to(self.map)
            
            display(self.map)
        
    def displayTable(self):
        with self.tableOutput1:
            self.tableOutput1.clear_output()
            self.qgrid = qgrid.show_grid(
                self.orderDF, 
                grid_options = {'sortable': False, 'filterable': False, 'maxVisibleRows': 100},
                )
            self.qgrid.observe(self.qgridTableRowSelected)
            display(self.qgrid)
    
    def orderComplete(self,b):
        if not self.currentSelectedRowNumber:
            return
        
        #Get the order id of the selected row
        orderId = self.orderDF['Order Id'][self.currentSelectedRowNumber[0]]
        
        #Find the json file with the order id and write a new key in the dictionary
        filePath = self.getJsonFilePathFromOrderId(orderId)
        
        order = self.readJsonFile(filePath)
        order['Complete'] = True
        
        self.saveJsonFile(order, filePath)
        self.update()
    
    def getJsonFilePathFromOrderId(self, orderId):
        '''
        Given the order Id integer, this method returns the json file full path
        '''
        files = glob.glob(self.takeawayFolderPath + '/*.json')
        for fileName in files:
            order = self.readJsonFile(fileName)
            
            if order['order']['id'] == orderId:
                return fileName
    
    def update_btn(self, b):
        self.update()

    def update(self):
        self.refreshJson()
        self.getOrderDataFrame()
        self.displayTable()
        self.displayMap()
        
    def qgridTableRowSelected(self, change):
        with self.tableOutput1:
            if change['name'] == '_selected_rows' and change['new']:
                self.currentSelectedRowNumber = self.qgrid.get_selected_rows()
        
    def refreshJson(self):
        '''
        Used for refresh all the latest json files
        '''
        files = glob.glob(self.takeawayFolderPath + '/*.json')
        self.orders = list()
        for fileName in files:
            order = self.readJsonFile(fileName)
            
            #Check if the order is a delivery
            if order['order']['delivery']:
                #Check if the key Complete exists 
                if 'Complete' not in order:
                    tmp = dict()
                    tmp['id'] = order['order']['id']
                    tmp['fullName'] = order['order']['fullName']
                    tmp['email'] = order['order']['email']
                    tmp['mobile'] = order['order']['mobile']
                    tmp['deliveryAddress'] = order['order']['deliveryAddress']
                    tmp['latitude'] = order['order']['latitude']
                    tmp['longitude'] = order['order']['longitude']
                    tmp['comments'] = order['order']['comments']
                    tmp['deadline'] = order['order']['deliveryTime']

                    self.orders.append(tmp)
        
    def getOrderDataFrame(self):
        '''
        Convert the content in self.orders into a pandas data frame 
        '''
        #The data frame contain the following columns
        self.orderDF = dict()
        self.orderDF['Order Id'] = list()
        self.orderDF['Name'] = list()
        self.orderDF['Address'] = list()
        self.orderDF['Mobile'] = list()
        self.orderDF['Comments'] = list()
        self.orderDF['Deadline'] = list()
        for order in self.orders:
            self.orderDF['Order Id'].append(order['id'])
            self.orderDF['Name'].append(order['fullName'])
            self.orderDF['Address'].append(order['deliveryAddress'])
            self.orderDF['Mobile'].append(order['mobile'])
            self.orderDF['Comments'].append(order['comments'])
            self.orderDF['Deadline'].append(order['deadline'])
                
        self.orderDF = pd.DataFrame.from_dict(self.orderDF)
    
    def getGeoCoordinateFromOrderId(self, orderId):
        for order in self.orders:
            if order['id'] == orderId:
                latitude = order['latitude']
                longitude = order['longitude']
                deadline = order['deadline']
                return latitude, longitude, deadline
    
    def readJsonFile(self, filePath):
        with open(filePath,'r') as fileId:
            data = json.load(fileId)
        return data
    
    def saveJsonFile(self, dataDict, filePath):
        '''
        Given the dictionary dataDict and the filePath, this method saves it to json file
        '''
        with open(filePath, 'w') as fileId:
            json.dump(dataDict, fileId)

hd2900Coordinate = (55.73228810541183, 12.575497656450752)
deliveryRadius = 8
deliveryRadius = deliveryRadius * 1000       
GeoMap = GeoMapping(takeawayFolderPath, hd2900Coordinate, deliveryRadius)
</code></pre>
<p><a href=""https://i.stack.imgur.com/NvAYp.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/NvAYp.png"" alt=""enter image description here"" /></a></p>
",146,0,<jupyter-notebook><ipywidgets><voila>,2021-11-19 18:47:29
70039452,Jupyter notebook not rendering permission denied,"<p>I am running Jupyter Notebook on Ubuntu, when I execute <code>jupyter notebook</code> from my terminal, my Firefox browser opened and it displayed</p>
<blockquote>
<p>Access to the file was denied</p>
<p>The file at
/home/hd2900/.local/share/jupyter/runtime/nbserver-95755-open.html is
not readable.</p>
<p>It may have been removed, moved, or file permissions may be preventing
access.</p>
</blockquote>
<p>I have checked my permission and also folder ownership and I don't see any issues with them.</p>
<pre><code>drwxrwxr-x  5 hd2900 hd2900  4096 Nov 13 12:29 .local
drwxrwxr-x 20 hd2900 hd2900 4096 Nov 19 18:41 share
drwxrwxr-x  3 hd2900 hd2900  4096 Nov 19 19:01 jupyter
drwxrwxr-x  2 hd2900 hd2900  4096 Nov 19 19:26 runtime
-rwxrwxr-x 1 hd2900 hd2900  302 Nov 19 19:26 nbserver-96048.json
-rwxrwxr-x 1 hd2900 hd2900  673 Nov 19 19:26 nbserver-96048-open.html
</code></pre>
<p>I have noticed that using the two http links works. The reason why I need the <code>file:///home/hd2900/.local/share/jupyter/runtime/nbserver-96048-open.html</code> is because I need to write a bash script later on allowing jupyter notebook to launch by executing the bash script.</p>
<pre><code>(env) hd2900@hd2900:~/Documents/Python/takeawayGeoManager$ jupyter notebook
[I 19:26:06.711 NotebookApp] Serving notebooks from local directory: /home/hd2900/Documents/Python/takeawayGeoManager
[I 19:26:06.712 NotebookApp] Jupyter Notebook 6.4.5 is running at:
[I 19:26:06.712 NotebookApp] http://localhost:8888/?token=5cd13f360718079f519e4cfb0eb694ab708382a7db93a557
[I 19:26:06.712 NotebookApp]  or http://127.0.0.1:8888/?token=5cd13f360718079f519e4cfb0eb694ab708382a7db93a557
[I 19:26:06.712 NotebookApp] Use Control-C to stop this server and shut down all kernels (twice to skip confirmation).
[C 19:26:07.009 NotebookApp] 
    
    To access the notebook, open this file in a browser:
        file:///home/hd2900/.local/share/jupyter/runtime/nbserver-96048-open.html
    Or copy and paste one of these URLs:
        http://localhost:8888/?token=5cd13f360718079f519e4cfb0eb694ab708382a7db93a557
     or http://127.0.0.1:8888/?token=5cd13f360718079f519e4cfb0eb694ab708382a7db93a557
</code></pre>
",1513,1,<jupyter-notebook><jupyterhub>,2021-11-19 18:37:45
70034851,Mount Dynamic created PV to multiple containers on the same pod,"<p>I am working on a use-case where I need to add a new container in jupyterhub pod , This new container (sidecontainer) monitors jupyterhub directories.</p>
<p>Jupyterhub container while comming up creates a dynamic PV , see the section below</p>
<pre><code>singleuser:
  podNameTemplate:
  extraTolerations: []
  nodeSelector: {}
  extraNodeAffinity:
    required: []
    preferred: []
  extraPodAffinity:
    required: []
    preferred: []
  extraPodAntiAffinity:
    required: []
    preferred: []
  networkTools:
    image:
      name: jupyterhub/k8s-network-tools
      tag: &quot;set-by-chartpress&quot;
      pullPolicy:
      pullSecrets: []
    resources: {}
  cloudMetadata:
    # block set to true will append a privileged initContainer using the
    # iptables to block the sensitive metadata server at the provided ip.
    blockWithIptables: true
    ip: 169.254.169.254
  networkPolicy:
    enabled: true
    ingress: []
    egress:
      # Required egress to communicate with the hub and DNS servers will be
      # augmented to these egress rules.
      #
      # This default rule explicitly allows all outbound traffic from singleuser
      # pods, except to a typical IP used to return metadata that can be used by
      # someone with malicious intent.
      - to:
          - ipBlock:
              cidr: 0.0.0.0/0
              except:
                - 169.254.169.254/32
    interNamespaceAccessLabels: ignore
    allowedIngressPorts: []
  events: true
  extraAnnotations: {}
  extraLabels:
    hub.jupyter.org/network-access-hub: &quot;true&quot;
  extraFiles: {}
  extraEnv: {}
  lifecycleHooks: {}
  initContainers: []
  extraContainers: []
  uid: 1000
  fsGid: 100
  serviceAccountName:
  storage:
    type: dynamic
    extraLabels: {}
    extraVolumes: []
    extraVolumeMounts: []
    static:
      pvcName:
      subPath: &quot;{username}&quot;
    capacity: 10Gi
    homeMountPath: /home/jovyan
    dynamic:
      storageClass:
      pvcNameTemplate: claim-{username}{servername}
      volumeNameTemplate: volume-{username}{servername}
      storageAccessModes: [ReadWriteOnce]
  image:
    name: jupyterhub/k8s-singleuser-sample
    tag: &quot;set-by-chartpress&quot;
    pullPolicy:
    pullSecrets: []
  startTimeout: 300
  cpu:
    limit:
    guarantee:
  memory:
    limit:
    guarantee: 1G
  extraResource:
    limits: {}
    guarantees: {}
  cmd:
  defaultUrl:
  extraPodConfig: {}
  profileList: []
</code></pre>
<p>I have added my new container in the extraContainer section of deployment file , my container does start but the dynamic PV is not mounted on that container.</p>
<p>Is the use-case I am trying to achieve technically possible at kubernetes level.</p>
<p>full yaml file is present here for reference
<a href=""https://github.com/jupyterhub/zero-to-jupyterhub-k8s/blob/main/jupyterhub/values.yaml"" rel=""nofollow noreferrer"">https://github.com/jupyterhub/zero-to-jupyterhub-k8s/blob/main/jupyterhub/values.yaml</a></p>
<p>Config Map for reference</p>
<pre><code>  singleuser:
  baseUrl: /
  cloudMetadata:
    enabled: true
    ip: xx.xx.xx.xx
  cpu: {}
  events: true
  extraAnnotations: {}
  extraConfigFiles:
    config_files:
      - cm_key: ''
        content: ''
        file_path: ''
      - cm_key: ''
        content: ''
        file_path: ''
    enabled: false
  extraContainers:
    - image: 'docker:19.03-rc-dind'
      lifecycle:
        postStart:
          exec:
            command:
              - sh
              - '-c'
              - update-ca-certificates; echo Certificates Updated
      name: dind
      securityContext:
        privileged: true
      volumeMounts:
        - mountPath: /var/lib/docker
          name: dind-storage
        - mountPath: /usr/local/share/ca-certificates/
          name: docker-cert
  extraEnv:
    ACTUAL_HADOOP_CONF_DIR: ''
    ACTUAL_HIVE_CONF_DIR: ''
    ACTUAL_SPARK_CONF_DIR: ''
    CDH_PARCEL_DIR: ''
    DOCKER_HOST: ''
    JAVA_HOME: 
    LIVY_URL: ''
    SPARK2_PARCEL_DIR: ''
  extraLabels:
    hub.jupyter.org/network-access-hub: 'true'
  extraNodeAffinity:
    preferred: []
    required: []
  extraPodAffinity:
    preferred: []
    required: []
  extraPodAntiAffinity:
    preferred: []
    required: []
  extraPodConfig: {}
  extraResource:
    guarantees: {}
    limits: {}
  extraTolerations: []
  fsGid: 0
  image:
    name: &gt;-
      /jupyterhub/jpt-spark-magic
    pullPolicy: IfNotPresent
    tag: xxx
  imagePullSecret:
    email: null
    enabled: false
    registry: null
    username: null
  initContainers: []
  lifecycleHooks: {}
  memory:
    guarantee: 1G
  networkPolicy:
    egress:
      - to:
          - ipBlock:
              cidr: 0.0.0.0/0
              except:
                - 169.254.169.254/32
    enabled: false
    ingress: []
  networkTools:
    image:
      name: &gt;-
        /k8s-hub-multispawn
      pullPolicy: IfNotPresent
      tag: '12345'
  nodeSelector: {}
  profileList:
    - description: Python for data enthusiasts
      display_name: 0
      kubespawner_override:
        cmd:
          - jpt-entry-cmd.sh
        cpu_limit: 1
        environment:
          XYZ_SERVICE_URL: 'http://XYZ:8080'
          CURL_CA_BUNDLE: /etc/ssl/certs/ca-certificates.crt
          DOCKER_HOST: 'tcp://localhost:2375'
          HADOOP_CONF_DIR: /etc/hadoop/conf
          HADOOP_HOME: /usr/hdp/3.1.5.6091-7/hadoop/
          HDP_DIR: /usr/hdp/3.1.5.6091-7
          HDP_HOME_DIR: /usr/hdp/3.1.5.6091-7
          HDP_VERSION: 3.1.5.6091-7
          HIVE_CONF_DIR: /usr/hdp/3.1.5.6091-7/hive
          HIVE_HOME: /usr/hdp/3.1.5.6091-7/hive
          INTEGRATION_ENV: HDP3
          JAVA_HOME: /usr/jdk64/jdk1.8.0_112
          LD_LIBRARY_PATH: &gt;-
            /usr/hdp/3.1.5.6091-7/hadoop/lib/native:/usr/jdk64/jdk1.8.0_112/jre:/usr/hdp/3.1.5.6091-7/usr/lib/:/usr/hdp/3.1.5.6091-7/usr/lib/
          LIVY_URL: 'http://ammaster01.fake.org:8999'
          MLFLOW_TRACKING_URI: 'http://mlflow:5100'
          NO_PROXY: mlflow
          SPARK_CONF_DIR: /etc/spark2/conf
          SPARK_HOME: /usr/hdp/3.1.5.6091-7/spark2
          SPARK2_PARCEL_DIR: /usr/hdp/3.1.5.6091-7/spark2
          TOOLS_BASE_PATH: /usr/local/bin
        image: &gt;-
          /jupyterhub/jpt-spark-magic:1.1.2
        mem_limit: 4096M
        uid: 0
    - description: R for data enthusiasts
      display_name: 1
      kubespawner_override:
        cmd:
          - start-all.sh
        environment:
          XYZ_SERVICE_URL: 'http://XYZ-service:8080'
          DISABLE_AUTH: 'true'
          XYZ: /home/rstudio/kitematic
        image: '/jupyterhub/rstudio:364094'
        uid: 0
    - description: Python for data enthusiasts test2
      display_name: 2
      kubespawner_override:
        cmd:
          - jpt-entry-cmd.sh
        cpu_limit: 4
        environment:
          XYZ_SERVICE_URL: 'http://XYZ-service:8080'
          CURL_CA_BUNDLE: /etc/ssl/certs/ca-certificates.crt
          DOCKER_HOST: 'tcp://localhost:2375'
          HADOOP_CONF_DIR: /etc/hadoop/conf
          HADOOP_HOME: /usr/hdp/3.1.5.6091-7/hadoop/
          HDP_DIR: /usr/hdp/3.1.5.6091-7
          HDP_HOME_DIR: /usr/hdp/3.1.5.6091-7
          HDP_VERSION: 3.1.5.6091-7
          HIVE_CONF_DIR: /usr/hdp/3.1.5.6091-7/hive
          HIVE_HOME: /usr/hdp/3.1.5.6091-7/hive
          INTEGRATION_ENV: HDP3
          JAVA_HOME: /usr/jdk64/jdk1.8.0_112
          LD_LIBRARY_PATH: &gt;-
            /usr/hdp/3.1.5.6091-7/hadoop/lib/native:/usr/jdk64/jdk1.8.0_112/jre:/usr/hdp/3.1.5.6091-7/usr/lib/:/usr/hdp/3.1.5.6091-7/usr/lib/
          LIVY_URL: 'http://xyz:8999'
          MLFLOW_TRACKING_URI: 'http://mlflow:5100'
          NO_PROXY: mlflow
          SPARK_CONF_DIR: /etc/spark2/conf
          SPARK_HOME: /usr/hdp/3.1.5.6091-7/spark2
          SPARK2_PARCEL_DIR: /usr/hdp/3.1.5.6091-7/spark2
          TOOLS_BASE_PATH: /usr/local/bin
        image: &gt;-
          /jupyterhub/jpt-spark-magic:1.1.2
        mem_limit: 8192M
        uid: 0
    - description: Python for data enthusiasts test3
      display_name: 3
      kubespawner_override:
        cmd:
          - jpt-entry-cmd.sh
        cpu_limit: 8
        environment:
          XYZ_SERVICE_URL: 'http://XYZ-service:8080'
          CURL_CA_BUNDLE: /etc/ssl/certs/ca-certificates.crt
          DOCKER_HOST: 'tcp://localhost:2375'
          HADOOP_CONF_DIR: /etc/hadoop/conf
          HADOOP_HOME: /usr/hdp/3.1.5.6091-7/hadoop/
          HDP_DIR: /usr/hdp/3.1.5.6091-7
          HDP_HOME_DIR: /usr/hdp/3.1.5.6091-7
          HDP_VERSION: 3.1.5.6091-7
          HIVE_CONF_DIR: /usr/hdp/3.1.5.6091-7/hive
          HIVE_HOME: /usr/hdp/3.1.5.6091-7/hive
          INTEGRATION_ENV: HDP3
          JAVA_HOME: /usr/jdk64/jdk1.8.0_112
          LD_LIBRARY_PATH: &gt;-
            /usr/hdp/3.1.5.6091-7/hadoop/lib/native:/usr/jdk64/jdk1.8.0_112/jre:/usr/hdp/3.1.5.6091-7/usr/lib/:/usr/hdp/3.1.5.6091-7/usr/lib/
          LIVY_URL: 'http://fake.org:8999'
          MLFLOW_TRACKING_URI: 'http://mlflow:5100'
          NO_PROXY: mlflow
          SPARK_CONF_DIR: /etc/spark2/conf
          SPARK_HOME: /usr/hdp/3.1.5.6091-7/spark2
          SPARK2_PARCEL_DIR: /usr/hdp/3.1.5.6091-7/spark2
          TOOLS_BASE_PATH: /usr/local/bin
        image: &gt;-
          /jupyterhub/jpt-spark-magic:1.1.2
        mem_limit: 16384M
        uid: 0
  startTimeout: 300
  storage:
    capacity: 10Gi
    dynamic:
      pvcNameTemplate: 'claim-{username}{servername}'
      storageAccessModes:
        - ReadWriteOnce
      storageClass: nfs-client
      volumeNameTemplate: 'volume-{username}{servername}'
    extraLabels: {}
    extraVolumeMounts:
      - mountPath: /etc/krb5.conf
        name: krb
        readOnly: true
      - mountPath: /usr/jdk64/jdk1.8.0_112
        name: java-home
        readOnly: true
      - mountPath: /xyz/conda/envs
        name: xyz-conda-envs
        readOnly: false
      - mountPath: /usr/hdp/
        name: bigdata
        readOnly: true
        subPath: usr-hdp
      - mountPath: /etc/hadoop/
        name: bigdata
        readOnly: true
        subPath: HDP
      - mountPath: /etc/hive/
        name: bigdata
        readOnly: true
        subPath: hdp-hive
      - mountPath: /etc/spark2/
        name: bigdata
        readOnly: true
        subPath: hdp-spark2
    extraVolumes:
      - emptyDir: {}
        name: dind-storage
      - name: docker-cert
        secret:
          secretName: docker-cert
      - hostPath:
          path: /var/lib/ut_xyz_ts/jdk1.8.0_112
          type: Directory
        name: java-home
      - hostPath:
          path: /xyz/conda/envs
          type: Directory
        name: xyz-conda-envs
      - hostPath:
          path: /etc/krb5.conf
          type: File
        name: krb
      - name: bigdata
        persistentVolumeClaim:
          claimName: bigdata
    homeMountPath: '/home/{username}'
    static:
      subPath: '{username}'
    type: dynamic
  uid: 0
</code></pre>
<p>Thanks in advance ..</p>
",233,0,<kubernetes><yaml><jupyterhub><persistent-volumes>,2021-11-19 12:28:21
70032160,ipywidgets updatable text area scrollbar,"<p>Using ipywidgets, I need to create an output text box which will display alert messages.
The box should include a scroll bar to be able to read previous messages.
ipywidgets comes with Layout, Textarea and Text functionalities but I could not figure out how to use them to my particular case.<br />
Help and suggestions would be greatly appreciated here<br />
Thak you</p>
",53,0,<text><ipywidgets><updatable-views>,2021-11-19 08:53:29
70019685,"Kubernetes GPU Pod error : validating toolkit installation: exec: \""nvidia-smi\"": executable file not found in $PATH""","<p>When trying to create Pods that can use GPU, I get the error &quot;exec: &quot;nvidia-smi&quot;: executable file not found in $PATH&quot; &quot;.
To explain the error from the beginning, my main goal was to create JupyterHub enviroments that can use GPU. I installed <a href=""https://zero-to-jupyterhub.readthedocs.io/en/latest/"" rel=""nofollow noreferrer"">Zero to JupyterHub for Kubernetes</a>. I followed <a href=""https://github.com/NVIDIA/k8s-device-plugin#quick-start"" rel=""nofollow noreferrer"">these</a> steps to be able to use <a href=""https://zero-to-jupyterhub.readthedocs.io/en/latest/jupyterhub/customizing/user-resources.html#set-user-gpu-guarantees-limits"" rel=""nofollow noreferrer"">GPU</a>. When I check my nodes GPUs seems schedulable by Kubernetes. So far everything seemed fine.</p>
<pre><code>kubectl get nodes -o=custom-columns=NAME:.metadata.name,GPUs:.status.capacity.'nvidia\.com/gpu'

NAME          GPUs
arge-server   1
</code></pre>
<p>However, when I logged in to JupyetHub and tried to open the profile using GPU, I got an error: [Warning] 0/1 nodes are available: 1 Insufficient nvidia.com/gpu. So, I checked the Pods and I found that they were all in the &quot;Waiting: PodInitializing&quot; state.</p>
<pre><code>kubectl get pods -n gpu-operator-resources

NAME                                   READY   STATUS       RESTARTS   AGE
nvidia-dcgm-x5rqs                      0/1     Init:0/1     2          6d20h
nvidia-device-plugin-daemonset-jhjhb   0/1     Init:0/1     0          6d20h
gpu-feature-discovery-pd4xv            0/1     Init:0/1     2          6d20h
nvidia-dcgm-exporter-7mjgt             0/1     Init:0/1     2          6d20h
nvidia-operator-validator-9xjmv        0/1     Init:Error   10         26m
</code></pre>
<p>After that, I took a closer look at the Pod nvidia-operator-validator-9xjmv, which was the beginning of the error, and I saw that the toolkit-validation container was throwing a CrashLoopBackOff error. Here is the relevant part of the log:</p>
<pre><code>kubectl describe pod nvidia-operator-validator-9xjmv -n gpu-operator-resources

    Name:                 nvidia-operator-validator-9xjmv
    Namespace:            gpu-operator-resources
        .   
        .
        .
    Controlled By:  DaemonSet/nvidia-operator-validator
    Init Containers:
        .
        .
        .
      toolkit-validation:
        Container ID:  containerd://e7d004f0809cbefdae5407ea42eb659972ea7eefa5dd6e45e968cbf3ed22bf2e
        Image:         nvcr.io/nvidia/cloud-native/gpu-operator-validator:v1.8.2
        Image ID:      nvcr.io/nvidia/cloud-native/gpu-operator-validator@sha256:a07fd1c74e3e469ac316d17cf79635173764fdab3b681dbc282027a23dbbe227
        Port:          &lt;none&gt;
        Host Port:     &lt;none&gt;
        Command:
          sh
          -c
        Args:
          nvidia-validator
        State:          Waiting
          Reason:       CrashLoopBackOff
        Last State:     Terminated
          Reason:       Error
          Exit Code:    1
          Started:      Thu, 18 Nov 2021 12:55:00 +0300
          Finished:     Thu, 18 Nov 2021 12:55:00 +0300
        Ready:          False
        Restart Count:  16
        Environment:
          WITH_WAIT:  false
          COMPONENT:  toolkit
        Mounts:
          /run/nvidia/validations from run-nvidia-validations (rw)
          /var/run/secrets/kubernetes.io/serviceaccount from kube-api-access-hx7ls (ro)
        .   
        .
        .
    
    Events:
      Type     Reason     Age                   From               Message
      ----     ------     ----                  ----               -------
      Normal   Scheduled  58m                   default-scheduler  Successfully assigned gpu-operator-resources/nvidia-operator-validator-9xjmv to arge-server
      Normal   Pulled     58m                   kubelet            Container image &quot;nvcr.io/nvidia/cloud-native/gpu-operator-validator:v1.8.2&quot; already present on machine
      Normal   Created    58m                   kubelet            Created container driver-validation
      Normal   Started    58m                   kubelet            Started container driver-validation
      Normal   Pulled     56m (x5 over 58m)     kubelet            Container image &quot;nvcr.io/nvidia/cloud-native/gpu-operator-validator:v1.8.2&quot; already present on machine
      Normal   Created    56m (x5 over 58m)     kubelet            Created container toolkit-validation
      Normal   Started    56m (x5 over 58m)     kubelet            Started container toolkit-validation
      Warning  BackOff    3m7s (x255 over 58m)  kubelet            Back-off restarting failed container
</code></pre>
<p>Then, I looked at the logs of the container and I got the following error.</p>
<pre><code>kubectl logs -n gpu-operator-resources -f nvidia-operator-validator-9xjmv -c toolkit-validation

time=&quot;2021-11-18T09:29:24Z&quot; level=info msg=&quot;Error: error validating toolkit installation: exec: \&quot;nvidia-smi\&quot;: executable file not found in $PATH&quot;
toolkit is not ready
</code></pre>
<p>For similar issues, it was suggested to delete the failed Pod and deployment. However, doing these did not fix my problem. Do you have any suggestions?</p>
<p>I have;</p>
<ul>
<li>Ubuntu 20.04</li>
<li>Kubernetes v1.21.6</li>
<li>Docker 20.10.10</li>
<li>NVIDIA-SMI 470.82.01</li>
<li>CUDA 11.4</li>
<li>CPU: Intel Xeon E5-2683 v4 (32) @ 2.097GHz</li>
<li>GPU: NVIDIA GeForce RTX 2080 Ti</li>
<li>Memory: 13815MiB / 48280MiB</li>
</ul>
<p>Thanks in advance.</p>
",437,1,<docker><kubernetes><gpu><kubernetes-pod><jupyterhub>,2021-11-18 12:16:40
70016428,'Upload' function not working for Jupyter Notebook in ssh mode on a Ubuntu 18.04 machine,"<p>I am new to using Jupyter, but am well versed with R. My new role requires me to use R-Kernel inside a jupyter notebook via ssh to share common data and save space. However, I am unable to upload any files from my local machine for some reason - although the permissions check out. There is no error - the entire computer just hangs the moment I click 'Upload'!! Has anybody ever faced this issue?</p>
<p>I am using Jupyter 3.1.18 via ssh on Ubuntu 18.04.
I don't have jupyter installed on my local machine.</p>
",113,0,<ssh><jupyter-notebook><ubuntu-18.04><jupyter-irkernel>,2021-11-18 08:09:46
69994419,Starting/Exiting a program with ipywidgets,"<p>I'm quite new in GUI programming and I would like to start and stop a program using ipywidgets.Button.</p>
<p>I defined a class CUI that creates the interface</p>
<pre><code>import ipywidgets as widgets
import functools

from IPython.display import display
from cjob import *

class CUI ():
    def __init__ (self, job: CJob):
        self.status_label = widgets.Label ()
        self.status_label.layout.width = '400px'

        self.button_start = widgets.Button (description = 'Start')
        self.button_stop  = widgets.Button (description = 'Stop')
        self.main_box     = widgets.VBox ([self.button_start, self.button_stop, self.status_label])

        self.button_start.on_click (functools.partial (self.start_button_clicked, job))
        self.button_stop.on_click  (functools.partial (self.stop_button_clicked,  job))

    def start_button_clicked (self, job, b):
        if not job.is_running ():
            job.start ()

    def stop_button_clicked (self, job, b):
        if job.is_running ():
            job.stop ()
    
    def display (self):
        display (self.main_box)
</code></pre>
<p>and a class CJob that executes the tasks</p>
<pre><code>import signal
import time

class CJob ():
    def __init__ (self):
        self.status = False
    
    def start (self):
        self.status = True
        print ('starting...')
        for i in range (0, 10):
            print (i)
            time.sleep (3)
    
    def stop  (self):
        self.status = False
        print ('stopping...')

    def is_running (self):
        if self.status:
            return True
        return False
</code></pre>
<p>As the user presses the start button, she triggers the loop. But, I am unable to write the code to stop the loop when the stop button is activated.</p>
<p>I looked at features such as signals but I could not wrap my head around it
Thank you</p>
",21,0,<python><asynchronous><events><system><ipywidgets>,2021-11-16 18:34:51
69980822,ipywidgets Textarea on_submit(),"<p>I need to set up a certain workflow where the input text field needs to be more than one-liner, therefore a simple Text widget cannot be used. This is why the best fit is Textarea widget. However... this widget does not have an on_submit() method.
Is there a way that I can add an on_submit() method to Textarea so it will work like a regular Text widget where I can submit entered text with an Enter key stroke.
The preference is to keep to ipywidgets.
Thanks!</p>
<pre><code>import ipywidgets as widgets
text = widgets.Text()
display(text)

def handle_submit(sender):
    print(text.value)

text.on_submit(handle_submit)
</code></pre>
",681,1,<python><textarea><ipywidgets>,2021-11-15 21:01:13
69958036,ipywidgets: How to observe state change in Box children?,"<p>I have a class (inherited from <code>Box</code>) with children widgets, and I'd like to call observe on the box, so that I can register a callback if there's a change made to any of its children.</p>
<p>Of course, I can I call <code>box.child1.observe</code>, <code>box.child2.observe</code>, <code>box.child3.child1.observe</code>, etc., but I have nested boxes and I don't want to have to enumerate through every leaf widget.  I would prefer to simply call <code>box.observe</code> from that box's parent.</p>
<p>How can I modify my box class so that a change to its children notifies a change to the box itself?  As of now, if I register a callback with <code>box.observe(func, 'value')</code>, then <code>func</code> never gets called.  How to fix?  Thanks.</p>
",264,0,<ipywidgets>,2021-11-13 20:35:32
69944120,IPywidgets observe not working when wrapped inside a class,"<p>I have created a small example, which shows the working and not working case.
The working example,</p>
<pre><code>import ipywidgets as widgets


selected = {}

a = widgets.Dropdown(description=&quot;Apple&quot;, options = [&quot;a&quot;,&quot;k&quot;])
                 
b = widgets.Dropdown(description=&quot;Boeing&quot;, options = [&quot;a&quot;,'b'])
                 
c = widgets.Dropdown(description=&quot;Coco Cola&quot;, options = [&quot;a&quot;,'b','c'])

def getvaluea(change):
    selected[&quot;a&quot;] = change.new
    with out:
        out.clear_output()
        print(selected)

def getvalueb(change):
    selected[&quot;b&quot;] = change.new
    with out:
        out.clear_output()
        print(selected)

def getvaluec(change):
    selected[&quot;c&quot;] = change.new
    with out:
        out.clear_output()
        print(selected)

out = widgets.Output()
                     
tab = widgets.Tab()

tab.children = [a,b,c]

tab.titles = [&quot;a&quot;,'b','c']

a.observe(getvaluea, 'value')
b.observe(getvalueb, 'value')
c.observe(getvaluec, 'value')

display(tab)

display(out)
</code></pre>
<p>Using this code example will change add or change items in selected. When I try to wrap this same code sample in a class, I am having a problem getting the result.</p>
<pre><code>class UserInterfaceAttempt10:

  def __init__(self):
    
    self.selected = {}
    
    self.a = widgets.Dropdown(description=&quot;Apple&quot;, options = [&quot;a&quot;,&quot;k&quot;])
             
    self.b = widgets.Dropdown(description=&quot;Boeing&quot;, options = [&quot;a&quot;,'b'])

    self.c = widgets.Dropdown(description=&quot;Coco Cola&quot;, options = [&quot;a&quot;,'b','c'])
    
    self.out = widgets.Output()
                 
    self.tab = widgets.Tab()

    self.tab.children = [self.a, self.b, self.c]

    self.tab.titles = [&quot;a&quot;,'b','c']

    self.a.observe(self.getvaluea)
    self.b.observe(self.getvalueb)
    self.c.observe(self.getvaluec)
    
  def getvaluea(self, change):
    self.selected[&quot;a&quot;] = change.new
    with self.out:
        self.out.clear_output()
        print(self.selected)

  def getvalueb(self, change):
    self.selected[&quot;b&quot;] = change.new
    with self.out:
        self.out.clear_output()
        print(self.selected)

  def getvaluec(self, change):
    self.selected[&quot;c&quot;] = change.new
    with self.out:
        self.out.clear_output()
        print(self.selected)
        
  def display_GUI(self):
    display(self.tab)
    display(self.out)

ob = UserInterfaceAttempt10()
ob.display_GUI()
</code></pre>
<p>Can someone help me understand the problem? Thank you!</p>
",341,2,<python><ipywidgets>,2021-11-12 14:02:33
69923461,IRkernel keeps restarting in docker container on RaspberryPi,"<p>I'm running Python, JupyterLab and R a docker container on a RaspberryPi.</p>
<p>Dockerfile</p>
<pre><code>FROM arm32v7/debian:buster

RUN apt-get update &amp;&amp; apt-get -y install --no-install-recommends \
    python3 \
    python3-dev \
    python3-pip \
    python3-setuptools \
    python3-wheel \
    &amp;&amp; \
    apt-get clean

RUN python -m pip install \
    notebook==6.4.5 \
    jupyterlab==3.2.1

ENV R_VERSION 3.3.3
ADD https://ftp.fau.de/cran/src/base/R-3/R-${R_VERSION}.tar.gz .
RUN apt-get remove r-base
RUN tar -xvf R-${R_VERSION}.tar.gz \
    &amp;&amp; rm R-${R_VERSION}.tar.gz \
    &amp;&amp; cd R-${R_VERSION} \
    &amp;&amp; ./configure --with-x=no --disable-java --with-pcre1 --prefix=/root/R \
    &amp;&amp; make &amp;&amp; make install \
    &amp;&amp; cd .. \
    &amp;&amp; rm -rf R-${R_VERSION} \
    &amp;&amp; ln -s /root/R/bin/R /usr/bin/R \
    &amp;&amp; ln -s /root/R/bin/Rscript /usr/bin/Rscript

COPY ./install.R /root
RUN Rscript /root/install.R
</code></pre>
<p>install.R</p>
<pre><code>install.packages('IRkernel', repos='http://cran.rstudio.com/')
IRkernel::installspec(name = 'ir', displayname = 'R 3.3')
</code></pre>
<p>Running R in JupyterLab always restarts the IRkernel after execution.
I tried already several versions of R since I read it could be a version mismatch.</p>
",43,0,<python><r><docker><jupyter-lab><jupyter-irkernel>,2021-11-11 05:07:55
69922936,"How can I setup a ""open in JupyterHub"" button in GitLab?","<p>We are setting up a JupyterHub instance for my Company. I'd like to have a button &quot;open in JupyterHub&quot; in the GitLab page of every committed notebook in GitLab.</p>
<p>When clicked, the user would be transported to a running copy of the notebook in JupyterHub. It would be equivalent to a &quot;Open in Collab&quot; or &quot;Open in Kaggle&quot; button that some notebooks display:
<a href=""https://i.stack.imgur.com/PGPyT.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/PGPyT.png"" alt=""Open in Colab and Open in Kaggle buttons"" /></a></p>
<p>I believe it would a great way to allow collaboration.</p>
<p>Maybe the button can trigger a clone or update action to the user JupyterHub and start a kernel with it.</p>
<p>How can we implement it?</p>
",103,2,<jupyter-notebook><gitlab><jupyterhub>,2021-11-11 03:43:49
69918388,Modify ipywidgets button text color,"<p>I'm trying to change the text color of a button widget in a jupyter notebook. According to the ipywidgets documentation the button widget has the following style attributes:</p>
<pre><code>['_model_module',
 '_model_module_version',
 '_model_name',
 '_view_count',
 '_view_module',
 '_view_module_version',
 '_view_name',
 'button_color',
 'font_family',
 'font_size',
 'font_style',
 'font_variant',
 'font_weight',
 'text_color',
 'text_decoration']
</code></pre>
<p><a href=""https://ipywidgets.readthedocs.io/en/latest/examples/Widget%20Styling.html#The-style-attribute"" rel=""nofollow noreferrer"">https://ipywidgets.readthedocs.io/en/latest/examples/Widget%20Styling.html#The-style-attribute</a></p>
<p>However when I execute the following code in a jupyter notebook get much less attributes:
<a href=""https://i.stack.imgur.com/4Ufh3.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/4Ufh3.png"" alt=""Output I get"" /></a></p>
<p>That means that I cannot modify parameters like the text color or size...</p>
<p>Any idea of what could be happening so that I get so few attributes compared to the documentation? I have the last version of Ipywidgets installed.</p>
",649,3,<python><jupyter-notebook><ipywidgets>,2021-11-10 18:24:32
69917572,"How to install R package ""copula"" on RHEL7?","<p>We have been trying to install &quot;copula&quot; package on <code>R</code> but it fails with the following error message:</p>
<p><code>ERROR: dependency ‘gsl’ is not available for package ‘copula’</code></p>
<ol>
<li>After installing GSL (GNU Scientific Linux), it kept complaining but this time with the following error:</li>
</ol>
<pre><code>** package ‘gsl’ successfully unpacked and MD5 sums checked
checking for gsl-config... no
configure: error: gsl-config not found, is GSL installed? &lt;&lt;-----------
ERROR: configuration failed for package ‘gsl’
* removing ‘/opt/microsoft/ropen/3.5.3/lib64/R/library/gsl’
ERROR: dependency ‘gsl’ is not available for package ‘copula’
* removing ‘/opt/microsoft/ropen/3.5.3/lib64/R/library/copula’
</code></pre>
<ol start=""2"">
<li><p>We have also installed <code>gsl-devel</code> (<code>yum install gsl-devel</code>); unsuccessfully though.</p>
</li>
<li><p>Manually installed GSL:</p>
</li>
</ol>
<ul>
<li><code>wget https://mirror.ibcp.fr/pub/gnu/gsl/gsl-latest.tar.gz</code></li>
<li><code>tar xfz gsl-latest.tar.gz</code></li>
<li><code>./configure &amp;&amp; make &amp;&amp; make install</code></li>
</ul>
<ol start=""4"">
<li>Back to <code>R</code>, tried to install <code>copula</code> again, unsuccessfully, but with a different error message:</li>
</ol>
<pre><code>Error: package or namespace load failed for ‘gsl’ in dyn.load(file, DLLpath = DLLpath, ...):
 unable to load shared object '/opt/microsoft/ropen/3.5.3/lib64/R/library/gsl/libs/gsl.so':
  libgsl.so.25: cannot open shared object file: No such file or directory
</code></pre>
<p>Is there any way to install GSL and make <code>libgsl.so.25</code> available to <code>copula</code>?</p>
<p>Thanks.</p>
",212,0,<r><rhel7><rstudio-server><jupyterhub>,2021-11-10 17:19:15
69910690,Difficulties with refreshing a plot with ipywidgets - labels and borders lost,"<p>I try to display data from a pandas dataframe with the help if ipywidgets. I specify the date range (x-axis) with a slider, and use dropdown menus to sepcify the other data parameters.
A refresh-button should clear the old data and plot the new graphs to the privious figure. The problem is that all the labels and borders are lost, and I can't seem to make it work.</p>
<p>It looks like this:</p>
<p><a href=""https://i.stack.imgur.com/6hsDj.png"" rel=""nofollow noreferrer"">enter image description here</a></p>
<p>This the initiation with the button callback:</p>
<pre><code>def initiate_UI(start_date, end_date):

dates = pd.date_range(start_date, end_date, freq='D')
options = [(date.strftime(' %d %b %Y '), date) for date in dates]

selection_range_slider.options = [(date.strftime(' %d %b %Y '), date) for date in dates]
selection_range_slider.index = (0, len(options)-1)
   
display(DropdownDuT_Channel)
display(DropdownDuT_Paramter)
display(Start_Button_Single)

widgets.interact(print_date_range,date_range = selection_range_slider) 

fig = plt.figure()
ax = fig.add_axes([0,0,1,1]) 
ax.set_title(&quot;&quot; + DropdownDuT_Paramter.value + &quot; - &quot; + DropdownDuT_Channel.value) 
ax.set_xlabel(&quot;Date&quot;)
ax.set_ylabel(&quot;Power [mW]&quot;)
plt.xlabel(&quot;date&quot;)


ax.set_ylim([30,70])
ax.grid()
plt.style.use('dark_background')

    
def button_clicked(b):
    ax.clear()
    display_single_graph()

def display_single_graph():    
    
    DuT_Channel = DropdownDuT_Channel.value
    start_date = selection_range_slider.value[0]
    end_date = selection_range_slider.value[1]
           
    DuTXX = choose_Dut_from_framwork(framework, DuT_Channel)
            
    p1, = ax.plot(DuTXX['date'], DuTXX[DropdownDuT_Paramter.value] *1000, 'o', label = DropdownDuT_Paramter.value)
    ax.legend(loc = 2)
    
    fig.canvas.draw() 
    
Start_Button_Single.on_click(button_clicked)
</code></pre>
<p>So far, i tried to make it work with %matplotlib notebook. I used plt.ion(), but i am not quite sure where to put it. It looks to me that I do a lot of the stuff in the wrong places...
This is just part of the code - I load most of it from .py files into my jupyter notebook.</p>
",48,0,<python><pandas><matplotlib><interactive><ipywidgets>,2021-11-10 09:24:57
69894241,jupyterhub setup local spawner,"<p>After installing jupyterhub, I can launch it but cannot spawn (local spawner). It seems that the local spawner is using the system python (in ~/.local/lib/sitepackages) instead of anaconda. The debug messages show:</p>
<pre><code>Traceback (most recent call last):
  File &quot;/usr/local/bin/jupyterhub-singleuser&quot;, line 6, in &lt;module&gt;
    from jupyterhub.singleuser import main
  File &quot;/home/.../.local/lib/python3.7/site-packages/jupyterhub/singleuser/__init__.py&quot;, line 5, in &lt;module&gt;
    from .app import main
  File &quot;/home/.../.local/lib/python3.7/site-packages/jupyterhub/singleuser/app.py&quot;, line 16, in &lt;module&gt;
    App = import_item(JUPYTERHUB_SINGLEUSER_APP)
  File &quot;/home/.../.local/lib/python3.7/site-packages/traitlets/utils/importstring.py&quot;, line 30, in import_item
    module = __import__(package, fromlist=[obj])
ModuleNotFoundError: No module named 'notebook'
</code></pre>
<p>The module <code>notebook</code> is available in <code>/opt/conda/envs/jupyterhub</code></p>
<p>I do call it for debugging like so:</p>
<p><code>sudo /opt/conda/envs/jupyterhub/bin/jupyterhub -f /opt/conda/envs/jupyterhub/etc/jupyterhub/jupyterhub_config.py --debug</code></p>
<p>When logging in via ssh as that user, my path looks like:</p>
<p><code>opt/conda/condabin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games</code></p>
<p>the path when I log in as root is:</p>
<p><code>/opt/conda/bin:/opt/conda/condabin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin </code>
I followed this guide:
<a href=""https://www.pugetsystems.com/labs/hpc/Note-JupyterHub-with-JupyterLab-Install-using-Conda-1729/"" rel=""nofollow noreferrer"">https://www.pugetsystems.com/labs/hpc/Note-JupyterHub-with-JupyterLab-Install-using-Conda-1729/</a></p>
<p>using this symlink should set the path to conda when users log in:
<code>sudo ln -s /opt/conda/etc/profile.d/conda.sh /etc/profile.d/conda.sh</code></p>
<p>Any ideas how I can fix that? Could it be that an old conda or python installation is messing with my path?</p>
",91,0,<conda><jupyterhub>,2021-11-09 07:24:15
69888942,Interactive plotly boxplot with ipywidgets,"<p>I am trying to create an interactive boxplot with ipywidgets and Plotly.</p>
<p>I started by looking at <a href=""https://plotly.com/python/v3/figurewidget-app/"" rel=""nofollow noreferrer"">this example</a></p>
<p>While this is fine, I'd like to change the groupings of the boxplot based on a dropdown input.</p>
<p>With <code>interact</code> I can do this:</p>
<pre><code>import datetime
import numpy as np
import pandas as pd

import plotly.graph_objects as go
from ipywidgets import widgets

df = pd.read_csv(
 'https://raw.githubusercontent.com/yankev/testing/master/datasets/nycflights.csv')
df = df.drop(df.columns[[0]], axis=1)

from ipywidgets import interact

def view_image(col):
    fig = go.FigureWidget()
    for val in df[col].unique():
        groupData = df.query(f'{col} == &quot;{val}&quot;')
        fig.add_trace(
            go.Box(y = groupData['distance'],
                  name = val)
        )
    fig.show()
    

    
interact(view_image, col = ['origin', 'carrier'])

</code></pre>
<p>And the result is that I can change the column based on which the data is grouped.</p>
<p>However, I would like to have more control on the widgets, like in the official example.</p>
<p>This is what I am trying (and failing):</p>
<pre><code># Assign an empty figure widget with two traces
gdata = []
for origin in df.origin.unique():
    groupData = df.query(f'origin == &quot;{origin}&quot;')
    gdata.append(
        go.Box(y = groupData['distance'],
              name = origin)
    )
g = go.FigureWidget(data=gdata,
                    layout=go.Layout(
                        title=dict(
                            text='NYC FlightDatabase'
                        ),
                        barmode='overlay'
                    ))

def response_box(change):
    col = column.value
    with g.batch_update():
        gdata = []
        for val in df[col].unique():
            groupData = df.query(f'{col} == &quot;{val}&quot;')
            gdata.append(
                go.Box(y = groupData['distance'],
                      name = val)
            )
        g.data = gdata

column = widgets.Dropdown(
    options=['origin','carrier']
)
column.observe(response_box, 'value')
container2 = widgets.HBox([column])
widgets.VBox([container2,
              g])
</code></pre>
<p>Note that since I have new groupings, I cannot just go into <code>g.data[index].y</code> and change per index, but I have to re-generate the figure as in the <code>interact</code> function.</p>
<p>This particular iteration gives me a &quot;you cannot update data directly&quot; error. I tried in a few different ways, but I don't seem to find one that works.</p>
<p>Any idea?</p>
",894,2,<python><plotly><visualization><ipywidgets>,2021-11-08 19:30:17
69786771,JupyterLab ipywidget close one widget and display another on button click,"<p>I'm new to Jupyterlab and ipywidget (and might be missing some fundamentals).
<br>This seems to be simple, but I searched everywhere and could not find a way to do this.
<br>I just need to close widget A and display widget B on button click event (of widget A).
<br>This is what I have tried/need in simple terms.</p>
<pre><code>import ipywidgets
from IPython.display import display

buttonA_widget = ipywidgets.Button(description='Button A')
buttonB_widget = ipywidgets.Button(description='Button B')

display(buttonA_widget)

def switchMode(x):
    buttonA_widget.close()
    display(buttonB_widget)

buttonA_widget.on_click(switchMode)
</code></pre>
<p><br>When I tried above, buttonA get disappear, but second display call does not get executed
<br>and I don't get any error messages (trying this on Jetson Nano).
<br>Thanks in advance...</p>
",699,1,<python><jupyter-lab><ipywidgets>,2021-10-31 12:13:13
69785594,Binding Ipywidgets value to a variable,"<p>I am using ipywidgets to take user inputs in Jupyter Notebook. Below, I put the code for most two frequent types I am using:</p>
<pre><code>import ipywidgets as widgets

widgets.BoundedIntText(
    min=0,
    max=90,
    step=1,
    description='Surface Tilt (in °)',
    disabled=False
)

widgets.RadioButtons(
    options=['South', 'East-West'],
    description='Orientation',
    disabled=False
)
</code></pre>
<p>However, I can't figure out from the documentation, how can I save the user input to a variable so I can use it next cells.</p>
<p>Any help or alternative solutions/packages to facilitate will be appreciated.</p>
<p>Best,</p>
<p>Debayan</p>
",503,1,<jupyter-notebook><ipython><ipywidgets>,2021-10-31 09:40:43
69763272,"I installed a jupyterhub on my remote server, but when I access it, it shows jupyter notebook, not jupyter lab","<p>I have added <code>c.Spawner.cmd = ['jupyter-labhub', '--notebook-dir', '/mnt/home']</code> in jupyter_config.py</p>
<p>I want this:</p>
<p><img src=""https://i.stack.imgur.com/edsnS.png"" alt=""enter image description here"" /></p>
<p>but it show me this：</p>
<p><img src=""https://i.stack.imgur.com/P9gj4.png"" alt=""enter image description here"" /></p>
",224,0,<jupyterhub>,2021-10-29 03:24:20
69740699,Show name+coordinates when mouse is hovering a scatterplot,"<p>I have a DataFrame with columns ['country', 'year', 'population'] displayed on a scatter plot. One point per country, with year on the x-axis and y on the y-axis.</p>
<p>I want to use ipwidgets (strict requirement) to show the country name, the year and population whenever the mouse is over a dot.</p>
<p>It does not have to be on the chart, but would be nice if it is. And I am using jupyter-notebook.</p>
<p>As mimimal example, you can use:</p>
<pre><code>import pandas as pd
import io
import matplotlib.pyplot as plt
%matplotlib inline

df = pd.read_csv(io.StringIO('''Country,Year,Population
India,1950,357561
India,2000,1008937
India,2015,1230484
India,2025,1351801
India,2050,1572055
China,1950,554760
China,2000,1275133
China,2015,1410217
China,2025,1470787
China,2050,1462058
USA,1950,157813
USA,2000,283230
USA,2015,321225
USA,2025,346822
USA,2050,397063'''), sep=',')

plt.scatter(df['Year'], df['Population'])
</code></pre>
",70,0,<matplotlib><jupyter-notebook><ipywidgets><mplcursors>,2021-10-27 14:39:01
69738609,How put the google raster layer to the widgets?,"<p><a href=""https://i.stack.imgur.com/36Vwq.png"" rel=""nofollow noreferrer"">enter image description here</a>1.How put the google raster layer to the  widgets?
I tried to add name of raster layer to the widget, but It doesn't work. I tried but nothing happened.</p>
<pre><code># widget
select_widget=ipywidgets.Select(
    options=['Open Street Map', 'Terrain', 'Toner', 'Watercolor', 'Positron', 'Dark Matter''Google Maps'],
    value='Open Street Map',
    description='Map Type:',
    disabled=False)


# map
Map_issues = folium.Map(location=[37.0902,-95.7129], zoom_start=6,title = 'Open Street Map')
# add layer control to show different maps
# add tiles to map
folium.raster_layers.TileLayer(
        tiles = 'https://mt1.google.com/vt/lyrs=m&amp;x={x}&amp;y={y}&amp;z={z}',
        attr = 'Google',
        name = 'Google Maps',
        overlay = True,
        control = True).add_to(Map_issues)
folium.raster_layers.TileLayer(
        tiles = 'https://mt1.google.com/vt/lyrs=y&amp;x={x}&amp;y={y}&amp;z={z}',
        attr = 'Google',
        name = 'Google Satellite',
        overlay = True,
        control = True).add_to(Map_issues)
folium.raster_layers.TileLayer('Open Street Map').add_to(Map_issues)
folium.raster_layers.TileLayer('Stamen Terrain').add_to(Map_issues)
folium.raster_layers.TileLayer('Stamen Toner').add_to(Map_issues)
folium.raster_layers.TileLayer('Stamen Watercolor').add_to(Map_issues)
folium.raster_layers.TileLayer('CartoDB Positron').add_to(Map_issues)
folium.raster_layers.TileLayer('CartoDB Dark_Matter').add_to(Map_issues)
</code></pre>
<p>How it looks</p>
",61,0,<folium><ipywidgets>,2021-10-27 12:23:10
69727061,FileUpload ipywidget: how to specify initial directory?,"<p>I am using a <code>FileUpload</code> ipywidget in Jupyter, and want to specify the starting directory. Right now I have this:</p>
<pre><code>import ipywidgets as widgets
my_widget = widgets.FileUpload(accept='.json', multiple=False)
</code></pre>
<p>After googling, and looking at the source code, I am not seeing how to specify the initial directory that will open when the user clicks the widget. On the workstations we use at work, things can be particularly labyrinthine so it will save a lot of time if I can add this as an argument.</p>
<p>I'm open to other simple options than using ipywidgets for exploring directories/loading files within Jupyter, but it does work very well generally.</p>
<p>If it matters, I'm in Windows 10.</p>
",659,1,<jupyter-notebook><ipywidgets>,2021-10-26 16:49:02
69702872,Save file locally in jupyterhub notebook running on EMR cluster,"<p>When using Jupyterhub application interface (via SSH tunneling) on Amazon EMR, the default file explorer says <code>/user/jovyan/tree</code>. What directory is this and how can I save a file (say a matplotlib figure) from within the notebook to this local space? The usual tricks like</p>
<pre><code>os.chdir(sys.path[0])
print(os.getcwd())
</code></pre>
<p>show <code>/mnt/tmp</code>, which does not actually appear to be the local directory.</p>
",725,1,<python><pyspark><jupyter-notebook><amazon-emr><jupyterhub>,2021-10-25 04:25:35
69661831,How do I set logo and launchers in Jupyterlab and Jupyterhub?,"<p>I'm trying to customize Jupyterhub and Jupyterlab my goal is to remove/change Logos and Launchers.</p>
<p>Questions are:</p>
<ul>
<li>For Jupyterhub I'm trying to remove the logo setting c.Jupyterhub.logo_file to none, that's an option on jupyterhub_config.py near spawner_class. Is it possible?</li>
<li>How do I remove Jupyterlab Launcher? I already tryed to remove this feature using jupyter labextension disable @jupyterlab/launcher-extension while building the image but it didn't worked.</li>
</ul>
",780,0,<jupyter-lab><jupyterhub>,2021-10-21 12:16:47
69653592,ipywidgets working in JupyterLab but do not appear in Voila,"<p>Ok, this is my first post.</p>
<p>I've been working on building a dashboard for my students, to let them work with economic models interactively. I've used JupyterLab for years and have some experience with ipywidgets. Recently while looking for a way to make my code shareable I ran into Voila, which seems like an excellent way to dashboard directly from a notebook.</p>
<p>Here's the problem I'm running into: I have widgets running just fine in JupyterLab but when I render them with Voila (both the extension and from the cli) the widgets do not appear. I tried using a few other packages: ipyleaflet does not appear either, but plotly and pandas printouts do.</p>
<p>I haven't been able to find similar cases so any help would be appreciated.</p>
<p>And for context, I'm running the latest version of JupyterLab on Zorin OS, and have reproduced the issue in Chrome and Firefox, with both Jupyter Lab and Notebook.</p>
",499,0,<jupyter-lab><ipywidgets><voila><ipyleaflet>,2021-10-20 22:08:06
69653050,Printing multiple values in a single cell instead of separate cells,"<p>The question and my problem is as follows;</p>
<blockquote>
<p>define a python function f(x) = ln(x) + x^2 - 1 and print the output for f(1.00001), f(0.5) and f(10^-10)</p>
</blockquote>
<p>I can print the output for each of these separately but can't produce it so that I can print the 3 outputs in the same cell without producing 3 separate cells with the 3 values of x.</p>
<p>My code is currently as follows:</p>
<pre><code>import numpy as np 
def f(x):
    y = np.log(x) + x**2 - 1
    return y 
x = 0.5
f(x)
</code></pre>
",295,-1,<python><jupyter-notebook><jupyterhub>,2021-10-20 21:08:00
69650153,Cancel Jupyter execution from ipywidget,"<p>I would like to create a button ipywidget that allows to stop an execution when clicking on a cancel button in Jupyter.
I have seen several examples (including <a href=""https://ipywidgets.readthedocs.io/en/latest/examples/Widget%20Asynchronous.html"" rel=""nofollow noreferrer"">this</a>) but they all require to be able to modify the function being ran by the process itself.</p>
<p>This sounds rather simple, but I am beginning to think that this is not possible. However, my lack of understanding of multiprocesses might just the reason behind my frustration.
None of the versions I have tried work. None actually runs my function (or maybe they do in the background) and none seems to successfully cancel the excecution.</p>
<p>So far I have tried:</p>
<p><strong>Option 1</strong></p>
<pre><code>import ipywidgets as widgets
from IPython.display import display
from functools import wraps
from time import sleep
from multiprocessing import Process as Thread


def stoppable_fun(stopper):
    def decorator(func):
        @wraps(func)
        def wrapper(*args, **kwargs):
            threaded_fun = Thread(target=func, args=args, kwargs=kwargs)
            threaded_fun.start()
            while threaded_fun.is_alive():
                print(&quot;alive&quot;)
                if not stopper.is_alive():
                    print(&quot;stopped&quot;, stopper.is_alive())
                    threaded_fun.terminate()
                sleep(0.05)
        return wrapper
    return decorator


cancel_button_ly = widgets.Layout(width=&quot;auto&quot;, visibility=&quot;hidden&quot;)
cancel_button = widgets.Button(description=&quot;Cancel&quot;, layout=cancel_button_ly)
cancel_flag = False


def cancel_button_event_handler(obj):
    print(&quot;Cancel&quot;)
    cancel_flag = True


cancel_button.on_click(cancel_button_event_handler)


def check_cancel(timeout):
    print(&quot;check def&quot;)
    i = 0
    while not cancel_flag and i &lt; timeout:
        print(&quot;checking&quot;)
        sleep(0.1)
        i += 0.1
        print(&quot;check&quot;, cancel_flag)


class CancelableButton(widgets.HBox):
    
    def __init__(self, *args, **kwargs):
        self.button = widgets.Button(*args, **kwargs)
        widgets.HBox.__init__(self, children=[self.button, cancel_button])

    def on_click(self, func, *args, **kwargs):

        def new_function(*args, **kwargs):
            self.button.disabled = True
            cancel_button_ly.visibility = &quot;visible&quot;
            sleep(0.5)
            thread_check_cancel = Thread(target=check_cancel, args=(10,))
            stoppable = stoppable_fun(thread_check_cancel)(func)
            try:
        
                thread_check_cancel.start()
                stoppable()
                print(&quot;is check alive?&quot;, thread_check_cancel.is_alive())
            except KeyboardInterrupt:
                print(&quot;Canceled!&quot;)
            finally:
                thread_check_cancel.terminate()
                cancel_button_ly.visibility = &quot;hidden&quot;
                self.button.disabled = False
                cancel_flag = False
        self.button.on_click(new_function, *args, **kwargs)
</code></pre>
<p><strong>Option 2</strong></p>
<pre><code>import ipywidgets as widgets
from IPython.display import display
from time import sleep
import multiprocessing

cancel_event = multiprocessing.Event()

def cancel_button_event_handler(obj):
    print(&quot;Cancelled&quot;)
    cancel_event.set()

cancel_button = widgets.Button(description=&quot;Cancel&quot;)
cancel_button.on_click(cancel_button_event_handler)

def func(obj):
    for i in range(10):
        print(&quot;Runing calculation&quot;, i)
        sleep(0.5)

threaded_func = multiprocessing.Process(target=func)

def new_function(obj):
    threaded_func = multiprocessing.Process(target=func)
    threaded_func.start()
    while threaded_func.is_alive():
        print(&quot;alive&quot;)
        sleep(0.1)
        if cancel_event.is_set():
            print(&quot;cancelled&quot;)
            threaded_func.terminate()
    cancel_event.clear()

button = widgets.Button(description=&quot;Calculate&quot;)
button.on_click(new_function)

display(button)
display(cancel_button)
</code></pre>
<p><strong>Option 3</strong></p>
<pre><code>import ipywidgets as widgets
from IPython.display import display
from functools import wraps
from time import sleep
import multiprocessing


class CancelableButton(widgets.HBox):

    def __init__(self, func):
        self.cancel_button = widgets.Button(description=&quot;Cancel&quot;)
        self.button = widgets.Button(description=&quot;Calculate&quot;)
        widgets.HBox.__init__(self, children=[self.button, self.cancel_button])

    def on_click(self, func):

        def new_function(obj):
            threaded_func = multiprocessing.Process(target=func)

            def cancel_button_event_handler(obj):
                print(&quot;Cancelled&quot;)
                threaded_func.terminate()

            self.cancel_button.on_click(cancel_button_event_handler)
            self.button.disabled = True
            try:
                print(&quot;Start&quot;)
                threaded_func.start()
                print(&quot;Calculating&quot;, threaded_func.is_alive())
                threaded_func.join()
                print(&quot;Done&quot;, threaded_func.exitcode)
            finally:
                self.button.disabled = False

        self.button.on_click(new_function)


btn_ly = widgets.Layout(width=&quot;auto&quot;)

def func(obj):
    for i in range(10):
        print(&quot;Runing calculation&quot;, i)
        sleep(0.5)

btn = CancelableButton(func)
btn_o = widgets.Output()
display(btn, btn_o)

btn.on_click(func)
</code></pre>
<p>Any help either clarifying what I am doing wrong, or why it is impossible to achieve what I am trying would be highly appreciated.</p>
",76,0,<python><jupyter><python-multiprocessing><python-multithreading><ipywidgets>,2021-10-20 16:55:00
69633438,How to switch to R kernel from Python kernel in Jupyter?,"<p>I converted an R markdown file(no Python code in it) into an .ipynb file referring to <a href=""https://stackoverflow.com/a/57796157/3552975"">this answer</a>:</p>
<blockquote>
<p>use <code>jupytext --to notebook script.Rmd</code> to create <code>script.ipynb</code></p>
</blockquote>
<p>But when I open the <code>script.ipynb</code> in Jupyter I found that the kernel is python3:</p>
<p><a href=""https://i.stack.imgur.com/0j2ji.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/0j2ji.png"" alt=""enter image description here"" /></a></p>
<p>It seems that there is no method for me to switch from Python3 kernel to R, eventhough I can create an R environment in the same Jupyter notebook.</p>
<p><a href=""https://i.stack.imgur.com/ZpbPE.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/ZpbPE.png"" alt=""enter image description here"" /></a></p>
<p>Any way to switch the .ipynb file to run in the R environment?</p>
<p>I tried many % or %% commands but all failed.</p>
<p>I tried <code>%%R</code> and here is the error:</p>
<blockquote>
<p>UsageError: Cell magic <code>%%R</code> not found.</p>
</blockquote>
<p>and I also tried <code>%load_ext rpy2.ipython</code>, and the error reads that:</p>
<blockquote>
<p>ModuleNotFoundError                       Traceback (most recent call last)
 in 
----&gt; 1 get_ipython().run_line_magic('load_ext', 'rpy2.ipython')</p>
</blockquote>
",466,0,<python><r><jupyter-notebook><jupyter-irkernel>,2021-10-19 15:11:43
69603017,"In an ipywidgets tab, how do I switch to another tab from python?","<p>I want to switch to another tab from code when some action is completed in jupyter lab, the documentation is rather sparse!  Surely there is some method on a tab / accordian etc, where I can make it switch rather than making the user click on the tab?</p>
<pre><code>import ipywidgets as widgets

def goto_tab2(btn):    
    tab2.children[0].value='Been there'
    tabset.switch_tab(1) # what is the method to call here?

def goto_tab1(btn):
#    tabset.switch_tab(0)
    pass
    
tab1 = widgets.VBox([widgets.Text(), widgets.Button(description='set name')])
tab1.children[1].on_click(goto_tab2)

tab2 = widgets.VBox([widgets.Text(), widgets.Button(description='GO BACK!', on_click=goto_tab1)])
tab2.children[1].on_click(goto_tab1)

tabset=widgets.Tab([tab1, tab2])

tabset.set_title(0, 'Tab1')
tabset.set_title(1, 'Tab2')

tabset

</code></pre>
",319,1,<python><tabs><ipywidgets>,2021-10-17 09:38:03
69525056,How to display ipython widgets after calling .close() one them,"<p>I am working on a data visualisation dashboard using ipython widgets and I am trying to establish a continuous flow. My problem is that once I call <code>widget.close()</code> for some <code>widget</code>, calling <code>display(widget)</code> no longer does anything.</p>
<p>My plan would be start all over once the <code>clearOutputButton</code> is clicked. Does someone know what's causing this?</p>
<hr />
<p>Cut down version of my code as it uses database calls:</p>
<pre><code>import ipywidgets as widgets
from IPython.display import display

orgs_list = [&quot;org_1&quot;, &quot;org_2&quot;]

selectOrg = widgets.Dropdown(options = orgs_list)
selectDays = widgets.IntSlider(min = 7, max = 90, value = 30, step = 1)

submitOrgButton = widgets.Button(description = 'Submit', button_style='info', tooltip = &quot;Click here to submit&quot;)
submitUserButton = widgets.Button(description = 'Submit', button_style='info', tooltip = &quot;Click here to submit&quot;)
submitDaysButton = widgets.Button(description = 'Submit', button_style='info', tooltip = &quot;Click here to submit&quot;)
clearOutputButton = widgets.Button(description='New Query', button_style='info', tooltip='Make another query')



def submitOrgHandler(obj):
    print(f&quot;Selected {selectOrg.label.upper()}&quot;)
    selectOrg.close()
    submitOrgButton.close()
    org_id = selectOrg.value
    user_emails = [&quot;user_email_1&quot;, &quot;user_email_2&quot;]
    user_ids = [&quot;user_id_1&quot;, &quot;user_id_2&quot;]
    user_tuples = [(email, _id) for email, _id in zip(user_emails, user_ids)]
        
    global selectUser
    selectUser = widgets.Dropdown(options = user_tuples)
    
    print(&quot;Please select a user:&quot;)
    display(selectUser)
    display(submitUserButton)

def submitUserHandler(obj):
    print(f&quot;Selected {selectUser.label}&quot;)
    selectUser.close()
    submitUserButton.close()
    print(&quot;Please select a timespan:&quot;)
    display(selectDays)
    display(submitDaysButton)

def submitMetricHandler(obj):
    print(f&quot;Selected timespan: {selectDays.value} days \n&quot;)
    n_days = selectDays.value
    selectDays.close()
    submitDaysButton.close()
    print(f'Displaying information in the last {selectDays.value} days for {selectUser.label}...')
    user_email = selectUser.label
    
    # Do some plotting here
    print(&quot;{Plot goes here!}&quot;)

    display(clearOutputButton)
    
def clearOutputHandler(obj):
    clear_output()

    print(&quot;Please select an organisation, a user and a timespan:&quot;)
    display(selectOrg)
    display(submitOrgButton)

print(&quot;Please select an organisation, a user and a timespan:&quot;)
display(selectOrg)
display(submitOrgButton)

submitOrgButton.on_click(submitOrgHandler)
submitUserButton.on_click(submitUserHandler)
submitDaysButton.on_click(submitMetricHandler)
clearOutputButton.on_click(clearOutputHandler)
</code></pre>
",252,2,<python><jupyter-notebook><ipywidgets>,2021-10-11 10:55:21
69466482,ipywidget Combobox widget got triggered as typing,"<p>I am using Combobox widget and have that widget observe on a give function call. However the issue I ran into, is as I/user type the &quot;input&quot; in the combobox, the function got called multiple times.
Ideally I would only want the Observe function be called <strong>after</strong> I complete the input and press &quot;enter&quot;.</p>
<p>Here is an example:</p>
<pre><code>example_widget = widgets.Combobox( options = ['A','A1','A10','A101'], 
ensure_option = True, description ='Example')
</code></pre>
<p>and here is the observe; call back</p>
<pre><code>example_widget.observe(foo, 'value')
def foo(,_):
    print('call back got triggered')
</code></pre>
<p>so as one type &quot;A10&quot; progressively, the call back was triggered three times, namely as A, A1, A10 were typed.</p>
<p>The ideal behaviour is that I input A10, and then press &quot;enter&quot;, the call back function foo() only got executed once.</p>
<p>Thanks</p>
<p><a href=""https://i.stack.imgur.com/z1B6Q.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/z1B6Q.png"" alt=""enter image description here"" /></a></p>
",146,2,<combobox><ipywidgets>,2021-10-06 13:17:18
69452318,"With ipywidgets, how to close the tab containing the button that is pressed?","<p>With Jupyter notebook and ipywidgets, I created a list of tabs, each tab contains a button.
I would like that when a button is pressed, it closes its tab, leaving the rest of the abs untouched.
I have tried the following but it does not work as the function close_on_click is always associated to the last tab.</p>
<pre><code>import ipywidgets as widgets
from ipywidgets import HBox, VBox
import numpy
import matplotlib.pyplot as plt
from IPython.display import display
%matplotlib inline

tabs = []

for k in range(10):
    
    wg_name = widgets.Text(
        value=str(k),
        placeholder='Index',
        description='Name:',
        disabled=False
    )
    
    wg_close = widgets.Button(
        description='Close tab',
    )
        
    tabs.append(VBox(children=[wg_name, wg_delete]))

    @wg_close.on_click
    def close_on_click(b):
        tab[k].close()
        
main_tab = widgets.Tab(children=tabs)
for k in range(10):
    main_tab.set_title(k, str(k))
main_wg = VBox(children=[main_tab])

display(main_wg)
</code></pre>
",295,0,<python><jupyter-notebook><ipywidgets>,2021-10-05 14:29:56
69359220,"Add event listener to VegaWidget in Jupyter for getting selected data ""out"" of vega","<p>I would like to combine two VegaWidgets graphics in a Jupyter notebook for overview and detail, where one can make a brush selection in the overview graphic, the selected data items are processed in Python and then displayed in the detail graphic.</p>
<p>Is it possible to add a listener to a Vega signal or a mouse listener to an ipyvega widget?</p>
<p>What I found so far, are event listeners for</p>
<ul>
<li><a href=""https://github.com/vega/ipyvega/blob/master/notebooks/Widget.ipynb"" rel=""nofollow noreferrer"">getting data from a ipywidgets button into Vega</a> (the reverse way)</li>
<li><a href=""https://stackoverflow.com/questions/35300914/can-we-add-event-listeners-to-vega-lite-specification/52865102"">vega-embed in a normal webpage with JavaScript</a></li>
<li><a href=""https://observablehq.com/@mbostock/observing-vega-signals"" rel=""nofollow noreferrer"">Observable</a></li>
<li><a href=""https://rdrr.io/cran/vegawidget/man/shiny-getters.html"" rel=""nofollow noreferrer"">R Shiny</a></li>
</ul>
",62,1,<python><jupyter><ipywidgets><vega>,2021-09-28 09:34:35
69330973,List of values as input to interactive plot,"<p>I want some variable value to define the number of possible user inputs to an interactive plot. I have tried using ipywidgets, but no success. Below is a simple example of what i would like to do:</p>
<pre><code>from ipywidgets import interactive

def p_(w1=1,w2=1,h1=1,h2=1):
    plt.bar([w1,w2], [h1,h2])
    
interactive_plot = interactive(p_,w1=(0,10,1),h1=(0,10,1),w2=(0,10,1),h2=(0,10,1))
interactive_plot
</code></pre>
<p>So this gives me two bars in the plot and I can change the width (w) and height (h) for each of them individually. However, I would like to rewrite this so that I do not need to manually add w1,w2,h1,h2 etc, since the number of variables might change. So the function should just be:</p>
<pre><code>def p_(w,h):
    plt.bar(w,h)
</code></pre>
<p>But how do I communicate to the interactive plot how many variables are in w and h?</p>
",145,0,<python><interactive><ipywidgets>,2021-09-26 00:27:16
69303723,What is the fastest way to create 30_000 Widget objects?,"<p>I need to initialize a list of 30'000 Widget objects.
The below benchmarking shows that it takes 42 seconds.
Is there a faster way to do this?</p>
<pre><code>from ipywidgets import Widget
import timeit
my_rep = lambda n: [Widget() for i in range(n)]

n_rep = 1_000 # 1.34 seconds
# n_rep = 5_000 # 6.88 seconds
# n_rep = 30_000 # 42 seconds

timeit.timeit(lambda: my_rep(n_rep), number=1) # increase &quot;number=1&quot; for more accurate estimate
</code></pre>
",31,0,<jupyter><ipywidgets>,2021-09-23 16:26:47
69298789,How to input value based on radio button change in Jupyter notebook?,"<p>I need to get user input based on the radio button option selected. I want the function to be triggered on radio button changed. It works but when I add <strong>input</strong> to get response from user, it throws an error.</p>
<pre><code>import ipywidgets as widgets
from IPython.display import display

questions=widgets.RadioButtons(
    options=['YES', 'NO'],
    value=None,
    description='Search By:',
    disabled=False)


def bind_selected_to_output1(sender): 

        selected_option=questions.value
        ##here input from user is required that will be later used. 
        input_value=input(&quot;Please Enter a valid number&quot;)
        print('Selected option set to: ' + selected_option+input_value) # For test purposes
        
        
questions.observe(bind_selected_to_output1, names=['value'])
questions
</code></pre>
",755,1,<python><jupyter-notebook><widget><ipywidgets>,2021-09-23 11:04:41
69269184,How to add column names to ipysheet without using pandas data frame?,"<p>Here we are getting by default A,B as column names, how to override column names and write our own column names</p>
<pre><code>import ipysheet
from ipysheet import sheet, cell
sheet1 = sheet()
cell(0,0,10);
cell(1,1,100);
cell(2,2,1000);
cell(3,3,&quot;Hello&quot;);
sheet1
</code></pre>
",478,0,<python><jupyter-notebook><widget><ipython><ipywidgets>,2021-09-21 12:49:30
69266264,Jupyterhub SwarmSpawner select worker node,"<p>I have set a docker swarm with multiple worker nodes.<br />
My current Jupyterhub setup with SwarmSpawner works fine, I am able to deploy single-user docker images based on user-selected image before spawning the image, using <code>_options_form_default</code> in my <code>jupyterhub_config.py</code>.<br />
What I would like now is to give users the possibility to select the swarm worker node name (hostname) on which he would like to spawn his single-user JupyterHub image, because our worker nodes have different types of hardware specs (GPUs, RAM, processors etc) and users know in advance the name of the host he would like to use.<br />
Is it possible to determine the node on which to spawn the image ?</p>
<p>My current swarm has for example 1 master node: &quot;master&quot; and 3 worker nodes: &quot;node1&quot;, &quot;node2&quot;, &quot;node3&quot; (those are their hostnames, as it appears in the column <code>HOSTNAME</code> in the output of the command <code>docker node ls</code> on the master node).</p>
<p>So what I would like is that, just as it appears in the image below, users have a dropdown selection of the swarm worker nodes hostnames on which they would like to spawn their jupyterhub image, with a question such as: &quot;Select the server name&quot;.</p>
<p><a href=""https://i.stack.imgur.com/ke9Vg.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/ke9Vg.png"" alt=""enter image description here"" /></a></p>
",163,0,<docker><jupyter-notebook><docker-swarm><jupyterhub>,2021-09-21 09:08:17
69253919,How to add data in newly added row in ipysheet?,"<p>When I click on add row button Iam able to add new row but how to add data to that new row, Iam using data frames here ?
Please find the executable code</p>
<pre><code>import qgrid,ipysheet
from ipywidgets import widgets
import numpy as np
import pandas as pd

#qgrid.show_grid(df,show_toolbar=True)

random_data = [['ABC','DEF','GHI'],
 [0.69494459,0.90502388,0.13374771],
 [0.89609645,0.66166011,0.12123602],
 [0.51229257,0.57240808,0.25482961],
 [0.25478973,0.08438657,0.76977642]]

df = pd.DataFrame(random_data, columns=[&quot;Col1&quot;, &quot;Col2&quot;, &quot;Col3&quot;])  
sheet = ipysheet.from_dataframe(df)
btn = wg.Button(description = 'Add Row')    
def on_bttn_clicked(b):  
    sheet.rows += 1

btn.on_click(on_bttn_clicked)

display(btn,sheet)
</code></pre>
",314,1,<python><pandas><jupyter-notebook><widget><ipywidgets>,2021-09-20 11:47:53
69209008,"JupyterHub ""400 : Bad Request OAuth state missing from cookies"" generic authentication","<p>I am trying to deploy a jupyterhub service behind a NGINX reverse proxy on OpenStack and using the generic authentication class to authenticate users from an external OIDC provider. After redirecting from the authentication server I get a &quot;400: Bad Request  OAuth state missing from cookies&quot; error message. Here are my jupyterhub_config.py contents:</p>
<pre><code>c = get_config()
import os
# use Generic OAuthenticator for local users
from oauthenticator.generic import GenericOAuthenticator

c.Application.log_level = 'DEBUG'

c.JupyterHub.authenticator_class = GenericOAuthenticator
c.GenericOAuthenticator.client_id =  os.environ['IAM_CLIENT_ID']
c.GenericOAuthenticator.client_secret = os.environ['IAM_CLIENT_SECRET']
c.GenericOAuthenticator.token_url = os.environ['OAUTH2_TOKEN_URL']
c.GenericOAuthenticator.userdata_url = 'https://iam-escape.cloud.cnaf.infn.it/userinfo'
c.GenericOAuthenticator.authorize_url = os.environ['OAUTH2_AUTHORIZE_URL']
#c.OAuthenticator.tls_verify = False
c.GenericOAuthenticator.userdata_method = 'GET'
c.GenericOAuthenticator.userdata_params = {'state': 'state'}
c.GenericOAuthenticator.username_key = &quot;preferred_username&quot;
c.GenericOAuthenticator.login_service = 'ESCAPE IAM'
c.GenericOAuthenticator.scope = ['openid', 'profile']
c.GenericOAuthenticator.oauth_callback_url = os.environ['OAUTH_CALLBACK_URL']
#************** Port and IP settings
# the hostname/ip that should be used to connect to the hub
# this is usually the hub container's name
#*************Spawner settings
# pick a docker image. This should have the same version of jupyterhub
# in it as our Hub.
# launch with docker
c.JupyterHub.spawner_class = 'jhub.SwarmSpawner'
c.JupyterHub.hub_ip = '0.0.0.0'
c.JupyterHub.bind_url = 'http://jhub:8000'
#Introduce the name of the jupyterhub service is given in docker-compose to the jupyterhub
c.SwarmSpawner.jupyterhub_service_name = 'jhub'
#Introduce the defined network given in the compose file to the jupyterhub
c.SwarmSpawner.networks = [&quot;jhub_net&quot;]

# Available docker images the user can spawn
c.SwarmSpawner.images = [
    {'image': 'jupyter/scipy-notebook:latest',
     'name': 'scipy notebook',
     'placement': {'constraints': ['node.hostname==r3b-notebook']}},
    }
]

c.SwarmSpawner.spawn_timeout = 60
# Before the user can select which image to spawn,user_options has to be enabled
c.SwarmSpawner.use_user_options = True
c.JupyterHub.shutdown_on_logout = True
# debug-logging for testing
import logging
c.JupyterHub.log_level = logging.DEBUG

</code></pre>
<p><strong>and my nginx config file:</strong></p>
<pre><code>user www-data;
worker_processes auto;
pid /run/nginx.pid;
include /etc/nginx/modules-enabled/*.conf;

events {
    worker_connections 1024;
}

http {

    map $http_upgrade $connection_upgrade {
        default upgrade;
        ''      close;
    }

         server {
            listen 80 ssl;
            server_name HUB.DOMAIN.TLD;
#           ssl on;
            ssl_certificate /etc/nginx/ssl/myssl.crt;
            ssl_certificate_key /etc/nginx/ssl/myssl.key;

            ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
            ssl_prefer_server_ciphers on;
            ssl_session_cache shared:SSL:50m;
            ssl_session_timeout 1d;
            ssl_stapling on;
            ssl_stapling_verify on;
            add_header Strict-Transport-Security max-age=15768000;
            resolver_timeout 5s;

            # Expose logs to &quot;docker logs&quot;.
            # See https://github.com/nginxinc/docker-nginx/blob/master/Dockerfile#L12-L14
            access_log /var/log/nginx/access.log;
            error_log /var/log/nginx/error.log;

            location / {
            proxy_pass       http://jhub:8000;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header Host $host:$server_port;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
#
            proxy_http_version    1.1;
            proxy_set_header      Upgrade $http_upgrade;
            proxy_set_header      Connection $connection_upgrade;
            proxy_set_header X-Scheme $scheme;
            proxy_buffering off;
            }
        }

}

</code></pre>
<p><strong>The error message in the browser is as follow:</strong></p>
<pre><code>HTTP/1.1 400 Bad Request
Server: nginx/1.19.6
Date: Thu, 16 Sep 2021 12:54:51 GMT
Content-Type: text/html
Content-Length: 4365
Connection: keep-alive
x-jupyterhub-version: 1.2.1
access-control-allow-headers: accept, content-type, authorization
content-security-policy: frame-ancestors 'self'; report-uri /hub/security/csp-report
set-cookie: oauthenticator-state=&quot;&quot;; expires=Wed, 16 Sep 2020 12:54:51 GMT; Path=/
</code></pre>
<p><strong>and a bunch of warnings:</strong></p>
<pre><code>Cookie “oauthenticator-state” will be soon rejected because it has the “SameSite” attribute set to “None” or an invalid value, without the “secure” attribute. To know more about the “SameSite“ attribute, read https://developer.mozilla.org/docs/Web/HTTP/Headers/Set-Cookie/SameSite oauth_callback
Cookie “oauthenticator-state” has been rejected because it is already expired. oauth_callback
Strict-Transport-Security: The connection to the site is untrustworthy, so the specified header was ignored.
style.min.css
This page uses the non standard property “zoom”. Consider using calc() in the relevant property values, or using “transform” along with “transform-origin: 0 0”. oauth_callback
Strict-Transport-Security: The connection to the site is untrustworthy, so the specified header was ignored.
bootstrap.min.js
Strict-Transport-Security: The connection to the site is untrustworthy, so the specified header was ignored.
require.js
Strict-Transport-Security: The connection to the site is untrustworthy, so the specified header was ignored.
jquery.min.js
Strict-Transport-Security: The connection to the site is untrustworthy, so the specified header was ignored.
favicon.ico
</code></pre>
<p>I am using Jupyterhub version 1.2.1 and nginx 1.19.6 and all the services are running in the Docker container in Swarm mode. However, I have tried the simplest scenario with only a jupyterhub without nginx proxy and with docker spawner and the problem remains as it is. I will appreciate any idea of how to tackle this issue to find a solution.</p>
",989,0,<docker><cookies><oauth-2.0><jupyter><jupyterhub>,2021-09-16 13:05:25
69167951,How to use the information that is entered in Jupyter Widgets-Date picker?,"<p>Im looking how can I use the information (in this case date) that is entered in Jupyter Widgets-Date picker.  My code below creates a widget where I can select the date.</p>
<pre><code>import ipywidgets as widgets
w=widgets.DatePicker(
    description='Pick a Date',
    disabled=False
)
w
</code></pre>
<p><a href=""https://i.stack.imgur.com/XAYi0.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/XAYi0.png"" alt=""enter image description here"" /></a></p>
<p>How can I use the date that is selected in the widget?</p>
",1154,0,<jupyter-notebook><ipywidgets>,2021-09-13 19:11:13
69109879,Jupyter notebook does not connect to kernel ever,"<p>Win 10 x64 Python 3.8 Anaconda</p>
<p>I created a conda virtual environment, activated the environment &amp; installed ipykernel and Jupyter with <code>pip install jupyter ipykernel</code></p>
<p>No issues, installed fine. Started a notebook by typing <code>jupyter notebook</code> at the command prompt.</p>
<p>Server page opens (Firefox), click on new Python 3 (ipykernel) &amp; the new notebook opens but never connects to the kernel.</p>
<p>In the console I get the following (on repeat)...</p>
<pre><code>     import win32api
ImportError: DLL load failed while importing win32api: The specified module could not be found.
[W 21:52:45.493 NotebookApp] Replacing stale connection: c3d919e4-1d9d-482b-b3cc-d6bd8f1dde68:727c04bcf32b4ed7b38b8198f457fcb1
[W 21:53:07.534 NotebookApp] Replacing stale connection: c3d919e4-1d9d-482b-b3cc-d6bd8f1dde68:727c04bcf32b4ed7b38b8198f457fcb1
[W 21:53:24.493 NotebookApp] Timeout waiting for kernel_info reply from c3d919e4-1d9d-482b-b3cc-d6bd8f1dde68
[I 21:53:24.509 NotebookApp] Starting buffering for c3d919e4-1d9d-482b-b3cc-d6bd8f1dde68:727c04bcf32b4ed7b38b8198f457fcb1
[I 21:53:24.509 NotebookApp] Restoring connection for c3d919e4-1d9d-482b-b3cc-d6bd8f1dde68:727c04bcf32b4ed7b38b8198f457fcb1
[W 21:53:29.050 NotebookApp] Nudge: attempt 10 on kernel c3d919e4-1d9d-482b-b3cc-d6bd8f1dde68
[W 21:53:34.083 NotebookApp] Nudge: attempt 20 on kernel c3d919e4-1d9d-482b-b3cc-d6bd8f1dde68
[W 21:53:39.119 NotebookApp] Nudge: attempt 30 on kernel c3d919e4-1d9d-482b-b3cc-d6bd8f1dde68
[W 21:53:44.161 NotebookApp] Nudge: attempt 40 on kernel c3d919e4-1d9d-482b-b3cc-d6bd8f1dde68
[W 21:53:49.246 NotebookApp] Nudge: attempt 50 on kernel c3d919e4-1d9d-482b-b3cc-d6bd8f1dde68
[W 21:53:54.345 NotebookApp] Nudge: attempt 60 on kernel c3d919e4-1d9d-482b-b3cc-d6bd8f1dde68
[W 21:53:59.363 NotebookApp] Nudge: attempt 70 on kernel c3d919e4-1d9d-482b-b3cc-d6bd8f1dde68
[W 21:54:04.383 NotebookApp] Nudge: attempt 80 on kernel c3d919e4-1d9d-482b-b3cc-d6bd8f1dde68
[W 21:54:09.402 NotebookApp] Nudge: attempt 90 on kernel c3d919e4-1d9d-482b-b3cc-d6bd8f1dde68
[W 21:54:14.502 NotebookApp] Nudge: attempt 100 on kernel c3d919e4-1d9d-482b-b3cc-d6bd8f1dde68
[W 21:54:19.520 NotebookApp] Nudge: attempt 110 on kernel c3d919e4-1d9d-482b-b3cc-d6bd8f1dde68
[I 21:54:24.295 NotebookApp] Saving file at /Untitled1.ipynb
[W 21:54:24.679 NotebookApp] Nudge: attempt 120 on kernel c3d919e4-1d9d-482b-b3cc-d6bd8f1dde68
[E 21:54:24.679 NotebookApp] Uncaught exception GET /api/kernels/c3d919e4-1d9d-482b-b3cc-d6bd8f1dde68/channels?session_id=727c04bcf32b4ed7b38b8198f457fcb1 (127.0.0.1)
    HTTPServerRequest(protocol='http', host='localhost:8888', method='GET', uri='/api/kernels/c3d919e4-1d9d-482b-b3cc-d6bd8f1dde68/channels?session_id=727c04bcf32b4ed7b38b8198f457fcb1', version='HTTP/1.1', remote_ip='127.0.0.1')
    Traceback (most recent call last):
      File &quot;d:\opencv\courses\beginers\opencv-env\lib\site-packages\tornado\websocket.py&quot;, line 956, in _accept_connection
        await open_result
      File &quot;d:\opencv\courses\beginers\opencv-env\lib\asyncio\tasks.py&quot;, line 349, in __wakeup
        future.result()
    tornado.util.TimeoutError: Timeout
</code></pre>
<p>I check to see if <code>pywin32</code> is installed in the environment, yes its there alright.</p>
<p>So I've basically gone through all such questions on SO going back at least 4 years.</p>
<p><strong>Things that DO NOT WORK!!!</strong></p>
<p>Downgrading Tornado does not work.</p>
<p>Changing proxy server settings does not work.</p>
<p>Copying <code>pywin32</code> DLLs over to the appropiate Windows folder does not work.</p>
<p>Uninstalling &amp; reinstalling Jupyter does not work.</p>
<p>Deleting the evironment &amp; starting again does not work.</p>
<p>Running Jupyter notebook from the same directory as the environment does not work.</p>
<p>Any takers?</p>
<p><strong>EDIT</strong></p>
<p>Jupyter works fine in the base environment without <code>ipykernel</code></p>
<p>What worked was <code>conda create -n myenv &quot;python=3.8&quot; jupyter</code>
It looks like the <code>pip</code> version doesnt like conda, see @foglerit's comments below.</p>
",2297,0,<python><jupyter-notebook><jupyter><conda><jupyter-irkernel>,2021-09-08 21:30:07
69106967,Jupyter matplotlib widget: place toolbar horizontally over plot?,"<p>Consider the following Jupyter notebook Python code:</p>
<pre class=""lang-py prettyprint-override""><code>%matplotlib widget
import matplotlib.pyplot as plt
from ipywidgets import widgets, Layout
from IPython.display import display

out_widget_plot = widgets.Output()
with out_widget_plot:
    with plt.style.context(&quot;default&quot;): # ggplot
        fig, (ax1) = plt.subplots(1, 1)

fig.suptitle('test title', fontsize=10) 
tline = ax1.plot([0,1,2], [10,20,30])
fig.tight_layout()

the_ui = widgets.VBox([ widgets.HTML(&quot;&lt;b&gt;Hello&lt;/b&gt;&quot;), out_widget_plot, widgets.HTML(&quot;&lt;b&gt;World&lt;/b&gt;&quot;),])
display(the_ui)
</code></pre>
<p>When I run this in a Jupyter notebook, I get:</p>
<p><a href=""https://i.stack.imgur.com/xZwco.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/xZwco.png"" alt=""jupyter-output"" /></a></p>
<p>The vertical toolbar seems to be outside of the matplotlib plot area itself. So my questions are:</p>
<ul>
<li>Can I somehow move the toolbar so it is over the matplotlib plot area - and it is laid out horizontally (as indicated on the image)?</li>
<li>Can I also move the &quot;x=... y=...&quot; bottom indicator, so it is also placed over the matplotlib plot area?</li>
</ul>
<hr />
<p>PS: Otherwise, I would also like to suppress the &quot;Figure 1&quot; title - but I guess this topic <a href=""https://stackoverflow.com/questions/59636600/removing-tool-bar-and-figure-title-when-using-jupyter-matplotlib"">Removing tool bar and figure title when using jupyter-matplotlib</a> answers that alerady ...</p>
",510,1,<python><matplotlib><jupyter-notebook><ipywidgets>,2021-09-08 16:50:27
69072561,How to change ipywidget animation speed during animation,"<p>I am using jupyter notebook to animate a marker that moves along an ant path. I am using ipyleaflet and ipywidgets.
I have added a slider widget (speed_slider) to my map, to allow me change the speed of the animation. My animation is using a for loop code as shown in below code.</p>
<pre><code>for i in ant_path.locations:
    mark.location = i
    sleep(speed_slider.value)
</code></pre>
<p>I am able to set the animation speed before running the cell that contains the above for loop code, but I am not able to change the speed during animation. Please any suggestions on how change the animation speed during the animation runtime, using the slider.</p>
",109,0,<animation><slider><ipywidgets><ipyleaflet>,2021-09-06 09:53:13
69070618,Getting ipywidgets to update a folium heatmap?,"<p>Beginner python user, having some success with heatmaps using Folium.  I am experimenting with using the <a href=""https://www.kaggle.com/START-UMD/gtd/version/2"" rel=""nofollow noreferrer"">Global Terrorism Database</a> as a source for some visualizations but I really wanted to use <a href=""https://ipywidgets.readthedocs.io/en/latest/examples/Widget%20Low%20Level.html"" rel=""nofollow noreferrer"">ipywidgets</a> to select a specific terrorist group from a list to update my heatmap.  I've already constructed a heatmap for ISIS, created an ipyvuetify button containing the groups I want to compare, but am having trouble figuring out the function and widgets.link syntax.  I'd really appreciate some help because there don't seem to be any good guides (for my skill level) on how to do what I'm trying to do here.</p>
<pre><code>import ipyvuetify as v
import ipywidgets as widgets
import folium
from folium import plugins
from folium.plugins import HeatMap as hm

map = folium.Map(location = [25,15], tiles = &quot;cartodbdark_matter&quot;, zoom_start = 2)
selected = gtd.loc[gtd['Group'] == 'Islamic State of Iraq and the Levant (ISIL)'] 
coords = selected[['Latitude','Longitude']]
hm(coords).add_to(map)

terrorists = [
    'Taliban', 
    'Shining Path (SL)', 
    'Islamic State of Iraq and the Levant (ISIL)', 
    'Farabundo Marti National Liberation Front (FMLN)', 
    'Al-Shabaab', 
    'Irish Republican Army (IRA)', 
    'Revolutionary Armed Forces of Colombia (FARC)', 
    'New Peoples Army (NPA)', 
    'Kurdistan Workers Party (PKK)', 
    'Boko Haram']

# This is where things go off the rails for me, not exactly sure how to arrange this function
def update(x):
    if widget_terrorist_selector.selected is not None:
        xmin, xmax = widget_terrorist_selector.selected
widget_terrorist_selector.observe(update,'widget_terrorist_selector')

# The selector here works but I can't figure out how to link it to my map so that it pushes a new set of heatmap coordinates
widget_terrorist_selector = v.Select(label='Choose Option', items=terrorists, v_model=terrorists[0])
widget_terrorist_selector

# This bit keeps throwing a &quot;TypeError: Each object must be HasTraits, not &lt;class 'pandas.core.frame.DataFrame'&gt;&quot;
widgets.link((widget_terrorist_selector,'v_model'),(selected, 'Group'))
</code></pre>
<p>Thanks in advance!</p>
",164,0,<python><heatmap><folium><ipywidgets><ipyvuetify>,2021-09-06 07:21:20
69004453,Jupyter R-Notebook Docker Images don't seem to include an R kernal,"<p>Maybe I'm doing something wrong, or my expectation is incorrect.</p>
<p>I've tried using multiple tagged version of the <a href=""https://hub.docker.com/r/jupyter/r-notebook/tags?page=1&amp;ordering=last_updated"" rel=""nofollow noreferrer"">Jupyter/r-notebook images</a> on dockerhub.  None seem to include an R kernel for Jupyter.  R does seem to be installed in the OS, but I'd like to create a Jupyter notebook that runs R code.</p>
<p>The documentation <a href=""https://jupyter-docker-stacks.readthedocs.io/en/latest/using/selecting.html#jupyter-r-notebook"" rel=""nofollow noreferrer"">here</a> seems to clearly indicate the <a href=""https://irkernel.github.io/"" rel=""nofollow noreferrer"">IRkernel</a> is included in the image.</p>
<p>The <a href=""https://github.com/jupyter/docker-stacks/blob/master/r-notebook/Dockerfile"" rel=""nofollow noreferrer""><code>Dockerfile</code></a> used to create the image seems to install <code>IRkernel</code>.</p>
<p>Do I need to do something to enable the IRkernel?</p>
<p><a href=""https://i.stack.imgur.com/wm8Wl.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/wm8Wl.png"" alt=""enter image description here"" /></a></p>
",74,0,<r><docker><jupyter-notebook><jupyter-irkernel>,2021-08-31 19:35:20
68988551,Storing a name or word in matrix on Jupyter,"<p>I would like to know how to store a word or a name in a matrix. For instance, if I create a matrix of 3's, I have the code:</p>
<pre><code>x = np.empty(shape=(100,5))
for  i in range(0,100):
    for j in range(0,5):
        a = 1
        b = 2
        c = a+b
        x[i,j]=c
print(x)
</code></pre>
<p>But, let's say, I'd like to write the word mango in a matrix:</p>
<pre><code>x = np.empty(shape=(100,5))
for  i in range(0,100):
    for j in range(0,5):
        x[i,j]= &quot;mango&quot;
print(x)
</code></pre>
<p>I get this output:</p>
<pre><code>---------------------------------------------------------------------------
ValueError                                Traceback (most recent call last)
/tmp/ipykernel_7512/2833526917.py in &lt;module&gt;
      3 for  i in range(0,100):
      4     for j in range(0,5):
----&gt; 5         x[i,j]= &quot;mango&quot;
      6 print(x)

ValueError: could not convert string to float: 'mango'
</code></pre>
<p>I'd appreciate any help on this. Than you.</p>
",69,0,<python><matrix><jupyter><jupyterhub>,2021-08-30 18:10:34
68948644,How to login in JupyterHub,"<p>So, I got my user and passwd to access a jupyterHub from a science group.  As I just know jupyter notebook and I only use it locally, I have no clue about how to access JupyterHub.</p>
<p>Do I need any other infos besides user and passwd  to access it? How/Where can I log in?</p>
<p>Thanks</p>
",139,0,<jupyterhub>,2021-08-27 05:58:12
68948012,Nested Filtering Using Ipywidgets,"<p>I am trying to create a dynamic filtering with Ipywidgets. The word dynamic here refers to: if an option is chosen in one widget, it will affect the choices of the remaining widgets.</p>
<p>Here is a toy dataset for replication purposes.</p>
<pre><code>toy_data = pd.DataFrame({&quot;LETTER&quot;: [&quot;A&quot;, &quot;B&quot;, &quot;A&quot;,&quot;B&quot;,&quot;A&quot;, &quot;B&quot;, &quot;A&quot;,&quot;B&quot;],
               &quot;PLANT&quot;: [&quot;Orange&quot;, &quot;Carrots&quot;, &quot;Lemon&quot;,&quot;Potato&quot;,&quot;Pomelo&quot;,&quot;Yam&quot;,&quot;Lime&quot;,&quot;Radish&quot;],
               &quot;NUMBER&quot;: [1,2,3,4,5,6,7,8]})
</code></pre>
<p>Creating widgets:</p>
<pre><code>letter_var = widgets.Dropdown(
    description=&quot;Letter: &quot;,
    options=toy_data.LETTER.unique(),
    value=&quot;A&quot;,
)

def letter_filtering(change):
    clear_output(wait = True)
    letter = letter_var.value
    new_toy_data = toy_data[toy_data.LETTER == str(letter)]
    
    plant_var = widgets.Dropdown(description=&quot;Plant: &quot;, options=new_toy_data.PLANT.unique(), value=&quot;Orange&quot;)
    
    return plant_var
</code></pre>
<p>the purpose of the letter_filtering function is to filter the choices in the wigets for plants. That is if the letter B has been chosen for letter_var, the choices in plant_var will only be limited to the letter B. but upon implementation,</p>
<pre><code>widgets.HBox([letter_var,letter_filtering])
</code></pre>
<p>I am receiving a trait error.</p>
<pre><code>TraitError: The 'children' trait of a HBox instance contains an Instance of a TypedTuple which expected a Widget, not the function 'letter_filtering'.
</code></pre>
<p>I think I'm lost on how to go about this.</p>
",231,0,<python><python-3.x><pandas><widget><ipywidgets>,2021-08-27 04:24:42
68904605,multiselect dropdown using ipywidgets?,"<p>I wanted to create a multiselect dropdown with checkboxes using ipywidgets, but with dropdown it is possible to select only one option. Would there be any possible way to implement this? ipywidgets also has an html widget, can this be done with html? If it isnt possible to achieve this, then what would be the best alternative approach?</p>
",206,0,<python><ipywidgets>,2021-08-24 08:59:16
68852445,iPyWidget - DatePicker interact with SelectionRangeSlider problem,"<p>I'm trying to interact DatePicker with SelectionRangeSlider widgets. So far I could manage to link the slider with the DatePicker, but I'm getting trouble with the opposite way.</p>
<p>With this code the period slider updates the DatePicker:</p>
<pre><code>from datetime import datetime
import pandas as pd
import ipywidgets as widgets

start_date = datetime(2021, 7, 1)
end_date = datetime(2021, 7, 5)

dates = pd.date_range(start_date, end_date, freq='D')

options = [(date.strftime(' %d %b %Y '), date) for date in dates]

pick_start = widgets.DatePicker(
    description='',
    disabled=False,
    value = start_date
)
pick_end = start_day = widgets.DatePicker(
    description='',
    disabled=False,
    value=end_date
)

selection_range_slider = widgets.SelectionRangeSlider(
    options=options,
    index=(0, len(options) - 1),
    description='Period',
    orientation='horizontal',
    layout=widgets.Layout(width='100%', padding='35px')
)


def update_pick(*args):
    pick_start.value = datetime.strptime(selection_range_slider.value[0].strftime(&quot;%Y-%m-%d&quot;), &quot;%Y-%m-%d&quot;)
    pick_end.value = datetime.strptime(selection_range_slider.value[1].strftime(&quot;%Y-%m-%d&quot;), &quot;%Y-%m-%d&quot;)

def update_slider(*args):
    selection_range_slider.value[0] =  pick_start.value.strftime(&quot;%Y-%m-%d&quot;)
    selection_range_slider.value[1] =  pick_end.value.strftime(&quot;%Y-%m-%d&quot;)

selection_range_slider.observe(update_pick, 'value')
pick_start.observe(update_slider, 'value')
pick_end.observe(update_slider, 'value')

center_layout = widgets.Layout(display='flex',
                                       align_items='center',
                                       width='100%')

day = widgets.HBox(children=[pick_start, selection_range_slider, pick_end], layout=center_layout)

display(day)
</code></pre>
<p>Also try with this function without result:</p>
<pre><code>def update_slider(*args):
    start_date = datetime(pick_start.value.year, pick_start.value.month, pick_start.value.day)
    end_date = datetime(pick_end.value.year, pick_end.value.month, pick_end.value.day)

    dates = pd.date_range(start_date, end_date, freq='D')

    options = [(date.strftime(' %d %b %Y '), date) for date in dates]
    
    selection_range_slider.value[0] =  options[0]
    selection_range_slider.value[1] =  options[len(options)-1]
</code></pre>
<p>Need help interacting DatePicker with SelectionRangeSlider</p>
<p>Thanks!</p>
",795,1,<jupyter-notebook><datepicker><ipywidgets>,2021-08-19 17:43:29
68851569,How to show the image after using 'FileUpload' widgets,"<p>I am new to Python and I want to show the image after using FileUpload widgets in Python. Also, I want to print the file name.</p>
<pre><code>uploader = widgets.FileUpload()
display(uploader)
</code></pre>
",55,0,<python><image><file-upload><widget><ipywidgets>,2021-08-19 16:31:31
68837878,Interactive dataframe sorting using Google Colab,"<p>I've recently been trying to create an interactive plotting platform using a pandas dataframe in Google Colab. The idea is to either create my own or use an existing platform such as <code>qgrid</code> or Colab's <code>Data Table</code>. The problem with <code>qgrid</code> is that it does not render in Google Colab due to a package dependency error with <code>ipywidgets</code>. The problem with Colab's <code>Data Table</code> is that I cannot figure out how to restore the sorted table as a <code>pandas DataFrame</code>.</p>
<p>Alternatively I could create my own querying system, but I would much prefer to use one of these or a different platform. Thanks in advance!</p>
",207,0,<python><python-3.x><pandas><ipywidgets><qgrid>,2021-08-18 18:52:21
68825456,Ipywidgets and plotly interaction,"<p>I'm trying to make an interactive plot with ipywidgets using plotly, but I'm afraid i'm not getting something.
I have some dataframe with coordinates and some columns. I'd want to plot the dataframe in a scatterplot so that coord1=x, coord2=y and each marker point is colored by the value of a column selected by a column selected interactively.</p>
<p>Additionally I'd want that when I change the column value with the interactive menu, the color for every point changes to the column that i selected, rescaling the min and max of the colorbar accordingly to the min and max of the new column.
Furthermore, when I change another selector (selector2) then i want the plot to display only the subset of mu dataframe that matched a certain colID big_grid[big_grid[&quot;id_col&quot;]==selector2.value].
Lastly there should be a rangeslider widget to adjust the color range of the colorbar</p>
<p>so by now i have this</p>
<pre><code>big_grid=pd.DataFrame(data=dict(id_col=[1,2,3,4,5],
                         col1=[0.1,0.2,0.3,0.4,0.5],
                         col2=[10,20,30,40,50],
                         coord1=[6,7,8,9,10],
                         coord2=[6,7,8,9,10]))
list_elem=[&quot;col1&quot;,&quot;col2&quot;]
list_id=big_grid.id_col.values

dropm_elem=widgets.Dropdown(options=list(list_elem)) 
dropm_id=widgets.SelectMultiple(
                options=list_id,
                description=&quot;Active&quot;,
                disabled=False
) 

rangewidg=widgets.FloatRangeSlider(value=[big_grid[dropm_elem.value].min(),big_grid[dropm_elem.value].max()],
                               min=big_grid[dropm_elem.value].min(),
                               max=big_grid[dropm_elem.value].max(),
                               step=0.001,
                               readout_format='.3f',
                               description=&quot;Color Range&quot;,
                              continuous_update=False)


fig = go.FigureWidget(data=px.scatter(big_grid, 
                                      x=&quot;coord1&quot;,
                                      y=&quot;coord2&quot;,
                                      color=big_grid[dropm_elem.value],
                                      color_continuous_scale=&quot;Turbo&quot;,)
                         )
def handle_id_change(change):
    fig.data[0]['x']=big_grid[big_grid['id_col'].isin(dropm_id.value)][&quot;coord1&quot;]
    fig.data[0]['y']=big_grid[big_grid['id_col'].isin(dropm_id.value)][&quot;coord2&quot;]
    fig.data[0]['marker']['color']=big_grid[big_grid['id_col'].isin(dropm_id.value)][dropm_elem.value]
    fig.data[0]['marker']['cmin']=big_grid[big_grid['id_col'].isin(dropm_id.value)][dropm_elem.value].min()
    fig.data[0]['marker']['cmax']=big_grid[big_grid['id_col'].isin(dropm_id.value)][dropm_elem.value].max()
    
def handle_elem_change(change):
    fig.data[0]['marker']['color']=big_grid[big_grid['id_col'].isin(dropm_id.value)][dropm_elem.value]   
   
dropm_elem.observe(handle_elem_change,names='value')
dropm_id.observe(handle_id_change,names='value')


right_box1 =widgets.HBox([fig])
right_box2=widgets.VBox([dropm_elem,dropm_id,rangewidg])
box=widgets.HBox([right_box1,right_box2])
box
</code></pre>
<p>So, like this the selection of the subset (from dropm_id) works, but the rangewidget and the hovering are broken. Basically when i change dromp_elem the color doesn't adjust as i am expecting, and instead it gets dark and uniform. At the same time if you change column and you hover over the points it lists the value of col2, but the label still says col1.</p>
<p>I'm afraid that I'm overcomplicating my life and there is surely an easier way, could someone enlighten me?</p>
<p>EDIT: If I use a different approach and I use a global variable to define the subset to plot, a plotting function and a the widget.interact function I can make it work. The problem is that in this case the plot is not a widget, so i cannot put it into a VBox or HBox.
It also still feels wrong and using global variables is not grood practice. I'll provide the code anyway for reference:</p>
<pre><code>def plot(elem,rang):
    fig = px.scatter(subset, x=&quot;coord1&quot;, y=&quot;coord2&quot;, color=elem,color_continuous_scale=&quot;Turbo&quot;,range_color=rang)
    fig.show()

def handle_elem_change(change):
    with rangewidg.hold_trait_notifications():    #This is because if you do't put it it set max, 

        rangewidg.max=big_grid[dropm_elem.value].max() #and if max is &lt; min he freaks out. Like this he first
        rangewidg.min=big_grid[dropm_elem.value].min() #set everything and then send the eventual errors notification.
        rangewidg.value=[big_grid[dropm_elem.value].min(),big_grid[dropm_elem.value].max()]

def handle_id_change(change):
    global subset
    subset=big_grid[big_grid['id_col'].isin(dropm_id.value)]

big_grid=pd.DataFrame(data=dict(id_col=[1,2,3,4,5],
                         col1=[0.1,0.2,0.3,0.4,0.5],
                         col2=[10,20,30,40,50],
                         coord1=[6,7,8,9,10],
                         coord2=[6,7,8,9,10]))
subset=big_grid
list_elem=[&quot;col1&quot;,&quot;col2&quot;]
list_id=big_grid.id_col.values

dropm_elem=widgets.Dropdown(options=list(list_elem)) 
dropm_id=widgets.SelectMultiple(
                options=list_id,
                description=&quot;Active&quot;,
                disabled=False
) 

rangewidg=widgets.FloatRangeSlider(value=[big_grid[dropm_elem.value].min(),big_grid[dropm_elem.value].max()],
                               min=big_grid[dropm_elem.value].min(),
                               max=big_grid[dropm_elem.value].max(),
                               step=0.001,
                               readout_format='.3f',
                               description=&quot;Color Range&quot;,
                              continuous_update=False)


dropm_elem.observe(handle_elem_change,names='value')
dropm_id.observe(handle_id_change,names='value')

display(dropm_id)
widgets.interact(plot,elem=dropm_elem,rang=rangewidg) 
</code></pre>
<p>So, I would want the behaviour of this second code, but in a widget.Hbox, ans possibly without using global variables</p>
",404,2,<python><pandas><plotly><interactive><ipywidgets>,2021-08-18 01:01:31
68801103,name 'tqdm_notebook' is not defined,"<p>I am trying to use the tqdm_notebook function but I am getting an error even after checking the installation of tqdm and ipywidgets.</p>
<pre><code>from tqdm import tqdm_notebook as tqdm
for param in tqdm_notebook(parameters_list):
# we need try-except because on some combinations model fails to converge
    try:
        model=sm.tsa.statespace.SARIMAX(data, order=(param[0], d, param[1]),
        seasonal_order=(param[2], D, param[3], s)).fit(disp=-1)
    except:
        continue
aic = model.aic
# saving best model, AIC and parameters
if aic &lt; best_aic:
    best_model = model
best_aic = aic
best_param = param
results.append([param, model.aic])
</code></pre>
<p>The errors shown is,</p>
<pre><code> NameError Traceback (most recent call last) &lt;ipython-input-33-277a561b8f50&gt; in &lt;module&gt;
      1 from tqdm import tqdm_notebook as tqdm
----&gt; 2 for param in tqdm_notebook(parameters_list):
      3 # we need try-except because on some combinations model fails to converge
      4     try:
      5         model=sm.tsa.statespace.SARIMAX(data, order=(param[0], d, param[1]),

NameError: name 'tqdm_notebook' is not defined.
</code></pre>
<p>I have tried with pip install tqdm, pip install ipywidgets and jupyter nbextension enable --py widgetsnbextension.
Everything looks fine but I am getting this error, how to rectify this.</p>
",1806,1,<python><jupyter-notebook><ipywidgets><tqdm>,2021-08-16 10:18:00
68787959,how to change default start-up folder jupyter hub on Azure DSVM virtual machine,"<p>Azure DSVM has jupyterlab enabled on port 8000.
However, the startup folder in jupyterlab always starts at /home/*user-name/notbook.
I want to change the jupyterlab start folder, but I don't know what to do.</p>
<h1>tried</h1>
<h2>1.</h2>
<p>I created a jupyterlab configuration by referring to <a href=""https://stackoverflow.com/questions/35254852/how-to-change-the-jupyter-start-up-folder"">stackoverflow</a> to change <code>c.NotebookApp.notbook_dir</code>, but rebooted and checked again for server operation. I've confirmed it's not working.</p>
<h2>2.</h2>
<p>I also tried to create a jupyterhub configuration, but it came out that there was no command called jupyterhub.
I thought it was working in docker, but there was no process for jupyterhub in docker.</p>
<h2>3.</h2>
<p>netstat -tnlp</p>
<pre class=""lang-sh prettyprint-override""><code>Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name    
tcp        0      0 0.0.0.0:111             0.0.0.0:*               LISTEN      -                   
tcp        0      0 127.0.0.1:8081          0.0.0.0:*               LISTEN      -                   
tcp        0      0 127.0.0.53:53           0.0.0.0:*               LISTEN      -                   
tcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN      -                   
tcp        0      0 127.0.0.1:8001          0.0.0.0:*               LISTEN      -                   
tcp        0      0 127.0.0.1:44675         0.0.0.0:*               LISTEN      -                   
tcp        0      0 127.0.0.1:46277         0.0.0.0:*               LISTEN      2048/python         
tcp6       0      0 :::111                  :::*                    LISTEN      -                   
tcp6       0      0 :::22                   :::*                    LISTEN      -                   
tcp6       0      0 :::8000                 :::*                    LISTEN      -              
</code></pre>
<p>ps aux | grep jupyter</p>
<pre class=""lang-sh prettyprint-override""><code>root      1345  0.0  0.0  13316  3304 ?        Ss   00:06   0:00 /bin/bash /etc/jupyterhub/start_jupyterhub.sh
root      1624  0.0  0.0 246340 64268 ?        Sl   00:06   0:01 /anaconda/bin/python /anaconda/bin/jupyterhub --log-file=/var/log/jupyterhub.log
root      1949  0.0  0.0 606436 51356 ?        Ssl  00:06   0:01 node /usr/local/bin/configurable-http-proxy --ip * --port 8000 --api-ip 127.0.0.1 --api-port 8001 --error-target http://127.0.0.1:8081/hub/error --ssl-key /etc/jupyterhub/srv/server.key --ssl-cert /etc/jupyterhub/srv/server.crt
rootadm+  2048  0.2  0.0 343804 101160 ?       Ssl  00:07   0:03 /anaconda/bin/python /anaconda/bin/jupyterhub-singleuser --port=46277 --notebook-dir=~/notebooks --SingleUserNotebookApp.default_url=/lab --config=/etc/jupyterhub/default_jupyter_config.py
rootadm+  3841  0.0  0.0  14864  1040 pts/0    S+   00:27   0:00 grep --color=auto jupyter
</code></pre>
",240,0,<azure><jupyter><jupyter-lab><jupyterhub><azure-dsvm>,2021-08-15 00:36:38
68779943,How can i fix this kernel error in jupyter notebook,"<pre><code>Traceback (most recent call last):
  File &quot;/data/user/0/ru.iiec.pydroid3/files/arm-linux-androideabi/lib/python3.8/site-packages/tornado/web.py&quot;, line 1704, in _execute
    result = await result
  File &quot;/data/user/0/ru.iiec.pydroid3/files/arm-linux-androideabi/lib/python3.8/site-packages/tornado/gen.py&quot;, line 769, in run
    yielded = self.gen.throw(*exc_info)  # type: ignore
  File &quot;/data/user/0/ru.iiec.pydroid3/files/arm-linux-androideabi/lib/python3.8/site-packages/notebook/services/sessions/handlers.py&quot;, line 69, in post
    model = yield maybe_future(
  File &quot;/data/user/0/ru.iiec.pydroid3/files/arm-linux-androideabi/lib/python3.8/site-packages/tornado/gen.py&quot;, line 762, in run
    value = future.result()
  File &quot;/data/user/0/ru.iiec.pydroid3/files/arm-linux-androideabi/lib/python3.8/site-packages/tornado/gen.py&quot;, line 769, in run
    yielded = self.gen.throw(*exc_info)  # type: ignore
  File &quot;/data/user/0/ru.iiec.pydroid3/files/arm-linux-androideabi/lib/python3.8/site-packages/notebook/services/sessions/sessionmanager.py&quot;, line 98, in create_session
    kernel_id = yield self.start_kernel_for_session(session_id, path, name, type, kernel_name)
  File &quot;/data/user/0/ru.iiec.pydroid3/files/arm-linux-androideabi/lib/python3.8/site-packages/tornado/gen.py&quot;, line 762, in run
    value = future.result()
  File &quot;/data/user/0/ru.iiec.pydroid3/files/arm-linux-androideabi/lib/python3.8/site-packages/tornado/gen.py&quot;, line 769, in run
    yielded = self.gen.throw(*exc_info)  # type: ignore
  File &quot;/data/user/0/ru.iiec.pydroid3/files/arm-linux-androideabi/lib/python3.8/site-packages/notebook/services/sessions/sessionmanager.py&quot;, line 110, in start_kernel_for_session
    kernel_id = yield maybe_future(
  File &quot;/data/user/0/ru.iiec.pydroid3/files/arm-linux-androideabi/lib/python3.8/site-packages/tornado/gen.py&quot;, line 762, in run
    value = future.result()
  File &quot;/data/user/0/ru.iiec.pydroid3/files/arm-linux-androideabi/lib/python3.8/site-packages/notebook/services/kernels/kernelmanager.py&quot;, line 176, in start_kernel
    kernel_id = await maybe_future(self.pinned_superclass.start_kernel(self, **kwargs))
  File &quot;/data/user/0/ru.iiec.pydroid3/files/arm-linux-androideabi/lib/python3.8/site-packages/jupyter_client/multikernelmanager.py&quot;, line 186, in start_kernel
    km.start_kernel(**kwargs)
  File &quot;/data/user/0/ru.iiec.pydroid3/files/arm-linux-androideabi/lib/python3.8/site-packages/jupyter_client/manager.py&quot;, line 337, in start_kernel
    kernel_cmd, kw = self.pre_start_kernel(**kw)
  File &quot;/data/user/0/ru.iiec.pydroid3/files/arm-linux-androideabi/lib/python3.8/site-packages/jupyter_client/manager.py&quot;, line 286, in pre_start_kernel
    self.write_connection_file()
  File &quot;/data/user/0/ru.iiec.pydroid3/files/arm-linux-androideabi/lib/python3.8/site-packages/jupyter_client/connect.py&quot;, line 466, in write_connection_file
    self.connection_file, cfg = write_connection_file(self.connection_file,
  File &quot;/data/user/0/ru.iiec.pydroid3/files/arm-linux-androideabi/lib/python3.8/site-packages/jupyter_client/connect.py&quot;, line 136, in write_connection_file
    with secure_write(fname) as f:
  File &quot;/data/user/0/ru.iiec.pydroid3/files/arm-linux-androideabi/lib/python3.8/contextlib.py&quot;, line 113, in __enter__
    return next(self.gen)
  File &quot;/data/user/0/ru.iiec.pydroid3/files/arm-linux-androideabi/lib/python3.8/site-packages/jupyter_core/paths.py&quot;, line 471, in secure_write
    raise RuntimeError(&quot;Permissions assignment failed for secure file: '{file}'.&quot;
RuntimeError: Permissions assignment failed for secure file: '/storage/emulated/0/.local/share/jupyter/runtime/kernel-fd68a9c5-03c0-405c-9cdd-b85b59fd7acc.json'. Got '0o660' instead of '0o0600'.
</code></pre>
",143,0,<python><android><jupyter-notebook><jupyter-irkernel><pydroid>,2021-08-14 02:51:21
68735103,Reset ipywidget Fileupload button after upload of the files,"<p>I am trying to have the Upload(N) button of the FileUpload widget from Ipywidgets to reset the number N after i uploaded some files, but I'm not sure how. I am using Jupiter notebook with:</p>
<pre><code>uploader=widgets.FileUpload(
    accept='*.csv',  # Accepted file extension e.g. '.txt', '.pdf', 'image/*', 'image/*,.pdf'
    multiple=True  # True to accept multiple files upload else False
)

def update_list_files(*args):
    global glob_list_f            #if i make the variable global then i can take it out of the function.
    glob_list_f = list(uploader.value.keys()) 

    
uploader.observe(update_list_files, 'value')
uploader
</code></pre>
<p>If I select 3 files it yields :
<a href=""https://i.stack.imgur.com/SkFvd.png"" rel=""nofollow noreferrer"">Upload(3)</a></p>
<p>Now If I select 3 other files it yields:
<a href=""https://i.stack.imgur.com/d7vDt.png"" rel=""nofollow noreferrer"">Upload(6)</a></p>
<p>The wanted behaviour would be Upload(3) again.</p>
",366,1,<python><jupyter-notebook><widget><ipywidgets>,2021-08-11 01:44:18
68707475,Python - design a slider to control the input of a function,"<p>I have the following codes</p>
<pre><code>def update(val):
    if val == 0:
        value = s.val
        ax1.cla()
        ax1.plot_surface(x, y, rm, cmap = cm.coolwarm, linewidth = 0, antialiased = False)        
    elif val == 1:
        value = s.val
        ax1.cla()
        ax1.plot_surface(x, y, rm1, cmap = cm.coolwarm, linewidth = 0, antialiased = False)
    elif val == 2:
        value = s.val
        ax1.cla()
        ax1.plot_surface(x, y, rm2, cmap = cm.coolwarm, linewidth = 0, antialiased = False)      
    
ax1.set_zlim(-110, -80)



slider = wg.IntSlider(value=1, min=1, max=3, description='this is     slider')
slideroutput = wg.Output()
display(slider, slideroutput)

def on_value_change(change):
    with slideroutput:
        print(change['new'])

slider.observe(on_value_change, names='value')


update(slideroutput)
plt.show()
</code></pre>
<p>If the input of update is &quot;i&quot;, it shows the i-th 3D graph in the definition of update function, where i = 1, 2, 3.</p>
<p>How to design a slider such that when I move the control button of the slider, the output of the slider is 1, 2 or 3, which will become the input of  &quot;update&quot;?</p>
<p>For example</p>
<pre><code>update(slider_button)
</code></pre>
<p>Thanks!</p>
",624,0,<python><matplotlib><slider><ipywidgets>,2021-08-09 06:04:02
68697404,How to get any kind of interactive plot with ipywidgets and matplotlib,"<p>I am just looking for some kind of working example which will allow me to have a slider and a sine wave plot whereby I can vary the frequency in a Jupyter Notebook.  All the online demos that I have Googled don't work for me.  The issue seems to be that the old matplotlib graph is not erased before the new one is created.</p>
<p>Here is my minimal example</p>
<pre><code>import ipywidgets as widgets
from IPython.display import display, clear_output
import matplotlib.pyplot as plt
import numpy as np

def f(a):
    clear_output(wait=True)
    fig, ax = plt.subplots()
    x = np.linspace(0, 2*np.pi, 100)
    y = np.sin(a*x)
    ax.grid()
    ax.set_xlabel(&quot;x&quot;)
    ax.set_ylabel(&quot;y&quot;)
    ax.plot(x,y)
    ax.set_title(&quot;y = sin(x)&quot;)

%matplotlib inline
from time import sleep
for i in range(1,10):
    clear_output(wait=True)
    f(i)
    sleep(1)
</code></pre>
<p>I have also tried</p>
<pre><code>out = widgets.Output(layout={'border': '1px solid black'})
with out:
    widgets.interact(f, a=1)
    out.clear_output()
    display(out)
</code></pre>
<p>However nothing I try will erase the previous matplotlib graph.  They just all pile up on top of each other.  I admit I am floundering as I don't really understand the API that well and the example in the documentation don't work for me.</p>
<p>I don't expect people to fix my code as it is probably rubbish.  I am just looking for a working example which will allow me to interactively control the frequency and redraw the sine wave on a Jupyter notebook.</p>
",818,0,<matplotlib><jupyter-notebook><ipywidgets>,2021-08-08 02:38:38
68697345,How to install Jupyter Lab/Notebook on Windows 10?,"<p>I have been using R/Python and Jupyter Lab/Notebook on Macbook. In my new job, I need to install and run these applications on Windows 10.</p>
<p>I have Python, pip, Jupyter, R4.1 &amp; RStudio installed manually (not through Anaconda). I try to execute step 2/3: Making the kernel available to Jupyter based on <a href=""https://irkernel.github.io/installation/#binary-panel"" rel=""nofollow noreferrer"">installation guide</a>. I got error message in R Console.</p>
<pre><code>&gt; IRkernel::installspec()
Error in IRkernel::installspec() : 
  jupyter-client has to be installed but “jupyter kernelspec --version” exited with code 127.
In addition: Warning message:
In system2(&quot;jupyter&quot;, c(&quot;kernelspec&quot;, &quot;--version&quot;), FALSE, FALSE) :
  '&quot;jupyter&quot;' not found
</code></pre>
<p>Appreciate your advice.</p>
",1768,0,<r><windows><jupyter-irkernel>,2021-08-08 02:20:03
68691100,Ipywidgets list - remove widgets from list,"<p>I want to remove an <code>ipywidget</code> from a list of <code>ipywidgets</code> but the following error is given:</p>
<blockquote>
<p>&quot;ValueError: list.remove(x): x not in list&quot;</p>
</blockquote>
<p>Code:</p>
<pre class=""lang-py prettyprint-override""><code>import ipywidgets as widgets

result = []

result.append(widgets.SelectMultiple(description=&quot;Widget&quot;))

result.remove(widgets.SelectMultiple(description='Widget', options=(), value=()))
</code></pre>
",76,2,<python><ipywidgets>,2021-08-07 09:31:09
68647876,Function works until called with an ipywidgets event,"<p>I have been working on this for who knows how long but I have two functions: one that is activated through ipywidgets special event and the next that is called within the first function.</p>
<p>function number one:</p>
<pre><code>def lipas_button_clicked(b):
    '''
    Def used to select and fetch dataframe from LIPAS
    ------------------------------------------------------------
    PARAMETERS
    - b &lt;button default&gt;

    RETURNS
    - Automatic append of selected YKR IDs &lt;list element&gt; (global variable)
    - Message in display
    '''
    code = str(select_lipas.value)

    lipas = GetLipasData(code)

    return print(lipas)
</code></pre>
<p>function number two:</p>
<pre><code>def GetLipasData(typecode):

    code_list = [typecode]

    lipas = pd.DataFrame()

    for x in code_list:

        typecode = x
        r = requests.get(&quot;&quot;&quot;http://lipas.cc.jyu.fi/api/sports-places?fields=type.name&amp;fields=location.sportsPlaces&amp;fields=location.geometries&amp;fields=name&amp;fields=type.typeCode&amp;fields=location.locationId&amp;fields=location.city.name&amp;fields=location.postalCode&amp;fields=location.address&amp;typeCodes=&quot;&quot;&quot; + typecode + &quot;&quot;&quot;&amp;cityCodes=91&quot;&quot;&quot;).json()

        df = pd.json_normalize(r, record_path=['location', 'geometries', 'features'], meta=[['location', 'sportsPlaces'], ['location', 'address'], ['location', 'postalCode'], ['name']])

        df['typeCode'] = typecode

        lipas = lipas.append(df)

    return lipas
</code></pre>
<p>Whenever I run this code using the widgets button the first function returns an empty dataframe to me. However, when I call the second function like this:</p>
<pre><code># example typecode 
temp = '1120'

lipas = GetLipasData(temp)

print(lipas)

</code></pre>
<p>The function works and I end up with the desired dataframe. Here is a snippet of the dataframe:</p>
<pre><code>      type geometry.type                  geometry.coordinates  \
0  Feature         Point  [25.0014104043243, 60.1858473428042]   
1  Feature         Point  [25.0191651714749, 60.2636222119604]   
2  Feature         Point  [25.0908944598678, 60.2191648730633]   
3  Feature         Point  [24.9503407234607, 60.1634158059106]   
4  Feature         Point   [24.9437999467401, 60.162526333009]   

   properties.pointId location.sportsPlaces  location.address  \
0              577095              [603807]  Ståhlbergintie 2   
1              577194              [520138]         Rajatie 7   
2              577098               [85737]  Kukkaniityntie 2   
3               73310               [82865]     Unioninkatu 2   
4              577037              [603746]        Ratakatu 6   

  location.postalCode                                          name typeCode  
0               00570   Brändö lågstadieskolan / Lähiliikuntapaikka     1120  
1               00730   Hiidenkiven peruskoulu / Lähiliikuntapaikka     1120  
2               00900         Botby grundskola / Lähiliikuntapaikka     1120  
3               00130       Grundskolan Norsen / Lähiliikuntapaikka     1120  
4               00120  Helsingin normaalilyseo / Lähiliikuntapaikka     1120  
</code></pre>
<p>I cannot for the life of me understand why calling the same function through the ipywidgets event does not work. Here is the code for the ipywidgets.</p>
<pre><code># adding the Select widget. Select means that you can select the correct one.
select_lipas = widgets.Select(placeholder='Valitse palvelu(t)', 
                             options=lipas_options,
                             layout = {'width':'max-content'},
                             ensure_option=True, 
                             disabled=False)

# adding the button widget. Click Me Tooltip is an action which run after clicking on the button.
b = widgets.Button(description='Valitse LIPAS palvelu', 
                   disabled=False, 
                   button_style='info', 
                   tooltip='Click me', 
                   icon='check')

# adding the click event to the button. To add event you do it as a function
b.on_click(lipas_button_clicked)
</code></pre>
<p>Any ideas? Please let me know if more information is required. Much appreciated for any help in advance!</p>
<p>UPDATE:
I was using AppLayout() to display my widgets and for whatever reason this was not sending the selected code back to my functions. I tested it out by switching back to displaying each widget separately and it worked immediately. Any ideas on the difference?</p>
",56,0,<python><function><python-requests><ipywidgets>,2021-08-04 08:25:44
68643117,Python ipywidgets ToggleButton Style Color,"<p>I want to change the button color of a ipywidget ToggleButton.
In the docs it is described as:</p>
<pre><code>widgets.ToggleButtons(
    options=['Slow', 'Regular', 'Fast'],
    description='Speed:',
    disabled=False,
    button_style='', # 'success', 'info', 'warning', 'danger' or ''
    tooltips=['Description of slow', 'Description of regular', 'Description of fast'],
#   icons=['check'] * 3
)
</code></pre>
<p>The only way I can see is with button_style, which however has just the predefined options seen in the code.
Is there a way to define such a preset on your own with custom button colors?
I also tried styling it with CSS. button_color, description_color as well as background_color all did not work.</p>
<p>I cannot change the toggle button color to any other than the predefined color schemes ('success', 'info', 'warning', 'danger' or ''). Also jumping into the package, I did not find where they are defined. That is why I am not able to overwrite them.</p>
<p>Also, I am working in a Jupyter Notebook.</p>
<p>Kind regards,
Timo</p>
",1952,3,<python><jupyter-notebook><ipywidgets>,2021-08-03 21:43:43
68614599,How to pass a dataframe itself to a function as an argument using interact of ipywidgets but without fixed,"<p>I am new to interact and i would like to select name of functions among options through a dropdown list. These functions are already defined an each of them have different type of arguments and most of them accept a dataframe as an argument.
I would like to build a structure that user pick a function among the list then arguments of the function also shown to be filled.</p>
<p>I am having difficulties passing dataframe as an argument to earlier selected function because name of dataframe is not fixed so i could not use fixed of widgets. If i assign dataframe directly then columns of dataframe shown that is also useless for me because i want entire dataframe to be passed to the function.
Is there a way to pass dataframe as an argument to the function via widgets interact?</p>
<p>Thanks in advance.
Regards.
<a href=""https://i.stack.imgur.com/afDkU.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/afDkU.png"" alt=""enter image description here"" /></a></p>
<pre><code>functionpicker=widgets.Dropdown(
    options=[
     'func1','func2','func3'] ,
    value='func1',    
    style = {'description_width': 'initial'},
    description='SELECT FUNC:',
   disabled=False
)

display(functionpicker)

def func1(df,dat1,dat2,dat3):
    print(df)
    print(dat1)
    print(dat2)
    print(dat3)
def run_selected(picked):
    if picked == 'func1' :
        interact(func1,df=df,dat1='dat1',dat2='dat2',dat3='dat3')
 
</code></pre>
",183,0,<python><jupyter-notebook><ipython><ipywidgets>,2021-08-01 21:47:33
68611996,JupyterLab: How do I set JupyterLab/Hub to only allow a user to use 1 active workspace at a time?,"<p>I'm running a newly migrated multi-user deployment of JupyterLab, and I'm currently trying to replicate the behavior that was present on the last server onto the new one, but one feature continues to elude me. On the previous server if I had one tab open running JupyterLab and tried to open a new one, I would receive this error message in the browser for the new tab:</p>
<p><a href=""https://i.stack.imgur.com/34naj.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/34naj.png"" alt=""enter image description here"" /></a></p>
<p>However, on the new JupyterLab server, opening a new tab of JupyterLab when one is running will just automatically create a new workspace, with the url looking like so:</p>
<p><a href=""https://i.stack.imgur.com/Q1Ej0.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/Q1Ej0.png"" alt=""enter image description here"" /></a></p>
<p>My question is this: <strong>How do I redirect a user to same workspace, and not auto-generate new workspaces when one is already active?</strong></p>
",173,3,<python><jupyter-notebook><jupyter><jupyter-lab><jupyterhub>,2021-08-01 15:45:37
68598741,How to enable JupyterHub in MicroK8s's Kubeflow?,"<p>a kubeflow user beginner here.</p>
<p>I'm following a tutorial on how to setup Kubeflow in a Ubuntu (VM) on my personal laptop using this tutorial: <a href=""https://www.kubeflow.org/docs/distributions/microk8s/kubeflow-on-microk8s/"" rel=""nofollow noreferrer"">kubeflow-on-microk8s</a>. The problem is, when I'm trying to access JupyterHub under the menu &quot;Notebooks&quot; an error always occured:</p>
<p><a href=""https://i.stack.imgur.com/kOOrx.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/kOOrx.jpg"" alt=""JupyterhubError"" /></a></p>
<pre><code>{ 
  log&quot;: &quot;The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.&quot;, 
  &quot;status&quot;: 404, 
  &quot;success&quot;: false, 
  &quot;user&quot;: &quot;admin&quot; 
}
</code></pre>
<p>All jupyter's instance appear to be nominal and kubeflow-UI working except all related to jupyter's instance:</p>
<p><a href=""https://i.stack.imgur.com/Z7mOc.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/Z7mOc.jpg"" alt=""jupyter's instance"" /></a></p>
<p>I can't seem to know what is happening here. I have spent days to find solution on this, nothing ever mentioned.</p>
<p>I have been using miniKF (Rok + Kubeflow + minikube) and they are actually fine, but I prefer to have bare implementation and local machine rather from other solution (i.e., paid services) so please don't mention about using miniKF.</p>
<p>Thanks</p>
",163,1,<kubernetes><jupyter-notebook><jupyterhub><kubeflow><microk8s>,2021-07-31 03:01:14
68557516,How to make a ipywidget button update a specific axis of a matplotlib figure?,"<p>How can I make a ipywidget button in a Jupyter notebook update a plot in a specific axis?</p>
<p>I already know how to make a button update a plot when using a single axis, like so:</p>
<pre><code>import ipywidgets as widgets
from IPython.display import display
import matplotlib.pyplot as plt
import numpy as np

btn = widgets.Button(description='Click')
display(btn)

output = widgets.Output()

def on_click_fn(obj):
    output.clear_output()
    values = np.random.rand(10)
    with output:
        plt.plot(values)
        plt.show()

btn.on_click(on_click_fn)
display(output)
</code></pre>
<p>In this example, clicking the button updates the plot and shows a new set of 10 random points. I thought it would be simple to extend this to updating a specific axis, and attempted the following:</p>
<pre><code>import ipywidgets as widgets
from IPython.display import display
import matplotlib.pyplot as plt
import numpy as np

btn = widgets.Button(description='Click')
display(btn)

output = widgets.Output()
fig, ax = plt.subplots(ncols=2)

def on_click_fn(obj):
    output.clear_output()
    values = np.random.rand(10)
    with output:
        ax[0].plot(values)
        plt.show()

btn.on_click(on_click_fn)
display(output)
</code></pre>
<p>However, clicking the button in this example does not seem to do anything. I tried different combinations of adding/removing the <code>plt.show()</code> call, using <code>fig.draw()</code> instead, using <code>fig.canvas.draw_idle()</code>, etc, without much success. What's the correct, least &quot;hacky&quot; way of accomplishing this?</p>
<hr />
<p>Note: <a href=""https://stackoverflow.com/questions/47878009/jupyter-how-to-update-plot-on-button-click-ipywidgets"">This question</a> is only about how to make a button update a plot, like my first example, instead of making the button update a specific axis only.</p>
",663,0,<python><matplotlib><jupyter-notebook><ipywidgets>,2021-07-28 09:10:54
68554511,Does restarting jupyterhub service clear environment variables set in jupyterhub_config.py file?,"<p>I'm setting environment variable in jupyterhub_config.py file for first time launch of service.
Next time if i restart i need to use the same env variable.
But the env variable is not available once i restart jupyterhub service.</p>
<pre><code>## code changes in /opt/miniconda/etc/jupyterhub/jupyterhub_config.py ##
import os
#first time
os.environ[&quot;JUPYTERHUB_MY_VARIABLE&quot;] = &quot;setFirstTime&quot;
#after restart, re-use
if 'JUPYTERHUB_MY_VARIABLE' in os.environ:
    print(&quot;Use next time after restart&quot;)
</code></pre>
<p>Does restarting jupyterhub service clear environment variables?</p>
",110,1,<python><python-3.x><linux><jupyter-notebook><jupyterhub>,2021-07-28 04:43:06
68535386,How to block pasting into jupyter notebook cells?,"<p>I want to create a Jupyter notebook with code cells where pasting is blocked (only typing allowed). Everything will be deployed on Jupyter Hub.</p>
<p>I would appreciate any tips on how to achieve it.</p>
<p>Many thanks, Andy</p>
",59,0,<jupyter-notebook><jupyter-lab><jupyterhub>,2021-07-26 19:20:38
68500861,Visual Studio Code does not render ipywidgets correctly,"<p>I am having issue using Visual Studio Code.  the code seem to have issue with ipywidgets.
the code is below (very simple interactive chart)</p>
<pre><code>from ipywidgets import interact
import ipywidgets as widgets
import numpy as np
import plotly.graph_objects as go
@interact
def foo(beta=(-10,10,1)):
    myx = np.arange(0,100,1)
    myy = myx *beta 
    print ('debug:',myy)
    fig = go.FigureWidget()
    fig.add_scatter(x= myx, y=myy)
    fig.show()
</code></pre>
<hr />
<p>the same code works just as expected in Jupyter Notebook.
I dig further and it seems:</p>
<p>&quot;widgets require us to download supporting files from a 3rd party website. Error loading plotlywidget: ^4.14.3</p>
<p><a href=""https://github.com/microsoft/vscode-jupyter/wiki/IPyWidget-Support-in-VS-Code-Python"" rel=""noreferrer"">https://github.com/microsoft/vscode-jupyter/wiki/IPyWidget-Support-in-VS-Code-Python</a></p>
<p>This is where I got stuck.. What's the next then to fix this issue?</p>
<p>any guidance much appreciated</p>
<p>thanks</p>
",3992,7,<visual-studio-code><ipywidgets>,2021-07-23 14:30:21
68480305,"In Jupyter notebook, how can I manually terminate Keras training using a callback and/or widget event?","<p>I am using Keras within Jupyter lab to train a model.</p>
<p>I'd like to be able to manually stop training and exit the fitting gracefully.</p>
<p>Right now the only way I can terminate the training is via a KeyboardInterrupt.</p>
<p>How can I use a Keras callback to gracefully terminate - to the extent that my post-Keras code will also execute within the same cell - the training, either by listening to the KeyboardInterrupt or by receiving an event from a widget button?</p>
<p>Or is there another way?</p>
<p>Thanks!</p>
<p>See also <a href=""https://stackoverflow.com/questions/53312642/does-interrupting-keras-training-in-a-jupyter-notebook-save-the-training"">Does interrupting keras training in a Jupyter notebook save the training?</a></p>
<h2 id=""edit"">Edit:</h2>
<p>I tried to trap KeyboardInterrupt (i.e. SIGINT sent by the stop button in Jupyter), as follows:</p>
<pre class=""lang-py prettyprint-override""><code>try:
    history=model.fit(...)
except KeyboardInterrupt:
    pass
</code></pre>
<p>But now I cannot access <code>history</code> after the block above (for plotting/persisting etc.). Should I use a callback to write the model on every (few) epoch(s) and load the history from file, or is there another way?</p>
<p>Thanks!</p>
",188,1,<python><keras><jupyter><jupyter-lab><ipywidgets>,2021-07-22 06:46:32
68477238,SparkMagic PySpark3 session with Livy on Cloudera,"<p>I am trying to run Jupyterhub pyspark kernel session with python3 witn Livy running on Cloudera cluster.</p>
<p>The spark session ends without any meaningful error, Livy logs have the following:</p>
<pre><code>21/07/21 12:28:09 INFO yarn.Client: Submitting application application_1621851397242_29173 to ResourceManager
21/07/21 12:28:09 INFO impl.YarnClientImpl: Submitted application application_1621851397242_29173
21/07/21 12:28:09 INFO yarn.Client: Application report for application_1621851397242_29173 (state: ACCEPTED)
21/07/21 12:28:09 INFO yarn.Client:
   client token: N/A
   diagnostics: N/A
   ApplicationMaster host: N/A
   ApplicationMaster RPC port: -1
   queue: root.users.username
   start time: 1626870489430
   final status: UNDEFINED
   tracking URL: http://hostname/proxy/application_1621851397242_29173/
   user: usenname
21/07/21 12:28:09 INFO util.ShutdownHookManager: Shutdown hook called
21/07/21 12:28:09 INFO util.ShutdownHookManager: Deleting directory /tmp/spark-1483a0d9-2a27-4667-94c0-0320c6d2b0fa
21/07/21 12:28:09 INFO util.ShutdownHookManager: Deleting directory /tmp/spark-a0c7670a-a2a1-46f0-bedd-83d0f4ea0086
</code></pre>
<p>Livy is running in yarn-cluster mode, and spark2-conf/spark-defaults.conf has a following configuration added:</p>
<blockquote>
<p>spark.yarn.appMasterEnv.PYSPARK_PYTHON=/opt/cloudera/parcels/Anaconda-2020.11/bin/python
spark.executorEnv.PYSPARK_PYTHON=/opt/cloudera/parcels/Anaconda-2020.11/bin/python</p>
</blockquote>
<p>Anaconda-2020.11 is based on Python 3.8.5 (default, Sep  4 2020, 07:30:14).</p>
<p>Pyspark kernel.json has a following configuration:</p>
<pre><code>{
  &quot;argv&quot;: [
    &quot;python&quot;,
    &quot;-m&quot;,
    &quot;sparkmagic.kernels.pysparkkernel.pysparkkernel&quot;,
    &quot;-f&quot;,
    &quot;{connection_file}&quot;
  ],
  &quot;display_name&quot;: &quot;PySpark&quot;,
  &quot;language&quot;: &quot;python&quot;
}
</code></pre>
<p>What configuration I might be missing here? Should I use another jupyterhub kernel perhaps?</p>
<p>And last to add, everything works fine with another Anaconda enviroment based on Python 2.7.16 |Anaconda, Inc.| (default, Mar 14 2019, 21:00:58). The issue occurs when I try to use newer Anaconda enviroment.</p>
",341,1,<python><apache-spark><pyspark><jupyterhub><livy>,2021-07-21 22:38:39
68459573,JupyterLab: How attach an python call back function to a button created using Custom Widget?,"<p>When, I created a form using the interactive class It's easy to provide a python call-back function, as shown in the example, <code>My_CallBack_function</code>, to a click event.</p>
<pre><code>from ipywidgets import interactive, widgets

slow = interactive(My_CallBack_function, {'manual': True}, i=widgets.FloatSlider(min=1e4, max=1e6, step=1e4))
</code></pre>
<p>How to run a python code or python call function 'on click' if form and button are created as a custom widget.</p>
",246,0,<jupyter-notebook><jupyter><jupyter-lab><jupyterhub><jupyter-console>,2021-07-20 18:12:55
68439798,Save map with widget as video/html_video,"<p>I created a map with a widget. The widget looks as following:</p>
<pre><code>time_slider = widgets.interactive(var_map_interactive, time_sel=widgets.IntSlider(description = &quot;Time&quot;, min = 0, max = t_end, step = 5, readout_format = &quot;d&quot;), continous_update = True)
</code></pre>
<p>I now wanted to save this as a widget stream using the WidgetStream from ipywebrtc</p>
<pre><code>view_stream = WidgetStream(widget=time_slider)
</code></pre>
<p>and then as a VideoRecorder</p>
<pre><code>recorder = VideoRecorder(stream=view_stream)
</code></pre>
<p>However, eventhough the map with the widget works on its own in my Jupyter notebook, the &quot;recorder&quot; does not display anything.
Any ideas why this is happening?</p>
<p>Also, how would I be able to create a html_video out from the recording?</p>
<p>Thanks for your help!</p>
",73,1,<python><widget><html5-video><ipywidgets>,2021-07-19 11:34:36
68401308,Mounting an SMB or NFT Azure File share onto JupyterHub on kubernetes for a shared directory,"<h3 id=""cluster-information-mgcq"">Cluster information:</h3>
<p>Kubernetes version: 1.19.11</p>
<p>Cloud being used: Azure</p>
<p>Installation method: Manual creation in Azure online UI/Azure CLI</p>
<p>Host OS: Linux</p>
<p>CNI and version: Azure container networking interface, most recent</p>
<p>Hey everyone! I'm a relatively new user of Kubernetes, but I think I've got the basics down. I'm mainly trying to understand a more complex file share feature.</p>
<p>I’m essentially trying to use JupyterHub on Kubernetes for a shared development environment for a team of about a dozen users (we may expand this to larger/other teams later, but for now I want to get this working for just our team), and one feature that would be extremely helpful, and looks doable, is having a shared directory for notebooks, files, and data. I think I’m pretty close to getting this set-up, but I’m running into a mounting issue that I can’t quite resolve. I’ll quickly explain my setup first and then the issue. I’d really appreciate any help/comments/hints that anyone has!</p>
<h1 id=""setup-njai"">Setup</h1>
<p>Currently, all of this setup is on a Kubernetes cluster in Azure or other Azure-hosted services. We have a resource group with a kubernetes cluster, App Service Domain, DNS Zone, virtual network, container registry (for our custom docker images), and storage account. Everything works fine, except that in the storage account, I have an Azure NFS (and plain SMB if needed) file share that I’ve tried mounting via a PV and PVC to a JupyterHub server, but to no avail.</p>
<p>To create the PV, I set up an NFS file share in Azure and created the appropriate kubernetes secret as follows:</p>
<pre class=""lang-sh prettyprint-override""><code> # Get storage account key
STORAGE_KEY=$(az storage account keys list --resource-group $resourceGroupName --account-name $storageAccountName --query &quot;[0].value&quot; -o tsv)

kubectl create secret generic azure-secret \ 
    --from-literal=azurestorageaccountname=$storageAccountName \ 
    --from-literal=azurestorageaccountkey=$STORAGE_KEY
</code></pre>
<p>I then tried to create the PV with this YAML file:</p>
<pre class=""lang-yaml prettyprint-override""><code>apiVersion: v1
kind: PersistentVolume
metadata:
  name: shared-nfs-pv
spec:
  capacity:
    storage: 100Gi
  accessModes:
    - ReadWriteMany
  azureFile:
    secretName: azure-secret
    shareName: aksshare
    readOnly: false
  nfs:
    server: wintermutessd.file.core.windows.net:/wintermutessd/wintermutessdshare
    path: /home/shared
    readOnly: false
  storageClassName: premium-nfs
  mountOptions: 
  - dir_mode=0777
  - file_mode=0777
  - uid=1000
  - gid=1000
  - mfsymlinks
  - nobrl
</code></pre>
<h1 id=""issue-fe2n"">Issue</h1>
<p>During the creation of the PV, I get the error <code>Failed to create the persistentvolume 'shared-nfs-pv'. Error: Invalid (422) : PersistentVolume &quot;shared-nfs-pv&quot; is invalid: spec.azureFile: Forbidden: may not specify more than 1 volume type</code>. Removing the <code>azureFile</code> options solves this error, but I feel like it would be necessary to specify the kubernetes secret that I created. If I do remove the <code>azureFile</code> options, it does successfully create and bind the PV. Then I created the corresponding PVC with</p>
<pre class=""lang-yaml prettyprint-override""><code>apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: shared-nfs-pvc
spec:
  accessModes:
    - ReadWriteMany
  # Match name of PV
  volumeName: shared-nfs-pv
  storageClassName: premium-nfs
  resources:
    requests:
      storage: 50Gi
</code></pre>
<p>which also successfully bound. However, when I add the configuration to my Helm config for JupyterHub with</p>
<pre class=""lang-yaml prettyprint-override""><code>singleuser:
  storage:
    extraVolumes:
      - name: azure
        persistentVolumeClaim:
          claimName: azurefile
    extraVolumeMounts:
      - name: azure
        mountPath: /home/shared
</code></pre>
<p>I get the following error when the jupyterhub server tries to spawn and mount the PVC:</p>
<p><a href=""https://i.stack.imgur.com/uyFJu.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/uyFJu.png"" alt=""Error message from jupyterhub"" /></a></p>
<p>Just in case this is relevant, the NFS azure file share is only accessible via a private endpoint, but this should be fine since my kubernetes cluster is running in the same virtual network. In fact, Azure tells me that I could just mount this NFS share on linux with</p>
<pre class=""lang-sh prettyprint-override""><code>sudo apt-get -y update
sudo apt-get install nfs-common
sudo mkdir -p /mount/wintermutessd/wintermutessdshare
sudo mount -t nfs wintermutessd.file.core.windows.net:/wintermutessd/wintermutessdshare /mount/wintermutessd/wintermutessdshare -o vers=4,minorversion=1,sec=sys
</code></pre>
<p>But when I add this to my Dockerfile for the docker image that I'm using in my container, the build fails and tells me that <code>systemctl</code> isn't installed. Trying to add this through <code>apt-get install systemd</code> doesn't resolve the issue either.</p>
<p>From looking at other K8s discourse posts, I found this one ( <a href=""https://discuss.kubernetes.io/t/file-based-data-exchange-between-pods-and-daemon-set/16710"" rel=""nofollow noreferrer"">File based data exchange between pods and daemon-set - General Discussions - Discuss Kubernetes</a>) which looked helpful and has a <a href=""https://gist.github.com/protosam/05529f26fbc2b7be3ad28d7022729d43"" rel=""nofollow noreferrer"">useful link</a> to deploying an NSF server, but I think the fact that my NFS server is an Azure file share makes this a slightly different scenario.</p>
<p>If anyone has any ideas or suggestions, I'd really appreciate it!</p>
<p>P.S. I had previously posted on the JupyterHub discourse here ( <a href=""https://discourse.jupyter.org/t/mounting-an-smb-or-nft-azure-file-share-onto-jupyterhub-on-kubernetes-for-a-shared-directory/9956"" rel=""nofollow noreferrer"">Mounting an SMB or NFT Azure File share onto JupyterHub on kubernetes for a shared directory - JupyterHub - Jupyter Community Forum</a>), but it was suggested that my issue is more of a k8s issue rather than a JupyterHub one. I also looked at <a href=""https://stackoverflow.com/questions/63136707/identity-authentication-over-smb-for-azure-file-share"">this other stackoverflow post</a>, but, even though I am open to an SMB file share, it has to do more with VMs and not with PV/PVCs on kubernetes.</p>
<p>Thank you! :)</p>
",446,0,<azure><docker><kubernetes><kubernetes-helm><jupyterhub>,2021-07-15 22:11:48
68392316,Jupyter ipywidgets box not resizing after content change,"<p>I'm trying to set the number of inputs in a section to match a slider. This works fine until I try to have the box resize to the number of inputs. If I hide one of the inputs with a button instead it works fine.</p>
<p>I have a widget setup that allows collapsing sections with a button:</p>
<pre class=""lang-py prettyprint-override""><code>from IPython.display import display
import ipywidgets as widgets
button = widgets.Button(description=&quot;Click Me!&quot;)
output = widgets.Output()

label = widgets.Label(&quot;hello&quot;)
inputs = [
    widgets.Label(&quot;A&quot;),
    widgets.Label(&quot;B&quot;),
    widgets.Label(&quot;C&quot;),
    widgets.Label(&quot;D&quot;),
]
section = widgets.VBox(inputs)
def on_button_clicked(b):
    inputs[2].layout.visibility = 'visible' if inputs[2].layout.visibility == 'hidden' else 'hidden'
    inputs[2].layout.height = '0' if inputs[2].layout.visibility == 'hidden' else 'auto'
    
button.on_click(on_button_clicked)
display(widgets.Box([label, button, section]))
display(output)
</code></pre>
<p>But when using a slider instead it does not expand the box to fit the inputs:</p>
<pre class=""lang-py prettyprint-override""><code>from IPython.display import display
import ipywidgets as widgets

inputs = [widgets.Text() for _ in range(10)]
field_count = widgets.IntSlider(min=0, max=len(inputs)-1)
input_container = widgets.VBox(inputs)

def limit_inputs_to_slider(sender):
    for i, inputItem in enumerate(inputs):
        if i &gt; field_count.value:
            inputItem.layout.visibility = &quot;hidden&quot;
            inputItem.layout.max_height = &quot;0&quot;
        else:
            inputItem.layout.visibility = &quot;visible&quot;
            inputItem.layout.max_height = &quot;100&quot;

field_count.observe(limit_inputs_to_slider, names=&quot;value&quot;)

display(field_count)
display(input_container)

</code></pre>
",136,0,<python><jupyter><ipywidgets>,2021-07-15 10:40:52
68323922,GoldenLayout(ipygoldenlayout): How to programmatically change Tabs?,"<p>I'm trying to find a way to programmatically change tabs in ipyGoldenLayout. Is there any way I could do it?
<a href=""https://i.stack.imgur.com/1mgkI.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/1mgkI.png"" alt=""Here are the tabs I want to be able to switch tabs."" /></a></p>
<pre><code>import ipyvuetify as v
from traitlets import Unicode
from ipygoldenlayout import GoldenLayout

gl = GoldenLayout()

class TestGL(v.VuetifyTemplate):
    template = Unicode(&quot;&quot;&quot;
    &lt;golden-layout style=&quot;height: 200px&quot;&gt;
      &lt;gl-row&gt;
        &lt;gl-component title=&quot;component1&quot;&gt;
          &lt;h1&gt;Component 1&lt;/h1&gt;
        &lt;/gl-component&gt;
        &lt;gl-stack&gt;
          &lt;gl-component title=&quot;component2&quot;&gt;
            &lt;h1&gt;Component 2&lt;/h1&gt;
          &lt;/gl-component&gt;
          &lt;gl-component title=&quot;component3&quot;&gt;
            &lt;h1&gt;Component 3&lt;/h1&gt;
          &lt;/gl-component&gt;
        &lt;/gl-stack&gt;
      &lt;/gl-row&gt;
    &lt;/golden-layout&gt;
    &quot;&quot;&quot;).tag(sync=True)
</code></pre>
",139,1,<python><jupyter-lab><ipywidgets><golden-layout><ipyvuetify>,2021-07-10 01:02:34
68321891,"JupyterHub Helm install: function ""dig"" not defined","<p>I tried installing JupyterHub 1.0.1 using Helm 3.4.0, but get this error about a dig function.</p>
<pre><code>&quot;jupyterhub&quot; already exists with the same configuration, skipping
Hang tight while we grab the latest from your chart repositories...
...Successfully got an update from the &quot;jupyterhub&quot; chart repository
Update Complete. ⎈Happy Helming!⎈
Release &quot;jupyterhub&quot; does not exist. Installing it now.
Error: parse error at (jupyterhub/templates/hub/_helpers-passwords.tpl:35): function &quot;dig&quot; not defined
</code></pre>
",1899,3,<jupyter><kubernetes-helm><jupyterhub>,2021-07-09 19:28:28
68320069,Unable to use conda in JupyterHub,"<p>I am currently using &quot;the littlest JupyterHub.&quot;
When I following the guide and try to use conda to install some package, it comes up with this message and seems like noting have been done.</p>
<pre><code>$ sudo -E conda install -c conda-forge gdal
Collecting package metadata (current_repodata.json): | Killed
</code></pre>
<p>What should I do to fix it. Thank you!</p>
",42,1,<installation><conda><jupyterhub>,2021-07-09 16:29:27
68290904,"How to pronounce ""Jupyter"" e.g. in ""Jupyter Notebook""?","<p>I have heard a lot of people saying &quot;Jupyter&quot; with &quot;py&quot; as in Python, while others say &quot;Jupyter&quot;, with &quot;py&quot; as in the name of the planet.
So, what is the most correct form?</p>
",4426,8,<jupyter-notebook><jupyter-lab><jupyterhub>,2021-07-07 17:49:38
68223164,Jupyter hub behind kubernetes ingress,"<p>folks.</p>
<p>I used freshly installed jupyter hub behind k8s ingress controller with self-signed ssl certificate, tried to use:</p>
<pre><code>proxy:
  https:
    enabled: true
    type: offload
</code></pre>
<p>But when I open /hub/ i got:</p>
<pre><code>500 : Internal Server Error
[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get issuer certificate (_ssl.c:1123)
</code></pre>
<p>In jupiterhub logs i can see:</p>
<pre><code>WARNING:urllib3.connectionpool:Retrying (Retry(total=2, connect=None, read=None, redirect=None, status=None)) after connection broken by 'SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get issuer certificate (_ssl.c:1123)'))': /api/v1/namespaces/jupiter/pods?fieldSelector=&amp;labelSelector=component%3Dsingleuser-server
</code></pre>
<p>And there is no explanation for how to disable SSL verify for self-signed certs.</p>
<p>How to disable SSL verify ?</p>
<p>Found description of my issue here - <a href=""https://github.com/jupyterhub/zero-to-jupyterhub-k8s/issues/943"" rel=""nofollow noreferrer"">https://github.com/jupyterhub/zero-to-jupyterhub-k8s/issues/943</a></p>
<p>But there is no solution :/</p>
",677,0,<jupyter-notebook><jupyterhub>,2021-07-02 09:55:39
68205266,Install R in Jupyterhub,"<p>I plan on use R inside Python using the rpy2 package in Jupyterhub.</p>
<p>I'm using conda 4.9.2</p>
<pre><code>$ conda install -c r r-essentials
Collecting package metadata (current_repodata.json): done
Solving environment: failed with initial frozen solve. Retrying with flexible solve.
Solving environment: failed with repodata from current_repodata.json, will retry with next repodata source.

ResolvePackageNotFound: 
- conda==4.8.1
</code></pre>
<p>and trying to downgrad conda 4.8.1, But this error occured.</p>
<pre><code>EnvironmentNotWritableError: The current user does not have write permissions to the target environment.
</code></pre>
<p>Is there anything I can do?</p>
",111,0,<python><rpy2><jupyter-irkernel>,2021-07-01 06:23:49
68199583,Jupyter Notebook cell number is blank after execution,"<p>As you can see <a href=""https://i.stack.imgur.com/knIlJ.png"" rel=""nofollow noreferrer"">here</a>, after I attempt to train my model in this cell, the asterisk disappears and the brackets are blank instead of containing a number. Do you know why this is happening, and how I can fix it? I'm running python 3.7 and TensorFlow 2.5.0.</p>
",411,-1,<keras><jupyter-notebook><jupyter><jupyterhub>,2021-06-30 17:59:41
68190232,Add shared volume from Jupyterhub container TO notebook container,"<p>I'm running <a href=""https://github.com/jupyterhub/jupyterhub-deploy-docker"" rel=""nofollow noreferrer"">https://github.com/jupyterhub/jupyterhub-deploy-docker</a> on a VM. I correctly set up everything, but now I need the spawned notebook <strong>to contain</strong> a shared folder with some data that I have on the VM. <br/>
I edited the docker-compose file in order to have the &quot;shared&quot; folder initially on the VM also present on the JupyterHub container, adding the last line in this snippet:</p>
<pre><code>volumes:
      # Bind Docker socket on the host so we can connect to the daemon from
      # within the container
      - &quot;/var/run/docker.sock:/var/run/docker.sock:rw&quot;
      # Bind Docker volume on host for JupyterHub database and cookie secrets
      - &quot;data:${DATA_VOLUME_CONTAINER}&quot;
      #Add a &quot;shared&quot; folder on the VM to the JupyterHub container
      - &quot;./shared:/shared&quot;
</code></pre>
<p>But then I don't know how to link that folder to the notebook. I tried with
<code>c.DockerSpawner.volumes = { 'jupyterhub-user-{username}': notebook_dir,  '/shared': {&quot;bind&quot;: '/home/jovyan/work/shared', &quot;mode&quot;: &quot;ro&quot;}}</code>
inside the jupyterhub_config.py, but nothing happens.
Any suggestions?</p>
",182,1,<docker><docker-compose><jupyter-notebook><docker-volume><jupyterhub>,2021-06-30 07:27:47
68185409,Getting 404 for jupyterLab on jupyterHub,"<p>So I'm trying to setup JupyterHub service with JupyterLab on it in production mode (Centos). For the simplicity, I have chosen system user authentication (PAM). So now I have several users with the ability to run individual servers. The problem is that I need to setup a JupyterLab so they could work properly.
I did everything (and probably a little more) jupyterhub docs tells to do:</p>
<ol>
<li>Enable jupyterlab extension system-wide (<code>jupyter serverextension enable --py jupyterlab --sys-prefix</code>)</li>
<li>Added needded config option (<code>c.Spawner.cmd = [&quot;jupyter-labhub&quot;]</code>)</li>
<li>Some other useless stuff
But the <code>/lab</code> url still returning 404 error.
Related console output:</li>
</ol>
<pre><code>Jun 29 14:48:51 jupyter-infra-1 pipenv[11806]: Message: '404 GET /user/nataliya/lab (nataliya@::ffff:127.0.0.1) 57.16ms'                                
Jun 29 14:48:51 jupyter-infra-1 pipenv[11806]: Arguments: ()                                                                                           
Jun 29 14:48:51 jupyter-infra-1 pipenv[11806]: --- Logging error ---                                              
Jun 29 14:48:51 jupyter-infra-1 pipenv[11806]: Traceback (most recent call last):                                                                       Jun 29 14:48:51 jupyter-infra-1 pipenv[11806]:  File &quot;/usr/local/lib64/python3.8/site-packages/tornado/web.py&quot;, line 1681, in _execute
Jun 29 14:48:51 jupyter-infra-1 pipenv[11806]:    result = self.prepare()                                                                               
Jun 29 14:48:51 jupyter-infra-1 pipenv[11806]:  File &quot;/usr/local/lib/python3.8/site-packages/notebook/base/handlers.py&quot;, line 697, in prepare          
Jun 29 14:48:51 jupyter-infra-1 pipenv[11806]:    raise web.HTTPError(404)                                                                              
Jun 29 14:48:51 jupyter-infra-1 pipenv[11806]: tornado.web.HTTPError: HTTP 404: Not Found
</code></pre>
<p>Probably not related console output:</p>
<pre><code>Jun 29 14:39:36 jupyter-infra-1 pipenv[11806]:    raise web.HTTPError(404, u'Kernel does not exist: %s' % kernel_id)                                    
Jun 29 14:39:36 jupyter-infra-1 pipenv[11806]: tornado.web.HTTPError: HTTP 404: Not Found (Kernel does not exist: d85c98fa-2998-4fb3-85e2-8dc6ecbd093a) 
Jun 29 14:39:36 jupyter-infra-1 pipenv[11806]: During handling of the above exception, another exception occurred:                                     
Jun 29 14:39:36 jupyter-infra-1 pipenv[11806]: Traceback (most recent call last):                                                                      
Jun 29 14:39:36 jupyter-infra-1 pipenv[11806]:  File &quot;/usr/lib64/python3.8/logging/__init__.py&quot;, line 1081, in emit                                     
Jun 29 14:39:36 jupyter-infra-1 pipenv[11806]:    msg = self.format(record)                                                                            
Jun 29 14:39:36 jupyter-infra-1 pipenv[11806]:  File &quot;/usr/lib64/python3.8/logging/__init__.py&quot;, line 925, in format                                   
Jun 29 14:39:36 jupyter-infra-1 pipenv[11806]:    return fmt.format(record)                                                                             
Jun 29 14:39:36 jupyter-infra-1 pipenv[11806]:  File &quot;/usr/local/lib64/python3.8/site-packages/tornado/log.py&quot;, line 196, in format                     
Jun 29 14:39:36 jupyter-infra-1 pipenv[11806]:    formatted = self._fmt % record.__dict__      
</code></pre>
<p>I'm out of any ideas, so would be appreciated for any.</p>
",734,0,<centos><jupyter><jupyterhub>,2021-06-29 20:43:19
68094530,fatal error installing systemfonts in jupyter R docker,"<p>I am running jupyterlabs on docker and wanted to install the <code>rvg</code> package. One of the dependencies are <code>systemfonts</code>, and when I tried to install this using <code>install.packages(&quot;systemfonts&quot;)</code> I get:</p>
<pre><code>Warning: unable to access index for repository https://cran.yu.ac.kr/src/contrib:
  cannot open URL 'https://cran.yu.ac.kr/src/contrib/PACKAGES'
Warning message:
package ‘systemfonts’ is not available for this version of R

A version of this package for your version of R might be available elsewhere,
see the ideas at
https://cran.r-project.org/doc/manuals/r-patched/R-admin.html#Installing-packages
</code></pre>
<p>So I downloaded the <code>tar.gz</code> file from CRAN and installed from file, but I get a fatal error:</p>
<pre><code>    &gt; install.packages(&quot;systemfonts_1.0.2.tar.gz&quot;, repo = NULL, type = &quot;source&quot;)
* installing *source* package ‘systemfonts’ ...
** package ‘systemfonts’ successfully unpacked and MD5 sums checked
** using staged installation
Using PKG_CFLAGS=
Using PKG_LIBS=-lfontconfig -lfreetype
** libs
rm -f systemfonts.so caches.o cpp11.o dev_metrics.o font_matching.o font_registry.o ft_cache.o string_shape.o font_metrics.o font_fallback.o string_metrics.o emoji.o cache_store.o init.o unix/FontManagerLinux.o
x86_64-conda-linux-gnu-c++ -std=gnu++11 -I&quot;/opt/conda/lib/R/include&quot; -DNDEBUG  -I'/opt/conda/lib/R/library/cpp11/include' -DNDEBUG -D_FORTIFY_SOURCE=2 -O2 -isystem /opt/conda/include -I/opt/conda/include -Wl,-rpath-link,/opt/conda/lib   -fpic  -fvisibility-inlines-hidden  -fmessage-length=0 -march=nocona -mtune=haswell -ftree-vectorize -fPIC -fstack-protector-strong -fno-plt -O2 -ffunction-sections -pipe -isystem /opt/conda/include -fdebug-prefix-map=/home/conda/feedstock_root/build_artifacts/r-base-split_1607284869564/work=/usr/local/src/conda/r-base-4.0.3 -fdebug-prefix-map=/opt/conda=/usr/local/src/conda-prefix  -c caches.cpp -o caches.o
In file included from caches.h:7,
                 from caches.cpp:1:
ft_cache.h:9:10: fatal error: ft2build.h: No such file or directory
    9 | #include &lt;ft2build.h&gt;
      |          ^~~~~~~~~~~~
compilation terminated.
make: *** [/opt/conda/lib/R/etc/Makeconf:181: caches.o] Error 1
ERROR: compilation failed for package ‘systemfonts’
* removing ‘/opt/conda/lib/R/library/systemfonts’
Warning message:
In install.packages(&quot;work/corehead_data/systemfonts_1.0.2.tar.gz&quot;,  :
  installation of package ‘work/corehead_data/systemfonts_1.0.2.tar.gz’ had non-zero exit status
</code></pre>
<p>I tried to follow this <a href=""https://stackoverflow.com/questions/62372181/unavailable-to-install-systemfonts-packages-in-bioconductor-3-12-r-4-0-1"">SO Post</a>, by typing in <code>sudo apt-get install -y libfreetype6</code> to get <code>freetype</code>, but it is already the newest version. I'm not sure what else to try, hopefully someone can provide some expertise. Thanks.</p>
",672,0,<r><jupyter-lab><jupyter-irkernel>,2021-06-23 06:21:53
68092127,How to use a tqdm progress bar in Jupyter?,"<p>I am coding an interface using the Jupyter widgets where the user configures a bunch of settings and then clicks a &quot;Run&quot; button. On clicking, this button calls a function implemented in another module. That function takes some time to run, so I added to it a progress bar using the <code>tqdm</code> package. Unfortunately, when I click &quot;Run&quot;, this progress bar is now displayed in another terminal, rather than within the output of the cell. Is there a way to have the bar be displayed within the same cell output?</p>
",2358,4,<python><jupyter-lab><ipywidgets><tqdm>,2021-06-23 00:28:35
68086825,Ipywidgets: alter slider defaults based on a scenario,"<p>I'm using ipywidges to create a plot. I'd like to have a dropdown with options (e.g. Scenario A, Scenario B). Each scenario should change the slider position (a=0, b=1), and one should be able to modify the parameters freely afterwards. Any ideas?</p>
<p>Here is my toy example:</p>
<pre><code>import ipywidgets as widgets

def line(a=0,b=1):
    #fig, ax = plt.subplots(figsize=(6, 4))
    x = np.arange(-10,10)
    y = a+xrange*b
    plt.xlim((-10,10))
    plt.ylim((-10,10))
    plt.plot(x, y)
    
widgets.interact(line, a=(-10,10,0.1), b=(-10,10,0.1))
</code></pre>
<p><a href=""https://i.stack.imgur.com/zvzCq.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/zvzCq.png"" alt=""enter image description here"" /></a></p>
<p>I was playing with an additional wrapper functions but with no success. In reality of course, I would like to have a few more scenarios and a lot more parameters.</p>
",274,0,<python><jupyter-notebook><widget><ipython><ipywidgets>,2021-06-22 15:49:32
68069226,Jupyterhub on Kubernetes: Automated pvcs are not creating new local persistent volumes,"<p>I try to deploy Jupyterhub (Zero to Hero) on my local Kubernetes in a RHEL 8 machine.
After hours of trying the basic service is running now. I created a pv for the main service, which works fine.</p>
<pre><code>Name:              hub-db-dir
Labels:            &lt;none&gt;
Annotations:       pv.kubernetes.io/bound-by-controller: yes
Finalizers:        [kubernetes.io/pv-protection]
StorageClass:      local-storage
Status:            Bound
Claim:             jupyter/hub-db-dir
Reclaim Policy:    Retain
Access Modes:      RWO
VolumeMode:        Filesystem
Capacity:          5Gi
Node Affinity:
  Required Terms:
    Term 0:        kubernetes.io/hostname in [host]
Message:
Source:
    Type:  LocalVolume (a persistent volume backed by local storage on a node)
    Path:  /temp
Events:    &lt;none&gt;
</code></pre>
<p>But as soon as I log in, I get the following message:
<a href=""https://i.stack.imgur.com/9iEz4.png"" rel=""nofollow noreferrer"">Screenshot</a></p>
<p>I figured out that K8 doesn't create a new pv on it's own. Even when I create one (with the appropriate name), it fails.</p>
<p>Does anyone has a solution for that?</p>
<p>My StorageClass:</p>
<pre><code>Name:            local-storage
IsDefaultClass:  Yes
Annotations:     kubectl.kubernetes.io/last-applied-configuration={&quot;apiVersion&quot;:&quot;storage.k8s.io/v1&quot;,&quot;kind&quot;:&quot;StorageClass&quot;,&quot;metadata&quot;:{&quot;annotations&quot;:{&quot;storageclass.kubernetes.io/is-default-class&quot;:&quot;true&quot;},&quot;name&quot;:&quot;local-storage&quot;},&quot;provisioner&quot;:&quot;kubernetes.io/no-provisioner&quot;,&quot;volumeBindingMode&quot;:&quot;WaitForFirstConsumer&quot;}
,storageclass.kubernetes.io/is-default-class=true
Provisioner:           kubernetes.io/no-provisioner
Parameters:            &lt;none&gt;
AllowVolumeExpansion:  &lt;unset&gt;
MountOptions:          &lt;none&gt;
ReclaimPolicy:         Delete
VolumeBindingMode:     WaitForFirstConsumer
Events:                &lt;none&gt;
</code></pre>
",377,0,<kubernetes><jupyterhub><persistent-volumes><persistent-volume-claims>,2021-06-21 13:55:33
68065427,Set default value to ipywidgets - Python,"<p>I am creating a <code>BoundedIntText</code> widget using <code>ipywidgets</code> with the following code:</p>
<pre><code>import ipywidgets as widgets

mywidget = widgets.BoundedIntText(min=0, max=100, step=1, description='CC (%):', disabled=False)
</code></pre>
<p>Nothign wrong with that, but when displaying it, the default value is 0 (or whatever <code>min</code> value I set).</p>
<pre><code>display(mywidget)
mywidget.value
</code></pre>
<p><a href=""https://i.stack.imgur.com/8H7AP.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/8H7AP.png"" alt=""enter image description here"" /></a></p>
<p>My question is, how can I make so that the when displaying the widget, the default value until a user introduces an input is <code>None</code> (or something different that 0)?</p>
",349,1,<python><widget><ipywidgets>,2021-06-21 09:18:58
68026298,"Default Value Error Python, ipywidgets : When linking model to widget","<p>I am linking <strong>model</strong> with <strong>ipywidgets</strong>  as below:</p>
<pre><code>import ipywidgets as w
import traitlets as t
from enum import Enum 

class A(t.HasTraits):
   trait_A = t.Enum(..., defaultValue=...)

   def __init__(self):
     pass

dropdown_widg = w.Dropdown(options(['0', ...], ['1',...])
</code></pre>
<p>creation of link between widget and model is defined as below:</p>
<pre><code>a = A()
w.link((a, 'trait_A'), (dropdown_widg, value))
</code></pre>
<p>As soon as i run the <strong>Jupyter</strong> notebook, I am getting below error</p>
<blockquote>
<p>No default value found for trait_A trait of ...</p>
</blockquote>
<p>P.S: I have debugged this issue and doing below will solve the issue</p>
<pre><code>def __init__(self):
  trait_A = EnumType.ZERO
</code></pre>
<p>as above will assign default value to traitlet.</p>
<p><em><strong>My question is that</strong></em> : Do i need to do it for every trait that i define under class? Say I have 20 traits under class and in <code>__init__</code>, do i need to assign default values to all 20 traits.</p>
<p>:) <em>I am newbie in Python</em> :)</p>
",91,1,<python><python-3.x><jupyter-notebook><jupyter-lab><ipywidgets>,2021-06-17 20:41:20
68020217,"Way to get current state of hidden/non-hidden traces on a plotly graph (Python3, Plotly.graph_objs)","<p>I am using the the Python3 version of plotly.graph_objs as well as ipywidgets to create an interactive graph. My data has multiple columns that can be selected from a dropdown. I <strong>NEED</strong> to use the <strong>ipywidget interactive output</strong> to accomplish this.</p>
<p>The full data has about 20 traces which I want the user to be able to disable by clicking on the plotly legend element associated with that trace. There will also be other ipywidgets to filter the data with.</p>
<p>Any time a filter is changed, the plot seems to be redrawn. The problem with this is that the state of which traces were hidden is lost. I.e. if I hide trace 1, then update the column dropdown, all plots are visible again once the data is updated.</p>
<p><strong>Is there a way to get the state of which traces are hidden/visible from plotly?</strong> Is there an event listener I can get access to to call a function when a trace is disabled? I know I can set the visibility of a trace myself in a function, but I have not been able to find a way of getting the current state before updating a dropdown.</p>
<p>Code:</p>
<pre><code>import random
import plotly.graph_objs as go
from  plotly.offline import *
init_notebook_mode(connected=False)
import ipywidgets as widgets

cols = ['col1', 'col2']
y1 = [random.randrange(1, 100, 1) for i in range(100)]
y2 = [random.randrange(1, 100, 1) for i in range(100)]
y3 = [random.randrange(1, 100, 1) for i in range(100)]
x = [i for i in range(0,20)]

g = {}

col_widget = widgets.Dropdown(options = cols, description='Column', continuous_update=False)

def update_col(change):
    pass

col_widget.observe(update_col, names='value')

def plot_graph(col):
    global g
    traces = []
    
    trace1 = go.Scatter(
                x = x,
                y = y1,
                mode = 'lines',
                visible = True
            )

    traces.append(trace1)
    
    trace2 = go.Scatter(
                x = x,
                y = y2,
                mode = 'lines',
                visible = True
            )

    traces.append(trace2)
    
    trace3 = go.Scatter(
                x = x,
                y = y3,
                mode = 'lines',
                visible = True
            )

    traces.append(trace3)

    g = dict(data = traces)
    iplot(g)

out = widgets.interactive_output(plot_graph, {'col' : col_widget})
display(col_widget, out)
</code></pre>
<p>In separate cell:</p>
<pre><code>g['data'][0]
</code></pre>
<p>^This lets you see the data associated with the first trace. It does not change when you disable a trace in the plot.</p>
",210,2,<python><plot><plotly><scatter-plot><ipywidgets>,2021-06-17 13:19:31
67998191,ImportError: IProgress not found. Please update jupyter and ipywidgets although it is installed,"<p>I am using jupyter notebook and installed</p>
<pre><code>ipywidgets==7.4.2 widgetsnbextension pandas-profiling=='.0.0
</code></pre>
<p>and also I ran:</p>
<pre><code>!jupyter nbextension enable --py widgetsnbextension
</code></pre>
<p>but when runninhg</p>
<pre><code>from pandas_profiling import ProfileReport
profile = ProfileReport(df, title=&quot;Pandas Profiling Report&quot;, explorative=True)
profile.to_widgets()
</code></pre>
<p>I get the error:</p>
<pre><code>ImportError: IProgress not found. Please update jupyter and ipywidgets. See https://ipywidgets.readthedocs.io/en/stable/user_install.html
</code></pre>
<p>Any idea why?
Tried proposed solutions.</p>
",47048,22,<pandas><jupyter-notebook><jupyter><ipywidgets><pandas-profiling>,2021-06-16 07:27:33
67987106,Dropdown Ipywidgets for a particular dataset,"<p>I have a dataset 'unique_words_df' with three columns &quot;postal code&quot;, word_count&quot; and 'unique_word'.</p>
<p><a href=""https://i.stack.imgur.com/8IRmH.png"" rel=""nofollow noreferrer"">enter image description here</a></p>
<p>I want to create a dropdown ipy-widget using the &quot;postal_code&quot; as the dropdown and then I want to plot a count-plot with 'unique_word' on the x-axis. Can anyone give an idea. I tried but it is not working. Error shown is shown below. But the temp data frame looks fine to me.</p>
<pre><code>def count_plotter(col = 'postal_code'):
temp = unique_words_df.groupby(col)
sns.countplot(x='unique_word', data=temp)
return temp

col_selector =  widgets.Dropdown(
    options=list(unique_words_df['postal_code'].unique()),
    value='32822',
    description='PINCODE')

interact(count_plotter, col = col_selector)
</code></pre>
<p>Error:</p>
<pre><code>~/opt/anaconda3/lib/python3.8/site-packages/ipywidgets/widgets/interaction.py in update(self, *args)
    254                     value = widget.get_interact_value()
    255                     self.kwargs[widget._kwarg] = value
--&gt; 256                 self.result = self.f(**self.kwargs)
    257                 show_inline_matplotlib_plots()
    258                 if self.auto_display and self.result is not None:

&lt;ipython-input-41-b7e91f1f6779&gt; in count_plot(col)
      1 def count_plot(col = 'postal_code'):
----&gt; 2     temp = unique_words_df.groupby(col)
      3     sns.countplot(x='unique_word', data=temp)
      4     return temp
      5 col_selector =  widgets.Dropdown(

~/opt/anaconda3/lib/python3.8/site-packages/pandas/core/frame.py in groupby(self, by, axis, level, as_index, sort, group_keys, squeeze, observed, dropna)
   6509         axis = self._get_axis_number(axis)
   6510 
-&gt; 6511         return DataFrameGroupBy(
   6512             obj=self,
   6513             keys=by,

~/opt/anaconda3/lib/python3.8/site-packages/pandas/core/groupby/groupby.py in __init__(self, obj, keys, axis, level, grouper, exclusions, selection, as_index, sort, group_keys, squeeze, observed, mutated, dropna)
    523             from pandas.core.groupby.grouper import get_grouper
    524 
--&gt; 525             grouper, exclusions, obj = get_grouper(
    526                 obj,
    527                 keys,

~/opt/anaconda3/lib/python3.8/site-packages/pandas/core/groupby/grouper.py in get_grouper(obj, key, axis, level, sort, observed, mutated, validate, dropna)
    779                 in_axis, name, level, gpr = False, None, gpr, None
    780             else:
--&gt; 781                 raise KeyError(gpr)
    782         elif isinstance(gpr, Grouper) and gpr.key is not None:
    783             # Add key to exclusions

KeyError: '32822'

Out[41]:
&lt;function __main__.count_plot(col='postal_code')&gt;```
</code></pre>
",78,1,<python><ipywidgets>,2021-06-15 13:22:07
67977794,How to embed LiveGraph in ipywidgets Output?,"<p>By using <a href=""https://stackoverflow.com/a/53952210/11885372"">this answer</a> to produce a LiveGraph and <a href=""https://stackoverflow.com/a/15668721/11885372"">this answer</a> to update variables to a thread, I was able to generate a graph that updates itself each second and whose amplitude is determined by a slider (code below). Both answers were incredibly helpful!</p>
<pre><code>%matplotlib notebook
from matplotlib import pyplot as plt
from matplotlib.animation import FuncAnimation
from threading import Thread, Lock
import time
import ipywidgets as widgets
from IPython.display import display
import numpy as np
'''#################### Live Graph ####################''' 
# Create a new class which is a live graph
class LiveGraph(object):
    def __init__(self, baseline):
        self.x_data, self.y_data = [], []
        self.figure = plt.figure()
        self.line, = plt.plot(self.x_data, self.y_data)
        self.animation = FuncAnimation(self.figure, self.update, interval=1200)
        # define variable to be updated as a list
        self.baseline = [baseline]
        self.lock = Lock()
        self.th = Thread(target=self.thread_f, args = (self.baseline,), daemon=True)
        # start thread
        self.th.start()
    
    def update_baseline(self,baseline):
        # updating a list updates the thread argument
        with self.lock:
            self.baseline[0] = baseline
    
    # Updates animation
    def update(self, frame):
        self.line.set_data(self.x_data, self.y_data)
        self.figure.gca().relim()
        self.figure.gca().autoscale_view()
        return self.line,
    
    def show(self):
        plt.show()
    
    # Function called by thread that updates variables
    def thread_f(self, base):
        x = 0
        while True:
            self.x_data.append(x)
            x += 1
            self.y_data.append(base[0])    
            time.sleep(1)  
            
'''#################### Slider ####################'''            
# Function that updates baseline to slider value
def update_baseline(v):
    global g
    new_value = v['new']
    g.update_baseline(new_value)
    
slider = widgets.IntSlider(
    value=10,
    min=0,
    max=200,
    step=1,
    description='value:',
    disabled=False,
    continuous_update=False,
    orientation='horizontal',
    readout=True,
    readout_format='d'
)
slider.observe(update_baseline, names = 'value')

'''#################### Display ####################''' 

display(slider)
g = LiveGraph(slider.value)
</code></pre>
<p>Still, I would like to put the graph inside a bigger interface which has other widgets. It seems that I should put the LiveGraph inside the <a href=""https://ipywidgets.readthedocs.io/en/latest/examples/Output%20Widget.html#Output-widgets:-leveraging-Jupyter%27s-display-system"" rel=""nofollow noreferrer"">Output widget</a>, but when I replace the 'Display section' of my code by the code shown below, no figure is displayed.</p>
<pre><code>out = widgets.Output(layout={'border': '1px solid black'})
with out:
    g = LiveGraph(slider.value)

vbox = widgets.VBox([slider,out], align_self='stretch',justify_content='center')       
vbox
</code></pre>
<p>Is there a way to embed this LiveGraph in the output widget or in a <a href=""https://ipywidgets.readthedocs.io/en/latest/examples/Widget%20List.html#Container/Layout-widgets"" rel=""nofollow noreferrer"">box widget</a>?</p>
",119,0,<python><matplotlib><jupyter-notebook><output><ipywidgets>,2021-06-14 22:11:25
67927358,ipywidgets dropdown widgets: How to populate nested widgets based on selected dropdown option on onchange event?,"<p>I am trying to build a widget that parses data from json and populates the tools, base form could contain simple input fields and a drop-down menu option. I want to add nested widgets based on the users choice for example as given below if the user wants an advanced parameter and select the &quot;Full Parameter&quot; option it should populate nested widgets (widget generated based on user input i.e. selected option)</p>
<pre><code>from IPython.display import display
from ipywidgets import Dropdown

def dropdown_eventhandler(change):
    print(change.new)

option_list = (&quot;Full Perameter&quot;, &quot;Default Perameter&quot;)
dropdown = Dropdown(description=&quot;Choose one:&quot;, options=option_list)
dropdown.observe(dropdown_eventhandler, names='value')
display(dropdown)
</code></pre>
<p>I tried several things but, it didn't work. I tried to invoke the underlying widget by providing conditional parameters on the callback function.</p>
",1038,0,<jupyter-notebook><ipython><jupyter-lab><ipywidgets><jupyter-irkernel>,2021-06-10 19:26:55
67914989,Creating virtual environments for JupyterHub,"<p>I am not able to use virtual environments in JupyterHub version 3.0.14. I have no shell access to the server, but I can use the JupyterHub terminal.</p>
<p><strong>step 1</strong></p>
<p>After reading some documentation, I did this:</p>
<ul>
<li>installed <code>ipykernel</code> in the <code>base</code> environment with: <code>pip install --user ipykernel</code> in the JupyterHub terminal.</li>
<li>created a new environment with <code>python -m venv test-env</code></li>
<li>created a new environment with <code>python -m venv test-env2</code></li>
<li>run <code>python -m ipykernel install --user --name=test-env</code></li>
<li>run <code>python -m ipykernel install --user --name=test-env2</code></li>
</ul>
<p>After the previous sub-steps, I find the new environments in JupyterHub and I can open a new notebook using the menu &quot;new&quot;-&gt;&quot;name of the environment&quot;.</p>
<p><strong>step 2</strong></p>
<p>In JupyterHub, I select &quot;new&quot; -&gt; &quot;test-env&quot;. In the new notebook, I try and import a new module, for example, <code>hiplot</code>, receiving an error because it is not installed.</p>
<p>To install <code>hiplot</code> in the <code>test-env</code> environment, I open a JupyterHub terminal, activate the environment with <code>source [...]/bin/activate</code>, then <code>pip install hiplot</code>, with success. If I run python from the command line and <code>import hiplot</code> I receive no errors.</p>
<p><strong>step 3</strong></p>
<p>I create a new notebook in the <code>test-env</code> as in step 2 (&quot;new&quot;-&gt;&quot;test-env&quot; from the menu), but I still cannot use <code>hiplot</code>, that results not installed. If I try and import it, JupyterHub tells me it is not installed.</p>
<p><strong>QUESTION: After steps 2 and 3, I assume that <code>test-env</code> is not referring to the same environment when accessed from the command line or JupyterHub. Am I correct?</strong></p>
<p><strong>step 4</strong></p>
<p>Inside of a notebook running within the <code>test-env</code> in JupyterHub, I run: `</p>
<pre><code>import sys
!{sys.executable} -m pip install hiplot
</code></pre>
<p>After the previous command, I can import <code>hiplot</code> in the current notebook.</p>
<p><strong>BUT</strong></p>
<p><strong>step 5</strong></p>
<p>I open a new JupyterHub notebook in the <code>base</code> or <code>test-env2</code> environments, where I thought <code>hiplot</code> was not be available. But I was wrong: the module <code>hiplot</code> is available in both of them.</p>
<p>It seems that, in step 4, hiplot has been installed in the <code>base</code> environment and is thus available in all the JupyterHub environments.</p>
<p>I tried to repeat the same steps changing step 1: instead of installing ipykernel in the base environment, I installed it in the <code>test-env</code>, with no success.</p>
<p><strong>QUESTIONS: Is it really possible to use environments in JupyterHub? If it is, what am I doing wrong?</strong> I kept reading help pages, but I keep finding instructions with the same commands I used...</p>
<p><strong>QUESTION</strong> how can I share a set of installed modules between the system python and the Jupyter notebooks?</p>
",451,1,<python><jupyterhub>,2021-06-10 04:58:04
67913083,Highlight point in scatterplot when hovering over image,"<p>I'm trying to link a grid of images to a scatterplot, so that the right scatterplot point is highlighted when hovering over the corresponding image.</p>
<p>Problem is that when registering DOM events iteratively, they seem to get overwritten, and as a result only the last point of the scatterplot gets highlighted. How can I register independent events for each image.</p>
<p>See reproducible examples below.</p>
<p><a href=""https://i.stack.imgur.com/c6dtY.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/c6dtY.png"" alt=""enter image description here"" /></a></p>
<pre><code>import io
import random

import ipywidgets as ipw
from ipyevents import Event
import numpy as np
import PIL
from PIL import Image as PILImage
from bqplot import LinearScale, Figure, Axis, Scatter

# Random ipywidget image generator
def random_image():
    arr = np.random.randint(255, size=(200, 200, 3), dtype=np.uint8)
    img = PILImage.fromarray(arr)
    with io.BytesIO() as fileobj:
        img.save(fileobj, 'PNG')
        img_b = fileobj.getvalue()
    img_w = ipw.Image(value=img_b)
    return img_w

# Create data
data = [{'x': idx, 'y': random.randint(1,10), 'image': random_image()}
         for idx in range(1,6)]

# Create scatter plot
xs = LinearScale()
ys = LinearScale()
xa = Axis(scale=xs)                                                
ya = Axis(scale=ys, orientation='vertical')                        
points = Scatter(x=[d['x'] for d in data],                                    
                 y=[d['y'] for d in data],                                   
                 scales={'x': xs, 'y': ys})
highlighted_point = Scatter(x=[-1000], y=[-1000], # Dummy point out of view
                            scales={'x': xs, 'y': ys},
                            preserve_domain={'x': True, 'y': True},
                            colors=['red'])
fig = Figure(marks=[points, highlighted_point], axes=[xa,ya])

# Add DOM events to images
img_list = []
for d in data:
    img = d['image']
    event = Event(source=img, watched_events=['mouseenter'])
    def handle_event(event):
        highlighted_point.x = [d['x']]
        highlighted_point.y = [d['y']]
    event.on_dom_event(handle_event)
    img_list.append(img)
images = ipw.HBox(img_list)
ipw.VBox([fig, images])
</code></pre>
",49,1,<jupyter-notebook><dom-events><ipywidgets><bqplot>,2021-06-10 00:11:33
67906068,"In Jupyter with R, display by default all rows and columns of a dataframe","<p>I'm looking for a way to display all the rows and all the columns <strong>BY DEFAULT</strong> in Jupyter, without the <code>...</code>, in specific in Jupyter Lab but possibly is something done the same way in Jupyter Notebook.</p>
<p><a href=""https://i.stack.imgur.com/nyAiu.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/nyAiu.png"" alt=""Sample of truncated dataframe in R in Jupyter"" /></a></p>
<p>I already had this setting and wouldn't need to add <code>options()</code> like in many other posts. However, I needed to do a fresh install of my Linux Mint and lost it.</p>
<p>I'm not totally sure, but I think it was related with creating a startup script and increasing the values for both rows and columns or it could be something to add in the settings. My best finding was this:</p>
<p><a href=""https://stackoverflow.com/questions/45818538/where-can-i-put-a-startup-script-in-jupyter"">Where can I put a startup script in Jupyter?</a></p>
<p>I DON'T need it for Pandas and I DON'T need it as an option in every cell I create.</p>
",488,4,<r><jupyter><jupyter-lab><linux-mint><jupyter-irkernel>,2021-06-09 14:21:25
67880178,Is there a way to turn a pandas dataframe into a widget where you can click a row and it store the ID associated with that row?,"<p>I am currently trying to build a dashboard with Jupyter notebooks and Viola and I want the dashboard to contain the main dataframe as a clickable widget where you can select a row and it stores the row ID that will be used to update other portions of the dashboard.</p>
<p>I Initially got the idea from a a O'rielly Jupytercon video (<a href=""https://www.youtube.com/watch?v=i40d8-Hu4vM&amp;t=1084s"" rel=""nofollow noreferrer"">https://www.youtube.com/watch?v=i40d8-Hu4vM&amp;t=1084s</a>). The issue im running into is that i cant import a package they use which contains the DataGrid function.</p>
<p>I am unable to locate any documentation and/or import the package.</p>
<p>The following import is:</p>
<pre><code>from bqwidgets import DataGrid
</code></pre>
<p>The inputs used for the notebook are seen at 16:40 of the video
The code used to develop the df that begins the widget process is at 18:56</p>
<p>I am hoping someone might be able to help me either figure out how to obtain this bqwidgets package OR provide me a different solution on to how to create a clickable df within a dashboard that stores the ID of row click and uses it for other components in the dashboard.</p>
<p><a href=""https://i.stack.imgur.com/m891M.jpg"" rel=""nofollow noreferrer"">image of dashboard idea in video</a></p>
",214,1,<python><jupyter-notebook><widget><dashboard><ipywidgets>,2021-06-08 00:54:20
67844004,JupyterHub Spawn Failed Didn't Respond in 30 Seconds,"<p>I am able to access my JupyterHub domain but am unable to get a pod to spawn.</p>
<p>This is from <code>kubectl logs &lt;pod&gt; -n</code></p>
<pre><code>[W 2021-06-04 19:59:07.037 SingleUserNotebookApp configurable:190] Config option `open_browser` not recognized by `SingleUserNotebookApp`.  Did you mean `browser`?
[I 2021-06-04 19:59:07.052 SingleUserNotebookApp notebookapp:1593] Authentication of /metrics is OFF, since other authentication is disabled.
[W 2021-06-04 19:59:08.649 LabApp] 'ip' has moved from NotebookApp to ServerApp. This config will be passed to ServerApp. Be sure to update your config before our next release.
[W 2021-06-04 19:59:08.649 LabApp] 'port' has moved from NotebookApp to ServerApp. This config will be passed to ServerApp. Be sure to update your 
config before our next release.
[W 2021-06-04 19:59:08.649 LabApp] 'port' has moved from NotebookApp to ServerApp. This config will be passed to ServerApp. Be sure to update your 
config before our next release.
[W 2021-06-04 19:59:08.649 LabApp] 'port' has moved from NotebookApp to ServerApp. This config will be passed to ServerApp. Be sure to update your 
config before our next release.
[I 2021-06-04 19:59:08.656 LabApp] JupyterLab extension loaded from /opt/conda/lib/python3.9/site-packages/jupyterlab
[I 2021-06-04 19:59:08.657 LabApp] JupyterLab application directory is /opt/conda/share/jupyter/lab
Patching auth into jupyter_server.base.handlers.JupyterHandler(jupyter_server.base.handlers.AuthenticatedHandler) -&gt; JupyterHandler(jupyterhub.singleuser.mixins.HubAuthenticatedHandler, jupyter_server.base.handlers.AuthenticatedHandler)
[I 2021-06-04 19:59:08.715 SingleUserNotebookApp mixins:576] Starting jupyterhub-singleuser server version 1.4.1
[E 2021-06-04 19:59:28.728 SingleUserNotebookApp mixins:449] Failed to connect to my Hub at http://hub:8081/phys101/hub/api (attempt 1/5). Is it running?
    Traceback (most recent call last):
      File &quot;/opt/conda/lib/python3.9/site-packages/jupyterhub/singleuser/mixins.py&quot;, line 447, in check_hub_version
        resp = await client.fetch(self.hub_api_url)
    tornado.simple_httpclient.HTTPTimeoutError: Timeout while connecting
</code></pre>
<p>If I go to the webpage the loading bar is stuck at blue about 95% done and the message just says <code>2021-06-04T19:59:05Z [Normal] Started container notebook</code></p>
<p>Here is the rest of the event log from that page.</p>
<pre><code>Event log
Server requested
2021-06-04T19:58:47Z [Normal] Successfully assigned phys101/jupyter-admin1 to gke-tf-jh-cluster-user-pool-40bd378f-sjj4
2021-06-04T19:58:55Z [Normal] AttachVolume.Attach succeeded for volume &quot;pvc-03c4e983-363e-401f-8616-e7df5c64fdac&quot;
2021-06-04T19:59:04Z [Normal] Container image &quot;jupyterhub/k8s-network-tools:0.11.1&quot; already present on machine
2021-06-04T19:59:05Z [Normal] Created container block-cloud-metadata
2021-06-04T19:59:05Z [Normal] Started container block-cloud-metadata
2021-06-04T19:59:05Z [Normal] Pulling image &quot;jupyter/datascience-notebook:latest&quot;
2021-06-04T19:59:05Z [Normal] Successfully pulled image &quot;jupyter/datascience-notebook:latest&quot;
2021-06-04T19:59:05Z [Normal] Created container notebook
2021-06-04T19:59:05Z [Normal] Started container notebook
Server requested
2021-06-04T19:58:47Z [Normal] Successfully assigned phys101/jupyter-admin1 to gke-tf-jh-cluster-user-pool-40bd378f-sjj4
2021-06-04T19:58:55Z [Normal] AttachVolume.Attach succeeded for volume &quot;pvc-03c4e983-363e-401f-8616-e7df5c64fdac&quot;
2021-06-04T19:59:04Z [Normal] Container image &quot;jupyterhub/k8s-network-tools:0.11.1&quot; already present on machine
2021-06-04T19:59:05Z [Normal] Created container block-cloud-metadata
2021-06-04T19:59:05Z [Normal] Started container block-cloud-metadata
2021-06-04T19:59:05Z [Normal] Pulling image &quot;jupyter/datascience-notebook:latest&quot;
2021-06-04T19:59:05Z [Normal] Successfully pulled image &quot;jupyter/datascience-notebook:latest&quot;
2021-06-04T19:59:05Z [Normal] Created container notebook
2021-06-04T19:59:05Z [Normal] Started container notebook
</code></pre>
<p>I see the pod come up, go into a running 1/1 state, then it terminates.</p>
<p>At one point I did see this error below and commented out the userPods.nodeAffinity which seems to have removed the message.</p>
<pre><code>0/3 nodes are available: 1 pod has unbound immediate persistentvolumeclaims, 2 node(s) didn't match node selector.
</code></pre>
<p>Here's the rest of my config YAML.</p>
<pre><code>proxy:
  secretToken:
  service:
    type: NodePort

ingress:
  enabled: true
  pathSuffix: &quot;/*&quot;
  hosts:
    - &quot;&lt;DOMAIN.COM&gt;&quot;
  annotations: 
    kubernetes.io/ingress.class: &quot;gce&quot;
    kubernetes.io/ingress.global-static-ip-name: &quot;jh-lb-global-test&quot;
    networking.gke.io/managed-certificates: &quot;google-managed-ssl-certificate&quot;

hub:
  baseUrl: /${class-section}
  config:
    Authenticator:
      admin_users:
        - admin1
        - admin2
      allowed_users:
        - user1
        - user2
    DummyAuthenticator:
      password: &lt;PASSWORD&gt;
    JupyterHub:
      authenticator_class: dummy
singleuser:
  startTimeout: 120
  profileList:
    - display_name: &quot;Minimal environment&quot;
      description: &quot;To avoid too much bells and whistles: Python.&quot;
      default: true
    - display_name: &quot;Datascience environment&quot;
      description: &quot;If you want the additional bells and whistles: Python, R, and Julia.&quot;
      kubespawner_override:
        image: jupyter/datascience-notebook:latest
    - display_name: &quot;Spark environment&quot;
      description: &quot;The Jupyter Stacks spark image!&quot;
      kubespawner_override:
        image: jupyter/all-spark-notebook:latest  
  memory:
    limit: 1G
    guarantee: 1G
  cpu:
    limit: .5
    guarantee: .5
  image:
    # You should replace the &quot;latest&quot; tag with a fixed version from:
    # https://hub.docker.com/r/jupyter/datascience-notebook/tags/
    # Inspect the Dockerfile at:
    # https://github.com/jupyter/docker-stacks/tree/master/datascience-notebook/Dockerfile
    name: jupyter/datascience-notebook
    pullPolicy: Always
    tag: latest
  defaultUrl: &quot;/lab&quot;

scheduling:
  userScheduler:
    enabled: false
  podPriority:
    enabled: false
  # userPlaceholder:
  #   enabled: true
  #   replicas: 2
  userPods:
    nodeAffinity:
      matchNodePurpose: require
  # corePods:
  #   nodeAffinity:
  #     matchNodePurpose: require

cull:
  enabled: true
  timeout: 3600
  every: 3600

# prePuller:
#   hook:
#     enabled: false
</code></pre>
",1112,0,<jupyter-notebook><jupyter><google-kubernetes-engine><jupyterhub>,2021-06-04 21:09:31
67803624,HTTP 500: Internal Server Error - No such profile : Jupyterhub on GKE,"<p>I am trying to install a Jupyterhub on GKE cluster</p>
<p>By following steps mentioned in below</p>
<p><a href=""https://github.com%20GoogleCloudPlatform/ai-notebooks-extended%20main/gke-hub-example"" rel=""nofollow noreferrer"">github.com
GoogleCloudPlatform/ai-notebooks-extended
main/gke-hub-example</a></p>
<p>JupyterHub got sucesfully installed, but when i try to start a Notebook instance , it throws the below error</p>
<p><code>Error: HTTP 500: Internal Server Error (Error in Authenticator.pre_spawn_start: ValueError No such profile: [‘gcr-io-noted-amphora-248618-jupyter-mine-basic’]. Options include: gcr-io-noted-amphora-248618-jupyter-mine-basic, gcr-io-noted-amphora-248618-jupyter-mine-basic)</code></p>
<p>Below are the log messages</p>
<pre><code>2021-06-02T10:06:39.620382674Z Watches established. E
2021-06-02T10:06:41.466552969Z [I 2021-06-02 10:06:41.466 JupyterHub app:2332] Running JupyterHub version 1.2.2 E
2021-06-02T10:06:41.466680449Z [I 2021-06-02 10:06:41.466 JupyterHub app:2362] Using Authenticator: gcpproxiesauthenticator.gcpproxiesauthenticator.GCPProxiesAuthenticator E
2021-06-02T10:06:41.466780251Z [I 2021-06-02 10:06:41.466 JupyterHub app:2362] Using Spawner: kubespawner.spawner.KubeSpawner-1.0.0 E
2021-06-02T10:06:41.466891898Z [I 2021-06-02 10:06:41.466 JupyterHub app:2362] Using Proxy: jupyterhub.proxy.ConfigurableHTTPProxy-1.2.2 E
2021-06-02T10:06:41.469256528Z [I 2021-06-02 10:06:41.469 JupyterHub app:1457] Writing cookie_secret to /srv/jupyterhub/jupyterhub_cookie_secret E
2021-06-02T10:06:41.494694057Z [I 2021-06-02 10:06:41.494 alembic.runtime.migration migration:155] Context impl SQLiteImpl. E
2021-06-02T10:06:41.495207743Z [I 2021-06-02 10:06:41.494 alembic.runtime.migration migration:158] Will assume non-transactional DDL. E
2021-06-02T10:06:41.520272984Z [I 2021-06-02 10:06:41.519 alembic.runtime.migration migration:517] Running stamp_revision → 4dc2d5a8c53c E
2021-06-02T10:06:41.696420888Z [I 2021-06-02 10:06:41.690 JupyterHub proxy:461] Generating new CONFIGPROXY_AUTH_TOKEN E
2021-06-02T10:06:41.696456030Z [W 2021-06-02 10:06:41.692 JupyterHub app:1687] No admin users, admin interface will be unavailable. E
2021-06-02T10:06:41.696467162Z [W 2021-06-02 10:06:41.692 JupyterHub app:1688] Add any administrative users to c.Authenticator.admin_users in config. E
2021-06-02T10:06:41.696476364Z [I 2021-06-02 10:06:41.692 JupyterHub app:1717] Not using allowed_users. Any authenticated user will be allowed. E
2021-06-02T10:06:41.764431054Z [I 2021-06-02 10:06:41.760 JupyterHub app:2399] Initialized 0 spawners in 0.005 seconds E
2021-06-02T10:06:41.766431671Z [W 2021-06-02 10:06:41.765 JupyterHub proxy:655] Running JupyterHub without SSL. I hope there is SSL termination happening somewhere else… E
2021-06-02T10:06:41.766459045Z [I 2021-06-02 10:06:41.765 JupyterHub proxy:659] Starting proxy @ http://:8080/ E
2021-06-02T10:06:42.795514818Z 10:06:42.790 [ConfigProxy] e[32minfoe[39m: Proxying http://*:8080 to (no default) I
2021-06-02T10:06:42.795544011Z 10:06:42.794 [ConfigProxy] e[32minfoe[39m: Proxy API at http://127.0.0.1:8005/api/routes I
2021-06-02T10:06:42.848453299Z 10:06:42.847 [ConfigProxy] e[32minfoe[39m: 200 GET /api/routes I
2021-06-02T10:06:42.849027936Z [I 2021-06-02 10:06:42.848 JupyterHub app:2647] Hub API listening on http://0.0.0.0:8081/hub/ E
2021-06-02T10:06:42.849067692Z [I 2021-06-02 10:06:42.848 JupyterHub app:2649] Private Hub API connect url http://10.56.0.13:8081/hub/ E
2021-06-02T10:06:42.852807313Z 10:06:42.852 [ConfigProxy] e[32minfoe[39m: 200 GET /api/routes I
2021-06-02T10:06:42.853384703Z [I 2021-06-02 10:06:42.853 JupyterHub proxy:320] Checking routes E
2021-06-02T10:06:42.853536476Z [I 2021-06-02 10:06:42.853 JupyterHub proxy:400] Adding default route for Hub: / =&gt; http://10.56.0.13:8081 E
2021-06-02T10:06:42.857050192Z 10:06:42.856 [ConfigProxy] e[32minfoe[39m: Adding route / → http://10.56.0.13:8081 I
2021-06-02T10:06:42.857766510Z 10:06:42.857 [ConfigProxy] e[32minfoe[39m: Route added / → http://10.56.0.13:8081 I
2021-06-02T10:06:42.858271548Z 10:06:42.858 [ConfigProxy] e[32minfoe[39m: 201 POST /api/routes/ I
2021-06-02T10:06:42.860752421Z [I 2021-06-02 10:06:42.859 JupyterHub app:2722] JupyterHub is now running at http://:8080/ E
2021-06-02T10:11:36.698005265Z [I 2021-06-02 10:11:36.697 JupyterHub log:181] 302 GET / → /hub/ (@::ffff:10.56.0.14) 1.24ms E
2021-06-02T10:11:36.961851801Z [I 2021-06-02 10:11:36.961 JupyterHub log:181] 302 GET /hub/ → /hub/login?next=%2Fhub%2F (@::ffff:10.56.0.14) 0.84ms E
2021-06-02T10:11:37.224288918Z [I 2021-06-02 10:11:37.223 JupyterHub gcpproxiesauthenticator:64] user_email is phani111@gmail.com E
2021-06-02T10:11:37.247973936Z [I 2021-06-02 10:11:37.247 JupyterHub gcpproxiesauthenticator:109] username is phani111@gmail.com E
2021-06-02T10:11:37.248073429Z [I 2021-06-02 10:11:37.247 JupyterHub gcpproxiesauthenticator:110] user.name is phani111@gmail.com E
2021-06-02T10:11:37.306125736Z [I 2021-06-02 10:11:37.305 JupyterHub reflector:271] watching for pods with label selector=‘component=singleuser-server’ in namespace default E
2021-06-02T10:11:37.319422003Z [I 2021-06-02 10:11:37.319 JupyterHub reflector:271] watching for events with field selector=‘involvedObject.kind=Pod’ in namespace default E
2021-06-02T10:11:37.326054796Z [I 2021-06-02 10:11:37.325 JupyterHub log:181] 200 GET /hub/login?next=%2Fhub%2F (@::ffff:10.56.0.14) 102.76ms E
2021-06-02T10:11:38.661888708Z [I 2021-06-02 10:11:38.661 JupyterHub log:181] 302 GET /hub/ → /hub/spawn (phani111@gmail.com@::ffff:10.56.0.14) 10.97ms E
2021-06-02T10:11:38.922734475Z [I 2021-06-02 10:11:38.922 JupyterHub log:181] 200 GET /hub/spawn (phani111@gmail.com@::ffff:10.56.0.14) 10.46ms E
2021-06-02T10:11:42.863160490Z 10:11:42.862 [ConfigProxy] e[32minfoe[39m: 200 GET /api/routes I
2021-06-02T10:11:42.864090929Z [I 2021-06-02 10:11:42.863 JupyterHub proxy:320] Checking routes E
2021-06-02T10:11:43.150114686Z [E 2021-06-02 10:11:43.149 JupyterHub user:690] Unhandled error starting phani111@gmail.com’s server: No such profile: [‘gcr-io-noted-amphora-248618-jupyter-mine-basic’]. Options include: gcr-io-noted-amphora-248618-jupyter-mine-basic, gcr-io-noted-amphora-248618-jupyter-mine-basic E
2021-06-02T10:11:43.192499074Z [E 2021-06-02 10:11:43.191 JupyterHub pages:261] Failed to spawn single-user server with form E
2021-06-02T10:11:43.192554817Z Traceback (most recent call last): E
2021-06-02T10:11:43.192568481Z File “/usr/local/lib/python3.8/dist-packages/jupyterhub/handlers/pages.py”, line 257, in post E
2021-06-02T10:11:43.192577262Z return await self._wrap_spawn_single_user( E
2021-06-02T10:11:43.192588011Z File “/usr/local/lib/python3.8/dist-packages/jupyterhub/handlers/pages.py”, line 314, in _wrap_spawn_single_user E
2021-06-02T10:11:43.192596671Z raise web.HTTPError( E
2021-06-02T10:11:43.192603972Z tornado.web.HTTPError: HTTP 500: Internal Server Error (Error in Authenticator.pre_spawn_start: ValueError No such profile: [‘gcr-io-noted-amphora-248618-jupyter-mine-basic’]. Options include: gcr-io-noted-amphora-248618-jupyter-mine-basic, gcr-io-noted-amphora-248618-jupyter-mine-basic) E
2021-06-02T10:11:43.192613428Z E
2021-06-02T10:11:43.193734621Z [I 2021-06-02 10:11:43.193 JupyterHub log:181] 200 POST /hub/spawn (phani111@gmail.com@::ffff:10.56.0.14) 96.59ms E
2021-06-02T10:11:48.350476518Z [E 2021-06-02 10:11:48.347 JupyterHub user:690] Unhandled error starting phani111@gmail.com’s server: No such profile: [‘gcr-io-noted-amphora-248618-jupyter-mine-basic’]. Options include: gcr-io-noted-amphora-248618-jupyter-mine-basic, gcr-io-noted-amphora-248618-jupyter-mine-basic E
2021-06-02T10:11:48.373694792Z [E 2021-06-02 10:11:48.373 JupyterHub pages:261] Failed to spawn single-user server with form E
2021-06-02T10:11:48.373797482Z Traceback (most recent call last): E
2021-06-02T10:11:48.373814126Z File “/usr/local/lib/python3.8/dist-packages/jupyterhub/handlers/pages.py”, line 257, in post E
2021-06-02T10:11:48.373821806Z return await self._wrap_spawn_single_user( E
2021-06-02T10:11:48.373829752Z File “/usr/local/lib/python3.8/dist-packages/jupyterhub/handlers/pages.py”, line 314, in _wrap_spawn_single_user E
2021-06-02T10:11:48.373837262Z raise web.HTTPError( E
2021-06-02T10:11:48.373844504Z tornado.web.HTTPError: HTTP 500: Internal Server Error (Error in Authenticator.pre_spawn_start: ValueError No such profile: [‘gcr-io-noted-amphora-248618-jupyter-mine-basic’]. Options include: gcr-io-noted-amphora-248618-jupyter-mine-basic, gcr-io-noted-amphora-248618-jupyter-mine-basic) E
2021-06-02T10:11:48.373866321Z E
2021-06-02T10:11:48.375421105Z [I 2021-06-02 10:11:48.374 JupyterHub log:181] 200 POST /hub/spawn (phani111@gmail.com@::ffff:10.56.0.14) 76.97ms E
</code></pre>
<p>please do let me know how to debug this further.</p>
",611,0,<google-cloud-platform><jupyter-notebook><google-kubernetes-engine><jupyterhub>,2021-06-02 10:44:57
67778423,How do I set the width of the input field of an IntText widget in ipywidgets?,"<p>I create an <code>IntText</code> widget like this:</p>
<pre><code>import ipywidgets as widgets
widgets.IntText(value=12, 
       description='CTR1_0', 
       style={'description_width': 'initial'})
</code></pre>
<p>When I include this widget in an <code>HBox</code> in a <code>Tab</code>, the text box is much larger than I need.  How do I set it to be 10 characters?</p>
<p><a href=""https://i.stack.imgur.com/t2711.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/t2711.png"" alt=""enter image description here"" /></a></p>
<p>There is no <code>width</code> parameter to <a href=""https://ipywidgets.readthedocs.io/en/latest/examples/Widget%20List.html"" rel=""nofollow noreferrer"">IntText</a>.  I have tried adding <code>width=&quot;10ch&quot;</code> to the <code>style</code> parameter do not work.</p>
",1759,3,<python><jupyter-notebook><ipywidgets>,2021-05-31 18:00:17
67773442,show progress of a nested function triggered by ipywidget,"<p>I have an input field, button and output placed in a Jupyter notebook using a function. On the button there is an on_click that will trigger a function that will plot a graph in the output. However, this function is using another function to generate the data for the graph. Now I want to show the progress of this 2nd function in the output. How would I go about doing this?
I looked into using tqdm, but then I just get the initial progress bar in the log (which doesn't update), not in the notebook cell</p>
<pre><code>from random import randint
from matplotlib import pyplot as plt
from tqdm.notebook import tqdm
from ipywidgets import Layout, Button, Box, FloatText, Label, Output

def form_plot_simulation():
    button = Button(
    description='Plot simulation results',
    disabled=False,
    tooltip='Plot simulation results')
    
    global simulations_field
    simulations_field = FloatText(value='10')
    
    global out_plot_sim
    out_plot_sim = Output()
    button.on_click(plot_data)
    
    form_items = [
        Box([simulations_field]),
        Box([button]),
        Box([out_plot_sim])
    ]
    form_plot_sim = Box(form_items, layout=Layout(
        display='flex',
        flex_flow='column',
        border='solid 2px',
        align_items='stretch',
        width='600px'))
    return form_plot_sim

def plot_data(b):
    simulations = int(simulations_field.value)
    data = simulate_test(simulations)
    
    plt.figure(figsize=(12,8))
    plt.plot(data)
    
    with out_plot_sim:
        out_plot_sim.clear_output()
        plt.show()

def simulate_test(simulations):
    data = []
    for i in tqdm(range(0,simulations)):
        datapoint = randint(0,10)
        data.append(datapoint)

    return data
</code></pre>
<p>The cell in the notebook just has this code to display the form:</p>
<pre><code>display(form_plot_simulation())
</code></pre>
<p>EDIT: Note: I hate the usage of global, but didn't know how to pass the field value on in the functions.</p>
",129,2,<python><jupyter-notebook><ipywidgets><tqdm>,2021-05-31 12:09:03
67749489,custom text position on ipywidgets button,"<p>I am trying to put a &quot;+&quot; sign on a button that reaches all the edges. This is a minimal example, from a Jupyter notebook, first a style:</p>
<pre><code>%%html
&lt;style&gt;
.button_style{
    font-size:155px;
    color: black;
}
&lt;/style&gt;
</code></pre>
<p>and the button itself:</p>
<pre><code>import ipywidgets as ipyw
button = ipyw.Button(description='+', style={'button_color':'blue'},    
                     layout=ipyw.Layout(width='80px', height='80px'))
button.add_class(&quot;button_style&quot;)
</code></pre>
<p>As you can see, what I tried was making the font size big enough to reach the button edges.
But the problem is that the text is not aligned with the middle of the button:</p>
<p><a href=""https://i.stack.imgur.com/feikZ.png?s=64"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/feikZ.png?s=64"" alt=""enter image description here"" /></a></p>
<p>I've played with options like <code>text-align</code>, <code>left-padding</code>, <code>left-margin</code> etc, but they all affect the entire button, i.e. they translate or deform the entire blue square, rather than just the text within it.</p>
<p>Is there any way to do this? Ideally I'd be able to change the center of the cross but always have it reach all edges, and without making the cross itself super fat.
But less than ideal solutions are also welcome.</p>
<p><strong>Update:</strong></p>
<p>So the result I am looking for is this:</p>
<p><a href=""https://i.stack.imgur.com/oLO18.png?s=64"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/oLO18.png?s=64"" alt=""enter image description here"" /></a></p>
<p>where the center and ideally also the thickness of the lines can be configured. It doesn't matter if the result is achieved with a '+', as long as the button looks like this and the background color can still be changed with <code>style={'button_color': ..}</code>.</p>
",239,3,<python><css><ipywidgets>,2021-05-29 08:50:07
67735752,Unable to install tidyverse package for r kernel in jupyter,"<p>I have recently installed <strong>Anaconda</strong> and also <strong>enabled r kernel</strong> by using <code>conda install -c r r-irkernel</code> which i took reference from: <a href=""https://kyleake.medium.com/how-to-install-r-in-jupyter-with-irkernel-in-3-steps-917519326e41"" rel=""nofollow noreferrer"">https://kyleake.medium.com/how-to-install-r-in-jupyter-with-irkernel-in-3-steps-917519326e41</a> .</p>
<p>Now from <code>jupyter notebook</code> when I try to <strong>install</strong> <code>tidyverse</code> package I get this error regarding <code>jsonlite</code>:</p>
<pre><code>Warning message:
&quot;package 'tidyverse' was built under R version 3.6.3&quot;
Error: package or namespace load failed for 'tidyverse' in loadNamespace(j &lt;- i[[1L]], c(lib.loc, .libPaths()), versionCheck = vI[[j]]):
 namespace 'jsonlite' 1.6 is already loaded, but &gt;= 1.7.2 is required
Traceback:

1. library(&quot;tidyverse&quot;)
2. tryCatch({
 .     attr(package, &quot;LibPath&quot;) &lt;- which.lib.loc
 .     ns &lt;- loadNamespace(package, lib.loc)
 .     env &lt;- attachNamespace(ns, pos = pos, deps, exclude, include.only)
 . }, error = function(e) {
 .     P &lt;- if (!is.null(cc &lt;- conditionCall(e))) 
 .         paste(&quot; in&quot;, deparse(cc)[1L])
 .     else &quot;&quot;
 .     msg &lt;- gettextf(&quot;package or namespace load failed for %s%s:\n %s&quot;, 
 .         sQuote(package), P, conditionMessage(e))
 .     if (logical.return) 
 .         message(paste(&quot;Error:&quot;, msg), domain = NA)
 .     else stop(msg, call. = FALSE, domain = NA)
 . })
3. tryCatchList(expr, classes, parentenv, handlers)
4. tryCatchOne(expr, names, parentenv, handlers[[1L]])
5. value[[3L]](cond)
6. stop(msg, call. = FALSE, domain = NA)
</code></pre>
<p>seems like <code>jsonlite' 1.6 is already loaded, but &gt;= 1.7.2 is required</code> is the problem, so when I try to manually install <code>jsonlite</code> then I get this issue:</p>
<pre><code>install.packages(&quot;jsonlite&quot;)


package 'jsonlite' successfully unpacked and MD5 sums checked
Warning message:
&quot;cannot remove prior installation of package 'jsonlite'&quot;Warning message in file.copy(savedcopy, lib, recursive = TRUE):
&quot;problem copying C:\ProgramData\Anaconda3\Lib\R\library\00LOCK\jsonlite\libs\x64\jsonlite.dll to C:\ProgramData\Anaconda3\Lib\R\library\jsonlite\libs\x64\jsonlite.dll: Permission denied&quot;Warning message:
&quot;restored 'jsonlite'&quot;

The downloaded binary packages are in
    C:\Users\viny\AppData\Local\Temp\RtmpADyCWE\downloaded_packages
</code></pre>
<p>so how can i install <code>tidyverse package</code> in <code>jupyter notebook</code>?</p>
",1892,0,<r><jupyter-notebook><tidyverse><jupyter-irkernel>,2021-05-28 08:50:59
67732252,Is there a way I can nest two column datas under one column header?,"<p>What I want to be doing looks something like:</p>
<pre><code>index   Price

0      1000 -20
1      500   30
2      200    0
</code></pre>
<p>I want to do this because I want to keep track of the price changes? I'm using a ipywidget where I want to use the delta to change the cell color. If delta is &gt; 0 i want the price cell where I display it to be green and &lt; 0 to be red.</p>
<p>Please help!</p>
<p><a href=""https://i.stack.imgur.com/0mNoy.png"" rel=""nofollow noreferrer"">This is what I want my dataframe to end up looking like</a></p>
",76,-1,<python><pandas><dataframe><jupyter><ipywidgets>,2021-05-28 02:51:07
67725763,JupyterHub Helm chart ingress path giving a 404 not found when used with ingress-nginx controller,"<p>I am using two Helm charts, one for <a href=""https://github.com/jupyterhub/zero-to-jupyterhub-k8s/blob/main/jupyterhub/values.yaml#L514"" rel=""nofollow noreferrer"">JupyterHub</a> and one for the <a href=""https://github.com/kubernetes/ingress-nginx/blob/master/charts/ingress-nginx/values.yaml"" rel=""nofollow noreferrer"">Ingress-Nginx controller</a>. I am attempting to have path based rules set in my JupyterHub ingress objects to have the controller route to individual namespaces.</p>
<p>In the JupyterHub Helm chart I am able to enable an ingress object in the same namespace that the JupyterHub environment is provisioning into. I am also able to set a pathSuffix in the ingress object, for instance <code>/namespace1</code>, which I can see with a <code>kubectl describe ingress -n namespace1</code>.</p>
<p>If I attempt to access either the root URL or URL with a path I am sent to a <code>404 Not Found nginx</code> error.</p>
<p>If I do not have a pathSuffix set on the ingress object then I am able to access the root URL but I am assuming I go to a random namespace.</p>
<p>This is the full output of <code>kubectl describe ingress -n namespace1</code></p>
<pre><code>Rules:
  Host                       Path  Backends
  ----                       ----  --------
  &lt;NAME&gt;.com
                             /namespace1   proxy-public:80 (11.1.1.29:8000)
Annotations:                 kubernetes.io/ingress.class: nginx
                                     meta.helm.sh/release-name: jupyterhub
                                     meta.helm.sh/release-namespace: namespace1
</code></pre>
<p>I do not have any additional annotations enabled on my ingress object and the only thing set on my ingress-controller is the LoadBalancer IP.</p>
<p>Am I missing something additional like annotations or a YAML config value for the controller?</p>
<p>The only additional thing I can think of is that there is a proxy service which can be set as a LoadBalancer IP but I set that to a ClusterIP. This is due to using an ingress controller and I did not want an external IP set there. Does this need to be a NodePort?</p>
<pre><code>kubectl get svc -n namespace1

NAME           TYPE        CLUSTER-IP   EXTERNAL-IP   PORT(S)    AGE
hub            ClusterIP   11.2.0.140   &lt;none&gt;        8081/TCP   101m
proxy-api      ClusterIP   11.2.0.119   &lt;none&gt;        8001/TCP   101m
proxy-public   ClusterIP   11.2.0.148   &lt;none&gt;        80/TCP     101m
</code></pre>
<pre><code>proxy:
  secretToken:
  service:
    type: ClusterIP
</code></pre>
",335,0,<google-kubernetes-engine><kubernetes-helm><kubernetes-ingress><nginx-ingress><jupyterhub>,2021-05-27 15:54:29
67674828,matplotlib set_xdata plotting out of order,"<p>I need to update a plot with <code>interact</code> and for that I use something like</p>
<pre><code>fig, ax = plt.subplots()
df = pd.DataFrame({'x':[some data x],'y':[some data y]}
p, = ax.plot(df_temp.x,df_temp.y,'.-')
ax.set_xticks(x[::5])
plt.setp(ax.xaxis.get_majorticklabels(), rotation=45, fontsize=6)

@interact()
def update(i):
    df = pd.DataFrame(new data)
    p.set_xdata(df_temp.x)
    p.set_ydata(df_temp.y)
    ax.relim()
    ax.autoscale_view()
    ax.set_xticks(x[::5])
    fig.canvas.draw_idle()
</code></pre>
<p>which works fine when I have <code>datetime</code> type for <code>x</code>. But I changed it for string with <code>x = [datetime.strftime(y,&quot;%Y-%m-%d %H:%M:%S&quot;)[:-3] for y in datetimedata]</code> because the plot had big gaps due to business days and times, which was not ideal. With the string x data, however, the gaps disappear but now, on some occasions, the plot is out of order, as can be seen here:</p>
<p><a href=""https://i.stack.imgur.com/Ex8if.png"" rel=""nofollow noreferrer"">data points 0,1 and 2 are out of order</a></p>
<p>I know the data is still in the right order because I can print the dataframe and see the data is sorted. Also, when I create a new figure and axis and plot the data without the <code>interact</code> it shows in the right order too:</p>
<p><a href=""https://i.stack.imgur.com/8n6PQ.png"" rel=""nofollow noreferrer"">x data in the right order plotted without <code>ax.set_xdata</code> and <code>interact</code></a></p>
<p><strong>EDIT</strong></p>
<p>The <code>x</code> column is already sorted, but the plot is out of order in the first picture. The first 3 rows are plotted on the right side of the chart.</p>
<pre><code>                   x         y
0   2013-10-07 12:30 -0.008961
1   2013-10-07 13:30  0.003846
2   2013-10-07 14:30 -0.043890
3   2013-10-07 15:30  0.013083
4   2013-10-07 16:30  0.043967
..               ...       ...
85  2013-10-18 16:30 -0.036062
86  2013-10-18 17:30 -0.036062
87  2013-10-21 09:30 -0.015806
88  2013-10-21 10:30 -0.059842
89  2013-10-21 11:30 -0.132455
</code></pre>
",125,0,<python><matplotlib><ipywidgets>,2021-05-24 15:31:59
67672257,Howto block nginx web site access if browsers have no ssl certificate,"<p>I am a newb and i installed jupyterhub with nginx reverse proxy on my ubuntu 18.04 server. I built my own root CA and self signed certificate with openssl. Https connections works very well if my rootCA is installed on my others computers. I want to block access for the computers who don't have my rootCA.
the file /etc/nginx/nginx.conf is untouched and my config file /etc/nginx/sites-available/jupyter.conf is:</p>
<pre><code># top-level http config for websocket headers If Upgrade is defined, 
# Connection = upgrade If Upgrade is empty, Connection = close
map $http_upgrade $connection_upgrade {
    default upgrade;
    '' close;
}
# HTTP server to redirect all 80 traffic to SSL/HTTPS
server {
    listen 80;
    server_name 192.168.4.70 mlserver.net localhost;

    # Tell all requests to port 80 to be 302 redirected to HTTPS
    return 302 https://$host$request_uri;
}
# HTTPS server to handle JupyterHub
server {
    listen 443;
    ssl on;
    server_name 192.168.4.70 mlserver.net localhost;
 
    ssl_certificate /etc/ssl/certs/mlserver.net.crt;
    ssl_certificate_key /etc/ssl/private/mlserver.net.key;
    ssl_session_timeout 1d;
    ssl_session_cache shared:SSL:50m;
    #ssl_stapling on;
 
    # Managing literal requests to the JupyterHub front end
         
        location / {
     
        proxy_pass http://127.0.0.1:8000;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header Host $host;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        # websocket headers
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection $connection_upgrade;
        proxy_set_header X-Scheme $scheme;
        proxy_buffering off;
    }
 
}
</code></pre>
<p>How can i edit this file to block access for computers who dont have certificate ?
What nginx directive add ?
Thanx.</p>
",352,0,<nginx><ssl><ubuntu-18.04><jupyterhub>,2021-05-24 12:41:36
67664251,"creating functions in for loop to control ToggleButton, problem with late binding (ipywidgets JupyterLab)","<p>I'm trying to make ToggleButtons for my plot and stumble upon a problem. I created the buttons, no problem:</p>
<pre><code># create buttons
button = []
for i in range(len(expnum)):
    button.append(wg.ToggleButton(value=False, description=expnum[i], tooltip='Click to show/hide', layout=wg.Layout(width='60px', height='30px')))
    button.append(wg.Output())
</code></pre>
<p>The problem is this part:</p>
<pre><code># control buttons
for i in range(len(expnum)):
    def on_value_change(change):
        with button[i * 2 + 1]:
            plots[i][0].set_visible(change['new'])
    button[i * 2].observe(on_value_change, names='value')
</code></pre>
<p>The problem with the code is (I guess) the late binding problem. It recognizes only the last value (meaning: only in the state of <code>i == len(expnum)-1</code>) which is not what I expected. I actually succeeded in making it works like what I expected with the following codes below:</p>
<pre><code># control buttons
def on_value_change(change):
    with button[1]:
        plots[0][0].set_visible(change['new'])
button[0].observe(on_value_change, names='value')    
    
def on_value_change(change):
    with button[3]:
        plots[1][0].set_visible(change['new'])
button[2].observe(on_value_change, names='value')

def on_value_change(change):
    with button[5]:
        plots[2][0].set_visible(change['new'])
button[4].observe(on_value_change, names='value')
</code></pre>
<p>and so on. Currently the number of iteration is still manageable to have it manually written like that, but with increasing amount of data, it is impossible to not using for loop.</p>
<p>I am kind of new to python and I'm pretty sure there must be some kind of simple hack or workaround to make this thing works. I have found some thread that explained about forcing early binding with <code>def f(i=i):</code> instead of just <code>def f():</code>. But I have no idea how to implement those to my case.
Does anyone have any idea how to solve my problem with for loop? Otherwise a complete new approach is also welcomed.</p>
<p>--- edit ---</p>
<p>This is the full code:</p>
<pre><code>import pandas as pd
import numpy as np
import ipywidgets as wg
from ipywidgets import HBox, VBox
import matplotlib.pyplot as plt
import matplotlib
from IPython.display import display
%matplotlib widget

expnum = ['data1', 'data2', 'data3']
t_all = [ [1, 2, 3], [1, 3, 4], [1, 2, 5] ]
V_all = [ [100, 200, 100], [100, 120, 130], [150, 105, 100] ]

# create buttons
button = []
for i in range(len(expnum)):
    button.append(wg.ToggleButton(value=False, description=expnum[i], tooltip='Click to show/hide', layout=wg.Layout(width='60px', height='30px')))
    button.append(wg.Output())
display(HBox(( [button[i] for i in range(len(button))] )) )

# create figure
fig, ax = plt.subplots()
ax.set_xlabel('t [s]')
ax.set_ylabel('V [V]')

plots = []
for i in range(len(t_all)):
    plots.append(ax.plot(t_all[i], V_all[i], visible=False, alpha=0.7))    

# ---------------- The problem starts here --------------------------    
# set visibility of plots
for i in range(len(expnum)):
    def on_value_change(change):
        with button[i * 2 + 1]:
            plots[i][0].set_visible(change['new'])
    button[i * 2].observe(on_value_change, names='value')
</code></pre>
<p>Why does above code (starting from <code># set visibility of plots</code>) doesn't work, while below code works:</p>
<pre><code>def on_value_change(change):
    with button[1]:
        plots[0][0].set_visible(change['new'])
button[0].observe(on_value_change, names='value')    
    
def on_value_change(change):
    with button[3]:
        plots[1][0].set_visible(change['new'])
button[2].observe(on_value_change, names='value')

def on_value_change(change):
    with button[5]:
        plots[2][0].set_visible(change['new'])
button[4].observe(on_value_change, names='value')   

</code></pre>
<p>I see no difference in the code below and the code above other than using for loop instead of manually retype the same code over and over.</p>
",151,1,<python><for-loop><jupyter-lab><ipywidgets><late-binding>,2021-05-23 20:51:38
67655054,How to get value from ipywidget select widget?,"<p>I have been having a hard time finding a straightforward solution for this. If I have a select widget, how do I actually get the value that the user clicks? I have seen 'interact' and 'observe' come up in some answers but I'm still not really sure.</p>
<p>For example:</p>
<pre><code>    import numpy as np
    import matplotlib.pyplot as plt
    import pandas as pd
    from pandas import DataFrame
    import nba_api
    import ipywidgets as widgets
    from ipywidgets import Box
    from ipywidgets import interact

from nba_api.stats.static import teams
team_list = teams.get_teams()

team_list_df = DataFrame(team_list)
name_column = team_list_df.loc[:,'full_name']
id_column = team_list_df.loc[:,'id']
names = name_column.values
ids = id_column.values

name_id = zip(names, ids)
name_id = list(name_id)

Team1 = widgets.Select(
    options=name_id,
    value=1610612737,
    description='Team 1:',
    disabled=False
)

Team2 = widgets.Select(
    options=name_id,
    value=1610612738,
    description='Team 2:',
    disabled=False
)

box = Box(children=[Team1, Team2])

box #
</code></pre>
<p>I am looking to then get the values from the two widgets, to display the stats of the two teams that were selected.</p>
<p>Thanks in advance.</p>
",3234,2,<python><dataframe><numpy><jupyter-notebook><ipywidgets>,2021-05-22 23:54:24
67625173,Jupyter Dropdown ipywidget displays wrong dataframe,"<p>I am well and truly baffled. First time using the dropdown widget so forgive me if this is obvious and thank you for any help you can provide.<br>
Here is the dataframe I want to display and how it was built:<br></p>
<pre><code>def top_10_venues(data) :
    num_top_venues = 10
    indicators = ['st', 'nd', 'rd']

# create columns according to number of top venues
    columns = ['Neighborhood']
    for ind in np.arange(num_top_venues):
        try:
            columns.append('{}{} Most Common Venue'.format(ind+1, indicators[ind]))
        except:
            columns.append('{}th Most Common Venue'.format(ind+1))

# create a new dataframe
    neighborhoods_venues_sorted = pd.DataFrame(columns=columns)
    neighborhoods_venues_sorted['Neighborhood'] = data['Neighborhood']

    for ind in np.arange(denver_grouped.shape[0]):
        neighborhoods_venues_sorted.iloc[ind, 1:] = return_most_common_venues(data.iloc[ind, :], num_top_venues)

    neighborhoods_venues_sorted = neighborhoods_venues_sorted.set_index(['Neighborhood'])
top_10_venues(denver_grouped)
neighborhoods_venues_sorted
</code></pre>
<p><a href=""https://i.stack.imgur.com/PO9B2.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/PO9B2.png"" alt=""This is what I want to see "" /></a></p>
<p>Here is my dropdown widget:</p>
<pre><code>#Experimenting with Jupyter dropdown

filtered_df = None


dropdown = widgets.SelectMultiple(
                        options=neighborhoods_venues_sorted.index,
                        description='Venue',
                        disabled=False,
                        layout={'height':'100px', 'width':'40%'})

def max_density(widget):
    global filtered_df
    selection = list(widget['new'])

    with out:
        clear_output()
        display(neighborhoods_venues_sorted[selection])
        filtered_df = neighborhoods_venues_sorted[selection]

out = widgets.Output()
dropdown.observe(filter_dataframe, names='value')
display(dropdown)
display(out)
</code></pre>
<p>Here is what I end up seeing, the unformatted dataframe I ran the function on?<br></p>
<p><a href=""https://i.stack.imgur.com/ezY33.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/ezY33.png"" alt=""Why???"" /></a></p>
",49,0,<python><drop-down-menu><jupyter-notebook><ipywidgets>,2021-05-20 17:19:57
67617674,"Python Jupyter: performance increase of ""ipywidget.interactive""","<p>I am using the following example code in Jupyter. It is responding relatively delayed to the adjustments of the slider values. How can be the performance increased?  In principle I don't want to redraw the whole plot each time when one of the sliders is moved. Only the curve should then be redrawn (but how?).</p>
<pre><code>%matplotlib inline
from ipywidgets import interactive
import matplotlib.pyplot as plt
import numpy as np

def f(omega, phi):
    plt.figure()
    t = np.linspace(0, 10, num = 1000)
    y = sin(omega * t + phi)
    plt.plot(t, y)
    plt.ylim(-1, 1)
    plt.show()

interactive_plot = interactive(f, omega=(0.1, 5, 0.1), phi=(0, 5, 0.1))

interactive_plot
</code></pre>
",132,1,<python><jupyter-notebook><ipywidgets>,2021-05-20 09:29:28
67552710,How to display interactive leaflet map in R notebook in colab,"<p>I am unable to plot an interactive map in
<a href=""https://colab.research.google.com/github/ferroao/leaftest/blob/main/testCell.ipynb"" rel=""nofollow noreferrer"">colab</a></p>
<p>A workaround (static image) is in the second cell.</p>
<p>I expect an answer in r-leaflet.</p>
<p>Related <a href=""https://www.r-bloggers.com/2018/04/r-htmlwidgets-in-jupyter-notebooks/"" rel=""nofollow noreferrer"">blog</a></p>
",283,1,<r><r-leaflet><jupyter-irkernel>,2021-05-16 02:23:51
67535562,Pretty print of R Jupyter Notebook inside a function,"<p>When calling <code>head(...)</code> in a cell in jupyter notebook, we get a nice table with the data</p>
<p><a href=""https://i.stack.imgur.com/8puBv.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/8puBv.png"" alt=""enter image description here"" /></a></p>
<p>However if I want to do the same in a function, nothing is shown, so I have to use <code>print(head(...))</code> but the result is less pretty as you can see</p>
<p><a href=""https://i.stack.imgur.com/S0iB7.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/S0iB7.png"" alt=""enter image description here"" /></a></p>
<p>Is there a way to get the same type of output as the first image but in a function ?</p>
",491,1,<r><jupyter-notebook><jupyter-irkernel>,2021-05-14 13:55:14
67525669,How do I select Pandas DataFrame with ipywidget?,"<p>I'm building an interactive function that can select inputs with a dropdown.
Everything can be selected, except for an argument whose type is a <code>pandas.DataFrame</code>. How can I fix it?</p>
<p>Code I used</p>
<pre><code>from ipywidgets import interact_manual
import pandas as pd
df_1 = pd.DataFrame(data=[[0, 1], [1, 2]], columns=[&quot;aaa&quot;, &quot;bbb&quot;])
df_2 = pd.DataFrame(data=[[8, 9], [7, 8]], columns=[&quot;xxx&quot;, &quot;zzz&quot;])
def display_df(df):
    return df
interact_manual(
    display_df,
    df=[(&quot;df_1&quot;, df_1), (&quot;df_2&quot;, df_2)]
)
</code></pre>
<p>results:</p>
<pre><code>BLAHBLAH
ValueError: The truth value of a DataFrame is ambiguous. Use a.empty, a.bool(), a.item(), a.any() or a.all().
During handling of the above exception, another exception occurred:
BLAHBLAH
TraitError: Invalid selection: value not found
</code></pre>
<p>However, if I use the data inside only, the code works fine.</p>
<pre><code>from ipywidgets import interact_manual
df_1 = [[0, 1], [1, 2]]
df_2 = [[8, 9], [7, 8]]
def display_df(df):
    return df
interact_manual(
    display_df,
    df=[(&quot;df_1&quot;, df_1), (&quot;df_2&quot;, df_2)]
)
</code></pre>
<p>versions:</p>
<pre><code>python== 3.7.3

ipykernel==5.1.1
ipython==7.6.1
ipython-genutils==0.2.0
ipywidgets==7.5.0

jupyter==1.0.0
jupyter-client==5.3.1
jupyter-console==6.0.0
jupyter-core==4.5.0
jupyter-kernel-gateway==2.4.0
jupyterlab==1.2.4
jupyterlab-code-formatter==1.0.3
jupyterlab-server==1.0.0
</code></pre>
",618,2,<python><pandas><jupyter-notebook><ipywidgets>,2021-05-13 20:15:59
67499205,python panel.interact not creating the UI widgets when the function argument is a list,"<p>I am using <code>panel</code> module of python in the <code>jupyter notebook</code>, I am using the it's <code>interact</code> function which is responsible for generating the GUI widgets automatically based on the values of the arguments of the function. But I have one list which contains the values which can be used to make the GUI widgets but when I pass the list as input to the function ans use the <code>panel.interact(function_name)</code>, It don't create the GUI for those values parameters.</p>
<p>suppose I have list containing following values</p>
<pre><code>data= ['some_text', 10]
</code></pre>
<p>and I am passing this as argument to the function. i.e:</p>
<pre><code>def fun(data):
</code></pre>
<p>so i want when I use <code>panel.interact(fun)</code>
one <code>TextInput</code> and one <code>IntSlider</code> should come.
but it's not happening but instead if i give those values in the function arguments like below:</p>
<pre><code>def fun(data1='sometext', data2=10):
</code></pre>
<p>then it generate the <code>TextInput</code> and <code>IntSlider</code>.</p>
",234,0,<python><python-3.x><dashboard><ipywidgets>,2021-05-12 07:39:08
67494104,"How can I save the .svg output from an interactive() display with a ""Save As"" prompt?","<p>I am an artist trying to wrap my head around generative/procedural design using NumPy and various assorted tools in jupyter notebook.</p>
<p>I have some code <a href=""https://github.com/GreySoulX/Circle-generator/blob/main/BrokenCircles.ipynb"" rel=""nofollow noreferrer"">https://github.com/GreySoulX/Circle-generator/blob/main/BrokenCircles.ipynb</a> (see below) that will generate a number of concentric circles of random radius and output them as SVG code. I can get it to display, and I can even get the SVG output with the basic code, but when put it all in a functions and call it with interactive() my saved files come out empty rather that what is shown in my notebook with widgets.VBox() .</p>
<p>Where can I fix this? Am I just missing this by a million miles?</p>
<pre><code>import numpy as np
import matplotlib.patches as mpatches
from matplotlib.collections import PatchCollection
import matplotlib.pyplot as plt
from IPython.display import display, Markdown, clear_output
from ipywidgets import widgets
from ipywidgets import interact, interact_manual, interactive, Button
</code></pre>
<pre><code>def make_circles(n_circles=100,min_radius=0.05, max_radius=9.0, debug=False, Refresh=False ):

    x_bounds = [-10, 10]
    y_bounds = [-10, 10]
    circles = []

    for i in range(n_circles):
        c = np.array([0, 0])
        r = np.unique(np.sort(np.round(np.random.uniform(min_radius,max_radius,1),2)))
        circles.append((c, r))
    
    circles
    circle_patches = []
    for c, r in circles:
        circle_patches.append(mpatches.Circle(c, r, fill=None, edgecolor='black'))

    fig, ax = plt.subplots(figsize=(20, 20))
 
    if not debug:
        plt.grid(False)
        plt.axis('off')

    ax.set_aspect('equal')
    ax.set_xlim(x_bounds)
    ax.set_ylim(y_bounds)

    collection = PatchCollection(circle_patches, match_original=True)
    ax.add_collection(collection)

    return fig, ax
    
w = interactive(make_circles,
                n_circles=(1,300,1),
                min_radius=(0.00, 2.0, 0.1),
                max_radius=(2.0, 20, 0.5))

#------Button----------
button = widgets.Button(description='Save as...')
out = widgets.Output()

def on_button_clicked(_):
    #link function with output
    with out:
        #what happens when we hit button
        #clear_output()
        print('Saving Files...')
        plt.savefig('SomeFile.svg', bbox_inches = 'tight', pad_inches = 0)
        plt.savefig('SomeFile.png', bbox_inches = 'tight', pad_inches = 0)


# linking button and function together using a button's method
button.on_click(on_button_clicked)
# displaying Circles and button
widgets.VBox([button,out,w])
#------End Button------------
</code></pre>
",512,2,<python><matplotlib><svg><jupyter-notebook><ipywidgets>,2021-05-11 20:45:36
67434906,"ipywidgets - widgets.FileUpload, updated CSV file read the CSV file","<p>I am using jupyterhub and hosting the <code>.ipynb</code> file and hosted on server. I have usecase to upload a CSV from localdrive file and read the same for other dataframe tasks.</p>
<pre><code>uploader = widgets.FileUpload(
    accept='*.csv',  # Accepted file extension e.g. '.txt', '.pdf', 'image/*', 'image/*,.pdf'
    multiple=False  # True to accept multiple files upload else False
)

display(uploader)


[input_file] = uploader.value
print(input_file)
pd.read_csv(input_file)
</code></pre>
<p><code>print(input_file)</code> - is printing <code>Test.csv</code> which is CSV file name
I am able to print <code>[input_file]</code>  but `pd.read_csv(input_file)' is throwing below error</p>
<pre><code>FileNotFoundError: [Errno 2] No such file or directory: 'Test.csv'
</code></pre>
<p>Not sure were the CSV is uploaded, how can i read that data. Please help.</p>
",1447,0,<python-3.x><pandas><dataframe><jupyter-notebook><ipywidgets>,2021-05-07 12:23:15
67417801,widgets.FileUpload - Read the uploaded CSV,"<p>I am using <code>widgets.FileUpload</code> to upload a CSV to jupyter and read it. I am using below yo upload.</p>
<pre><code>input_file = widgets.FileUpload(
    accept='.csv',  # Accepted file extension e.g. '.txt', '.pdf', 'image/*', 'image/*,.pdf'
    multiple=False  # True to accept multiple files upload else False
)

input_file
</code></pre>
<p>I have uplaoded the file and when i print <code>print(input_file.value)</code> I can see the data.</p>
<p>But when i read through <code>data = pd.read_csv(input_file.value, encoding = &quot;ISO-8859-1&quot;)</code> I see below error</p>
<p><code>ValueError: Invalid file path or buffer object type: &lt;class 'dict'&gt;</code></p>
<p>Any pointers please.</p>
",1117,1,<python-3.x><pandas><dataframe><jupyter-notebook><ipywidgets>,2021-05-06 12:07:01
67384450,Sharing Jupyter Notebook/Lab output with not technical people,"<p>I am looking for suggestions, I would like to share my Jupyter Notebook/Lab analysis with not technical people inside my organisation, ideally I would like to share only the output and not the code, for example through Voila. I am also planning to update the analysis daily, therefore I would like to avoid updating manually the code. I read few articles about JupyterHub and Dockerand they seem the best direction, do you have any other ideas?</p>
",351,4,<docker><jupyter-notebook><jupyter><jupyter-lab><jupyterhub>,2021-05-04 12:06:25
67371753,jupyterhub - NLTK - unable to use stopwords,"<p>I am using below code to use stopwords through jupyter notebook. I have hosted jupyter on Linux server and using the notebook.</p>
<pre><code>python3 -m nltk.downloader stopwords
python3 -m nltk.downloader words
python3 -m nltk.downloader punkt

python3
&gt;&gt;&gt;from nltk.corpus import stopwords
&gt;&gt;&gt;stop_words = set(stopwords.words(&quot;english&quot;))
&gt;&gt;&gt;print(stop_words)
</code></pre>
<p>This works fine while running in python terminal, but when I try below in Jupyternotebook its failing with error.</p>
<pre><code>from nltk.corpus import stopwords
stop_words = set(stopwords.words(&quot;english&quot;))
print(stop_words)

---------------------------------------------------------------------------
LookupError                               Traceback (most recent call last)
/usr/local/lib/python3.7/site-packages/nltk/corpus/util.py in __load(self)
     82                 try:
---&gt; 83                     root = nltk.data.find(&quot;{}/{}&quot;.format(self.subdir, zip_name))
     84                 except LookupError:

/usr/local/lib/python3.7/site-packages/nltk/data.py in find(resource_name, paths)
    582     resource_not_found = &quot;\n%s\n%s\n%s\n&quot; % (sep, msg, sep)
--&gt; 583     raise LookupError(resource_not_found)
    584 

LookupError: 
**********************************************************************
  Resource stopwords not found.
  Please use the NLTK Downloader to obtain the resource:
</code></pre>
<p>When i try to download in python3 terminal I see its already upto date.</p>
<pre><code>&gt;&gt;&gt; import nltk &gt;&gt;&gt; nltk.download('stopwords') [nltk_data] Downloading package stopwords to /root/nltk_data... [nltk_data]   Package stopwords is already up-to-date!
</code></pre>
<p>But when tried through jupyter hub download is timing out. Ideally download is not required if its up to date. So is there is configuration in jupyter hub to handle this</p>
",71,0,<python-3.x><jupyter-notebook><nltk><stop-words><jupyterhub>,2021-05-03 15:37:41
67335525,Display variable value in Jupyter cell placeholder which can be updated from another function,"<p>What is the best way to display variable value while executing a function using the same output object, preferably ipywidgets. Currently I'm only able to display the last value of a variable.</p>
<pre><code>from ipywidgets import widgets
import  time
label = widgets.Label(value='Status:')
def test ():    
    global status
    label.value = &quot;Executing&quot;
    time.sleep(2)
    label.value = &quot;Done&quot;
test()
label
</code></pre>
",165,1,<python><ipywidgets>,2021-04-30 14:18:55
67334253,How to set a multi user Jupyterlab server with Jupyterhub from a server,"<p>I followed a tutorial to install and launch jupyterhub in my server and use it in my local machine. But, with my actual config file I can't access to my jupyterlab in my local machine.
Here is my current config file :</p>
<pre><code>c.LocalAuthenticator.create_system_users = True
c.Authenticator.admin_users = {'jupyter'}
c.JupyterHub.hub_ip = '0.0.0.0'
c.JupyterHub.hub_port = 54321
</code></pre>
<p>Basically, with this conf, I'm able to access to jupyterlab in my local machine with https:[IP_ADRESS_OF_SERVER]:54321
But if it's not working, I think i'm doing something wrong or misunderstading.</p>
<p>Anyone can debug me pls?</p>
",327,1,<jupyter-notebook><jupyter-lab><jupyterhub>,2021-04-30 12:51:07
67318505,jupyterhub - NLTK - unable to use stopwords - Resource stopwords not found,"<p>I am using below code to use stopwords through jupyter notebook. I have hosted jupyter on Linux server and using the notebook.</p>
<pre><code>python3 -m nltk.downloader stopwords
python3 -m nltk.downloader words
python3 -m nltk.downloader punkt

python3
&gt;&gt;&gt;from nltk.corpus import stopwords
&gt;&gt;&gt;stop_words = set(stopwords.words(&quot;english&quot;))
&gt;&gt;&gt;print(stop_words)
</code></pre>
<p>This works fine while running in python terminal, but when I try below in Jupyternotebook its failing with error.</p>
<pre><code>from nltk.corpus import stopwords
stop_words = set(stopwords.words(&quot;english&quot;))
print(stop_words)

---------------------------------------------------------------------------
LookupError                               Traceback (most recent call last)
/usr/local/lib/python3.7/site-packages/nltk/corpus/util.py in __load(self)
     82                 try:
---&gt; 83                     root = nltk.data.find(&quot;{}/{}&quot;.format(self.subdir, zip_name))
     84                 except LookupError:

/usr/local/lib/python3.7/site-packages/nltk/data.py in find(resource_name, paths)
    582     resource_not_found = &quot;\n%s\n%s\n%s\n&quot; % (sep, msg, sep)
--&gt; 583     raise LookupError(resource_not_found)
    584 

LookupError: 
**********************************************************************
  Resource stopwords not found.
  Please use the NLTK Downloader to obtain the resource:
</code></pre>
",1297,1,<python><nltk><jupyter><stop-words><jupyterhub>,2021-04-29 13:35:24
67314993,Set ipy widget default value from list,"<p>I have a list of values that I'd like to be my default values for some FloatBoxes I've dynamically created.</p>
<pre><code>   list_of_inputs = df.columns.to_list()
   list_of_values = df.loc[0, :].values.tolist()

   floatboxes = [ipw.FloatText(value=________________,
               description=col,
               disabled=False,
               layout = {'width':'250px'}) for col in list_of_inputs]
</code></pre>
<p>This displays my floatboxes with the names taken from the column headers from my 1 row df. I just need the default value of the box to be the value thats in each column of the df.</p>
<p>I have tried</p>
<pre><code>     ipw.FloatText(value=list_of_values[val] for val in list_of_values,
</code></pre>
<p>With no joy. Clearly a case of list iteration that I still havent go the hang of.</p>
",54,0,<python><list><iteration><ipywidgets>,2021-04-29 09:51:09
67309438,How to read selected row from a shown pandas dataframe as output in ipywidgets,"<p>I have a <code>pandas</code> dataframe displayed through a <code>widgets.Output()</code> in a simple dashboard. What I want to do is read what row the user clicked so I can further process data. The following is an example of the dataframe shown through the <code>ipywidget</code>.</p>
<p><img src=""https://i.stack.imgur.com/NapdD.png"" alt=""Dataframe example"" /></p>
<p>Basically, I want to know either the index or the value when the user selects a given row. Say:</p>
<p><img src=""https://i.stack.imgur.com/bLEUl.png"" alt=""User pressed the M23 row"" /></p>
<p>Is there a way I can read this?</p>
<p>An example of the code:</p>
<pre><code>import pandas as pd
import ipywidgets as widgets

df = pd.DataFrame(index=['J21','D21','J22','M23'])
df['Last'] = [4.10,4.38,4.63,4.90]
df['Wtd'] = [-0.02,0.02,0.02,0.01]
df['Mtd'] = [-0.08,-0.02,-0.01,0.01]
df['3mth'] = [-0.10,0.25,0.50,0.73]
df['Ytd'] = [-0.19,0.16,0.38,0.52]

out = widgets.Output()
with out:
    display(df)

out
</code></pre>
<p>Basically when I show out on my code, it prints the df as an ipywidget. I now want to read when a user click on a given row (say M23), so I can show additional information for that particular item in another ipywidget. Is that doable?</p>
<p>Thanks very much!</p>
",203,2,<python><pandas><dataframe><ipywidgets>,2021-04-29 00:11:50
67295067,How I make my Jupyter notebook script locked?,"<p>I have multiple scripts using the IRkernel on Jupyter notebook. I have to put them on a server, but I only want that people can run it, not editable or deletable.
I have already tried things, mainly by modifying the metadatas like that :</p>
<pre><code>{
  &quot;deletable&quot;: false,
  &quot;editable&quot;: false,
  &quot;trusted&quot;: true
}
</code></pre>
<p>But when it would be on the server, others people can modify the metadatas, so it is not really what I want.
Is there a way to make my script fully locked and that nobody can editable it ?</p>
",74,1,<jupyter-notebook><jupyter-irkernel>,2021-04-28 06:45:51
67259323,JupyterHub access AWS S3,"<p>I want to give access to JupyterHub users so they can use data in AWS S3. I would appreciate if anyone explain how to set up for this usage.</p>
<p>Also, I would prefer if there is a way to not to give AWS credentials to the JupyterHub users but they would be just allowed to have access to data in AWS S3.</p>
<p>Thank you!</p>
",458,1,<amazon-web-services><amazon-s3><jupyter><jupyterhub>,2021-04-25 23:58:28
67253077,End of file error due to setup function of pycaret,"<p>I am making an object of Automl and I am calling the function initial setup which displays a text widget and when text is submit it calls the target_submit_handler which internally calls <code>classification_setup</code> which calls the <code>setup()</code> of pycaret library However when setup function gets called I am getting an end of file error:</p>
<p><a href=""https://i.stack.imgur.com/XWzqa.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/XWzqa.png"" alt=""enter image description here"" /></a></p>
<pre><code>from pycaret.classification import *

class AutoMl():
    def __init__(self):
        self.dataframe=pd.DataFrame()
        self.w=None
        self.setup=None
            
    def classification_setup(self,data,target):
        x=setup(self.dataframe, &quot;Species&quot;)     //this fucntion is of pycaret library which displays the end of file er
        
    def target_submit_handler(self,text):
#         print(self.dataframe,self.target.value) I am geting the correct dataframe and target column name 
        self.classification_setup(data=self.dataframe,target=&quot;Species&quot;)
        
    def initial_setup(self,dataframe=None,target=None):
        if(dataframe==None and target==None):
            if(self.dataframe.empty!=True):
                self.target = widgets.Text(description = 'Enter the target column')
                self.target.on_submit(self.target_submit_handler)
                display(self.target)

</code></pre>
<pre><code>f=AutoMl()
f.initial_setup() //end of file error 
</code></pre>
<p>This is the end of file error:</p>
<p><a href=""https://i.stack.imgur.com/7mQDT.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/7mQDT.jpg"" alt=""enter image description here"" /></a></p>
",455,1,<python><data-science><ipywidgets><pycaret>,2021-04-25 11:51:59
67227812,Is there a way where you can reassign options to dropdown in ipywidgets,"<p>I want to update the dropdown option when i update the referred list. Is there a way of doing it?</p>
<pre><code>options_list = []

def update_options_list():
c.exexute('SQL CODES')
for ids in c:
  options_list.append(c[0])

dropdown_lable = widgets.Dropdown(options=options_list, value = None)

def button_function():
  update_options_list
  dropdown_lable.options = options_list
</code></pre>
<p>Is there a way to apply the updated options list to dropdown_lable.options?</p>
<p>I come across this error: 'NoneType' object is not callable</p>
",66,0,<python><ipywidgets>,2021-04-23 09:55:03
67212208,Jupyterhub fail to show the cells,"<p>When I lunched the python3 notebook in JupyterHub, waited for long time and then only show the logo of JupyterHub and the menu toolbars without showing any cells (there are many cells in the notebook). I have shut-downed any other notebook on the hub, and also tried shutdown-restart this notebook many times, but it didn't work.</p>
",17,0,<jupyter-notebook><jupyter><jupyterhub>,2021-04-22 11:17:50
67192369,how to use the slots in Slider object of ipyvuetify?,"<p>I'm using the <code>ipyvuetify</code> librairy to create a dashboard application. I would like to add an extra <code>TextField</code> as a slot to my <code>Slider</code> component. I followed the example given in the <a href=""https://vuetifyjs.com/en/components/sliders/"" rel=""nofollow noreferrer"">vuetify documentation</a> and the <a href=""https://ipyvuetify.readthedocs.io/en/latest/advanced_usage.html#scoped-slots"" rel=""nofollow noreferrer"">slot documentation from ipyvuetify</a> but I don't manage to make the simple &quot;+&quot; icon to appear.</p>
<pre class=""lang-py prettyprint-override""><code>range = v.RangeSlider(
    v_model = None,
    v_slots = [{
        'name': 'append',
        'children': [v.Icon(children=['mdi-plus'])]
    }]
)
range
</code></pre>
<p>What did I miss ? Is it even possible ?</p>
",218,0,<python><vuetify.js><ipywidgets>,2021-04-21 08:49:33
67181425,How to change the value display in the thumb of a range slider in ipyvuetify?,"<p>In the vuetify documentation the following <a href=""https://vuetifyjs.com/en/components/sliders/#thumb"" rel=""nofollow noreferrer"">example</a></p>
<pre class=""lang-html prettyprint-override""><code>&lt;v-slider
  v-model=&quot;slider&quot;
  :thumb-size=&quot;24&quot;
  thumb-label=&quot;always&quot;
&gt;
  &lt;template v-slot:thumb-label=&quot;{ value }&quot;&gt;
    {{ satisfactionEmojis[Math.min(Math.floor(value / 10), 9)] }}
  &lt;/template&gt;
&lt;/v-slider&gt;
</code></pre>
<p>And I try my best to adapt it to <a href=""https://ipyvuetify.readthedocs.io/en/latest/index.html"" rel=""nofollow noreferrer""><code>ipyvuetify</code></a>:</p>
<pre class=""lang-py prettyprint-override""><code>toto = v.Slider(
    v_model=None,
    thumb_label = True,
    class_='mt-5',
    v_slots = [{
        'name': 'thumb_label',
        'variable': 'thumb.value',
        'children': 'toto'
    }]
)
toto
</code></pre>
<p>But my slider is till displaying numbers instead of &quot;toto&quot;. what did I miss ? Is it even possible ?</p>
",121,1,<python><vuetify.js><ipywidgets>,2021-04-20 14:58:24
67139306,Why dont I get the interactive elements on my Jupyter Notebook?,"<p>I would like to have interactive filters, according to the <a href=""https://ipywidgets.readthedocs.io/en/latest/examples/Using%20Interact.html#Using-Interact"" rel=""nofollow noreferrer"">documentation</a>, this simple code should give me a filter and a slider but it just gives me a simple output.</p>
<p>Input:</p>
<pre><code>from ipywidgets import interact
@interact(x=True, y=1.0)
    def g(x, y):
        return (x, y)
</code></pre>
<p>Output:</p>
<pre><code>(True, 1.0)
</code></pre>
<p>I tried to run this on the terminal and restarted the Kernel but it didnt work either. <a href=""https://github.com/jupyter-widgets/ipywidgets/issues/1778"" rel=""nofollow noreferrer"">Source</a>.</p>
<pre><code>jupyter nbextension enable --sys-prefix --py widgetsnbextension
</code></pre>
<p>What should I do to fix this?</p>
",59,0,<filter><jupyter-notebook><interactive><ipywidgets>,2021-04-17 14:34:03
67116405,ipywidgets install issue on python,"<p>I tried to install 'ipywidgets' on my Python. I used both 'pip install ipywidgets' and 'pip3 install ipywidgets'
but neither is working.
Can you please help me how to install ipywidgets? It needs for tqdm.</p>
<p>I have a long error log as below:</p>
<pre><code>Installing collected packages: pywinpty, pandocfilters, nbclient, mistune, jupyterlab-pygments, jinja2, ipython, entrypoints, defusedxml, cffi, bleach, terminado, Send2Trash, prometheus-client, nbconvert, ipykernel, argon2-cffi, notebook, widgetsnbextension, jupyterlab-widgets, ipywidgets
    Running setup.py install for pywinpty ... error
    ERROR: Command errored out with exit status 1:
     command: 'c:\users\mpa3209794\appdata\local\programs\python\python39\python.exe' -u -c 'import sys, setuptools, tokenize; sys.argv[0] = '&quot;'&quot;'C:\\Users\\MPA3209794\\AppData\\Local\\Temp\\pip-install-8y79y8w4\\pywinpty_b841185b2a294deca64a008a83fa371c\\setup.py'&quot;'&quot;'; __file__='&quot;'&quot;'C:\\Users\\MPA3209794\\AppData\\Local\\Temp\\pip-install-8y79y8w4\\pywinpty_b841185b2a294deca64a008a83fa371c\\setup.py'&quot;'&quot;';f=getattr(tokenize, '&quot;'&quot;'open'&quot;'&quot;', open)(__file__);code=f.read().replace('&quot;'&quot;'\r\n'&quot;'&quot;', '&quot;'&quot;'\n'&quot;'&quot;');f.close();exec(compile(code, __file__, '&quot;'&quot;'exec'&quot;'&quot;'))' install --record 'C:\Users\MPA3209794\AppData\Local\Temp\pip-record-izffzjgx\install-record.txt' --single-version-externally-managed --compile --install-headers 'c:\users\mpa3209794\appdata\local\programs\python\python39\Include\pywinpty'
         cwd: C:\Users\MPA3209794\AppData\Local\Temp\pip-install-8y79y8w4\pywinpty_b841185b2a294deca64a008a83fa371c\
    Complete output (25 lines):
    running install
    running build
    running build_py
    creating build
    creating build\lib.win-amd64-3.9
    creating build\lib.win-amd64-3.9\winpty
    copying winpty\ptyprocess.py -&gt; build\lib.win-amd64-3.9\winpty
    copying winpty\winpty_wrapper.py -&gt; build\lib.win-amd64-3.9\winpty
    copying winpty\__init__.py -&gt; build\lib.win-amd64-3.9\winpty
    creating build\lib.win-amd64-3.9\winpty\tests
    copying winpty\tests\test_cywinpty.py -&gt; build\lib.win-amd64-3.9\winpty\tests
    copying winpty\tests\test_ptyprocess.py -&gt; build\lib.win-amd64-3.9\winpty\tests
    copying winpty\tests\test_winpty_wrapper.py -&gt; build\lib.win-amd64-3.9\winpty\tests
    copying winpty\tests\__init__.py -&gt; build\lib.win-amd64-3.9\winpty\tests
    creating build\lib.win-amd64-3.9\winpty\_winpty
    copying winpty\_winpty\__init__.py -&gt; build\lib.win-amd64-3.9\winpty\_winpty
    running build_ext
    building 'winpty.cywinpty' extension
    creating build\temp.win-amd64-3.9
    creating build\temp.win-amd64-3.9\Release
    creating build\temp.win-amd64-3.9\Release\winpty
    C:\Program Files (x86)\Microsoft Visual Studio\2019\BuildTools\VC\Tools\MSVC\14.28.29910\bin\HostX86\x64\cl.exe /c /nologo /Ox /W3 /GL /DNDEBUG /MD -Ic:\users\mpa3209794\appdata\local\programs\python\python39\include -Ic:\users\mpa3209794\appdata\local\programs\python\python39\include -IC:\Program Files (x86)\Microsoft Visual Studio\2019\BuildTools\VC\Tools\MSVC\14.28.29910\include -IC:\Program Files (x86)\Windows Kits\10\include\10.0.19041.0\ucrt -IC:\Program Files (x86)\Windows Kits\10\include\10.0.19041.0\shared -IC:\Program Files (x86)\Windows Kits\10\include\10.0.19041.0\um -IC:\Program Files (x86)\Windows Kits\10\include\10.0.19041.0\winrt -IC:\Program Files (x86)\Windows Kits\10\include\10.0.19041.0\cppwinrt /Tcwinpty/cywinpty.c /Fobuild\temp.win-amd64-3.9\Release\winpty/cywinpty.obj
    cywinpty.c
    winpty/cywinpty.c(629): fatal error C1083: Cannot open include file: 'winpty.h': No such file or directory
    error: command 'C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\BuildTools\\VC\\Tools\\MSVC\\14.28.29910\\bin\\HostX86\\x64\\cl.exe' failed with exit code 2
    ----------------------------------------
ERROR: Command errored out with exit status 1: 'c:\users\mpa3209794\appdata\local\programs\python\python39\python.exe' -u -c 'import sys, setuptools, tokenize; sys.argv[0] = '&quot;'&quot;'C:\\Users\\MPA3209794\\AppData\\Local\\Temp\\pip-install-8y79y8w4\\pywinpty_b841185b2a294deca64a008a83fa371c\\setup.py'&quot;'&quot;'; __file__='&quot;'&quot;'C:\\Users\\MPA3209794\\AppData\\Local\\Temp\\pip-install-8y79y8w4\\pywinpty_b841185b2a294deca64a008a83fa371c\\setup.py'&quot;'&quot;';f=getattr(tokenize, '&quot;'&quot;'open'&quot;'&quot;', open)(__file__);code=f.read().replace('&quot;'&quot;'\r\n'&quot;'&quot;', '&quot;'&quot;'\n'&quot;'&quot;');f.close();exec(compile(code, __file__, '&quot;'&quot;'exec'&quot;'&quot;'))' install --record 'C:\Users\MPA3209794\AppData\Local\Temp\pip-record-izffzjgx\install-record.txt' --single-version-externally-managed --compile --install-headers 'c:\users\mpa3209794\appdata\local\programs\python\python39\Include\pywinpty' Check the logs for full command output.
</code></pre>
",157,0,<python><ipywidgets><tqdm>,2021-04-15 21:44:13
67110891,mount secrets for jupyterhub on kubernetes with Helm,"<p>I am new to Kubernetes and Helm.
I deployed a jupyterhub pod on Kubernetes (on GCP) following this line</p>
<p><a href=""https://zero-to-jupyterhub.readthedocs.io/en/stable/jupyterhub/installation.html"" rel=""nofollow noreferrer"">https://zero-to-jupyterhub.readthedocs.io/en/stable/jupyterhub/installation.html</a></p>
<ul>
<li><p>First, I managed to get it working with simple configuration and in order to interact with GCS from the notebooks I am currently uploading a keyfile.json for each user and using environment variable GOOGLE_APPLICATION_CREDENTIALS.</p>
</li>
<li><p>I would like to mount the keyfile as secret in the values.yaml. How could I do that ?
Basically, I would like to get rid of uploading manually the file for each user and have it mounted automatically through the yaml file.</p>
</li>
</ul>
<p>Thanks</p>
",302,0,<kubernetes><google-cloud-platform><kubernetes-helm><jupyterhub><docker-secrets>,2021-04-15 14:58:55
67107296,R kernel in JupyterLab does not display axis properly,"<p>Does anyone know how to fix so the axis are displayed properly in JupyterLab using R kernel? So far I have got this outcome:</p>
<p><a href=""https://i.stack.imgur.com/AwEeo.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/AwEeo.png"" alt=""enter image description here"" /></a></p>
<p>Many thanks</p>
",104,2,<r><jupyter-lab><jupyter-irkernel>,2021-04-15 11:04:53
67105627,What is the the way to catch the ipyvuetify radio button group value catcher?,"<p>I have a widget including a radio button group such as:</p>
<pre><code>parts =vue.RadioGroup(children=[vue.Radio(label='XX'),
                                             vue.Radio(label='YY'),
                                             vue.Radio(label='ZZ')])
</code></pre>
<p>I dont know how can I access what the user clicks, hence I try to check all the properties of the radio button group as such:</p>
<pre><code>out = widgets.Output()

def on_click_radio(widget, event, data):
    with out:
        out.clear_output()
        print(&quot;you have clicked&quot;, data)
        print(&quot;v_model is:&quot;, widget.v_model)
        print(&quot;value is&quot;, widget.value)
        print(&quot;active-class is&quot;, widget.active_class)
        widgetsKeys = widget.keys
        
#         for key in widgetsKeys:
#             print(f'{key}: ',eval(f'widget.{key}'))
#         
        

parts.on_event(&quot;change&quot;,on_click_radio)

display(parts,out)
</code></pre>
<p>I see that data changes from from 0 to 2 (  [0,1,2] )
But I would like to access the values  'XX', 'YY' or 'ZZ?</p>
<p>What is the property to access in the radio button group?
I thought it would be v_model as in a text input, but it is not.</p>
<p>thanks</p>
<p>PS1: It should be one of theses properties:
<a href=""https://vuetifyjs.com/en/api/v-radio-group/#props"" rel=""nofollow noreferrer"">https://vuetifyjs.com/en/api/v-radio-group/#props</a>
But I could not figure out which one by printing the all out</p>
<p>PS2: Accessing this values through '_trait_values' Dictionary seems to be a pain in the neck. right?</p>
",146,0,<python><ipywidgets><ipyvuetify>,2021-04-15 09:15:46
67093413,LDAP connection for jupyterhub,"<p>I want to configure LDAP connection for Jupyterhub, but i don't know what are the setting to use as there are so many, I tried using this as reference <a href=""https://github.com/jupyterhub/ldapauthenticator"" rel=""nofollow noreferrer"">https://github.com/jupyterhub/ldapauthenticator</a> and <a href=""https://github.com/hansohn/jupyterhub-ldap-authenticator"" rel=""nofollow noreferrer"">https://github.com/hansohn/jupyterhub-ldap-authenticator</a> .Still i am not able to figure out which settings are most, it would be helpful if you could identify which are must and how the LDAP login works in jupyterhub.</p>
<p>If you have any opensource LDAP connection working example, please share.</p>
",178,2,<ldap><jupyter><openldap><jupyter-lab><jupyterhub>,2021-04-14 14:11:39
67090427,How to add nohup jupyterhub in service,"<p>Have installed jupyterhub locally. for starting it I'm using this command
<code>conda activate jupyterhub_environment</code> and then
<code>nohup jupyterhub</code></p>
<p>how to add this commands in service so that it can start automatically when system starts using systemd</p>
",40,0,<linux><ubuntu><jupyter-notebook><nohup><jupyterhub>,2021-04-14 10:59:43
67087076,Is there an equivalent to magic `%run` with R kernel in Jupyter?,"<p>This question is somewhat related to <a href=""https://stackoverflow.com/questions/34745423/is-there-a-way-to-do-jupyter-cell-magic-with-r"">Is there a way to do Jupyter cell magic with R</a>.</p>
<p>When you use JupyterLab with a Python kernel, you can split your analysis into several notebooks, like this:</p>
<pre><code>.
├── 01-preprocessing.ipynb
└── 02-analysis.ipynb
</code></pre>
<p>and you can start your notebook <code>02-analysis.ipynb</code> by the magic instruction:</p>
<pre><code>%run 01-preprocessing.ipynb
</code></pre>
<p>so that the previous work can be retrieved and continued.</p>
<p>I noticed that this simple solution does not work if those notebooks are R notebooks. Instead, you get an error:</p>
<pre><code>Error in parse(text = x, srcfile = src): &lt;text&gt;:1:1: unexpected input
1: %run 01-preprocessing.ipynb
    ^
Traceback:
</code></pre>
<p>As I understand it, the magic commands are not a feature of the Jupyter environment itself: it's a feature of the Python kernel only. But is there any equivalent of that for an R kernel? Or, as an R-user, have you any way to split your analysis between several 'dependent' notebooks like this?</p>
<p>Thanks!</p>
",380,2,<r><jupyter-notebook><jupyter><jupyter-lab><jupyter-irkernel>,2021-04-14 07:11:52
67071650,Update dropdownmenu with values from dataframe in pandas,"<p>I'm busy with programming an interactive graph where the values in the graph are chosen based on columnvalues from a dataframe. So, I want to make a graph of values in column x where only the values are chosen which fullfil several conditions from another columns in the dataframe. I have the following dataframe (data): <a href=""https://i.stack.imgur.com/GjLwB.png"" rel=""nofollow noreferrer"">Dataframe</a></p>
<pre><code>data = pd.DataFrame([[3,'VW-b','1 R- R',119.080,'TS',13.56], 
                 [3,'VW-b','1 R- R',119.090,'RS',18.56], 
                 [3,'VW-b','1 R- R',119.100,'TS',12.85],
                 [3,'VW-b','1 R- R',119.110,'TS',9.56],
                 [3,'VW-b','1 R- R',119.120,'RS',8.86],
                 [3,'VW-b','1 R- R',119.130,'TS',13.56],
                 [3,'VW-b','1 R- R',119.140,'TS',19.56],
                 [3,'VW-b','1 R- R',119.150,'TS',14.56],
                 [3,'HRL','1 R- R',159.080,'RS',13.56],
                 [3,'VW-c','1 R- R',19.080,'RS',13.56],
                 [3,'VW-s','1 R- R',254.080,'TS',13.56],
                 [3,'VW-b','1 R- R',25.020,'TS',13.56],
                 [3,'VW-b','1 R- R',25.030,'TS',16.56]], 
                columns=['IGO', 'Baan','Strook','Km','Spoor','IDK1-2'])
</code></pre>
<p>My imports are:</p>
<pre><code>import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import ipywidgets as widgets
from ipywidgets import interact
from ipywidgets import interactive
from IPython.display import display

%matplotlib inline
</code></pre>
<p>I wrote the following code:</p>
<pre><code>def choice(igo, baan, strook, spoor, kmv, kmt):
    Igo = data['IGO'] == igo
    Baan = data['Baan'] == baan
    Strook = data['Strook'] == strook
    Spoor = data['Spoor'] == spoor
    Kmv = data['Km'] == kmv
    Kmt = data['Km'] == kmt


    plt.plot(data['IDK1-2'])
    plt.xlim(kmv,kmt)

w = interactive(choice,
     igo=widgets.Dropdown(options=data['IGO'].unique(),description='IGO'),
     baan=widgets.Dropdown(options=data['Baan'].loc[data['IGO'] == igo].unique(),description='Baan'),
     strook=widgets.Dropdown(options=data['Strook'].loc[data['Baan'] == baan].unique(),description='Strook'),
     spoor=widgets.RadioButtons(options=data['Spoor'].unique(),value='TS',description='Spoor'),
     kmv=widgets.Dropdown(options=data['Km'].unique(),description='Van km'),
     kmt=widgets.Dropdown(options=data['Km'].unique(),description='Tot km'))
display(w)
</code></pre>
<p>How can I make the code in such a way that I can choose first the IGO, than the baan (available choices based on IGO) etc?</p>
",361,1,<python><pandas><ipywidgets>,2021-04-13 08:52:14
67054987,Displaying tif files in jupyter notebook vie ipywidgets,"<p>I am trying to display .tif images using the ipywidgets in jupyter-notebooks. The below code works for .png and .jpg files</p>
<pre><code>from ipywidgets import Image
png_image_path = r&quot;C:\Users\xxxxxxxx\Work\Exercises\images\000000000.png&quot;
file = open(png_image_path, &quot;rb&quot;)
im = file.read()

Image(
    value=im,
    width=300,
    height=400,
)

type(im) # &lt;class 'bytes'&gt;
</code></pre>
<p>The ipywidget from the above code renders the desired image. For reading a <code>tif</code> file I am using <code>gdal</code>.</p>
<pre><code>img = gdal.Open(tif_img_path).ReadAsArray()
print(img.shape) # (3, 1024, 1024)
print(img.transpose(1,2, 0).shape) # (1024, 1024, 3)

type(img.transpose(1,2,0).tobytes()) # &lt;class 'bytes'&gt;

Image(
    value=img.transpose(1,2,0).tobytes(),
    width=300,
    height=400,
)
</code></pre>
<p>I get the following output, the image is not properly displayed in the ipywidget</p>
<p><a href=""https://i.stack.imgur.com/8Pwz9.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/8Pwz9.jpg"" alt=""I get the following output"" /></a></p>
",987,1,<jupyter-notebook><tiff><ipywidgets>,2021-04-12 08:27:11
67010939,Sharing variables from IPyWidget embedded JS to python,"<p>I'm using <a href=""https://github.com/AaronWatters/jp_proxy_widget"" rel=""nofollow noreferrer""><code>jp_proxy_widget</code></a> - an extesion library for ipywidgets, and trying to use the <code>get_value_async</code> function to pass data from JavaScript back to python.</p>
<p>As far as I can understand from the tutorial notebook, this should work</p>
<pre><code>setDemo = jp_proxy_widget.JSProxyWidget()
display(setDemo)

setDemo.js_init(&quot;&quot;&quot;
    var testid = 10;
&quot;&quot;&quot;)
    
class Testinfo:
    TESTID = None

def testid_callback(testid_val):
    Testinfo.TESTID = testid_val

setDemo.get_value_async(testid_callback, &quot;testid&quot;)
</code></pre>
<p>but if I execute the cell this is in, I get an error:</p>
<pre><code>Uninitialized Proxy Widget
new error message: ReferenceError: testid is not defined
</code></pre>
<p>What am I doing wrong?!</p>
",133,0,<python><jupyter-notebook><ipywidgets>,2021-04-08 19:48:56
67007598,buttons vs checkboxes behaviour in ipyvuetify different. Why?,"<p>I am arranging some ipyvuetify components as follows:</p>
<pre><code>import ipyvuetify as vue
vue.Col(children=[vue.Checkbox(label='A'),vue.Checkbox(label='C'),vue.Checkbox(label='D')])
#and 
vue.Col(children=[vue.Btn(label='A', children=['A']),vue.Btn(label='CS', children=['C']),vue.Btn(label='D', children=['D'])])
</code></pre>
<p>the appear as follows:</p>
<p><a href=""https://i.stack.imgur.com/Dy58j.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/Dy58j.png"" alt=""enter image description here"" /></a></p>
<p>Why is that so if both are columns (vue.Col) and only the checkboxes appear actually in a column?</p>
<p>thanks</p>
",96,0,<python><ipywidgets><ipyvuetify>,2021-04-08 15:53:02
67006790,change appearance of multiline checkboxes with ipyvuetify,"<p>I would like to create a multiline checkbox with ipyvuetify:</p>
<pre><code>v.Col(children=[vue.Checkbox(label='UNO'),vue.Checkbox(label='DOS'),vue.Checkbox(label='TRES'),vue.Checkbox(label='CUATRO')])
</code></pre>
<p>The result is as follows:</p>
<p><a href=""https://i.stack.imgur.com/eW1Qo.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/eW1Qo.png"" alt=""enter image description here"" /></a></p>
<p>How do I modify the component in order to get the checkboxes lines closer to each other?</p>
<p>thanks</p>
",44,0,<python><ipywidgets><ipyvuetify>,2021-04-08 15:05:03
67002686,How to insert text at caret for ipywidgets textarea,"<p>I am using ipywidgets in a jupyter notebook and am trying to insert text into a Text box. I have code that will append the appropriate text to the end, but I would like it to insert at the current text cursor instead. Here is a mock up of what a currently have:</p>
<pre><code>from ipywidgets import Button,Text

a = Text(description='text',
         disabled=False)
b = Button(description='Awesome',
       disabled=False)

def on_button_clicked(b):
    a.value+=b.description

b.on_click(on_button_clicked)

display(a,b)
</code></pre>
<p>When I tried to google my question, I found lots of examples for doing this with javascript or tk, but I can't seem to figure out how to do this with ipywidgets.</p>
<p>How do I get the caret position of the ipywidgets Text box?</p>
",133,0,<python><ipython><jupyter><ipywidgets>,2021-04-08 11:04:31
66992557,Is there an easy way to loop through an array of checkbox variables in the display function?,"<p>I am working with Python's widgets library (see: import ipywidgets as widgets) and I am trying to simplify some code. Here is the main code block that I am using:</p>
<pre><code>d = []
for a in X.columns:
    d.append(a) 
x = dict()
for i in range(len(d)):
    x[i] = widgets.Checkbox(options=d[i],description=d[i],disabled=False)
display(x[89])
</code></pre>
<p>What this means is that from variable x[0] through x[n] there is a corresponding checkbox prescribed that will show the checkbox and the corresponding variable associated with that x[n]. I want to make this more dynamic and instead of writing the below to see all the available checkboxes...</p>
<pre><code>display(x[0],x[1],x[2],x[3],...,x[n])
</code></pre>
<p>I can do something more like this...</p>
<pre><code>b = []
for a in range(len(d)):
    b.append(&quot;x[{}]&quot;.format(a))
display(b)
</code></pre>
<p>But this doesn't work. It prints out a list of a string that looks like this instead of the checkboxes with corresponding variable names.</p>
<pre><code>['x[0]',
 'x[1]',
 'x[2]',
 'x[3]',...
 'x[n]']
</code></pre>
<p>I hope this makes sense. If anyone has any insight on how to address this, it would be greatly appreciated.</p>
",125,0,<python><ipywidgets>,2021-04-07 19:01:50
66986211,Jupyter environment for pyspark2 and pyspark3,"<p>In Jupyterhub_config.py, we have set c.YarnSpawner.localize_files to a single source path.</p>
<pre><code>c.YarnSpawner.args = ['--NotebookApp.contents_manager_class=&quot;hdfscm.HDFSContentsManager&quot;']
c.YarnSpawner.YarnClusterConfig.localize_files  = {
        'environment': {
            'source': 'hdfs:///apps/jupyterhub/jupyter.tar.gz',
            'visibility': 'public'
        }
    }
c.YarnSpawner.prologue = 'source environment/bin/activate'
</code></pre>
<p>We have configured Jupyter with pyspark2. Is there a way to configure multiple environments for each kernel?</p>
",63,1,<jupyter-notebook><jupyterhub>,2021-04-07 12:37:33
66966142,How to view dataframe on button click ipywidgets,"<p>I am trying to display my dataframe on button click as i would normally in a jupyter cell by using <code>df.head()</code> . I want the button click to view the data frame based on the currency parameter which the user can choose. Not sure where I am going wrong.</p>
<pre><code>import pandas as pd
import matplotlib.pyplot as plt
import numpy as np
import ipywidgets as ipy
from pycoingecko import CoinGeckoAPI
cg = CoinGeckoAPI()
%matplotlib inline

w_Currency = ipy.Dropdown(
    options=['usd', 'eur', 'jpy', 'gbp'],
    value='usd',
    description='Currency:',
    disabled=False,
)
w_CheckData = ipy.Button(
    value=False,
    description='Check Data',
    disabled=False,
    button_style='',
    tooltip='Check data',
    icon='check' 
)

# Get a list of the top 100 based on market cap
coins = cg.get_coins_markets(vs_currency = currencyWidget.value)
# Create a dataframe from the dictionary defined above
df = pd.DataFrame.from_dict(coins)
# 100 rows × 26 columns is the dimension of this dataframe

def on_button_clicked(df):
    # View head
    df.head()
    
w_CheckData.on_click(on_button_clicked(df))
items = [w_Currency, w_CheckData]
box = ipy.Box(children=items)
box ```
</code></pre>
",423,0,<python><pandas><dataframe><jupyter-notebook><ipywidgets>,2021-04-06 09:35:23
66959004,Python interactive plotting for large data sets,"<p>Suppose I have a dataset with 100k rows (1000 different times, 100 different series, an observation for each, and auxilliary information). I'd like to create something like the following:
(1) first panel of plot has time on x axis, and average of the different series (and standard error) on y axis.
(2) based off the time slice (vertical line) we hover over in panel 1, display a (potentially down sampled) scatter plot of auxilliary information versus the series value at that time slice.</p>
<p>I've looked into a few options for this: (1) matplotlib + ipywidgets doesn't seem to handle it unless you explicitly select points via a slider. This also doesn't translate well to html exporting. This is not ideal, but is potentially workable. (2) altair - this library is pretty sleek, but from my understanding, I need to give it the whole dataset for it to handle the interactions, but it also can't handle more than 5kish data points. This would preclude my use case, correct?</p>
<p>Any suggestions as to how to proceed? Is what I'm asking impossible in the current state of things?</p>
",809,0,<python><matplotlib><plot><ipywidgets><altair>,2021-04-05 19:54:36
66915891,ipywidgets Widget - Date picker - issue with Mozilla Firefox,"<p>When I use Firefox and I click on the x next to the Date picker I get the following error message:</p>
<p>This is not happening with Chrome, and it should work also in Firefox by reading the web official web page, can you please help?
<a href=""https://i.stack.imgur.com/jDcxx.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/jDcxx.png"" alt=""enter image description here"" /></a></p>
<p>here the code:</p>
<pre><code>from ipywidgets import DatePicker, FloatText,HBox, interactive_output, Text
import datetime
from dateutil.relativedelta import relativedelta

ddecW = DatePicker(value=datetime.date.today() + relativedelta(months=2, day=1))
dobW = DatePicker(value=datetime.date.today() + relativedelta(years=-18))
etaW = FloatText(description='Età')


ui = HBox([ddecW, dobW, etaW])


def f(end, start, age):
    etaW.value = round((end - start).days/365.25, 1)

out = interactive_output(f, {'end': ddecW, 'start': dobW, 'age': etaW})

display(ui, out)
</code></pre>
",185,0,<jupyter-notebook><datepicker><widget><ipywidgets>,2021-04-02 07:31:38
66870126,How to add box to ipywidgets interactive?,"<p>Found this code <a href=""https://ipywidgets.readthedocs.io/en/latest/examples/Using%20Interact.html#Flickering-and-jumping-output"" rel=""nofollow noreferrer"">here</a>.</p>
<pre><code>%matplotlib inline
from ipywidgets import interactive
import matplotlib.pyplot as plt
import numpy as np

def f(m, b):
    plt.figure(2)
    x = np.linspace(-10, 10, num=1000)
    plt.plot(x, m * x + b)
    plt.ylim(-5, 5)
    plt.show()

interactive_plot = interactive(f, m=(-2.0, 2.0), b=(-3, 3, 0.5))
output = interactive_plot.children[-1]
output.layout.height = '350px'
interactive_plot
</code></pre>
<p>It creates a plot that can be interacted with and doesn't flicker. I looked in the documentation but I don't know how to add a box to control this plot? For instance how would I use this hbox to update the plot?</p>
<pre><code>items = [widgets.FloatSlider(value=5, min=0, max=10, step=0.01,
                             orientation='vertical', layout=Layout(width=&quot;15px&quot;), readout_format='.0f') 
         for i in range(5)]
hbox = widgets.HBox(items)
hbox
</code></pre>
<p>If you know the answer please elaborate and explain why it is done like that.
I tried to call the function <code>f</code> from <code>observe</code> and it simply created new unrelated plots.
When the same function is called from interactive it works amazingly well.</p>
",183,0,<matplotlib><jupyter-notebook><ipywidgets>,2021-03-30 11:27:16
66867861,How can I attach vscode to the running k8s pod not as root,"<p>I'm using vscode with kubernetes and remote-development plugins.</p>
<p>I attach the vscode to a running pod (jupyter-ril) part of z2hub k8s and I run as a root, unfortunately.</p>
<pre><code>(base) root@jupyter-ril:~# env | grep NB_USER
NB_USER=ril
</code></pre>
<p>Is there a way to run as <code>ril</code> from the <code>NB_USER</code> env variables, instead?</p>
<p><a href=""https://i.stack.imgur.com/kpIrb.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/kpIrb.png"" alt=""enter image description here"" /></a></p>
",155,1,<kubernetes><visual-studio-code><jupyterhub>,2021-03-30 09:04:02
66867746,How to configure Spark spark_worker_opts for Jupyter notebooks,"<p>I use Pyspark with Spark 2.4 in the standalone mode on Linux for processing a lot of incoming data via Kafka using a Jupyter notebook (currently for testing). I want to add these options to this notebook in order to prevent the /tmp/ directory to be filled with dozens of gigabytes after few hours:</p>
<pre><code>spark.worker.cleanup.enabled=true
spark.worker.cleanup.appDataTtl=120
</code></pre>
<p>But these conf locations do not work:</p>
<ol>
<li>Spark’s default configuration (spark/conf/spark-env.sh) seems not be used by Juypter notebooks at all:</li>
</ol>
<blockquote>
<p>SPARK_WORKER_OPTS=&quot;spark.worker.cleanup.enabled=true
spark.worker.cleanup.appDataTtl=120&quot;</p>
</blockquote>
<ol start=""2"">
<li>So, I created a sperate kernel configuration in ~/.local/share/jupyter/kernels/python3-spark1/kernel.json that I can select in Jupyterhub and that is really used for the RAM adjustments what I can see in htop:</li>
</ol>
<blockquote>
<p>&quot;env&quot;: {
&quot;PYSPARK_SUBMIT_ARGS&quot;: &quot;--master local[*]
--conf spark.worker.cleanup.enabled=true --conf=spark.worker.cleanup.appDataTtl=120 driver-memory 145g --executor-memory 50g pyspark-shell&quot;</p>
</blockquote>
<p>but the /tmp still fills with dozens of gigs.</p>
<ol start=""3"">
<li>I also tried the “magic” in a jupyter cell but it also did not work.</li>
</ol>
<p>Do you know how to configure the Jupyter notebooks for this Spark adjustments properly?</p>
",757,1,<apache-spark><pyspark><jupyter-notebook><jupyter><jupyterhub>,2021-03-30 08:56:12
66867530,Jupyter Hub breaks connection on Google Cloud,"<p>I'm hosting Jupyter hub on a separate vm instance in Google Cloud and for some reason connection fails every time when I don't do anything there actively for about 15 minutes. And after that I had to relaunch server and rerun everything again.
Is there some kind of timeout that I could change or maybe it's some kind of an optimised mode of usage I could turn off? I tried increasing CPU memory but still the same thing happens all the time.</p>
<p>I pinged the external IP:</p>
<pre><code>PING &lt;EXTERNAL_IP&gt; (&lt;EXTERNAL_IP&gt;) 56(84) bytes of data.
64 bytes from &lt;EXTERNAL_IP&gt;: icmp_seq=1 ttl=61 time=0.857 ms
64 bytes from &lt;EXTERNAL_IP&gt;: icmp_seq=2 ttl=61 time=0.390 ms
64 bytes from &lt;EXTERNAL_IP&gt;: icmp_seq=3 ttl=61 time=0.418 ms
64 bytes from &lt;EXTERNAL_IP&gt;: icmp_seq=4 ttl=61 time=0.363 ms
64 bytes from &lt;EXTERNAL_IP&gt;: icmp_seq=5 ttl=61 time=0.385 ms
64 bytes from &lt;EXTERNAL_IP&gt;: icmp_seq=6 ttl=61 time=0.429 ms
64 bytes from &lt;EXTERNAL_IP&gt;: icmp_seq=7 ttl=61 time=0.440 ms
64 bytes from &lt;EXTERNAL_IP&gt;: icmp_seq=8 ttl=61 time=0.352 ms
64 bytes from &lt;EXTERNAL_IP&gt;: icmp_seq=9 ttl=61 time=0.357 ms
64 bytes from &lt;EXTERNAL_IP&gt;: icmp_seq=10 ttl=61 time=0.396 ms
64 bytes from &lt;EXTERNAL_IP&gt;: icmp_seq=11 ttl=61 time=0.356 ms
64 bytes from &lt;EXTERNAL_IP&gt;: icmp_seq=12 ttl=61 time=0.594 ms
64 bytes from &lt;EXTERNAL_IP&gt;: icmp_seq=13 ttl=61 time=0.408 ms
64 bytes from &lt;EXTERNAL_IP&gt;: icmp_seq=14 ttl=61 time=0.424 ms
64 bytes from &lt;EXTERNAL_IP&gt;: icmp_seq=15 ttl=61 time=0.414 ms
64 bytes from &lt;EXTERNAL_IP&gt;: icmp_seq=16 ttl=61 time=0.390 ms
64 bytes from &lt;EXTERNAL_IP&gt;: icmp_seq=17 ttl=61 time=0.378 ms
64 bytes from &lt;EXTERNAL_IP&gt;: icmp_seq=18 ttl=61 time=0.350 ms
64 bytes from &lt;EXTERNAL_IP&gt;: icmp_seq=19 ttl=61 time=0.437 ms
64 bytes from &lt;EXTERNAL_IP&gt;: icmp_seq=20 ttl=61 time=0.384 ms
64 bytes from &lt;EXTERNAL_IP&gt;: icmp_seq=21 ttl=61 time=0.361 ms
64 bytes from &lt;EXTERNAL_IP&gt;: icmp_seq=22 ttl=61 time=0.340 ms
64 bytes from &lt;EXTERNAL_IP&gt;: icmp_seq=23 ttl=61 time=0.496 ms
64 bytes from &lt;EXTERNAL_IP&gt;: icmp_seq=24 ttl=61 time=0.361 ms
64 bytes from &lt;EXTERNAL_IP&gt;: icmp_seq=25 ttl=61 time=0.333 ms
</code></pre>
<p>Logs from the Serial port 1:</p>
<pre><code>Jun 21 17:11:09 jupyterhub bash[28473]: [I 2021-06-21 17:11:09.542 SingleUserNotebookApp log:189] 200 GET /user/&lt;MY_USERNAME&gt;/metrics (&lt;MY_USERNAME&gt;@&lt;EXTERNAL_IP&gt;) 9.10ms
    Jun 21 17:13:52 jupyterhub systemd[1]: Stopping /bin/bash -c cd /home/jupyter-&lt;MY_USERNAME&gt; &amp;&amp; exec jupyterhub-singleuser --port=59331...
    Jun 21 17:13:52 jupyterhub bash[28473]: [C 2021-06-21 17:13:52.335 SingleUserNotebookApp notebookapp:1978] received signal 15, stopping
    Jun 21 17:13:52 jupyterhub bash[28473]: [I 2021-06-21 17:13:52.336 SingleUserNotebookApp notebookapp:2145] Shutting down 2 kernels
    Jun 21 17:13:52 jupyterhub bash[28473]: [I 2021-06-21 17:13:52.438 SingleUserNotebookApp multikernelmanager:226] Kernel shutdown: d179550b-b0df-4889-8605-049d4ec59f70
    Jun 21 17:13:52 jupyterhub bash[28473]: [I 2021-06-21 17:13:52.438 SingleUserNotebookApp multikernelmanager:226] Kernel shutdown: 7f2ab807-18b8-465e-b21b-fd9d82a7c3c7
    Jun 21 17:13:52 jupyterhub bash[28473]: [I 2021-06-21 17:13:52.438 SingleUserNotebookApp notebookapp:2160] Shutting down 2 terminals
    Jun 21 17:13:52 jupyterhub bash[28473]: [I 2021-06-21 17:13:52.439 SingleUserNotebookApp management:199] EOF on FD 12; stopping reading
    Jun 21 17:13:52 jupyterhub bash[28473]: [I 2021-06-21 17:13:52.540 SingleUserNotebookApp management:362] Terminal 2 closed
    Jun 21 17:13:52 jupyterhub bash[28473]: [I 2021-06-21 17:13:52.541 SingleUserNotebookApp management:199] EOF on FD 16; stopping reading
    Jun 21 17:13:52 jupyterhub bash[28473]: [I 2021-06-21 17:13:52.641 SingleUserNotebookApp management:362] Terminal 1 closed
    Jun 21 17:13:52 jupyterhub bash[28473]: Websocket closed
    Jun 21 17:13:52 jupyterhub bash[28473]: Websocket closed
    Jun 21 17:13:52 jupyterhub bash[28473]: Traceback (most recent call last):
    Jun 21 17:13:52 jupyterhub bash[28473]:   File &quot;/opt/tljh/user/bin/jupyterhub-singleuser&quot;, line 10, in &lt;module&gt;
    Jun 21 17:13:52 jupyterhub bash[28473]:     sys.exit(main())
    Jun 21 17:13:52 jupyterhub bash[28473]:   File &quot;/opt/tljh/user/lib/python3.7/site-packages/jupyter_core/application.py&quot;, line 254, in launch_instance
    Jun 21 17:13:52 jupyterhub bash[28473]:     return super(JupyterApp, cls).launch_instance(argv=argv, **kwargs)
    Jun 21 17:13:52 jupyterhub bash[28473]:   File &quot;/opt/tljh/user/lib/python3.7/site-packages/traitlets/config/application.py&quot;, line 845, in launch_instance
    Jun 21 17:13:52 jupyterhub bash[28473]:     app.start()
    Jun 21 17:13:52 jupyterhub bash[28473]:   File &quot;/opt/tljh/user/lib/python3.7/site-packages/jupyterhub/singleuser/mixins.py&quot;, line 571, in start
    Jun 21 17:13:52 jupyterhub bash[28473]:     super().start()
    Jun 21 17:13:52 jupyterhub bash[28473]:   File &quot;/opt/tljh/user/lib/python3.7/site-packages/notebook/notebookapp.py&quot;, line 2362, in start
    Jun 21 17:13:52 jupyterhub bash[28473]:     self.cleanup_terminals()
    Jun 21 17:13:52 jupyterhub bash[28473]:   File &quot;/opt/tljh/user/lib/python3.7/site-packages/notebook/notebookapp.py&quot;, line 2161, in cleanup_terminals
    Jun 21 17:13:52 jupyterhub bash[28473]:     run_sync(terminal_manager.terminate_all())
    Jun 21 17:13:52 jupyterhub bash[28473]:   File &quot;/opt/tljh/user/lib/python3.7/site-packages/notebook/utils.py&quot;, line 370, in run_sync
    Jun 21 17:13:52 jupyterhub bash[28473]:     return wrapped()
    Jun 21 17:13:52 jupyterhub bash[28473]:   File &quot;/opt/tljh/user/lib/python3.7/site-packages/notebook/utils.py&quot;, line 364, in wrapped
    Jun 21 17:13:52 jupyterhub bash[28473]:     result = loop.run_until_complete(maybe_async)
    Jun 21 17:13:52 jupyterhub bash[28473]:   File &quot;/opt/tljh/user/lib/python3.7/asyncio/base_events.py&quot;, line 587, in run_until_complete
    Jun 21 17:13:52 jupyterhub bash[28473]:     return future.result()
    Jun 21 17:13:52 jupyterhub bash[28473]:   File &quot;/opt/tljh/user/lib/python3.7/site-packages/notebook/terminal/terminalmanager.py&quot;, line 96, in terminate_all
    Jun 21 17:13:52 jupyterhub bash[28473]:     await self.terminate(term, force=True)
    Jun 21 17:13:52 jupyterhub bash[28473]:   File &quot;/opt/tljh/user/lib/python3.7/site-packages/notebook/terminal/terminalmanager.py&quot;, line 85, in terminate
    Jun 21 17:13:52 jupyterhub bash[28473]:     self._check_terminal(name)
    Jun 21 17:13:52 jupyterhub bash[28473]:   File &quot;/opt/tljh/user/lib/python3.7/site-packages/notebook/terminal/terminalmanager.py&quot;, line 113, in _check_terminal
    Jun 21 17:13:52 jupyterhub bash[28473]:     raise web.HTTPError(404, u'Terminal not found: %s' % name)
    Jun 21 17:13:52 jupyterhub bash[28473]: tornado.web.HTTPError: HTTP 404: Not Found (Terminal not found: 2)
    Jun 21 17:13:52 jupyterhub systemd[1]: jupyter-&lt;MY_USERNAME&gt;.service: Main process exited, code=exited, status=1/FAILURE
    Jun 21 17:13:52 jupyterhub systemd[1]: jupyter-&lt;MY_USERNAME&gt;.service: Failed with result 'exit-code'.
    Jun 21 17:13:52 jupyterhub systemd[1]: Stopped /bin/bash -c cd /home/jupyter-&lt;MY_USERNAME&gt; &amp;&amp; exec jupyterhub-singleuser --port=59331.
</code></pre>
",96,1,<google-cloud-platform><jupyter-notebook><jupyter><jupyterhub>,2021-03-30 08:44:38
66853246,Add placeholder to BoundedIntText - ipywidgets,"<p>I am wondering if it is possible to add a placeholder into a <code>BoundedIntText</code> <code>ipywidget</code>. This is possible in other types such as</p>
<pre><code>widgets.Text(
    value='Hello World',
    placeholder='Type something',
    description='String:',
    disabled=False
)
</code></pre>
<p>I need to use <code>BoundedIntText</code> since the user input must be a number within a range (0 - 175). I would like to print the placeholder to inform users about that range, but as far as I know it is not possible.</p>
<pre><code>widgets.BoundedIntText(
    value=7,
    min=0,
    max=10,
    step=1,
    description='Text:',
    disabled=False
)
</code></pre>
<p>Any suggestion on this?
Thks</p>
",199,0,<python><widget><ipywidgets>,2021-03-29 11:15:31
66839503,Is it possible to use ipywidgets in a Dash app?,"<p>I would like to use some dropdowns, combo-boxes and other complicated combinations of widgets from the <code>ipywidgets</code> library, which I have been developing in a jupyter notebook. However, I am forced to use plotly Dash for deployment. Is there a way I can display <code>ipywidgets</code> in a plotly Dash app without having to convert all of the individual widgets to their dash equivalents?</p>
",481,4,<jupyter-notebook><jupyter><plotly-dash><ipywidgets>,2021-03-28 08:08:46
66824864,JupyterHub to execute on all CPUs,"<p>I have JupyterHub installed on an Ubuntu Server over VM Ware virtualization.</p>
<p>I have 30 CPUs and 128GB of ram.</p>
<p>When I run some code in python in JupterHub it seems to only utilize one of the CPUs.</p>
<p>Is there anything I can do to make it distribute the work and hence bring down the total execution time of my scripts?</p>
<p><a href=""https://i.stack.imgur.com/Ye6U4.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/Ye6U4.png"" alt=""How the machine looks while running"" /></a></p>
",16,1,<python><server><virtual-machine><jupyterhub>,2021-03-26 22:06:56
66762812,Jupyterhub proxy error after including SSL key and cert,"<p>I have jupyterhub installed in my server and all these days I was logging in without SSL certificate and everything was working fine. Now I have SSL certificate (.cer) and I have generated key from it and made changes in config file for <code>c.JupyterHub.ssl_cert = '/opt/mycert.cer'</code> and
<code>c.JupyterHub.ssl_key='/opt/mykey.pem'</code>. But when I start <code>jupyterhub</code> I get below error.</p>
<pre><code>[I 2021-03-23 09:50:15.434 JupyterHub proxy:646] Starting proxy @ http://10.203.6.43:8080/
_tls_common.js:113
      c.context.setCert(cert);
                ^

Error: error:0906D06C:PEM routines:PEM_read_bio:no start line
    at Object.createSecureContext (_tls_common.js:113:17)
    at Server (_tls_wrap.js:868:27)
    at new Server (https.js:62:14)
    at Object.createServer (https.js:84:10)
    at new ConfigurableProxy (/opt/anaconda3/lib/node_modules/configurable-http-proxy/lib/configproxy.js:223:32)
    at Object.&lt;anonymous&gt; (/opt/anaconda3/lib/node_modules/configurable-http-proxy/bin/configurable-http-proxy:333:13)
    at Module._compile (internal/modules/cjs/loader.js:688:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:699:10)
    at Module.load (internal/modules/cjs/loader.js:598:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:537:12)
[C 2021-03-23 09:50:16.537 JupyterHub app:2517] Failed to start proxy
    Traceback (most recent call last):
      File &quot;/opt/anaconda3/lib/python3.8/site-packages/jupyterhub/app.py&quot;, line 2515, in start
        await self.proxy.start()
      File &quot;/opt/anaconda3/lib/python3.8/site-packages/jupyterhub/proxy.py&quot;, line 673, in start
        _check_process()
      File &quot;/opt/anaconda3/lib/python3.8/site-packages/jupyterhub/proxy.py&quot;, line 669, in _check_process
        raise e from None
    RuntimeError: Proxy failed to start with exit code 1
</code></pre>
<pre><code>configurable-http-proxy --ip 10.203.6.43 --port 8080
10:05:21.706 [ConfigProxy] warn: REST API is not authenticated.
10:05:21.713 [ConfigProxy] info: Proxying http://10.203.6.43:8080 to (no default)
10:05:21.713 [ConfigProxy] info: Proxy API at http://localhost:8081/api/routes
</code></pre>
<p>I have generated key using below command</p>
<p><code>openssl x509 -inform der -in /opt/mycert.cer -pubkey -noout &gt; /opt/mykey.pem </code></p>
<p>After looking at similar issues online still I don’t seem to overcome it. Can someone kindly help me with this error.</p>
",206,3,<ssl><proxy><jupyterhub>,2021-03-23 12:05:13
66753156,Python - Ipywidgets - SelectMultiple - Create a Select ALL option,"<p>I currently am using the selectmultiple widget in ipywidgets and I'm looking for a better solution. I have 200+ countries that a user can select from and sometimes they want to SELECT ALL. Using this widget they need to click on each and every country and this is very time consuming. Does anyone have another suggestion or option that I can try. Any help would be much appreciated.</p>
<pre><code>widgets.SelectMultiple(
options=['Afghanistan', 
          'Aland Islands',
          'Albania'
          'Algeria',
        #Code continues for 249 countries
         ],
value=['Afghanistan'],
#rows=10,
description='Countries',
disabled=False
 )
</code></pre>
<p>Thanks</p>
",997,2,<python><ipywidgets><selectall>,2021-03-22 20:07:30
66742489,Python add currency sign ipywidgets FloatText,"<p>I have the following widgets and I would like to see the dollar sign after the value in the float text box like 200 $ and also in the cW widget, however I cannot figure out how to add it.</p>
<pre><code>from ipywidgets import DatePicker, Dropdown, FloatText, interact, interactive, Layout,  VBox, HBox, interactive_output, Text

aW = Dropdown(options = [100, 50, 25])
bW = FloatText(200)
cW = FloatText()

ui = HBox([aW, bW, cW])


def f(a, b, c):
    cW.value = a + b

out = interactive_output(f, {'a': aW, 'b': bW, 'c': cW})

display(ui, out)
</code></pre>
",137,1,<python><widget><interactive><ipywidgets>,2021-03-22 08:25:02
66704546,why cannot I print in jupyter lab using ipywidgets class?,"<p>I use the ipyvuetify librairy to create dashboard in a Jupyter environment. The lib works super nicely but I'm struggling with Jupyterlab and voila that seems to have the same behavior with respect to this problem:</p>
<p>let's assume I want to create a widget that when clicked print a message :</p>
<pre class=""lang-py prettyprint-override""><code>import ipyvuetify as v 

class Test(v.Btn):
    
    def __init__(self, msg):
        
        self.msg = msg
        
        super().__init__(children=['click'])
        
        self.on_event('click', self._on_click)
        
    def _on_click(self, widget, event, data):
        
        print(self.msg)
        
        return
    
btn = Test(toto)
btn
</code></pre>
<p>If I run this code from Jupyter Notebook, everything works fine, the <code>msg</code> is printed after the <code>btn</code> cell output. If I do the same in Jupyterlab, the print statement ends up in the log.</p>
<p>now if run :</p>
<pre class=""lang-py prettyprint-override""><code>btn._on_click(None, None, None)
</code></pre>
<p>the <code>msg</code> is printed in both Jupyterlab and Jupyter Notebook.</p>
<p>Can someone explain me why there is a behaviour difference and maybe how to make sure that my print statement ends up in the main workflow and not in the log ?</p>
",521,0,<python><vuetify.js><jupyter><jupyter-lab><ipywidgets>,2021-03-19 08:09:30
66704094,Problem updating plot according to ipywidget FloatSlider,"<p>I am trying to create an interactive <code>matplotlib.pyplot</code> plot in jupyter Notebook. I was following along <a href=""https://www.youtube.com/watch?v=SN0Bflf14C4&amp;t=3s"" rel=""nofollow noreferrer"">this tutorial video</a>. So my goal is to interactively change a plot by changing <code>ipywidgets</code> FloatSlider. My code ist almost exactly the same as in the video, besides that I am plotting another mathematical function and I only have two FloatSliders.</p>
<p>I would expect the plot to update accordingly every time I move the FloatSlider (as it does in the video). But nothing happens.</p>
<p>Here is my code:</p>
<p><a href=""https://i.stack.imgur.com/TnY0k.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/TnY0k.jpg"" alt=""enter image description here"" /></a></p>
<p>I have also tried different backends for matplotlib, but nothing works.</p>
<p>jupyter version:</p>
<p><a href=""https://i.stack.imgur.com/kokJC.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/kokJC.jpg"" alt=""enter image description here"" /></a></p>
<p>Many thanks for any help in advance!</p>
<p>P.S.: here is my code as text:</p>
<pre><code>import numpy as np
import matplotlib
import matplotlib.pyplot as plt
from ipywidgets import *
import ipywidgets as widgets
from IPython.display import display

%matplotlib notebook
#nbagg

print(widgets.__version__)
print(matplotlib.__version__)

x = np.linspace(0,30,31)
fig, ax = plt.subplots(1, figsize=(8, 4))
plt.suptitle('Weibull-Verteilung f(v)')

def update_plot(k, A):
    
    &quot;&quot;&quot;
    die Funtion plottet die Kurve erneut, wenn über
    die slider ein Wert geändert wird
    &quot;&quot;&quot;
        
    # erstmal wieder die Zeichnung löschen
    ax.clear()
    
    # neuen Verlauf berechnen
    f_x = k/A*(x/A)**(k-1)*np.exp(-(x/A)**k)
    
    # und den neuen Verlauf plotten
    ax.bar(x, f_x)
    plt.show()
    
k = widgets.FloatSlider(min=1, max=3, value=2, description='k')
A = widgets.FloatSlider(min=1, max=20, value=6, description='A', position= 200)
   
# sobald einer der slider geändert wird, wird neu geplottet
widgets.interactive(update_plot, k=k, A=A)
</code></pre>
",201,0,<python-3.x><matplotlib><jupyter-notebook><ipywidgets>,2021-03-19 07:30:25
66688260,Jupyterhub AD Integration Error: No entry found for user when looking up attribute ‘sAMAccountName’,"<p>I am facing issue in configuring ldap authentication with AD integration and I get error while logging in. Below is my config file.</p>
<pre><code>c.JupyterHub.authenticator_class = 'ldapauthenticator.LDAPAuthenticator'

c.LDAPAuthenticator.server_address = '&lt;ip&gt;'
c.LDAPAuthenticator.server_port = 389
c.LDAPAuthenticator.use_ssl = False
c.LDAPAuthenticator.allowed_groups = []

#set up the template which used to bind the user from ldap directory
#c.LDAPAuthenticator.bind_dn_template = [&quot;uid={username},ou=Admin,ou=Groups,dc=example,dc=com&quot;]

#Active Directory Integration
c.LDAPAuthenticator.lookup_dn = True
c.LDAPAuthenticator.lookup_dn_search_filter = '({login_attr}={login})'
c.LDAPAuthenticator.lookup_dn_search_user = 'user@example.com'
c.LDAPAuthenticator.lookup_dn_search_password = 'redact'
c.LDAPAuthenticator.user_search_base = 'ou=Admin,ou=Groups,dc=example,dc=com'
c.LDAPAuthenticator.user_attribute = 'sAMAccountName'
c.LDAPAuthenticator.lookup_dn_user_dn_attribute = 'cn'
c.LDAPAuthenticator.escape_userdn = False
c.LDAPAuthenticator.bind_dn_template = '{username}'
</code></pre>
<p>While logging to jupyterhub with my user I get below error.</p>
<pre><code>[W 2021-03-18 05:02:18.675 JupyterHub ldapauthenticator:275] No entry found for user 'testuser' when looking up attribute 'sAMAccountName'
[W 2021-03-18 05:02:18.675 JupyterHub base:713] Failed login for testuser
</code></pre>
<p>versions</p>
<pre><code>python==3.8.5
jupyterhub==1.1.0
jupyterhub-ldapauthenticator==1.3.2
</code></pre>
<p>Tried different combinations in configuring the parameters but the error remains the same.
<code>c.LDAPAuthenticator.lookup_dn_search_user</code> is the ldap account that I have mentioned. Is it the correct way?</p>
<p>Any suggestions please.</p>
",384,1,<active-directory><ldap><jupyterhub>,2021-03-18 09:31:55
66662888,How can I update matplotlib plot in ipywidget with interactive mode on?,"<p>I am writing a Jupyter notebook that reads data from a sensor and I want to plot it as it is read. Data should start plotting when the user clicks a button.
I tested the base code in the Spyder IDE and it works properly, but when I try to implement it on a Jupyter notebook it doesn't work properly.</p>
<p>Here's a MWE of my code. I kept the button, to show what I am trying to achieve.</p>
<pre><code>import numpy as np
import ipywidgets as widgets
from ipywidgets import interactive
import matplotlib.pyplot as plt
from IPython.display import display

BotGraf = widgets.ToggleButton(value=False,
    description='Graficar',
    disabled=False,
    button_style='info',
    tooltip='Description',
    icon='chart-line'
)

SalidaEjes = widgets.Output(layout=widgets.Layout(width=&quot;75%&quot;))

def FBotGraf(ValBotGraf):
    if ValBotGraf == True:
        global NumEl
        global d
        NumEl = np.arange(0, 100)
        d = np.zeros(100)
        plt.ion()

        with SalidaEjes:
            fig = plt.figure()
            ax = fig.add_subplot(111)
            line1, = ax.plot(NumEl, d, 'r-')
            plt.show()

            i=0

            while i &lt; 100:
                d[i] = np.random.rand()
                line1.set_ydata(d)
                fig.canvas.draw()
                fig.canvas.flush_events()
                plt.show()
                i += 1
        
IBotGraf = interactive(FBotGraf, ValBotGraf = BotGraf)

display(BotGraf)
display(SalidaEjes)
</code></pre>
<p>This way the plot shows up but plots the original data <code>d = np.zeros(100)</code> and doesn't update the plot.</p>
<p>In the following cell however if I try to plot it:</p>
<pre><code>fig = plt.figure()
ax = fig.add_subplot(111)
line1, = ax.plot(NumEl, d, 'r-')
</code></pre>
<p>It shows that <code>d</code> was in fact update in the cycle.
<a href=""https://i.stack.imgur.com/Y3jnH.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/Y3jnH.png"" alt=""plot of d outside the cycle and the function"" /></a></p>
<p>I read these questions:
<a href=""https://stackoverflow.com/questions/44180957/interactive-graph-with-matplotlib-and-ipywidget"">Interactive Graph with matplotlib and ipywidget</a> and
<a href=""https://stackoverflow.com/questions/40122837/interactive-matplotlib-using-ipywidgets"">Interactive matplotlib using ipywidgets</a>.
But either didn't apply them properly or didn't solve the problem.</p>
<p>I guess it's not a complicated problem, but I can't figure it out.</p>
<p>Thanks for reading!</p>
",300,1,<python><matplotlib><jupyter-notebook><ipywidgets>,2021-03-16 20:24:43
66655001,Live plotting in Jupyter Lab 3 using Matplotlib,"<p>I want to dynamically update the plot of a cell. I.e. the plot is initialized at the beginning of the cell, and updated in a (computationally heavy) for-loop, showing how the computation is progressing. In <code>jupyter notebook</code>, this can be done using <a href=""https://stackoverflow.com/a/34486703/9318372"">pneumatics solution</a> in <a href=""https://stackoverflow.com/questions/34486642/what-is-the-currently-correct-way-to-dynamically-update-plots-in-jupyter-ipython"">What is the currently correct way to dynamically update plots in Jupyter/iPython?</a></p>
<pre class=""lang-py prettyprint-override""><code>%matplotlib notebook

import numpy as np
import matplotlib.pyplot as plt
import time

def pltsin(ax, colors=['b']):
    x = np.linspace(0,1,100)
    if ax.lines:
        for line in ax.lines:
            line.set_xdata(x)
            y = np.random.random(size=(100,1))
            line.set_ydata(y)
    else:
        for color in colors:
            y = np.random.random(size=(100,1))
            ax.plot(x, y, color)
    fig.canvas.draw()

fig,ax = plt.subplots(1,1)
ax.set_xlabel('X')
ax.set_ylabel('Y')
ax.set_xlim(0,1)
ax.set_ylim(0,1)
for f in range(5):
    pltsin(ax, ['b', 'r'])
    time.sleep(1)
</code></pre>
<p>I am looking for an equivalent way of doing it in <code>jupyter lab</code>. I tried replacing <code>%matplotlib notebook</code> with <code>%matplotlib widget</code>, using the <a href=""https://github.com/matplotlib/ipympl"" rel=""nofollow noreferrer""><code>ipympl</code></a> library, but that didn't work: The figure only shows once the loop is finished.</p>
<p>What I do not want are solutions like the one proposed by <a href=""https://stackoverflow.com/a/52672859/9318372"">Ziofil</a> in or the one by <a href=""https://stackoverflow.com/a/66246240/9318372"">Paidoo</a> in <a href=""https://stackoverflow.com/questions/50149562/jupyterlab-interactive-plot"">jupyterlab interactive plot</a> which clear the whole output, as I might print additional things such as e.g. a tqdm progress bar</p>
",1604,3,<matplotlib><jupyter-lab><ipywidgets>,2021-03-16 12:12:34
66650519,JupyterHub: api_request to the proxy failed with status code 599,"<ul>
<li>AKS</li>
<li>proxy-public is a Azure internal LoadBalancer</li>
</ul>
<p>We are getting below error and hub is in a continuous crash loop.
Any help to resolve this issues is very appreciated.
Thanks</p>
<p><code>[W 2021-03-16 06:55:46.808 JupyterHub proxy:814] api_request to the proxy failed with status code 599, retrying... [W 2021-03-16 06:55:50.635 JupyterHub proxy:814] api_request to the proxy failed with status code 599, retrying... [E 2021-03-16 06:55:50.636 JupyterHub app:2859] Traceback (most recent call last): File &quot;/usr/local/lib/python3.8/dist-packages/JupyterHub/app.py&quot;, line 2857, in launch_instance_async await self.start() File &quot;/usr/local/lib/python3.8/dist-packages/jupyterhub/app.py&quot;, line 2632, in start await self.proxy.get_all_routes() File &quot;/usr/local/lib/python3.8/dist-packages/jupyterhub/proxy.py&quot;, line 861, in get_all_routes resp = await self.api_request('', client=client) File &quot;/usr/local/lib/python3.8/dist-packages/jupyterhub/proxy.py&quot;, line 825, in api_request result = await exponential_backoff( File &quot;/usr/local/lib/python3.8/dist-packages/jupyterhub/utils.py&quot;, line 183, in exponential_backoff raise TimeoutError(fail_message) TimeoutError: Repeated api_request to proxy path &quot;&quot; failed.</code></p>
",810,3,<jupyter><jupyterhub>,2021-03-16 07:14:19
66644432,Use huggingface transformers without IPyWidgets,"<p>I am trying to use the huggingface transformers library in a hosted Jupyter notebook platform called Deepnote. I want to download a model through the pipeline class but unfortunately deepnote does not support IPyWidgets. Is there a way to disable IPywidgets when using transformers? Specifically the below command.</p>
<pre><code>
classifier = pipeline(&quot;zero-shot-classification&quot;)
</code></pre>
<p>And the error I receive.</p>
<pre><code>ImportError: IProgress not found. Please update jupyter and ipywidgets. See https://ipywidgets.readthedocs.io/en/stable/user_install.html
</code></pre>
<p>Note: Installing IPyWidgets is not an option</p>
",1347,4,<python><jupyter-notebook><huggingface-transformers><ipywidgets><deepnote>,2021-03-15 19:25:19
66643271,How to get the path of a file upload on ipywidgets?,"<p>How can I get the actual path of the file uploaded from the <code>FileUpload</code> widget?  In my case, I am uploading a binary file and just need to know where it is so I can process it using an internal application.</p>
<p>When I iterate on the <code>FileUpload</code> value I see there is a file name as a key and a <code>dict</code> as the value:</p>
<pre class=""lang-py prettyprint-override""><code>up_value = self.widgets['file_upload'].value
for file_name, file_dict in up_value.items():
    print(file_dict.keys()) # -&gt; dict_keys(['metadata', 'content'])
    print(file_dict['metadata'].keys()) # -&gt; dict_keys(['name', 'type', 'size', 'lastModified'])
</code></pre>
<p>I know the content of the file is uploaded but really don't need that.  Also not sure how I would pass that content to my internal processing application.  I just want to create a <code>dict</code> that stores the filename as a key and the file path as the value.</p>
<p>thx</p>
",1344,1,<python><ipywidgets>,2021-03-15 18:05:54
66642199,Add external website as frame within ipywidgets widget?,"<p>I would like to embed a website, as a frame, into my Jupyter notebook within an <code>ipwidgets</code> <code>widget</code>, such as <code>GridspecLaout</code>.  Here is how I can create the frame using <code>magic</code> commands:</p>
<pre class=""lang-py prettyprint-override""><code>%%html
&lt;iframe src=&quot;https://mywebsite.com/&quot; width=&quot;100%&quot; height=&quot;1000&quot;&gt;&lt;/iframe&gt;
</code></pre>
<p>Adding the frame to a cell in a <code>GridspecLaout</code> would allow me to hide this frame dynamically versus having it always open in a static notebook cell.</p>
<p>thx</p>
",188,2,<jupyter-notebook><ipywidgets>,2021-03-15 16:49:32
66629404,python ipyvuetify how to combine multiple widgets into a class,"<p>With ipyvuetify,  I have to repeatedly use a pair of <code>Textfield</code> and <code>Textarea</code> in an <code>ExpansionPanel</code>.
Their interactions are linked as they are represent two fields from a DB line.</p>
<p>Is it possible to create a custom widget, which contains the different nested ipyvuetify widgets and allows to interact with the whole group as a single object and also is rendered like a widgte when called?</p>
<p>Something like this:</p>
<pre class=""lang-py prettyprint-override""><code>import ipyvuetify as vue

Class customWidget():
    def __init__(self, titleText, bodyText):

        title = vue.TextField(class_='mb-n2', label='Label')
        title.value = titleText
        title.on_event('click.stop', None)
        openIn= vue.Btn(text=True, max_width='10px', children=[vue.Icon(children=['open_in_new'])])
        openIn.on_event('click.stop', None)


        note = vue.Textarea(class_='ma-0 pa-0 text-xs-caption', name='markerA', solo=True, elevation=0, outlined=True)
        note.value = bodyText

        panel = vue.ExpansionPanel(class_='ma-0 pa-0 text-xs-caption', children=[
            vue.ExpansionPanelHeader(class_='ma-0 pa-0 pl-5 pr-5', children=[title, openIn]),
            vue.ExpansionPanelContent(class_='ma-0 pa-0 text-xs-caption', children=[note]),
        ])

        self.expansionPanel = vue.ExpansionPanels(v_model=[0], multiple=True, focusable=False, children=[panel])
</code></pre>
",323,1,<python><widget><ipywidgets><ipyvuetify>,2021-03-14 20:49:13
66610442,"In JupyterHub / notebook, is there a way to copy packages from one kernel to another kernel?","<p>Does anyone know that, in JupyterHub / notebook, is there a way that I can copy packages / libraries from one kernel to another kernel?</p>
<p>It sounds odd, but in our environment, there is no internet connection (and rebuild a kernel is kind of pricy operation for us). However, in kernel A, it has some libraries that we want to use in kernel B. (both are python kernel, by the way, same python version).</p>
<p>Thanks!</p>
",200,0,<python><jupyter-notebook><jupyter><jupyterhub>,2021-03-13 05:36:47
66600691,Function for resetting multiple input boxes to 0?,"<p>I have about 80 input boxes and want to use a ipy.widget button to reset any input to 0.</p>
<p>I have this code :</p>
<pre><code>import pandas as pd
import numpy as np
import ipywidgets as ipw
from ipywidgets import *

value_1 = (ipw.FloatText(value=0,
                   description='Value:',
                   disabled=False,
                   layout = {'width':'200px'}
                  ))
value_2 = (ipw.FloatText(value=0,
                   description='Value:',
                   disabled=False,
                   layout = {'width':'200px'}
                  ))
value_3 = (ipw.FloatText(value=0,
                   description='Value:',
                   disabled=False,
                   layout = {'width':'200px'}
                  ))
value_4 = (ipw.FloatText(value=0,
                   description='Value:',
                   disabled=False,
                   layout = {'width':'200px'}
                  ))
value_5 = (ipw.FloatText(value=0,
                   description='Value:',
                   disabled=False,
                   layout = {'width':'200px'}
                  ))

    
def reset_box(*args):
    value_1.value = 0
    value_2.value = 0
    value_3.value = 0
    value_4.value = 0
    value_5.value = 0

btn2.on_click(reset_box)
</code></pre>
<p>Which works fine to reset the input box called value_1 through value_5, with the button called btn2</p>
<p>I was hoping to find a more efficient way to reset all the boxes which run from product_1--&gt;product_21, units_1--&gt;units_21, value_1--&gt;value_21 and prices_1--&gt;prices_21, which isnt just inputting them all into the function.</p>
",21,0,<python><loops><button><ipywidgets>,2021-03-12 13:20:20
66597359,Python widget layout without modifying original code,"<p>I have the following original code where all widgets are displayed along one column only and I would like to display them along 2 columns.</p>
<pre><code>from ipywidgets import interact, interactive, fixed, interact_manual
import ipywidgets as widgets
from ipywidgets import Button, HBox, VBox

dW = widgets.Dropdown(options=['2', '1'])
rW = widgets.FloatText(200)
aW = widgets.FloatText(1)


@interact(D=dW, R=rW, A=aW)

def print_p(D, R, A):
    dW = D
    rW = R 
    aW = A
</code></pre>
<p>I have read the docs and it suggests to use the following format:</p>
<pre><code>left_box = VBox([dW, rW])
right_box = VBox([aW])
HBox([left_box, right_box])
</code></pre>
<p>Is there a way to integrate the code above so I do not need to change the original format and see the 2 columns?</p>
",119,0,<python><jupyter-notebook><ipywidgets><vbox><hbox>,2021-03-12 09:31:53
66594224,"JupyterHub installation error, while running command: ‘sudo /opt/jupyterhub/bin/jupyterhub –generate-config`","<p>I’m new to JupyterHub and trying to install it on my VM. I’m following the instructions as mentioned on the page: <a href=""https://jupyterhub.readthedocs.io/en/stable/installation-guide-hard.html"" rel=""nofollow noreferrer"">https://jupyterhub.readthedocs.io/en/stable/installation-guide-hard.html</a>. As mentioned at the step “Create the configuration for JupyterHub” I’m running the command to generate the default configuration file:</p>
<pre><code>sudo /opt/jupyterhub/bin/jupyterhub --generate-config
</code></pre>
<p>But i’m getting the error “commnad not found”. Please help, I’m stuck in the middle of the installation.</p>
<p><a href=""https://i.stack.imgur.com/kudZW.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/kudZW.jpg"" alt=""enter image description here"" /></a></p>
<p>Edit1: When I start typing the command <code>sudo /opt/jupyterhub/bin/jupyterhub</code> till <code>/bin</code>, I press <code>TAB</code> and the path auto appears. But, the <code>/jupyterhub</code> won't appear as this is not present there. Is this the cause for the error?</p>
",315,1,<jupyter-notebook><jupyter><jupyter-lab><jupyterhub><jupyter-console>,2021-03-12 04:33:33
66586832,Jupyterhub - iframe in canvas LMS,"<p>I have two different servers with one Canvas LMS installed and one JupyterHub.</p>
<p>I include as an external app with LTI JupyterHub in Canvas and setting the configuration:</p>
<pre><code>c.JupyterHub.tornado_settings = {
'headers': {
    'Content-Security-Policy': &quot;frame-ancestors 'self' https://xxxxxxx.yyy&quot;
}}
</code></pre>
<p>he problem is that when I click on the &quot;start my server&quot; button (image 1), the iframe is blocked because jupyterhub does not consider it safe.</p>
<p>How do I set the setting &quot;Content-Security-Policy&quot; for the docker and for each jupyterhub user?</p>
<p>I read that there is a jupyter_notebook_config.py file, I tried to set it up but it doesn't seem to work ...</p>
<p><a href=""https://i.stack.imgur.com/g6nCK.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/g6nCK.png"" alt=""enter image description here"" /></a></p>
",153,0,<iframe><jupyterhub><canvas-lms>,2021-03-11 16:45:30
66585528,JupyterHub Oracle InstantClient and cx_Oracle installation,"<p>I installed JupyterHub using Docker container.</p>
<ol>
<li><p>I created a new Anaconda Environment &quot;cx_oracle_env&quot;, and installed package cx_Oracle in Terminal:</p>
<pre><code># Creates a new Anaconda Environment called &quot;cx_oracle_env&quot; using Python 3.7 in silent mode
conda create -n cx_oracle_env python=3.7 -y
# &gt;&gt;&gt;&gt; Returns no warnings / errors

# Activates the Anaconda Environment &quot;cx_oracle_env&quot;
conda activate cx_oracle_env
# &gt;&gt;&gt;&gt; Returns no warnings / errors

# Mamba is a reimplementation of the conda package manager in C++.
# - parallel downloading of repository data and package files using multi-threading
# - libsolv for much faster dependency solving, a state of the art library used in the 
#   RPM package     manager of Red Hat, Fedora and OpenSUSE
# - core parts of mamba are implemented in C++ for maximum efficiency
# At the same time, mamba utilize the same command line parser, package installation and 
# deinstallation code and transaction verification routines as conda to stay as compatible as 
# possible.
#
conda install mamba -n base -c conda-forge -y
# &gt;&gt;&gt;&gt; Returns no warnings / errors

# Installs ipykernel in currently active Anaconda Environment
mamba install ipykernel -y
# &gt;&gt;&gt;&gt; Returns no warnings / errors

# Installs cx_Oracle
python -m pip install cx_Oracle --upgrade
# &gt;&gt;&gt;&gt; Returns no warnings / errors

# Binds ipykernel &quot;cx_oracle_env&quot; to Anaconda Environment &quot;cx_oracle_env&quot;
python -m ipykernel install --user --name cx_oracle_env --display-name=&quot;cx_oracle_env&quot;
# &gt;&gt;&gt;&gt; Returns no warnings / errors
</code></pre>
</li>
<li><p>I downloaded the ORACLE InstantClient <strong>instantclient-basic-linux.x64-21.1.0.0.0.zip</strong> from <a href=""https://www.oracle.com/uk/database/technologies/instant-client/linux-x86-64-downloads.html"" rel=""nofollow noreferrer"">https://www.oracle.com/uk/database/technologies/instant-client/linux-x86-64-downloads.html</a> to my local computer, and uploaded the zip file to my JupyterHub working directory.</p>
</li>
<li><p>I opened a new Jupyter Notebook by selecting &quot;cx_oracle_env&quot; in section Notebook of the Launcher panel.</p>
</li>
<li><p>In Jupyter Notebook, I decompressed the file instantclient-basic-linux.x64-21.1.0.0.0.zip using following command:</p>
<pre><code>from shutil import unpack_archive
# Decompress ZIP-file to working directory (/home/jovyan/instantclient_21_1/)
unpack_archive('instantclient-basic-linux.x64-21.1.0.0.0.zip', '')
&gt;&gt;&gt;&gt; Returns no warnings / errors
</code></pre>
</li>
<li><p>Check if path exists:</p>
<pre><code>import os.path
from os import path
path.exists(&quot;/home/jovyan/instantclient_21_1&quot;)
# &gt;&gt;&gt;&gt; Returns True
</code></pre>
</li>
<li><p>Set LD_LIBRARY_PATH:</p>
<pre><code>import os
os.environ[&quot;LD_LIBRARY_PATH&quot;] = &quot;/home/jovyan/instantclient_21_1&quot;
!echo $LD_LIBRARY_PATH
# &gt;&gt;&gt;&gt; Returns /home/jovyan/instantclient_21_1
</code></pre>
</li>
<li><p>Set ORACLE_HOME:</p>
<pre><code>os.environ[&quot;ORACLE_HOME&quot;] = &quot;/home/jovyan/instantclient_21_1&quot;
!echo $ORACLE_HOME
# &gt;&gt;&gt;&gt; Returns /home/jovyan/instantclient_21_1
</code></pre>
</li>
<li><p>Install libaio:</p>
<pre><code>!mamba install libaio -y
# &gt;&gt;&gt;&gt; Returns no warnings / errors
</code></pre>
</li>
<li><p>Import cx_Oracle:</p>
<pre><code>import cx_Oracle
# &gt;&gt;&gt;&gt; Returns no warnings / errors
</code></pre>
</li>
<li><p>After Calling init_oracle_client, I get following error:</p>
<pre><code>cx_Oracle.init_oracle_client(lib_dir=r&quot;/home/jovyan/instantclient_21_1&quot;)
</code></pre>
</li>
</ol>
<p><a href=""https://i.stack.imgur.com/q7MiM.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/q7MiM.png"" alt=""enter image description here"" /></a></p>
<p>What am I missing?</p>
<p>PS: Unfortunately I don't have sudo permissions here in JupyterHub Terminal ...
<a href=""https://i.stack.imgur.com/SLTw1.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/SLTw1.png"" alt=""enter image description here"" /></a></p>
",511,0,<python><oracle><cx-oracle><jupyterhub><instantclient>,2021-03-11 15:28:05
66566606,Python/ipywidgets functions that links multiple widgets in different functions,"<p>I am looking a for simple function that can link dynamically the 2 functions below, so that by changing the value of D or R, A will change accordingly.</p>
<pre><code>from ipywidgets import interact, interactive, fixed, interact_manual
import ipywidgets as widgets

dW = widgets.Dropdown(options=['2', '1'])
rW = widgets.FloatText(200)
aW = widgets.FloatText()  

@interact(D=dW, R=rW)
def print_p(D, R):
    dW = D
    rW = R 
    
@interact(A=aW)
def prin_t(A):
    aW.value = int(dW.value) * int(rW.value)
</code></pre>
",631,1,<python><python-3.x><widget><ipywidgets>,2021-03-10 14:19:32
66547389,How to create new Anaconda Environments within JupyterHub and bind a Environment to a new Jupyter- Notebook?,"<p>I installed JupyterHub using Docker container.</p>
<p>When I log in the web interface, I see the following environment options:
<a href=""https://i.stack.imgur.com/BZoea.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/BZoea.png"" alt=""Server Options"" /></a></p>
<p>After a while of loading, I see the Launcher tab as follows:</p>
<p><a href=""https://i.stack.imgur.com/E6VPC.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/E6VPC.png"" alt=""Launcher"" /></a></p>
<p>Now, I would like to create some new Anaconda Environments (MyDevEnvPy3.7, MyTestEnvPy3.7, MyDevEnvPy3.8, MyTestEnvPy3.8), and start a new JupyterNotebook that uses exactly one of these Anaconda Environments mentioned above.</p>
<p>The idea is, that I'd be able to configure each Anaconda Environment with different packages and python versions (i.e. 3.7 or 3.8).</p>
<p>Especially in the case, if I need to upgrade some Python packages, i.e. in my MyDevEnvPy3.7, I would like to upgrade the Python packages first in MyTestEnvPy3.7, to see if my code is still running. Then I would like to do like this using MyDevEnvPy3.7.</p>
<p><strong>How can I do this?</strong></p>
<p><strong>Or is it even possible?</strong>
I've only worked with the Anaconda Navigator So far. Anaconda Navigator was my starting point, where I configured my Environments in the &quot;Environment&quot; tab first, and then switched to the &quot;Home&quot; tab, selected the Anaconda Environment to be used and launched the Jupyter Notebook (using this Environment). But now in JupyterHub, I don't have a clue, what's the best practice to start a Jupyter Notebook using a specific Anaconda Environment ...</p>
",363,0,<python-3.x><jupyter-notebook><anaconda><jupyter><jupyterhub>,2021-03-09 13:01:09
66532295,on_click/hover event for bqplot image,"<p>I'm trying to build an interactive dashboard using ipywidgets and bqplot with image chips and a scatterplot. Each point in the scatterplot corresponds to an image chip, and so I would like (1) to 'highlight' the point when hovering over the corresponding image, and (2) change the color of the point and storing the x value when clicking in an image.</p>
<p>Although the <code>on_click</code> and <code>on_hover</code> exist for the Image mark, I did not manage to make them work. See below what I have so far</p>
<pre><code>import io
import datetime

import numpy as np
import ipywidgets as ipw
from PIL import Image as PImage
import bqplot as bqp
import pandas as pd

#########
## Generate list of random images, with associated x and y values
#########
def random_image():
    &quot;&quot;&quot;Generate a random ipywidget Image
    &quot;&quot;&quot;
    arr = np.random.randint(255, size=(300, 300, 3), dtype=np.uint8)
    img = PImage.fromarray(arr)
    with io.BytesIO() as fileobj:
        img.save(fileobj, 'PNG')
        img_b = fileobj.getvalue()
    img_w = ipw.Image(value=img_b)
    return img_w


origin = datetime.datetime(2020, 1, 1)
img_list = [{'image': random_image(),
             'x': origin + datetime.timedelta(idx),
             'y': np.sin(idx)} for idx in range(10)]

###########
## Create scatter plot
###########
scale_y = bqp.LinearScale()
scale_x = bqp.DateScale()
scatter = bqp.Scatter(x=pd.Series([item['x'] for item in img_list]),
                      y=[item['y'] for item in img_list],
                      scales={'x': scale_x, 'y': scale_y})
axis_x = bqp.Axis(scale=scale_x)
axis_y = bqp.Axis(scale=scale_y, orientation='vertical')

scat_fig = bqp.Figure(marks=[scatter],
                      layout={'width':'1500px', 'height':'300px'},
                      axes=[axis_x, axis_y])


#########
## Create grid (or row) of image chips
#########
layout = ipw.Layout(width='150px', height='200px')
img_fig_list = []
for item in img_list:
    image = bqp.Image(image=item['image'])
    fig = bqp.Figure(
#         title=item['x'].strftime('%Y-%m-%d'),
        marks=[image], padding_x=0, padding_y=0, min_aspect_ratio=1, max_aspect_ratio=1,
        fig_margin = dict(top=10, bottom=10, left=10, right=10),
        layout=layout)
    #image.on_click(click_fn)
    img_fig_list.append(fig)

############
## Combine scatter and image chips and display them
############
img_row = ipw.HBox(img_fig_list)
ipw.VBox([scat_fig, img_row])
</code></pre>
<p>Bonus question: Is it possible to have multiple images side by side within the same figure?</p>
",320,0,<python><jupyter-notebook><ipywidgets><bqplot>,2021-03-08 15:12:49
66507342,How do I enable data downloads from a jupyter webapp without writing on the server?,"<p>I am writing a web app with jupyter-lab, ipywidgets, and voila.</p>
<p>In this web app, after taking instructions by the user, the notebook generates some data (a dictionary) that the user needs to download (as a .json file).
The simple solution I found online is to write a file on the server with the content and provide the user with a link. However, I think this is super ugly, and very inefficient or dangerous if many users run the web app at the same time.
I wonder if there is a way to create a download option for the user without writing anything on the server-side.
Does anyone have some clue?</p>
<p>Thanks in advance,
Lorenzo</p>
",172,2,<python><jupyter-notebook><ipywidgets><voila>,2021-03-06 15:27:50
66501282,proxy-public not coming up in AWS EKS,"<p>I used the following terraform <a href=""https://learn.hashicorp.com/tutorials/terraform/eks"" rel=""nofollow noreferrer"">link</a> to create an EKS cluster. Then followed the steps outlined <a href=""https://zero-to-jupyterhub.readthedocs.io/en/stable/jupyterhub/installation.html#install-jupyterhub"" rel=""nofollow noreferrer"">here</a> to install jupyterhub.
However, the proxy-public service doesnt come up</p>
<pre><code>kubectl describe svc proxy-public -n jhub
Name:                     proxy-public
Namespace:                jhub
Labels:                   app=jupyterhub
                          app.kubernetes.io/managed-by=Helm
                          chart=jupyterhub-0.10.6
                          component=proxy-public
                          heritage=Helm
                          release=jhub
Annotations:              meta.helm.sh/release-name: jhub
                          meta.helm.sh/release-namespace: jhub
Selector:                 component=proxy,release=jhub
Type:                     LoadBalancer
Port:                     http  80/TCP
TargetPort:               http/TCP
Session Affinity:         None
External Traffic Policy:  Cluster
Events:
  Type     Reason                  Age                   From                Message
  ----     ------                  ----                  ----                -------
  Normal   EnsuringLoadBalancer    2m40s (x10 over 22m)  service-controller  Ensuring load balancer
  Warning  SyncLoadBalancerFailed  2m40s (x10 over 22m)  service-controller  Error syncing load balancer: failed to ensure load balancer: could not find any suitable subnets for creating the ELB
</code></pre>
<p>I have already verified that the subnets are tagged correctly as explained <a href=""https://aws.amazon.com/premiumsupport/knowledge-center/eks-vpc-subnet-discovery/"" rel=""nofollow noreferrer"">here</a></p>
<pre><code>aws ec2 describe-subnets  --query &quot;Subnets[].[SubnetID,Tags[]]&quot; --output text
None
kubernetes.io/cluster/education-eks-ZPQBVzm1    shared
kubernetes.io/role/elb  1
Name    dev-vpc-public-us-west-2c
None    None
None
kubernetes.io/cluster/education-eks-ZPQBVzm1    shared
kubernetes.io/role/elb  1
Name    dev-vpc-public-us-west-2a
None
kubernetes.io/cluster/education-eks-ZPQBVzm1    shared
kubernetes.io/role/internal-elb 1
Name    dev-vpc-private-us-west-2c
None
Name    dev-vpc-private-us-west-2b
kubernetes.io/cluster/education-eks-ZPQBVzm1    shared
kubernetes.io/role/internal-elb 1
None    None
None    None
None    None
None
Name    dev-vpc-public-us-west-2b
kubernetes.io/role/elb  1
kubernetes.io/cluster/education-eks-ZPQBVzm1    shared
None
Name    dev-vpc-private-us-west-2a
kubernetes.io/cluster/education-eks-ZPQBVzm1    shared
kubernetes.io/role/internal-elb 1
</code></pre>
<p>Any idea what might be causing this?</p>
",94,0,<amazon-eks><jupyterhub>,2021-03-06 00:41:24
66458054,How to update a seaborn line plot with ipywidgets checkboxes?,"<p>I am struggling with the ipywidgets module.</p>
<p>I am trying to make a plot where you can toggle lines off/on with checkboxes based on a province.</p>
<p><a href=""https://i.stack.imgur.com/HllZT.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/HllZT.png"" alt=""enter image description here"" /></a></p>
<pre><code>fig, ax = plt.subplots(figsize=(10,10))
sns.lineplot(data=df5, x=&quot;Date_of_report&quot;, y=&quot;Total_reported&quot;, hue=&quot;Province&quot;, ax=ax)
provinces = df5[&quot;Province&quot;].unique()
chk = [widgets.Checkbox(description=a) for a in provinces]
def updatePlot(**kwargs):
    print([(k,v) for k, v in kwargs.items()])

widgets.interact(updatePlot, **{c.description: c.value for c in chk})
</code></pre>
<p>As you can see, I can draw the checkboxes and it prints out the status of the boxes.
but I don't know how to update the seaborn line plot. So when you select say: Drenthe it only shows the line from Drenthe.</p>
<p><a href=""https://i.stack.imgur.com/XJlV3.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/XJlV3.png"" alt=""enter image description here"" /></a></p>
<p>here is the dataframe as a dict:</p>
<p>{'Date_of_report': {0: Timestamp('2020-03-13 10:00:00'), 1: Timestamp('2020-03-13 10:00:00'), 2: Timestamp('2020-03-13 10:00:00'), 3: Timestamp('2020-03-13 10:00:00'), 4: Timestamp('2020-03-13 10:00:00'), 5: Timestamp('2020-03-13 10:00:00'), 6: Timestamp('2020-03-13 10:00:00'), 7: Timestamp('2020-03-13 10:00:00'), 8: Timestamp('2020-03-13 10:00:00'), 9: Timestamp('2020-03-13 10:00:00')}, 'Province': {0: 'Drenthe', 1: 'Flevoland', 2: 'Friesland', 3: 'Gelderland', 4: 'Groningen', 5: 'Limburg', 6: 'Noord-Brabant', 7: 'Noord-Holland', 8: 'Overijssel', 9: 'Utrecht'}, 'Total_reported': {0: 14, 1: 7, 2: 8, 3: 64, 4: 4, 5: 71, 6: 377, 7: 66, 8: 18, 9: 83}, 'Hospital_admission': {0: 0, 1: 3, 2: 2, 3: 9, 4: 1, 5: 17, 6: 65, 7: 4, 8: 0, 9: 7}, 'Deceased': {0: 0, 1: 0, 2: 0, 3: 0, 4: 0, 5: 3, 6: 5, 7: 0, 8: 0, 9: 0}}</p>
",167,0,<python><checkbox><seaborn><interactive><ipywidgets>,2021-03-03 13:27:47
66428263,Is it possible to store values from ipywidgets to cell code like Google colab Form,"<p>When I use Google Colab Form and change field value, new value stored in cell code. So next time I open notebook I see new value in cell.
How can I use same functionality for ipywidgets field?</p>
<p>For example.</p>
<p><em>Cell with Colab Form:</em></p>
<pre class=""lang-py prettyprint-override""><code>slices = 4 #@param {type:&quot;slider&quot;, min:1, max:10, step:0}
</code></pre>
<p><em>Cell with ipywidget:</em></p>
<pre class=""lang-py prettyprint-override""><code>from ipywidgets import interact, interactive, fixed, interact_manual
import ipywidgets as widgets

# interact() syntax
def f(x):
    return x

interact(f, x=10);


# classic syntax
widgets.IntSlider(
    value=7,
    min=0,
    max=10,
    step=1,
    description='Test:',
    disabled=False,
    continuous_update=False,
    orientation='horizontal',
    readout=True,
    readout_format='d'
)
</code></pre>
<p>In Google Colab Form changed slider value injects into cell code.
But I didn't find same functionality for ipywidgets. If I move slider - its new value will be lost on notebook reload.</p>
<p>Maybe some tricks exists for this?</p>
",396,1,<google-colaboratory><ipywidgets>,2021-03-01 19:16:10
66417945,Can not able to configure JupyterHub helm chart to use github authentication when user login?,"<p>I am new to helm chart and Kubernetes, I am trying to install JupyterHub on my local machine (using <code>kind</code> cluster) with helm chart <code>jupyterhub/jupyterhub</code>, I am running following command</p>
<pre><code>helm upgrade --cleanup-on-fail \                                                                                                                                       ─╯
  --install mzjhub jupyterhub/jupyterhub \
  --namespace mzjhub \
  --create-namespace \
  --version=0.10.6 \
  --values config_github.yaml
</code></pre>
<p>and do the port forwarding using</p>
<pre><code>kubectl port-forward -n mzjhub svc/proxy-public 8080:80 &amp;
</code></pre>
<p>content of my <code>config_github.yaml</code> as below (I've masked my github details)</p>
<pre><code>proxy:
  secretToken: &quot;511af7fdb8ba1e8252599182aaed26a4e36af42cac257601ea7d2583fbdb1e65&quot;
hub:
  config:
    JupyterHub:
      authenticator_class: github
    GitHubOAuthenticator:
      client_id: xxxxxxxxxxx
      client_secret:  xxxxxxxxxxxxxxxxxxx
      oauth_callback_url: https://api.xxxxxx.com/auth/
</code></pre>
<p>Everything runs fine and I can able to access the JupyterHub login page but it does not give any GitHub authentication options, if I enter any values in username/password field and click login button, it authenticates it without any issue.</p>
<p><a href=""https://i.stack.imgur.com/w5udm.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/w5udm.png"" alt=""enter image description here"" /></a></p>
<p>I'm referring this official guide for my setup</p>
<ul>
<li><a href=""https://zero-to-jupyterhub.readthedocs.io/en/stable/jupyterhub/installation.html#prepare-configuration-file"" rel=""nofollow noreferrer"">https://zero-to-jupyterhub.readthedocs.io/en/stable/jupyterhub/installation.html#prepare-configuration-file</a></li>
<li><a href=""https://zero-to-jupyterhub.readthedocs.io/en/stable/administrator/authentication.html"" rel=""nofollow noreferrer"">https://zero-to-jupyterhub.readthedocs.io/en/stable/administrator/authentication.html</a></li>
</ul>
<p>Please let me know if I am missing anything here for GitHub login authentication?</p>
",532,0,<jupyter-notebook><kubernetes-helm><jupyterhub><helmfile><kind>,2021-03-01 07:11:15
66385803,ipywidgets: minimizing button width to just show icon?,"<p>I have a <code>VBox</code> of <code>HBox</code> instances, each <code>HBox</code> containing a <code>Text</code> and a <code>Button</code> instance:</p>
<p><a href=""https://i.stack.imgur.com/Iz0GW.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/Iz0GW.png"" alt=""enter image description here"" /></a></p>
<p>Here is the code is the code I used:</p>
<pre><code>        style = {'description_width': '125px', 'width': '90%'}
        for rest_id, prompt_text in fields.items():
            self.widgets[rest_id] = ipy.Text(
                    description=prompt_text,
                    disabled=False,
                    layout = ipy.Layout(width='99%'),
                    style=style)
            self.widgets[f&quot;{rest_id}_button&quot;] = ipy.Button(icon='cloud-upload')
            vbox_widgets.append(ipy.HBox(children=[self.widgets[rest_id], self.widgets[f&quot;{rest_id}_button&quot;]]))   
        self.widgets['meta_vbox'] = ipy.VBox(children=vbox_widgets)
</code></pre>
<p>Is there a way to fix the percentage of how much each item in an <code>HBox</code> gets?  Or to fix an <code>HBox</code> element to a fixed pixel count?  I want the <code>Button</code> instances to be just big enough to display the icon and nothing more.</p>
<p>thx</p>
",116,1,<ipywidgets>,2021-02-26 12:23:56
66371006,Ipywidgets (Vbox) not showing up on Jupyter notebook,"<p>I am running into this error</p>
<pre><code>A Jupyter widget could not be displayed because the widget state could not be found. This could happen if the kernel storing the widget is no longer available, or if the widget state was not saved in the notebook. You may be able to create the widget by running the appropriate cells.
</code></pre>
<p>When I run:</p>
<pre><code>import plotly.graph_objs as go
import plotly.offline as py

import pandas as pd
import numpy as np
from ipywidgets import interactive, HBox, VBox

py.init_notebook_mode()

df = pd.read_csv('https://raw.githubusercontent.com/jonmmease/plotly_ipywidget_notebooks/master/notebooks/data/cars/cars.csv')

f = go.FigureWidget([go.Scatter(y = df['City mpg'], x = df['City mpg'], mode = 'markers')])
scatter = f.data[0]
N = len(df)
scatter.x = scatter.x + np.random.rand(N)/10 *(df['City mpg'].max() - df['City mpg'].min())
scatter.y = scatter.y + np.random.rand(N)/10 *(df['City mpg'].max() - df['City mpg'].min())
scatter.marker.opacity = 0.5

def update_axes(xaxis, yaxis):
    scatter = f.data[0]
    scatter.x = df[xaxis]
    scatter.y = df[yaxis]
    with f.batch_update():
        f.layout.xaxis.title = xaxis
        f.layout.yaxis.title = yaxis
        scatter.x = scatter.x + np.random.rand(N)/10 *(df[xaxis].max() - df[xaxis].min())
        scatter.y = scatter.y + np.random.rand(N)/10 *(df[yaxis].max() - df[yaxis].min())

axis_dropdowns = interactive(update_axes, yaxis = df.select_dtypes('int64').columns, xaxis = df.select_dtypes('int64').columns)

# Create a table FigureWidget that updates on selection from points in the scatter plot of f
t = go.FigureWidget([go.Table(
    header=dict(values=['ID','Classification','Driveline','Hybrid'],
                fill = dict(color='#C2D4FF'),
                align = ['left'] * 5),
    cells=dict(values=[df[col] for col in ['ID','Classification','Driveline','Hybrid']],
               fill = dict(color='#F5F8FF'),
               align = ['left'] * 5))])

def selection_fn(trace,points,selector):
    t.data[0].cells.values = [df.loc[points.point_inds][col] for col in ['ID','Classification','Driveline','Hybrid']]

scatter.on_selection(selection_fn)

# Put everything together
VBox((HBox(axis_dropdowns.children),f,t))
</code></pre>
<p><code>f</code> and <code>t</code> only show when i run <code>f.show()</code> and <code>t.show()</code></p>
<p>yet when I run:</p>
<pre><code>import ipywidgets as widgets
from IPython.display import display

button = widgets.Button(description='Hello')
display(button)
</code></pre>
<p>The widget shows up fine. I have read the solutions online and tried:</p>
<pre><code>jupyter nbextension enable --py widgetsnbextension
</code></pre>
<p>and</p>
<pre><code>jupyter labextension install @jupyter-widgets/jupyterlab-manager
</code></pre>
<p>and when I check:</p>
<pre><code>jupyter nbextension list
</code></pre>
<p>It all seems fine:</p>
<pre><code>Known nbextensions:
  config dir: /home/hajar/.jupyter/nbconfig
    notebook section
      jupyter-js-widgets/extension  enabled 
      - Validating: OK
  config dir: /usr/local/etc/jupyter/nbconfig
    notebook section
      jupyter-js-widgets/extension  enabled 
      - Validating: OK
    tree section
      ipyparallel/main  enabled 
      - Validating: problems found:
        - require?  X ipyparallel/main
  config dir: /etc/jupyter/nbconfig
    notebook section
      jupyter-js-widgets/extension  enabled 
      - Validating: OK
</code></pre>
<p>So I am a little confused as to why its not showing the results from Vbox.
I am using Jupyter notebook.</p>
<p>Version list:</p>
<pre><code>jupyter core     : 4.6.3
jupyter-notebook : 6.0.3
qtconsole        : 5.0.1
ipython          : 7.13.0
ipykernel        : 5.2.0
jupyter client   : 6.1.2
jupyter lab      : 3.0.9
nbconvert        : 5.6.1
ipywidgets       : 7.0.0
nbformat         : 5.0.4
traitlets        : 4.3.3
</code></pre>
",3431,1,<python><jupyter-notebook><plotly><ipywidgets>,2021-02-25 14:57:56
66365065,TypeError: unhashable type: 'Bunch' appears after selecting value from ipywidgets dropdown menu,"<p>I'm getting TypeError: unhashable type: 'Bunch' after selecting value from ipywidgets dropdown menu. I know that the <strong>testEvent</strong> function itself works just fine.</p>
<pre><code>testDict = {
'A': {'mean': 1354.95,'median': 1387.0},
'B': {'mean': 2252.52,'median': 1110.0},
'C': {'mean': 541.69,'median': 572.0},
'D': {'mean': 970.01,'median': 983.62}}
</code></pre>
<pre><code>import ipywidgets as widgets
from IPython.display import display
from branca.colormap import linear

dropdownMenu = widgets.Dropdown(options=['mean','median'],value='mean',description='Column:')
widgetOutput = widgets.Output()

def colEvent(col):   
    widgetOutput.clear_output()
    colorDic = {}
    namesList = ['A', 'B', 'C', 'D', 'E']
    with widgetOutput:
        colormap = linear.YlGn_09.scale(
            min(nest[col] for nest in testDict.values()),
            max(nest[col] for nest in testDict.values()))
        for name in namesList:
            if testDict.get(name):        
                colorDic[name] = {}
                colorDic[name]=colormap(testDict.get(name).get(col))
            else:
                colorDic[name] = {}
                colorDic[name] = '#ffffffff'

dropdownMenu.observe(colEvent, names='value')
display(dropdownMenu)
display(widgetOutput)
</code></pre>
<p>The result after selecting for example median from the menu should look like this:</p>
<pre><code>{'A': '#004529ff',
 'B': '#38a056ff',
 'C': '#ffffe5ff',
 'D': '#76c578ff',
 'E': '#ffffffff'}
</code></pre>
<p>Thank you.</p>
",145,0,<python-3.x><ipywidgets>,2021-02-25 08:41:46
66351266,Rendering a graph as a tree,"<p>I am using ipyvuetify and Ipycytoscape to create a dashboard rendered with voila.</p>
<p>I need to create graph data structures as this one:
<a href=""https://i.stack.imgur.com/LiAfi.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/LiAfi.png"" alt=""enter image description here"" /></a></p>
<p>This structure IS NOT rendered with ipycytoscape.</p>
<p>Does anyone knows which layout should I use to avoid that ipycytoscape just random places the nodes and ensure that the parents are always on top of the children.</p>
<p>Thanks</p>
",102,0,<jupyter-notebook><ipywidgets><voila><ipycytoscape>,2021-02-24 12:49:05
66346960,Python ipywidgets - empty widget that can be filled inside a function,"<p>Let's say I have a dropdown widget with some numbers and a floatext widget with some other numbers. I would like to define a widget that takes an empty parameter and can be dynamically filled with the calculation made inside the function which in this case would be mW.</p>
<p>I could do it by <strong>not defining</strong> the mW widget and returning this inside the function but I was hoping for another way.</p>
<pre><code>dW = Dropdown(options = [1, 2, 3, 4])
rW = FloatText(200)
mW = ...... empty widget to be filled with the calculation made inside the fuction

@interact(D=dW, R=rW, mW=M)
def print_p(D, R):
    dW = D
    rW = R
    mW = D*R
</code></pre>
<p>My expected outcome would be the below with 400 or another number calculated dynamically filled in the M box.</p>
<p><a href=""https://i.stack.imgur.com/pg9aM.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/pg9aM.png"" alt=""enter image description here"" /></a></p>
",337,1,<python><function><drop-down-menu><ipywidgets>,2021-02-24 08:13:03
66336285,Exporting a notebook to HTML with active '%matplotlib notebook' or '%matplotlib widget' plots,"<p>I am trying to work out if I can export a .ipynb with plots where I still have widget functionality in my plots like zooming, panning, etc.</p>
<p>I tend to use Jupyter Lab, so currently have %matplotlib widget enabled, but it's of no consequence to switch to '%matplotlib notebook' for the sake of the export.</p>
<p>So far I have tried both, and I get either no images at all in my plots, or &quot;broken&quot; widgets with some button labels written out in text (similar to within a notebook when something has gone wrong with a widget).</p>
<p>I have tried from within the menus in Lab, as well as on the command line with commands such as:</p>
<p><code>jupyter nbconvert --to HTML MC_recon_study.ipynb --no-input --no-prompt</code></p>
<p>adding <code>--execute</code> and trying just about every iteration possible.</p>
<p>I am getting nowhere with online searches so it is either not possible or I am missing something.  The fact I am getting no images regardless of what I try makes me think the latter.  Any help would be greatly appreciated!</p>
<p>pip freeze output:</p>
<pre><code>anyio==2.1.0
argon2-cffi==20.1.0
async-generator==1.10
attrs==20.3.0
Babel==2.9.0
backcall==0.2.0
bleach==3.3.0
certifi==2020.12.5
cffi==1.14.5
chardet==4.0.0
cycler==0.10.0
decorator==4.4.2
defusedxml==0.6.0
entrypoints==0.3
idna==2.10
importlib-metadata==3.4.0
ipykernel==5.4.3                                                                                                                                
ipympl==0.6.3
ipython==7.20.0
ipython-genutils==0.2.0
ipywidgets==7.6.3
jedi==0.18.0
Jinja2==2.11.3
json5==0.9.5
jsonschema==3.2.0
jupyter-client==6.1.11
jupyter-contrib-core==0.3.3
jupyter-contrib-nbextensions==0.5.1
jupyter-core==4.7.1
jupyter-highlight-selected-word==0.2.0
jupyter-latex-envs==1.4.6
jupyter-nbextensions-configurator==0.4.1
jupyter-server==1.3.0
jupyterlab==3.0.7
jupyterlab-pygments==0.1.2
jupyterlab-server==2.2.1
jupyterlab-sublime==0.4.1
jupyterlab-widgets==1.0.0
kiwisolver==1.3.1
lxml==4.6.2
MarkupSafe==1.1.1
matplotlib==3.3.4
mistune==0.8.4
nbclassic==0.2.6
nbclient==0.5.2
nbconvert==6.0.7
nbformat==5.1.2
nest-asyncio==1.5.1
notebook==6.2.0
numpy==1.20.1
packaging==20.9
pandocfilters==1.4.3
parso==0.8.1
pexpect==4.8.0
pickleshare==0.7.5
Pillow==8.1.0
prometheus-client==0.9.0
prompt-toolkit==3.0.16
ptyprocess==0.7.0
pycparser==2.20
Pygments==2.8.0
pyparsing==2.4.7
pyrsistent==0.17.3
python-dateutil==2.8.1
pytz==2021.1
PyYAML==5.4.1
pyzmq==22.0.3
requests==2.25.1
Send2Trash==1.5.0
six==1.15.0
sniffio==1.2.0
terminado==0.9.2
testpath==0.4.4
tornado==6.1
traitlets==5.0.5
typing-extensions==3.7.4.3
urllib3==1.26.3
wcwidth==0.2.5
webencodings==0.5.1
webpdf==1.0
widgetsnbextension==3.5.1
zipp==3.4.0

</code></pre>
",150,1,<python><jupyter-notebook><jupyter-lab><ipywidgets><nbconvert>,2021-02-23 15:40:18
66292641,ipywidgets: GridspecLayout grid gap doesn't seem to be working,"<p>Here is some code that creates a <code>GridspecLayout</code> object within an <code>Accordion</code> widget.</p>
<pre><code>import ipywidgets as ipy
from IPython.display import display

FIELDS = {
    'ssh_key_path': ('SSH Key Path', ''),
    'email': ('Email', ''),
    'ssh_passphrase': ('SSH Passphrase', ''),        
    'database': ('Database', 'DASH_MFG_PROD'),
    'role': ('Role', 'PUBLIC'),
    'schema': ('Schema', 'PUBLIC')
}

widgets = {}

widgets['grid'] = ipy.GridspecLayout(2, 2)

widgets['connect'] = ipy.Button(
                    description='CONNECT',
                    icon='snowflake-o',
                    button_style='success')
widgets['clear'] = ipy.Button(
                    description='CLEAR',
                    icon='eraser',
                    button_style='warning')

widgets['grid'][0, :] = ipy.HBox(children=[widgets['connect'], widgets['clear']], layout=ipy.Layout(height='45px'))

vbox_widgets = []
for field_name, field_tuple in FIELDS.items():
    widget_descp = field_tuple[0]           
    layout = ipy.Layout(height='auto', width='125px')
    label = ipy.Label(widget_descp, layout=layout)            
    widget_default = field_tuple[1]
    if field_name == 'ssh_passphrase':
        layout = ipy.Layout(height='auto', width='90%')
        text_box = ipy.Password(
            value='password',
            placeholder='Enter password',
            layout=layout,
            disabled=False)
    else:
        layout = ipy.Layout(height='auto', width='90%')
        text_box = ipy.Text(
            disabled=False,
            layout=layout,
            value=widget_default)
    widgets[field_name] = ipy.HBox(children=[label, text_box])
    vbox_widgets.append(widgets[field_name])
widgets['grid'][1, 0] = ipy.VBox(children=vbox_widgets)

widgets['logger_label'] = ipy.Label(value=&quot;LOG OUTPUT&quot;)
widgets['logger_text'] = ipy.Textarea(disabled=False, layout=ipy.Layout(width='99%', height='100%'))
widgets['logger_text'].value = &quot;Fill in the Snowflake credentials and conneciton details and hit the 'CONNECT' button&quot;
widgets['logger_vbox'] = ipy.VBox(children=[widgets['logger_label'], widgets['logger_text']])

widgets['grid'][1, 1] = widgets['logger_vbox']
widgets['grid'].grid_gap = '1px'
accordion = ipy.Accordion(children=[widgets['grid']])
accordion.set_title(0, 'Configuration')
display(accordion)
</code></pre>
<p>The code displays the following when the accordion is opened:</p>
<p><a href=""https://i.stack.imgur.com/t6NcN.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/t6NcN.png"" alt=""Accordion with GridspecLayout object"" /></a></p>
<p>My issue is the large whitespace between the first grid row(the buttons <code>Hbox</code> widget) and the second grid row.  I have explicitly set the <code>grid_gap</code> to &quot;1px&quot; but no luck.  I checked the CSS properties using the Firefox inspector and the <code>HBox</code> widget is the correct height:</p>
<p><a href=""https://i.stack.imgur.com/fhaEr.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/fhaEr.png"" alt=""HBox CSS"" /></a></p>
<p>Can someone help explain why there is so much dead whitespace between the first row and the second row?</p>
<p>thx</p>
",1213,1,<ipywidgets>,2021-02-20 14:27:57
66280098,Is there any way to define absolute position of a widget in ipywidgets?,"<p>I would like to define some widgets at absolute position within a layout in ipywidgets. The Box layout in ipywidgets allows me to add children but only in a sequential way. For example, I want to put button 2 at lower right corner of button 1, but the following codes only place button 2 after button 1.</p>
<pre><code>import ipywidgets as widgets
box = widgets.Box(layout=widgets.Layout(width='400px', height='200px'))
button1 = widgets.Button(layout=widgets.Layout(top='30px', left='20px', width='100px', height='30px'), description=&quot;Button1&quot;)
button2 = widgets.Button(layout=widgets.Layout(top='60px', left='120px', width='100px', height='30px'), description=&quot;Button2&quot;)
box.children += (button1, button2)
box
</code></pre>
<p>I tried the following command but fail to make the widget use the absolute position.</p>
<pre><code>button2 = widgets.Button(layout=widgets.Layout(position=&quot;absolute&quot;, top='60px', left='120px', width='100px', height='30px'), description=&quot;Button2&quot;)
</code></pre>
<pre><code>button2.style.position = &quot;absolute&quot;
</code></pre>
<p>Is there any way to put widgets at absolute position?</p>
",168,1,<python><ipywidgets>,2021-02-19 15:09:55
66273953,Equivalent of autoreload for R jupyter notebook,"<p>I am working in a jupyter notebook with the irkernel.
When I do the same with a Python kernel I usually have at the top of my notebooks the instructions</p>
<pre><code>%load_ext autoreload

%autoreload 2
</code></pre>
<p>If I modify a source code that the notebook imports or uses then those functions and pieces of code in the notebook that use that source code will be automatically updated.
Is there an equivalent for this in a jupyter R notebook?</p>
<p>I am using a local package that my notebook uses. I would like to be able to edit the package and have the modifications automatically loaded in my notebook.</p>
",130,0,<python><r><jupyter-notebook><package><jupyter-irkernel>,2021-02-19 08:17:20
66198806,"TLJH behind NGINX, make proxy Traefik listen to port on localhost only","<p>I want to put TLJH behind NGIX, I succeeded in that by putting the Traefik port in TLJH on 8080 using <code>sudo tljh-config set to port 8080</code> and having NGINX doing the SSL part and reverse proxying to port 8080.</p>
<p>Only I can still access TLJH without SSL by :8080 which I want to prevent.</p>
<p>I need to set the Traefik listening port to <code>127.0.0.1:8080</code> instead of <code>*:8080</code>.
The traefik.toml cannot be changed directly as it is overwritten, <code>tljh-config</code> should be used.
Only <code>tljh-config</code> does not seem to offer me the possibility of setting the address, only the port.</p>
<p>Adding a python file into the <code>jupyterhub_config.d</code> folder with <code>c.JupyterHub.bind_url = 'http://127.0.0.1'</code> did not do anything (checking traefik.toml after reloading hub and proxy)</p>
<p>Any idea how to make TLJH's Traefik listen to local port 8080 only?</p>
",451,0,<nginx><traefik><jupyterhub>,2021-02-14 18:41:20
66171914,Click events in python plotly-dash Scatterpolar plot,"<p>I'd like to create two web pages which contain iframed plotly-dash graphs. I'd like to implement click events of the first graph to redirect to the other page (with more info about that specific datum)</p>
<p>I followed <a href=""https://plotly.com/python/click-events/"" rel=""noreferrer"">this</a> guide, but the <strong>click event is not triggered</strong> in my setup even when I installed ipywidgets, node.js and plotlywidgets extension to the python venv I'm running it in. There is a note in the exaple above:</p>
<blockquote>
<p>Note: Callbacks will only be triggered when the trace belongs to a
instance of plotly.graph_objs.FigureWidget and it is displayed in an
ipywidget context. Callbacks will not be triggered on figures
that are displayed using plot/iplot.</p>
</blockquote>
<p>The example is using the <code>FigureWidget</code> and I'm drawing it by passing the figure to <code>dcc.Graph</code> which should be the same as <code>fig.show()</code>. The whole code looks like this</p>
<pre><code>import plotly.graph_objects as go
import numpy as np
np.random.seed(1)

x = np.random.rand(100)
y = np.random.rand(100)

fig = go.FigureWidget([go.Scatter(x=x, y=y, mode='markers')])

scatter = fig.data[0]
colors = ['#a3a7e4'] * 100
scatter.marker.color = colors
scatter.marker.size = [10] * 100
fig.layout.hovermode = 'closest'


# create our callback function
def update_point(trace, points, selector):
    c = list(scatter.marker.color)
    s = list(scatter.marker.size)
    for i in points.point_inds:
        c[i] = '#bae2be'
        s[i] = 20
        with fig.batch_update():
            scatter.marker.color = c
            scatter.marker.size = s


scatter.on_click(update_point)

import dash
import dash_core_components as dcc
import dash_html_components as html

app = dash.Dash()
app.layout = html.Div([
    dcc.Graph(figure=fig)
]) 

app.run_server(debug=True, use_reloader=False)

</code></pre>
<p>I don't know how to make/be sure that it is displayed in ipywidget context though.</p>
<p>I'm aware of a workaround like <a href=""https://stackoverflow.com/questions/58310199/select-and-delete-data-points-in-plotly-dash-3d-scatter"">this</a> with <code>layout.clickmode = select</code> and a separate button, but I'd like to make the figure's <code>on_click()</code> events working.</p>
<p>Could someone please help me to make this work?</p>
",4520,6,<python><onclick><plotly-dash><ipywidgets>,2021-02-12 12:29:26
66155082,ipywidgets: looking for a solution to recursively close all child widgets when parent is closed,"<p>Suppose, I create a few nested widgets using ipywidgets, when I close the parent, an instance of <code>ipywidgets.Box</code> (using <code>parent.close()</code> call, I see that the child widgets are not automatically closed. Is it there any option to recursively close all children of a parent?</p>
",72,1,<python><jupyter><ipywidgets>,2021-02-11 12:47:07
66145541,ipywidgets: button.on_click() has output delay,"<h1>Introduction</h1>
<p>I am trying to make a small tool for classifying images using the ipywidgets in a Jupyter Notebook, but I  am having some trouble aligning the classes and the images. Do you have any suggestion how to fix this.</p>
<h1>What I did</h1>
<pre><code>import ipywidgets as widgets
from IPython.display import display
import glob

# My images
image_paths = glob.glob(&quot;./images/*.png&quot;)

# Display image
def display_image(path):    
    file = open(path, &quot;rb&quot;)
    image = file.read()
    return widgets.Image(
                value=image,
                format='png',
                width=700,
                height=700,
            )

# Dropdown
def create_dropdown():
    return widgets.Dropdown(
        options=[&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;,&quot;6&quot;,&quot;7&quot;,&quot;8&quot;,&quot;9&quot;,&quot;10&quot;],
        value='5',
        description='Category:',
        disabled=False
    )

# Creating widgets
input_dropdown = create_dropdown()
button = widgets.Button(description=&quot;Submit&quot;)
output_image = widgets.Image()
output_image.value = display_image(image_paths[-1]).value

# Define function to bind value of the input to the output variable 
def bind_input_to_output(sender):
    image_path = image_paths[-1]
    image_score = input_dropdown.value
    next_image_path = image_paths.pop()
    print(image_score, image_path)
    output_image.value = display_image(next_image_path).value
    
# Tell the text input widget to call bind_input_to_output() on submit
button.on_click(bind_input_to_output)

# Displaying widgets
display(output_image, input_dropdown, button)
</code></pre>
<h1>Results</h1>
<p>With the above code I end up categorising the upcoming picture, but I really don't understand why. It seems the widgets does not update the image the first time I press the button.</p>
",226,0,<python><image><jupyter-notebook><widget><ipywidgets>,2021-02-10 21:44:54
66139817,ipywidgets progress for loop when pressing Button and change Button description,"<p>How to create a for loop that proceeds to the next item when a Button widget is pressed?
The Button description should be updated in the for loop.</p>
<p>In the official documentation of <a href=""https://ipywidgets.readthedocs.io/en/stable/examples/Widget%20Asynchronous.html"" rel=""nofollow noreferrer"">Asynchronous widgets</a>, they show how to stop a for loop and then proceed to the next item when the user moves an IntSlider widget. It is mentioned that a similar result can be achieved with a Button, even though Buttons have a different interface than other widgets.</p>
<p>What I want is the same desired outcome of an <a href=""https://stackoverflow.com/questions/62113899/successive-ipywidgets-buttons"">existing question</a>. Even though the question has an accepted answer, from the comments it is clear that the answer does not produce the desired outcome.</p>
",1174,1,<python><jupyter><python-asyncio><ipywidgets>,2021-02-10 15:24:26
66132974,How to put image retrieved from url into an image widget,"<p>I found this code and it works fine. The image can be retrieved and displayed.</p>
<pre><code>import IPython
url = 'https://newevolutiondesigns.com/images/freebies/colorful-background-14.jpg'
IPython.display.Image(url, width = 250)
</code></pre>
<p>However, I actually want to put the image into an image widget, so I have tried this:</p>
<pre><code>import IPython
from ipywidgets import widgets

url = 'https://newevolutiondesigns.com/images/freebies/colorful-background-14.jpg'
image = IPython.display.Image(url, width = 300)

widgets.Image(
  value=image,
  format='jpg', 
  width=300,
  height=400,
)
</code></pre>
<p>But I got this error:</p>
<pre><code>---------------------------------------------------------------------------
TraitError                                Traceback (most recent call last)
&lt;ipython-input-45-5011b6084128&gt; in &lt;module&gt;()
     57     format='jpg',
     58     width=300,
---&gt; 59     height=400,
     60 )

________________________________________
7 frames
________________________________________
/usr/local/lib/python3.6/dist-packages/traitlets/traitlets.py in error(self, obj, value)
    623             e = &quot;The '%s' trait must be %s, but a value of %r was specified.&quot; \
    624                 % (self.name, self.info(), repr_type(value))
--&gt; 625         raise TraitError(e)
    626 
    627     def get_metadata(self, key, default=None):

TraitError: The 'value' trait of an Image instance must be a bytes object, but a value of 
&lt;IPython.core.display.Image object&gt; &lt;class 'IPython.core.display.Image'&gt; was specified.
</code></pre>
<p>So, my question is: how can I put the image into an image widget?</p>
",986,3,<python><image><widget><ipywidgets>,2021-02-10 08:01:10
66109104,How to Highlight SQL in the JupyterHub new environnement?,"<p>🖐😊</p>
<p>I'm looking for a way <strong>to highlight my SQL code in Jupyterlab,</strong> . 😇</p>
<p>Also, I have seen that <strong>Jupyterlab proposes an advanced settings editor</strong>, but I did not find any information in that way.</p>
<pre><code>require(['notebook/js/codecell'], function (codecell) {
    codecell.CodeCell.options_default.highlight_modes['magic_text/x-mssql'] = { 'reg': [/%?%sql/] };
    Jupyter.notebook.events.one('kernel_ready.Kernel', function () {
        Jupyter.notebook.get_cells().map(function (cell) {
            if (cell.cell_type == 'code') { cell.auto_highlight(); }
        });
    });
});

</code></pre>
<p>My environment version:</p>
<pre><code>jupyter core     : 4.6.1
jupyter-notebook : 6.0.0
qtconsole        : not installed
ipython          : 7.10.1
ipykernel        : 5.1.3
jupyter client   : 5.3.3
jupyter lab      : 1.2.1
nbconvert        : 5.6.1
ipywidgets       : 7.5.1
nbformat         : 4.4.0
traitlets        : 4.3.3
</code></pre>
<p>Is there any way to get this kind of results? With <strong>magic-cells</strong> ? Or an <strong>extension?</strong> 😀</p>
<p><a href=""https://i.stack.imgur.com/tUU5g.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/tUU5g.png"" alt=""enter image description here"" /></a></p>
<p>Also, I have seen that <strong>Jupyterlab proposes an advanced settings editor</strong></p>
<p><a href=""https://i.stack.imgur.com/6miEi.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/6miEi.png"" alt=""enter image description here"" /></a></p>
<p>Thank you !!! 🙏</p>
",136,0,<python><jupyter-notebook><ipython><jupyter-lab><jupyterhub>,2021-02-08 20:45:43
66004177,Matplotlib figure is not updating with ipywidgets slider,"<p>I have the following code to generate a simple graph.</p>
<pre><code>%matplotlib notebook
from ipywidgets import *
import numpy as np
import matplotlib.pyplot as plt

x = np.linspace(0, 2 * np.pi)
fig = plt.figure()
ax = fig.add_subplot(1, 1, 1)
line, = ax.plot(x, np.sin(x))

def update(w = 1.0):
    line.set_ydata(np.sin(w * x))
    plt.show()

interact(update)
</code></pre>
<p>The code generates the plot just fine -
<a href=""https://i.stack.imgur.com/ISKPw.png"" rel=""nofollow noreferrer"">output</a></p>
<p>But when I drag the slider, the figure will not update. Any ideas on why this is?</p>
",3453,4,<python><matplotlib><jupyter-notebook><data-visualization><ipywidgets>,2021-02-02 05:37:30
65985345,"matplotlib, ipywidgets - How to change position of a quiver object?","<p>I want to change the position of a quiver (or an arrow) object depending on the input of the interaction from ipywidgets scroll.</p>
<p>Here is what I tried:</p>
<pre><code>%matplotlib notebook
from ipywidgets import *
import numpy as np
import matplotlib.pyplot as plt
from matplotlib.patches import Ellipse, Arrow

fig = plt.figure(figsize=[6,6])
ax = fig.add_subplot(1, 1, 1)

x_ar1 = -5 #object distance
dy_ar1 = 2 #boject heightX

object1 = plt.quiver(x_ar1, 0, 0, dy_ar1, angles='xy', scale_units='xy', scale=1)
ax.add_artist(object1)

#mark axis
x_axis, = ax.plot([-10, 10], [0, 0], lw=1, c='k')

plt.xlim([-10,10])
plt.ylim([-5,5])

def update(x = -5, y = 2):
    
    x_ar1 = x
    dy_ar1 = y
    
    object1.X = x_ar1
    object1.V = dy_ar1
    
    fig.canvas.draw_idle()
    

interact(update, x=(-6,6,0.1), y = (-2,2,0.1))
</code></pre>
<p>Even though the code works for the height of the quiver (<code>object1.V</code>), it does not work for the placement of the object (<code>object1.X</code>). I also couldn't see any <code>set_xy</code> kind of function being available. Does anyone know what I'm missing here?</p>
",165,1,<python><matplotlib><plot><jupyter-notebook><ipywidgets>,2021-01-31 23:30:14
65923200,Ipywidgets not showing in Voila app deployed with Heroku for some (not all) users,"<p>I have a pretty basic Heroku app made in Python with Jupyter and Voila. The app consists of a few ipywidgets that need to be filled in order to run a piece of code, which then goes to show a graph.</p>
<p>The app is working just fine for me, but is not working for a colleague of mine. The app does load for him, but the widgets (circled in red in the picture below) are not showing. He only sees the texts.</p>
<p>Any idea what might cause this? Since the app is working fine for me, I was thinking there isn't something wrong with the app, but maybe it's something on his machine. But it's not working on both his computer and phone though...</p>
<p>EDIT: Solved</p>
",237,1,<python><heroku><ipywidgets><voila>,2021-01-27 16:23:10
65918842,Failed to load jupyterlab-git server extension,"<p>I am trying to install git extension in jupyterlab but I get error as below. All server extensions are enabled but it doesn't load.</p>
<p><a href=""https://i.stack.imgur.com/a4tva.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/a4tva.png"" alt=""enter image description here"" /></a></p>
<pre><code>(base) [root@user01 opt]# jupyter serverextension list
config dir: /opt/anaconda3/etc/jupyter
    jupyterlab  enabled
    - Validating...
      jupyterlab 2.2.6 OK
    jupyterlab_git  enabled
    - Validating...
      jupyterlab_git 0.23.3 OK
    nbdime  enabled
    - Validating...
      nbdime 2.1.0 OK
</code></pre>
<p>As suggested in another page I have installed <code>jupyter_nbextensions_configurator</code> but still that didn't help. I am running jupyterlab from jupyterhub on linux machine.</p>
",7360,4,<git><jupyter-lab><jupyterhub>,2021-01-27 12:07:48
65902997,Changing the layout of the ipython widgets toggle buttons,"<p>These are the buttons that I'm trying to customize:
<a href=""https://i.stack.imgur.com/eDzMy.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/eDzMy.png"" alt=""toggle buttons from ipywidgets"" /></a></p>
<p>The <a href=""https://ipywidgets.readthedocs.io/en/stable/examples/Widget%20List.html#ToggleButton"" rel=""nofollow noreferrer"">code</a> itself.</p>
<hr />
<p>This is the result I want to get (edited by GIMP):</p>
<p><a href=""https://i.stack.imgur.com/OslsB.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/OslsB.png"" alt=""edit"" /></a></p>
<hr />
<p>I want to keep these buttons stacked vertically (as shown in the edited image I made), but since I don't know much about CSS, I don't know how to do that. Any suggestion?</p>
",629,1,<python-3.x><jupyter-notebook><ipywidgets>,2021-01-26 14:14:59
65901023,How to manage shared notebooks permissions in zero 2 jupyterhub deployment (kubernetes)?,"<p>Im running jupyterhub on kubernetes using the zero 2 jupyterhub chart.
Currently i'v got persistent volume that is mounted on each single user server and is used as a shared folder. all users can read from and write to it.</p>
<p>The desired state is to have shared folder that will contain all user's folders in a way that each user has write permissions to his folder only.</p>
<p>Problems are:</p>
<ol>
<li>All single user pods are run with the same user (jovian) and with the same group</li>
<li>When changing permissions to sub folders of the shared/ folder, permissions are changed in all mounted instances (eg. in all single user pods)</li>
</ol>
<p>Is there any way to manage these permissions without managing linux users in parallel to jupyterhub user? if there isn't, are there any convenient ways (maybe some open source custom jupyterhub authenticator/single user image)that helps with it?</p>
",159,2,<kubernetes><jupyterhub><persistent-storage>,2021-01-26 12:03:00
65848856,Jupyter notebook gets disconnected and I risk losing my work,"<p>My Jupyter Kernel got disconnected. I followed the necessary steps and relaunched it, without closing the original tab. However, that file has not been updated in the new launch. The original tab is still showing an error. What do I do so that I can keep working in a notebook that works without losing my previous work?</p>
",464,0,<python><jupyter-notebook><jupyter><jupyter-irkernel>,2021-01-22 16:18:12
65845776,how can I draw pie chart on Heatmap?,"<p>I am using plotly in jupyter notebook for analyzing data. I have a heatmap plot and would like to project some data as a pie chart on the map. So basically, in each color cell on the hitmap I would like to draw piechart like in example below.</p>
<p><a href=""https://i.stack.imgur.com/P1pzg.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/P1pzg.jpg"" alt=""enter image description here"" /></a></p>
<p>Is there any way to do it? For example somthing similar to add_trace function</p>
",154,0,<jupyter-notebook><plotly-python><ipywidgets>,2021-01-22 13:06:27
65845531,widgets not getting displayed in ipywidgets,"<p>I am a beginner with jupyter notebooks and python. I tried the following (as advised in a youtube video - the sole teacher available for me).</p>
<pre class=""lang-py prettyprint-override""><code>import ipywidgets as widgets
from IPython.display import display
import matplotlib.pyplot as plt
import numpy as np
%matplotlib nbagg 
x = np.linspace(0,2,1000)
fig,ax = plt.subplots(1,figsize =(10,4))

amp=widgets.FloatSlider(min=1,max=10,value=1,description='Amp:')
display(amp)
plt.suptitle('sine wave')
fig.show()
</code></pre>
<p>The display of the plot is happening (of course without any curves - i did not create them), but the widget doesn't get displayed. Any help in this regard is welcome.</p>
<p><a href=""https://i.stack.imgur.com/FOEfC.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/FOEfC.png"" alt="""" /></a></p>
",891,1,<python><jupyter-notebook><ipywidgets>,2021-01-22 12:49:50
65835158,Remotely run a notebook on jupyterhub singleuser server,"<p>I have deployed jupyterhub to GKE using the <a href=""https://zero-to-jupyterhub.readthedocs.io/en/latest/index.html"" rel=""nofollow noreferrer"">Zero to Jupyterhub</a> Helm chart.</p>
<p>I've set up my python environment and notebooks in my spawned singleuser instance, and now I would like to remotely (e.g., via API on another server) run a notebook in my singleuser environment and then download the outputs.</p>
<p>If it helps, I've parameterized the notebook to run it with <a href=""https://papermill.readthedocs.io/en/latest/"" rel=""nofollow noreferrer"">papermill</a> because I'd like to write a script to run the notebook over series of datasets.</p>
",255,0,<jupyter><jupyterhub><papermill>,2021-01-21 20:20:49
65824792,How to change default URL of jupyterhub,"<p>I have installed jupyterhub on amazon linux and I have changed my server ip and port in config file. However I wanted to change the default URL that is shown in browser. I have tried changing the <code>c.JupyterHub.default_url</code> in config file but that is only given as an extension to my ip and port (<code>http://x.x.x.x:8080/hub/myjupyter</code>)and that didn't help.</p>
<p>Currently my hub starts with <code>http://xx.xx.xx.xx:8080</code>URL but I want to change it to something like <code>http://myjupyter.abc.com</code>.</p>
<p><code>abc.com</code> could be my organization website. In this case does this require SSL key and certificate? Or can I configure the URL without SSL?</p>
",589,0,<jupyter-notebook><jupyter><jupyterhub>,2021-01-21 09:45:30
65810840,Plot in a Jupyter notebook depending on a true/false checkbox,"<p>I have an interactive notebook with a few widgets, that displays a plot (+other data) based on the information given by the widgets.  The plot is only displayed if a Checkbox is checked.</p>
<p>Everything works well except one thing: the Checkbox has a True value by default. When loading the notebook for the first time, it appears as clicked but the plot is not displayed -- if I interact with the widgets in any other way (either by re-clicking this checkbox twice, or by modifying some of the other widgets), then the plot is displayed.</p>
<p>Is there a way to have the plot displayed at the beginning without waiting for the user to interact?</p>
",405,1,<jupyter-notebook><ipython><ipywidgets>,2021-01-20 13:49:23
65796765,How to pass arguments to a function that's nested inside the Ipywidgets.interactive_output() function,"<p>Documented behavior:</p>
<pre><code>a = widgets.IntSlider()
b = widgets.IntSlider()
c = widgets.IntSlider()
ui = widgets.HBox([a, b, c])
def f(a, b, c):
    print((a, b, c))
out = widgets.interactive_output(f, {'a': a, 'b': b, 'c': c})
display(ui, out)
</code></pre>
<p>Desired behaviour:
Widget &gt; Value Assigned to Variable &gt; Input in analysis &gt; Compute &gt; Plot</p>
<p>Problem: Nesting a compute_function will cause an error saying that df1, df2, df3, df4, df5 are not defined (not being fed into the outside function).
Alternately, I can try to feed df1, df2, df3, df4, df5 into the interact function &quot;f&quot; in this example. However, this will give me an error that inputs should be widgets.</p>
<pre><code>a = widgets.IntSlider()
b = widgets.IntSlider()
c = widgets.IntSlider()
ui = widgets.HBox([a, b, c])
def f(a, b, c):
    df = compute_function(a, b, c, df1, df2, df3, df4, df5)
    plot = df.plot()
    display(plot)

out = widgets.interactive_output(f, {'a': a, 'b': b, 'c': c})
display(ui, out)
</code></pre>
<p>Perhaps the desired outcome described above is not a good approach. What is a better approach:</p>
<ol>
<li><p>compute all possible permutations into a huge dataframe, which will
be    passed into widgets.interactive_output() to filter the huge<br />
dataframe?</p>
</li>
<li><p>nest a computation function inside widgets.interactive_output() ?</p>
</li>
</ol>
",446,0,<callback><nested><data-visualization><dashboard><ipywidgets>,2021-01-19 17:46:51
65789022,Permission error python jupyterhub. How to solve?,"<p>I'm trying to <code>pandas.read_csv</code> from a specific folder on a UNIX platform using JUpyterHub and receiving</p>
<pre><code>import pandas as pd
df = pd.read_csv('/opt/app/data/some_folder/test.csv')
[Errno 13] Permission denied: '/opt/app/data/some_folder/test.csv'
</code></pre>
<p>What is strange is that the same file is accessible if put into
<code>'/opt/app/data/other_folder/test.csv'</code>.</p>
<p>Both of these folder have 770 permissions and the user is member of both groups (for simplicity I use the folder name as group  name as well) related to them:</p>
<pre><code>import os
user = os.getenv('JUPYTERHUB_USER')
gnames = [ g.gr_name for g in grp.getgrall() if user in g.gr_mem ]
gnames

['some_folder',
 'other_folder']
</code></pre>
<p>Since we have also Rstudio installed on the same server, I've tried same using R and there is no hiccup there. Same is valid for WinSCP - no issue both folders are accessible.</p>
<p>Any suggestions would be highly appreciated.</p>
",59,1,<python><python-3.x><jupyter-notebook><jupyter><jupyterhub>,2021-01-19 09:52:15
65755415,Changing between 2 python kernels in Jupyter notebook,"<p>I have two python versions of python 3.7 and 3.9. I want to run python 3.7 and python 3.7 separately on jupyter notebook as different kernels. I want to swap between the kernels how would I be able to assign that. I have jupyter notebook installed on both versions of python.</p>
<pre><code>c:\user&gt;py -3.7
c:\user.py -3.9
</code></pre>
",246,0,<python><cmd><version-control><jupyter-notebook><jupyter-irkernel>,2021-01-16 22:31:28
65717838,Set ipywidget options with nothing selected,"<p>When I want to set options in an <code>ipywidget</code> with nothing selected I would simply do this:</p>
<pre><code>import ipywidgets as w
w.Select(options=[1, 2], value=None)
</code></pre>
<p><a href=""https://i.stack.imgur.com/XIiAV.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/XIiAV.png"" alt=""ipywidget Select"" /></a></p>
<p>What if I wanted to set new items (with nothing selected) on an existing object? I would have to:</p>
<pre><code>import ipywidgets as w
s = w.Select()
...
s.options = [1,2]
s.value = None
</code></pre>
<p>But if there is a callback registered to receive notifications on value changes, it would be called twice: with autoselected <code>1</code> and then with <code>None</code>. <code>None</code> can be caught easily, but <code>1</code> seems like a valid value chosen by the user. That would be a false callback, since user never really chose it.</p>
<p>Is there an easy way around it?</p>
",226,1,<python><callback><jupyter-notebook><traits><ipywidgets>,2021-01-14 11:06:23
65686036,Shared folder not visible for existing users in Jupyterhub UI,"<p>I have installed jupyterhub in my servers and I have created multiple users and everything works fine. The login page in jupyterhub lands in <code>/home</code> directory. However I want to create a shared folder where users can share their notebooks, files with other users. I have created a group for users and a shared folder with permissions in <code>/opt/shared</code>. I want this directory to be visible in jupyterhub landing page.</p>
<p>I initially tried changing the <code>c.Spawner.notebook_dir</code> to <code>/opt</code> but this will allow all users to see the files created by other users as well and I don't want that to happen. To be more clear consider user A who creates 2 files <code>1.py</code> and <code>2.py</code>. Initially other users should not know what files user A has created and is working but if A wants to share <code>2.py</code> with other users he can copy it to shared folder.</p>
<p>There is a similar method which is explained <a href=""https://tljh.jupyter.org/en/latest/howto/content/share-data.html#option-2-create-a-read-only-shared-folder-for-data"" rel=""nofollow noreferrer"">here</a> suggesting to create a symbolic link but that is not working. The link actually says to login as a new user but how do I make it available to existing users. I can only login but I don't see shared folder in UI.
Can someone help me how to achieve this. BTW my config file is located at <code>/opt/jupyterhub_config.py</code></p>
",303,3,<jupyter><jupyterhub>,2021-01-12 14:35:21
65678663,Python: Get single signal from ipywidgets.observe() rather than 3,"<p>Essentially, I am creating a number of Toggle Buttons using ipywidgets. When the button is clicked, I would like to add an element to a list. If the button is unclicked, the element is to be removed. (I have not gotten to the action yet)</p>
<p>For the Toggle Button, I am using <code>.observe()</code> and find that each time I press a button, I am returned 3 signals. <code>{False, True, True}</code> if clicked and <code>{True, False, False}</code> if unclicked. I think <code>.observe()</code> is running 3 times each time there is a button click. Is there any way to return just one signal or is there an error with my code?</p>
<pre><code>import ipywidgets as widgets
import numpy as np
test = np.array(['test1','test2'])
def buttonArray(button_list):
    switch = [widgets.ToggleButton(description = name, value = False) for name in button_list]
    combined = widgets.HBox(switch)
    display(combined)    

    def upon_clicked(btn):
        signal = btn.owner.value
        print(signal)

    for n in range(len(button_list)):
        switch[n].observe(upon_clicked)

buttonArray(test)
</code></pre>
<p>See image for output when a button is pressed:</p>
<p><a href=""https://i.stack.imgur.com/2FNlh.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/2FNlh.png"" alt=""enter image description here"" /></a></p>
",424,3,<python><ipywidgets><object.observe>,2021-01-12 05:55:33
65677661,How to use token base auth in jupyterhub?,"<p>I am trying to use jupyterhub using token-based which is in Iframe.
I had tried using postman by sending token as header it worked.
But in browser</p>
<pre><code>    $.ajax({ 
   type : &quot;GET&quot;, 

 
   url : &quot;http://jupiter.****.com/hub/login&quot;, 

   beforeSend: function(xhr){xhr.setRequestHeader('Authorization', 'token *****');
},
   success : function(result) { 

   }, 
   error : function(result) { 

   } 
 }); 
</code></pre>
<p>It gives me a Cross-Origin Request Blocked: The Same Origin Policy disallows reading the remote resource at ***. (Reason: CORS request did not succeed)</p>
<p>I had configured jupyterhub_config.py</p>
<pre><code>c.JupyterHub.tornado_settings = {'headers': {'Content-Security-Policy': &quot;frame-ancestors * 'self' &quot; ,'Access-Control-Allow-Origin': '*','Access-Control-Allow-Methods':'*','Access-Control-Allow-Headers':'*','Access-Control-Allow-Credentials':'true'}}

c.Spawner.args = [f'--NotebookApp.allow_origin=*']
</code></pre>
<p>Any pointers/advice on how to implement this would be greatly appreciated!</p>
",258,1,<jupyter-notebook><jupyter><jupyter-lab><jupyterhub><jupyter-console>,2021-01-12 03:31:49
65671775,Altering the Littlest Jupyterhub login page on Google Cloud,"<p>I can't seem to find the JupyterHub html files to edit on Google Cloud.
I created a new VM to host TLJH and want to chagne the html of the login page but don't know how to access those files through Google Cloud and it doesn't look like you can through the Jupyter interface.</p>
<p>Where do I find the html files?</p>
",50,0,<google-cloud-platform><cloud><jupyterhub>,2021-01-11 17:31:13
65670999,Creating a list widget for the dashboard,"<p>In many of the desktop application libraries there is a specific widget for showing a list of items. For example in <code>Qt</code> it is called <code>QListWidget</code>.  Users can perform variety of operations on such widgets. For instance, they can rename, remove, move up/down, etc., different elements.</p>
<p><a href=""https://i.stack.imgur.com/aQvNf.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/aQvNf.png"" alt=""enter image description here"" /></a></p>
<p>I would like to have such a widget in the dashboard that I am creating using Dash. It is a photo filtering dashboard that a user uploads his/her photo and then chooses a series of filters from the list widget (that I hope to find a way to implement it) and then those filters will be applied on the photo based on the selection order. So far, I could not find any thing even close to such a widget in Plotly or Dash.</p>
<p>I am developing this dashboard using Dash but I am also open to other python frameworks or libraries.</p>
",86,1,<plotly><bokeh><plotly-dash><plotly-python><ipywidgets>,2021-01-11 16:41:31
65637464,Is there a way I can make my football shot map interactive using plotly/widgets or something else?,"<p>I have created a shot map using matplotlib, it is currently not interactive and just a static image of all the shots a player has taken (goal, blocked, saved, missed)</p>
<p>The code I used as reference to create the pitch map can be found here: <a href=""https://fcpython.com/visualisation/drawing-pitchmap-adding-lines-circles-matplotlib"" rel=""nofollow noreferrer"">https://fcpython.com/visualisation/drawing-pitchmap-adding-lines-circles-matplotlib</a></p>
<p><a href=""https://i.stack.imgur.com/GkBgp.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/GkBgp.png"" alt=""Shot Map"" /></a></p>
<p>Below is the python code used to plot the shot map:</p>
<pre><code># Plotting Shots Horizontal Full Pitch

draw_pitch(&quot;#3E3E40&quot;,&quot;#faf0e6&quot;,&quot;horizontal&quot;,&quot;full&quot;)

x = df_salah['XM'].tolist()
y = df_salah['YM'].tolist()
y1 = [68 - i for i in y]

## Add Z variable for xG
z = df_salah['xG'].tolist()
z1 = [500 * i for i in z] # This is to scale the &quot;xG&quot; values for plotting

## Add small legend in the bottom corner
mSize = [0.05,0.10,0.2,0.4,0.6,1]
mSizeS = [500 * i for i in mSize]
mx = [5.5,7,9,11,13.5,16.5]
my = [60,60,60,60,60,60]

colors = {'Goal':'Green', 'MissedShots':'Purple', 'BlockedShot':'Red', 'SavedShot':'Blue', 'ShotOnPost':'Yellow'}
## markers = {'Goal':'Star', 'MissedShots':'X', 'BlockedShot':'O', 'SavedShot':'V', 'ShotOnPost':'S'}

plt.text(11,55,&quot;xG&quot;, color=&quot;white&quot;, ha=&quot;center&quot;,va=&quot;center&quot;, zorder=zo, fontsize=16)
plt.scatter(x,y,s=z1, marker='o',color=df_salah['result'].map(colors),edgecolors=&quot;black&quot;, zorder=zo)
plt.scatter(mx,my,s=mSizeS,facecolors=&quot;white&quot;, edgecolor=&quot;white&quot;,zorder=zo)
plt.plot([5.5,17], [57,57],color=&quot;white&quot;,lw=2,zorder=zo)

i = 0

for i in range(len(mx)):
    plt.text(mx[i], my[i], mSize[i], fontsize=mSize[i]*18, color=&quot;#195905&quot;, zorder=zo,ha=&quot;center&quot;, va=&quot;center&quot;)

    
## Title
plt.title(&quot;Mohamed Salah Shots 19/20 Season&quot;)

plt.show()
</code></pre>
<p>What I want to do is make this interactive by adding filters (widgets) so I can filter for type of shot taken so the map only reveals that particular type of shot on the map e.g. If I filter for &quot;goals&quot; then the map should show only shots that lead to a goal, etc.</p>
<p>I also want to add the &quot;hover&quot; feature from plotly where if you hover over the shot it will tell you the &quot;xG&quot; value, time of shot etc.</p>
<p>When using plotly, how do I keep the pitch map as I can't figure that out. I tried the following which resulted in:</p>
<pre><code>trace1 = px.scatter(df_salah, x='XM', y='YM', color='result')
fig = go.FigureWidget(trace1)
</code></pre>
<p><a href=""https://i.stack.imgur.com/scXC8.png"" rel=""nofollow noreferrer"">Plotly Test</a></p>
<p>I also want to keep the scaling of of the circles</p>
<p><strong>Could someone help start me off with the code as I am a bit lost on how to do this or if I'm even using the correct libraries/platform?</strong></p>
",893,0,<python><pandas><matplotlib><plotly><ipywidgets>,2021-01-08 22:53:48
65630000,Is there a way too pass Jupyter Lab arguments through JupyterHub?,"<p>Looking to pass in <code>--LabApp.allowed_extensions_uris=...</code> when starting jupyter lab ontop of jupyter hub. It does not pick this up, or <code>--LabServerApp</code> either.</p>
<p>Whats the correct way to propagate Jupyter lab arguments through Jupyter hub?</p>
",26,1,<jupyter-lab><jupyterhub>,2021-01-08 13:35:17
65569209,Adding datetime to ipywidgets in jupyter notebook,"<p>I know that ipywidgets have a datepicker widget and its pretty cool. However, I'm hoping I can also pick the time for that date. I haven't been able to see in the ipywidgets documentation an option to do that. I found a library called ipydatetime, here's the documentation (<a href=""https://ipydatetime.readthedocs.io/en/latest/examples/introduction.html"" rel=""nofollow noreferrer"">https://ipydatetime.readthedocs.io/en/latest/examples/introduction.html</a>) that in theory should do the trick but it doesn't even show up when I create the widget in jupyter notebooks.</p>
<p>Any help would be highly appreaciated.</p>
",801,4,<python><jupyter-notebook><datetimepicker><ipywidgets>,2021-01-04 20:13:37
65568165,How to get the width of output cell of Jupyter notebook?,"<p>I am creating a custom widget (ipywidget) and I need to get the width of the output cell of Jupyter notebook at runtime. So that I can occupy maximum width with my widget.</p>
",169,1,<jupyter-notebook><ipywidgets>,2021-01-04 18:49:13
65545776,Visualizations are getting duplicated when using ipywidgets in Python jupyter notebooks,"<p>This is the code that I am using to output a drop down and a visualization. However with the drop down the visualization duplicates when I select a value.</p>
<p>def common_filtering(year):
output.clear_output()
plot_output.clear_output()</p>
<pre><code>common_filter = Top_Team(year)

with output:
    display(common_filter)
    
with plot_output:
    plt.ioff
    test = common_filter.player_name.tolist()
    x = [10,35,30,30,35,65,65,65,100,95,95] 
    y = [40,10,30,50,70,20,40,60,40,60,20]
    plt.style.use('ggplot')
    pitch = Pitch(pitch_type='statsbomb', orientation='vertical',
                  pitch_color='#22312b', line_color='#c7d5cc', figsize=(16, 20),
                  constrained_layout=True, tight_layout=False,axis = True,label = True)
    fig, ax = pitch.draw() 
    sc = pitch.scatter(x, y,
                          color ='red',edgecolors = 'black',
                            s=40000, ax=ax)

    for i,j,k in zip(x,y,test):
        
          pitch.annotate(k, (i,j),c='white', va='top', ha='center', size=16, weight='bold', ax=ax)

    fig.set_facecolor(&quot;#22312b&quot;)
    display(fig)
</code></pre>
<p>def dropdown_year_eventhandler(change):
common_filtering(change.new)</p>
<p>dropdown_year.observe(
dropdown_year_eventhandler, names='value')</p>
<p>display(dropdown_year) -- This is where the drop down is seen and underneath the duplicated visualizations</p>
<p>This is where essentially the output should be coming from and it is.
display(plot_output)
display(output)</p>
",145,0,<python><matplotlib><dropdown><ipywidgets>,2021-01-03 01:15:40
65528763,Plotting a interactive plot using dropdown and matplotlib,"<p>Consider the excel file as given:</p>
<p><a href=""https://i.stack.imgur.com/HarTZ.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/HarTZ.png"" alt=""Excel File"" /></a></p>
<p>I want to plot an interactive line plot using the Normalize_Nifty Values for a particular date based on a particular symbol. For this I am using the ipywidgets. I have successfully created a dropdown containing a list of Symbol. Here is the code for the same:</p>
<pre><code>widgets.Combobox(
    # value='John',
    placeholder='Choose Symbol',
    options=['APLAPOLLO','AUBANK','AARTIDRUGS','AARTIIND','AAVAS','ABBOTINDIA','ADANIENT','ADANIGAS','ADANIGREEN','ADANIPORTS','ADANITRANS','ABCAPITAL','ABFRL','ADVENZYMES','AEGISCHEM','AFFLE','AJANTPHARM','AKZOINDIA','ALEMBICLTD','APLLTD','ALKEM','ALKYLAMINE','ALOKINDS','AMARAJABAT','AMBER','AMBUJACEM','APOLLOHOSP','APOLLOTYRE','ASHOKLEY','ASHOKA','ASIANPAINT','ASTERDM','ASTRAZEN','ASTRAL','ATUL','AUROPHARMA','AVANTIFEED','DMART','AXISBANK','BASF','BEML','BSE','BAJAJ-AUTO','BAJAJCON','BAJAJELEC','BAJFINANCE','BAJAJFINSV','BAJAJHLDNG','BALKRISIND','BALMLAWRIE','BALRAMCHIN','BANDHANBNK','BANKBARODA','BANKINDIA','MAHABANK','BATAINDIA','BAYERCROP','BERGEPAINT','BDL','BEL','BHARATFORG','BHEL','BPCL','BHARATRAS','BHARTIARTL','INFRATEL','BIOCON','BIRLACORPN','BSOFT','BLISSGVS','BLUEDART','BLUESTARCO','BBTC','BOMDYEING','BOSCHLTD','BRIGADE','BRITANNIA','CARERATING','CCL','CESC','CRISIL','CSBBANK','CADILAHC','CANFINHOME','CANBK','CAPLIPOINT','CGCL','CARBORUNIV','CASTROLIND','CEATLTD','CENTRALBK','CDSL','CENTURYPLY','CENTURYTEX','CERA','CHALET','CHAMBLFERT','CHENNPETRO','CHOLAHLDNG','CHOLAFIN','CIPLA','CUB','COALINDIA','COCHINSHIP','COFORGE','COLPAL','CONCOR','COROMANDEL','CREDITACC','CROMPTON','CUMMINSIND','CYIENT','DBCORP','DCBBANK','DCMSHRIRAM','DLF','DABUR','DALBHARAT','DEEPAKNTR','DELTACORP','DHANI','DHANUKA','DBL','DISHTV','DCAL','DIVISLAB','DIXON','LALPATHLAB','DRREDDY','EIDPARRY','EIHOTEL','EPL','ESABINDIA','EDELWEISS','EICHERMOT','ELGIEQUIP','EMAMILTD','ENDURANCE','ENGINERSIN','EQUITAS','ERIS','ESCORTS','EXIDEIND','FDC','FEDERALBNK','FINEORG','FINCABLES','FINPIPE','FSL','FORTIS','FCONSUMER','FRETAIL','GAIL','GEPIL','GHCL','GMMPFAUDLR','GMRINFRA','GALAXYSURF','GRSE','GARFIBRES','GICRE','GILLETTE','GLAXO','GLENMARK','GODFRYPHLP','GODREJAGRO','GODREJCP','GODREJIND','GODREJPROP','GRANULES','GRAPHITE','GRASIM','GESHIP','GREAVESCOT','GRINDWELL','GUJALKALI','GAEL','FLUOROCHEM','GUJGASLTD','GMDCLTD','GNFC','GPPL','GSFC','GSPL','GULFOILLUB','HEG','HCLTECH','HDFCAMC','HDFCBANK','HDFCLIFE','HFCL','HATHWAY','HATSUN','HAVELLS','HEIDELBERG','HERITGFOOD','HEROMOTOCO','HSCL','HINDALCO','HAL','HINDCOPPER','HINDPETRO','HINDUNILVR','HINDZINC','HONAUT','HUDCO','HDFC','HUHTAMAKI','ICICIBANK','ICICIGI','ICICIPRULI','ISEC','ICRA','IDBI','IDFCFIRSTB','IDFC','IFBIND','IIFL','IIFLWAM','IOLCP','IRB','IRCON','ITC','ITI','INDIACEM','IBULHSGFIN','IBREALEST','INDIAMART','INDIANB','IEX','INDHOTEL','IOC','IOB','IRCTC','INDOCO','IGL','INDUSINDBK','NAUKRI','INFY','INGERRAND','INOXLEISUR','INDIGO','IPCALAB','JBCHEPHARM','JKCEMENT','JKLAKSHMI','JKPAPER','JKTYRE','JMFINANCIL','JSWENERGY','JSWSTEEL','JTEKTINDIA','JAGRAN','JAICORPLTD','J&amp;KBANK','JAMNAAUTO','JINDALSAW','JSLHISAR','JSL','JINDALSTEL','JCHAC','JUBLFOOD','JUSTDIAL','JYOTHYLAB','KEI','KNRCON','KRBL','KSB','KAJARIACER','KALPATPOWR','KANSAINER','KTKBANK','KARURVYSYA','KSCL','KEC','KOLTEPATIL','KOTAKBANK','L&amp;TFH','LTTS','LICHSGFIN','LAOPALA','LAXMIMACH','LTI','LT','LAURUSLABS','LEMONTREE','LINDEINDIA','LUPIN','LUXIND','MASFIN','MMTC','MOIL','MRF','MGL','MAHSCOOTER','MAHSEAMLES','M&amp;MFIN','M&amp;M','MAHINDCIE','MHRIL','MAHLOG','MANAPPURAM','MRPL','MARICO','MARUTI','MFSL','METROPOLIS','MINDTREE','MINDACORP','MINDAIND','MIDHANI','MOTHERSUMI','MOTILALOFS','MPHASIS','MCX','MUTHOOTFIN','NATCOPHARM','NBCC','NCC','NESCO','NHPC','NLCINDIA','NMDC','NOCIL','NTPC','NH','NATIONALUM','NFL','NAVINFLUOR','NAVNETEDUL','NESTLEIND','NETWORK18','NILKAMAL','NAM-INDIA','OBEROIRLTY','ONGC','OIL','OMAXE','OFSS','ORIENTCEM','ORIENTELEC','ORIENTREF','PIIND','PNBHOUSING','PNCINFRA','PSPPROJECT','PTC','PVR','PAGEIND','PERSISTENT','PETRONET','PFIZER','PHILIPCARB','PHOENIXLTD','PIDILITIND','PEL','POLYMED','POLYCAB','POLYPLEX','PFC','POWERGRID','PRAJIND','PRESTIGE','PRSMJOHNSN','PGHL','PGHH','PNB','QUESS','RBLBANK','RECLTD','RITES','RADICO','RVNL','RAIN','RAJESHEXPO','RALLIS','RCF','RATNAMANI','RAYMOND','REDINGTON','RELAXO','RELIANCE','SBICARD','SBILIFE','SJVN','SKFINDIA','SRF','SANOFI','SCHAEFFLER','SCHNEIDER','SIS','SEQUENT','SFL','SHILPAMED','SCI','SHOPERSTOP','SHREECEM','SHRIRAMCIT','SRTRANSFIN','SIEMENS','SOBHA','SOLARINDS','SOLARA','SONATSOFTW','SOUTHBANK','SPICEJET','STARCEMENT','SBIN','SAIL','SWSOLAR','STLTECH','STAR','SUDARSCHEM','SUMICHEM','SPARC','SUNPHARMA','SUNTV','SUNDARMFIN','SUNDRMFAST','SUNTECK','SUPRAJIT','SUPREMEIND','SUPPETRO','SUVENPHAR','SUZLON','SWANENERGY','SWARAJENG','SYMPHONY','SYNGENE','TCIEXP','TCNSBRANDS','TTKPRESTIG','TVTODAY','TV18BRDCST','TVSMOTOR','TASTYBITE','TATACHEM','TATACOFFEE','TATACOMM','TCS','TATACONSUM','TATAELXSI','TATAINVEST','TATAMTRDVR','TATAMOTORS','TATAPOWER','TATASTLBSL','TATASTEEL','TEAMLEASE','TECHM','NIACL','RAMCOCEM','THERMAX','THYROCARE','TIMKEN','TITAN','TORNTPHARM','TORNTPOWER','TRENT','TRIDENT','TIINDIA','UCOBANK','UFLEX','UPL','UJJIVAN','UJJIVANSFB','ULTRACEMCO','UNIONBANK','UBL','MCDOWELL-N','VGUARD','VMART','VIPIND','VRLLOG','VSTIND','VAIBHAVGBL','VAKRANGEE','VTL','VARROC','VBL','VENKEYS','VINATIORGA','IDEA','VOLTAS','WABCOINDIA','WELCORP','WELSPUNIND','WESTLIFE','WHIRLPOOL','WIPRO','WOCKPHARMA','YESBANK','ZEEL','ZENSARTECH','ZYDUSWELL','ECLERX'],
    description='NIFTY50:',
    ensure_option=True,
    disabled=False)
</code></pre>
<p>I have also created the slider which contains particular date range as shown in the code below:</p>
<pre><code>class DateRangePicker(object):
    def __init__(self,start,end,freq='D',fmt='%Y-%m-%d'):
        &quot;&quot;&quot;
        Parameters
        ----------
        start : string or datetime-like
            Left bound of the period
        end : string or datetime-like
            Left bound of the period
        freq : string or pandas.DateOffset, default='D'
            Frequency strings can have multiples, e.g. '5H' 
        fmt : string, defauly = '%Y-%m-%d'
            Format to use to display the selected period

        &quot;&quot;&quot;
        self.date_range=pd.date_range(start=start,end=end,freq=freq)
        options = [(item.strftime(fmt),item) for item in self.date_range]
        self.slider_start = widgets.SelectionSlider(
            description='start',
            options=options,
            continuous_update=False
        )
        self.slider_end = widgets.SelectionSlider(
            description='end',
            options=options,
            continuous_update=False,
            value=options[-1][1]
        )

        self.slider_start.on_trait_change(self.slider_start_changed, 'value')
        self.slider_end.on_trait_change(self.slider_end_changed, 'value')

        self.widget = widgets.Box(children=[self.slider_start,self.slider_end])

    def slider_start_changed(self,key,value):
        self.slider_end.value=max(self.slider_start.value,self.slider_end.value)
        self._observe(start=self.slider_start.value,end=self.slider_end.value)

    def slider_end_changed(self,key,value):
        self.slider_start.value=min(self.slider_start.value,self.slider_end.value)
        self._observe(start=self.slider_start.value,end=self.slider_end.value)

    def display(self):
        display(self.slider_start,self.slider_end)

    def _observe(self,**kwargs):
        if hasattr(self,'observe'):
            self.observe(**kwargs)

def fct(start,end):
    print (start,end)
    
w=DateRangePicker(start='2019-11-22',end=&quot;2020-12-22&quot;,freq='D',fmt='%Y-%m-%d')
w.observe=fct
w.display()
</code></pre>
<p>The code for importing the dataframe and also normalizing the values is as shown:</p>
<pre><code>import pandas as pd
import pandas as pd
import numpy as np
from ipywidgets import widgets, interactive
from datetime import datetime

df=pd.read_excel('C:/Users/Administrator/Desktop/Trendig.xlsx')
data=df[['Date','Symbol','Close_Nifty']]
data.head()
Type='Nifty50'
data['Type']=Type
data.head(100000)
data['Normalize_Nifty'] = df.groupby('Symbol')['Close_Nifty'].transform(lambda x: x/x.iloc[0]).fillna(1)#.reset_index()
data.head(10000)
</code></pre>
<p>From the information given how can I create the plot associating the same with the slider and the dropdown?</p>
",601,2,<python><ipywidgets><matplotlib-widget>,2021-01-01 10:02:17
65484605,Error when logging to Jupyterhub with Google Oauth,"<p>So i am trying to deploy Jupyterhub to teach students about EEG processing. I have succesfully deployed a jupyterhub installation using this guide; <a href=""https://pythonforundergradengineers.com/add-google-oauth-and-system-service-to-jupyterhub.html"" rel=""nofollow noreferrer"">https://pythonforundergradengineers.com/add-google-oauth-and-system-service-to-jupyterhub.html</a> on <a href=""https://lab.golembio.com"" rel=""nofollow noreferrer"">https://lab.golembio.com</a> but i am stuck at google oauth stage.</p>
<p>I have followed the instructions step by step, and added this code to my jupyterhub_config.py:</p>
<pre><code>from oauthenticator.google import LocalGoogleOAuthenticator

c.JupyterHub.authenticator_class = LocalGoogleOAuthenticator

c.LocalGoogleOAuthenticator.create_system_users = True

c.LocalGoogleOAuthenticator.hosted_domain = ['https://lab.golembio.com', 'https://golembio.com']
c.LocalGoogleOAuthenticator.login_service = 'Google Login'
c.LocalGoogleOAuthenticator.oauth_callback_url = 'https://lab.golembio.com/hub/oauth_callback'
c.LocalGoogleOAuthenticator.oauth_client_id = 'xxxx'
c.LocalGoogleOAuthenticator.oauth_client_secret = 'xxxxx'
#c.JupyterHub.cookie_secret_file = '/srv/jupyterhub/jupyterhub_cookie_secret'
c.Authenticator.add_user_cmd = ['adduser', '-q', '--gecos', '&quot;&quot;', '--disabled-password', '--force-badname']
</code></pre>
<p>ps: I copy and paste correct oauth client id and oauth client secret to the code...</p>
<p>Now when i open lab.golembio.com there is an option to log in with google but after i click it it returns an error:</p>
<p>Error 400: invalid_request
Missing required parameter: client_id</p>
<p>I could not figure out what is the problem?</p>
",135,0,<google-oauth><jupyterhub>,2020-12-28 21:56:00
65482325,Plotting error while debouncing ipywidgets IntSlider,"<p>I'm having some problem implementing a <strong>&quot;Debounce&quot; decorator</strong> and combining it with <code>matplotlib</code> and <code>ipywidget IntSlider</code>.</p>
<p>Here below is the debounce code as suggested by <a href=""https://ipywidgets.readthedocs.io/en/latest/examples/Widget%20Events.html#Debouncing"" rel=""nofollow noreferrer"">the official ipywidgets documentation</a> :</p>
<pre><code>import asyncio

class Timer:
    def __init__(self, timeout, callback):
        self._timeout = timeout
        self._callback = callback
        self._task = asyncio.ensure_future(self._job())

    async def _job(self):
        await asyncio.sleep(self._timeout)
        self._callback()

    def cancel(self):
        self._task.cancel()

def debounce(wait):
    &quot;&quot;&quot; Decorator that will postpone a function's
        execution until after `wait` seconds
        have elapsed since the last time it was invoked. &quot;&quot;&quot;
    def decorator(fn):
        timer = None
        def debounced(*args, **kwargs):
            nonlocal timer
            def call_it():
                fn(*args, **kwargs)
            if timer is not None:
                timer.cancel()
            timer = Timer(wait, call_it)
        return debounced
    return decorator
</code></pre>
<p>This is the code I'm using to implement <code>@debounce</code> while updating a plotted graph with <code>widgets.IntSlider</code>.</p>
<pre><code>def plot():
    @debounce(0.1)
    def f(i):
        fig, ax = plt.subplots()
        ax.plot([i, i*i],[i,0 ], [0, i*2])
        ax.set_title(i)
    
    interact(f, i=IntSlider(min=0, max=10, value=4))
</code></pre>
<p>When I call the function <code>plot()</code> in a Jupyter Notebook's cell multiple graphs are plotted as I move the slider instead of updating the same <code>fig, ax</code>.</p>
",151,1,<python><matplotlib><jupyter-notebook><ipywidgets><debounce>,2020-12-28 18:29:16
65475868,Get Base URL of Current Jupyter Server IPython is Connected To,"<p>I'd like to be able to know the base URL of the Jupyter Notebook server IPython is presently connected to. I'm aware of the <code>notebook.notebookapp.list_running_servers()</code> function which produces output like:</p>
<pre><code>[
  {
    'base_url': '/',
    'hostname': 'localhost',
    'notebook_dir': '/home/username/dir-notebook-was-spawned-in',
    'password': False,
    'pid': 368094,
    'port': 8888,
    'secure': False,
    'sock': '',
    'token': '4e7e860527d5333306cb06c594aa2167a7d375294f96c2d9',
    'url': 'http://localhost:8888/',
  },
  ...
]
</code></pre>
<p>This feels tantalizingly close to what I want since there's a <code>base_url</code> key there, however I don't know how to determine which server in the list is where IPython is actually connected to. The closest approximation I've been able to come up with is to see which server's <code>notebook_dir</code> key most closely matches <code>os.getcwd()</code> but this is obviously imperfect.</p>
<p><strong>Further Findings</strong>:</p>
<ul>
<li>I've now realized that <code>notebook.notebookapp.list_running_servers()</code> is not the right way to go about this because the notebook server and the kernel are not guaranteed to be running in the same place and in that case the function would always return an empty list.</li>
</ul>
",1701,1,<jupyter-notebook><ipython><jupyter><jupyterhub>,2020-12-28 10:03:56
65448776,clear output of output widget plotting a Seaborn figure does not work,"<p>I want to create a output widget with several drop boxes and a plot with Seaborn as follows.
The intention is having different drop boxes to choose variables and according to user input output a different Seaborn plot.</p>
<p>Here the code. It works but not as desired.</p>
<pre><code>dd = wd.Dropdown(
    options=[&quot;YlGnBu&quot;,&quot;Blues&quot;,&quot;BuPu&quot;,&quot;Greens&quot;],
    value=&quot;Blues&quot;,
    description='chosse cmap:',
    disabled=False,
)

myout = wd.Output()

def draw_plot(change):
    with myout:
        myout.clear_output()
        print('plotting out the following:   sns.heatmap(df.corr(), annot=True, cmap = &quot;YlGnBu&quot;)')
        plt.figure(figsize=(8, 3))
        sns.heatmap(df.corr(), annot=True, cmap = change.new)
        plt.title(&quot;Correlation matrix&quot;);

dd.observe(draw_plot, names='value')
display(dd)
display(myout)
</code></pre>
<p>The above code DOES NOT CLEAR THE OUTPUT WIDGET every time a new variable of dropbox is selected, and Seaborn plots are added.</p>
<p>I saw these solutions:
<a href=""https://stackoverflow.com/questions/36018681/stop-seaborn-plotting-multiple-figures-on-top-of-one-another"">Stop seaborn plotting multiple figures on top of one another</a></p>
<p>that are not satisfactory according to my opinion. I would like to display in the output widget a new figure every time, i.e. totally clear the content and then add stuff again; plot again.
I don't understand why clear_output() clears the text line but not the figure.</p>
<p>secondly, as some answers in the mentioned linked pointed out if working with Seaborn I don't want to resort to an underlying library, i.e. Matplotlib. I considere that a work around.</p>
<p>So how is the proper way to go?</p>
<p>thanks</p>
",435,0,<python><seaborn><ipywidgets>,2020-12-25 14:04:34
65443879,"ipywidget observe method called several times for every change, why?","<p>I am trying to learn how ipywidget dropdown menu works with an observe method and came across to this really useful SO question:
<a href=""https://stackoverflow.com/questions/34020789/ipywidgets-dropdown-widgets-what-is-the-onchange-event"">ipywidgets dropdown widgets: what is the onchange event?</a></p>
<p>Good explanations can be found there.</p>
<p>Tweaking a bit some code of the answers I created this little script:</p>
<pre><code>w = wd.Dropdown(
    options=['Addition', 'Multiplication', 'Subtraction'],
    value='Addition',
    description='Task:',
)

def on_change(change):
    print('method is called when printing this')
    if change['type'] == 'change' and change['name'] == 'value':
        print(&quot;changed to %s&quot; % change.new)
    else:
        print('chage type is not change it is actually:', change['type'])
        print('chage name is not value it is actually:', change['name'])

w.observe(on_change)

display(w)
</code></pre>
<p>The weird thing is that when changing the value of the dropdown menu ONE TIME this is what is printed out:</p>
<pre><code>method is called when printing this
chage type is not change it is actually: change
chage name is not value it is actually: _property_lock
method is called when printing this
chage type is not change it is actually: change
chage name is not value it is actually: label
method is called when printing this
changed to Multiplication
method is called when printing this
chage type is not change it is actually: change
chage name is not value it is actually: index
method is called when printing this
chage type is not change it is actually: change
chage name is not value it is actually: _property_lock
</code></pre>
<p>So the observe method is called 4 times for one single change of the dropdown of the menu.</p>
<p>Why is that?</p>
<p>secondly this does not happened when the observe is written like this:</p>
<pre><code>w.observe(on_change, names='value')
</code></pre>
<p>Then the output is just:</p>
<pre><code>method is called when printing this
changed to Multiplication
</code></pre>
<p>So in the second case the method is called one once.</p>
<p>Can someone explain what is going on here?</p>
",908,1,<python><dropbox><ipywidgets>,2020-12-24 22:58:31
65432954,"Kubernetes, Helm - helm upgrade fails when config is specified - JupyterHub","<p>If I run</p>
<pre><code>helm upgrade --cleanup-on-fail \
  $RELEASE jupyterhub/jupyterhub \
  --namespace $NAMESPACE \
  --version=0.9.0 \
  --values config.yaml
</code></pre>
<p>It fails, with this error: <code>Error: UPGRADE FAILED: pre-upgrade hooks failed: timed out waiting for the condition</code>. It just hangs for a bit and ultimately times out. It seems like too small of a change to cause a true timeout. I found this command in the Zero to JupyterHub docs, <a href=""https://zero-to-jupyterhub.readthedocs.io/en/latest/jupyterhub/customizing/extending-jupyterhub.html#apply-config-changes"" rel=""nofollow noreferrer"">where it describes how to apply changes to the configuration file</a>.</p>
<p>I've tried several permutations, including leaving out cleanup, leaving out version, etc. The only thing I could get to work was <code>helm upgrade jhub jupyterhub/jupyterhub</code>, but I don't think it's producing the desired effect.</p>
<p>For example, when I add a line in my config.yaml to <a href=""https://zero-to-jupyterhub.readthedocs.io/en/latest/jupyterhub/customizing/user-environment.html#use-jupyterlab-by-default"" rel=""nofollow noreferrer"">change the default to Jupyter Lab</a>, it doesn't work if I run <code>helm upgrade jhub jupyterhub/jupyterhub</code>. I believe I need to specify config.yaml using --values or -f</p>
<p>My overall project is to set up JupyterHub on a cloud Kubernetes environment. I'm using GKE and the online terminal.</p>
<p>Thanks</p>
",548,0,<kubernetes><google-kubernetes-engine><kubernetes-helm><jupyterhub>,2020-12-24 01:35:07
65418790,"Opening Jupyterhub url on kubernetes is so slow(gets js, icon)","<p>I deployed jupyterhub on kubernetes using helm.
<a href=""https://i.stack.imgur.com/Q4BkD.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/Q4BkD.png"" alt=""enter image description here"" /></a></p>
<p>and I can login with ID 'admin'
but when I first login, the url doesn't respond or respond after 30~50 seconds later, it seems it fails to get the javascript file or icon.
When I refresh it, it works then.</p>
<p><a href=""https://i.stack.imgur.com/7ptUJ.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/7ptUJ.png"" alt=""enter image description here"" /></a></p>
<p>Is there any problem with the network in my kubernetes cluster?</p>
<p>I'm using GlusterFS Storage Class for Dynamic Provisioning.</p>
<p>This is my config file when install jupyterhub using helm.</p>
<pre><code>proxy:
  secretToken: &quot;34999170ac41826f956ee1a757b53ff91ce6efabc3dfe24fcee863955efcc6b9&quot;
</code></pre>
<p>The pod's log is like this(with user qqqqq)</p>
<pre><code>[I 2020-12-23 05:22:21.664 SingleUserNotebookApp extension:158] JupyterLab extension loaded from /opt/conda/lib/python3.7/site-packages/jupyterlab
[I 2020-12-23 05:22:21.665 SingleUserNotebookApp extension:159] JupyterLab application directory is /opt/conda/share/jupyter/lab
[I 2020-12-23 05:22:22.015 SingleUserNotebookApp singleuser:561] Starting jupyterhub-singleuser server version 1.1.0
[I 2020-12-23 05:22:22.022 SingleUserNotebookApp notebookapp:1924] Serving notebooks from local directory: /home/jovyan
[I 2020-12-23 05:22:22.022 SingleUserNotebookApp notebookapp:1924] The Jupyter Notebook is running at:
[I 2020-12-23 05:22:22.022 SingleUserNotebookApp notebookapp:1924] http://jupyter-qqqqq:8888/user/qqqqq/
[I 2020-12-23 05:22:22.022 SingleUserNotebookApp notebookapp:1925] Use Control-C to stop this server and shut down all kernels (twice to skip confirmation).
[I 2020-12-23 05:22:22.038 SingleUserNotebookApp singleuser:542] Updating Hub with activity every 300 seconds
[I 2020-12-23 05:22:25.096 SingleUserNotebookApp log:174] 302 GET /user/qqqqq/ -&gt; /user/qqqqq/tree? (@10.233.79.154) 0.93ms
[I 2020-12-23 05:22:25.165 SingleUserNotebookApp log:174] 302 GET /user/qqqqq/ -&gt; /user/qqqqq/tree? (@10.233.93.0) 0.76ms
[I 2020-12-23 05:22:25.185 SingleUserNotebookApp log:174] 302 GET /user/qqqqq/tree? -&gt; /hub/api/oauth2/authorize?client_id=jupyterhub-user-qqqqq&amp;redirect_uri=%2Fuser%2Fqqqqq%2Foauth_callback&amp;response_type=code&amp;state=[secret] (@10.233.93.0) 2.31ms
[I 2020-12-23 05:22:25.561 SingleUserNotebookApp auth:981] Logged-in user {'kind': 'user', 'name': 'qqqqq', 'admin': False, 'groups': [], 'server': '/user/qqqqq/', 'pending': None, 'created': '2020-12-23T05:22:16.257525Z', 'last_activity': '2020-12-23T05:22:25.524384Z', 'servers': None}
[I 2020-12-23 05:22:25.562 SingleUserNotebookApp log:174] 302 GET /user/qqqqq/oauth_callback?code=[secret]&amp;state=[secret] -&gt; /user/qqqqq/tree? (@10.233.93.0) 250.52ms
[I 2020-12-23 05:22:25.654 SingleUserNotebookApp log:174] 200 GET /user/qqqqq/tree? (qqqqq@10.233.93.0) 71.92ms
</code></pre>
<p>GET //usr/qqqqq/tree? I'm getting stuck in here.</p>
<p>Thanks for any advice!</p>
",172,0,<kubernetes><jupyterhub>,2020-12-23 03:51:15
65366664,How to prevent infinite loop with two widgets that update each other?,"<p>I'm experimenting with <a href=""https://ipywidgets.readthedocs.io"" rel=""nofollow noreferrer"">Jupyter Widgets</a> to see if I can make a better version of <a href=""https://www.analog.com/en/design-center/interactive-design-tools/dbconvert.html#"" rel=""nofollow noreferrer"">this</a>, but apparently the observe handler triggers even when the change is not from the user, so it creates an infinite loop of one widget changing the other. Minimal example:</p>
<pre class=""lang-py prettyprint-override""><code>import ipywidgets as widgets

a = widgets.FloatText(description='a:')
b = widgets.FloatText(description='b:')


def on_a_change(change):
    b.value = change['new'] + 1
    
a.observe(on_a_change, names='value')


def on_b_change(change):
    a.value = change['new'] + 1

b.observe(on_b_change, names='value')


display(a)
display(b)
</code></pre>
<p>Is there any way to only trigger on a user-initiated change?  In other words, the user updates one text box, and then the others are updated from it, but those updates don't trigger more updates.</p>
",548,4,<python><jupyter><infinite-loop><onchange><ipywidgets>,2020-12-19 04:28:13
65349685,How to save ipywidget output and link it to a button to run another function with saved inputs,"<p>This is going to be a kind of long question so I'll try to break it down as much as I can so please bear with me. My idea is to create an jupyter notebook app using jupyter widgets. My app will get some information using an API but it needs some inputs first which are time and entity name that also have some metadata. Because I have different ipywidgets incorporated here (SelectMultiple,2 Date pickers widgets (start, end) and button that would finally will load the function to get the data from the database.)</p>
<p>Currently my widgets look like this:</p>
<p><a href=""https://i.stack.imgur.com/cOSIB.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/cOSIB.png"" alt=""enter image description here"" /></a></p>
<p>I'm able to obtain multiple entities ('Wells') (with its own metadata and assign an start and end date and save it in a dictionary). I have created a button but I'm having a hard time to be able to link the button to the already saved data to run my function everytime I run click in 'run'. Here's my code:</p>
<pre><code>#I created a class to add multiple widgets
class SelectMutipleInteract(widgets.HBox):
        
    def __init__(self,api_obj):
        #In my init function I'm obtaining all the entities to be stored in the Selectmultiple widget
        env='prod'
        pre_df = api_obj.search_sites_by_name('',env).set_index('site_id').sort_index(ascending=True)
        pre_df = pre_df[pre_df['db'].str.contains('jon')]
        self.pre_df = pre_df
        
        self.w = widgets.SelectMultiple(
            options = pre_df.name.values,
            rows = len(pre_df),
            description = 'Wells',
            disabled = False)
        #From that same data I get initial start and end dates (which I'll be able to change based on the time I want)
        try:
            self.start_date = datetime.strptime(self.pre_df.sort_values(by='date_created')['date_created'].values[0],'%Y-%m-%dT%H:%M:%SZ')
            self.start_date = pd.Series(self.start_date).dt.round('H')[0]
        except:
            'TypeError'
        
        try:
            self.start_date = datetime.strptime(self.pre_df.sort_values(by='date_created')['date_created'].values[0],'%Y-%m-%dT%H:%M:%S.%fZ') 
            self.start_date = pd.Series(self.start_date).dt.round('H')[0]
        except:
            'TypeError'
        
        try:
            self.end_date = datetime.strptime(self.pre_df.sort_values(by='last_transmission',ascending=False)['last_transmission'].values[0],'%Y-%m-%dT%H:%M:%SZ')
            self.end_date = pd.Series(self.end_date).dt.round('H')[0]
        except:
            'TypeError'
            
        try:
            self.end_date = datetime.strptime(self.pre_df.sort_values(by='last_transmission',ascending=False)['last_transmission'].values[0],'%Y-%m-%dT%H:%M:%S.%fZ')
            self.end_date = pd.Series(self.end_date).dt.round('H')[0]
        except:
            'TypeError'

        # I created the rest of the widgets
        self.w1 = widgets.DatePicker(
                    description='Pick Start Date',
                    value = self.start_date)
        
        self.w2 = widgets.DatePicker(
                    description='Pick End Date',
                    value=self.end_date)
        
        self.w3 = widgets.Button(
                    description='Run',
                    button_style='info')
        
        self.selectors = [self.w,self.w1,self.w2,self.w3]
        
        #I think this as a super class and then each object to be assigned together
        super().__init__(children=self.selectors)
        self._set_observes()
        
    def _set_observes(self):
        self.selectors1 = self.selectors[:3]
        for widg in self.selectors1:
            widg.observe(self._observed_function_widgets1, names='value')
            
    #Observed function will work as the place to store the metadata        
    def _observed_function_widgets1(self,widg):
        self.dict = {}
        self.list_a = []
        
        for widg in self.selectors1:
            if type(widg.get_interact_value())==tuple:
                self.list_a.append(widg.get_interact_value())
            else:
                self.list_a.append(datetime.strftime(widg.get_interact_value(), '%Y-%m-%d %H:%M:%S'))
                
        for well in self.list_a[0]:
            a = self.pre_df.loc[self.pre_df['name']==well,:]
            self.dict[well]= {'domain':a['db'],'site_slug':a['slug'],'start_date':self.list_a[1],
                                'end_date':self.list_a[2]}
        
        print(self.dict)
        
        #This is where I put the connection of the button but I'm getting an error
        self.w3.on_click(self._on_button_clicked(self.dict))
        
        
    def _on_button_clicked(self,dict1):
        #Here I should run the final function
        print(1)
        print(dict1)
        
        
SelectMutipleInteract(api_obj)
</code></pre>
<p>The error that I get when I press the button (after I already selected entities and times) is</p>
<pre><code>{'SHB 67-34': {'domain': site_id
183    jonah-energy
Name: db, dtype: object, 'site_slug': site_id
183    10004-24
Name: slug, dtype: object, 'start_date': '2019-09-26 15:00:00', 'end_date': '2020-12-17 21:00:00'}, 'SHB 75-34': {'domain': site_id
184    jonah-energy
Name: db, dtype: object, 'site_slug': site_id
184    10005-40
Name: slug, dtype: object, 'start_date': '2019-09-26 15:00:00', 'end_date': '2020-12-17 21:00:00'}, 'SHB 77-34': {'domain': site_id
185    jonah-energy
Name: db, dtype: object, 'site_slug': site_id
185    10006-46
Name: slug, dtype: object, 'start_date': '2019-09-26 15:00:00', 'end_date': '2020-12-17 21:00:00'}}
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
TypeError: 'NoneType' object is not callable
</code></pre>
<p>The whole idea is to (once the data has been selected and stored) then run the final function but I'm having a hard time conceptualize the creation on the button give that you need to run the several widgets first to get the data and store it and then click the button to run the function with that data they way I'm creating the widgets layout together.</p>
<p>Any help would really appreciate it.</p>
",1463,1,<python><jupyter-notebook><widget><ipywidgets>,2020-12-17 23:13:22
65321106,Is it possible to get the current position of an ipywidget?,"<p>I'm using the <code>ipyvuetfy</code> lib that create nice dashboarding element based ont he <code>vuetify.js</code> lib and <code>ipyvwidgets</code>.</p>
<p>I need to place a dialog in a specific position (on top of another element) like this menu placed on top of a select folder btn.</p>
<p><a href=""https://i.stack.imgur.com/YeWpQ.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/YeWpQ.png"" alt=""enter image description here"" /></a></p>
<p>How can I access the the current position of a widget relative to the window ?</p>
",67,1,<python><vuetify.js><ipywidgets>,2020-12-16 10:05:49
65315254,Updating a plot in Python,"<p>My situation is this: I am developing a Jupyter-lab notebook to exemplify engineering topics. I find myself in the need of plotting something in an axes object within a figure, and then using a slider interact changing a value to update the plot.</p>
<p>Here is a MWE (or at least a shorter Working Example):</p>
<pre><code>import ipywidgets as widgets
from ipywidgets import interact
import numpy as np
import matplotlib.pyplot as plt

global ax1
global fig
fig, (ax1) = plt.subplots(ncols=1, subplot_kw=dict(projection='polar'))

RAD = np.array([0.85, 0.85, 0.85])
ANG = np.array([np.pi/2, np.pi*(2/3+1/2), np.pi*(1/2-2/3)])
c = ax1.scatter(ANG, RAD)

ax1.set_ylim([0, 1])
ax1.set_yticklabels([])

def h(rh):   
    RADp = np.array([rh, rh, rh])
    ANGp = np.array([-np.pi/2, np.pi*(2/3-1/2), np.pi*(-1/2-2/3)])
    cp = ax1.scatter(ANGp, RADp)
    ax1.add_artist(cp)
    plt.show()

    return (rh)

interact(h, rh = widgets.FloatSlider(min=0, max=1, step=0.001, value=1));
</code></pre>
<p>In this example I create the figure <code>fig</code> and its axes <code>ax1</code> declared as global variables (so that they will be available within function <code>h</code>. Then using <code>RAD</code> and <code>ANG</code> I create a scatter plot <code>c</code>.</p>
<p>Afterwards using the <code>interact</code> widget I would like to have three crosses change position along the <code>r</code> axis by changing the value of <code>rh</code> with the slider.</p>
<p>I don't get any error, but neither get I any crosses at all.</p>
<p>In the actual code I use <code>pcolormesh</code> instead of scatter.</p>
<p>I hope I made myself clear. I had got ti working by creating the figure and <code>ax1</code> each time the function is called, but then I added some more suff thath don't need to be plotted each time.</p>
<p>Thanks for taking the time to read!</p>
",43,0,<python-3.x><matplotlib><ipywidgets>,2020-12-15 23:40:11
65292033,ipywidgets SelectMultiple on multiple Dropdown menu,"<p>I have 2 dropdown menus : 1) Num Clusters and 2) Cluster</p>
<p>Num Clusters is one of (1,2,3,4,5) and  Cluster depends on what is selected as Num Clusters</p>
<p>I want to select multiple clusters at Cluster dropdown menu. The problem is &quot;Cluster&quot; dropdown menu does not update with &quot;Num Cluster&quot; dropdown selection.</p>
<p>Any help would be appreciated. Thanks in advance</p>
<pre><code>import pandas as pd
import numpy as np
import ipywidgets as widgets

dict_cls = {1:np.array([1,1,1,1,1]), 2:np.array([1,2,1,1,1]), 3:np.array([1,2,3,1,1]), 4:np.array([1,2,3,4,1]), 5:np.array([1,2,3,4,5])}

dd_numcls = widgets.Dropdown(
    options=sorted(dict_cls.keys()),
    value=min(dict_cls.keys()),
    description='Num Cluster:')

dd_cls = widgets.SelectMultiple(
    options=sorted(np.unique(dict_cls[dd_numcls.value])),
    value=(min(sorted(np.unique(dict_cls[dd_numcls.value]))),),
    description='Cluster:')

b_update_cls = widgets.Button(
    description='Select Cluster')

def change_numcls(b):
    tmp_lst = np.unique(dict_cls[dd_numcls.value])
    dd_cls.options = sorted(tmp_lst)
    dd_cls.value = min(tmp_lst)

dd_numcls.observe(change_numcls)

output_filter = widgets.VBox(
    [ widgets.HBox([dd_numcls, dd_cls, b_update_cls]), ] ,
    layout=widgets.Layout(width='2100px'))

output_filter

</code></pre>
<p><a href=""https://i.stack.imgur.com/fAWqM.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/fAWqM.png"" alt=""SelectMultiple : Cluster dropdown menu does not update."" /></a></p>
<p>However, If i use Dropdown instead of SelectMultiple, then &quot;cluster&quot; updates without problem:</p>
<pre><code>dd_cls = widgets.Dropdown(
    options=sorted(np.unique(dict_cls[dd_numcls.value])),
    value=(min(sorted(np.unique(dict_cls[dd_numcls.value]))),),
    description='Cluster:')
</code></pre>
<p><a href=""https://i.stack.imgur.com/MnBSu.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/MnBSu.png"" alt=""Dropdown"" /></a></p>
",930,1,<python><drop-down-menu><ipywidgets>,2020-12-14 15:50:16
65264185,Slow matplotlib and ipywidgets image refresh,"<p>I'm trying to scroll through some magnetic resonance slices using <code>plt.show()</code> and ipywidgets <code>interact()</code> function. I've found no problem by slowly moving the slider, but an important delay is found when sliding through the slices a little bit faster.</p>
<p>Here below is the code I'm using.</p>
<pre><code>def dicom_animation(x, volume):
    fig = plt.figure(figsize=(8,8))
    plt.imshow(volume['slices'][x]['pixel_array'], cmap=plt.cm.gray)


interact(dicom_animation, volume = fixed(a), x=IntSlider(round(len(a['slices'])/2,0), 0, (len(a['slices'])-1), layout=Layout(width='500px')))
</code></pre>
<p>And <a href=""https://i.stack.imgur.com/tAkR6.png"" rel=""nofollow noreferrer"">this</a> is the result.</p>
<p>Is there anything I can do to make the sliding a little bit faster without this important delay?</p>
",1371,1,<python><matplotlib><jupyter-notebook><ipywidgets>,2020-12-12 11:05:51
65260371,Is ipyturtle missing much of the full turtle-graphics module?,"<p>I'm trying Turtle for the first time and running into some trouble. I'm using <a href=""https://github.com/gkvoelkl/ipython-turtle-widget"" rel=""nofollow noreferrer"">ipyturtle</a>, a widget that lets you use Turtle inline on a Jupyter notebook. It seems to be missing some commands. For example:</p>
<pre><code>from ipyturtle import Turtle
t = Turtle()
t

size = 10
angle = 20

t.reset()
for a in range(10):
    for i in range(100):
        t.right(1)
        t.forward(i/size)
    t.home()
    t.right(a*angle)
</code></pre>
<p>draws the first line, then throws the error:</p>
<pre><code>AttributeError: 'Turtle' object has no attribute 'home'
</code></pre>
<p>It also seems to be missing <code>goto()</code>, <code>speed()</code>, among other key commands. Am I doing something wrong? If it is missing commands, how can you tell? I've used Python a fair amount in an engineering context but am unfamiliar with Github. I'd really appreciate an explanation of how someone navigating the page I linked above might sniff out a list of available commands.</p>
<p>I've tried running the following very similar block of code on <a href=""https://repl.it/"" rel=""nofollow noreferrer"">Repl.it</a> and it works fine:</p>
<pre><code>from turtle import Turtle
t = Turtle()

size = 15
angle = 20

for a in range(1, 19):  
  for i in range(100):
    t.right(1)
    t.forward(i/size)
  t.home()
  t.right(a*angle)
</code></pre>
<p>Thanks in advance for your help!</p>
",443,0,<python><jupyter-notebook><turtle-graphics><ipywidgets><python-turtle>,2020-12-12 00:32:59
65234320,Is there in Interact/Ipywidgets something similar to Streamlit Multiselect?,"<p>I need to query a Pandas <code>DataFrame</code> with a multiselection-like widget. It's pretty easy to do that with Streamlit (<a href=""https://i.stack.imgur.com/FOENA.gif"" rel=""nofollow noreferrer"">streamlit multiselect example</a>) but I wish to obtain the same through Ipython widgets.
Another point is that I have to deal with 184 possible selections.</p>
",480,0,<python><jupyter-notebook><ipywidgets><streamlit><python-interactive>,2020-12-10 12:14:45
65172538,How to return value using interact_manual python,"<p>I have the following function, which plots UMAP, based on the number of clusters I've chosen, and returns series 'labels'.</p>
<pre><code>def UMAPplot_building(file_name, num_clusters):
   logr_file = pd.read_csv(file_name, sep='\t')

   projector = umap.UMAP(metric='euclidean', random_state=42, verbose=True)
   logr_projection = projector.fit_transform(logr_file.T)
   logr_projection = pd.DataFrame(logr_projection,
                                 index=logr_file.columns,
                                 columns=['v1', 'v2'])

   clustermap_result = clustermap_wp(logr_projection.T, xl=[], yl=[])

   labels = cut_clustermap_tree(clustermap_result, num_clusters)
   umap_plot(logr_projection, labels)
   labels.index = [index.replace('.', '-') for index in labels.index]
   return labels
</code></pre>
<p>To choose the amount of clusters I use interact_manual:</p>
<pre><code>interact_manual(UMAPplot_building, num_clusters = widgets.IntSlider(min=1, max=20), 
file_name=fixed(my_file, sep='\t'))
</code></pre>
<p>The problem is that I need to return 'labels' to use it further in my script. I know that for interactive we can use .result and it returns the value, but I cannot find how to do it using interact_manual.
Thank you in advance.</p>
",134,1,<python><return><ipywidgets><python-interactive>,2020-12-06 20:03:47
65137656,Call decorated interactive function with widget arguments,"<p>Say I created an interactive function using ipywidgets as such:</p>
<pre><code>from ipywidgets import interactive, Select

def print_fruit(fruit):
    print(fruit)

fruitSelect = Select(options=['tomato', 'banana'])

w = interactive(print_fruit, fruit=fruitSelect)
w
</code></pre>
<p>Now, I want to call print_fruit with the currently selected fruit from another function. What would be the recommended method ?(besides redoing the same work of getting the selected options from the widgets and calling print_fruit with the correct argument, which is tedious when there are many...).</p>
<p>Thanks</p>
",110,1,<python><ipywidgets>,2020-12-04 03:46:52
65126748,Arrange ipywidgets with interactive - Python,"<p>I am trying to put together a <code>Dropdown</code> widget with <code>interactive</code> insise a <code>VBox</code> but I am facing an issue I am not sure how to solve. Any idea what is the cause here?</p>
<pre><code>import ipywidgets as widgets

listw = widgets.Dropdown(options=(['Option 1']), description='Test')    
save_crop_sizes=widgets.interact.options(manual=True, manual_name=&quot;Save Crop Sizes&quot;)
    
outputwi = widgets.VBox([listw, save_crop_sizes])

TraitError: The 'children' trait of a VBox instance contains an Instance of a TypedTuple which expected a Widget, not the _InteractFactory at '0x1cb35a86ac8'.
</code></pre>
",213,1,<python><jupyter-notebook><interactive><ipywidgets>,2020-12-03 13:16:53
65091693,Apache Spark remote cluster on JupyterHub notebooks on k8s,"<p>I have :</p>
<p>Apache Spark : 2.4.4</p>
<p>JupyterHub : 1.1.0</p>
<p>Helm chart version : 0.9.0</p>
<p>K8S : 1.15</p>
<p>I build Jupyterhub on k8s with the official doc : <a href=""https://zero-to-jupyterhub.readthedocs.io/"" rel=""nofollow noreferrer"">https://zero-to-jupyterhub.readthedocs.io/</a></p>
<p>I use official Spark image to do some local jobs : jupyter/all-spark-notebook:latest</p>
<p>Spark works well in local mode.</p>
<p>But I want to use JupyterHub notebook to do some jobs on remote (homemade) Apache Spark cluster (with K8s as orchestrator).</p>
<p>I already tried Apache Zeppelin, it's works well ! but I want to do the same thing with Jupyterhub.</p>
<p>How can I do this ?</p>
",488,2,<apache-spark><kubernetes><jupyter-notebook><jupyterhub>,2020-12-01 13:45:36
65057860,How to return a pandas dataframe from an ipywidgets output,"<p>I have a dataset that I am working on in jupyter notebooks and I would like to be able to access the data as a dataframe that is returned in the ipywidgets output.</p>
<p>I have played around with several options but cannot for the life of me work out how to access the filtered results.</p>
<p>Here is the code that sets up the filters and the listboxes. The full notebook with all the code is  <a href=""https://pastebin.com/gkpHgeQz"" rel=""nofollow noreferrer"">here</a></p>
<pre><code>import pandas as pd
import numpy as np
import ipywidgets as widgets
from ipywidgets import Layout, AppLayout
from IPython.display import display
import functools
 
data = {'year': ['2000', '2000','2000','2000','2001','2001','2001','2001', '2002',  '2002', '2002', '2002',
                 '2003','2003','2003','2003','2004', '2004','2004','2004', '2005', '2005', '2005', '2005', 
                 '2006', '2006', '2006', '2006', '2006', '2007', '2007', '2007', '2007', '2008', '2008', '2008', '2008',
                 '2009', '2009', '2009', '2009'],
        
        'purpose':['Holiday', 'Business', 'VFR', 'Study', 'Holiday', 'Business', 'VFR', 'Study', 'Holiday', 'Business',
                   'VFR', 'Study', 'Holiday', 'Business', 'VFR', 'Study', 'Holiday', 'Business', 'VFR', 'Study', 'Holiday',
                   'Business', 'VFR', 'Study', 'Holiday', 'Business', 'VFR', 'Study', 'Holiday', 'Business', 'VFR', 'Study',
                   'Holiday', 'Business', 'VFR', 'Study', 'Holiday', 'Business', 'VFR', 'Study', 'Holiday'
                  ], 
        
        'market':['Belgium', 'Luxembourg', 'France', 'Spain', 'Norway', 'Sweden', 'Germany', 'Austria', 'Denmark',
                  'Portugal', 'Greece', 'Croatia', 'Belgium', 'Luxembourg', 'France', 'Spain', 'Norway', 'Sweden',
                  'Germany', 'Austria', 'Denmark', 'Portugal', 'Greece', 'Croatia', 'Belgium', 'Luxembourg', 'France',
                  'Spain', 'Norway', 'Sweden', 'Germany', 'Austria', 'Denmark', 'Portugal', 'Greece', 'Croatia', 'Belgium',
                  'Luxembourg', 'France', 'Spain', 'Norway'
                 ]} 
 
df_london = pd.DataFrame (data, columns = ['year','purpose', 'market'])
 
# Get our unique values
ALL = 'ALL'
def unique_sorted_values_plus_ALL(array):
    unique = array.unique().tolist()
    unique.sort()
    unique.insert(0, ALL)
    return unique

output = widgets.Output()

# Dropdown listbox
dropdown_year = widgets.Dropdown(description='Year',
                                  options = unique_sorted_values_plus_ALL(df_london.year))

# Function to filter our dropdown listboxe
def common_filtering(year):
    df = df_london.copy()
        
    filters = []
    
    # Evaluate our dropdown listbox and return booleans for our selections
    if year is not ALL:
        filters.append(df['year'] == year)
    
    output.clear_output()
    
    with output:
        if filters:
            df_filter = functools.reduce(lambda x,y: x&amp;y, filters)
            display(df.loc[df_filter])
        else:
            display(df)

def dropdown_year_eventhandler(change):
    common_filtering(change.new)

dropdown_year.observe(dropdown_year_eventhandler, names='value')

ui = widgets.HBox([dropdown_year])

display(ui, output)
</code></pre>
<p>Im sure its a simple one but I just can't work it out myself.</p>
<p>Regards</p>
<p>Tom</p>
",1623,2,<python-3.x><pandas><dataframe><jupyter-notebook><ipywidgets>,2020-11-29 07:22:08
65053418,run programmatically an ipyvuetify button,"<p>Assume I have a code with a button coded in ipyvuetify</p>
<pre><code>v_btn_load  = vue.Btn(class_='mx-2 light-red darken-1', 
                           children=[vue.Icon(left=True, children=['get_app']),'Load data'])

def on_click_load(widget, event, data):
    #pseudo code: load file
    print(&quot;button run&quot;)
                
v_btn_load.on_event('click', on_click_load)
</code></pre>
<p>How do I run (click) programmatically the v_btn_load button?</p>
<pre><code>v_btn_load.click() does not work
</code></pre>
<p>Thanks</p>
",574,2,<python><vuetify.js><ipywidgets><voila><ipyvuetify>,2020-11-28 19:01:59
65030122,Combining dropdown list and button with ipywidgets,"<p>I want to filter a dataframe by 1) selecting a specific portfolio from a dropdown menu, 2) selecting other stuff by clicking the checkboxes (for example, display only securities denominated in USD) and 3) hit a button to filter the dataframe.</p>
<p>So basically I need the selection the be past to the dropdown_handler function only after hitting the button, otherwise it keeps recalculating everytime something is changed in the dropdown.</p>
<p>Edit: just changed the code, it should be replicable now.</p>
<pre><code>pf_dropdown = Dropdown(options=['ACTIVE', 'DEFENSIVE','DYNAMIC'],value='ACTIVE',description='Portfolio')
output = Output()
display(pf_dropdown, output)

def dropdown_handler(change):
    if change.new == 'ACTIVE':
        port = 'ID-4'
    if change.new == 'DEFENSIVE':
        port = 'ID-5'
    if change.new == 'DYNAMIC':
        port = 'ID-6'
    else:
        print('Error')
    with output:
        output.clear_output()
        print(port)
        
pf_dropdown.observe(dropdown_handler, names='value')
</code></pre>
",54,0,<ipywidgets>,2020-11-26 22:49:52
64996681,python ipycytoscape accesing a node by id,"<p>Assuming I have a ipycytoscape graph as follows:</p>
<pre><code>railnet= '''{
    &quot;nodes&quot;: [
        {&quot;data&quot;: { &quot;id&quot;: &quot;BER&quot;, &quot;label&quot;:&quot;HBf BER&quot;, &quot;classes&quot;:&quot;east&quot;}},
        {&quot;data&quot;: { &quot;id&quot;: &quot;MUN&quot;, &quot;label&quot;:&quot;HBf MUN&quot;, &quot;classes&quot;:&quot;west&quot;}},
        {&quot;data&quot;: { &quot;id&quot;: &quot;FRA&quot;, &quot;label&quot;:&quot;HBf FRA&quot;, &quot;classes&quot;:&quot;west&quot;}}
        ],
    &quot;edges&quot;: [
        {&quot;data&quot;: { &quot;id&quot;: &quot;line1&quot;, &quot;source&quot;: &quot;BER&quot;, &quot;target&quot;: &quot;MUN&quot;,&quot;label&quot;:&quot;200km/h&quot;}},
        {&quot;data&quot;: { &quot;id&quot;: &quot;line2&quot;, &quot;source&quot;: &quot;MUN&quot;, &quot;target&quot;: &quot;FRA&quot;,&quot;label&quot;:&quot;200km/h&quot;}},
        {&quot;data&quot;: { &quot;id&quot;: &quot;line3&quot;, &quot;source&quot;: &quot;FRA&quot;, &quot;target&quot;: &quot;BER&quot;,&quot;label&quot;:&quot;250km/h&quot; }}           
    ]
  }'''

railnetJSON = json.loads(railnet)
ipycytoscape_obj3 = ipycytoscape.CytoscapeWidget()
ipycytoscape_obj3.graph.add_graph_from_json(railnetJSON, directed=False) # I am telling I dont want directions
ipycytoscape_obj3
</code></pre>
<p>How can I access easily a node with the id?</p>
<p>this does not work:</p>
<pre><code>ipycytoscape_obj3.graph.nodes['BER']. # --&gt; wrong
</code></pre>
",55,0,<python><graph><ipywidgets><ipycytoscape>,2020-11-25 00:06:14
64987038,Jupyterhub multiple sessions per tab,"<p>I am new to Jupyterhub and have been tasked to find out the following.</p>
<p>Our team has picked up that multiple sessions are created when new tabs are open.</p>
<p>Is there a way to ensure that only one session is used even when the IDE is open in multiple tabs?</p>
",106,1,<jupyter-notebook><jupyterhub>,2020-11-24 13:00:07
64975127,How to remove old plot from jupyter notebook cell?,"<p>I am using ipywidgets for showing each lab's id and val score. I used the dropdown menu. When you click the lab id, the plot and data frame shows up, dataframe refresh for each customer which is good but, the plot does not remove the old, adding a new plot vertically, my question is that how to remove the old plot from jupyter notebook cell? I am using seaborn plots. I did some research. The only thing is to find the %matplotlib notebook (that cell display(dropdown_team_1)) but, it makes slow and inefficient. You can run the code easily in your jupyter notebook.</p>
<p>My functions are:</p>
<pre><code>import ipywidgets as widgets
import pandas as pd
import seaborn as sns
import numpy as np
from IPython.display import clear_output
</code></pre>
<pre><code>df = pd.DataFrame({'lab':['P', 'Q', 'R'], 'val':[20, 40, 30]})
</code></pre>
<pre><code>def plot(weights_df,x1,x2,plot_size):
    sns.set(rc={'figure.figsize':(11.7,8.27)})
    sns.barplot(x=weights_df[x1][:plot_size],y=weights_df[x2][:plot_size])
</code></pre>
<pre><code>def relevance_score(df_en,lab):
    #each person
    df_en = df_en[(df_en['lab'] == lab)]
    #text to list 
    weights_df = df_en.copy()
    
    plot(weights_df,'lab','val',plot_size=13)
    return weights_df
</code></pre>
<pre><code>ALL = 'ALL'
def unique_sorted_values_plus_ALL(array):
    unique = array.unique().tolist()
    unique.sort()
    unique.insert(0, ALL)
    return unique

dropdown_team_1 = widgets.Dropdown(options =  unique_sorted_values_plus_ALL(df.lab))
output_team_1 = widgets.Output()

def dropdown_team_eventhandler_1(change):
    output_team_1.clear_output()
    with output_team_1:
        if (change.new == ALL):
            display(df)
        else:
            print(&quot;Person id: &quot;,change.new)
            display(relevance_score(df,change.new))
            result = relevance_score(df,change.new)

dropdown_team_1.observe(dropdown_team_eventhandler_1, names='value')
</code></pre>
<pre><code>display(dropdown_team_1)
</code></pre>
<pre><code>display(output_team_1)
</code></pre>
",285,0,<python><pandas><dataframe><jupyter-notebook><ipywidgets>,2020-11-23 19:31:34
64966414,Brightway2 not being imported in the Jupyterhub Docker,"<p>I am using JupyterHub deployed on a server. I installed the brightway2 using conda outside the container. Now when I try to import Brightway2 in the Jupyter notebook (on the JupyterHub server) the import fails showing no module named brightway2. I was just wondering how can I install BW2 inside the container or something else is the error here.</p>
<p>I am a beginner in computer sciences, therefore please excuse if the question is too basic, still help would be appreciated</p>
",115,0,<python><docker><jupyterhub><brightway>,2020-11-23 10:15:37
64965648,How to control Ipyvuetify ProgressCircular,"<p>I want to use an ipyvuetify widget called ProgressCircular to show the loading process. Therefore, I was trying to figure out how to show and hide the widget in my code.</p>
<pre><code>progress=v.ProgressCircular(width=3,
              color='red',
              indeterminate=True,
                       )
</code></pre>
<p>Although I was able to see all the attributes with dir(), I still couldn't find the right one to use. How do people figure out how to use classes or functions in a package that lacks samples.</p>
<pre><code>dir(v.ProgressCircular)
</code></pre>
",185,2,<jupyter-notebook><vuetify.js><ipywidgets><voila>,2020-11-23 09:23:43
64959063,"Using @interact, using a list of strings as in input, the list of strings is split into a list of letters. Is there anyway to stop this?","<p>I'm am using ipython widgets so unsure why this error is occurring</p>
<p>Using @interact and a list of strings as an input to the function below:</p>
<pre><code>@wdg.interact(lines=[&quot;Number of cases&quot;, &quot;Number of admissions&quot;, &quot;Number of deaths&quot;])
def time_series_graph( lines):
    n_lines=len(lines)
    if n_lines&gt;0:
        data[list(lines)].plot()
    else:
        print(&quot;Select the data you want to print.&quot;)

</code></pre>
<p>I already have a pandas data frame with the column names as in the list lines but this code does not work. The list of strings is split up so that each letter is a member of the list.</p>
<p>This (among others) is the error shown:</p>
<blockquote>
<p>KeyError: &quot;None of [Index(['N', 'u', 'm', 'b', 'e', 'r', ' ', 'o', 'f', ' ', 'c', 'a', 's', 'e',\n       's'],\n      dtype='object')] are in the [columns]&quot;</p>
</blockquote>
<p>What is the reason for this and any idea how to fix it?</p>
<p>Thanks for your help!</p>
",164,2,<python><jupyter-notebook><ipython><ipywidgets>,2020-11-22 20:15:51
64944141,"When dealing with pandas in ipywidgets' interact, can I set a hierarchy for each item?","<p>Everyone. I am studying various analysis by dealing with statistical data (mainly csv files).
Recently, I have been interested in and practicing widgets that can be used in Python.</p>
<pre><code>@interact
def shop_information       (Commercial_sector_classification_1=list(Cd['Shop_section_1'].unique()),
                            Commercial_sector_classification_2=list(Cd['Shop_section_2'].unique()),
                            Commercial_sector_classification_3=list(Cd['Shop_section_3'].unique())):
                           
                            return Cd[(Cd['Shop_section_1'] == Commercial_sector_classification_1)&amp;
                                      (Cd['Shop_section_2'] == Commercial_sector_classification_2)&amp;
                                      (Cd['Shop_section_3'] == Commercial_sector_classification_3)]
</code></pre>
<p>This is what I created to filter the information of large, medium, and small classifications.</p>
<p>There is a hierarchy in the commercial sector classification, and it is divided into 1 major category, 2 medium category, and 3 sub category.</p>
<p>By any chance, do you know how to remove from sub-classification other than what was previously filtered by large-classification?</p>
",14,1,<python><pandas><ipywidgets>,2020-11-21 14:26:47
64938667,Ipyvuetify and matplotlib.pyplot display order,"<p>I was trying to display a set of ipyvuetify select widgets which trigger a function and plot a figure. Although I was able to make it work as I expected, I can't seem to place the pyplot figure below the select widgets.</p>
<pre><code>city_select=v.Select(
prepend_icon='mdi-home-city',
style_='width: 300px',
v_model='e7',
items=['Bo Town','Kenema City'],
label='City Name',
chips=True    
)
hospital_select=v.Select(
prepend_icon='mdi-hospital-box',
style_='width: 300px',
items=['Lion Heart Hospital','Kindoya Hospital','Port Loko Government Hospital','Holy Spirit Catholic Hosp'],
label='Hospital Name (1)',
multiple=True,
chips=True
) 
hospital_EEZ_select=v.Select(
prepend_icon='mdi-hospital-box',
style_='width: 300px',
items=['Lion Heart Hospital','Kindoya Hospital','Port Loko Government Hospital','Holy Spirit Catholic Hosp'],
label='Hospital Name (2)',
multiple=True,
chips=True
)

select_show=v.Html(tag='div', class_='d-flex flex-row', children=[
v.Html(tag='div', class_='d-flex flex-column', children=[
    #v.Html(tag='h3', children=['Country Map']),
    v.Chip(class_='ma-2',
          color='success',
          outlined=True,
          children=['Country Map']),
    city_select,
]),
v.Html(tag='div', class_='d-flex flex-column', children=[
    v.Chip(class_='ma-2',
          color='deep-purple accent-4',
          outlined=True,
          children=['City Map']),
    hospital_select
]),
v.Html(tag='div', class_='d-flex flex-column', children=[
    v.Chip(class_='ma-2',
          color='indigo darken-3',
          outlined=True,
          children=['Maritime']),
    hospital_EEZ_select
]),
])
fig,ax=pp.subplots(figsize=(8,8))
v.Container(children=[select_show])
</code></pre>
<p>I considered putting the pyplot figure in an output widget, and then put this widget in select_show. However, I couldn't find any widgets in ipyvuetify which is equivalent to the output widget in ipywidgets.</p>
<p>Is there any simpler solutions for this?</p>
",275,0,<jupyter-notebook><vuetify.js><ipywidgets>,2020-11-21 00:37:30
64926352,Ipyvuetify multiselect function doesn't work,"<p>I just started using Ipyvuetify today and I wanted to build a simple multi-select function. Please find my code below:</p>
<pre class=""lang-py prettyprint-override""><code>import ipyvuetify as v

hospital_select=v.Select(
    prepend_icon='mdi-hospital-box',
    style_='width: 400px',
    v_model='e6',
    items=[
        'Lion Heart Hospital',
        'Kindoya Hospital',
        'Port Loko Government Hospital',
        'Holy Spirit Catholic Hosp'
    ],
    label='Hospital Name',
    multiple=True,
    chips=True
)
</code></pre>
<p>It should be pretty straight forward, but I can't select any options from the drop-down menu.</p>
<p><a href=""https://i.stack.imgur.com/qX9cG.png"" rel=""nofollow noreferrer"">multi-select drop-down menu</a></p>
<p>PS: single-select works</p>
",182,1,<jupyter-notebook><vuetify.js><ipywidgets>,2020-11-20 08:47:35
64912840,Dynamically add and remove list items in an IPython widget,"<p>I'm trying to achieve a basic todo list app in Ipython Jupyter Notebook using <code>ipywidgets</code>.</p>
<p>I can easily achieve the functionality of adding items to my list, however, I can't properly handle removing of existing items if the 'Remove' button is clicked. The entire code is run in a single cell.</p>
<pre class=""lang-py prettyprint-override""><code>import ipywidgets as widgets
from ipywidgets import VBox, HBox, Text, Button
from IPython.display import display

todo = []

def completed_sentence(sentence): 
    &quot;&quot;&quot; To display existing notes with a 'Remove' button &quot;&quot;&quot;
    sentenceField = Text(value=sentence)
    removeButton = Button(description='Remove',
                          button_style='danger')
    return HBox([sentenceField, removeButton])

def render_sentences(_):
    &quot;&quot;&quot; To update the view &quot;&quot;&quot;
    global a,b
    if a.value != '':
        todo.append(a.value)
    a.value = ''
        todoWidget.children = tuple\
            ([VBox([VBox([completed_sentence(each) 
                          for each in todo]),
                    HBox([a, b])])])
    
# Setting up a basic view- with an empty field and a button
a = widgets.Text(value='')
b = widgets.Button(description='Add')                                 
b.on_click(render_sentences)

todoWidget = widgets.HBox([a, b])
display(todoWidget)
</code></pre>
<p>Now, in order to enable the removal of sentences, I update the definition of the function <code>completed_sentence</code> as follows:</p>
<pre class=""lang-py prettyprint-override""><code>def completed_sentence(sentence):
    &quot;&quot;&quot; To display existing notes &quot;&quot;&quot;
    def remove_sentence(_):
        global render_sentences
        try:
            if todo.index(sentenceField.value) &gt;= 0:
                todo.remove(sentenceField.value)
                render_sentences()
        except:
            return 
                
    sentenceField = Text(value=sentence)
    removeButton = Button(description='Remove', button_style='danger')
    removeButton.on_click(remove_sentence)
    return HBox([sentenceField, removeButton])
</code></pre>
<p>But now, this has the issue that its call to <code>render_sentences</code> is ignored! What is the optimal way to deal with such a kind of 'reactive' programming, if you will, using Ipython Widgets.</p>
",678,1,<python><jupyter-notebook><ipywidgets>,2020-11-19 13:37:20
64905556,R suddenly doesn't work on my Jupyter Notebook,"<p>I was using IRkernel on the Jupyter Notebook well until a couple of days ago, but it suddenly does not work anymore.</p>
<p>When I open a R file which has an extension form '.ipynb' on the Jupyter Notebook, I experience these:</p>
<p>(on Browser window)</p>
<ul>
<li>'connecting to kernel' message appears on the right-upper side</li>
<li>sandglass appears on the Chrome tab</li>
</ul>
<p>(on Anaconda 3-like prompt)</p>
<ul>
<li>Below messages appear:</li>
</ul>
<p>[W 23:18:04.397 NotebookApp] 404 GET /api/kernels/aac5d552-e895-4448-baed-c1b5569f3ede/channels?session_id=f85b1df7aae945908e97925c86e14b84 (127.0.0.1): Kernel does not exist: aac5d552-e895-4448-baed-c1b5569f3ede
[W 23:18:04.516 NotebookApp] 404 GET /api/kernels/aac5d552-e895-4448-baed-c1b5569f3ede/channels?session_id=f85b1df7aae945908e97925c86e14b84 (127.0.0.1) 129.80ms referer=None
[I 23:18:21.116 NotebookApp] 302 GET /?token=ae4b207e1badc72114c930b20e766a03e82cc40e2f292a6c (127.0.0.1) 0.78ms</p>
<p>[I 23:20:28.519 NotebookApp] 302 GET /?token=ae4b207e1badc72114c930b20e766a03e82cc40e2f292a6c (127.0.0.1) 1.00ms
[I 23:20:34.014 NotebookApp] Creating new notebook in /1UM
[I 23:20:36.740 NotebookApp] Kernel started: 53b78e5d-ced7-46a9-817a-1f19340a50f6
Error in open.connection(con, &quot;rb&quot;) : cannot open the connection
Calls:  ... parse_and_simplify -&gt; parseJSON -&gt; parse_con -&gt; open -&gt; open.connection</p>
<p>I installed IR kernel several times following the guide on <a href=""https://irkernel.github.io/installation/"" rel=""nofollow noreferrer"">https://irkernel.github.io/installation/</a>.</p>
<p>What can I do?</p>
",738,2,<r><jupyter-notebook><jupyter-irkernel>,2020-11-19 04:43:28
64898295,Error importing nebula.gl into custom PyDeck deck.gl layer,"<p>I'm trying to import nebula.gl in order to make a selection layer for PyDeck (working on reproducint this <a href=""https://codesandbox.io/s/deckgl-and-nebulagl-editablegeojsonlayer-no-react-forked-l0n65?file=/app.js:387-388"" rel=""nofollow noreferrer"">code sandbox example</a>). However, I'm getting an error in the console</p>
<p><a href=""https://i.stack.imgur.com/uOmWx.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/uOmWx.png"" alt=""enter image description here"" /></a></p>
<p>when I try to <a href=""https://github.com/cornhundred/nebula_select_layer/blob/master/labeled-geojson-layer.js#L5"" rel=""nofollow noreferrer"">import nebula</a></p>
<pre><code>import { EditableGeoJsonLayer, DrawPolygonMode } from 'nebula.gl';
</code></pre>
<p>However, yarn and webpack appear to build correctly. The repo and place where nebula.gl is imported is <a href=""https://github.com/cornhundred/nebula_select_layer/blob/master/labeled-geojson-layer.js#L5"" rel=""nofollow noreferrer"">here</a></p>
",136,2,<python><interactive><ipywidgets><deck.gl><pydeck>,2020-11-18 17:35:02
64895308,How do I autostart jupyter notebook in appmode?,"<p>I have a Jupyter Notebook with ipywidgets and <a href=""https://github.com/oschuett/appmode"" rel=""nofollow noreferrer"">appmode</a>.</p>
<p>It is launched by issuing:</p>
<pre><code>jupyter notebook nbook/demo.ipynb
</code></pre>
<p>And then clicking the Appmode button.</p>
<p>However, I would prefer the notebook to actually start in <a href=""https://github.com/oschuett/appmode"" rel=""nofollow noreferrer"">appmode</a>.</p>
<p>Can this be done? Preferably by a command line switch or a config file stored alongside the notebook.</p>
<p>Regards Niels</p>
",642,0,<python><jupyter><ipywidgets>,2020-11-18 14:42:27
64862902,ipycytoscape & networkx interchange of objects,"<p>From the ipycytoscape documentation I can see the following:</p>
<pre><code>import ipycytoscape as cs
from ipycytoscape import *
import networkx as nx


# === create custom node class (inherits from cytoscape node class)
class CustomNode(cs.Node):
    def __init__(self, name, classes=''):
        super().__init__()
        self.data['id'] = name
        self.classes = classes

n1 = CustomNode(&quot;node 1&quot;, classes='class1')
n2 = CustomNode(&quot;node 2&quot;, classes='class2')

# === create graph, add custom nodes and an edge
G = nx.Graph()

G.add_node(n1)
G.add_node(n2)
G.add_edge(n1, n2, directed=True)
</code></pre>
<p>My question is a fundamental one, rather than looking for helping with code.
Above n1 and n2 are built with a class inheriting from a ipycytoscape class  CustomNode(cs.Node).
But they are added as nodes to a networkx graph !!!</p>
<p>How is that possible?
What I mean is that a ipycytoscape object is added to a networkx object.</p>
",180,1,<python><graph><networkx><ipywidgets><ipycytoscape>,2020-11-16 17:35:41
64845582,how to center plot inside ipywidgets Box?,"<p>I can't find the way to center the plotly plot inside ipywidgets Box, could you help me please?</p>
<pre><code>from ipywidgets import Box, widgets, Layout
import plotly.graph_objects as go

fig = go.FigureWidget(data=[go.Heatmap(z=[1,2,3], zsmooth=False, showscale=False)], layout=go.Layout(width=500, height=500))
Box([fig],layout=Layout())
</code></pre>
",165,0,<plotly><ipywidgets>,2020-11-15 14:30:52
64839623,Jupyter Notebook & Ipywidgets dropdown cascade not functioning correctly - probably my code,"<p>In Jupyter Notebook I  am trying to get 3 cascading dropdown list boxes to function dependant on the values defined in the list boxes.</p>
<p>It works to a fashion but it always takes 2 refreshes of various dropdown list boxes to get the data I want displayed</p>
<p>I started with the example in <a href=""https://towardsdatascience.com/bring-your-jupyter-notebook-to-life-with-interactive-widgets-bc12e03f0916"" rel=""nofollow noreferrer"">this article from towardsdatascience</a> and modified it to add the third dropdown box.</p>
<p>I cannot work out where my change or observe is not doing a dynamic update so that no matter what I select I will get a new refresh when ever a dropdown list box is changed.</p>
<p>All help gratefully received
Apologies if there is too much code/debug but i see others getting slated for not providing enough.</p>
<p>Here is the code.</p>
<pre><code># Modified From: - https://towardsdatascience.com/bring-your-jupyter-notebook-to-life-with-

interactive-widgets-bc12e03f0916

import pandas as pd
import numpy as np
import ipywidgets as widgets
from ipywidgets import Layout, AppLayout
from IPython.display import display

# From moriginal article. We use local file
# url = &quot;https://data.london.gov.uk/download/number-international-visitors-london/b1e0f953-4c8a-4b45-95f5-e0d143d5641e/international-visitors-london-raw.csv&quot;
# df_london = pd.read_csv(url)

# Initially, we will get the data and load it into a dataframe:
file = 'C:\\Users\\smelly\\data\\csv\\international-visitors-london-raw.csv'

df_london = pd.read_csv(file, encoding = 'ISO-8859-1')

# Example of when the dropdown year is selected a new text box is
# displayed to show the purpose filter

ALL = 'ALL'
def unique_sorted_values_plus_ALL(array):
    unique = array.unique().tolist()
    unique.sort()
    unique.insert(0, ALL)
    return unique

# variable to store the common output for both dropdowns
output = widgets.Output()


# Here are the three dropdowns:
dropdown_year = widgets.Dropdown(description='Year of Visit',
                                  options = unique_sorted_values_plus_ALL(df_london.year))

dropdown_purpose = widgets.Dropdown(description='Purpose of Visit',
                                     options = unique_sorted_values_plus_ALL(df_london.purpose))
dropdown_market = widgets.Dropdown(description='Country Market',
                                    options = unique_sorted_values_plus_ALL(df_london.market))


def common_filtering(year, purpose, market):
    output.clear_output()
    
    if (year == ALL) &amp; (purpose == ALL) &amp; (market == ALL):
        common_filter = df_london
    elif (year == ALL):
        common_filter = df_london[df_london.market == market]
    elif (year == ALL):
        lcommon_filter = df_london[df_london.purpose == purpose]
    elif (purpose == ALL):
        common_filter = df_london[df_london.year == year]
    else:
        common_filter = df_london[(df_london.year == year) &amp; 
                                  (df_london.purpose == purpose) &amp;
                                  (df_london.market == market)]
    with output:
        display(common_filter)
    
# We amend the event handlers to call the lcommon_filtering function and pass the change.new value as well as the 
# current value of the other dropdown:    
def dropdown_year_eventhandler(change):
    common_filtering(change.new, dropdown_purpose.value, dropdown_market.value)
    
def dropdown_purpose_eventhandler(change):
    common_filtering(dropdown_year.value, dropdown_market.value, change.new)

def dropdown_market_eventhandler(change):
    common_filtering(dropdown_year.value, dropdown_purpose.value, change.new)
    

# We bind the handlers to the dropdowns, and that’s it!    
dropdown_year.observe(dropdown_year_eventhandler, names='value')
dropdown_purpose.observe(dropdown_purpose_eventhandler, names='value')
dropdown_market.observe(dropdown_market_eventhandler, names='value')

display(dropdown_year)

display(dropdown_purpose)

display(dropdown_market)

display(output)
</code></pre>
<p><strong>Output</strong>
If run the above in my Jupyter Notebook here is the output I get:</p>
<p><strong>Set Year of Visit to 2004 - dataframe refreshes showing only entries for 2004</strong></p>
<pre><code>Set Year of Visit to 2004 - dataframe refreshes showing only entries for 2004
        year    quarter             market          dur_stay        mode    purpose         area    Visits (000s)   Spend (£m)  Nights (000s)   sample
6637    2004    January-March       Belgium         1-3 nights      Air     Holiday         LONDON  4.443318        1.824694    7.118778        5
6638    2004    January-March       Belgium         1-3 nights      Air     Business        LONDON  7.285553        2.124391    11.397926       13
6639    2004    January-March       Belgium         1-3 nights      Air     VFR             LONDON  0.502538        0.040518    1.053520        1
6640    2004    January-March       Belgium         1-3 nights      Air     Miscellaneous   LONDON  0.380132        0.118981    0.760264        1
6641    2004    January-March       Belgium         1-3 nights      Sea     Holiday         LONDON  9.906320        1.340740    29.719000       6
...     ...     ...                 ...             ...             ...     ...             ...     ...             ...         ...             ...         
10153   2004    October-December    Other Africa    15+ nights      Air     Holiday         LONDON  0.886168        0.429408    11.692750       2
10154   2004    October-December    Other Africa    15+ nights      Air     Business        LONDON  0.960389        2.196219    29.084010       3
10155   2004    October-December    Other Africa    15+ nights      Air     VFR             LONDON  3.969384        2.211225    221.007949      11
10156   2004    October-December    Other Africa    15+ nights      Air     Study           LONDON  1.405100        4.917840    140.509995      1
10157   2004    October-December    Other Africa    15+ nights      Air     Miscellaneous   LONDON  0.614155        0.315062    48.518200       1
</code></pre>
<p><strong>Set purpose of Visit to Business - Nothing changes</strong></p>
<pre><code>Set Year of Visit to 2004 - dataframe refreshes showing only entries for 2004
        year    quarter             market          dur_stay        mode    purpose         area    Visits (000s)   Spend (£m)  Nights (000s)   sample
6637    2004    January-March       Belgium         1-3 nights      Air     Holiday         LONDON  4.443318        1.824694    7.118778        5
6638    2004    January-March       Belgium         1-3 nights      Air     Business        LONDON  7.285553        2.124391    11.397926       13
6639    2004    January-March       Belgium         1-3 nights      Air     VFR             LONDON  0.502538        0.040518    1.053520        1
6640    2004    January-March       Belgium         1-3 nights      Air     Miscellaneous   LONDON  0.380132        0.118981    0.760264        1
6641    2004    January-March       Belgium         1-3 nights      Sea     Holiday         LONDON  9.906320        1.340740    29.719000       6
...     ...     ...                 ...             ...             ...     ...             ...     ...             ...         ...             ...         
10153   2004    October-December    Other Africa    15+ nights      Air     Holiday         LONDON  0.886168        0.429408    11.692750       2
10154   2004    October-December    Other Africa    15+ nights      Air     Business        LONDON  0.960389        2.196219    29.084010       3
10155   2004    October-December    Other Africa    15+ nights      Air     VFR             LONDON  3.969384        2.211225    221.007949      11
10156   2004    October-December    Other Africa    15+ nights      Air     Study           LONDON  1.405100        4.917840    140.509995      1
10157   2004    October-December    Other Africa    15+ nights      Air     Miscellaneous   LONDON  0.614155        0.315062    48.518200
</code></pre>
<p><strong>Set country Market to Belgium - Dataframe updates showing year 2004, market = Belgium, purpose = Business</strong>
Works as expected</p>
<pre><code>Set country Market to Belgium - Dataframe updates showing year 2004, market = Belgium, purpose = Business

        year    quarter             market          dur_stay        mode    purpose         area    Visits (000s)   Spend (£m)  Nights (000s)   sample
6638    2004    January-March       Belgium         1-3 nights      Air     Business        LONDON  7.285553        2.124391    11.397926       13
6642    2004    January-March       Belgium         1-3 nights      Sea     Business        LONDON  3.348380        0.558413    6.682670        2
6645    2004    January-March       Belgium         1-3 nights      Tunnel  Business        LONDON  8.896553        2.482150    14.327898       20
6649    2004    January-March       Belgium         4-7 nights      Air     Business        LONDON  1.873621        1.522606    6.717740        4
6652    2004    January-March       Belgium         4-7 nights      Sea     Business        LONDON  1.674190        0.386508    6.682670        1
6654    2004    January-March       Belgium         4-7 nights      Tunnel  Business        LONDON  1.161537        0.666272    5.417160        3
6657    2004    January-March       Belgium         8-14 nights     Tunnel  Business        LONDON  0.391887        0.589908    5.474880        1
7436    2004    April-June          Belgium         1-3 nights      Air     Business        LONDON  12.233637       3.012382    17.830062       13
7440    2004    April-June          Belgium         1-3 nights      Sea     Business        LONDON  2.438620        0.174643    7.422190        1
7443    2004    April-June          Belgium         1-3 nights      Tunnel  Business        LONDON  9.825394        2.489263    15.252250       21
7446    2004    April-June          Belgium         4-7 nights      Air     Business        LONDON  0.779633        0.299457    3.480100        2
7451    2004    April-June          Belgium         4-7 nights      Tunnel  Business        LONDON  0.427832        0.547138    1.736200        1
7455    2004    April-June          Belgium         8-14 nights     Air     Business        LONDON  0.553725        1.660990    4.364970        1
7458    2004    April-June          Belgium         8-14 nights     Tunnel  Business        LONDON  0.445658        0.000000    4.069230        1
7461    2004    April-June          Belgium         15+ nights      Air     Business        LONDON  1.714030        0.875407    91.202904       1
8313    2004    July-September      Belgium         1-3 nights      Air     Business        LONDON  5.428023        2.023622    9.563622        9
8317    2004    July-September      Belgium         1-3 nights      Sea     Business        LONDON  1.936040        0.038780    5.795310        1
8320    2004    July-September      Belgium         1-3 nights      Tunnel  Business        LONDON  10.915149       3.652393    16.873318       21
8326    2004    July-September      Belgium         4-7 nights      Tunnel  Business        LONDON  2.032828        1.041474    10.141750       3
9291    2004    October-December    Belgium         1-3 nights      Air     Business        LONDON  13.759479       5.657460    19.735172       20
9296    2004    October-December    Belgium         1-3 nights      Sea     Business        LONDON  2.033270        0.026998    2.033270        1
9299    2004    October-December    Belgium         1-3 nights      Tunnel  Business        LONDON  7.496895        2.858201    11.117845       17
9302    2004    October-December    Belgium         4-7 nights      Air     Business        LONDON  1.145586        1.520935    4.933070        3
9305    2004    October-December    Belgium         4-7 nights      Tunnel  Business        LONDON  0.843375        0.503309    3.373500        2
9308    2004    October-December    Belgium         8-14 nights     Air     Business        LONDON  0.321972        0.052481    3.219720        1
9309    2004    October-December    Belgium         8-14 nights     Tunnel  Business        LONDON  0.830616        0.246976    5.399000    1
</code></pre>
",548,2,<python-3.x><jupyter-notebook><ipywidgets><cascadingdropdown>,2020-11-14 23:14:36
64775387,use an image as icon in ipyvuetify,"<p>I am using ipyvuetify to code an app to be rendered with voila and I would like to use an image as icon for footer (or in the future for a button). Any idea how to do it?</p>
<p>This is the code for an icon</p>
<pre><code>v.Footer( absolute = False,
          class_=&quot;font-weight-medium&quot;,
          children= [v.Col(class_=&quot;text-center&quot;, cols=&quot;12&quot;, children=[v.Icon(children=['fingerprint']),'BMW - 2020 - alpha version 0.0. powered by Soft company PPP'])]
</code></pre>
<p>this will generate:
<a href=""https://i.stack.imgur.com/Lx7jB.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/Lx7jB.png"" alt=""enter image description here"" /></a></p>
<p>I want to use my own logo instead of the predefined fingerprint.
So how can I load an image and give a relative size to the font.</p>
<p>thanks</p>
",160,1,<python><vuetify.js><ipywidgets><voila>,2020-11-10 19:18:29
64773600,Using %matplotlib widget in jupyter lab with julia kernel,"<p>So it turns out when you want to use interactive plots (i.e. with zooming, moving around, rotating etc.) in jupyter lab with a python kernel, you need to use <code>%matplotlib widget</code>, this at least works for me. Now the question is: How could I use that feature with a julia kernel? I am a big fan of both matplotlib and julia and I do not want to compromise on them. When I type the above command with a julia kernel, I get the message</p>
<blockquote>
<p>The analogue of IPython's %matplotlib in Julia is to use the PyPlot package, which gives a Julia interface to Matplotlib including inline plots in IJulia notebooks. (The equivalent of numpy is already loaded by default in Julia.) Given PyPlot, the analogue of %matplotlib inline is using PyPlot, since PyPlot defaults to inline plots in IJulia. To enable separate GUI windows in PyPlot, analogous to %matplotlib, do using PyPlot; pygui(true). To specify a particular gui backend, analogous to %matplotlib gui, you can either do using PyPlot; pygui(:gui); using PyPlot; pygui(true) (where gui is wx, qt, tk, or gtk), or you can do ENV[&quot;MPLBACKEND&quot;]=backend; using PyPlot; pygui(true) (where backend is the name of a Matplotlib backend, like tkagg).
For more options, see the PyPlot documentation.</p>
</blockquote>
<p>This of course is all true, but it does not mention how interactivity could be achieved. PyPlot works out of the box, but the plots are non-interactive (in the above sense). Any ideas?</p>
",754,3,<matplotlib><julia><jupyter-lab><ipywidgets><ijulia-notebook>,2020-11-10 17:17:39
64702243,JupyterHub + Docker spawner,"<p>I'm trying to set up a JupyterHub with a docker - spawner. After I log in into my JupyterHub I get the following error:</p>
<pre><code>500 : Internal Server Error
Error in Authenticator.pre_spawn_start: ChunkedEncodingError ('Connection broken: IncompleteRead(0 bytes read)', IncompleteRead(0 bytes read))
You can try restarting your server from the home page.
</code></pre>
<p>My JupyterHub config looks as follows:</p>
<pre><code>from jupyterhub.auth import Authenticator

class DictionaryAuthenticator(Authenticator):

    passwords = {'max':'123'}
        
    async def authenticate(self, handler, data):
        if self.passwords.get(data['username']) == data['password']:
            return data['username']


# docker image tag in the docker registry
c.DockerSpawner.image = 'jupyterhub/singleuser:latest' 

 # listen on all interfaces
c.DockerSpawner.host_ip = &quot;0.0.0.0&quot;

c.DockerSpawner.network_name = 'jupyterhub'
c.JupyterHub.spawner_class = 'dockerspawner.DockerSpawner'
c.JupyterHub.authenticator_class = DictionaryAuthenticator
</code></pre>
<p>and this is the content of my Dockerfile:</p>
<pre><code>FROM python:3.7
RUN pip3 install \
    jupyterhub==1.0.0 \
    'notebook&gt;=5.0,&lt;=6.0'

# create a user, since we don't want to run as root
RUN useradd -m max
ENV HOME=/home/max
WORKDIR $HOME
USER max


CMD [&quot;jupyterhub-singleuser&quot;]
</code></pre>
<p>How can I fix this error?</p>
<p>Thanks for the help in advance!</p>
",740,0,<docker><jupyter-notebook><jupyterhub>,2020-11-05 17:24:24
64693529,ipywidgets and pandas dataframe,"<p>How I can get dataframe out of @interact function for next cell?
My interact function looks something like this:</p>
<pre><code>@interact(eutPlace=eutPlaces)
def selectByEut (eutPlace):
    rdsTable = tabelSisse.drop(['Id', 'Serial_number', 'User_modified'], axis='columns')
    rdsTable = rdsTable.loc[rdsTable['EUT_place'] == eutPlace]
    print(rdsTable.shape)
    return rdsTable
</code></pre>
",86,0,<python><pandas><jupyter-notebook><ipywidgets>,2020-11-05 08:23:02
64680778,how can I export this interactive plot to view in a browser without jupyter?,"<p>I have this interactive plot in python:</p>
<pre><code>import ipywidgets as widgets
import plotly.graph_objects as go 
from numpy import linspace


def leaf_plot(sense, spec):
    fig = go.Figure()

    x = linspace(0,1,101)
    x[0] += 1e-16
    x[-1] -= 1e-16

    positive =  sense*x/(sense*x + (1-spec)*(1-x)) 
                                                    #probability a person is infected, given a positive test result, 
                                                    #P(p|pr) = P(pr|p)*P(p)/P(pr)
                                                    #        = P(pr|p)*P(p)/(P(pr|p)*P(p) + P(pr|n)*P(n))
                                                    #        =   sense*P(p)/(  sense*P(p) +(1-spec)*P(n))
    negative =  1-spec*(1-x)/((1-sense)*x + spec*(1-x))

    fig.add_trace(
        go.Scatter(x=x, y  = positive, name=&quot;Positive&quot;,marker=dict( color='red'))
    )

    fig.add_trace(
        go.Scatter(x=x, y  = negative, 
                   name=&quot;Negative&quot;, 
                   mode = 'lines+markers',
                   marker=dict( color='green'))
    )
 
    fig.update_xaxes(title_text = &quot;Base Rate&quot;)
    fig.update_yaxes(title_text = &quot;Post-test Probability&quot;)
    fig.show()

sense_ = widgets.FloatSlider(
    value=0.5,
    min=0,
    max=1.0,
    step=0.01,
    description='Sensitivity:',
    disabled=False,
    continuous_update=False,
    orientation='horizontal',
    readout=True,
    readout_format='.2f',
)

spec_ = widgets.FloatSlider(
    value=0.5,
    min=0,
    max=1.0,
    step=0.01,
    description='Specificity:',
    disabled=False,
    continuous_update=False,
    orientation='horizontal',
    readout=True,
    readout_format='.2f',
)
ui = widgets.VBox([sense_, spec_])

out = widgets.interactive_output(leaf_plot, {'sense': sense_, 'spec': spec_})

display(ui, out)
</code></pre>
<p>How can I export this so that it can be viewed as a standalone web page in a browser, say as HTML, while retaining the interactivity, as e.g. in <a href=""https://gabgoh.github.io/COVID/index.html"" rel=""nofollow noreferrer"">https://gabgoh.github.io/COVID/index.html</a> ?</p>
<p>Using plotly's fig.write_html() option I get a standalone web page, but this way I lose the sliders.</p>
<p>With some modification, plotly allows at most for a single slider (the ipywidgets are not included in the plotly figure object).</p>
<p>Plus, in plotly, the said slider basically controls the visibility of pre-calculated traces (see e.g. <a href=""https://plotly.com/python/sliders/"" rel=""nofollow noreferrer"">https://plotly.com/python/sliders/</a>), which restricts the interactivity (sometimes the parameter space is huge).</p>
<p>What's the best way to go?</p>
<p>(I don't necessarily need to stick with plotly/ipywidgets)</p>
",1061,0,<python><plotly><jupyter><ipywidgets>,2020-11-04 13:12:38
64674244,How to install BinderHub using Helm v3,"<p>In the zero-to-binderhub user documentation, the command to install BinderHub based on version 0.2.0-3b53fce was</p>
<p><code>helm install jupyterhub/binderhub --version=0.2.0-3b53fce  --name=binder --namespace=binder -f secret.yaml -f config.yaml</code></p>
<p>The above code requires helm 2 to run. <strong>Question: How to change this installation command using helm 3?</strong></p>
<p>There is a post at <a href=""https://github.com/jupyterhub/binderhub/issues/1046"" rel=""nofollow noreferrer"">https://github.com/jupyterhub/binderhub/issues/1046</a> which discussed that all helm 3 compatible jupyterhub/binderhub charts have the special -n pattern preceding the digits. So run this command to get a list of helm 3 compatible charts:
<code>helm search repo jupyterhub/binderhub --devel -l | grep &quot;\\-n&quot;</code>
<a href=""https://i.stack.imgur.com/IlmnA.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/IlmnA.png"" alt=""enter image description here"" /></a></p>
<p>I finally installed version <code>0.2.0-n301.hc5e7db2</code> jupyterhub/binderhub chart using:</p>
<pre><code>helm install jupyterhub jupyterhub/binderhub \
    --version=0.2.0-n301.hc5e7db2 \
    -f binderhub/secret.yaml \
    -f binderhub/config.yaml
</code></pre>
<p>Now in this deployment, the namespace is default, which is weird.</p>
<p>fwiw, I'm using Google Kubernetes Engine (GKE) to try to deploy a BinderHub. The default helm version of my GKE is 3.2.1. Additionally, helm 2 is going to deprecate and no longer maintain very soon, that's the reason why I am seeking a way to install BinderHub using helm v3. Thank you in advance.</p>
",307,1,<google-kubernetes-engine><jupyterhub>,2020-11-04 04:28:04
64661173,Adding a submit button to JupyterHub,"<p>I would like to use JupyterHub: <a href=""https://jupyterhub.readthedocs.io/en/stable/index.html"" rel=""nofollow noreferrer"">https://jupyterhub.readthedocs.io/en/stable/index.html</a> for the purpose of teaching.</p>
<p>But for me, it would be necessary to add to the Jupyter-Notebooks something like a submit button for my students. I don't want to add this submit-button directly into a cell. I would like to add it for example close to the navigation bar of my Jupyter-Notebook.</p>
<p>Does anybody have some experience with manipulating the Jupyter-Notebooks and can provide me with some information?</p>
<p>Thanks for the help in advance.</p>
",141,0,<python><jupyter-notebook><jupyterhub>,2020-11-03 10:37:52
64643526,mattplotlib animation in jupyter with large video files,"<p>I am trying to show a video in a jupyter notebook. Now, the jupyter server is running on a remote AWS EC2 machine, which is also hosting the data. I am using <code>ssh</code> and port forwarding to create the notebook from my local machine.</p>
<p>My issue is that I need to be able to play large video files (&gt;100000 frames) and I was using the animation framework of <code>matplotlib</code> to do it. I tried <code>opencv</code> and raw <code>matplotlib</code> but I could never get it to work properly. I also tried the video widget and that also fails to load the large video file.</p>
<p>My issue is that I can never get it to display the whole video. Either it will just play a few seconds worth of video, or it will take forever to load. My suspicion is that it preloads the whole video, which would just crash everything. My usage is as follows:</p>
<pre><code>%matplotlib inline
from IPython.display import clear_output, display
from IPython.display import HTML
import cv2
from matplotlib import pyplot as plt
from matplotlib import animation
from matplotlib import rc
import time
import numpy as np
</code></pre>
<p>Use <code>opencv</code> to load the video.</p>
<pre><code>cap = cv2.VideoCapture('test.avi')
</code></pre>
<p>Now we try and load the video as animation</p>
<pre><code>total = int(cap.get(cv2.CAP_PROP_FRAME_COUNT))
print(total)  # 

ret, frame = cap.read() 
fig = plt.figure() 
ax = fig.add_subplot(111) 

im = ax.imshow(cv2.cvtColor(frame, cv2.COLOR_BGR2RGB), animated=True) 
plt.close()  # clear the initial image

def updatefig(*args): 
    ret, frame = cap.read() 
    im.set_array(cv2.cvtColor(frame, cv2.COLOR_BGR2RGB)) 
    return im 

ani = animation.FuncAnimation(fig, updatefig, interval=33, repeat=False, cache_frame_data=False) 
HTML(ani.to_html5_video())
</code></pre>
<p>The thing is this only loads about 3 seconds worth of video. I can add <code>frames=total</code> as a parameter but then it never loads. I am guessing it is loading the whole video in one go, which will not work.</p>
",71,0,<python><matplotlib><jupyter-notebook><ipywidgets>,2020-11-02 10:12:51
64642375,How to run JupyterHub/JupyterLab entirely on a prefix url behind traefik,"<p>I have access to a single subdomain, subdomain.domain.com, on which I run several services behind traefik. In order to route the requests to the right server, I am setting the traefik router rules to distinguish the PathPrefix.</p>
<p>JupyterHub is one of the services I am running, which I am trying to run in &quot;subdomain.domain.com/jupyterhub&quot;. By setting c.JupyterHub.bind_url=&quot;http://:8000/jupyterhub&quot;, I can have JuptyerHub work that way. But the servers it spawns with the dockerspawner are still running on &quot;/user/{username}&quot;, and not on &quot;/jupyterhub/user/{username}&quot;. I figure it must be a JupyterLab option I have to set, but I cannot figure out how.</p>
<p>My setup (relevant sections):</p>
<p>docker-compose.yaml:</p>
<pre><code>version: '3.5'

services:

    jupyterhub:
        build: ./jupyterhub
        expose:
          - 8000
        volumes:
          - /var/run/docker.sock:/var/run/docker.sock
          - ./jupyterhub/ssl.crt:/srv/jupyterhub/ssl.crt
          - ./jupyterhub/ssl.key:/srv/jupyterhub/ssl.key
          - /etc/hostname:/srv/jupyterhub/host_hostname:ro
        networks:
            - traefik_proxy
        labels:
            - &quot;traefik.enable=true&quot;
            - &quot;traefik.docker.network=traefik_proxy&quot;
            - &quot;traefik.http.services.jupyterhub.loadbalancer.server.port=8000&quot;
            - &quot;traefik.http.services.jupyterhub.loadbalancer.server.scheme=https&quot;
            - &quot;traefik.http.routers.jupyterhub.entrypoints=websecure&quot;
            - &quot;traefik.http.routers.jupyterhub.rule=Host(`subdomain.domain.com`) &amp;&amp; (PathPrefix(`/jupyterhub`) || PathPrefix(`/hub`) || PathPrefix(`/user`))&quot;
            - &quot;traefik.http.routers.jupyterhub.tls=true&quot;
            - &quot;traefik.http.routers.jupyterhub.middlewares=strip-jupyterhub@docker&quot;
            - &quot;traefik.http.middlewares.strip-jupyterhub.stripprefix.prefixes=/jupyterhub&quot;
</code></pre>
<p>jupyterhub/Dockerfile:</p>
<pre><code>FROM jupyterhub/jupyterhub:1.3.dev
RUN apt-get update &amp;&amp; apt-get -y install sssd gcc python3-dev
RUN pip install dockerspawner oauthenticator PyJWT netifaces
ADD jupyterhub_config.py /srv/jupyterhub
</code></pre>
<p>jupyterhub/jupyterhub_config.py:</p>
<pre><code>&lt;snip&gt;
c.DockerSpawner.image = 'jupyter/datascience-notebook:lab-2.1.1'
c.JupyterHub.bind_url = 'http://:8000/jupyterhub/'
&lt;snip&gt;
</code></pre>
<p>This setup works, but only because I have added the PathPrefix(<code>/user</code>) in the traefik rule and I am stripping '/jupyterhub/' from the URL using traefik middleware. The JupyterHub spawner redirects everything to 'subdomain.domain.com/user/{username}', and I don't know how to run it on 'subdomain.domain.com/jupyterhub/user/{username}'.</p>
",960,2,<docker><docker-compose><traefik><jupyter-lab><jupyterhub>,2020-11-02 08:49:29
64636670,widgets defined out of scope,"<p>I wrote the code below to link the creation of some widgets to the value of another widget. Trouble is I'm now unable to access the values of the widgets created in <code>return_widgets</code> as they are out of scope of the main programme. How do I access these widgets, or more specifically the values of these widgets? I've tried having the <code>on_value_change</code> function return the widgets, but can't work out how to assign them to anything given that the only place that function is called is in the <code>observe</code> statement.</p>
<pre><code>import ipywidgets as widgets
from IPython.display import display

def return_widgets(size):
    return [widgets.IntText(value=x) for x in range(size)]

out = widgets.Output()
def on_value_change(change):
    out.clear_output()
    with out:
       w = return_widgets(change['new'])
       display(*w)

size = widgets.IntText(value=3, min=1, max=5, description='size')

size.observe(on_value_change, 'value')
widgets.VBox([size, out])
</code></pre>
",51,0,<python><ipywidgets>,2020-11-01 20:31:53
64619354,How to use dask jupyterlab extensions behind nginx proxy,"<p>Im running a small scientific cluster in our lab. Jupyterhub is installed to run jupyter notebooks with python/julia/r for multiple users. we are new to dask</p>
<p>Dask and the jupyterlab extensions work fine if I run them locally on a node and acces through 127.0.0.1
However I can’t get dask to play nice with the nginx proxy we normally use to connect to jupyterhub. The status pages still point to 127.0.0.1 instead of the access node IP.
Any hints are appreciated.</p>
<p>Our setup</p>
<p>Nginx&lt;——-&gt;jupyterhub on access node
Slurm scheduler
8 compute nodes
All on same subnet</p>
",356,0,<nginx><dask><jupyterhub>,2020-10-31 07:16:54
64610985,Problem using jupyterhub-tmpauthenticator,"<p>Getting below error when I try using this authenticator on docker</p>
<pre><code>500 : Internal Server Error

Error in Authenticator.pre_spawn_start: FileNotFoundError [Errno 2] No such file or directory: 'systemctl'

You can try restarting your server from the home page.
</code></pre>
<p>Dockerfile</p>
<pre><code>FROM jupyter/minimal-notebook:latest
RUN pip install notebook jupyterhub-tmpauthenticator jupyterhub-systemdspawner
COPY jupyterhub_config.py  /home/jovyan/jupyterhub_config.py
</code></pre>
<p>jupyterhub_config.py</p>
<pre class=""lang-py prettyprint-override""><code>import tmpauthenticator
import systemdspawner
c=get_config()
c.JupyterHub.authenticator_class=tmpauthenticator.TmpAuthenticator
c.JupyterHub.spawner_class=systemdspawner.SystemdSpawner
c.SystemdSpawner.dynamic_users=True
</code></pre>
",153,1,<jupyter-notebook><dockerfile><jupyterhub>,2020-10-30 15:09:06
64599781,Widget callback does not fire while another notebook cell is executing,"<p>I have a cell that produces a button that invokes a function when clicked:</p>
<pre class=""lang-py prettyprint-override""><code>stop_button = widgets.Button(description='Stop Motor')
stop_button.on_click(stop_motor)
</code></pre>
<p>When another cell is executing, however, the button's callback is not fired (even though the button appears to respond to the click).</p>
<p>Can I make the button always work, even when another cell is executing?</p>
",41,0,<jupyter-notebook><ipywidgets>,2020-10-29 21:58:13
64595380,create list of widgets of n length where n is set by another widget,"<p>I want to have the output of the size widget determine the number of widgets created in the output of the <code>return_widgets</code> function. The code below works to a point, but does not update when the value of the <code>intslider</code> changes.</p>
<pre><code>import ipywidgets as widgets
def return_widgets(size):
    return [widgets.IntText(value=x) for x in range(size)]

size = widgets.IntSlider(value=3, min=0, max=5, step=1, description='size:')
w = return_widgets(size.value)
widgets.VBox([size, *w])
</code></pre>
",108,0,<python-3.x><ipywidgets>,2020-10-29 16:32:21
64589748,Anaconda install on windows Server 2016 standard,"<p>I'm looking to install miniconda or anaconda in a Windows server machine , version 2016 standard. The objective is to automate python scripts using the task scheduler in the VM  and if possible also being able to remote into a jupyter notebook initiated on server.</p>
<p>I'm unable to test it prior to install (NOQA) and was not able to find this on the documentation. I'm looking for best practices.</p>
<p>Should a specific version of anaconda be used for this effect or an install of jupyter hub on WSfL be more appropriate?</p>
<p>So far this is the best i could find on SO but example is shown on a Linux machine.
<a href=""https://stackoverflow.com/questions/54226763/installing-anaconda-on-server"">Installing Anaconda on Server</a></p>
",1646,0,<anaconda><conda><miniconda><jupyterhub>,2020-10-29 10:58:46
64589345,How to change the kernel of a jupyter notebook from the command line,"<p>I know that one can switch the kernel of a Jupyter notebook from within the notebook itself, <a href=""https://doc.cocalc.com/howto/jupyter-kernel-selection.html#jupyter-classic"" rel=""nofollow noreferrer"">for example</a>, by going to the <code>Kernel -&gt; Change kernel</code> menu.</p>
<p><em>I was just wondering if it's possible to do this programmatically with a shell script (or from command line).</em></p>
<p>I have many Jupyter notebooks that were in python kernel and need to be changed to the R kernel. Doing the conversion manually for all of them would be tedious. I searched around, but only found answers about how to change kernel via the Jupyter UI as linked above.</p>
<p>(This is with Ubuntu 20.04, and classic JupyterHub)</p>
",1277,2,<jupyter-notebook><jupyter-irkernel>,2020-10-29 10:33:54
64586968,Setting environment variables in jupyter hub,"<p>I followed approach in this <a href=""https://stackoverflow.com/questions/37890898/how-to-set-env-variable-in-jupyter-notebook#:%7E:text=To%20set%20an%20env%20variable,print%20out%20current%20environmental%20variables."">thread</a>. I can easily set env variable in jupyter hub using the <code>%env VAR = 5</code>. However, when I try to print out this variable in the terminal I get only a blank line, as if the variable did not exist at all. Is it somehow possible to be able to print in terminal the env var defined in the notebook?</p>
",1237,1,<jupyter-notebook><environment-variables><jupyter><jupyter-lab><jupyterhub>,2020-10-29 07:52:45
64586821,Adding new pages in Jupyterhub,"<p>I have deployed JupyterHub and I am currently customizing the JupyterHub interface and was wondering how I could add pages to the JupyterHub website. I have tried using &quot;Command: sudo nano test.html&quot; to create another page but unfortunately, the page shows &lt;404 error&gt;. I have tried using &quot;Command: locate test.html&quot; however, could not locate the page even though I have saved it.</p>
",64,0,<jupyterhub>,2020-10-29 07:39:27
64561010,sending email via Oulook with ipyvuetify,"<p>I am developing a little app where I would like to include a button that will open outlook email editor and presented the user with an empty content but a particular subject ready to be filled in by the user and sent back to a particular email.</p>
<p>Does anyone know how to do that?</p>
<p>What I was reading in different solutions does not work:</p>
<p>this for instance opens a url that fails</p>
<pre><code>import ipyvuetify as v
v_btn = v.Btn(class_   = 'mx-2 light-blue darken-1', 
              href     = 'href=&quot;mailto:vinoth@email.com?subject=title&amp;body=The message&quot;',
                        children = ['send email?'])
v_btn
</code></pre>
<p>Other option might be to create a ipyvuetify template:</p>
<pre><code>class sendemail(v.VuetifyTemplate):

    subject = Unicode('').tag(sync=True)
    label = Unicode('email').tag(sync=True)

    template = Unicode('''&lt;v-btn
            color=&quot;primary&quot;
            class=&quot;ma-1&quot;
            @click=&quot;sendemail(subject)&quot;
        &gt;

            {{ theemail }}

        &lt;/v-btn&gt;
    
        &lt;script&gt;
          export default {
            methods: {
              sendemail (subject) {
                var email = &quot;whatever@company.org&quot;;
                document.location = &quot;mailto:&quot; + email +&quot;?subject=&quot; + subject + &quot;&amp;body=the body&quot;;
            },
            },
          }
        &lt;/script&gt;''').tag(sync=True)
    
emailitBtn = clipboardBtn(subject='This is the subject of the email', label='send email')
emailitBtn
</code></pre>
<p>But this solution does not work neither.
any ideas?</p>
",58,1,<python><button><vuetify.js><mailto><ipywidgets>,2020-10-27 18:44:28
64554890,Unable to use LDAP Authentication with JupyterHub: Broken Pipe error,"<p>I set up and LDAP Server using Docker (<a href=""https://github.com/osixia/docker-openldap"" rel=""nofollow noreferrer"">https://github.com/osixia/docker-openldap</a>) as well as installed Jupyterhub on the same machine. Unfortunately, the connection between LDAP-Server and JupyterHub is not working. These are the lines corresponding to the LDAP Authentication in <code>jupyterhub_config.py</code>:</p>
<pre><code>c.JupyterHub.authenticator_class = 'ldapauthenticator.LDAPAuthenticator'
c.LDAPAuthenticator.server_address = '192.168.48.2' # Docker Container IP of openldap
c.LDAPAuthenticator.lookup_dn = True
c.LDAPAuthenticator.use_ssl = False
# c.LDAPAuthenticator.bind_dn_template = [&quot;cn={username},dc=example,dc=com&quot;]
</code></pre>
<p>(Switching between the last two lines makes no difference.)</p>
<p>When I try to login at JupyterHub login page the follow error pops up:</p>
<pre><code>ldap3.core.exceptions.LDAPSocketSendError: socket sending error[Errno 32] Broken pipe
</code></pre>
<p>I can &quot;access&quot; the LDAP Database from command-line using ldapsearch:</p>
<pre><code>ldapsearch -x -H ldap://192.168.48.2 -b dc=example,dc=com -D &quot;cn=admin,dc=example,dc=com&quot; -w password
</code></pre>
<p>Disabling Firewall also makes no difference (was thinking about some network problems between Docker(openldap) and jupyterhub).</p>
<pre><code>jupyterhub==1.1.0
jupyterhub-ldapauthenticator==1.3.2
</code></pre>
<p>I was able to reproduce this problem with <code>ldap3</code> outside of JupyterHub:</p>
<pre><code># Get IP of dockerized OpenLDAP
import docker
client = docker.DockerClient()
container = client.containers.get(&quot;openldap&quot;)
ip_add = container.attrs['NetworkSettings']['Networks']['ldap_default']['IPAddress']

# Check Connection
from ldap3 import Server, Connection, ALL
server = Server(ip_add,use_ssl=False,port=389)
conn = Connection(server)
print(conn.bind(read_server_info=True))

&gt; True
</code></pre>
<p>When I now replace <code>ssl=False</code> with <code>ssl=True</code> it returns the same error as with JupyterHub:</p>
<pre><code># Check Connection
from ldap3 import Server, Connection, ALL
server = Server(ip_add,use_ssl=True,port=636
conn = Connection(server)
print(conn.bind(read_server_info=True))

Traceback (most recent call last):
  File &quot;test_connection.py&quot;, line 11, in &lt;module&gt;
    print(conn.bind(read_server_info=True))
  File &quot;/opt/anaconda3/lib/python3.8/site-packages/ldap3/core/connection.py&quot;, line 590, in bind
    response = self.post_send_single_response(self.send('bindRequest', request, controls))
  File &quot;/opt/anaconda3/lib/python3.8/site-packages/ldap3/strategy/base.py&quot;, line 330, in send
    self.sending(ldap_message)
  File &quot;/opt/anaconda3/lib/python3.8/site-packages/ldap3/strategy/base.py&quot;, line 882, in sending
    raise communication_exception_factory(LDAPSocketSendError, type(e)(str(e)))(self.connection.last_error)
ldap3.core.exceptions.LDAPSocketSendError: socket sending error[Errno 32] Broken pipe
</code></pre>
<p>It seems that this has something to do with SSL/TLS/StartTLS. If I disable <code>ssl</code> in the <code>jupyterhub_config.py</code> the Authenticator will (try) to upgrade with StartTLS.</p>
<blockquote>
<p>LDAPAuthenticator.use_ssl</p>
<p>Boolean to specify whether to use SSL encryption when contacting the
LDAP server. If it is left to False (the default) LDAPAuthenticator
will try to upgrade connection with StartTLS. Set this to be True to
start SSL connection.
(URL: <a href=""https://github.com/jupyterhub/ldapauthenticator"" rel=""nofollow noreferrer"">https://github.com/jupyterhub/ldapauthenticator</a> :)</p>
</blockquote>
",1606,0,<ldap><jupyterhub>,2020-10-27 12:54:47
64548785,How to open file from JupyterHub workspace when using %%javascript magic?,"<p>I use JupyterHub in combination with JupyterLab.
I have a user &quot;test&quot; and a file &quot;data.csv&quot; in the workspace of that user.</p>
<p>I would like to use %%javascript magic and load that file with d3.js.</p>
<p>However, the url &quot;./data.csv&quot; does not work.</p>
<p>=&gt;What is the right relative url to load files from the JupyterHub workspace?</p>
<pre><code>%%html 
&lt;div id = &quot;root&quot;/&gt;
</code></pre>
<hr />
<pre><code>%%javascript
//define plot method
window.plot = (d3)=&gt;{
    d3.text('./data.csv', (error, raw) =&gt; {
        alert('loaded file');
    });
}
</code></pre>
<hr />
<pre><code>%%javascript
//execute plot method
var d3Import = document.createElement('script')
d3Import.src = 'https://d3js.org/d3.v6.min.js';
d3Import.addEventListener('load', ()=&gt;plot(d3));
document.body.appendChild(d3Import);
</code></pre>
<p>Related:</p>
<p><a href=""https://jupyterlab.readthedocs.io/en/stable/user/urls.html"" rel=""nofollow noreferrer"">https://jupyterlab.readthedocs.io/en/stable/user/urls.html</a></p>
",138,0,<javascript><url><jupyter-lab><jupyterhub>,2020-10-27 05:33:40
64533454,matplotlib interactive widget layout issue,"<p>In a JupyterLab notebook, when using <code>%matplotlib widget</code> with ipywidgets' Select() or SelectMultiple() results in a layout with large space between the chart and widgets. Is there anyway to remove that space, or remove the toolbar?</p>
<p><a href=""https://i.stack.imgur.com/echsM.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/echsM.png"" alt=""enter image description here"" /></a></p>
",45,0,<matplotlib><seaborn><jupyter-lab><ipywidgets>,2020-10-26 08:10:45
64502799,JupyterHub generic.oauthenticator: 500 Internal Server Error / 400 OAuth state missing from cookies,"<p>I'm creating a <strong>Dashboard</strong> service where multiple users can access multiple notebook servers via <code>JupyterHub.</code></p>
<p>Users log in using a separate <strong>Authentication</strong> service, and once in <strong>Dashboard</strong>, <code>JupyterHub</code> gets rendered inside an <code>&lt;iframe&gt;</code>.</p>
<p>I'm hosting <code>JupyterHub</code> in a <code>Kubernetes</code> cluster on GCP. These are the relevant portions of my <code>config.yaml</code>:</p>
<pre><code>...
 # Changes the Jupyter's notebook headers to allow it to be displayed
 # inside of an iframe object.
 c.JupyterHub.tornado_settings = {
        &quot;headers&quot;: {
          &quot;Content-Security-Policy&quot;: &quot;default-src *  data: blob: filesystem: about: ws: wss: 'unsafe-inline' 'unsafe-eval' 'unsafe-dynamic'; script-src * data: blob: 'unsafe-inline' 'unsafe-eval'; connect-src * data: blob: 'unsafe-inline'; img-src * data: blob: 'unsafe-inline'; frame-src * data: blob: ; style-src * data: blob: 'unsafe-inline'; font-src * data: blob: 'unsafe-inline';&quot;,
        }
      }
...
auth:
  type: custom
  custom:
    className: oauthenticator.generic.GenericOAuthenticator
    config:
      login_service: &quot;OpenID&quot; 
      client_id: &quot;&lt;client_id&gt;&quot;
      client_secret: &quot;&lt;client_secret&gt;&quot;
</code></pre>
<p>However, when I try to sign in just via my <code>JupyterHub</code> endpoint I get:</p>
<p><strong>500 Internal Server Error</strong></p>
<p><strong>logs:</strong></p>
<pre><code>IwN2YyNzVhNTk0MzM0ZTM5YmIyZTdmZDQzY2U2ZDI3YyIsICJuZXh0X3VybCI6IG51bGx9&amp;session_state=641fb9aca6490d2c3332871d72ee0639b3ed46b8a9f02c363ee8f7bf46f1c989.74e37d534296
cad45421019d1d442153', version='HTTP/1.1', remote_ip='&lt;&gt;')

    Traceback (most recent call last):
      File &quot;/usr/local/lib/python3.6/dist-packages/tornado/web.py&quot;, line 1703, in _execute
        result = await result
      File &quot;/usr/local/lib/python3.6/dist-packages/oauthenticator/oauth2.py&quot;, line 213, in get
        user = await self.login_user()
      File &quot;/usr/local/lib/python3.6/dist-packages/jupyterhub/handlers/base.py&quot;, line 699, in login_user
        authenticated = await self.authenticate(data)
      File &quot;/usr/local/lib/python3.6/dist-packages/jupyterhub/auth.py&quot;, line 383, in get_authenticated_user
        authenticated = await maybe_future(self.authenticate(handler, data))
      File &quot;/usr/local/lib/python3.6/dist-packages/oauthenticator/generic.py&quot;, line 136, in authenticate
        resp_json = json.loads(resp.body.decode('utf8', 'replace'))
      File &quot;/usr/lib/python3.6/json/__init__.py&quot;, line 354, in loads
        return _default_decoder.decode(s)
      File &quot;/usr/lib/python3.6/json/decoder.py&quot;, line 339, in decode
        obj, end = self.raw_decode(s, idx=_w(s, 0).end())
      File &quot;/usr/lib/python3.6/json/decoder.py&quot;, line 357, in raw_decode
        raise JSONDecodeError(&quot;Expecting value&quot;, s, err.value) from None
    json.decoder.JSONDecodeError: Expecting value: line 5 column 1 (char 4)
</code></pre>
<p>I know it actually does redirect to the <strong>Authentication Server</strong> and the callback is correct. Even still when I attempt to access via <strong>Dashboard</strong>, within the <code>&lt;iframe&gt;</code> I get:</p>
<p><strong>400 OAuth state missing from cookies</strong></p>
<p><strong>logs:</strong></p>
<pre><code>400 GET /hub/oauth_callback?code=d37de16a855a49dda94fb65c2c2c8ffa&amp;state=eyJzdGF0ZV9pZCI6ICIwN2YyNzVhNTk0MzM0ZTM5Ym
IyZTdmZDQzY2U2ZDI3YyIsICJuZXh0X3VybCI6IG51bGx9&amp;session_state=641fb9aca6490d2c3332871d72ee0639b3ed46b8a9f02c363ee8f7bf46f1c989.74e37d534296cad45421019d1d442153

OAuth state missing from cookies
</code></pre>
<p>For context: I previously used the Github OAuthenticator class and registered an OAuth app within Github and got <code>JupyterHub</code> to work fine. However, Github does not allow their apps to be used within an <code>&lt;iframe&gt;</code> so I had to go the generic route.</p>
<p>Point is, the setup was very similar and at least had <code>JupyterHub</code> working outside of <strong>Dashboard</strong>, so I'm really stumped on what else I could be missing. Any help is appreciated.</p>
",457,1,<kubernetes><kubernetes-helm><jupyterhub>,2020-10-23 15:18:55
64496692,Cant connect jupyterhub to keycloak and getting ERR_TOO_MANY_REDIRECTS,"<p>I'm trying to set up jupyterhub on vagrant, but after I connected (I think) the authentication to keycloak, I got the ERR_TOO_MANY_REDIRECTS error in my browser, after clicking the oauth2 button.
Is it problem with my jupyterhub_config.py or wrong oauth_callback_url?</p>
<p>My keycloak init:</p>
<pre><code>cd $KEYCLOAK_PATH/bin &amp;&amp; sudo bash add-user-keycloak.sh -u admin -p admin
cd $KEYCLOAK_PATH/bin &amp;&amp; sudo nohup ./standalone.sh -Djboss.bind.address.management=0.0.0.0 -Djboss.socket.binding.port-offset=100 -Djboss.bind.address=0.0.0.0 &gt; $KEYCLOAK_LOGS/keycloak.log 2&gt;&amp;1 &amp;
</code></pre>
<p>My jupyterhub_config.py:</p>
<pre><code>c.Authenticator.admin_users = {'vagrant'}
from oauthenticator.generic import GenericOAuthenticator
c.JupyterHub.authenticator_class = GenericOAuthenticator
c.GenericOAuthenticator.oauth_callback_url = 'http://0.0.0.0:8180/auth/realms/testrealm/protocol/openid-connect/auth'
c.GenericOAuthenticator.client_id = 'oauth-secret'
c.GenericOAuthenticator.client_secret = ''
c.GenericOAuthenticator.token_url = 'http://0.0.0.0:8180/auth/realms/testrealm/protocol/openid-connect/token'
c.GenericOAuthenticator.userdata_url = 'http://0.0.0.0:8180/auth/realms/testrealm/protocol/openid-connect/userinfo'
</code></pre>
<p>Forwarded ports from Vagrantfile:</p>
<pre><code>config.vm.network &quot;forwarded_port&quot;, guest: 8000, host: 8000
config.vm.network &quot;forwarded_port&quot;, guest: 8001, host: 8001
config.vm.network &quot;forwarded_port&quot;, guest: 8081, host: 8081
</code></pre>
<p>Some of the redirects:</p>
<pre><code>[I 2020-10-23 08:25:51.287 JupyterHub oauth2:103] OAuth redirect: 'http://0.0.0.0:8180/auth/realms/testrealm/protocol/openid-connect/auth'
[I 2020-10-23 08:25:51.290 JupyterHub log:174] 302 GET /hub/oauth_login?response_type=code&amp;redirect_uri=http%3A%2F%2F0.0.0.0%3A8180%2Fauth%2Frealms%2Ftestrealm%2Fprotocol%2Fopenid-connect%2Fauth&amp;client_id=oauth-secret&amp;state=[secret] -&gt; ?response_type=code&amp;redirect_uri=http%3A%2F%2F0.0.0.0%3A8180%2Fauth%2Frealms%2Ftestrealm%2Fprotocol%2Fopenid-connect%2Fauth&amp;client_id=oauth-secret&amp;state=[secret] (@10.0.2.2) 3.66ms
[I 2020-10-23 08:25:51.307 JupyterHub oauth2:103] OAuth redirect: 'http://0.0.0.0:8180/auth/realms/testrealm/protocol/openid-connect/auth'
[I 2020-10-23 08:25:51.311 JupyterHub log:174] 302 GET /hub/oauth_login?response_type=code&amp;redirect_uri=http%3A%2F%2F0.0.0.0%3A8180%2Fauth%2Frealms%2Ftestrealm%2Fprotocol%2Fopenid-connect%2Fauth&amp;client_id=oauth-secret&amp;state=[secret] -&gt; ?response_type=code&amp;redirect_uri=http%3A%2F%2F0.0.0.0%3A8180%2Fauth%2Frealms%2Ftestrealm%2Fprotocol%2Fopenid-connect%2Fauth&amp;client_id=oauth-secret&amp;state=[secret] (@10.0.2.2) 4.66ms
[I 2020-10-23 08:25:51.326 JupyterHub oauth2:103] OAuth redirect: 'http://0.0.0.0:8180/auth/realms/testrealm/protocol/openid-connect/auth'
[I 2020-10-23 08:25:51.329 JupyterHub log:174] 302 GET /hub/oauth_login?response_type=code&amp;redirect_uri=http%3A%2F%2F0.0.0.0%3A8180%2Fauth%2Frealms%2Ftestrealm%2Fprotocol%2Fopenid-connect%2Fauth&amp;client_id=oauth-secret&amp;state=[secret] -&gt; ?response_type=code&amp;redirect_uri=http%3A%2F%2F0.0.0.0%3A8180%2Fauth%2Frealms%2Ftestrealm%2Fprotocol%2Fopenid-connect%2Fauth&amp;client_id=oauth-secret&amp;state=[secret] (@10.0.2.2) 4.80ms
</code></pre>
",503,1,<python><oauth-2.0><vagrant><keycloak><jupyterhub>,2020-10-23 08:37:39
64492140,Jupyter Notebook not rendering ipywidgets,"<p>Instead of rendering the actual widgets, it's just rendering text labels. See screenshot below.</p>
<pre><code>import ipywidgets as widgets
from IPython.display import display

label = widgets.Label(value='Hello!')

display(label)
&gt;&gt;&gt; Label(value='Hello!')
</code></pre>
<p><a href=""https://i.stack.imgur.com/6NyXB.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/6NyXB.png"" alt=""enter image description here"" /></a></p>
<h1>Edit</h1>
<p>The above works for me on my local computer, but not on a server. Both are running Python 3.6, <code>jupyter-core==4.6.3</code></p>
<h1>Edit 2</h1>
<p>In response to the question by @adhg, here's the output of <code>widgets.InsSlider()</code> (in his question, (s)he had a typo <code>Ins</code> instead of <code>Int</code>)</p>
<p><a href=""https://i.stack.imgur.com/GG3l2.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/GG3l2.png"" alt=""enter image description here"" /></a></p>
",678,0,<python><jupyter-notebook><ipywidgets>,2020-10-23 00:02:55
64485967,How to init content of notebooks / working directory in Jupyterhub/Jupyterlab?,"<p>If I create a new user in JupyterHub I want that the working directory of the corresponding JupyterLab instance is initialized with some getting started examples:</p>
<p><a href=""https://i.stack.imgur.com/mTqpQ.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/mTqpQ.png"" alt=""enter image description here"" /></a></p>
<p>I already installed the git extension for Jupyterlab. Is there a way to automatically clone a git repository for new users?</p>
<p>Here is the doc on Spawners:
<a href=""https://jupyterhub.readthedocs.io/en/stable/reference/spawners.html"" rel=""nofollow noreferrer"">https://jupyterhub.readthedocs.io/en/stable/reference/spawners.html</a></p>
<p>I could find a hint on workspace initialization.</p>
",578,0,<jupyter-notebook><jupyter-lab><jupyterhub>,2020-10-22 15:52:56
64485711,Use image from private repo in Jupyterhub,"<p>I'm trying to insert my own jupyter image into jupyterhub. With helm I have set up jupyterhub to run locally with minikube with the default image:</p>
<pre class=""lang-sh prettyprint-override""><code>RELEASE=jhub
NAMESPACE=jhub

helm upgrade --cleanup-on-fail \
  --install $RELEASE jupyterhub/jupyterhub \
  --namespace $NAMESPACE \
  --create-namespace \
  --version=0.9.0 \
  --values config.yaml
</code></pre>
<p>This works.</p>
<p>Then I try to change the image by modifying the config.yaml:</p>
<pre class=""lang-yaml prettyprint-override""><code>singleuser:
    image:
        name: myrepo.azurecr.io/myrepo/myimage
        tag: 1.0
    imagePullSecret:
        enabled: true
        name: mysecret
</code></pre>
<p>This should point out my image on my private repository. <code>mysecret</code> is a secret created with <code>kubectl create secret docker-registry mysecret ...</code> However, when running above <code>helm upgrade</code> command I get an error that seem to be caused by the jupyterhub helm chart not being able to handle the named <code>imagePullSecret</code> properly:</p>
<pre class=""lang-sh prettyprint-override""><code>Error: UPGRADE FAILED: failed to create resource: Secret &quot;singleuser-image-credentials&quot; is invalid: data[.dockerconfigjson]: Invalid value: &quot;&lt;secret contents redacted&gt;&quot;: invalid character ',' looking for beginning of value
</code></pre>
<p>If I add <code>--dry-run --debug</code> to my <code>helm upgrade</code> command I get a hint of the problem:</p>
<pre class=""lang-yaml prettyprint-override""><code>kind: Secret
apiVersion: v1
metadata:
  name: singleuser-image-credentials
  labels:
    component: singleuser-image-credentials
    app: jupyterhub
    release: jhub
    chart: jupyterhub-0.9.0
    heritage: Helm
type: kubernetes.io/dockerconfigjson
data:
  .dockerconfigjson: ewogICJhdXRocyI6IHsKICAgICJodHRwczovL2luZGV4LmRvY2tlci5pby92MS8iOiB7CiAgICAgICJ1c2VybmFtZSI6ICwKICAgICAgInBhc3N3b3JkIjogLAogICAgICAiYXV0aCI6ICJQRzVwYkQ0NlBHNXBiRDQ9IgogICAgfQogIH0KfQ==
</code></pre>
<p>The dockerconfigjson secret above doesn't actually contain the secret:</p>
<pre class=""lang-sh prettyprint-override""><code>$ echo ewogICJhdXRocyI6IHsKICAgICJodHRwczovL2luZGV4LmRvY2tlci5pby92MS8iOiB7CiAgICAgICJ1c2VybmFtZSI6ICwKICAgICAgInBhc3N3b3JkIjogLAogICAgICAiYXV0aCI6ICJQRzVwYkQ0NlBHNXBiRDQ9IgogICAgfQogIH0KfQ== | base64 --decode
{
  &quot;auths&quot;: {
    &quot;https://index.docker.io/v1/&quot;: {
      &quot;username&quot;: ,
      &quot;password&quot;: ,
      &quot;auth&quot;: &quot;PG5pbD46PG5pbD4=&quot;
    }
  }
}
$ echo PG5pbD46PG5pbD4= | base64 --decode
&lt;nil&gt;:&lt;nil&gt;
</code></pre>
<h1>Question</h1>
<p>This kind of looks like a bug. But there should be some way to insert the credentials into jupyterhub 0.9.0 using a secret?</p>
<h1>Workaround:</h1>
<p>I can insert the username and password directly with <code>helm upgrade --set singleuser.imagePullSecret.password=&lt;my password here&gt; ...</code>. Then it works.</p>
",725,1,<kubernetes><kubernetes-helm><jupyterhub>,2020-10-22 15:38:19
64452953,Can docker container be run inside other docker container?,"<p>I'm using jupyterhub with docker spawner, and what the second does is, when userenters jupyterhub, it runs docker container for him. I'd like to contenerize jupyterhub now, and use something like this: <a href=""https://hub.docker.com/r/jupyterhub/jupyterhub/"" rel=""nofollow noreferrer"">https://hub.docker.com/r/jupyterhub/jupyterhub/</a> but my qustion is (I'm new to this) if jupyterhub runs inside container and it spawns user containers, do this containers run inside the first one, or on my computer separately from it?</p>
",147,0,<docker><jupyterhub>,2020-10-20 20:35:24
64439817,Dask Hub/JupyterHub - Cannot start Python Kernel,"<p>I deployed Dask Hub (Dask Gateway + Jupyterhub) on Google Kubernetes Engine using helm. I am experiencing trouble fetching the Python Kernel when I start up my jupyter notebook instance. This error occurs when I am on my company's VPN, but no error occurs when I'm not on my company's VPN. I'm going to guess that this is firewall related, but I don't know enough about the internal of the Jupyterhub kernel to understand why it's being blocked. Could someone please shed some light on this?</p>
<p><a href=""https://i.stack.imgur.com/9F9Pn.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/9F9Pn.png"" alt=""enter image description here"" /></a></p>
<p>I can't see anything wrong from inspecting the logs of the jupyter pod:</p>
<p><a href=""https://i.stack.imgur.com/qGlxL.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/qGlxL.png"" alt=""enter image description here"" /></a></p>
<p>From the Browser's Developer Console, here is the error:</p>
<p><a href=""https://i.stack.imgur.com/VnInf.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/VnInf.png"" alt=""enter image description here"" /></a></p>
<p><strong>Update:</strong></p>
<p>I added the following to the Jupyterhub config:</p>
<pre><code>jupyterhub:
  hub:
    extraConfig: |
        c.JupyterHub.hub_connect_ip = '0.0.0.0'
        c.JupyterHub.hub_bind_url = 'http://127.0.0.1:8000'
  singleuser:
    extraEnv:
      DASK_GATEWAY__CLUSTER__OPTIONS__IMAGE: '{JUPYTER_IMAGE_SPEC}'
</code></pre>
",205,0,<google-cloud-platform><dask><jupyterhub><dask-gateway>,2020-10-20 06:46:21
64438716,Trying to follow this interactive widget tutorial,"<p>I'm trying to follow this interactive widget tutorial:<br />
<a href=""https://medium.com/analytics-vidhya/python-data-projects-data-analysis-ui-reinforced-by-ipywidgets-d680493464b8"" rel=""nofollow noreferrer"">Python-Data Projects — Data Analysis UI Reinforced by Ipywidgets</a>,<br />
but every time I get a <code>No CSV loaded</code> error. This happens when I try to upload the csv and click on <code>Preview</code>.</p>
<pre><code>import pandas as pd
import sys
from io import StringIO
import numpy as np
import matplotlib.pyplot as plt
import ipywidgets as widgets
%matplotlib inline

tab = widgets.Tab()    
out = widgets.Output(layout={'border': '1px solid black'})
up = widgets.FileUpload(accept=&quot;&quot;, multiple=False)
delim = widgets.RadioButtons(
    options=[';', ',', ' '],
    description='Separator: ',
    disabled=False)
eraser = widgets.SelectMultiple(
    options=['tab','&quot;'],
    value=['tab'],
    #rows=10,
    description='Eraser: ',
    disabled=False)
rows = widgets.IntSlider(
    value=0,
    step=1,
    description='# of lines:',
    disabled=False,
    continuous_update=False,
    orientation='horizontal',
    readout=True,
    readout_format='d')
button_upload = widgets.Button(
    description='Upload',
    disabled=False,
    button_style='warning',
    tooltip='Click to Upload',
    icon='check')
button_preview = widgets.Button(
    description='Preview',
    disabled=False,
    button_style='info',
    tooltip='Click to Preview',
    icon='search')
button_plot = widgets.Button(
    description='Plot',
    disabled=False,
    button_style='danger',
    tooltip='Click to Plot',
    icon='pencil')
graph_type = widgets.Dropdown(
    options=['Bar Chart', 'Line Chart'],
    value='Bar Chart',
    description='Chart Type:',
    disabled=False)
x_axis = widgets.Dropdown(
    options=[''],
    value='',
    description='X-Axis:',
    disabled=False)
y_axis = widgets.Dropdown(
    options=[''],
    value='',
    description='Y-Axis:',
    disabled=False)
color_picker = widgets.ColorPicker(
    concise=False,
    description='Color Picker: ',
    value='lightblue',
    disabled=False)
toggle = widgets.ToggleButtons(
    options=['Preview  ', 'Info  ', 'Stats  '],
    description='Options',
    disabled=False,
    button_style='warning',
    icons=['search', 'info', 'tachometer'])
accordion = widgets.Accordion(children=[
    up, 
    widgets.VBox([delim, eraser]), 
    rows])
accordion.set_title(0, 'File Selection')
accordion.set_title(1, 'Delimiter')
accordion.set_title(2, 'Skip Rows')
accordion_box = widgets.VBox([
    accordion, 
    widgets.HBox([button_preview, button_upload]),
    out
])
children = [
    accordion_box, 
    widgets.VBox([toggle, out]),
    widgets.VBox([
        widgets.HBox([graph_type, color_picker]),
        widgets.HBox([x_axis, y_axis]), 
        button_plot,
        out
])]
tab.children = children
tab.set_title(0, &quot;Upload&quot;)
tab.set_title(1, &quot;Describer&quot;)
tab.set_title(2, &quot;Plotter&quot;)
display(tab)
def content_parser():
    if up.value == {}:
        with out:
            print('No CSV loaded')    
    else:
        typ, content = &quot;&quot;, &quot;&quot;
        up_value = up.value
        for i in up_value.keys():
            typ = up_value[i][&quot;metadata&quot;][&quot;type&quot;]
            
        if typ == &quot;text/csv&quot;:
            content = up_value[i][&quot;content&quot;]
            content_str = str(content, 'utf-8')
    
            if eraser.value != {}: 
                for val in eraser.value:
                    if val == &quot;tab&quot;:
                        content_str = content_str.replace(&quot;\t&quot;,&quot;&quot;)
                    else:
                        content_str = content_str.replace(val,&quot;&quot;)
            if content_str != &quot;&quot;:
                str_io = StringIO(content_str) 
                return str_io
def df_converter():
    content = content_parser()
    if content is not None:
        df = pd.read_csv(content, sep=delim.value, index_col=False, skiprows=rows.value)    
        return df
    else:
        return None
def preview():
    df = df_converter()
    with out:
        out.clear_output()
        print('\n -----Now this is how your DF looks like:----- \n')
        if df is not None:
            print(df.head(10))
        else:
            print('Configuration is wrong/missing...')
def upload():
    df = df_converter()
    with out:
        out.clear_output()
        print('\n --------Your uploaded DF looks like:-------- \n')
        if df is not None:
            print(df)
            x_axis.options = df.columns
            y_axis.options = df.columns
        else:
            print('Configuration is wrong/missing...')
def desc():
    info_level = toggle.value
    if info_level != {}:
        df = df_converter()
        with out:
            out.clear_output()
            print('\n ------Your {} looks like:------ \n'.format(
                info_level))
            if df is not None:
                if info_level == 'Info  ':
                    print(df.info(verbose=True))
                elif info_level == 'Stats  ':
                    print(df.describe())
                elif info_level == 'Preview  ':
                    print(df.head(5))
                else:
                    print('Configuration is wrong/missing...')
    
    
def plot():
    graph = graph_type.value
    if graph != {}:
        df = df_converter()
        with out:
            out.clear_output()
            print('\n ------Your {} looks like:------ \n'.format(
                graph))
            if (df is not None):
                df = df.head(5)
                height = df[y_axis.value]
                bars = df[x_axis.value]
                y_pos = np.arange(len(height))
                plt.figure(figsize=(10,4))
                if graph == 'Bar Chart':
                    plt.bar(
                        y_pos, 
                        height, 
                        color=color_picker.value)
                    plt.xticks(y_pos, bars)
                elif graph == 'Line Chart':
                    plt.plot(
                        bars,
                        height, 
                        color=color_picker.value,
                        marker='o', 
                        linestyle='solid'
                    )
                    plt.xticks(bars)
                plt.show()
                
def preview_clicked(b):
    preview()
def upload_clicked(b):
    upload()
def desc_clicked(b):
    desc()
def plotter_clicked(b):
    plot()
    
button_preview.on_click(preview_clicked)
button_upload.on_click(upload_clicked)
toggle.observe(desc_clicked, 'value')
button_plot.on_click(plotter_clicked)
</code></pre>
",162,0,<python><jupyter><ipywidgets>,2020-10-20 04:58:14
64433836,Copy content of variable into clipboard when rendering html with voila and Jupyter Hub (injecting JS via Ipython??),"<p>I am rendering an Html page out of a jupyter notebook stored in a server using Jupyter HUB.</p>
<p>When using voila I would like to create a button that will copy into the clipboard the content of a particular variable (text).</p>
<p>The most simple example to reproduce the situation would be as follows.
I try to inject JS via Ipython using the code that I got here: (<a href=""https://stackoverflow.com/questions/33855641/copy-output-of-a-javascript-variable-to-the-clipboard"">Copy output of a JavaScript variable to the clipboard</a>)
A button should fire the code and put the text into the clipboard. But it does not.</p>
<pre><code>import ipywidgets as widgets
from IPython.display import display, HTML, Javascript
mybtn = widgets.Button(description='copy to clipboard',button_style='success')
        
def mybtn_event_handler(change):
    display(Javascript('''var cb = document.getElementById(&quot;cb&quot;);
  cb.value = 'asdfasdfasdfasdfasdfasdf';
  cb.style.display='block';
  cb.select();
  document.execCommand('copy');
  cb.style.display='none';''')) 

mybtn.on_click(mybtn_event_handler)

display(mybtn)
</code></pre>
<p>This does not work in a jupyter hub. I guess because actually you are not running the code in the local machine.</p>
<p>Any idea how to deal with this situation?</p>
<p>Actually this problem is encountered in other situations in which with Ipython you can interact with the local browser when rendering a notebook with voila locally. For instance using the webbrowser module to open a new tab is easy but it does not work the moment the notebook is run in the jupyter HUB.</p>
<p>Any idea?</p>
<p>NOTE: The code does not produce an error, in the log simply appears: &lt;IPython.core.display.Javascript object&gt;</p>
<p>NOTE2: ran locally actually this code does not work, it produces:
Javascript error adding output!
TypeError: Cannot set property 'value' of null
See your browser Javascript console for more details.</p>
",523,1,<python><jupyter-notebook><ipython><jupyterhub><voila>,2020-10-19 19:19:07
64430295,Zero to Kubernetes: Helm install of JupyterHub fails,"<p>I'm following the <strong>Zero to Kubernetes</strong> GKE installation <a href=""https://zero-to-jupyterhub.readthedocs.io/en/latest/google/step-zero-gcp.html"" rel=""nofollow noreferrer"">guide</a>.</p>
<p>I've successfully installed <code>kubernetes</code> and <code>helm</code> but when it comes to do the install:</p>
<pre><code>helm upgrade --cleanup-on-fail \
  --install $RELEASE jupyterhub/jupyterhub \
  --namespace $NAMESPACE \
  --create-namespace \
  --version=0.9.0 \
  --values config.yaml
</code></pre>
<p>The error I keep getting is:</p>
<pre><code>Release &quot;jhub&quot; does not exist. Installing it now.
Error: failed pre-install: timed out waiting for the condition
</code></pre>
<p>I've tried adding the flag <code>--timeout 1200s</code> as per the troubleshooting instructions on GKE but it still hangs up.</p>
<p>Any ideas on how to resolve this? If it continues to fail I'll probably just try deploying on Azure AD but ideally GKE should work.</p>
<p>(For reference I've actually done this deploy twice on GKE successfully but had to delete those clusters so I'm really not sure what the issue is.)</p>
<p><strong>EDIT:</strong> I resolved the issue.</p>
<p>Further down the <code>config.yaml</code> file I somehow changed the tag from <code>1.0.7</code> which was the version registered via Jupyter to <code>1.1.0</code> and there was a conflict between my Jupyter registry and my JupyterHub config.</p>
<p>I'm still inexperienced with Jupyter &amp; JupyterHub so apologies if this seemed obvious to others.</p>
",464,2,<kubernetes><google-kubernetes-engine><kubernetes-helm><jupyterhub>,2020-10-19 15:18:32
64425755,Cross platoform compatibility of ipywidgets,"<p>I tried looking up <code>ipywidgets</code> <a href=""https://ipywidgets.readthedocs.io"" rel=""nofollow noreferrer"">documentation</a> to find out if this library is cross platform compatible but in vain. I did not get any satisfactory or clear picture to my query. Can someone who has used this library throw light on the same?</p>
<p>By <strong>cross-platform compatibility</strong>, I mean the GUI should look and funtion identically on all major operating system (MacOS, Windows, Linux). I consider <code>Tkinter</code> a <strong>non-cross platform compatible</strong> library.</p>
",23,0,<python-3.x><jupyter-notebook><ipywidgets>,2020-10-19 10:45:53
64415523,Button widget adds new plots instead of replacing the old one,"<p>I have a function using widgets that is working just fine, but the slider is a little hard to move in small steps.</p>
<p>I want to add buttons to go forwards or backwards one step on click.
This is implemented in the code below. My problem is that when I call back the original function <code>myplot</code> from inside <code>on_button_</code>, it draws everything again, but I only want the updated scatter plot. <br/></p>
<p>I've experimented with <code>plt.close('all')</code> and  <code>plt.show()</code> as you can see.<br/></p>
<p>My problem -I think- is that I can't find the right place to put them.</p>
<pre><code>import ipywidgets as widgets
from ipywidgets import interact, interact_manual, Button, HBox, fixed

@interact 

step = 0.1
def myplot(
            x=(0.3, 3, step), 
            y=(0,8,1)):
  
        

    ###############
    def on_button_next(b):
        plt.close('all')
        myplot(x+step, y=y)

    def on_button_prev(b):
        plt.close('all')
        myplot(x-step, y=y)

    button_next = Button(description='x+')
    button_prev = Button(description='x-')
    ############################

    if x&gt;0.3 :  
        plt.figure(figsize=(9,7))
        ax1 = plt.subplot()
        ax1.scatter(x, y, marker='*', s=300)
        ax1.set_xlim(0,2)
        ax1.set_ylim(0,8)


        ##### buttons. 
        display(HBox([button_prev, button_next]))
        button_next.on_click(on_button_next)
        button_prev.on_click(on_button_prev)
        ################

    return plt.show()
</code></pre>
<img src=""https://i.stack.imgur.com/jhexa.png"" width=""500"" height=""700"">
",132,0,<python><matplotlib><jupyter-notebook><ipywidgets>,2020-10-18 16:14:30
64405102,How to upload data to Jupyter Hub from hosting Server?,"<p>I setup Jupyter Hub on my server by following <a href=""https://tljh.jupyter.org/en/latest/install/custom-server.html"" rel=""nofollow noreferrer"">this guide</a>. I have my Dataset on that server and I want to either upload to or make visible to the JupyterHub running on the http://ip-of-my-server. The data uploading guide is about uploading the data from the JupyterHub GUI, <strong>but want it done from the back-end.</strong></p>
<p>Is that possible?</p>
",106,0,<python><jupyter-notebook><jupyterhub>,2020-10-17 17:04:25
64368419,Toggle all checkboxes with ipywidgets?,"<p>I'm using ipywidgets' checkboxes to interactively select data to be plotted.</p>
<p>It seems there is no &quot;toggle all&quot; functionality out of the box.</p>
<p>So I implemented my own &quot;toggle all&quot; like this:</p>
<pre><code>import ipywidgets as widgets
def toggle_all(change):
    for cb in checkboxes[1:]:
        cb.value = checkboxes[0].value

def interactive_plot(change):
    selection = {}
    for cb in checkboxes[1:]:
        selection[cb.description] = cb.value
    #call some plot_function(data = data, selection = selection)

checkboxes = [widgets.Checkbox(value=False, description = &quot;All&quot;), widgets.Checkbox(value=False, description = &quot;Box 1&quot;), widgets.Checkbox(value=False, description = &quot;Box 2&quot;)]
box = widgets.VBox(children = checkboxes)

checkboxes[0].observe(toggle_all)

for cb in checkboxes[1:]:
    cb.observe(interactive_plot)
display(box)
</code></pre>
<p>however, this leads to flicker as the boxes get ticked off one by one, which is hardly noticeable when the number of checkboxes is small, but slow and annoying when the list grows.</p>
<p>Is there a better way to do this?</p>
",946,0,<python><ipywidgets>,2020-10-15 09:17:15
64352444,Change pointer cursor in jupyter over ipywidgets,"<p>I've been searching and I can't find a way to change the cursor in a jupyter notebook. I'm working with my own designed file chooser using ipywidgets and I want to change the cursor image every time is searching for the folders in a given path, i.e. loading cursor, any thoughts?</p>
",274,2,<python><python-3.x><jupyter-notebook><traits><ipywidgets>,2020-10-14 11:38:58
64343972,Jupyterhub running on docker + docker spawner - how to add volume,"<p>I have a problem that I struggle with for a while and I hope somebody could give me a hand.</p>
<p>I'm using this <a href=""https://github.com/jupyterhub/dockerspawner/tree/master/examples/simple"" rel=""nofollow noreferrer"">simple configuration</a> with one, small difference - here is my jupyterhub_config.py:</p>
<pre><code>import os

# dummy for testing. Don't use this in production!
c.JupyterHub.authenticator_class = &quot;tmpauthenticator.TmpAuthenticator&quot;

# launch with docker
c.JupyterHub.spawner_class = 'dockerspawner.DockerSpawner'

# we need the hub to listen on all ips when it is in a container
c.JupyterHub.hub_ip = '0.0.0.0'
# the hostname/ip that should be used to connect to the hub
# this is usually the hub container's name
c.JupyterHub.hub_connect_ip = 'jupyterhub'

# pick a docker image. This should have the same version of jupyterhub
# in it as our Hub.
c.DockerSpawner.image = 'jupyter/scipy-notebook'

# tell the user containers to connect to our docker network
c.DockerSpawner.network_name = 'jupyterhub'

# delete containers when the stop
c.DockerSpawner.remove = True
</code></pre>
<p>And it works. Now I'd like to add some user volumes, by adding at the end of above config this:</p>
<pre><code>c.DockerSpawner.volumes = {'/srv/jupyterhub/': '/home/jovyan/work'}


def create_dir_hook(spawner):
    &quot;&quot;&quot; Create directory &quot;&quot;&quot;
    username = spawner.user.name  # get the username
    volume_path = os.path.join('/srv/jupyterhub', username)
    if not os.path.exists(volume_path):
        os.makedirs(volume_path, mode=0o755, exist_ok = True)

c.Spawner.pre_spawn_hook = create_dir_hook
</code></pre>
<p>But then I got this error:</p>
<blockquote>
<p>Unhandled error starting d746c770-7eee-40fa-b073-97fe3a578569’s server: The ‘ip’ trait of a Server instance must be a unicode string, but a value of None &lt;class ‘NoneType’&gt; was specified.</p>
</blockquote>
<p>Could someone help me and tell how to run this with user's volumes?</p>
",709,1,<docker><jupyterhub>,2020-10-13 22:20:44
64338863,ipyvuetify catch the user input value of text Field when user changes it,"<p>I am using vuetify to catch an input of a user as follows:</p>
<p><a href=""https://i.stack.imgur.com/3sh8U.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/3sh8U.png"" alt=""enter image description here"" /></a></p>
<pre><code>%pip install ipyvuetify
%pip install ipywidgets
import random 
import ipywidgets as widget
from ipywidgets import VBox
import ipyvuetify as v

v_nr = v.TextField(label='Enter a number here:', placeholder='Enter here data', value = '2342354')
v_nr.value='The value was changed sucssefully'
v_btn_load    = v.Btn(class_='mx-2 light-red darken-1', children=['the data'])
w_Output = widget.Output()
infostring    = ' this is the infostring there'
other_info    = v.Html(tag='p', children=[infostring])

Output = VBox([w_Output])
total_widgets = v.Col(children = [v_nr,v_btn_load,w_Output,other_info])

def on_click_v_btn_load(widget, event, data):
    with w_Output:
        w_Output.clear_output()
        n = random.random()
        display(str(n) + '  :' + v_nr.value)
    other_info.children.append(' APPEND ')
        
    
v_btn_load.on_event('click', on_click_v_btn_load)
container = v.Container(children=[total_widgets])
display(container)
</code></pre>
<p>What I would like to solve:</p>
<ol>
<li>The visualization is ok but when changing the value in the input it is not catched by the v_application.value within the event handler of the button. Nevertheless in the second line: <code>v_nr.value='The value was changed successfully' </code> the value was changed programatically. How do you have to code in order the input changes the value of the input text when the user changes it?</li>
<li><code>other_info.children.append(' APPEND ')</code> does not seem to work but does not report neither error. What is expecting is that the word GORILA is appended every time the button is clicked, and that is not the case.</li>
</ol>
<p>Any ideas?
Thx.</p>
<p>NOTE: included %pips for convinience.</p>
",377,1,<python><vuetify.js><jupyter-lab><ipywidgets><voila>,2020-10-13 15:59:01
64335224,How to update an imshow inside a ipywidgets layout?,"<p><strong>Problem</strong></p>
<p>I want to display a slider linked to a <em>Play</em> button from ipywidgets and then update an <code>imshow</code> plot from matplotlib. However I want the image to stay there and only draw the artists that changed and not have to clear the output to draw everything again. bqplot handles this situation quite well but the displaying a gridheatmap has revealed challenging for editing tick labels and other parts of the design that matplotlib handles so well. Some people have used <code>interact</code> but that approach limits my freedom to handle traitlets.</p>
<p><strong>My code</strong></p>
<pre class=""lang-py prettyprint-override""><code>slider=wd.IntSlider(value=0,min=0,max=49,continuous_update=False)
play_button=wd.Play(
    value=0,
    min=0,
    max=49,
    step=1,
    interval=850,
    description=&quot;Press play&quot;,
    disabled=False
)

def slider_update():
    global im
    global fig
    slider.value=change.new
    label.value=&quot;Time: {}&quot;.format(slider.value)
    
    with out:
        new_data=random_data[:,:,slider.value]
        im.set_data(new_data)
        im.set_clim(0,np.max(new_data))

        background = fig.canvas.copy_from_bbox(ax.bbox)
        fig.canvas.flush_events()
        fig.canvas.restore_region(background)
        ax.draw_artist(im)
        fig.canvas.blit(ax.bbox)
        
        plt.show(fig)
    
label=wd.Label(&quot;Time: 0&quot;)
# slider.observe(slider_update, &quot;value&quot;)
wd.jslink((play_button,&quot;value&quot;),(slider,&quot;value&quot;))
widget=wd.interactive(slider_update,idx=slider)

out=wd.Output()
app=wd.VBox([wd.HBox([play_button,slider,label]),out])


display(app)
</code></pre>
<p><strong>Output</strong></p>
<p><a href=""https://i.stack.imgur.com/OTkxE.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/OTkxE.png"" alt=""enter image description here"" /></a></p>
<p><strong>Intended output</strong></p>
<p><a href=""https://i.stack.imgur.com/5LCC7.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/5LCC7.png"" alt=""enter image description here"" /></a></p>
<p>But the image updates only the artiosts so as to get a smooth animation (this last image was accomplished by having <code>display(app,fig)</code> which does not do what I want.</p>
<p>Can anyone give a hand?</p>
",1830,2,<python><matplotlib><animation><ipywidgets><matplotlib-widget>,2020-10-13 12:25:14
64327963,"Jupyter Lab, R kernel - Wanted: to prevent Jupyter from opening the R help server","<p>Unfortunately, I made a change to the Jupyter Lab settings recently.  Jupyter had never been able to access the remote R help server.  Usually this was never an issue because most help files are displayed in Jupyter.  The way help is called on a function or method  is typing:  ?question. The &quot;question&quot; being the name of an R function or method. Ex.  ?plot</p>
<p>Infrequently one of the R packages will not list its help in Jupyter and instead try to open the remote R help server.  This has never worked in the past. The tab for a remote server never opened.  This has never really been an issue until recently.  Recently I decided to &quot;fix&quot; this issue and spent a good deal of time looking up the solution.  I made this &quot;fix&quot; and Jupyter began working properly to open the remote R help server.  But the fix is a problem that is way too obnoxious.</p>
<p>Each time I type the question mark in Jupyter, Jupyter causes the browser to open a new tab for the remote R help server.  It is impossible to type fast enough after typing typing the ?.  Once the ? is typed, the typing is interupted while the browser opens a new R server help website.  As soon as returning to the typing, another browser tab opens and interrupts the typing .</p>
<p>It is impossible to finish typing the name of a function after the ? without having multiple interruptions to the typing while multiple new windows are opened in the browser at the R help server website.  By the time I've finished typing:  ?ppp, there will the 5 interruptions and new browser tabs opened. If I typed slowly, there may be 10 - 12 interruptions and 10 new tabs opened at the R help server.</p>
<p>How to prevent Jupyter from trying to access the remote R help server every time the ? is typed when looking up a description of a function?    How to get back to that happy place I had before I'd made whatever change that caused this nightmare to happen?</p>
",99,0,<jupyter-notebook><remote-server><jupyter-irkernel>,2020-10-13 03:16:34
64315617,python ipyvuetify closing floating dialog (ipywidgets),"<p>I am using ipyvutify trying to code great GUIs.
It looks fantastic but a bit hard for someone who had never did HTML &amp; CSS.</p>
<p>The following is a complete code that generates a dialog floating when clicking &quot;OPEN DIALOG&quot; button.</p>
<p>I would like to unterstand the functioning of opening and closing floating dialogs using ipyvuetify and with the following code I can not figure it out even if the code works (deficiently).</p>
<p>The GOAL is to open a dialog with a button and having a CLOSE button inside the dialog as well (together with other buttons)</p>
<pre><code>import ipyvuetify as v 
lorum_ipsum= 'loren loren'


#oepn dialog:
v_btn_OTHER   = v.Btn(class_='mx-2 light-blue darken-1', children=['OTHER'])
def on_click_v_btn_OPEN (widget, event, data):
    exampledialog.value = True
    pass
v_btn_OPEN.on_event('click', on_click_v_btn_OPEN)

# CLOSE BUTTON INSIDE THE DIALOG
v_btn_CLOSE   = v.Btn(class_='mx-2 light-blue darken-1', children=['CLOSE'])
def on_click_v_btn_CLOSE (widget, event, data):
    exampledialog.value = False
v_btn_CLOSE.on_event('click', on_click_v_btn_CLOSE)

# ACTION BUTTON INSIDE THE DIALOG
v_btn_OTHER   = v.Btn(class_='mx-2 light-blue darken-1', children=['OTHER'])
def on_click_v_btn_OTHER (widget, event, data):
    # code to open facebook.com in a new tab
    pass
v_btn_OTHER.on_event('click', on_click_v_btn_OTHER)

# THE DIALOG
exampledialog = v.Dialog(width='500',
    v_slots=[{
        'name': 'activator',
        'variable': 'x',
        'children': v.Btn(v_on='x.on', color='success', dark=True, children=[
            'OTHER dialog'
        ]),
    }], 
    children=[
        v.Card(children=[
            v.CardTitle(class_='headline gray lighten-2', primary_title=True, children=[
                &quot;Lorem ipsum&quot;
            ]),
            v.CardText(children=[
                lorum_ipsum,
                v.TextField(label='Label', placeholder='Placeholder'),
                v_btn_CLOSE,
                v_btn_OTHER,
            ]),
    ])
])

# VISUALIZATION
display(v.Layout(children=[v_btn_OPEN,exampledialog]))
</code></pre>
<p>If you paste the above code in one of your cells you will realise the follwoing strange behavior that I would like to understand.</p>
<p>If you dont display exampledialog in the VISUALIZATION PART then the OTHER button would not work. ONLY if exampledialog is part of the children of Layout the button is working.
Besides the button of the dialog itself disappears once is run the first time.</p>
<p>This is a really strange thing.
Can someone give an explanation.</p>
<p>And the general question is how do you open and close a dialog from a button outside the dialog. dialog.value=True does not really seems to work</p>
",239,2,<python><vuetify.js><ipywidgets><voila>,2020-10-12 10:00:12
64301576,How to handle R kernel tibble in Jupyter lab .ipynb file to display limited row results?,"<p>I am trying using R Kernel in jupyter lab and getting 1000's of rows or more displaying when results are tibble, this makes my browser crash sometimes.</p>
<p>How do i limit these so that it doesn't make my browser crash and works as smoothly as in Rstudio ?</p>
<p><strong>I am using below versions:</strong></p>
<p><em>jupyter lab: Version 2.2.6</em></p>
<p><em>R: R version 4.0.3</em></p>
<p><a href=""https://i.stack.imgur.com/sTW7J.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/sTW7J.jpg"" alt=""enter image description here"" /></a></p>
",83,0,<r><jupyter-lab><tibble><jupyter-irkernel><tidymodels>,2020-10-11 07:24:25
64285570,ipywidget with matplotlib figure always shows two axes,"<p>I am trying to create a <code>ipywidget</code> interface with a <code>matplotlib</code> figure that updates upon changing a slider. It works in principle, but it always creates an extra figure.</p>
<p>Here's the code:</p>
<pre><code>import numpy as np
import matplotlib.pyplot as plt
from ipywidgets import widgets
from IPython.display import display, clear_output

# make a grid

x = np.linspace(0, 5, 100)
X, Y = np.meshgrid(x, x)

# create the layout with slider

out = widgets.Output(layout=widgets.Layout(height='300px', width = '400px', border='solid'))
slider = widgets.IntSlider(value=1, min=1, max=5)
w = widgets.VBox(children=(out, slider))

# axes to plot into

ax = plt.axes()

display(w)

def update(value):
    i = slider.value
    Z = np.exp(-(X / i)**2 - (Y / i)**2)
    ax.pcolormesh(x, x, Z, vmin=0, vmax=1, shading='auto')
    with out:
        clear_output(wait=True)
        display(ax.figure)

slider.observe(update)
update(None)
</code></pre>
<p>And here's the undesired output</p>
<p><a href=""https://i.stack.imgur.com/NVe2K.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/NVe2K.png"" alt=""output"" /></a></p>
<p>The widget works, and only the upper output is updated, but I do not understand why the lower output also exists or how to get rid of it. Am I missing something obvious?</p>
",682,3,<python><matplotlib><ipywidgets>,2020-10-09 18:36:47
64283964,jupyter lab launcher: change soft order of launcher icons,"<p>In the Jupyter Lab launcher, I'd like to control the sort order of the launcher icons. Basically, I want the newest versions of Python to show up first, to the left.</p>
<p>Right now, I don't see what determines the sort order. Looking at the kernel.json specs in /usr/local/share/jupyter/kernels/ and ~/.local/share/jupyter/, it doesn't look like the sort order is displayed based on the display_name, language, or kernel.json creation timestamp. The sort order looks kinda arbitrary, but maybe I'm not seeing the pattern that it's using.</p>
<p>It looks like the Jupyter Lab launcher is generated using a React app (<a href=""https://github.com/jupyterlab/jupyterlab/blob/master/packages/launcher/src/index.tsx#L224"" rel=""nofollow noreferrer"">https://github.com/jupyterlab/jupyterlab/blob/master/packages/launcher/src/index.tsx#L224</a>), but I'm not sure where it's getting the list of Launchers from (and am not super familiar with React).</p>
<p>Anyone know how to change the sort order of the icons on the Launcher?</p>
",534,0,<python><jupyter><jupyter-lab><jupyterhub><jupyter-kernel>,2020-10-09 16:32:07
64282319,Stop button for breaking while loop within Ipywidgets ecosystem,"<p>Let's assume the following problem: we have an Ipywidget button and a progress bar. On clicking the button, a function work() is executed, which merely fills the progress bar until completing it, then reverses the process and empties it out. As it stands, such a function runs continuously. The following code snippet provides the corresponding MWE:</p>
<pre class=""lang-py prettyprint-override""><code># importing packages.
from IPython.display import display
import ipywidgets as widgets
import time
import functools

# setting 'progress', 'start_button' and 'Hbox' variables.
progress = widgets.FloatProgress(value=0.0, min=0.0, max=1.0)
start_button = widgets.Button(description=&quot;start fill&quot;)
Hbox = widgets.HBox(children=[start_button, progress])

# defining 'on_button_clicked_start()' function; executes 'work()' function.
def on_button_clicked_start(b, start_button, progress):
    work(progress)

# call to 'on_button_clicked_start()' function when clicking the button.
start_button.on_click(functools.partial(on_button_clicked_start, start_button=start_button, progress=progress))

# defining 'work()' function.
def work(progress):
    total = 100
    i = 0
    # while roop for continuous run.
    while True:
        # while loop for filling the progress bar.
        while progress.value &lt; 1.0:
            time.sleep(0.01)
            i += 1
            progress.value = float(i)/total
        # while loop for emptying the progress bar.
        while progress.value &gt; 0.0:
            time.sleep(0.01)
            i -= 1
            progress.value = float(i)/total
        
# display statement.
display(Hbox)
</code></pre>
<p>The aim is to include &quot;Stop&quot; and &quot;Resume&quot; buttons, so that the while loops are broken whenever the first is clicked, and the execution is resumed when pressing the second one. Can this be done without employing threading, multiprocessing or asynchronicity?</p>
",906,3,<python><while-loop><jupyter-notebook><ipywidgets>,2020-10-09 14:46:31
64282222,struggling in calling multiple interactive functions for a graph using ipywidgets,"<p>I'm looking to have a main image upon which I draw either spirals, ellipses etc with variables that change the shape on the imposed drawing. The main image also needs to have a contrast variable.</p>
<p>My code currently looks like this;</p>
<pre><code>


###############################################BASIC FIGURE PLOT####################################
plt.figure(figsize=(24,24))
@interact
def spiral(Spiral=False,n=2000,x1=50,y1=50,z1=50,k1=300):
    if Spiral == False:
        x = 0;
        y = 0;
        plt.scatter(x,y,s = 3, c = 'black');
    else:
        angle = np.linspace(x1,y1*1*np.pi, n)
        radius = np.linspace(z1,k1,n)
        x = radius * np.cos(angle) + 150
        y = radius * np.sin(angle) + 150
        plt.scatter(x,y,s = 3, c = 'black');
@interact        
def contrast(vuc=(0.2,1,0.01),vlc=(0.1,1,0.01)):  
    vu = np.quantile(qphi, vuc);
    vl = np.quantile(qphi, vlc);
    print(&quot;upper =&quot;,vu, &quot; lower=&quot;,vl);


plt.imshow(qphi, origin='lower',vmin=vl,vmax=vu);
plt.show() 

</code></pre>
<p>This produces two plots;
<a href=""https://i.stack.imgur.com/fLU58.png"" rel=""nofollow noreferrer"">visible here</a>
One plot which creates a spiral I can edit freely and one plot that is the main image with variable contrast.</p>
<p>Any advise on how to combine the two plots would be much appreciated; Thank you!</p>
",305,1,<python><matplotlib><interactive><graphing><ipywidgets>,2020-10-09 14:41:08
64277556,IPywidgets bind dynamically widgets to Output,"<p>I'm writing a function for Jupyter notebooks, where a user will be able to obtain data as Pandas Dataframe (irrelevant for this question) and display it with filters he could create when needed.</p>
<p>My problem is that I can't &quot;link&quot; the interact filter to the data itself. I had no problems to define manually the filters in the code, but not from the user side. I researched a lot questions from Stackoverflow, Google, project Github and docs before posting here.</p>
<p>Here is the POC:</p>
<pre><code>import pandas as pd
import ipywidgets as widgets
from ipywidgets import *
from IPython.display import display
import numpy as np

np.random.seed(0)

# Data example
my_columns = list('ABCD')
df = pd.DataFrame(np.random.randint(0,100,size=(100, 4)), columns=list('ABCD'))


# Encapsulate Table inside Output widget

table_out = widgets.Output()

with table_out:
    display(df)


# Filter for ints
def filter_int(column, x):
    return df.loc[df[column] &gt; x]

# Our filter generator
def generate_filter(button):
    # Check if exist before creating
    if not select_definition.value in [ asd.children[0].description for asd in filters.children ]:
        # Not exist. Create this filter
        new_filter = interactive(
            filter_int, # Our filter for ints
            column=fixed(select_definition.value), # Which column as filter
            x=widgets.IntSlider(min=0, max=100, step=1, value=10, description=select_definition.value) # Value from the user
        )
        # Append created filter
        filters.children=tuple(list(filters.children) + [new_filter])

# Define button and event
button = widgets.Button(description=&quot;Add&quot;)
button.on_click(generate_filter)

# Define Dropdown 
select_definition = widgets.Dropdown(options=my_columns, layout=Layout(width='10%'))

# Put Dropdown and button together
choose_filter = widgets.HBox([select_definition, button])

# Where we will put all our filters
filters = widgets.HBox()

display(choose_filter, filters, table_out)
</code></pre>
<p>Which will create this:</p>
<p><a href=""https://i.stack.imgur.com/8x8AZ.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/8x8AZ.png"" alt=""enter image description here"" /></a></p>
<p>I'm able to create the filters for the columns dynamically, but I'm not sure how to make them update the table and link together (so the table will be updated based on multiple filters).</p>
<p>The expected result is to be able create filters for column <code>A</code> and <code>B</code> and update the table with values defined by them, as shown in the image below:</p>
<p><a href=""https://i.stack.imgur.com/GHPNN.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/GHPNN.png"" alt=""enter image description here"" /></a></p>
<p>Any help is appreciated!</p>
<p>Note: The last image was generated with <code>df.loc[(df['A'] &gt; 22) &amp; (df['B'] &gt; 92)]</code></p>
",962,1,<python><pandas><jupyter-notebook><ipywidgets>,2020-10-09 09:43:55
64267552,python ipyvuetify equivalent to ipywidgets Output,"<p>A simple Output ipywidget to display text might look like this:</p>
<pre><code>out = widgets.Output(layout={'border': '1px solid black'})
out
</code></pre>
<p>this element is very useful when rendering with voila.</p>
<p>What is the equivalent in ipyvuetify?</p>
<p>I did not find an equivalent in the ipyvuetify documentation:
<a href=""https://ipyvuetify.readthedocs.io/en/latest/usage.html#create-an-ipyvuetify-widget"" rel=""nofollow noreferrer"">https://ipyvuetify.readthedocs.io/en/latest/usage.html#create-an-ipyvuetify-widget</a></p>
",417,1,<python><jupyter-lab><ipywidgets><voila><ipyvuetify>,2020-10-08 17:16:30
64266700,ipyvuetify buttons display side by side,"<p>I am pretty new (a few days) to ipyvuetify and I am building some buttons as such:</p>
<pre><code>v_btn_R1  = v.Btn(class_='mx-2 light-blue darken-1', children=['R1'])
v_btn_R2  = v.Btn(class_='mx-2 light-blue darken-1', children=['R2'])
v_btn_R3  = v.Btn(class_='mx-2 light-blue darken-1', children=['R3'])
</code></pre>
<p>previously I created a button that would display a dialog floating with some information:</p>
<pre><code>btn_user_help = v.Layout(class_='mx-2', children=[
    v.Dialog(width='800', v_slots=[{'name': 'activator',
                                    'variable': 'x',
                                    'children': v.Btn(v_on='x.on', color='success', dark=True, children=['Help']),
                                   }],
    children=[v.Card(children=[v.CardTitle(class_='headline gray lighten-2', primary_title=True, children=[&quot;Help on the app&quot;]),
                         v.CardText(children=[help_text,bla])
                        )
        ])
    ])
]) 
</code></pre>
<p>The above code is a simple button that when click opens a floating window.</p>
<p>Now I would like to show the four buttons one by each other:</p>
<pre><code>content1 = v.Container(children = [v_Buttons,Dialog])
content2 = v.Container(children = [v.Row(children=[v.Col(cols=12, children=[v_btn_R1,v_btn_R2,v_btn_help,Dialog])]) ])

display(content1)
display(content2)
</code></pre>
<p>but the result is:</p>
<p><a href=""https://i.stack.imgur.com/OqyGy.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/OqyGy.png"" alt=""enter image description here"" /></a></p>
<p>I would like to have the four buttons nicely aligne in one line.</p>
<p>I see that the help button is actually a v.Layout, whereas the other blue ones are buttons.</p>
<p>Please be aware that I am not a JS coder, but a python coder.</p>
<p>Some idea?</p>
<p>thanks.</p>
",234,1,<python><vuetify.js><jupyter-lab><ipywidgets><voila>,2020-10-08 16:22:26
64260450,LDAPAuthenticator for AD on JupyterHub,"<p>I'm attempting to use the <code>LDAPAuthenticator</code> class found <a href=""https://github.com/jupyterhub/ldapauthenticator"" rel=""nofollow noreferrer"">here</a> to configure JupyterHub on EMR.</p>
<p>I'm querying ActiveDirectory through LDAP to get the authorized users, which are members of a specific AD group.</p>
<p>Problem I'm running into is that with this specific <a href=""https://tldp.org/HOWTO/archived/LDAP-Implementation-HOWTO/pamnss.html"" rel=""nofollow noreferrer"">implementation</a>, it expects the user objects to have a few specific user attributes that the objects don't have as of now and I'm not allowed to change them.</p>
<p>The ideal workflow would be, <code>LDAPSEARCH</code> queries <code>ActiveDirectory</code> for a specific AD group, and on return it creates users for the members of that AD group, it should create linux users and directories for the users.</p>
<p>I'd like to know if anyone else has run into this sort of issue and overcome, thanks!</p>
",544,0,<amazon-web-services><active-directory><ldap><amazon-emr><jupyterhub>,2020-10-08 10:17:41
64250183,Jupyter title bug in for loop,"<p>I am making a scatter plot with python that updates with a for loop and I am having a issue were my title moves down to the bottom of the figure. I've used this code in PyCharm and there it works just fine, but when I move it to Jupyter it breaks.</p>
<p>I did add <code>%matplotlib qt</code> to make sure that an external figure appears.</p>
<p>This is a part of the code I am using in Jupyter</p>
<pre><code>%matplotlib qt

def md_sim():
    pos_init()
    pos_random()

    x = []
    y = []
    z = []
    for i in range(0, M):
        x.append(xyz[i][0])
        y.append(xyz[i][1])
        z.append(xyz[i][2])
    plt.ion()
    fig = plt.figure()
    ax = fig.add_subplot(111, projection=&quot;3d&quot;)
    data = ax.scatter(x, y, z, s=100)
    ax.set_title(&quot;Initial lattice positions&quot;)
    ax.set_xlabel('x')
    ax.set_ylabel('y')
    ax.set_zlabel('z')
    fig.show()

    vel_random_gauss()
    correct_v()
    LJ_pot(0)
    for i in range(0, steps):
        verlet(i+1)
        correct_v()

        x = []
        y = []
        z = []
        for n in range(0, M):
            x.append(xyz[n][0])
            y.append(xyz[n][1])
            z.append(xyz[n][2])
        plt.pause(0.001)
        data._offsets3d = (x, y, z)
        ax.set_title(&quot;Lattice positions after &quot; + str(i) + &quot; steps.&quot;)
        plt.draw()
</code></pre>
<p>I have made a small video of the title moving down in the figure
<a href=""https://gyazo.com/e203cf86974ee53edeb4534edf443a03"" rel=""nofollow noreferrer"">https://gyazo.com/e203cf86974ee53edeb4534edf443a03</a></p>
<p>Please help me out!</p>
",67,2,<python><jupyter-notebook><pycharm><jupyterhub>,2020-10-07 18:26:38
64228106,How to connect Jupyterhub login with spawned notebook?,"<p>i am trying to make jupyterhub with CondorSpawner and LDAPauthentiator work, and I am struggeling with the following problem:</p>
<p>I have spawned a jupyter botebook via <code>jupyter notebook --port=53762</code> via htcondor and the spawner returns the correct ip and port number. After Jupyterhub starts to connect <code>http://localhost:53762/tree/user/u52383/vjfjfj/</code> to  but when the server redirects to the spawned notebook, it always crashes with the following 404 error (last 2 lines):</p>
<pre><code>16:13:41.229 [ConfigProxy] info: Adding route /tree/user/gabriel/vjfjfj -&gt; http://127.0.0.1:53762
16:13:41.229 [ConfigProxy] info: Route added /tree/user/gabriel/vjfjfj -&gt; http://127.0.0.1:53762
16:13:41.230 [ConfigProxy] info: 201 POST /api/routes/tree/user/gabriel/vjfjfj
[I 2020-10-06 16:13:41.232 JupyterHub users:609] Server gabriel:vjfjfj is ready
[I 2020-10-06 16:13:41.232 JupyterHub log:174] 200 GET /tree/hub/api/users/gabriel/servers/vjfjfj/progress (u52383@::ffff:127.0.0.1) 10363.56ms
[I 2020-10-06 16:13:41.244 JupyterHub log:174] 302 GET /tree/hub/spawn-pending/gabriel/vjfjfj -&gt; /tree/user/gabriel/vjfjfj (u52383@::ffff:127.0.0.1) 0.00ms
16:13:41.258 [ConfigProxy] error: 404 GET /login?next=%2Ftree%2Fuser%2Fgabriel%2Fvjfjfj
[I 2020-10-06 16:13:41.264 JupyterHub log:174] 200 GET /tree/hub/error/404?url=%2Flogin%3Fnext%3D%252Ftree%252Fuser%252Fgabriel%252Fvjfjfj (@127.0.0.1) 0.00ms
</code></pre>
<p>It looks like there is some error according to the jupyter notebook since it has been requested at that time</p>
<p><code>[I 16:13:41.254 NotebookApp] 302 GET /tree/user/u52383/vjfjfj (127.0.0.1) 0.00ms</code></p>
<p>and the error itself sounds like an login error <code>/login?next=%2Ftree%2Fuser%2Fgabriel%2Fvjfjfj</code></p>
<p>Does anybody know what causes this crash? Or is there an error with spawning the notebook this way?</p>
<p>Thanks in advance</p>
<p>Gabriel</p>
",429,0,<jupyter-notebook><jupyter><webrequest><http-proxy><jupyterhub>,2020-10-06 14:39:59
64217942,bqplot filled Lines blocks tooltip,"<p>I'm trying to plot a time series forecast, surrounded by a shaded uncertainty interval timeseries, and have tooltips work for both the line and the perimeter of the uncertainty.</p>
<pre><code>import pandas as pd
from bqplot import *
daterange = pd.date_range(start='2020-01-01', freq='1D', periods=20)
df = pd.DataFrame(index=daterange)
df['fcst'] = np.sin(np.arange(0,20)*2*np.pi / 20)

tt_ex = Tooltip(fields=['x', 'y' ], labels=['', ''], formats=[&quot;%B %Y&quot;, ',.2f'])

x_sc = DateScale()
y_sc = LinearScale()

fcst_vals = np.arange(0,20)*2*np.pi / 20

x_ax_fcst = Axis(scale=x_sc)
y_ax_fcst = Axis(scale=y_sc, orientation='vertical', tick_format='.2f')


fcst_uncertainty = Lines(x=[daterange.append(daterange[::-1])], 
                         y=[((df['fcst']+0.2).append((df['fcst'][::-1]-0.2)))],
                         fill_colors=['blue'],
                         fill='inside',
                         marker = 'cross',
                         stroke_width=1,
                         close_path=True,
                         scales={'x': x_sc, 'y': y_sc},
                         tooltip=tt_ex)
fcst_uncertainty.fill_opacities = [0.2]

fcst_line = Lines(x=[daterange], y=[df['fcst']],
                  scales={'x': x_sc, 'y': y_sc}, 
                  marker='circle', colors=['blue'],
                  tooltip=tt_ex)

example_fig = Figure(marks=[
    fcst_line,
    fcst_uncertainty
], axes=[x_ax_fcst, y_ax_fcst])

display(example_fig)
</code></pre>
<p>But the fill is blocking the tooltip for the main timeseries that is inside of the filled region. Is there any easy way around this? If I remove the fill, it works as desired. But I want the fill. I tried making another Lines object without a tooltip interaction and having that be the filled object, but that didn't work either. Thanks!</p>
",255,1,<python><jupyter-notebook><ipywidgets><bqplot>,2020-10-06 00:52:56
64174691,Jupyter-lab pyplot cell re-evaluation breaks interactive widget display,"<p>This code works as expected on a cleanly started kernel, but on re-executing the second cell, instead of an interactive widget (ipypml per <a href=""https://matplotlib.org/3.3.0/users/interactive.html"" rel=""nofollow noreferrer"">https://matplotlib.org/3.3.0/users/interactive.html</a> ), I get just the text output as in the image.</p>
<p>How are jupyter, jupyter-lab, widgets, pyplot, and matplotlib interacting to cause this problem?</p>
<p>And how do I properly do a plot so that I can re-execute the cell without re-starting the kernel?</p>
<p>Cell 0:</p>
<pre><code>%matplotlib widget
import numpy as np
import matplotlib as mpl
import matplotlib.pyplot as plt
</code></pre>
<p>Cell 1:</p>
<pre><code>fig,ax = plt.subplots(num=0)
ax.plot(np.arange(4))
</code></pre>
<p>Cell 1 output:</p>
<pre><code>[&lt;matplotlib.lines.Line2D at 0x161b913a0&gt;]
</code></pre>
<p><a href=""https://i.stack.imgur.com/SuRRj.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/SuRRj.png"" alt=""enter image description here"" /></a></p>
",81,0,<matplotlib><jupyter-lab><ipywidgets>,2020-10-02 15:56:26
64156833,ipyvuetify user input text field,"<p>I am learning the wonderful ipyvuetify widgets environment for rendering nice notebooks with voila.</p>
<p>I am looking for several hours in:
<a href=""https://ipyvuetify.readthedocs.io/en/latest/introduction.html"" rel=""nofollow noreferrer"">https://ipyvuetify.readthedocs.io/en/latest/introduction.html</a></p>
<p>Now, already in that link there is no widget for manual user input.</p>
<p>Now observing the material widgets under:
<a href=""https://material.io/design/introduction"" rel=""nofollow noreferrer"">https://material.io/design/introduction</a></p>
<p>It is possible to see that (of course) there is a lable widget for user entry data.</p>
<p>Does anyone know if (for some reason) ipyvuetify does not offer yet such text user input ?</p>
<p>thanks</p>
<p>NOTE: Other way to formulate this question is simply: What is the equivalent to widgets.Text in ipyvuetify</p>
",638,1,<jupyter-notebook><vuetify.js><ipywidgets><voila>,2020-10-01 13:52:13
64152992,Set up zonal persistent disk - Google Compute Engine,"<p>I am running a JupyterHub server on a Google Cloud Compute instance and recently had an issue where I ran out of hard drive space, which caused the JupyterHub server to seize up with 500 errors etc. I should mention that I am using <a href=""https://tljh.jupyter.org/en/latest/"" rel=""nofollow noreferrer"">The Littlest JupyterHub</a> to run the JupyterHub server. I had a look at options to expand the hard drive space of my instance and the recommended action seemed to be to attach a zonal persistent disk. I followed <a href=""https://cloud.google.com/compute/docs/disks/add-persistent-disk#create_disk"" rel=""nofollow noreferrer"">Google's instructions</a> and it looks to be attached as expected. See output of <code>df -h</code> below, which suggests that it has been mounted as expected.</p>
<p><a href=""https://i.stack.imgur.com/smsFJ.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/smsFJ.png"" alt=""Output of df -h suggests that it has been mounted as expected"" /></a></p>
<p>However, I can't work out if this new hard drive is actually being used for storage by the VM / JupyterHub server. I'm worried that as I continue to use the JupyterHub server it will just fill up the original 20GB <code>/dev/sda1</code> disk again, without using the new 200GB <code>/dev/sdb</code> for overfill. How can I check to see if the zonal persistent disk will be used as expected, to avoid JupyterHub seising up because there is no hard disk space left?</p>
<p>I really am not an expert at this, so apologies in advance if this is a dumb question.</p>
<p>Thanks in advance!</p>
",100,0,<google-compute-engine><jupyterhub><google-compute-disk>,2020-10-01 09:54:50
64149810,"How to key in ""Yes"" or ""No"" in Jupyter notebook","<p>I already referred this <a href=""https://stackoverflow.com/questions/49431895/answering-yes-no-shell-prompt-on-notebook"">post</a> and this <a href=""https://stackoverflow.com/questions/38798181/jupyter-notebook-is-there-a-way-to-answer-y-to-or-ignore-all-y-n-prompts"">post</a>. But it doesn't solve my problem. Please don't mark it as duplicate</p>
<p>I am trying to run the below piece of code in <code>Jupyter Notebook</code> with <code>R kernel</code>.</p>
<pre><code>model_predictors &lt;- buildModel(flag, fv_full_data, outcomeName, folder)
</code></pre>
<p>I get an error message like below</p>
<pre><code>Model about to be built   # this is log message and not error

1 package is needed for this model and is not installed. (randomForest). Would you like to try to install it now?    # here I see that it asks for a question but without my input it selects `No`
Error: Required package is missing
Traceback:

1. buildModel(flag, fv_full_data, outcomeName, folder)
2. train(x = trainDF[, predictorsNames], y = factor(trainLabels), 
 .     method = &quot;rf&quot;, metric = &quot;Fscore&quot;, trControl = objControl, 
 .     tuneGrid = rf_grid, preProcess = c(&quot;center&quot;, &quot;scale&quot;))
3. train.default(x = trainDF[, predictorsNames], y = factor(trainLabels), 
 .     method = &quot;rf&quot;, metric = &quot;Fscore&quot;, trControl = objControl, 
 .     tuneGrid = rf_grid, preProcess = c(&quot;center&quot;, &quot;scale&quot;))
4. checkInstall(models$library)
5. stop(&quot;Required package is missing&quot;, call. = FALSE)
</code></pre>
<p>How can I avoid this error and prevent jupyter selecting <code>No</code> as default for dynamic prompts?</p>
",1205,2,<r><jupyter-notebook><jupyter><jupyter-irkernel>,2020-10-01 05:55:12
64137734,python ipywidgets force a summit programmatically in a widgets.Text,"<p>I habe a widgettext in a notebook as follows:</p>
<pre><code>myinput = widgets.Text(value='', palceholder='introduce your number')
        
def myinput_handler(sender):
    '''

    '''
    #do something
    
    
myinput.on_submit(myinput_handler)

# button
my_btn = widgets.Button(description='LOAD')
        
def my_btn_handler(change):
    
    if len(myinput.value) == '':
        my_input.value = 3333
    else:
        dossier = myinput.value 
       
    ##### ---&gt; RUN myinput_handler(sender)
    
    
my_btn.on_click(my_btn_handler)
</code></pre>
<p>basically What I would like to find is the way to run the same code as if the widget text would be submitted, but clicking a button</p>
<p>any idea there?</p>
",67,0,<python><button><ipywidgets>,2020-09-30 12:37:45
64122523,How to source R code from another Jupyter notebook file?,"<p>I am new to using the Jupyter notebook with <strong>R kernel</strong>.</p>
<p>I have R code written in two files <code>Settings.ipynb</code> and <code>Main_data.ipynb</code>.</p>
<p>My <code>Settings.ipynb</code> file has a lot of details. I am showing sample details below</p>
<pre><code>Schema = &quot;dist&quot;
resultsSchema = &quot;results&quot;
sourceName = &quot;hos&quot;
dbms = &quot;postgresql&quot; #Should be &quot;sql server&quot;, &quot;oracle&quot;, &quot;postgresql&quot; or &quot;redshift&quot;

user &lt;- &quot;hos&quot;
pw &lt;- &quot;hos&quot;
server &lt;- &quot;localhost/hos&quot;
port &lt;- &quot;9763&quot;
</code></pre>
<p>I would like to source <code>Settings</code> file in <code>Main_data</code> code file.</p>
<p>When I was using <code>R studio</code>, it was easy as I just use the below</p>
<pre><code> source('Settings.R')
</code></pre>
<p>But now in <code>Main_data</code> Jupyter Notebook with R kernel, when I write the below piece of code</p>
<pre><code> source('Settings.R')  # settings file is in same directory as main_data file
</code></pre>
<p>I get the below error</p>
<pre><code>Error in source(&quot;Settings.R&quot;): Settings.R:2:11: unexpected '['
1: {
2:  &quot;cells&quot;: [
             ^
Traceback:

1. source(&quot;Settings.R&quot;)
</code></pre>
<p>When I try the below, I get another error as shown below</p>
<pre><code>source('Settings.ipynb')

Error in source(&quot;Settings.ipynb&quot;): Settings.ipynb:2:11: unexpected '['
1: {
2:  &quot;cells&quot;: [
             ^
Traceback:

1. source(&quot;Settings.ipynb&quot;)
</code></pre>
<p>How can I source an <code>R code</code> and what is the right way to save it (<code>.ipynb</code> or <code>.R</code> format in a jupyter notebook (which uses R kernel)). Can you help me with this please?</p>
<p><strong>updated screenshot</strong></p>
<p><strong><a href=""https://i.stack.imgur.com/mzb9x.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/mzb9x.png"" alt=""strong text"" /></a></strong></p>
",981,3,<r><jupyter-notebook><jupyter><jupyter-lab><jupyter-irkernel>,2020-09-29 15:13:20
64100587,how to get the product after the colons,"<p>so im learning this program BMI calculator, and i want the answers to be written after the ':', not under it. can anyone help me pls? is it even possible to get that type of answer?</p>
<p>heres the code:</p>
<pre><code>name = &quot;hello&quot;
height_m = 2
weight_kg = 110

bmi = weight_kg / (height_m ** 2)
print(&quot;bmi:&quot;)
print(bmi)
if bmi &lt; 25:
    print(name)
    print(&quot;is not overweight&quot;)
else:
    print(name)
    print(&quot;is overweight&quot;)

#printed:
bmi:
27.5
hello
is overweight

#but what i want is this:
bmi: 27.5
hello is overweight
</code></pre>
",35,0,<python><jupyter-notebook><jupyter><jupyter-lab><jupyter-irkernel>,2020-09-28 10:39:38
64033509,Can't Render Google Directions Layer from HTML exported using Python embed_minimal_html,"<p>After exporting a jupyter-gmaps base map and directions to HTML using &quot;ipywidgets.embed.embed_minimal_html&quot; I'm having trouble showing the directions layers when I re-open the HTML map.</p>
<p>The base map and directions layers show up just fine in jupyter notebook as shown here:
<a href=""https://i.stack.imgur.com/sy1sU.png"" rel=""nofollow noreferrer"">Map and directions rendered in Jupyter Notebook</a></p>
<p>However, when the HTML file is re-opened using either a server (opened using &quot;python -m http.server 8080&quot;), or by double clicking on the saved file, or by using the code snippet below, only the base layer renders as shown here, along with some strange artifacts: <a href=""https://i.stack.imgur.com/YCOCT.png"" rel=""nofollow noreferrer"">What is rendered when the exported HTML is opened</a></p>
<pre><code>import IPython
IPython.display.HTML(filename='testest.html') 
</code></pre>
<p>The directions layers seem to be saving in the HTML because I get an error regarding the directions layers when I try to save the image, but the scripts aren't being rendered in the browser (<a href=""https://i.stack.imgur.com/ZTWyX.jpg"" rel=""nofollow noreferrer"">Error about directions layer when opening the HTML file)</a>.  Also, <a href=""https://i.stack.imgur.com/6L9oR.png"" rel=""nofollow noreferrer"">the following errors are displayed Chrome console</a>.</p>
<p>Here is the code I used to generate this map, if someone could help me figure out how to get the directions layers to render in the exported map I would really appreciate it :) .</p>
<pre><code>import gmaps
from ipywidgets.embed import embed_minimal_html,embed_data
import IPython
import os

#configure api
api_key = 'YOUR-API-KEY-HERE'
gmaps.configure(api_key=api_key)

#Define location 1, 2, and 3
Durango = (37.2753,-107.880067)
meow = (37.3654,-106.880067)
SF = (37.7749,-122.419416)

#Create the map
fig = gmaps.figure()

#create the layers
layer1 = gmaps.directions_layer(Durango, meow,travel_mode=&quot;DRIVING&quot;)
fig.add_layer(layer1)
layer2 = gmaps.directions_layer(Durango, SF,travel_mode=&quot;DRIVING&quot;)
fig.add_layer(layer2)

#Export the map and layers to HTML
embed_minimal_html(os.getcwd() + '\{}.html'.format(&quot;testest&quot;), views=[fig],title='test')

#show the map in Jupyter
fig
</code></pre>
<p>Thanks!!</p>
",266,0,<python><html><google-maps><jupyter-notebook><ipywidgets>,2020-09-23 17:42:52
64000632,I want to make 2 drop menu & 1 slide bar at jupyter notebook,"<p>I have a dataframe that contains the category of the item, item_id, the sales of all days and the total sales of each product(sum(axis=1)).</p>
<p>The next 4 dataframes have 2 columns item_id and sales depending on the category and their name is household_sort,hobbies_sort,foods_sort and sales_total that includes the total sales of each product.</p>
<p>I want to create 3 dependent widgets (2 drop menu and 1 slide bar) at jupyter notebook.First i want a drop menu about some categories of prducts  (for example sales of foods) which are defined in dictionary cat in the code below.After a slidebar where the user will specify the limits of  total sales from the category of th first drop menu.Finally drop menu with item id according to the previous
I tried this code but i cant change the values of the second drop menu.</p>
<pre><code>from ipywidgets import interact, Dropdown
import ipywidgets as wg
range_slider=wg.IntRangeSlider(value=[1000,10000],min=sales_total['total'].min() - 5,max=sales_total['total'].max() + 5,description='Test:',readout_format='d')

cat={'HOBBIES_SALES':hobbies_sort[(hobbies_sort['total']&gt;= range_slider.value[0]) &amp; (hobbies_sort['total']&lt;=range_slider.value[1])]['item_id'],
     'HOUSEHOLD_SALES':household_sort[(household_sort['total']&gt;= range_slider.value[0]) &amp; (household_sort['total']&lt;=range_slider.value[1])]['item_id'],
     'FOODS_SALES':foods_sort[(foods_sort['total']&gt;= range_slider.value[0]) &amp; (foods_sort['total']&lt;=range_slider.value[1])]['item_id'],
     'TOTAL_SALES':sales_total[(sales_total['total']&gt;=range_slider.value[0]) &amp; (sales_total['total']&lt;=range_slider.value[1])]['item_id']}
catW=Dropdown(options=cat.keys())
idW=Dropdown(options=cat[catW.value])

    
display(catW,range_slider,idW)
</code></pre>
",648,1,<python><drop-down-menu><jupyter-notebook><sidebar><ipywidgets>,2020-09-21 22:14:34
63972892,How to work with two ipysheets at the same time. accesing cell atributes,"<p>I want to render two ipysheets in a particular notebook
as an example assume I have:</p>
<pre><code>mysheet1 = ipysheet.sheet(rows=3, columns=4)
mysheet2 = ipysheet.sheet(rows=3, columns=4)
</code></pre>
<p>If I now do:</p>
<pre><code>cell1 = ipysheet.cell(0, 0, 'Hello')
cell2 = ipysheet.cell(2, 0, 'World')
cell_value = ipysheet.cell(2,2, 42.)
</code></pre>
<p>the values are changed in sheet 2.
This is really weird. why is that that the last sheet created is modified?</p>
<p>why is following not working?</p>
<pre><code>cell1 = mysheet1.cell(0, 0, 'Hello')
</code></pre>
<p>nor</p>
<pre><code>mysheet1.cell(0, 0, 'Hello')
</code></pre>
<p>I would assume that since all is an object in pyhton ipysheet is also an object but it &quot;cell&quot; is not an atribute of mysheet1.</p>
<p>any plausible explanation?</p>
<p>This is actually extendable to column atributes.</p>
",330,2,<python><jupyter-notebook><ipywidgets>,2020-09-19 19:57:18
63958693,"Implement a ""reset"" button when using @interact decorator in Jupyter","<p>I'm trying to do a simple button to &quot;reset&quot; widgets to certain default values. I'm using the <code>@interact</code> decorator in Jupyter Lab environment. The problem is that the widgets identifiers have their values copied to the same identifiers used as float variables inside the function and therefore I cannot access them anymore within this new scope. Here is a short example (not working):</p>
<pre><code>import numpy as np
import matplotlib.pyplot as plt
from ipywidgets import interact, Button

@interact(starts_at=(0, np.pi*0.9, np.pi*0.1), ends_at=(np.pi, 2*np.pi, np.pi*0.1))
def plot_graph(starts_at=0, ends_at=2*np.pi):
    
    def on_button_clicked(_):
        # instructions when clicking the button (this cannot work)
        starts_at = 0
        ends_at = 2*np.pi
        
    button = Button(description=&quot;Reset&quot;)
    button.on_click(on_button_clicked)
    display(button)
    
    f = lambda x : sum(1/a*np.sin(a*x + np.pi/a) for a in range(1,6))
    x = np.linspace(0, 2*np.pi, 1000)
    plt.plot(x, f(x))
    plt.xlim([starts_at, ends_at])
</code></pre>
<p>Does anybody know how to send to the scope of the decorated function a reference to the original widget objects? I'll be accepting also simple ways of implementing a button to reset those sliders.</p>
<p>:-D</p>
<p>Edit: corrected text flow</p>
",672,4,<python><jupyter><ipywidgets>,2020-09-18 15:33:49
63946302,Dropdown in ipywdigets,"<p>I would like to add a dropdown box using ipywidgets. I have a function with a Pandas DataFrame and would like a dropdown to select how many rows to show. I have this:</p>
<pre><code>get_forwards = interactive(
    get_forwards, 
    {&quot;manual&quot;: True, &quot;manual_name&quot;: &quot;Forwards&quot;},)
get_forwards
</code></pre>
<p>with this:</p>
<pre><code>widgets = [get_squad, get_goalkeepers, get_defenders, get_midfielders, get_forwards]
names = [&quot;Squad&quot;, &quot;Goalkeepers&quot;, &quot;Defenders&quot;, &quot;Midfielders&quot;, &quot;Forwards&quot;]
view = Tab(widgets)
for i in range (len(view.children)):
    view.set_title(i, names[i])
view
</code></pre>
<p>I would like to add a dropdown box to each tab if possible. Can anyone help?</p>
",642,2,<jupyter-notebook><ipython><jupyter><ipywidgets>,2020-09-17 21:17:52
63936939,Use external CSS font in Plotly within Jupyter notebook,"<p>I would like to use an external font in a Plotly graph made within Jupyter notebook.</p>
<p>From <a href=""https://stackoverflow.com/questions/32156248/how-do-i-set-custom-css-for-my-ipython-ihaskell-jupyter-notebook"">How do I set custom CSS for my IPython/IHaskell/Jupyter Notebook?</a> I made a cell adding Poppins font whose embed i got from Google Fonts page.</p>
<pre><code>%%html
&lt;style&gt;
&lt;link href=&quot;https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700;800;900&amp;display=swap&quot; rel=&quot;stylesheet&quot;&gt;
&lt;/style&gt;
</code></pre>
<p>Next using simple Plotly graph as an example I tried to use Poppins font in the next Jupyter code cell</p>
<pre><code># https://plotly.com/python/figure-labels/
import plotly.graph_objects as go
fig = go.Figure()
fig.add_trace(go.Scatter(
    x=list(range(10)),
    y=[n**2 for n in range(10)]
))
fig.update_layout(
    title=&quot;My Plot Title&quot;,
    font=dict(
        family=&quot;Poppins, monospace&quot;, # only this part should matter
        size=20
    )
)
fig.show()
</code></pre>
<p>The graph is showing monospace, so that means that Poppins font failed to display.</p>
<p>From Chrome Dev tools it seems that %%HTML cell failed to load the font as there is no call to googleapis url.</p>
<p>I am running my own Littlest Jupyter Hub instance so I would consider also making a custom.css</p>
",338,1,<python><css><plotly><jupyter><jupyterhub>,2020-09-17 11:20:39
63936011,In python notebook Change the height of a ipywidget,"<p>I am using ipywidgets in jupyterlab for displaying later on with voila.</p>
<p>In order to display information I create several text on containers</p>
<pre><code>wd_EXTRA_output = widgets.Output(layout={'border': '1px solid black'})
with wd_EXTRA_output:
    print('Information will be displayed here... ')
</code></pre>
<p>I dont want to pass a 'height' at the moment of creating the Output widget.</p>
<p>How can I later on modify the height of that widget?</p>
<pre><code> wd_EXTRA_output(layout={'height': '200px'})
</code></pre>
<p>Note: I know I could have passed the height at the moment of creating the widget, but for particular reasons I cant do that.</p>
",412,0,<python><ipywidgets><voila>,2020-09-17 10:21:18
63922146,Is there a way to catch in a variable the output of a function after it is called by an ipywidgets button click?,"<p>I am working on a project that uses ipywidgets and I have a question concerning the button on_click method. I am trying to store the output of the function that is called by the button in a variable (without having to make it global). Here is a simplified example:</p>
<pre><code>import ipywidgets as widgets

my_btn = widgets.Button(description='Press me!', disabled=False, button_style='', tooltip='Click me', icon = '')

def affect_value():
    return 10

display(my_btn)

x = my_btn.on_click(affect_value)
</code></pre>
<p>So I know this cannot work because the variable is being affected a value before the button is clicked, but at least it shows what I am trying to do (I hope).</p>
<p>Thanks in advance!</p>
",54,1,<python-3.x><ipywidgets>,2020-09-16 14:23:24
63897367,How to increase slider length in ipywidgets,"<p>Suppose, I have the following code:</p>
<pre><code>from ipywidgets import interact, interactive
import ipywidgets as widgets

def f(x):
    return x
interact(f, x=(0,10,1));
</code></pre>
<p>The resulting interactive slider is nice but pretty small in terms of horizontal length. When the range of x is large, such as 0 - 1000, it becomes exceedingly difficult taking small steps using that slider. How can I increase the length of the slider?</p>
",4378,11,<python-3.x><jupyter-notebook><ipywidgets>,2020-09-15 07:48:17
63883716,Ipywidgets user interaction with a chain of functions at different entry points,"<p>I have a chain of data processing steps in a JupiterLab cell. Each step is less and less computation-intensive and all require user inputs. I would like to run the computation only from the point affected by the user-interaction and re-use results from previously executed steps.</p>
<p>Here is my try:</p>
<pre><code>import ipywidgets
from IPython.display import display

# This function cost a lot and I want to run it sparingly
def step1(input1):
    output1 = 10*input1
    return output1

# This function is cheap and runs frequently
# but builds on the result of the first function
def step2(output1, input2):
    output2 = output1+input2
    output2 = display(output2)
    return output2

# This function runs the whole sequence 
def process_from_step1(input1,input2):
    output1 = step1(input1)
    output2 = step2(output1, input2)
    return output1

# This function runs only the second step of the sequence 
def process_from_step2(input2):
    output1 = ie1.result
    output2 = step2(output1, input2)
    return

# User input widgets
input1_slider = ipywidgets.IntSlider()
input2_slider = ipywidgets.IntSlider()

# I'm running the full sequence at start,
# but it would be better to avoid this
process_from_step1(input1_slider.value,input2_slider.value)

ie1 = ipywidgets.interactive(process_from_step1,input1=input1_slider,input2=input2_slider)
ie2 = ipywidgets.interactive(process_from_step2 ,input2=input2_slider)

ipywidgets.VBox([ie1.children[0],ie2.children[0],ie2.children[-1]])
</code></pre>
<p><strong>My questions:</strong></p>
<p>A, In my code I have to use input2 after input1 to have the results displayed. How can I display the results after using the only input1?</p>
<p>B, How can I generalize the pattern for more than 2 steps and inputs?</p>
",84,0,<python><interactive><ipywidgets>,2020-09-14 11:50:01
63855025,Can't load R packages after installation,"<p>So I have installed R 3.6.3 and I am getting errors when I am trying to load packages, after installing them. I am getting the following errors -</p>
<pre><code>&gt; library(cartogram)
Error: package or namespace load failed for ‘cartogram’ in get(Info[i, 1], envir = env):
lazy-load database 'C:/Users/soumy/Documents/R/win-library/3.6/Rcpp/R/Rcpp.rdb' is corrupt
In addition: Warning message:
In get(Info[i, 1], envir = env) : internal error -3 in R_decompress1
&gt; library(tmap)
Error: package or namespace load failed for ‘tmap’ in get(Info[i, 1], envir = env):
lazy-load database 'C:/Users/soumy/Documents/R/win-library/3.6/digest/R/digest.rdb' is corrupt
In addition: Warning message:
In get(Info[i, 1], envir = env) : internal error -3 in R_decompress1
&gt; library(devtools)
Loading required package: usethis
Error: package or namespace load failed for ‘usethis’ in get(Info[i, 1], envir = env):
lazy-load database 'C:/Users/soumy/Documents/R/win-library/3.6/rlang/R/rlang.rdb' is corrupt
Error: package ‘usethis’ could not be loaded
In addition: Warning message:
In get(Info[i, 1], envir = env) : internal error -3 in R_decompress1
&gt; library(pacman)
&gt; pacman :: p_load(ggplot2)
Installing package into ‘C:/Users/soumy/Documents/R/win-library/3.6’
(as ‘lib’ is unspecified)
Warning: unable to access index for repository 
http://www.stats.ox.ac.uk/pub/RWin/bin/windows/contrib/3.6:
 cannot open URL 'http://www.stats.ox.ac.uk/pub/RWin/bin/windows/contrib/3.6/PACKAGES'
trying URL 'https://cran.rstudio.com/bin/windows/contrib/3.6/ggplot2_3.3.2.zip'
Content type 'application/zip' length 4068914 bytes (3.9 MB)
downloaded 3.9 MB

package ‘ggplot2’ successfully unpacked and MD5 sums checked

The downloaded binary packages are in
C:\Users\soumy\AppData\Local\Temp\RtmpcTrH1e\downloaded_packages

ggplot2 installed
Warning messages:
1: In get(Info[i, 1], envir = env) : internal error -3 in R_decompress1
2: In pacman::p_load(ggplot2) : Failed to install/load:
ggplot2
</code></pre>
<p>I have tried adding R, Rtools and Rstudio to the system variable Path, tried restarting R, tried reinstalling R multiple times but no luck.</p>
<p>I tried to install R in Anaconda Jupyter notebook too, although it was installed the R kernel didn't load and showed these errors -</p>
<pre><code>Error in get(Info[i, 1], envir = env) :
  lazy-load database 'C:/Users/soumy/Documents/R/win-library/3.6/digest/R/digest.rdb' is corrupt
Calls: :: ... namespaceImport -&gt; loadNamespace -&gt; registerS3methods -&gt; get
In addition: Warning message:
In get(Info[i, 1], envir = env) : internal error -3 in R_decompress1
Execution halted
[I 03:27:26.891 LabApp] Kernel started: e5475cc5-3dcc-4ab4-a0fb-a4c106b53d4f
[I 03:27:27.380 LabApp] KernelRestarter: restarting kernel (1/5), new random ports
Error in get(Info[i, 1], envir = env) :
 lazy-load database 'C:/Users/soumy/Documents/R/win-library/3.6/digest/R/digest.rdb' is corrupt
Calls: :: ... namespaceImport -&gt; loadNamespace -&gt; registerS3methods -&gt; get
In addition: Warning message:
In get(Info[i, 1], envir = env) : internal error -3 in R_decompress1
Execution halted
</code></pre>
<p>The similar nature of the error suggests that maybe there is something wrong with the R console?</p>
<p>Please help.</p>
",748,2,<r><package><jupyter-irkernel><pacman-package-manager>,2020-09-11 22:23:26
63850026,“Error in Authenticator.pre_spawn_start: DockerException Error while fetching server API version” while starting jupyterhub with DockerSpawner,"<p>I started using jupyterhub, right now I am fighting with errors, and I hope you can help a little.
I have a working jupyterhub configuration:</p>
<pre><code>import environ 
import simplespawner
import tmpauthenticator

ROOT_DIR = environ.Path(__file__) - 2
env = environ.Env()
env.read_env(str(ROOT_DIR.path(&quot;.env&quot;)))

c.JupyterHub.port = 8008
c.JupyterHub.authenticator_class = tmpauthenticator.TmpAuthenticator
c.JupyterHub.spawner_class = simplespawner.SimpleLocalProcessSpawner
c.Spawner.notebook_dir = NOTEBOOK_DIR
</code></pre>
<p>and it’s ok, but right now I’d like to change SimpleLocalProcessSpawner to DockerSpawner. I ran</p>
<pre><code>docker pull jupyterhub/singleuser
</code></pre>
<p>and changed above configuration into:</p>
<pre><code>....
c.JupyterHub.spawner_class = dockerspawner.DockerSpawner
c.DockerSpawner.image = 'jupyterhub/singleuser:latest'
docker0 = netifaces.ifaddresses('docker0')
docker0_ipv4 = docker0[netifaces.AF_INET][0]
c.JupyterHub.hub_ip = docker0_ipv4['addr']
</code></pre>
<p>Right now I end up with error:</p>
<blockquote>
<p>500 : Internal Server Error Error in Authenticator.pre_spawn_start:
DockerException Error while fetching server API version: (‘Connection
aborted.’, PermissionError(13, ‘Permission denied’)) You can try
restarting your server from the home page.</p>
</blockquote>
<p>Can you tell me what am I doing wrong?</p>
<p>EDIT:
Writing:</p>
<pre><code>sudo chmod 666 /var/run/docker.sock
</code></pre>
<p>allows me to run jupyterhub in this configuration. Problem is I must run it after each restart of computer. How to make it permanent?</p>
",960,0,<docker><jupyterhub>,2020-09-11 15:27:33
63837118,How to change database to Postges in JupyterHub?,"<p>I am trying to run jupyterhub with my config and I would like to change database form SQLite, that is created by default to PostgreSQL that alredy exists and has some tables (jupyterhub and other app would work concurrently and share database). On website only thing I see is:</p>
<blockquote>
<p>We recommend using PostgreSQL for production if you are unsure  ...</p>
</blockquote>
<p>But no word how to change this database. Have you done this before and can describe it? Like do I ahve to create some tables on my own or do I just pass a link and jupyterhub willl do the rest?</p>
",712,0,<postgresql><jupyterhub>,2020-09-10 20:16:34
63819834,How to take inputs from many widgets but only recalculate when submit button is pressed?,"<p>I have some code that takes inputs from a series of widgets and then does some calculations on a pandas DataFrame and prints the output. At the moment the calculations are triggered every time any of the widgets change. Given that the calculations take a bit of time to do I'd like to delay the calculations until I press a submit button widget. I can't quite work out how to tie the submit button to a function that then also reads the other widgets.</p>
<p>This is a simplified version of what I have:</p>
<pre><code>import ipywidgets as widgets

# input widgets that should only change the calcs after hitting the submit function
value_1 = widgets.BoundedFloatText(value=0.5, min=0, max=1, step=0.05)
value_2 = widgets.BoundedFloatText(value=0.5, min=0, max=1, step=0.05)

# submit button
submit_button = widgets.Button(description='submit')

# submit function
def submit():
    # I don't know what to put here to restrict the triggering of the recalculate function until
    # submit button is pressed
    pass

# recalculate function
def recalculate(value_1, value_2):
    # code to perform some calcs on a dataframe based on the widget inputs and print the result

# tie submit button to a function
submit_button.on_click(submit)

# code that ties the input calculations to the calculations
out = widgets.interactive_output(recalculate, {'value_1': value_1, 'value_2': value_2})

# display widgets
widgets.VBox([value_1, value_2, submit_button, out]
</code></pre>
",574,1,<jupyter><ipywidgets>,2020-09-09 21:32:23
63816823,Using R on Jupyter on Mac Catalina: Making the installation visible globally does not work,"<p>I am trying to use R on jupyter. I have run the commands in my terminal from <a href=""https://www.chrisjmendez.com/2018/12/04/configure-jupyter-notebook-to-work-with-r/"" rel=""nofollow noreferrer"">here</a>. Everything works well until trying to make the installation visible globally. Whether I use <code>IRkernel::installspec()</code> or <code>IRkernel::installspec(user = FALSE)</code> (as recommended <a href=""https://irkernel.github.io/installation/"" rel=""nofollow noreferrer"">here</a> and <a href=""https://stackoverflow.com/questions/63463273/using-r-with-jupyter-notebook-installation"">here</a>), I still get the error message:</p>
<p><a href=""https://i.stack.imgur.com/70rX0.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/70rX0.png"" alt=""enter image description here"" /></a></p>
<p>My macOS is Catalina 10.15.6</p>
<p>What's the trick?</p>
",485,1,<r><jupyter-notebook><jupyter-lab><jupyter-irkernel>,2020-09-09 17:40:15
63789051,How can I make use of swap space/virtual RAM in Jupyter lab/notebook?,"<p>I am running processes in Jupyter (lab) in a JupyterHub-created container running on Kubernetes.</p>
<p>The processes are too RAM-intensive, to the extent that the pod sometimes gets evicted due to an OOM.</p>
<p><strong>Without modifications to my code/algorithms etc., how can I in the general case tell Jupyter(Lab) to use swap space/virtual memory when a predefined RAM limit is reached?</strong></p>
<p>PS This question has no answer mentioning swap space - <a href=""https://stackoverflow.com/questions/58400437/jupyter-lab-freezes-the-computer-when-out-of-ram-how-to-prevent-it"">Jupyter Lab freezes the computer when out of RAM - how to prevent it?</a></p>
",749,1,<python><kubernetes><jupyter-notebook><jupyter-lab><jupyterhub>,2020-09-08 07:27:40
63784503,Make Python script wait for button click ipywidgets,"<p>I'm sorry if this question has already been answered, but I couldn't find anything on here (except this one which hasn't been answered: <a href=""https://stackoverflow.com/questions/54629964/how-to-pause-jupyter-notebook-widgets-waiting-for-user-input"">link</a> and one that doesn't quite answer the question i'm asking <a href=""https://stackoverflow.com/questions/54813069/python-onclick-button-widget-return-object"">link</a></p>
<p>I'm creating a button with ipywidgets, but the script doesn't wait for the button to be clicked. Here's a sample of the code/what I'm trying to achieve:</p>
<pre><code>button = widgets.Button(description = &quot;Click&quot;)
output = widgets.Output()
display(button, output)

def on_button_clicked(b):
     with output:
     print(&quot;button clicked&quot;)

button.on_click(on_button_clicked)
print(&quot;Python is ignoring you&quot;)
</code></pre>
<p>If I run this, I'll just get &quot;Python is ignoring you&quot; before I click the button. I want it to display the button, wait for the person to click it, and only then execute the rest (&quot;Python is ignoring you&quot;).</p>
<p>Does anyone have an idea of how I can make python wait for the button to be clicked?</p>
<p>Would appreciate any help! Thanks</p>
",1424,0,<python><python-3.x><ipywidgets>,2020-09-07 21:31:23
63767617,"Why the button can not show the data, when is running the button got showing out but when click it is no fuction","<pre><code>import nltk
from nltk.chat.util import Chat, reflections
import pandas as pd
import ipywidgets as widgets
from ipywidgets import interact, interact_manual,fixed

df = pd.read_excel (r'C:\Users\Desktop\ex\ex_dataset.xlsx', sheet_name='Sheet3')

print ('Travel Suggestion')

pairs=[
   ['My name is (.*)',['hi %1']],
   ['What is Travel Suggestion',['Travel Suggestion is suggest the best of Restaurant or Tourist attraction']],
   
]

widgets.interact_manual.opts['manual_name'] = 'Restaurant'
def Restaurant():
    print(df)
    
interact_manual(Restaurant)
chat = Chat(pairs,reflections)
chat.converse()
</code></pre>
",39,0,<python><ipywidgets>,2020-09-06 18:34:24
63754426,JupyterHub JupyterLab - ImportError: cannot import name 'AsyncKernelManager' from 'jupyter_client.manager',"<p>I have been running JupyterHub under k8s in notebook mode but want to switch to JupyterLab now. When I launch JupyterLab first I am asked to rebuild the kernel (which fails) so I then rather don't rebuild. Next:</p>
<p>When I try to launch a python3 kernel, in the logs (JS console and on the container backend) I get:</p>
<pre><code>ImportError: cannot import name 'AsyncKernelManager' from 'jupyter_client.manager'
</code></pre>
<p>If I open a terminal from inside JupyterLab and execute</p>
<pre><code>python -c &quot;from jupyter_client import AsyncKernelManager&quot;
</code></pre>
<p>there is no problem.</p>
<p>How on earth to proceed?</p>
<p>PS There is an open github ticket on this here - without much information <a href=""https://github.com/jupyter/jupyter_client/issues/551"" rel=""nofollow noreferrer"">https://github.com/jupyter/jupyter_client/issues/551</a></p>
",1986,3,<python><kubernetes><jupyter-notebook><jupyter-lab><jupyterhub>,2020-09-05 13:28:07
63745401,JupyterLab in a psychology experiment where participants use JupyterLab,"<p>I'm preparing a series of experiments investigating how people learn while interacting with JupyterLab.</p>
<p>Like any psychology experiment, this will require <em>experimental control</em>, meaning that I need disable parts of the interface to prevent participants from going off task during the study.</p>
<p>It would also be helpful to put JupyterLab in a particular state for each user, e.g. extensions active and tabs/panes in a particular layout.</p>
<p>Any suggestions along the above would be appreciated. I have previously set up a JupyterHub (TLJH) and developed an extension, so I have some background knowledge on this topic.</p>
",61,0,<jupyter-notebook><jupyter><jupyter-lab><jupyterhub>,2020-09-04 17:10:34
63730494,How to Share a Jupyter Notebook with a CSV Input,"<p>I am building a heat map for my company from a generated csv. After a lot of reading I built it using jupyter notebooks (online) using the gmaps API. I've never done anything like this before and jupyter/python/gmaps made it easy to accommodate my requirements (allows for zooming, hovering over a point displays data, easy data cleaning).</p>
<p>Now I've reached the point where I need to share what I have built (with non-programmers). Right now the user can hit a button and a csv generates, I then take that csv and manually place it in my jupyter notebook folder, my code reads it in via pandas and generates the heatmap. I've seen a lot of resources pointing to github, nbviewer, Colaboratory and others but can't seem to find anything that allows user input. Ideally users would be able to click the button and a heatmap would appear (online or not). Security is also an issue so I am not able to make this project public.</p>
<p>Is there a way to make jupyter notebooks (with gmaps) into an executable that allows input? Or another way to securely share my project that automates the csv upload? Am I looking at this from completely the wrong angle and need to change my technology?</p>
<p>Thank you very much in advanced! I am new to this kind of project and appreciate any help :)</p>
<p>More Info:
Windows 10,
General environment: visual studio 2019 C#,
Current project: python 3</p>
",280,3,<python><jupyter-notebook><exe><heatmap><jupyterhub>,2020-09-03 19:32:34
63715939,linking jupyter widget text box to a function plotting a graph,"<p>I am trying to construct a user interface in Jupyter notebook that is able to link one function with a text widget and button widget.</p>
<p>My function creates a plot for the stock price of a given stock from a start date to end date. The functions is as follow</p>
<pre><code>import pandas_datareader as pdr

from datetime import datetime


 def company(ticker):
    strt=datetime(2020,1,1)
    end=datetime.now()
    dat=pdr.get_data_yahoo(ticker, strt, end)
    return dat['Close'].plot(grid=True)
</code></pre>
<p>The following command plots apple stock price.</p>
<pre><code>company('AAPL')
</code></pre>
<p>Now i create a text and button widget as follow</p>
<pre><code>import ipywidgets as ipw

 box=ipw.Text(
value='Stock handle',
placeholder='Type something',
description='String:',
disabled=False)


 btn=ipw.ToggleButton(
 value=False,
description='Plot',
disabled=False,
button_style='', # 'success', 'info', 'warning', 'danger' or ''
tooltip='Description',
icon='check' # (FontAwesome names without the `fa-` prefix))
    
</code></pre>
<p>I tried to link the function company with box as follow:
box.on_submit(company)</p>
<p>When I write AAPL in box it gives me error &quot;TypeError: object of type 'Text' has no len()
&quot;
My goal is to create an interface where i write the name of the stock('AAPL') in the box and click the btn at which point the plot of the stock price will appear.</p>
<p>Any help is appreciated. Thank you.</p>
",114,0,<function><ipywidgets>,2020-09-03 02:28:51
63687804,Where are the logs for jupyterhub?,"<p><strong>IMPORTANT: <em>I use Jupyter notebooks by visiting my employer's jupyterhub website, and logging in. I never actually run the <code>jupyterhub</code> command on the command line.</em></strong></p>
<p>I mention this up-front because so much of the information I find online on jupyterhub presupposes that the user, at some point, runs the <code>jupyterhub</code> command on the command line, but <em>I never do this</em>, per company SOP.  Please keep this in mind at the time of posting an answer.</p>
<hr />
<p>I just discovered, after <em>hours</em> of troubleshooting and head-scratching, that the reason a particular conda virtual environment/kernel was not showing up among the choices revealed upon expanding the <kbd>New</kbd> button in my jupyterhub homepage was a <em>1-character typo in a kernel.json file</em>.</p>
<p>As far as the user (me) was concerned, the jupyterhub startup was going through without a hitch.</p>
<p>In reality, this one small typo was causing the entire processing of this candidate kernel to be silently aborted.</p>
<p>A simple warning would have saved me hours and hours of work.</p>
<p>The next best thing would have been to be able to examine any log messages that jupyterhub may produce in such situations.</p>
<hr />
<p>Does <code>jupyterhub</code> keep a log?</p>
<p>Assuming that the answer to this first question is &quot;yes&quot;, I have a few follow-up questions:</p>
<ul>
<li>How can I view this log?</li>
<li>Is there a way to make this log (if it exists) maximally verbose?</li>
<li>Is it possible to have the log messages also displayed directly on the web interface?</li>
</ul>
",5545,3,<jupyterhub>,2020-09-01 12:35:34
63687348,"SystemError: Parent module 'setuptools' not loaded, cannot perform relative import, jupyterhub","<p>I am running juypterhub and all my kernels are unable to restart although terminals are just working fine. I went through some other answers and downgraded <code>setup tools</code> to <code>49.3.0</code> but still my kernels are unable to restart.</p>
<p>The error on the server is:</p>
<blockquote>
<p>SystemError: Parent module 'setuptools' not loaded, cannot perform
relative import</p>
</blockquote>
<pre><code>Python - 3.5.2
</code></pre>
<p>How to resolve this?</p>
",205,0,<python><jupyter-notebook><setuptools><jupyterhub>,2020-09-01 12:07:44
63664571,Jupyter cells have no ouput,"<p>new to python. My code is using JSON to look at js dictionary online.  I can execute simple print statements from inside of the dictionary I have made, but if I try to print from within a for-loop or a function the cell has no output. It also doesn't throw an error though. I have tried it in different browser and have recently uninstalled and installed Anaconda in order to resolve another issue (which could be related, I was having trouble importing a package from Anaconda and had to initialize the package in jupyter.)</p>
<p>Any help would be appreciated</p>
",35,0,<python><jupyter-notebook><jupyter-irkernel><jupyter-console>,2020-08-31 03:53:46
63617714,Deploy an interactive ipywidget jupyter notebook,"<p>I have created a plot (with bqplot) with some sliders with (ipywidgets) in a jupyter notebook using Jupyter Lab and now I would like to send this notebook to anyone and have the widget work, that is, when I'm running the code, everything works fine, but as soon as I shut down the kernel and load the notebook again I have to run all the code again to have the widget working again. How can I do this?</p>
",190,2,<python><jupyter-notebook><jupyter-lab><ipywidgets><bqplot>,2020-08-27 14:02:10
63607686,There is a way to hide slider's (ipywidgets) value?,"<p>I want to hide the value next this <a href=""https://i.stack.imgur.com/XevWG.png"" rel=""nofollow noreferrer"">slider</a>. Any way to do it?</p>
",252,0,<jupyter-notebook><ipywidgets>,2020-08-27 00:57:34
63583446,Local development and remote deploying in GCP/JupyterHub,"<p>I have a multi-user JupyterHub instance deployed in a VM in GCP. I'm trying to find a way to have local development of the source code and remote deploying in the VM, since the JupyterHub is multi-user but single-instance, thus preventing remote development by several users.</p>
<p>Is this even possible, or should I approach this in another way?</p>
",85,0,<git><google-cloud-platform><jupyterhub>,2020-08-25 16:41:44
63543877,Widget to show that function is 'running' in published Jupyter Notebook,"<p>In a published Jupyter notebook is there a way to insert a widget that says &quot;running&quot; or something similar when I am running a function.</p>
<p>I am aware of the tqdm function but to the best of my knowledge this is only when the function / process contains a for-loop.</p>
<p>I currently have a series of dropdown widgets with a submit button but some of the functions take a while for the calcs to run so i have no way of telling if the're running or not</p>
<p>Cheers</p>
",529,0,<python><jupyter-notebook><ipywidgets>,2020-08-23 05:55:32
63521954,Jupyterhub on Kubernetes + Nginx - No spawning after login,"<p><strong>Context</strong>: Using Terraform I created an EKS cluster on AWS. On that cluster I installed Nginx Ingress using Helm 3. TLS is performed using Let's Encrypt with cert-manager. Subsequently I can add web exposed applications using deployment, services and ingress yaml files.</p>
<p><strong>Problem</strong>: Something that does not work for me is deploying JupyterHub successfully. Installation and exposure work fine, with JupyterHub using the TCP protocol and cert-manager creating the certificates successfully. The problem starts when a user logs in successfully into jupyterhub but a <code>invalid or expired cookie token</code> occurs when jupyterhub is supposed to spawn a notebook.</p>
<p><strong>Question</strong>: It is unclear to me why the spawning does not work and how this can be resolved. Does anyone have a suggestion to better understand the issue?</p>
<p>The <code>jupyterhub_config.py</code> is as follows:</p>
<pre><code>c = get_config()
c.JupyterHub.authenticator_class = 'jupyterhub.auth.DummyAuthenticator'
c.Authenticator.allowed_users = {'dummy'}
c.Authenticator.admin_users = {'dummy'}
c.DummyAuthenticator.password = &quot;fakenews&quot;
c.JupyterHub.admin_access = True
</code></pre>
<p>The <code>deployment.yaml</code> is as follows:</p>
<pre><code>---
apiVersion: apps/v1
kind: Deployment
metadata:
  annotations:
    deployment.kubernetes.io/revision: &quot;1&quot;
  generation: 1
  labels:
    run: jupyterhub
  name: jupyterhub
  namespace: jhub
spec:
  progressDeadlineSeconds: 600
  replicas: 2
  revisionHistoryLimit: 2
  selector:
    matchLabels:
      run: jupyterhub
  template:
    metadata:
      creationTimestamp: ~
      labels:
        run: jupyterhub
    spec:
      containers:
        - name: jupyterhub
          image: &quot;jupyterhub/jupyterhub:latest&quot;
          imagePullPolicy: IfNotPresent
          ports:
            -
              containerPort: 8000
              protocol: TCP
          terminationMessagePolicy: File
          volumeMounts:
            -
              mountPath: /srv/jupyterhub/jupyterhub_config.py
              name: jupyterhub-config
              subPath: jupyterhub_config.py
      dnsPolicy: ClusterFirst
      restartPolicy: Always
      schedulerName: default-scheduler
      securityContext: {}
      terminationGracePeriodSeconds: 30
      volumes:
        -
          configMap:
            name: jupyterhub-config
          name: jupyterhub-config
</code></pre>
<p>The <code>ingress.yaml</code> is as follows:</p>
<pre><code>apiVersion: extensions/v1beta1
kind: Ingress
metadata:
  name: ingress-resource
  annotations:
    kubernetes.io/ingress.class: nginx
    cert-manager.io/cluster-issuer: &quot;letsencrypt-prod&quot;
    nginx.ingress.kubernetes.io/ssl-redirect: &quot;false&quot;
spec:
  tls:
  - hosts:
    - hub.example.com
    secretName: hub-example-com-tls
  rules:
  - host: hub.example.com
    http:
      paths:
      - path: /
        backend:
          serviceName: jupyterhub
          servicePort: 8000
</code></pre>
<p>The commands used:</p>
<pre><code>$ kubectl create configmap jupyterhub-config --from-file=./jupyterhub_config.py
$ kubectl create -f deployment.yaml
$ kubectl expose deployment jupyterhub
$ kubectl apply -f ingress.yaml
</code></pre>
<p>This results in a successful secure deployment web service on <code>https://hub.example.com</code>. But after logging in, the jupyterhub container log gives an <code>invalid or expired cookie token</code> when trying to spawn a jupyter instance.</p>
<pre><code>[I 2020-08-21 08:26:42.725 JupyterHub app:2307] Running JupyterHub version 1.2.0dev
[I 2020-08-21 08:26:42.726 JupyterHub app:2338] Using Authenticator: jupyterhub.auth.DummyAuthenticator-1.2.0dev
[I 2020-08-21 08:26:42.726 JupyterHub app:2338] Using Spawner: jupyterhub.spawner.LocalProcessSpawner-1.2.0dev
[I 2020-08-21 08:26:42.726 JupyterHub app:2338] Using Proxy: jupyterhub.proxy.ConfigurableHTTPProxy-1.2.0dev
[I 2020-08-21 08:26:42.735 JupyterHub app:1442] Writing cookie_secret to /srv/jupyterhub/jupyterhub_cookie_secret
[I 2020-08-21 08:26:42.752 alembic.runtime.migration migration:155] Context impl SQLiteImpl.
[I 2020-08-21 08:26:42.752 alembic.runtime.migration migration:162] Will assume non-transactional DDL.
[I 2020-08-21 08:26:42.758 alembic.runtime.migration migration:515] Running stamp_revision  -&gt; 4dc2d5a8c53c
[I 2020-08-21 08:26:42.809 JupyterHub proxy:461] Generating new CONFIGPROXY_AUTH_TOKEN
[I 2020-08-21 08:26:42.850 JupyterHub app:2377] Initialized 0 spawners in 0.002 seconds
[W 2020-08-21 08:26:42.853 JupyterHub proxy:643] Running JupyterHub without SSL.  I hope there is SSL termination happening somewhere else...
[I 2020-08-21 08:26:42.853 JupyterHub proxy:646] Starting proxy @ http://:8000
08:26:43.359 [ConfigProxy] info: Proxying http://*:8000 to (no default)
08:26:43.362 [ConfigProxy] info: Proxy API at http://127.0.0.1:8001/api/routes
08:26:43.474 [ConfigProxy] info: 200 GET /api/routes 
[I 2020-08-21 08:26:43.475 JupyterHub app:2622] Hub API listening on http://127.0.0.1:8081/hub/
08:26:43.476 [ConfigProxy] info: 200 GET /api/routes 
[I 2020-08-21 08:26:43.476 JupyterHub proxy:320] Checking routes
[I 2020-08-21 08:26:43.476 JupyterHub proxy:400] Adding default route for Hub: / =&gt; http://127.0.0.1:8081
08:26:43.478 [ConfigProxy] info: Adding route / -&gt; http://127.0.0.1:8081
08:26:43.478 [ConfigProxy] info: Route added / -&gt; http://127.0.0.1:8081
08:26:43.478 [ConfigProxy] info: 201 POST /api/routes/ 
[I 2020-08-21 08:26:43.479 JupyterHub app:2697] JupyterHub is now running at http://:8000
[I 2020-08-21 08:26:56.023 JupyterHub log:181] 302 GET /hub/ -&gt; /hub/login (@10.0.1.148) 1.16ms
[I 2020-08-21 08:27:01.409 JupyterHub base:742] User logged in: dummy
[I 2020-08-21 08:27:01.429 JupyterHub log:181] 302 POST /hub/login?next= -&gt; /hub/spawn (dummy@10.0.1.148) 68.74ms
[I 2020-08-21 08:27:01.758 JupyterHub log:181] 200 GET /hub/login?next=%2Fhub%2Fspawn (@10.0.1.148) 219.05ms
08:31:43.482 [ConfigProxy] info: 200 GET /api/routes 
[I 2020-08-21 08:31:43.482 JupyterHub proxy:320] Checking routes
[I 2020-08-21 12:06:43.482 JupyterHub proxy:320] Checking routes
[I 2020-08-21 12:07:08.386 JupyterHub log:181] 200 GET /hub/login?next=%2Fhub%2Fspawn (@10.0.2.117) 1.85ms
[I 2020-08-21 12:07:13.216 JupyterHub base:742] User logged in: dummy
[I 2020-08-21 12:07:13.217 JupyterHub log:181] 302 POST /hub/login?next=%2Fhub%2Fspawn -&gt; /hub/spawn (dummy@10.0.2.117) 5.40ms
[I 2020-08-21 12:07:13.309 JupyterHub log:181] 200 GET /hub/login?next=%2Fhub%2Fspawn (@10.0.2.117) 1.22ms
[I 2020-08-21 13:27:28.324 JupyterHub log:181] 302 GET / -&gt; /hub/ (@10.0.2.117) 0.90ms 
[I 2020-08-21 13:27:28.410 JupyterHub log:181] 200 GET /hub/login (@10.0.2.117) 1.28ms 
[W 2020-08-21 13:27:34.613 JupyterHub base:392] Invalid or expired cookie token 
[I 2020-08-21 13:27:34.615 JupyterHub log:181] 302 GET /hub/spawn -&gt; /hub/login?next=%2Fhub%2Fspawn (@10.0.2.117) 1.88ms
</code></pre>
",618,0,<jupyterhub>,2020-08-21 11:23:02
63497602,Display colorbox for legend in ipywidgets,"<p>for a legend of a model I made in ipyvolume, I wanted to make a widget.HTML which displays a little colorbox besides the corresponding label in a widgets.HTML().</p>
<p>As I see you can only put a single string line for the html code. Does somebody have a good idea?</p>
",178,0,<python><html><css><jupyter-notebook><ipywidgets>,2020-08-20 02:48:12
63488541,how to set all widgets values to default by clicking on a widget button?,"<p>Using several sliders that change some propoerties in a simulation, I'd like tu create an ipywidgets.Button that sets all sliders values to some default values, is anyone know how to do so?</p>
<pre><code>from ipywidgets import FloatSlider, IntSlider, IntText, Button

A = FloatSlider(value=4, min=-10, max=20, step=0.1)
B = IntSlider(value=2, min=0, max=8, step=2)
C = IntText()

default_value_button = Button(description='click to set default values')

...

#I want this button to set specific values for A,B,C
#I need its action to be:

    A.set_state('value') = 3.7
    B.set_state('value') = 4
    C.set_state('value') = 547

...

display(A,B,C,default_value_button)
</code></pre>
<p>I need to set default values when I click on the button:</p>
<p><a href=""https://i.stack.imgur.com/oUcSS.jpg"" rel=""nofollow noreferrer"">here's how it must look like</a></p>
<p>thank you in advance for your attention!</p>
",641,1,<python><button><widget><ipywidgets>,2020-08-19 13:53:17
63463702,How to get ipywidgets interact to work in HTML?,"<p>I have a Jupyter notebook with the following cell:</p>
<pre><code>from ipywidgets import widgets, interact
slider = widgets.IntSlider()
def print_val(v):
  print(v)
interact(print_val,v=slider)
</code></pre>
<p>This works fine in the notebook - when I change the slider the printed output changes. But when I use <code>nbconvert</code> to convert the notebook into HTML, the slider still renders fine in the output HTML, but has no effect on the printed output.<br />
Any idea how to get this to work? Maybe ipywidgets is not the right library for this kind of stuff?<br />
Thanks!</p>
",3184,4,<python><jupyter-notebook><jupyter><ipywidgets><nbconvert>,2020-08-18 07:23:35
63463273,Using R with Jupyter notebook installation,"<p>I have installed R from the official site and want to use it from jupyter notebook and jupyterlab. For that i have installed IRkernal in R using:</p>
<pre class=""lang-r prettyprint-override""><code>install.packages('IRkernel')
</code></pre>
<p>and then when I type <code>IRkernel::installspec(user = FALSE)</code> to make this installation visible globally,
I get following error:</p>
<pre class=""lang-r prettyprint-override""><code>Error in IRkernel::installspec(user = FALSE) : 
  jupyter-client has to be installed but “jupyter kernelspec --version” exited with code 127.
In addition: Warning message:
In system2(&quot;jupyter&quot;, c(&quot;kernelspec&quot;, &quot;--version&quot;), FALSE, FALSE) :
  '&quot;jupyter&quot;' not found
</code></pre>
<p>I have jupyter installation on miniconda and I don't want to use the conda distribution of R. What should I do?</p>
",2250,2,<r><jupyter-notebook><jupyter-lab><jupyter-irkernel>,2020-08-18 06:51:32
63453318,Filtering pandas dataframe using ipywidgets,"<p>I am using a dropdown widget for the values in one of the columns in my dataframe. Based on the value I choose in the dropdown, I want the dataframe to filter only those rows. I would then go on to use the filtered dataframe for my analysis.</p>
<pre><code>col1 |  col2    |  col3
  A  |   Orange | 2
  B  |   Apple  | 3
  A  |   Apple  | 4
</code></pre>
<p>I would have a dropdown (using ipywidgets) for col2 and when I choose <code>Apple</code>, I want to get the resulting dataframe.</p>
<pre><code>col1  | col2   | col3
  B   |  Apple | 3
  A   |  Apple | 4
</code></pre>
",2815,0,<python><pandas><ipywidgets>,2020-08-17 14:50:38
63449330,Plotly graphs don't render on JupyterLab installed with Zero To JupyterHub (GKE),"<p>I was trying to render Plotly graphs on JupyterLab that I installed with Zero to JupyterHub on GKE. I followed the documentation here :</p>
<p><a href=""https://plotly.com/python/getting-started/"" rel=""nofollow noreferrer"">https://plotly.com/python/getting-started/</a></p>
<p>But still, graphs don't render directly on JupyterLab. Is there something else that I'm missing?</p>
<p>Thanks for your help!</p>
",1179,2,<plotly><jupyter-lab><jupyterhub>,2020-08-17 10:48:24
63419466,Pythreejs Texture UV Mapping,"<p>I am not able to apply UV mapping to custom meshes in pythreejs. Here is what I am trying:</p>
<pre class=""lang-py prettyprint-override""><code>import pythreejs

material = pythreejs.MeshPhongMaterial(
    map=pythreejs.ImageTexture(imageUri=&quot;out/2ndAvePh_big.png&quot;)
)
triangle_geometry = pythreejs.Geometry(
    vertices=[[-1, -1, 0], [-1, 1, 0], [1, -1, 0]],
    faces=[[0, 2, 1, None, [], 2]],
    faceVertexUvs=[[[0, 0], [1, 0], [0, 1]]],  # I think this is how I'm supposed to set this
)
triangle_mesh = pythreejs.Mesh(triangle_geometry, material)

</code></pre>
<p>The mesh doesn't get the texture applied to it. It looks like it gets a solid color for one of the pixels in the image (whether or not <code>faceVertexUvs</code> is set...).</p>
<p>I can apply the same texture to a simple box and it works but I can't set UV mapping for BoxGeometry:</p>
<pre class=""lang-py prettyprint-override""><code>box_geometry = pythreejs.BoxGeometry()
box_mesh = pythreejs.Mesh(box_geometry, material)
</code></pre>
<p>What am I doing wrong here?</p>
",90,1,<jupyter-notebook><ipywidgets><pythreejs>,2020-08-14 20:12:25
63391472,"ipyleaflet draw_control not handling the ""clear all"" button","<p>I am using the <code>draw_control </code> function in <code>ipyleaflet</code> to draw polygons on a map. I am collecting what I have drawn with the <code>feature_collection</code> variable, which works fine. However when I press <code>clear all</code> on the map's <code>bin</code> button, the <code>feature_collection</code> variable does not get emptied - how do I convert the <code>clear all</code> button press on the map to clearing my <code>feature_collection</code> variable? Currently it duplicates what I drew before, so I have this workflow:</p>
<ol>
<li>Draw two Polygons</li>
<li><code>feature_collection</code> contains info about two ploygons</li>
<li>Press <code>clear all</code> on <code>bin</code> button on map.</li>
<li>Draw two new Polygons on map</li>
<li><code>feature_collection</code> now contains 6(!) entries, duplicating the 1. action twice!</li>
</ol>
<p>Here is a code to replicate! Basically I don't understand how to collect the <code>clear_all</code> action from the <code>bin</code> button to clear my <code>feature_control</code> variable.</p>
<pre class=""lang-py prettyprint-override""><code>from ipyleaflet import Map, basemaps, basemap_to_tiles, DrawControl, LayersControl, GeoJSON, SearchControl, Marker, FullScreenControl


#Creating empty geojson to collect features drawn on map: 
feature_collection = {
            'type': 'FeatureCollection',
            'features': []}

#Handling items drawn on map: 
def handle_draw(self, action, geo_json):
    &quot;&quot;&quot;Do something with the GeoJSON when it's drawn on the map&quot;&quot;&quot;    
    feature_collection['features'].append(geo_json)
    
#Generate Basemap: 
satellite = basemap_to_tiles(basemaps.Esri.WorldImagery)
osmap = basemap_to_tiles(basemaps.OpenStreetMap.Mapnik)
mymap = Map(layers=(osmap, satellite), center=(55,0), zoom=5,scroll_wheel_zoom=True)

#Generate controls on map:
center=[55,0] #where to start on map: middle of UK
marker = Marker(location=center, draggable=False)

#Draw shapes on map: 
dc = DrawControl(
    marker={'shapeOptions': {'color': '#0000FF'}},
    rectangle={'shapeOptions': {'color': '#0000FF'}},
    circlemarker={}
)

dc.on_draw(handle_draw) #call function what to do with objects drawn on maps

#Add all controls to the actual map: 
mymap.add_control(dc) #add 

#Generate GEOJSON which could contain data to be displayed on map: 
geo_json = GeoJSON(data={},style={},hover_style={})
                   
mymap.add_layer(geo_json) #add to map object

mymap 
</code></pre>
",287,0,<python><leaflet><ipywidgets>,2020-08-13 08:50:15
63386230,How to update IntSlider and InsSlider box to automatically adapt to sample size,"<p>I really hope I will find a solution to my issue. I've struggled to find one but it looks like I'm definitely stuck.</p>
<p>I have the piece of code below that produces an interactive scatterplot of two nutriments.</p>
<p>It is updated according to the pair of nutriments in Dropdown boxes, but also to the product type in another Dropdown box AND more importantly to a subset of nsamples of the population one chooses (if &quot;All&quot; then the entire population is selected).</p>
<p>The problem is that this number of nsample depends on the number of sample for each product type or the total population if &quot;All&quot; is choosen.
I'm struggling to find how I can pass reliably to the IntSlider and its box, the updated max number of sample a product type has when it is selected in the Dropdown.</p>
<p>Many thanks</p>
<pre><code>class App:
    
    def __init__(self, df):
        self._df = df
        self._x_dropdown = self._create_indicator_dropdown(all_nutriments, 1, &quot;Nutriment1&quot;)
        self._y_dropdown = self._create_indicator_dropdown(all_nutriments, 0, &quot;Nutriment2&quot;)        
        self._pnns_dropdown = self._create_indicator_dropdown(all_products, 0, &quot;Product type&quot;)
        self._plot_container = widgets.Output()
        if self._pnns_dropdown.value == &quot;All&quot;:
            vmax = df.shape[0]
        else:
            vmax = df[df[&quot;pnns_groups_2&quot;] == self._pnns_dropdown.value].shape[0]
        self._nsample_slider, self._nsample_slider_box = self._create_sample_slider(200, 100, vmax, 100)

        _app_container = widgets.VBox([
            widgets.HBox([self._x_dropdown, self._y_dropdown]),
            self._plot_container,
            self._nsample_slider_box,
            self._pnns_dropdown], 
            layout=widgets.Layout(align_items='center', flex='3 0 auto'))
        self.container = widgets.VBox([
            widgets.HTML(('&lt;h1&gt;Nutriment indicators for product categories&lt;/h1&gt;'), 
                         layout=widgets.Layout(align_items='center', margin='1 0 5em 0')),
            widgets.HBox([_app_container, 
                          widgets.HTML(USAGE, layout=widgets.Layout(margin='0 0 0 2em'))])], 
            layout=widgets.Layout(flex='1 1 auto', margin='0 auto 0 auto', max_width='1024px'))
        self._update_app()
        
    @classmethod
    def from_url(cls, url):
        df = pd.read_csv(url, sep=&quot;;&quot;)
        return cls(df)
        
    def _create_indicator_dropdown(self, indicators, initial_index, description):
        dropdown = widgets.Dropdown(options=indicators, value=indicators[initial_index], description=description)
        dropdown.observe(self._on_change, names=['value'])
        return dropdown
    
    def _create_sample_slider(self, value, min_sample, max_sample, step):
        sample_slider_label = widgets.Label('Number of samples: ')
        sample_slider = widgets.IntSlider(value=value, min=min_sample, max=max_sample, step=step,
                                          layout=widgets.Layout(width='500px'))
        sample_slider.observe(self._on_change, names=['value'])        
        sample_slider_box = widgets.HBox([sample_slider_label, sample_slider])
        sample_slider_box.observe(self._on_change, names=['value'])
#        sample_slider.observe(self._update_nsample, names=['value'])
        return sample_slider, sample_slider_box

#    def _update_nsample(change):
#        ns = change.new
#        self._nsample_slider.max = ns

    def _create_plot(self, x_indicator, y_indicator, pnns_group, nsample):
        if pnns_group == &quot;All&quot;:
            df = self._df
        else:
            df = self._df[self._df['pnns_groups_2'] == pnns_group]
        xs = df[x_indicator]
        ys = df[y_indicator]
        plt.rcParams[&quot;figure.figsize&quot;] = [12, 12]
        plt.rcParams.update({'font.size': 18})
        fig,ax = plt.subplots()
        colorpalette=[&quot;#008a4b&quot;, &quot;#7fc241&quot;,&quot;#feca07&quot;,&quot;#f58221&quot;,&quot;#ef3e23&quot;]
        sns.set_palette(sns.color_palette(colorpalette))
        sns.scatterplot(x=xs, y=ys, data=df.sample(nsample), 
                        hue=&quot;nutriscore_grade&quot;, s=80, hue_order=[&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot;,&quot;e&quot;],alpha=0.9)
        ax.set_xlabel(x_indicator.split(&quot;_&quot;)[0].capitalize() + &quot; content (g) for 100g&quot; if x_indicator != &quot;energy_100g&quot; \
                      else x_indicator.split(&quot;_&quot;)[0].capitalize() + &quot; (kcal) for 100g&quot;)
        ax.set_ylabel(y_indicator.split(&quot;_&quot;)[0].capitalize() + &quot; content (g) for 100g&quot; if y_indicator != &quot;energy_100g&quot; \
                      else y_indicator.split(&quot;_&quot;)[0].capitalize() + &quot; (kcal) for 100g&quot;)
        
    def _on_change(self, _):
        self._update_app()
        
    def _update_app(self):
        x_indicator = self._x_dropdown.value
        y_indicator = self._y_dropdown.value
        pnns_group = self._pnns_dropdown.value
        self._nsample_slider.observe(self._update_nsample, names=['value'])
        nsample = self._nsample_slider.value
        self._plot_container.clear_output(wait=True)
        with self._plot_container:
            self._create_plot(x_indicator, y_indicator, pnns_group, nsample)
            plt.show()

</code></pre>
",99,0,<jupyter-notebook><jupyter-lab><ipywidgets>,2020-08-13 00:07:06
63381836,How to tell if the environment is Jupyter Notebook vs Jupyterlab?,"<p>I've got a Python module that supports a Jupyter frontend using Ipywidgets. This works fine in Jupyter Notebook, but fails silently in Jupyterlab, because they apparently <a href=""https://stackoverflow.com/questions/49542417/how-to-get-ipywidgets-working-in-jupyter-lab"">don't allow arbitrary Javascript anymore</a>. There is an Ipywidgets extension for Jupyterlab, but it wouldn't be obvious to the user that they need to do that, so I'd like to display a message if the current context is a Jupyterlab environment and the extension isn't installed. Something like this:</p>
<pre><code>def isIpy():
    try:
        __IPYTHON__
        return True
    except NameError: return False

if is_ipy():
    if &lt;is_jupyterlab()&gt; and not &lt;has_widgets_extension()&gt;: print('Use \'jupyter labextension install @jupyter-widgets/jupyterlab-manager\' to install the widgets extension')
    else: launchIpyWidgets() #This works fine
else: launchTkinterWidgets() #This also works fine
</code></pre>
<p>Alternatively – and perhaps preferably – I could place a check in the widget display:</p>
<pre><code>from IPython.display import display
from ipywidgets import interactive, Layout, Accordion, HBox, VBox, HTML, Label, Button, FloatProgress
postinstruct = Label(value='After setting parameter values, run launchPlots() or start() to start the model.')
display(postinstruct)

if &lt;failed to display&gt;: print('Use \'jupyter labextension install @jupyter-widgets/jupyterlab-manager\' to install the widgets extension')
</code></pre>
<p>The problem being that, in Jupyterlab, it won't return an error, or display the widget; it'll just display the text <code>Label(value='Use…')</code>.</p>
<p>Any idea how to reliably check either of these things?</p>
",183,2,<python><jupyter-notebook><jupyter-lab><ipywidgets>,2020-08-12 17:28:37
63358747,How to make a self aware button on ipywidgets,"<p>I need to write a function that is aware of which button was clicked to call it. I am using ipywidgets and jupyter notebook.</p>
<p>Here is some sample code:</p>
<pre><code>import ipywidgets as widgets

button1 = widgets.Button(description = 'I am button 1')
button2 = widgets.Button(description = 'I am button 2')

def self_aware(caller):
    # Some code I don't know
    pass
    
    
button1.on_click(self_aware)
button2.on_click(self_aware)

widgets.VBox([button1, button2])
</code></pre>
<p>When clicked the button 1 should be passed as an argument to the <code>self_aware</code> function.
As an example just <code>print('I am button 1')</code> or 2 should be enough</p>
",39,1,<python><jupyter-notebook><ipywidgets>,2020-08-11 13:03:35
63344922,Problem with button and textbox in jupyter with ipywidgets,"<p>I am trying to initialize a variable with the text contained in a textbox when the button is pressed , in a jupyter notebook running python 3. However it seems that I can't access the value in the textbox during the button pressing event and store it for later.</p>
<p>Here is the code :</p>
<pre><code>import ipywidgets as widgets
from IPython.display import display
button = widgets.Button(description=&quot;Click Me!&quot;)
inp = widgets.Text(description='Path:')
Box = widgets.HBox([button,inp])

def on_button_clicked(b):
    return inp.value

path = button.on_click(on_button_clicked)

display(Box
</code></pre>
<p>)</p>
<p>Any help would be greatly appreciated.Thanks in advance</p>
",2334,0,<python><python-3.x><user-interface><jupyter-notebook><ipywidgets>,2020-08-10 17:16:03
63343570,How to arrange multiple interactive figures in a jupyter notebook?,"<p>I try to arrange multiple figures in a jupyter notebook using ipywidget and matplotlib but it's not working as I expect to... When I run cells invidually its working well but when I rerun the whole notebook nothing shows.
You can have a glimpse of what I try to do and help me by finding what's wrong in my whole notebook.</p>
<h1>Cell 1</h1>
<pre><code>import ipywidgets as widgets
import numpy as np
import matplotlib.pyplot as plt

%matplotlib widget

pi = np.pi
t = np.linspace(0,2*pi,100)
fig1 = plt.figure(1,figsize=(6,2))
ax1 = fig1.add_subplot(1, 1, 1, aspect=1)

def update_plot(phase,amplitude):
    ax1.clear()
    ax1.plot(t,amplitude*np.sin(t+phase), color='r', label='Sinus')
    ax1.legend(loc=0)

phase = widgets.FloatSlider(min=-2,max=2,value=0,description='Phase:')
amplitude = widgets.FloatSlider(min=0,max=8,value=1.5,description='Amplitude:')
widgets.interactive(update_plot, phase=phase, amplitude=amplitude)
</code></pre>
<h1>Cell2</h1>
<pre><code>fig2 = plt.figure(2,figsize=(6,2))
ax2 = fig2.add_subplot(1, 1, 1, aspect=1)
t2 = np.linspace(0,2*pi,100)

def update_plot(phase,amplitude):
    ax2.clear()
    ax2.plot(t2,amplitude*np.cos(t2+phase), color='b', label='Cosinus')
    ax2.legend(loc=0)

phase = widgets.FloatSlider(min=-2,max=2,value=0,description='Phase:')
amplitude = widgets.FloatSlider(min=0,max=8,value=1,description='Amplitude:')
widgets.interactive(update_plot, phase=phase, amplitude=amplitude)
</code></pre>
<h1>Whole notebook</h1>
<p>I don't know how to share notebook so I pasted the ipynb file into pastebin.
<a href=""https://pastebin.com/UdK4jzHK"" rel=""nofollow noreferrer"">https://pastebin.com/UdK4jzHK</a></p>
",962,0,<matplotlib><jupyter-lab><ipywidgets>,2020-08-10 15:50:38
63319165,Clear ipywidget output from inside thread,"<p>I'm trying to clear ipwidget outputs from inside a thread</p>
<p>For example, I want to make a counter that counts to 10, runs in a thread, and only shows the current number.</p>
<h1>Code</h1>
<pre class=""lang-py prettyprint-override""><code>import ipywidgets as widgets
import time
from IPython.display import display, HTML
from concurrent.futures import ThreadPoolExecutor

output = widgets.Output()
display(output)

def my_foo():
    for count in range(10):
        output.clear_output(wait=True)
        output.append_display_data(HTML(f&quot;count {count}&quot;))
        time.sleep(1)
        
with ThreadPoolExecutor() as executor:
    executor.submit(my_foo)
</code></pre>
<h1>Desired Output</h1>
<p>the final output for the above code should just be</p>
<pre><code>count 9
</code></pre>
<h1>Actual Ouput</h1>
<pre><code>count 0
count 1
count 2
count 3
count 4
count 5
count 6
count 7
count 8
count 9
</code></pre>
",407,1,<python><ipython><ipywidgets>,2020-08-08 18:55:20
63317861,gcsfuse command fail with gcsfuse takes exactly two arguments,"<p>I am using GCSFuse for mounting the GCS bucket to my user pod in JupyterHub, but it always fail with the error message <code>gcsfuse takes exactly two arguments</code>.</p>
<p>Here is my DockerFile:</p>
<pre><code>FROM jupyter/minimal-notebook:177037d09156

ENV GCSFUSE_REPO gcsfuse-stretch
ENV GOOGLE_APPLICATIONS_CREDENTIALS=test-serviceaccount.json
ENV GCS_BUCKET: &quot;my-bucket&quot;
ENV GCS_BUCKET_FOLDER: &quot;shared-data&quot;

USER root

# Add google repositories for gcsfuse and google cloud sdk
RUN apt-get update -y &amp;&amp; apt-get install -y --no-install-recommends apt-transport-https ca-certificates curl gnupg
RUN echo &quot;deb http://packages.cloud.google.com/apt $GCSFUSE_REPO main&quot; | tee /etc/apt/sources.list.d/gcsfuse.list
RUN echo &quot;deb https://packages.cloud.google.com/apt cloud-sdk main&quot; | tee -a /etc/apt/sources.list.d/google-cloud-sdk.list
RUN curl https://packages.cloud.google.com/apt/doc/apt-key.gpg | apt-key add -

# Install gcsfuse and google cloud sdk
RUN apt-get update -y  &amp;&amp; apt-get install -y gcsfuse google-cloud-sdk \
    &amp;&amp; apt-get autoremove -y \
    &amp;&amp; apt-get clean -y \
    &amp;&amp; rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*

# Switch back to notebook user (defined in the base image)
USER $NB_UID

# make directory for mounting
RUN mkdir -p home/shared-data \
    &amp;&amp; mkdir -p etc/scripts

COPY start_mounting.sh etc/scripts

# install extra packages required for model training
RUN pip install --upgrade pip
RUN pip install fasttext
RUN pip install ax-platform

CMD [&quot;bin/bash&quot;, &quot;etc/scripts/start_mounting.sh&quot;]
</code></pre>
<p>Script:</p>
<pre><code>#!/bin/bash

# Setup GCSFuse
 gcsfuse --key-file ${GOOGLE_APPLICATIONS_CREDENTIALS} ${GCS_BUCKET} ${GCS_BUCKET_FOLDER}

</code></pre>
<p>my jupyterhub config.yaml</p>
<pre><code>hub:
  baseUrl: /jupyterhub
  extraConfig: |
    from kubernetes import client
    def modify_pod_hook(spawner, pod):
        pod.spec.containers[0].security_context = client.V1SecurityContext(
            privileged=True,
            capabilities=client.V1Capabilities(
                add=['SYS_ADMIN']
            )
          )
        pod.spec.containers[0].env.append(
              client.V1EnvVar(
                  name='GOOGLE_APPLICATIONS_CREDENTIALS',
                  value_from=client.V1EnvVarSource(
                      secret_key_ref=client.V1SecretKeySelector(
                          name='jhub-secret',
                          key='jhub-serviceaccount',
                      )
                  )
              )
          )
        return pod
    c.KubeSpawner.modify_pod_hook = modify_pod_hook

singleuser:
  storage:
    type: none
  extraEnv:
  GCS_BUCKET: &quot;my-bucket&quot;
  GCS_BUCKET_FOLDER: &quot;shared-data&quot;
  lifecycleHooks:
    postStart:
      exec:
        command: [&quot;/bin/sh&quot;, &quot;etc/scripts/start_mounting.sh&quot;]
    preStop:
      exec:
        command: [&quot;fusermount&quot;, &quot;-u&quot;, &quot;shared-data&quot;]
  image:
    name: gcr.io/project/base-images/jhub-k8s-cust-singleuser
    tag: 1.1.6
    pullPolicy: Always

</code></pre>
<p>I am overwriting the GOOGLE_APPLICATIONS_CREDENTIALS ENV for using it in --key-file argument in gcsfuse.</p>
<p>Could someone please tell me what is wrong here? Is something wrong with my pod PostStart Exec command? or my gcsfuse is wrong?</p>
",547,1,<bash><google-cloud-storage><jupyterhub><gcsfuse>,2020-08-08 16:41:15
63306461,"jupyter widgets, black background with white text","<p>I am trying to generate a widgets.HBOX with the black background with white text by using add_class() in Jupyter lab. Following is my code.</p>
<pre><code>import ipywidgets as widgets
import numpy as np
</code></pre>
<pre><code>%%html
&lt;style&gt;
.title_bg{
    width:auto;
    background-color:black;
    color: #ffffff
}
.box_style{
    width:40%;
    border : None;
    height: auto;
    background-color:black;
    color=white;
}
&lt;/style&gt;
</code></pre>
<pre><code>image = open(&quot;static/img/logo/logo.png&quot;, &quot;rb&quot;).read()
hbox_layout = widgets.Layout()
hbox_layout.width = '100%'
hbox_layout.justify_content = 'space-around'

box_layout = widgets.Layout()
box_layout.width = '80px'
box_layout.height = '80px'
box_layout.border = '2px solid black'

image_box = widgets.Box()
image_box.layout = box_layout
image = widgets.Image(value=image, format='png')
image.layout.object_fit = 'contain'
image_box.children = [image]
image_box.margin = '2%'
image_box.add_class('box_sytle')
</code></pre>
<pre><code>title01 = widgets.HTML('&lt;h1&gt; V-Gan &lt;/h1&gt;', 
                       layout=widgets.Layout(align_content='stretch', 
                                             margin='1% 1% 1% 2% ', 
                                             width='15%'))
title02 = widgets.HTML('&lt;h3&gt; The Visualization of Glider Dashboard &lt;/h3&gt;', 
                       layout=widgets.Layout(align_content='stretch', 
                                             align_items = 'center', 
                                             margin='1% 1% 1% -2%',
                                             width='45%',))
title01.add_class('title_bg')
title02.add_class('title_bg')
html_title = widgets.HBox([title01,title02], 
                          layout=widgets.Layout(justify_content='flex-start', 
                                                align_items='center',
                                                width='100%'))
html_title.add_class('box_style')
</code></pre>
<pre><code>Left_Title = widgets.HBox([image_box, html_title], 
                          layout = widgets.Layout(
                              display='inline-flex', 
                              flex_flow='row',
                              justify_content='flex-start',
                              width='100%',
                              height='80px'
                          ))
Left_Title
</code></pre>
<pre><code>html_link1 = widgets.HTML('&lt;a href=&quot;https://https://gandalf.gcoos.org&quot;&gt; GANDALF &lt;/a&gt;')
html_link2 = widgets.HTML('&lt;a href=&quot;&quot;&gt; About &lt;/a&gt;')
html_link3 = widgets.HTML('&lt;a href=&quot;&quot;&gt; Support &lt;/a&gt;' )
html_link1.add_class('title_bg')
html_link2.add_class('title_bg')
html_link3.add_class('title_bg')
Right_Title = widgets.HBox([html_link1, html_link2, html_link3], 
                          layout = widgets.Layout(
                              display='inline-flex', 
                              flex_flow='row',
                              justify_content='space-around',
                              width='100%',
                              height='100%'
                          ))
Right_Title
</code></pre>
<pre><code>grid = widgets.GridspecLayout(10,10, 
                              weight='100%',
                              height='80px')
grid[:-2,:]= Left_Title
grid[-1,6:]= Right_Title 
grid
</code></pre>
<p>In the end, the Jupyter notebook on Safari shows the result like,
<a href=""https://i.stack.imgur.com/CTO7P.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/CTO7P.png"" alt=""Safari View"" /></a></p>
<p>However, if I used &quot;Chrome&quot; or &quot;FireFox&quot; to open the Jupyter notebook, the lower-right white text disappeared, like
<a href=""https://i.stack.imgur.com/iP0qj.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/iP0qj.png"" alt=""Chrome/Firefox View"" /></a></p>
<p>Could someone tell me the reason why I saw this difference?</p>
<p>Thanks!</p>
",1086,1,<python><jupyter-notebook><cross-browser><ipywidgets>,2020-08-07 17:14:36
63272441,How can i make an interact Slider control the x axis in bar digram to show a part of the data with every change,"<p>How can i make an interact slider control the x axis to show me just 5 bars in a time when i change the value of the slider the chart show me the next five bars and so on
i have tried to do this using interact but it changing the number of the bars
if any body have an idea i will be thankfull
hier the way i tried</p>
<pre><code>import numpy as np
import pandas as pd
import matplotlib.pyplot as plt 
from ipywidgets import interact 
import ipywidgets as ipw

a =[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14]
b =[10,11,10,12,13,11,15,12,20,9,11,12,10,18]
def func(x = 5):
    plt.bar(a[:x],b[:x])
    plt.title('graph 1')
    plt.show()

interact(f,x =ipw.IntSlider(min=1, max=14, step=1,value=10, description='Test:', disabled=False,readout_format='d'))
</code></pre>
",480,0,<python><matplotlib><ipywidgets>,2020-08-05 19:39:26
63267886,Create a list interactively using ipywidgets and asyncio in Jupyter Notebook,"<p>I am trying to write a set of functions that allow me to use a Jupyter Notebook to 'interactively' create a list (based on values from a different, predefined list). At the highest level, these functions would print an item (e.g., a type of animal), I would then provide an annotation for this item (e.g., 'bird' or 'fish') using an interactive textbox, and then my annotation would be stored in a new list.</p>
<p>Something like this is what I want to do (but it's obviously not quite there):</p>
<pre><code>from ipywidgets import widgets  
import asyncio

#function that waits for an input into the textbox
def wait_for_change(widget):
    future = asyncio.Future()
    def getvalue(change):
        future.set_result(change.description)
        widget #display the textbox (and then wait for user input using the 'return' button?)
        widget.value #get the value in the textbox
    return future

#the textbox widget
input_text = widgets.Text()

#list of animals to classify
list_to_tag = [&quot;seagull&quot;, &quot;flounder&quot;, &quot;trout&quot;, &quot;albatross&quot;]
tagged_animals = []

#function to display the textbox and list of animals to classify, return list of annotations
async def f():
    for i in list_to_tag:
        print(&quot;going to tag {}&quot;.format(i))
        x = await wait_for_change(input_text)
        print(&quot;tagged {} with {}&quot;.format(i, x))
        tagged_animals.append(x)
    print(&quot;All animals tagged&quot;)
    return tagged_animals

#start the annotation task
asyncio.create_task(f())
input_text
</code></pre>
<p>The script currently crashes with the warning:</p>
<pre><code>task: &lt;Task pending coro=&lt;f() done, defined at &lt;ipython-input-31-d698dc6b74bc&gt;:17&gt; wait_for=&lt;Future pending cb=[&lt;TaskWakeupMethWrapper object at 0x109a71f10&gt;()]&gt;&gt;
</code></pre>
<p>Something to do with <code>asyncio.Future()</code>?</p>
<p>Thanks in advance for the help.</p>
",885,1,<python><asynchronous><jupyter-notebook><widget><ipywidgets>,2020-08-05 14:56:09
63231663,How to migrate data from Google Cloud VM to Google Kubernetes Engine?,"<p>I am running JupyterHub on Google Cloud VM but due to some reasons I am not able to access JupyterHub running on VM now. Rather than resolving the issue with current JupyterHub I wanted to migrate JupyterHub on our Google Kubernetes Engine, so I installed another JupyterHub on Google Kubernetes Engine using <code>zero-to-jupyterhub-k8s</code>.</p>
<p>Now everything is running fine but I want to migrate the data saved on the old JupyterHub VM to my new JupyterHub. The new JupyterHub using Persistent Volume claims as storage for each of the pods of users. Could someone please let me know how can I do it?</p>
",90,0,<kubernetes><google-cloud-platform><google-compute-engine><google-kubernetes-engine><jupyterhub>,2020-08-03 14:48:03
63164534,How to use ipywidget's `interact` with matplotlib's `plt.subplots()`?,"<p>The toy example provided in the ipywidgets docs is the following:</p>
<pre class=""lang-py prettyprint-override""><code>%matplotlib inline
from ipywidgets import interactive
import matplotlib.pyplot as plt
import numpy as np

def f(m, b):
    plt.figure(2)
    x = np.linspace(-10, 10, num=1000)
    plt.plot(x, m * x + b)
    plt.ylim(-5, 5)
    plt.show()

interactive_plot = interactive(f, m=(-2.0, 2.0), b=(-3, 3, 0.5))
output = interactive_plot.children[-1]
output.layout.height = '350px'
interactive_plot
</code></pre>
<p>I attempted the following, which does not work:</p>
<pre class=""lang-py prettyprint-override""><code>%matplotlib inline
from ipywidgets import interactive
import matplotlib.pyplot as plt
import numpy as np

fig, ax = plt.subplots()
ax.set_ylim(-5, 5)

def f(m, b):
    global ax
    ax.cla()
    x = np.linspace(-10, 10, num=100)
    ax.plot(x, m * x + b)
    # fig.canvas.draw() ?
    

interactive_plot = interactive(f, m=(-2.0, 2.0), b=(-3, 3, 0.5))
output = interactive_plot.children[-1]
output.layout.height = '350px'
interactive_plot
</code></pre>
<p>What goes wrong when using <code>Axes</code> objects in this context?</p>
",707,2,<python><matplotlib><jupyter-notebook><ipywidgets>,2020-07-30 00:47:55
63150940,Using multiple sliders to create dynamic chart in bqplt/jupyter,"<p>I am trying to plot a dynamic portfolio performance that changes as the weights of the portfolio change</p>
<p>Assume a portfolio has 2 components with a 50% weighting each. I want to show a chart of the portfolio with sliders representing the weights of the components. I then want to be able to slide the values of the weights around and have the portfolio chart dynamically update.</p>
<p>I have done this for a portfolio that consists of one weight but cant figure out how to amend for more than 1 weight - maybe I need a different approach.</p>
<p>Example below substitutes a random df with 1 column in place of my portfolio df - process should be the same.</p>
<p>In terms of this example if the df had 2 columns - how can I get it working with 2 sliders controlling each weight ?</p>
<hr />
<p>from bqplot import DateScale, LinearScale, Axis, Figure, Lines</p>
<p>from ipywidgets import FloatSlider, VBox</p>
<p>import pandas as pd</p>
<p>import numpy as np</p>
<p>slider = FloatSlider(value=1, min = 0, max = 1, step = .01, description = 'Weight A')</p>
<p>df = pd.DataFrame(np.random.randint(0,100,size=(100, 1)), columns=list('A'))</p>
<p>x_sc = LinearScale()</p>
<p>y_sc = LinearScale()</p>
<p>ax_x = Axis(label='Date', scale=x_sc, grid_lines='solid')</p>
<p>ax_y = Axis(label='Price', scale=y_sc, orientation='vertical', grid_lines='solid')</p>
<p>line = Lines(y=df['A'],x=df.index , scales={'x': x_sc, 'y': y_sc}, colors = ['#FF0000'])</p>
<p>line2 = Lines(y=df['A'],x=df.index , scales={'x': x_sc, 'y': y_sc})</p>
<p>fig = Figure(axes=[ax_x, ax_y], marks=[line, line2], title='Price Chart')</p>
<p>def new_chart(value):</p>
<pre><code>new_y = df[['A']]*slider.value

line.y = new_y
</code></pre>
<p>slider.observe(new_chart,'value')</p>
<p>VBox([fig,slider])</p>
",274,0,<python><slider><ipywidgets><bqplot>,2020-07-29 09:52:20
63128851,ipywidgets dropdown onclick,"<p>It seems that there is no <code>on_click</code> option with dropdown widgets, I was wondering if there is some sort of workaround. One method I was thinking was, everytime an option is chosen, to flush the options and start the dropdown from the top again, where the top option would be the empty <code>&quot;&quot;</code>.</p>
<p>For instance suppose I have:</p>
<pre class=""lang-py prettyprint-override""><code>from IPython.html import widgets
from IPython.display import display

def dropdown_event_handler(change):
    print(change.new)
    # flush the options and start from &quot;&quot; again

options = [&quot;&quot;, &quot;A&quot;, &quot;B&quot;]
dropdown = widgets.Dropdown(options=options, description=&quot;Categories&quot;)
dropdown.observe(dropdown_event_handler, names=&quot;value&quot;)
display(dropdown)
</code></pre>
<p>So the desired behaviour is that if I press &quot;A&quot; and &quot;A&quot; again, A would be printed out twice.</p>
",854,1,<jupyter-notebook><ipywidgets>,2020-07-28 07:15:51
63124889,nbgitpuller + jupyterhub = 404,"<p>I'm trying to get nbgitpuller to work in a jupyterhub environment.</p>
<p>The jupyterhub is working fine - I'm using thie repo: <a href=""https://github.com/jupyterhub/jupyterhub-deploy-docker"" rel=""nofollow noreferrer"">https://github.com/jupyterhub/jupyterhub-deploy-docker</a></p>
<p>I've installed nbgitpuller through the Docker bash, globally on host system and through the jupyerhub console. However, everytime I want to open a link I get the 404 error.</p>
<p>Any debugging help would be highly appreciated. Thanks!</p>
",107,2,<docker><jupyterhub>,2020-07-27 23:09:38
63113253,JupyterHub: shared folder permission for users,"<p>I am working on a containerized JupyterHub based on <a href=""https://opendreamkit.org/2018/10/17/jupyterhub-docker"" rel=""nofollow noreferrer"">https://opendreamkit.org/2018/10/17/jupyterhub-docker</a> project.
I have put it in a EC2 and all work fine: all my users have a private storage and shared storage to share its notebook.</p>
<p>Now i need to add new users and they need to see only a little part of the shared space. Then, I would like this configuration:</p>
<pre><code>/shared/new_space/  &gt;&gt;&gt; New users &amp; Old users
/shared/            &gt;&gt;&gt; Only old users
</code></pre>
<p>I am thinking to &quot;play&quot; with the the <em>DockerSpawner</em> but i don't have any idea how to do this.
I can put a new directory into the</p>
<pre><code>c.DockerSpawner.volumes = {
    'jupyterhub-user-{username}': notebook_dir,
    '/home/ubuntu/efs-disk/data-shared': '/home/jovyan/shared'
    '/home/ubuntu/efs-disk/data-shared/NEW_SPACE': '/home/jovyan/shared/NEW_SPACE' #Need to try
}
</code></pre>
<p>but how can i do the users's permissions? Which component manages user permissions? Do you have any suggestion for completing my task?</p>
<p>Thanks in advance, regards.</p>
",1099,1,<python><docker><jupyterhub>,2020-07-27 10:18:44
63075190,R - Warnings when creating empty data.frame w/ 21+ cols in Jupyter,"<p>I have a funny problem, when I create an empty data.frame with 21 columns:</p>
<pre><code>data.frame(x01 = numeric(),
           x02 = numeric(),
           x03 = numeric(),
           x04 = numeric(),
           x05 = numeric(), 
           x06 = numeric(),
           x07 = numeric(), 
           x08 = numeric(), 
           x09 = numeric(), 
           x10 = numeric(),
           x11 = numeric(), 
           x12 = numeric(),
           x13 = numeric(),
           x14 = numeric(), 
           x15 = numeric(),
           x16 = numeric(),
           x17 = numeric(),
           x18 = numeric(),
           x19 = numeric(),
           x20 = numeric(), 
           x21 = numeric())
</code></pre>
<p>I get the following three warnings:</p>
<pre><code>Warning message in cbind(parts$left, ellip_h, parts$right, deparse.level = 0L):
“number of rows of result is not a multiple of vector length (arg 2)”
Warning message in cbind(parts$left, ellip_h, parts$right, deparse.level = 0L):
“number of rows of result is not a multiple of vector length (arg 2)”
Warning message in cbind(parts$left, ellip_h, parts$right, deparse.level = 0L):
“number of rows of result is not a multiple of vector length (arg 2)”
Warning message in cbind(parts$left, ellip_h, parts$right, deparse.level = 0L):
“number of rows of result is not a multiple of vector length (arg 2)”
</code></pre>
<p>There are no problems though, when I create a df with only 20 columns, i.e. leaving out the last one. Problem is not specific to 21 cols, with more columns I still get the warnings. Any ideas what the problem is and what to do about it?</p>
<p>Thanks!</p>
<p>edit: this only occurs in Jupyter (I'm running R version 3.6.3 on Ubuntu)</p>
",123,0,<r><jupyter><jupyter-irkernel>,2020-07-24 14:02:05
63074327,Failed to install ipywidgets jupyter lab extension,"<p>I'm having trouble installing the ipywidgets jupyterlab extension. I tried following <a href=""https://ipywidgets.readthedocs.io/en/latest/user_install.html"" rel=""nofollow noreferrer"">this direction</a>, and I got the  message <code>Building jupyterlab assets (build:prod:minimize)</code> as follows:</p>
<pre><code>$  conda install -c conda-forge nodejs

Collecting package metadata (current_repodata.json): done

Solving environment: done

# All requested packages already installed.
$ jupyter labextension install @jupyter-widgets/jupyterlab-manager
Building jupyterlab assets (build:prod:minimize)
$ 
</code></pre>
<p>After this process, I got an error message <code>ModuleNotFoundError: No module named 'ipywidgets'</code> as bellow.</p>
<p><img src=""https://i.stack.imgur.com/FJc2T.png"" alt=""screen shot of a jupyter lab's window"" /></p>
<p>I tried to fix this issue with two methods.</p>
<ol>
<li>I refered to <a href=""https://github.com/jupyterlab/jupyterlab/issues/7180"" rel=""nofollow noreferrer"">this page</a> as reference and I typed <code>jupyter lab build --minimize=False</code>. However, I got the same error message as before:</li>
</ol>
<pre><code>$ jupyter labextension install @jupyter-widgets/jupyterlab-manager
Building jupyterlab assets (build:prod:minimize)
</code></pre>
<ol start=""2"">
<li>I referd to <a href=""https://stackoverflow.com/questions/61210272/jupyterlab-plotly-build-npm-extensions-failed-to-install-on-linux"">this page</a> as reference. However, when I try <code>$which nodejs</code>, I didn't get any responses on terminal display.</li>
</ol>
<p>How can I fix this problem and install ipywidgets?</p>
<p>Informationon my machine:</p>
<pre><code>$ which node
/Users/myname/opt/miniconda3/envs/ptfl/bin/node
$ node -v 
v14.5.0
$ which nodejs
$ ls /usr/local/bin/node 
/usr/local/bin/node
$ which npm
/Users/myname/opt/miniconda3/envs/ptfl/bin/npm
$ npm -v 
6.14.5
</code></pre>
<p>About OS: MacOS Catalina version 10.15.4</p>
<p>About miniconda : miniconda3</p>
<p>==============================</p>
<p><strong>Update</strong></p>
<p><strong>7/25:</strong></p>
<ol>
<li><p>I updated the OS from v10.15.14 to v10.15.5.</p>
</li>
<li><p>After updated the OS, I retried to install a ipywidgets as folllows.</p>
</li>
</ol>
<p>=</p>
<pre><code>$ conda install -c conda-forge nodejs
 Collecting package metadata (current_repodata.json): done
 Solving environment: done

## Package Plan ##

  environment location: /Users/myname/opt/miniconda3/envs/ptfl

  added / updated specs:
    - nodejs


The following packages will be downloaded:

    package                    |            build
    ---------------------------|-----------------
    nodejs-14.6.0              |       hdde0ff8_0        12.7 MB  conda-forge
    ------------------------------------------------------------
                                           Total:        12.7 MB

The following packages will be UPDATED:

  nodejs                                  14.5.0-h2c41780_0 --&gt; 14.6.0-hdde0ff8_0


Proceed ([y]/n)? y


Downloading and Extracting Packages
nodejs-14.6.0        | 12.7 MB   | ##################################### | 100% 
Preparing transaction: done
Verifying transaction: done
Executing transaction: done
$ jupyter labextension install @jupyter-widgets/jupyterlab-manager
Building jupyterlab assets (build:prod:minimize)
</code></pre>
",1057,0,<ipywidgets>,2020-07-24 13:14:11
63072758,Can I install JupyterHub on Ubuntu 20.04?,"<p>I would like to install JupyterHub on a server running Ubuntu 20.04. Is this possible? The documentation for TLJH, for example, explicitly states that the tool is supported for Ubuntu 18.04.</p>
<p>Any comment is much appreciated.</p>
<p>Thanks!</p>
",332,1,<jupyterhub><ubuntu-20.04>,2020-07-24 11:36:29
63069891,Is there a way to mix markdown and code in a single cell in Jupyter Notebook? Or import code/markdown into eachothers cells?,"<p>I would like to create a table which explains different cases for electrical phenomena in separate columns. Therefore, I'd like to have a description for each case in the first row, some LaTeX formulas in the second row, some animated diagrams in the third row, further LaTeX formulas, more diagrams etc. The last row should have a single cell, which spans all three columns, and contains an interactive animation where the students can choose from the explained cases and play around with parameters. However, I do not know how to get it all together without leaving the markdown or Python environment.</p>
<p>Alternatively, is there some widget which can contain markdown/LaTeX?</p>
<p>Kind regards,</p>
<p>-Domme</p>
",68,1,<jupyter-notebook><ipython><ipywidgets>,2020-07-24 08:33:22
63065261,"ipywidgets layouts, vertical align boxes?","<p>I'm trying to line up a left hand label with a right hand list.  It seems like under the hood the <code>HBox</code> and <code>VBox</code> are using flexbox but i can't get them to nest and align correctly.  The doc examples only show simple horizontal alignment, which isn't going to well for me either.  Anyone done this before?</p>
<p>The image below is what I'm shooting for:</p>
<p><a href=""https://i.stack.imgur.com/rTuRb.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/rTuRb.png"" alt="""" /></a></p>
<p>This is what I'm getting:</p>
<p><a href=""https://i.stack.imgur.com/OANOE.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/OANOE.png"" alt=""enter image description here"" /></a></p>
<p>Here is the code:</p>
<pre><code>from ipywidgets import *

t = {
    &quot;Product List&quot;: [
        &quot;tblProducts&quot;,
        &quot;AMZ Listing Fees&quot;,
        &quot;tblReferalFee&quot;,
        &quot;tblSellingFees&quot;,
        &quot;tblRentalBookFee&quot;,
        &quot;tblHighVolumeFee&quot;
        &quot;tblRefundAdministrationFee&quot;
    ], &quot;AMZ FBA Fees&quot;: [
        &quot;tblFullfillment_Fees&quot;,
        &quot;tblMonthlyStorageFees&quot;,
        &quot;tblLongTermStorageFees&quot;,
        &quot;tblRemoval_Fees&quot;,
        &quot;tblReturnsProcessingFee&quot;,
        &quot;tblInventorySizes&quot;,
        &quot;tblInventoryPlacementFees&quot;,
        &quot;tblCasePackedProduct&quot;,
        &quot;_tblDim_Const&quot;
    ], &quot;Enums&quot;: [
        &quot;_Product_Enum_UnitType&quot;,
        &quot;_tblMediaCatagoriesEnum&quot;
    ]
}

dispBoxes = []
for k,v in t.items():
    vlayout = Layout(
        flex=&quot;5 5 auto&quot;,
        width=&quot;auto&quot;,
        halign=&quot;center&quot;
    )
    hlayout = Layout(
        flex=&quot;1 1 auto&quot;,
        width=&quot;auto&quot;
        #halign=&quot;center&quot;
    )
    tblLbs = [Label(i) for i in v]
    dispBoxes.append(
        HBox([
            VBox([Label(k)], Layout=vlayout), 
            VBox(tblLbs, Layout=hlayout)
    ]))

display(
    VBox(dispBoxes)
)
</code></pre>
",325,1,<python><flexbox><ipywidgets><vbox><hbox>,2020-07-24 00:56:26
63020163,No interactive widgets is getting displayed in chrome browser while running ipynb file using Voila,"<p>I am trying to run my ipynb file using voila, which have some interactive widgets and plots. I am using voila (0.1.21), to create a dashboard application. When i am opening the application (http://localhost:8866) in chrome browser, it does not display any of interactive widgets. I am running on mac.</p>
<p>When I am running in Notebook (6.0.3) ,all interactive widgets and plots are displaying without any issue.</p>
<p>Following is the one of code :</p>
<pre><code>@interact
def show_articles_more_than(column=['sepal_length', 'sepal_width', 'petal_length', 'petal_width'], x=(-2, 20, .1)):
    clear_output(wait=True)
    display(HTML(f'&lt;h2&gt;Showing data with more than {x} {column}&lt;h2&gt;'))
    display(iris.loc[iris[column] &gt; x, ['sepal_length', 'sepal_width', 'petal_length', 'petal_width', 'class']])
</code></pre>
<p>Getting following error:</p>
<pre><code>    Starting WebSocket: ws://localhost:8866/api/kernels/72f234eb-f69b-4244-a8de-2beac4588296
manager.js:61 Uncaught (in promise) TypeError: Cannot read property 'kernelChanged' of undefined
    at new M (manager.js:61)
    at new t.WidgetManager (manager.js:47)
    at main.js:14
default.js:1452 Kernel: connected (72f234eb-f69b-4244-a8de-2beac4588296)
</code></pre>
<p>My NB extension list :</p>
<pre><code>Known nbextensions:
  config dir: /Users/adhishree/.jupyter/nbconfig
    notebook section
      jupyter-js-widgets/extension  enabled 
      - Validating: OK
  config dir: /opt/conda/etc/jupyter/nbconfig
    notebook section
      bqplot/extension  enabled 
      - Validating: OK
      ipyvolume/extension  enabled 
      - Validating: OK
      jupyter-webrtc/extension  enabled 
      - Validating: OK
      jupyter-datawidgets/extension  enabled 
      - Validating: OK
      jupyter-threejs/extension  enabled 
      - Validating: OK
      plotlywidget/extension  enabled 
      - Validating: OK
      voila/extension  enabled 
      - Validating: OK
      jupyter-js-widgets/extension  enabled 
      - Validating: OK
</code></pre>
<p>Can anyone help me on how the interactive widgets can be displayed properly in the chrome browser.</p>
",651,2,<python-3.x><jupyter-notebook><ipywidgets><voila>,2020-07-21 17:44:57
62963814,ipywidgets interactive_output does not return pandas DataFrame,"<p>Why won't the <code>widgets.interactive_output</code> function return a dataframe -- e.g.</p>
<pre class=""lang-py prettyprint-override""><code>def foo(param):
    return pd.DataFrame({'Z':[param,param], 'A': ['b', 'b']})

params = widgets.Dropdown(options= ['a','b'])

bar = widgets.interactive_output(foo, {'param' : params})
widgets.VBox([params, bar])
</code></pre>
<p>whereas <code>widgets.interact</code> will?</p>
<pre class=""lang-py prettyprint-override""><code>bar = widgets.interact(foo, param =params)
bar
</code></pre>
",386,0,<python><ipywidgets>,2020-07-18 01:52:15
62943410,"Can an ipywidget source its JavaScript from a URL, rather than local disk?","<p>I'm building an <a href=""https://ipywidgets.readthedocs.io/en/stable/index.html"" rel=""nofollow noreferrer"">ipywidget</a> to be shared with some coworkers on a private repo. I'd like to have it source JavaScript from a server, rather than requiring my coworkers to build the JS bundle locally, and I'm wondering if this is possible.</p>
<p>Here's my setup. I've created a directory (<code>test-extension</code>) and enabled it for development with Jupyter:</p>
<pre><code>jupyter nbextension install test-extension --sys-prefix --symlink
jupyter nbextension enable test-extension/main --sys-prefix
</code></pre>
<p>Following the <a href=""https://ipywidgets.readthedocs.io/en/stable/examples/Widget%20Custom.html"" rel=""nofollow noreferrer"">Custom Widget Tutorial</a>, I can create a custom widget with some Python:</p>
<pre class=""lang-py prettyprint-override""><code>from traitlets import Unicode, Bool, validate, TraitError
from ipywidgets import DOMWidget, register

@register
class Email(DOMWidget):
    _view_name = Unicode('EmailView').tag(sync=True)
    _view_module = Unicode('email_widget').tag(sync=True)
    _view_module_version = Unicode('0.1.0').tag(sync=True)

    value = Unicode('example@example.com', help=&quot;The email value.&quot;).tag(sync=True)
</code></pre>
<p>and some JavaScript, in <code>test-extension/main.js</code>:</p>
<pre class=""lang-js prettyprint-override""><code>define('email_widget', [&quot;@jupyter-widgets/base&quot;], function(widgets) {
    var EmailView = widgets.DOMWidgetView.extend({

        // Render the view.
        render: function() {
            this.email_input = document.createElement('input');
            this.email_input.type = 'email';
            this.email_input.value = this.model.get('value');
            this.el.appendChild(this.email_input);
        },
    });

    return {
        EmailView: EmailView
    };
});
</code></pre>
<p>In my real application, this <code>main.js</code> file is generated by webpack and is 10-20MB. I'd rather not require my coworkers to rebuild the widget JS whenever anything changes. But since it's so large, I'd prefer not to commit it to GitHub. It's for a private repo, so I don't want to publish it on PyPI. One idea is to host the JS on an internal server and have the widget source it from there.</p>
<p>Is this possible with ipywidgets? Can a widget source the JS for its <code>_view_module</code> from a URL, rather than from local disk? ipywidgets uses <a href=""https://requirejs.org/"" rel=""nofollow noreferrer"">RequireJS</a> as a module loader, so a solution involving that would work, too. Or is there a better solution that I've overlooked?</p>
",276,0,<javascript><jupyter-notebook><requirejs><ipywidgets>,2020-07-16 21:00:52
62941777,"ipyleaflet with on_hover event, Marker.on_mouseover","<p>I just learned ipyleaflet from the scipy 2020 tutorials. In the tutorial example, I have seen the possibilities of having the hover event on ipyleaflet through the GeoJSON. Could anyone tell me how to have a hover event on Marker?</p>
<p>Below is my test try.</p>
<pre><code>m = Map(
    basemap=basemaps.CartoDB.DarkMatter,
    center = center,
    zoom = zoom,
    interpolation='nearest'
)

icon1 = AwesomeIcon(
    name = 'paper-plane-o',
    marker_color='red',
    icono_color='black',
    icon_size=(2,2),
    spin=False
)

marker = Marker(icon=icon1,
    name = glider_mission.split('/')[-1],
    location = ([27.19,-82.79]),
    draggable=False,
    opacity=0.5,
    rise_on_hover=True,
)

html = HTML()
def update_html(marker,**kwargs):
    html.value = '''
        &lt;b&gt;Glider Mission:&lt;/b&gt;&lt;br&gt;
        {}
    '''.format(marker.name)
marker.on_mouseover(update_html(marker))
m.add_layer(marker)
m
</code></pre>
<p>Jupyter Lab gave me the error, like</p>
<pre><code>---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
TypeError: 'NoneType' object is not callable
</code></pre>
",1883,0,<python><leaflet><jupyter><marker><ipywidgets>,2020-07-16 18:58:33
62940052,"Ipywidget ""Select"" does not trigger callback on mouse selection","<p>In Jupyterlab when selecting a new value in the Select-widget using the mouse, the callback does not trigger.</p>
<p>When assigning a new value using code, the callback is triggered.</p>
<p>Expected behaviour:
clicking on/selecting a new value with the mouse should trigger the callback.</p>
<p>Example:</p>
<pre><code>from ipywidgets import Select

# callback
def cb(change):
    print(change)

# widget
s_w = Select(value=None, options=['a','b'])
s_w.observe(cb, names='value')
</code></pre>
<pre><code>s_w
</code></pre>
<p>Clicking on a or b triggers nothing:
but assigning triggers the callback and the print function.</p>
<pre><code>s_w.value = 'a'
</code></pre>
<p>{'name': 'value', 'old': 'b', 'new': 'a', 'owner': Select(options=('a', 'b'), value='a'), 'type': 'change'}</p>
<p>How do I trigger the callback on mouse selection?</p>
<p>ipywidgets-version: 7.5.1
jupyter_client-version: 6.1.2</p>
",166,0,<jupyter-lab><ipywidgets>,2020-07-16 17:13:58
62918055,update widget from process in jupyter notebook,"<p>similar to this <a href=""https://stackoverflow.com/questions/54335524/multiprocessing-vs-threading-in-jupyter-notebook?newreg=939c8bba85184ac2829ec9620cf94506"">question</a></p>
<p>Creating a float progress widget and updating it in another process,
Why adding a print statement updates the progress bar?
Can this be done without the print statement?</p>
<p>Jupyter version: 5.3</p>
<pre><code>import sys; sys.version 
</code></pre>
<p>'3.7.3 (default, Mar 27 2019, 22:11:17) \n[GCC 7.3.0]'</p>
<pre><code>import multiprocessing as mp
from IPython.display import display
import ipywidgets as widgets
import time
progress = widgets.FloatProgress(value=0.0, min=0.0, max=1.0)

def work(progress):
    total = 100
    for i in range(total):
        print(i)
        time.sleep(0.2)
        progress.value = float(i+1)/total

p = mp.Process(target = work, args=(progress,))
display(progress)
p.start()
</code></pre>
",527,0,<python><jupyter-notebook><multiprocessing><jupyter><ipywidgets>,2020-07-15 15:10:02
62912274,jupyterhub page not found 404,"<p>I am constantly receiving :</p>
<pre><code>404 : Not Found
You are requesting a page that does not exist!
</code></pre>
<p>wheneever I open jupyterhub exposed at 0.0.0.0:8090 say on an EC2 Instance</p>
<p>I know somewhere it has to be a fine setting of :
c.Spawner.cmd
and c.Spawner.default_user</p>
<p>If I try jupyter-hublab, it works, but it is not loading my jupyterlab plugins.
And I get the above 404 errors whenever I do jupyter-lab as Spawner.cmd</p>
<p>And the errors I get :</p>
<pre><code>[W 2020-07-15 09:52:17.296 JupyterHub log:174] 404 GET /hub/static/components/es6-promise/promise.min.js?v=f004a16cb856e0ff11781d01ec5ca8fe (@::ffff:10.195.84.91) 0.67ms
[W 2020-07-15 09:52:17.306 JupyterHub log:174] 404 GET /hub/static/components/react/react.production.min.js?v=34f96ffc962a7deecc83037ccb582b58 (@::ffff:10.195.84.91) 0.86ms
[I 2020-07-15 09:52:17.310 JupyterHub log:174] 302 GET /static/base/images/logo.png?v=641991992878ee24c6f3826e81054a0f -&gt; /hub/static/base/images/logo.png?v=641991992878ee24c6f3826e81054a0f (@::ffff:10.195.84.91) 0.91ms
[W 2020-07-15 09:52:17.536 JupyterHub log:174] 404 GET /hub/static/components/react/react-dom.production.min.js?v=b14d91fb641317cda38dbc9dbf985ab4 (@::ffff:10.195.84.91) 1.31ms
[W 2020-07-15 09:52:17.540 JupyterHub log:174] 404 GET /hub/static/components/create-react-class/index.js?v=94feb9971ce6d26211729abc43f96cd2 (@::ffff:10.195.84.91) 0.80ms
[W 2020-07-15 09:52:17.575 JupyterHub log:174] 404 GET /hub/static/base/images/logo.png?v=641991992878ee24c6f3826e81054a0f (@::ffff:10.195.84.91) 0.80ms
[I 2020-07-15 09:52:17.821 JupyterHub log:174] 302 GET /static/components/jquery/jquery.min.js?v=20200715095212 -&gt; /hub/static/components/jquery/jquery.min.js?v=20200715095212 (@::ffff:10.195.84.91) 0.88ms
[W 2020-07-15 09:52:18.086 JupyterHub log:174] 404 GET /hub/static/components/jquery/jquery.min.js?v=20200715095212 (@::ffff:10.195.84.91) 0.83ms
</code></pre>
",359,1,<python-3.x><jupyter-lab><jupyterhub>,2020-07-15 09:56:28
62884399,voila iypwidgets 'nice' loader,"<p>When a notebook is rendered with voila a VERY NICE loader appear when the website is being rendered by voila, which might take several seconds if the dashboard is large.</p>
<p>Once in the dashboard is created and launched the User might run operations that can take several seconds to compute.
I would like to run a loader on top of the dashboard indicating the user that the computer is calculating. (Floating spinning icon or whatever)</p>
<p>Is it possible?</p>
<p>If it is not possible with the floating option is 5here any ipywidget as computing indicator (loading bar or similar)</p>
<p>Thx</p>
",870,1,<python><jupyter-notebook><ipywidgets>,2020-07-13 21:17:14
62881268,expanding two ipywidgets textAreas to the maximum in a HBox container,"<p>I would like to present two text box areas side by side in an ipywidget as follows:</p>
<pre><code>wd_COMPARISON_txt1 = widgets.Textarea(placeholder='text1',
                            disabled=False,
                            layout=Layout(width='auto',height='400px'))
    
wd_COMPARISON_txt2 = widgets.Textarea(placeholder='text2',
                            disabled=False,
                            layout=Layout(width='auto',height='400px'))
</code></pre>
<p>The way I show that in the dashboard is like this:</p>
<pre><code>show_COMPARISON_TEXTAREAS = HBox([wd_COMPARISON_txt1,wd_COMPARISON_txt2])
</code></pre>
<p>now the result looks like this:</p>
<p><a href=""https://i.stack.imgur.com/bxpdO.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/bxpdO.png"" alt=""enter image description here"" /></a></p>
<p>WHAT I WOULD LIKE IS THAT THOSE TWO FIELDS go all over the tab 50% in width (as show by the two rows in purple), and that the behaviour, if possible, is responsive if I shrink the browser window.</p>
<p>I used 'auto' property in the believed that that will expand the width automatically.</p>
",132,0,<python><textarea><ipywidgets>,2020-07-13 17:39:06
62874948,display hyperlink in Output ipywidget with link,"<p>I want to add to an output ipywidget several links</p>
<p>So far I do:</p>
<pre><code>with wd_LINKS_output:
    display('mylinks: ')
    now= datetime.now().strftime(&quot;%Y-%m-%d %H:%M:%S&quot;)
    display(now)
    display('https://www.google.com/')
</code></pre>
<p>I get:</p>
<p><a href=""https://i.stack.imgur.com/D1Ga6.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/D1Ga6.png"" alt=""enter image description here"" /></a></p>
<p>I would like:
a) get rid of the ''
b) Get a clikable link</p>
<p>Any ideas?</p>
",885,1,<python><output><jupyter><display><ipywidgets>,2020-07-13 11:32:59
62819287,k8s-hub image not valid when created from docker build -f Dockerfile -t k8s-hub:0.8.2,"<p>What I did:</p>
<ol>
<li><p>Downloaded repo</p>
<pre class=""lang-sh prettyprint-override""><code>git clone https://github.com/jupyterhub/zero-to-jupyterhub-k8s
</code></pre>
</li>
<li><p>checkout'd the 0.8.2 tag</p>
<pre class=""lang-sh prettyprint-override""><code>git fetch --all --tags --prune
git tag
git checkout tags/0.8.2
git status
HEAD detached at 0.8.2
</code></pre>
</li>
<li><p>Did a Docker build of the Docker image</p>
<pre class=""lang-sh prettyprint-override""><code>docker build -f Dockerfile -t k8s-hub:0.8.2 .  
</code></pre>
</li>
<li><p>Did a docker images</p>
<pre class=""lang-sh prettyprint-override""><code>docker images
REPOSITORY          TAG                 IMAGE ID            CREATED             
SIZE
k8s-hub             0.8.2               439891eafce8        3 minutes ago       534MB
ubuntu              18.04               d27b9ffc5667        45 hours ago        64.2MB
</code></pre>
</li>
<li><p>Results:</p>
<p>The image is not functional. Errors while building</p>
<pre class=""lang-sh prettyprint-override""><code>... 

Get:98 http://archive.ubuntu.com/ubuntu bionic-updates/main amd64 sqlite3 amd64 3.22.0-1ubuntu0.4 [752 kB]
debconf: delaying package configuration, since apt-utils is not installed
Fetched 114 MB in 9s (13.4 MB/s)
...
Setting up patch (2.7.6-2ubuntu1.1) ...
Setting up xz-utils (5.2.2-1.3) ...
update-alternatives: using /usr/bin/xz to provide /usr/bin/lzma (lzma) in auto mode
update-alternatives: warning: skip creation of /usr/share/man/man1/lzma.1.gz because associated file /usr/share/man/man1/xz.1.gz (of link group lzma) doesn't exist
update-alternatives: warning: skip creation of /usr/share/man/man1/unlzma.1.gz because associated file /usr/share/man/man1/unxz.1.gz (of link group lzma) doesn't exist
update-alternatives: warning: skip creation of /usr/share/man/man1/lzcat.1.gz because associated file /usr/share/man/man1/xzcat.1.gz (of link group lzma) doesn't exist
update-alternatives: warning: skip creation of /usr/share/man/man1/lzmore.1.gz because associated file /usr/share/man/man1/xzmore.1.gz (of link group lzma) doesn't exist
update-alternatives: warning: skip creation of /usr/share/man/man1/lzless.1.gz because associated file /usr/share/man/man1/xzless.1.gz (of link group lzma) doesn't exist
update-alternatives: warning: skip creation of /usr/share/man/man1/lzdiff.1.gz because associated file /usr/share/man/man1/xzdiff.1.gz (of link group lzma) doesn't exist
update-alternatives: warning: skip creation of /usr/share/man/man1/lzcmp.1.gz because associated file /usr/share/man/man1/xzcmp.1.gz (of link group lzma) doesn't exist
update-alternatives: warning: skip creation of /usr/share/man/man1/lzgrep.1.gz because associated file /usr/share/man/man1/xzgrep.1.gz (of link group lzma) doesn't exist
update-alternatives: warning: skip creation of /usr/share/man/man1/lzegrep.1.gz because associated file /usr/share/man/man1/xzegrep.1.gz (of link group lzma) doesn't exist
update-alternatives: warning: skip creation of /usr/share/man/man1/lzfgrep.1.gz because associated file /usr/share/man/man1/xzfgrep.1.gz (of link group lzma) doesn't exist
Setting up libheimbase1-heimdal:amd64 (7.5.0+dfsg-1) ...

</code></pre>
</li>
<li><p>Need an image similar to: 
<a href=""https://hub.docker.com/layers/jupyterhub/k8s-hub/0.8.2/images/sha256-0492ebf6917e3da9a8c8ce35d4e014769f469271b724a58b0823cba7bee066ce?context=explore"" rel=""nofollow noreferrer"">https://hub.docker.com/layers/jupyterhub/k8s-hub/0.8.2/images/sha256-0492ebf6917e3da9a8c8ce35d4e014769f469271b724a58b0823cba7bee066ce?context=explore</a> </p>
<p>When downloaded looks like this:</p>
<pre class=""lang-sh prettyprint-override""><code>docker images
REPOSITORY           TAG                 IMAGE ID            CREATED             SIZE
jupyterhub/k8s-hub   0.8.2               e48e1e021139        15 months ago       558MB
</code></pre>
</li>
</ol>
",222,2,<python><docker><kubernetes><dockerfile><jupyterhub>,2020-07-09 16:18:52
62792125,How to use FloatRangeSlider as range of X axis of a plot,"<p>I am trying to make an interactive plot using ipywidgets.<br/>
The final goal of the plot is to have a slider which will select the range of x-axis thus, automatically update the y-axis.<br/>
My main issue is to understand the update function in order to make the update of the range slider.<br/>
<strong>The final Plot from the example bellow should show only the xaxis = 4 to 10 and yaxis = 0 to 1000</strong>.<br/>
<a href=""https://i.stack.imgur.com/hyOCE.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/hyOCE.png"" alt=""enter image description here"" /></a></p>
<p>The code I have is the following:</p>
<pre><code>from ipywidgets.widgets import FloatRangeSlider
import numpy as np
import matplotlib.pyplot as plt

# Data
xData = np.linspace(0,15)
yData = xData**3

# Create slider
rangeX = FloatRangeSlider( 
    min=min(xData), max=max(xData), step=0.1, 
    description='Time (hours)'
)
### The issue is to update ###
def update(change):
    line.set_ydata(change*yData)
    fig.canvas.draw()

%matplotlib notebook
 
fig, ax = plt.subplots()
line, = ax.plot(xData, yData)
ax.grid(True)
## call observe to update the plot
rangeX.observe(update, 'value')
</code></pre>
",585,1,<python><jupyter><ipywidgets>,2020-07-08 09:54:27
62762417,jupyterhub on azure cannot set or locate jupyterhub_config.py,"<p>I am running the littlest jupyterhub per <a href=""https://tljh.jupyter.org/en/latest/install/azure.html"" rel=""nofollow noreferrer"">this tutorial</a>. It's running fine every time, however I can't seem to locate the default <code>jupyterhub_config.py</code>.  Per <a href=""https://jupyterhub.readthedocs.io/en/stable/getting-started/config-basics.html#:%7E:text=some%20common%20deployments-,Generate%20a%20default%20config%20file,in%20the%20current%20working%20directory.&amp;text=This%20default%20jupyterhub_config.py%20file,variables%20and%20their%20default%20values."" rel=""nofollow noreferrer"">this documentation</a> it says that you can run a command line to generate the file, but I get the <code>command not found</code> error. However jupyter hub <em>is</em> working and fine.</p>
<p>I even tried to do this from the admin terminal (in the browser's jupyter notebook, not from the terminal). In this case I can run the <code>jupyterhub --generate-config</code> command and it will generate the file, but not in any place that is referenced by jupyter hub on boot. Editing that file makes no difference.</p>
<p>My question here is: How can I find the <code>jupyterhub_config.py</code> file that the application is running from. If I need to create one, where does it need to be in order to be read? and where is the command line that jupyterhub is launching from. The terminal leaves no clue (other than <code>top</code>) that it is running at all. My hope is to edit the experience of all of my users from a single config file.</p>
",178,0,<python><jupyter-notebook><ubuntu-18.04><jupyterhub>,2020-07-06 18:37:57
62758122,How to add an interactive plot in Jupyter Notebook?,"<p>I have made a plot for the basic SIR model. I am satisfied with my plot, however, I would like to be able to have an interactive slider that tweaks my parameters beta and gamma. I would like both of them to range from 0 to 1 and for the user to be able to increment them by 0.01.</p>
<p>Can someone help me implement this in my code? Thank you for your time in advance.</p>
<p>Here is my code:</p>
<pre><code># # Solving SIR Model in Python (INTERACTIVE)

# \
# Importing packages:

# In[10]:


# Display in LaTeX style.
from sympy.interactive import printing
printing.init_printing(use_latex = True)

# For integration.
import scipy.integrate 

# For arrays (Python does not have native arrays).
import numpy as np

# For graphing.
import matplotlib.pyplot as plt 

# Prevents the pop-up graphs in a separate window.
get_ipython().run_line_magic('matplotlib', 'inline')

# Allows for an interactive widget bar.
from ipywidgets import interactive 


# \
# Defining differential equations:

# In[11]:


def SIR_model(y, t, beta, gamma):
    S, I, R = y
    
    dS_dt = -beta*S*I
    dI_dt = beta*S*I - gamma*I
    dR_dt = gamma*I
    
    return([dS_dt, dI_dt, dR_dt,])


# \
# Defining initial conditions:

# In[12]:


S0 = 0.95
I0 = 0.05
R0 = 0.0

beta = 0.35
gamma = 0.1


# \
# Defining time vector:

# In[13]:


# Graph from 0 to 100, include 10000 points.
t = np.linspace(0, 100, 10000) 


# \
# Defining solution:

# In[14]:


# Result
solution = scipy.integrate.odeint(SIR_model, [S0, I0, R0], t, args=(beta, gamma))
solution = np.array(solution)


# \
# Plotting the result:

# In[20]:


plt.figure(figsize=[8, 5])

plt.plot(t, solution[:, 0], label=&quot;S(t)&quot;)
plt.plot(t, solution[:, 1], label=&quot;I(t)&quot;)
plt.plot(t, solution[:, 2], label=&quot;R(t)&quot;)

plt.grid()
plt.legend()

plt.title(&quot;SIR Model&quot;)
plt.xlabel(&quot;Time&quot;)
plt.ylabel(&quot;Proportions of Populations&quot;)

# THIS DOES NOT WORK !!!
#interactive_plot = interactive(SIR_model, betta=(0.35,1,0.01), gamma=(0.1,1,0.01))
#interactive_plot

plt.show()

</code></pre>
<p>Here is the output.</p>
<p><a href=""https://i.stack.imgur.com/iudcq.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/iudcq.png"" alt=""enter image description here"" /></a></p>
",1867,1,<python><matplotlib><anaconda><jupyter><ipywidgets>,2020-07-06 14:23:51
62741677,How to use ipywidgets with wxpython desktop application?,"<p>I want to integrate IntRangeSlider from ipywidgets with wxpython dekstop application.
I tried using widgets.IntRangeSlider() and interact() both separately but program is not executing.
How to use these excellent functionalities with wx?</p>
<p><a href=""https://stackoverflow.com/questions/40122837/interactive-matplotlib-using-ipywidgets"">Code Example Here</a></p>
<p><a href=""https://ipywidgets.readthedocs.io/en/stable/examples/Widget%20List.html"" rel=""nofollow noreferrer"">Official page of ipywidgets with examples</a></p>
<pre><code>import wx
from ipywidgets import *
class MyPanel(wx.Panel):
    def __init__(self, parent):
        &quot;&quot;&quot;Constructor&quot;&quot;&quot;
        wx.Panel.__init__(self, parent)
        self.vert_box = wx.BoxSizer(wx.VERTICAL)
        rangeslider = widgets.IntRangeSlider(
            value=[5, 7],
            min=0,
            max=10,
            step=1,
            description='Test:',
            disabled=False,
            continuous_update=False,
            orientation='horizontal',
            readout=True,
            readout_format='d',
        )
        self.vert_box.Add(rangeslider, 0, wx.ALIGN_CENTER | wx.ALL, 1)

        rangeslider2=  interact(self.update)
        self.vert_box.Add(rangeslider2, 0, wx.ALIGN_CENTER | wx.ALL, 1)

        self.SetSizer(self.vert_box)
        self.Refresh()
    def update(self, w = 1.0):
        print(&quot;here is slider code&quot;)
        
class MyFrame(wx.Frame):
    def __init__(self):
        &quot;&quot;&quot;Constructor&quot;&quot;&quot;
        wx.Frame.__init__(self, None, title='Test', size=(750, 550))
        panel = MyPanel(self)
        self.Show()

if __name__ == '__main__':
    app = wx.App(False)
    frame = MyFrame()
    app.MainLoop()
</code></pre>
",114,0,<python><matplotlib><wxpython><ipywidgets>,2020-07-05 14:01:58
62733810,Enabling Multi-Select in ipython-widgets,"<p>I have a development problem. I need to be able to select multiple items at the same time from a drop-down menu in python using ipython-widgets. So far, I have been able to choose an option a single-option widget menu, which upon selection will plot its corresponding statistics. I have pasted my code below, and I would greatly appreciate it if you could help me out.</p>
<pre><code>import numpy as np
import pandas as pd
import ipywidgets as widgets
import matplotlib.pyplot as plt
import panel as pn
pn.extension()


classes= widgets.Dropdown(
description='Products:',
options= list(output_table.class_m.unique())
)


start_year = widgets.BoundedFloatText(
    value=output_table.year.min(),
    min=output_table.year.min(),
    max=output_table.year.max(),
    step=1,
    description='Start Year:',
    disabled=False,
    color='black'
)
end_year = widgets.BoundedFloatText(
    value=output_table.year.max(),
    min=output_table.year.min(),
    max=output_table.year.max(),
    step=1,
    description='End Year:',
    disabled=False,
    color='black'
)


output=widgets.Output()

def response(name, start, end):
    name = classes.value
    output.clear_output()
    df2 = output_table.copy()
   # Filter between min and max years (inclusive)
    df2 = df2[(df2.year &gt;= start) &amp; (df2.year &lt;= end)]
    with output:
        if len(df2) &gt; 0:
            plot1 = df2[df2['class_m'] == name].groupby(['month']).agg({'units':'sum'}).reset_index()
            plot1.plot(x='month', y='units')
            clear_output(wait=True)
            plt.show()
        else:
            print(&quot;No data to show for current selection&quot;)
def event_handler(change):
    response(change.new, start_year.value, end_year.value)

def start_year_handler(change):
    response(classes.value, change.new, end_year.value)

def end_year_handler(change):
    response(classes.value, start_year.value, change.new)

classes.observe(event_handler, names='value')
start_year.observe(start_year_handler, names = 'value')
end_year.observe(end_year_handler, names = 'value')

display(classes)
display(start_year)
display(end_year)
</code></pre>
",11142,3,<numpy><jupyter-notebook><ipython><ipywidgets>,2020-07-04 19:55:40
62718422,Ipython widget Dropdown including NaN values,"<p>I have an ipython widget dropdown which includes NaN:</p>
<pre><code>from ipywidgets import widgets
import numpy as np
widgets.Dropdown(description='Choose this:', options=[None, 'a', 'b', np.nan])
</code></pre>
<p>When I try to select NaN, I get the following error:</p>
<pre><code>StopIteration                             Traceback (most recent call last)
...

During handling of the above exception, another exception occurred:

ValueError                                Traceback (most recent call last)
...
ValueError: nan not in array

During handling of the above exception, another exception occurred:

TraitError                                Traceback (most recent call last)
...
TraitError: Invalid selection: value not found
</code></pre>
<p>I removed the Tracebacks because the bot is forcing me to add more details because my post is &quot;mostly code&quot;.</p>
<p>At first I thought we can only have literals in the dropdown, but using objects generally works fine.
What is so peculiar about NaN?</p>
",137,0,<python-3.x><numpy><ipywidgets>,2020-07-03 15:23:58
62714124,Using ipywidgets to show certain data from dataframes,"<p>I'm trying to create a slider that gives values from 0 to 100 and then it shows data from dataframe column that has ages from 0 to 100. I can't get the for loop to work. It just gives me errors like:</p>
<pre><code>TraitError: The 'value' trait of an IntSlider instance must be an int, but a value of &lt;function slider at 0x0000020D0F3A8828&gt; &lt;class 'function'&gt; was specified.
</code></pre>
<p>Here's my code:</p>
<pre><code>vaesto = pd.read_csv('X:/Ezter/Ezter/Data/vaestorakenne.csv', encoding='latin-1')
vaesto = vaesto.rename(columns={'Ikä':'ika'})

def slider(z):
    for i in range(i, z,len(vaesto['ika'])):
        vaesto.head(5)
widgets.IntSlider(slider, z='10')
</code></pre>
<p>And the data: <a href=""https://drive.google.com/file/d/1WYvdJgqNk-MlRwvE7aDPp2U3Uow6FpMh/view?usp=sharing"" rel=""nofollow noreferrer"">https://drive.google.com/file/d/1WYvdJgqNk-MlRwvE7aDPp2U3Uow6FpMh/view?usp=sharing</a></p>
",439,0,<python><pandas><ipywidgets>,2020-07-03 11:05:38
62708792,Kubernetes: Why my NodePort can not get an external ip?,"<p>Environment information:</p>
<pre><code>Computer detail: One master node and four slave nodes. All are CentOS Linux release 7.8.2003 (Core).
Kubernetes version: v1.18.0.
Zero to JupyterHub version: 0.9.0.
Helm version: v2.11.0
</code></pre>
<p>Recently, I try to deploy &quot;Zero to Jupyterhub&quot; on kubernetes. My jupyterhub config file such below:</p>
<p><code>config.yaml</code></p>
<pre><code>proxy:
  secretToken: &quot;2fdeb3679d666277bdb1c93102a08f5b894774ba796e60af7957cb5677f40706&quot;
  service:
    type: NodePort
    nodePorts:
      http: 30080
      https: 30443
singleuser:
  storage:
    dynamic:
      storageClass: local-storage
    capacity: 10Gi
</code></pre>
<p><strong>Note:</strong> I set the service type as <code>NodePort</code>, because I not have any cloud provider(deploy on my lab servers cluster), and I try using <code>nginx-ingress</code> also then got failure, that reason why I do not using <code>LoadBalance</code>.</p>
<p>But when I using this config file to install jupyterhub via <code>Helm</code>, I can not access jupyterhub from browser, even all <code>Pods</code> running. These pods detail like below:</p>
<p><code>kubectl get pod --namespace jhub</code></p>
<pre><code>NAME                              READY   STATUS    RESTARTS   AGE
continuous-image-puller-8gxxk     1/1     Running   0          27m
continuous-image-puller-8tmdh     1/1     Running   0          27m
continuous-image-puller-lwdcx     1/1     Running   0          27m
continuous-image-puller-pszsr     1/1     Running   0          27m
hub-7b9cbbcf59-fbppq              1/1     Running   0          27m
proxy-6b699b54c8-2pxmb            1/1     Running   0          27m
user-scheduler-65f4cbb9b7-9vmfr   1/1     Running   0          27m
user-scheduler-65f4cbb9b7-lqfrh   1/1     Running   0          27m
</code></pre>
<p>and its services like this:</p>
<p><code>kubectl get service --namespace jhub</code></p>
<pre><code>NAME           TYPE        CLUSTER-IP     EXTERNAL-IP   PORT(S)                      AGE
hub            ClusterIP   10.10.55.78    &lt;none&gt;        8081/TCP                     28m
proxy-api      ClusterIP   10.10.27.133   &lt;none&gt;        8001/TCP                     28m
proxy-public   NodePort    10.10.97.11    &lt;none&gt;        443:30443/TCP,80:30080/TCP   28m
</code></pre>
<p>Is seem to work well, right? (I guessed.) But the fact is that I can not use ip <code>10.10.97.11</code> to access the jupyter main page, and I did not get any external ip also.</p>
<p>So, my problems are:</p>
<ol>
<li>Do my config have any wrong?</li>
<li>How to get an external ip?</li>
</ol>
<p>Finally, thank you for save my day so much!</p>
",2062,2,<docker><kubernetes><jupyterhub>,2020-07-03 05:02:16
62707184,Plotting subsetted Pandas data frame using ipywidgets,"<p>I would like to plot subsets of a <code>pandas</code> data frame, using dropdown menus from <code>ipywidgets</code>, and I am getting some strange errors.</p>
<pre><code>import ipywidgets as wg
from IPython.display import display
import numpy as np
import pandas as pd
import matplotlib.pyplot as plt

# Make Data Frame
#
df = pd.DataFrame({
    
    &quot;x&quot;: np.arange(32),
    &quot;y&quot;: np.arange(32),
    &quot;A&quot;: [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
    &quot;B&quot;: [0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1],
    &quot;C&quot;: [0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1]
})

# Make dropdown menus
#
w1 = wg.Dropdown(
    options=[0,1],
    value=0,
    description='A:',
)
#
w2 = wg.Dropdown(
    options=[0,1],
    value=0,
    description='B:',
)
#
w3 = wg.Dropdown(
    options=[0,1],
    value=0,
    description='C:',
)
#
w4 = wg.Dropdown(
    options=['df'],
    value='df',
    description='DF:',
)

# Define plotting function
#
def myPlot(df, a, b, c):
    print(df)
    print(a)
    print(b)
    print(c)
    x = df[&quot;x&quot;][df[&quot;A&quot;]==a &amp; df[&quot;B&quot;]==b &amp; df[&quot;C&quot;]==c]
    y = df[&quot;y&quot;][df[&quot;A&quot;]==a &amp; df[&quot;B&quot;]==b &amp; df[&quot;C&quot;]==c]   
    plt.scatter(x,y)
    plt.show()

# Plot with interactive dropdown menus
#
wg.interact(myPlot, df=w4, a=w1, b=w2, c=w3)
</code></pre>
<p>The error happens when I try to define <code>x</code> in the plotting function: <code>TypeError: string indices must be integers</code>. I think it has to do with getting the data frame into the plotting function, because the <code>print</code> commands in the plotting function give me the right values of <code>A</code>, <code>B</code>, and <code>C</code> but prints the string <code>df</code>.</p>
<p>What would be the way to get the plots that I want?</p>
",225,1,<python><pandas><matplotlib><plot><ipywidgets>,2020-07-03 01:27:14
62688915,How should I deploy Persistent Volume(PV) for JupyterHub on Kubernetes?,"<p>Environment information:</p>
<pre><code>Computer detail: One master node and four slave nodes. All are CentOS Linux release 7.8.2003 (Core).
Kubernetes version: v1.18.0.
Zero to JupyterHub version: 0.9.0.
Helm version: v2.11.0
</code></pre>
<p>I recently try to deploy an online code environment(like Google Colab) in new lab servers via Zero to JupyterHub. Unfortunately, I failed to deploy Persistent Volume(PV) for JupyterHub and I got a failure message such below:</p>
<pre><code>Events:
  Type     Reason            Age                From               Message
  ----     ------            ----               ----               -------
  Warning  FailedScheduling  4s (x27 over 35m)  default-scheduler  running &quot;VolumeBinding&quot; filter plugin for pod &quot;hub-7b9cbbcf59-747jl&quot;: pod has unbound immediate PersistentVolumeClaims
</code></pre>
<p>I followed the installing process by the <a href=""https://zero-to-jupyterhub.readthedocs.io/en/latest/setup-jupyterhub/setup-jupyterhub.html"" rel=""nofollow noreferrer"">tutorial of JupyterHub</a>, and I was used Helm to install JupyterHub on k8s. That config file such below:</p>
<p><code>config.yaml</code></p>
<pre class=""lang-yaml prettyprint-override""><code>proxy:
  secretToken: &quot;2fdeb3679d666277bdb1c93102a08f5b894774ba796e60af7957cb5677f40706&quot;
singleuser:
  storage:
    dynamic:
      storageClass: local-storage
</code></pre>
<p>Here, I was config a <code>local-storage</code> for JupyterHub, the <code>local-storage</code> was observed k8s:  <a href=""https://kubernetes.io/docs/concepts/storage/storage-classes/#local"" rel=""nofollow noreferrer"">Link</a>. And its <code>yaml</code> file
such like that:</p>
<pre class=""lang-yaml prettyprint-override""><code>apiVersion: storage.k8s.io/v1
kind: StorageClass
metadata:
  name: local-storage
provisioner: kubernetes.io/no-provisioner
volumeBindingMode: WaitForFirstConsumer
</code></pre>
<p>Then I use <code>kubectl get storageclass</code> to check it work, I got the message below:</p>
<pre><code>NAME            PROVISIONER                    RECLAIMPOLICY   VOLUMEBINDINGMODE      ALLOWVOLUMEEXPANSION   AGE
local-storage   kubernetes.io/no-provisioner   Delete          WaitForFirstConsumer   false                  64m
</code></pre>
<p>So, I thought I deployed a storage for JupyterHub, but I so naive. I am so disappointed about that because my other Pods(JupyterHub) are all running. And I have been search some solutions so long, but also failed.</p>
<p>So now, my problems are:</p>
<ol>
<li><p>What is the true way to solve the PV problems? (Better using local storage.)</p>
</li>
<li><p>Is the local storage way will using other nodes disk not only master?</p>
</li>
<li><p>In fact, my lab had a could storage service, so if Q2 answer is No, and how I using my lab could storage service to deploy PV?</p>
</li>
</ol>
<hr />
<p>I had been addressed above problem with @Arghya Sadhu's solution. But now, I got a new problem is the Pod <code>hub-db-dir</code> also pending, it result my service <code>proxy-public</code> pending.</p>
<p>The description of <code>hub-db-dir</code> such below:</p>
<pre><code>Name:           hub-7b9cbbcf59-jv49z
Namespace:      jhub
Priority:       0
Node:           &lt;none&gt;
Labels:         app=jupyterhub
                component=hub
                hub.jupyter.org/network-access-proxy-api=true
                hub.jupyter.org/network-access-proxy-http=true
                hub.jupyter.org/network-access-singleuser=true
                pod-template-hash=7b9cbbcf59
                release=jhub
Annotations:    checksum/config-map: c20a64c7c9475201046ac620b057f0fa65ad6928744f7d265bc8705c959bce2e
                checksum/secret: 1beaebb110d06103988476ec8a3117eee58d97e7dbc70c115c20048ea04e79a4
Status:         Pending
IP:
IPs:            &lt;none&gt;
Controlled By:  ReplicaSet/hub-7b9cbbcf59
Containers:
  hub:
    Image:      jupyterhub/k8s-hub:0.9.0
    Port:       8081/TCP
    Host Port:  0/TCP
    Command:
      jupyterhub
      --config
      /etc/jupyterhub/jupyterhub_config.py
      --upgrade-db
    Requests:
      cpu:      200m
      memory:   512Mi
    Readiness:  http-get http://:hub/hub/health delay=0s timeout=1s period=10s #success=1 #failure=3
    Environment:
      PYTHONUNBUFFERED:        1
      HELM_RELEASE_NAME:       jhub
      POD_NAMESPACE:           jhub (v1:metadata.namespace)
      CONFIGPROXY_AUTH_TOKEN:  &lt;set to the key 'proxy.token' in secret 'hub-secret'&gt;  Optional: false
    Mounts:
      /etc/jupyterhub/config/ from config (rw)
      /etc/jupyterhub/cull_idle_servers.py from config (rw,path=&quot;cull_idle_servers.py&quot;)
      /etc/jupyterhub/jupyterhub_config.py from config (rw,path=&quot;jupyterhub_config.py&quot;)
      /etc/jupyterhub/secret/ from secret (rw)
      /etc/jupyterhub/z2jh.py from config (rw,path=&quot;z2jh.py&quot;)
      /srv/jupyterhub from hub-db-dir (rw)
      /var/run/secrets/kubernetes.io/serviceaccount from hub-token-vlgwz (ro)
Conditions:
  Type           Status
  PodScheduled   False
Volumes:
  config:
    Type:      ConfigMap (a volume populated by a ConfigMap)
    Name:      hub-config
    Optional:  false
  secret:
    Type:        Secret (a volume populated by a Secret)
    SecretName:  hub-secret
    Optional:    false
  hub-db-dir:
    Type:       PersistentVolumeClaim (a reference to a PersistentVolumeClaim in the same namespace)
    ClaimName:  hub-db-dir
    ReadOnly:   false
  hub-token-vlgwz:
    Type:        Secret (a volume populated by a Secret)
    SecretName:  hub-token-vlgwz
    Optional:    false
QoS Class:       Burstable
Node-Selectors:  &lt;none&gt;
Tolerations:     node.kubernetes.io/not-ready:NoExecute for 300s
                 node.kubernetes.io/unreachable:NoExecute for 300s
Events:
  Type     Reason            Age                 From               Message
  ----     ------            ----                ----               -------
  Warning  FailedScheduling  61s (x43 over 56m)  default-scheduler  0/5 nodes are available: 1 node(s) had taint {node-role.kubernetes.io/master: }, that the pod didn't tolerate, 4 node(s) didn't find available persistent volumes to bind.

</code></pre>
<p>The information with <code>kubectl get pv,pvc,sc</code>.</p>
<pre><code>NAME                               STATUS    VOLUME   CAPACITY   ACCESS MODES   STORAGECLASS    AGE
persistentvolumeclaim/hub-db-dir   Pending                                      local-storage   162m

NAME                                                  PROVISIONER                    RECLAIMPOLICY   VOLUMEBINDINGMODE      ALLOWVOLUMEEXPANSION   AGE
storageclass.storage.k8s.io/local-storage (default)   kubernetes.io/no-provisioner   Delete          WaitForFirstConsumer   false                  8h

</code></pre>
<p>So, how to fix it?</p>
",2055,1,<docker><kubernetes><jupyterhub>,2020-07-02 04:15:18
62680782,Change font-size in ipywidget.textarea,"<p>According to this <a href=""https://stackoverflow.com/questions/54471862/monospace-in-ipywidgets-textarea"">Monospace in ipywidgets.Textarea?</a>, I was able to change the font of my textarea. But no way to change the font-size.
Do you know a way please ? It seems that font-size has no effect.</p>
<p>cf the code below:</p>
<pre><code>from IPython.display import display
display(HTML(&quot;&lt;style&gt;textarea, input { font-family: Arial, Helvetica, sans-serif; font-size: 20px; }&lt;/style&gt;&quot;))

from ipywidgets import Textarea
Textarea('The world is bigger than you.')
</code></pre>
<p>Thanks,
Hadrien</p>
",697,0,<jupyter><ipywidgets>,2020-07-01 15:59:46
62670718,ipywidgets: How to get array input?,"<p>I need a widget that takes in an array as input, i.e. something like a hundred sliders (that I don't want to create manually).</p>
<p>How can I achieve this?</p>
<p>I thought the answer would be <code>widgets.Box</code>, but then I get the error <code>Box(...) cannot be transformed to a widget</code>.</p>
",934,2,<python><matplotlib><ipython><ipywidgets><matplotlib-widget>,2020-07-01 06:13:58
62655066,Is there a true configuration as code for jupyter notebook/labs?,"<p>So I have a jupyterhub-esk installation, where I am spinning up containers which run either jupyter lab or jupyter notebooks (depending on the users selection). On launch, the container basically does a git clone, enabling me to select one of my git repos and spin up a working jupyterlab environment with everything in it within minutes.</p>
<p>Until recently I had a big ol' list of pre-installed libraries in my dockerfile, which grew as I added requirements to my various projects. However, this is all getting rather unmanageable, with the built docker image nearing 4GB (Yikes!).</p>
<p>I have decided to go for a configuration-as-code approach - each git repo will have its own environment.yaml (this is the <a href=""https://docs.conda.io/projects/conda/en/latest/user-guide/tasks/manage-environments.html#create-env-file-manually"" rel=""nofollow noreferrer"">conda env</a>) at root, which will be installed and activated on-the-fly when the container spins up. It will be the responsibility of each repo to &quot;know&quot; its requirements. This will trade off spin up time for container size, plus make things much more reproducible outside of my specifically-built image!</p>
<p>However I have hit the following issue:</p>
<ul>
<li>Most of my notebooks require one plugin or another (gmaps / widgets / etc)</li>
<li>Plugins for jupyter labs are very sensitive to the specific version of the lab (prime candidate for config as code)</li>
<li>I can install the plugin fine via environment.yaml, but I cannot activate it it by default!</li>
<li>This means that each time I start up the jupyter environment, there is ~5 mins of messing with more configuration!! Worse, the whole idea of this project is so that I can send a link to someone not &quot;in the know&quot; - and they can have a configured environment with my notebooks in it, ready to play with in minutes.</li>
</ul>
<p><em>Is there a simple configuration as code solution which does both python/conda packages AND jupyter extensions?</em>
I know that the two are orthogonal in some respects (you can swap conda env, but your extensions are a property of your kernal session)</p>
<p>I have already thought of the following two suboptimal solutions:</p>
<ol>
<li>Environment.yaml AND a startup.sh</li>
</ol>
<p>I am not such a fan of this, it solves it sure, but its not a clean approach. Running any old shell script out of a public git repo is always a bad idea (security). Plus, the subset of people who understand shell scripts is not the same as the subset of people who use notebooks, which makes it harder to share this solution.</p>
<ol start=""2"">
<li>good ol' ipython magic</li>
</ol>
<pre><code>import sys
!jupyter nbextension enable xyz...
sys._exit(00)
</code></pre>
<p>Again, not the biggest fan, this kills the &quot;run all cells&quot; operation in the notebook, plus feels really clunky.</p>
<p>Peoples thoughts and suggestions would be well appreciated!</p>
",206,3,<docker><anaconda><jupyter><jupyter-lab><jupyterhub>,2020-06-30 10:10:11
62645404,"Internal 500 error on Google Compute Engine, installing littlest jupyter","<p>&quot;Internal 500 server error&quot; after VM runs for a day or two.</p>
<p>This is the second time it has happened, I start the instance, install littlest Jupyterhub
(see details below). I can login to the external ip, for a day, but then it stops
with internal 500 error. I cannot ssh or get into the instance, only alternate is to
create a new instance and re-do. What is the problem?</p>
<p>I have installed littlest jupyterhub using on this instance, using
#!/bin/bash
curl <a href=""https://raw.githubusercontent.com/jupyterhub/the-littlest-jupyterhub/master/bootstrap/bootstrap.py"" rel=""nofollow noreferrer"">https://raw.githubusercontent.com/jupyterhub/the-littlest-jupyterhub/master/bootstrap/bootstrap.py</a> | sudo python3 - --admin master</p>
",44,0,<google-compute-engine><internal-server-error><jupyterhub>,2020-06-29 19:27:49
62561695,How to handle 'Widget Loading...' Message in Google Cloud's JupyterLab AI Platform?,"<p>I am working on getting to know FairLearn in Google Cloud's AI Platform (via JupyterLab). For now, I am starting with the <a href=""https://fairlearn.github.io/quickstart.html"" rel=""nofollow noreferrer"">tutorial</a> and when I run the code for the Fairlearn Dashboard, I get an indefinite 'Loading widget...' as seen below.</p>
<p><img src=""https://i.stack.imgur.com/NR8Lj.png"" alt=""Image with Loading Widget"" /></p>
<p>I have been reading on other threads of users struggling with Wit-widget in JupyterLab to no avail.</p>
<p>Within my terminal in JupyterLab (within my conda environment), I did the following installations successfully:</p>
<pre><code>&gt; pip install ipywidgets

&gt; jupyter nbextension enable --py widgetsnbextension

&gt; conda install -c conda-forge nodejs

&gt; jupyter nbextension install --py --user witwidget

&gt; jupyter nbextension enable witwidget --user --py
</code></pre>
<p>And within my jupyter notebook, I also include:</p>
<pre><code>!jupyter labextension install @jupyter-widgets/jupyterlab-manager
</code></pre>
<p>I also have the following jupyterlab extension list:</p>
<p><img src=""https://i.stack.imgur.com/t8SRD.png"" alt=""Image of Jupyterlab Extension List"" /></p>
",497,0,<python><ipywidgets><fairlearn>,2020-06-24 18:23:07
62541719,Cross-Referencing Tables in Jupyter Notebook,"<p>I am having difficulty finding the right command to create a new table that contains the stats of specific players based on the names of players that are in a separate table I made. For example, I have a table that contains the names of multiple NBA players in the table <code>Daddy_Gang</code> and I want to pull their stats from the stats table into a new table that displays the stats of the players from <code>Daddy_Gang</code>.</p>
<p><a href=""https://i.stack.imgur.com/qtEhk.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/qtEhk.png"" alt=""enter image description here"" /></a></p>
",127,0,<jupyter-notebook><jupyter-lab><jupyterhub>,2020-06-23 18:44:39
62492878,Image upload in Jupyter Notebook using ipywidgets.FileUpload(),"<p>I have been struggling to upload images into my Jupyter notebook using ipywidgets.FileUpload(), it works ok with text files but with binary files the content is always corrupted. Particularly with images, those are always stored as &quot;data&quot; so keras.preprocessing.image.load_img() is unable to use them. The code I am using is:</p>
<pre><code>import ipywidgets as widgets

uploader = widgets.FileUpload()
uploader

for name, file_info in uploader.value.items():
    with open(name, 'wb') as fp:
        fp.write(file_info['content'])
</code></pre>
<p>I have tried multiple solutions but <strong>nothing is working with binary files</strong>, any hint or help is well received. My environment is GCP AI Platform Notebooks (JupyterLabs 1.2.16, ipywidgets 7.5.1) and the references I have been using are:</p>
<ul>
<li><a href=""https://stackoverflow.com/questions/61048103/extracting-text-from-ms-word-document-uploaded-through-fileupload-from-ipywidget/61067801#61067801"">Extracting text from MS Word Document uploaded through FileUpload from ipyWidgets in Jupyter Notebook</a></li>
<li><a href=""https://ipywidgets.readthedocs.io/en/latest/examples/Widget%20List.html#File-Upload"" rel=""nofollow noreferrer"">https://ipywidgets.readthedocs.io/en/latest/examples/Widget%20List.html#File-Upload</a></li>
<li><a href=""https://stackoverflow.com/questions/60958518/access-the-content-from-multiple-uploaded-files-from-ipywidgets-fileupload"">Access the content from multiple uploaded files from ipywidgets FileUpload</a></li>
<li><a href=""https://github.com/jupyter-widgets/ipywidgets/pull/2258"" rel=""nofollow noreferrer"">https://github.com/jupyter-widgets/ipywidgets/pull/2258</a></li>
</ul>
",3365,3,<jupyter-notebook><ipywidgets><gcp-ai-platform-notebook>,2020-06-20 23:32:58
62480078,jupyter_client.kernelspec.NoSuchKernel: No such kernel named PySpark,"<p>Am trying to execute Jupyter notebook from command line. Am currently using the docker image provided in below link</p>

<p><a href=""https://hub.docker.com/r/jupyter/pyspark-notebook"" rel=""nofollow noreferrer"">https://hub.docker.com/r/jupyter/pyspark-notebook</a></p>

<p>When i try to execute below in command line it fails.</p>

<pre><code>jupyter nbconvert --to notebook --ExecutePreprocessor.kernel_name=PySpark --ExecutePreprocessor.timeout=3600 --execute notebooks/sample-notebook.ipynb 
</code></pre>

<p>Below is the error message</p>

<pre><code>[NbConvertApp] Converting notebook notebooks/sample-notebook.ipynb to notebook
Traceback (most recent call last):
  File ""/opt/conda/bin/jupyter-nbconvert"", line 11, in &lt;module&gt;
    sys.exit(main())
  File ""/opt/conda/lib/python3.7/site-packages/jupyter_core/application.py"", line 270, in launch_instance
    return super(JupyterApp, cls).launch_instance(argv=argv, **kwargs)
  File ""/opt/conda/lib/python3.7/site-packages/traitlets/config/application.py"", line 664, in launch_instance
    app.start()
  File ""/opt/conda/lib/python3.7/site-packages/nbconvert/nbconvertapp.py"", line 340, in start
    self.convert_notebooks()
  File ""/opt/conda/lib/python3.7/site-packages/nbconvert/nbconvertapp.py"", line 510, in convert_notebooks
    self.convert_single_notebook(notebook_filename)
  File ""/opt/conda/lib/python3.7/site-packages/nbconvert/nbconvertapp.py"", line 481, in convert_single_notebook
    output, resources = self.export_single_notebook(notebook_filename, resources, input_buffer=input_buffer)
  File ""/opt/conda/lib/python3.7/site-packages/nbconvert/nbconvertapp.py"", line 410, in export_single_notebook
    output, resources = self.exporter.from_filename(notebook_filename, resources=resources)
  File ""/opt/conda/lib/python3.7/site-packages/nbconvert/exporters/exporter.py"", line 179, in from_filename
    return self.from_file(f, resources=resources, **kw)
  File ""/opt/conda/lib/python3.7/site-packages/nbconvert/exporters/exporter.py"", line 197, in from_file
    return self.from_notebook_node(nbformat.read(file_stream, as_version=4), resources=resources, **kw)
  File ""/opt/conda/lib/python3.7/site-packages/nbconvert/exporters/notebook.py"", line 32, in from_notebook_node
    nb_copy, resources = super(NotebookExporter, self).from_notebook_node(nb, resources, **kw)
  File ""/opt/conda/lib/python3.7/site-packages/nbconvert/exporters/exporter.py"", line 139, in from_notebook_node
    nb_copy, resources = self._preprocess(nb_copy, resources)
  File ""/opt/conda/lib/python3.7/site-packages/nbconvert/exporters/exporter.py"", line 316, in _preprocess
    nbc, resc = preprocessor(nbc, resc)
  File ""/opt/conda/lib/python3.7/site-packages/nbconvert/preprocessors/base.py"", line 47, in __call__
    return self.preprocess(nb, resources)
  File ""/opt/conda/lib/python3.7/site-packages/nbconvert/preprocessors/execute.py"", line 403, in preprocess
    with self.setup_preprocessor(nb, resources, km=km):
  File ""/opt/conda/lib/python3.7/contextlib.py"", line 112, in __enter__
    return next(self.gen)
  File ""/opt/conda/lib/python3.7/site-packages/nbconvert/preprocessors/execute.py"", line 345, in setup_preprocessor
    self.km, self.kc = self.start_new_kernel(**kwargs)
  File ""/opt/conda/lib/python3.7/site-packages/nbconvert/preprocessors/execute.py"", line 291, in start_new_kernel
    km.start_kernel(extra_arguments=self.extra_arguments, **kwargs)
  File ""/opt/conda/lib/python3.7/site-packages/jupyter_client/manager.py"", line 301, in start_kernel
    kernel_cmd, kw = self.pre_start_kernel(**kw)
  File ""/opt/conda/lib/python3.7/site-packages/jupyter_client/manager.py"", line 254, in pre_start_kernel
    kernel_cmd = self.format_kernel_cmd(extra_arguments=extra_arguments)
  File ""/opt/conda/lib/python3.7/site-packages/jupyter_client/manager.py"", line 178, in format_kernel_cmd
    cmd = self.kernel_spec.argv + extra_arguments
  File ""/opt/conda/lib/python3.7/site-packages/jupyter_client/manager.py"", line 84, in kernel_spec
    self._kernel_spec = self.kernel_spec_manager.get_kernel_spec(self.kernel_name)
  File ""/opt/conda/lib/python3.7/site-packages/jupyter_client/kernelspec.py"", line 235, in get_kernel_spec
    raise NoSuchKernel(kernel_name)
jupyter_client.kernelspec.NoSuchKernel: No such kernel named PySpark
</code></pre>
",1551,4,<pyspark><jupyter-notebook><jupyterhub>,2020-06-19 23:57:06
62419844,jupyter notebook ipywidgets not showing (no error),"<p>I recently set up a new Conda environment and brought up previously working codes
However, I found out that Jupyter widget does not seem to work properly</p>

<p>I did below things</p>

<pre><code>conda install -c conda-forge ipywidgets

jupyter nbextension enable --py widgetsnbextension --sys-prefix
</code></pre>

<p>Could anyone tell me what am I missing??</p>

<pre><code>from ipywidgets import widgets, Layout, Textarea, IntSlider, RadioButtons
transcripted = widgets.Textarea(""hello"", layout=Layout(width='100%', display='inline-flex', flex_flow = 'row wrap'))
submit_button = widgets.Button(description=""submit"")

display(transcripted)
display(submit_button)
</code></pre>

<p>the result is as below</p>

<pre><code>Textarea(value='hello', layout=Layout(display='inline-flex', flex_flow='row wrap', width='100%'))
Button(description='submit', style=ButtonStyle())
</code></pre>

<p><a href=""https://i.stack.imgur.com/uPmLx.png"" rel=""nofollow noreferrer"">screenshot</a></p>
",5254,0,<python><jupyter-notebook><ipywidgets>,2020-06-17 00:59:56
62388918,Custom nbextension's files not exposed on JupyterHub,"<p>I created a custom extension for Jupyter Notebook with pretty advanced GUI written in React. This is how the files are structured:</p>

<p><a href=""https://i.stack.imgur.com/MTnvK.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/MTnvK.png"" alt=""files structure in the source code""></a></p>

<p>When I install and enable the extension for a local Jupyter Notebook, all those files are exposed on the localhost and are then accessible to use in the extension.</p>

<p><a href=""https://i.stack.imgur.com/ITnrG.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/ITnrG.png"" alt=""files on the server in jupyter notebook""></a></p>

<p>When I try to install the same extension on JupyterHub (I am using The Littlest JupyterHub) however, only some of the files are exposed. It can be observed that only the files imported as AMD modules in <code>main.js</code> are mapped do the server. Fetching others result in 404 error. This results in the unability to use the extension at all.</p>

<p><a href=""https://i.stack.imgur.com/wuJvL.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/wuJvL.png"" alt=""files on the server in Jupyter Hub""></a></p>

<p>Is there something that I am missing while installing the extension? I am using this command in JupyterHub's terminal:</p>

<pre><code>sudo -E jupyter nbextension install connector-jupyter --py --sys-prefix
sudo -E jupyter nbextension enable connector-jupyter --py --sys-prefix
</code></pre>

<p>All of the files are properly copied to the <code>nbextensions</code> directory:</p>

<pre class=""lang-sh prettyprint-override""><code>admin@tec-l-011630:~$ ls /opt/tljh/user/share/jupyter/nbextensions/mstr_jupyter
cells-creation.js    jupyter-kernel.js   mstr.ico            ui-iframe.css
global-override.css  main.js             override_style.css  utilities.js
iframe_style.css     MicroStrategy.yaml  package-lock.json
jupyter-cells.js     mstr-connector      python-code.js
</code></pre>
",139,1,<jupyter-notebook><jupyterhub><jupyter-contrib-nbextensions>,2020-06-15 13:10:59
62368919,jupyterhub stuck at kernel starting,"<p>I am trying to setup a jupyterhub for my home network.
The os is CentOS 7.
I followed the official website instructions and installed by conda:</p>

<pre><code>conda install -c conda-forge jupyterhub  # installs jupyterhub and proxy
conda install notebook  # needed if running the notebook servers locally
</code></pre>

<p>I changed the ip and port in the jupyterhub_config.py</p>

<pre><code>c.JupyterHub.ip = '*'
c.JupyterHub.port = 8000
</code></pre>

<p>and open the firewall port 8000.</p>

<p>however, when I start the service and connect to it, the it always show <code>starting kernel, please wait</code>. I tried different solutions suggested online:<br>
1. change browser.<br>
2. clear catch.<br>
3. downgrade tornado to 5.1.1.<br>
None of them worked. 
Any suggestions?</p>

<p>below are the logs:</p>

<pre><code>[I 2020-06-14 16:56:42.986 SingleUserNotebookApp handlers:153] Creating new notebook in 
[I 2020-06-14 16:56:42.991 SingleUserNotebookApp log:174] 201 POST /user/wzh/api/contents (wzh@::ffff:192.168.10.161) 6.32ms
[I 2020-06-14 16:56:43.258 SingleUserNotebookApp log:174] 200 GET /user/wzh/notebooks/Untitled1.ipynb?kernel_name=python3 (wzh@::ffff:192.168.10.161) 256.50ms
[I 2020-06-14 16:56:43.536 SingleUserNotebookApp log:174] 200 GET /user/wzh/api/config/notebook?_=1592125003444 (wzh@::ffff:192.168.10.161) 2.20ms
[I 2020-06-14 16:56:43.539 SingleUserNotebookApp log:174] 200 GET /user/wzh/api/config/common?_=1592125003445 (wzh@::ffff:192.168.10.161) 2.17ms
[I 2020-06-14 16:56:43.576 SingleUserNotebookApp log:174] 200 GET /user/wzh/api/contents/Untitled1.ipynb?type=notebook&amp;_=1592125003446 (wzh@::ffff:192.168.10.161) 2.06ms
[I 2020-06-14 16:56:43.666 SingleUserNotebookApp log:174] 200 GET /user/wzh/api/contents/Untitled1.ipynb/checkpoints?_=1592125003447 (wzh@::ffff:192.168.10.161) 0.96ms
[I 2020-06-14 16:56:43.686 SingleUserNotebookApp kernelmanager:172] Kernel started: ee910a85-5afe-48b6-8a88-e30c29b63867
[I 2020-06-14 16:56:43.687 SingleUserNotebookApp log:174] 201 POST /user/wzh/api/sessions (wzh@::ffff:192.168.10.161) 20.65ms
[W 2020-06-14 16:56:43.696 SingleUserNotebookApp log:174] 404 GET /user/wzh/nbextensions/widgets/notebook/js/extension.js?v=20200614165639 (wzh@::ffff:192.168.10.161) 7.93ms
</code></pre>

<h3>The setup I have</h3>

<ol>
<li>Esxi 6.5. </li>
<li>CentOS 7. </li>
<li>conda 4.8.2. </li>
<li>jupyterhub 1.1.0. </li>
<li>Python 3.7</li>
</ol>
",222,0,<python><jupyter><jupyterhub>,2020-06-14 06:00:17
62340294,How to change logo image of a kernel in jupyterlab,"<p>I started a jupyterhub server with jupyterlab interface, and create some kernels for different language.<br>
Is it possible to change the logo image of kernel in jupyterlab Launcher, for example, the ''M'' logo in <a href=""https://i.stack.imgur.com/FTQxR.png"" rel=""nofollow noreferrer"">the picture</a>.</p>

<p>The followings are the kernel info:<br></p>

<pre class=""lang-sh prettyprint-override""><code>$ jupyter kernelspec list
Available kernels:
  python3              /usr/local/anaconda3/envs/Server/share/jupyter/kernels/python3
  matlab               /usr/local/share/jupyter/kernels/matlab
  quantum              /usr/local/share/jupyter/kernels/quantum
  wolframlanguage12    /usr/local/share/jupyter/kernels/wolframlanguage12
</code></pre>

<p>I found out that there exist a logo image <code>logo-64x64.png</code> in <code>/usr/local/anaconda3/envs/Server/share/jupyter/kernels/python3</code>.</p>

<p>But if I download other png file, resize it to 64x64, rename it as <code>logo-64x64.png</code>, and put it under <code>/usr/local/share/jupyter/kernels/matlab/</code>, the logo display on launcher will become python's logo, in stead of the image I downloaded.</p>

<p>The <code>kernel.json</code> file in <code>/usr/local/share/jupyter/kernels/matlab</code> :</p>

<pre><code>{
    ""argv"": [
        ""/usr/local/anaconda3/envs/Py35/bin/python"", ""-m"", ""matlab_kernel"", ""-f"", ""{connection_file}""],
    ""display_name"": ""Matlab"",
    ""language"": ""matlab"",
    ""mimetype"": ""text/x-octave"",
    ""name"": ""matlab""
}
</code></pre>

<p>Did I miss-understand something, or should I put the logo image in other position.</p>
",1192,3,<python><jupyter><jupyter-lab><jupyterhub>,2020-06-12 08:18:36
62280876,Init Actions causing Jupyterhub internal error,"<p>I have a dag creating a Dataproc Cluster with Jupyter and Anaconda as additional components, I start the cluster with a custom script to install Python packages.</p>

<pre><code>class CustomDataprocClusterCreateOperator(DataprocClusterCreateOperator):

    def __init__(self, *args, **kwargs):
        super(CustomDataprocClusterCreateOperator, self).__init__(*args, **kwargs)

    def _build_cluster_data(self):
        cluster_data = super(CustomDataprocClusterCreateOperator, self)._build_cluster_data()
        cluster_data['config']['endpointConfig'] = {
            'enableHttpPortAccess': True
        }
        cluster_data['config']['softwareConfig']['optionalComponents'] = [ 'JUPYTER', 'ANACONDA' ]
        return cluster_data

create_cluster=CustomDataprocClusterCreateOperator(
            task_id='create-%s-%s' % (cluster_name, user), 
            cluster_name='%s-%s' % (cluster_name, user),
            project_id=project_id,
            num_workers=2,
            num_masters=2,
            master_machine_type='n1-standard-2',
            worker_machine_type='n1-standard-2',
            subnetwork_uri='projects/XXX-network/regions/europe-west1/subnetworks/prod',
            init_actions_uris=['gs://XXX/python-packages.sh'],
            master_disk_size=1000,
            worker_disk_size=1000,
            master_disk_type='pd-ssd',
            worker_disk_type='pd-ssd',
            storage_bucket=XXX, 
            region='europe-west1', 
            zone='europe-west1-b',
            auto_delete_ttl=36000, 
            dag=dag
        )
</code></pre>

<p>Here is the <code>python-package.sh</code>script </p>

<pre><code>#!/bin/sh
apt update
apt install python-pip -y
apt install libpq-dev python-dev
pip install -U google-cloud-storage
pip install -U xlrd 
pip install -U gcsfs
pip install -U tensorflow
pip install -U pymongo
pip install -U openpyxl
pip install -U psycopg2
</code></pre>

<p>It used to work just fine but since Friday, the cluster is launching but there is an 500 Internal Error when accessing the Jupyterhub. 
I have connected to the master and I do have access to the bucket (doing <code>gsutil cat gs://XXX/python-packages.sh</code>) and the initialization script was correctly saved in <code>/etc/google-dataproc/startup-scripts/dataproc-initialization-script-0</code>. I did not find any error in <code>/var/log/jupyter_notebook.log</code> so I am a bit out of ideas right now. </p>

<p>Removing the <code>init_actions</code> does make the Jupyterhub works again but I do need these packages</p>
",84,1,<google-cloud-platform><google-cloud-dataproc><jupyterhub>,2020-06-09 10:52:10
62272225,"Plot a graph with ipycytoscape, problems with number of nodes","<p>I am trying to visualize a graph using ipycytoscape and I got so far:</p>

<pre><code>import networkx as nx
import ipycytoscape
G2 = nx.Graph()
G2.add_nodes_from([*'ABCDE'])
G2.add_edges_from([('A','B'),('B','C'),('D','E'),('F','A'),('C','A')])

mynodes= G2.nodes
myedges= G2.edges

nodes = [{""data"":{""id"":n}} for n in mynodes]

edges = [{""data"":{""source"":n0,""target"":n1}} for n0,n1 in myedges]

JSON_graph_data = {""nodes"":nodes,""edges"":edges}
cytoscapeobj = ipycytoscape.CytoscapeWidget()
cytoscapeobj.graph.add_graph_from_json(JSON_graph_data)
cytoscapeobj
</code></pre>

<p>It works so far. G2 is a very small Graph for training purposes</p>

<p>But what could be the reason that when I passed a bigger one (40 nodes, several hundreds of edges) I dont get an error but I dont see anything coming out.</p>
",177,0,<layout><ipywidgets><ipycytoscape>,2020-06-08 22:34:28
62271791,Plot a graph with ipycytoscape (and networkx),"<p>Following the instructions of ipycitoscape I am not able to plot a graph using ipycitoscape.</p>

<p>according to: <a href=""https://github.com/QuantStack/ipycytoscape/blob/master/examples/Test%20NetworkX%20methods.ipynb"" rel=""nofollow noreferrer"">https://github.com/QuantStack/ipycytoscape/blob/master/examples/Test%20NetworkX%20methods.ipynb</a></p>

<p>this should work:</p>

<pre><code>import networkx as nx
import ipycytoscape

G2 = nx.Graph()
G2.add_nodes_from([*'ABCDEF'])
G2.add_edges_from([('A','B'),('B','C'),('C','D'),('E','F')])

print(G2.nodes)
print(G2.edges)
cytoscapeobj = ipycytoscape.CytoscapeWidget()
cytoscapeobj.graph.add_graph_from_networkx(nx_graph)
</code></pre>

<p>G2 is a networkx graph example and it looks ok since print(G2) gives the networkx object back and G2.nodes and G2.edges can be printed. </p>

<p>The error:</p>

<pre><code>ValueError: invalid literal for int() with base 10: 'A'
</code></pre>

<p>Why should a node be an integer?
More general what to do if the starting data point if a pandas dataframe with a million rows edges those being strings  like ProcessA-ProcessB, processC-processD etc</p>

<p>Also having a look to the examples it is to be noted that the list of nodes is composed of a dictionary data for every node. that data including an ""id"" per node and also ""Atribute"". The surprise here is that the networkx Graph should have all those properties.</p>

<p>thanks</p>
",1306,0,<networkx><ipywidgets><ipycytoscape>,2020-06-08 21:54:14
62236149,keep getting function location from ipywidget dropdown menue when I want to save as df,"<p>I am trying to make a simple password generator using dropdown from <code>ipywidgets</code> but when I try to put answer in a DataFrame in order to save in a CSV file, it keeps giving me the function's memory location.</p>
<pre><code>import ipywidgets
import pandas as pd
import string
import random
import csv


#get user input for username and website name
website_name = input(&quot;Please enter the website name: &quot;)
user_name = input(&quot;Please enter your username: &quot;)

#define dropdown menue
drop_down = ipywidgets.Dropdown(options=list(range(15, 21)),
                                value=20,
                                description='Number:',
                                disabled=False,
                                )

#function to generate random password
def Generate_password(length):
    import string
    import random
    password_choices = string.ascii_letters + '1234567890' + '!@#$%^&amp;*()_-+'
    password = [random.choice(password_choices) for _ in range(length)]
    return &quot;&quot;.join(password)
    a= &quot;&quot;.join(password)
    
    

print(str(a))

#get answer in form of DataFrame
final = {website_name: [user_name, (ipywidgets.interact(Generate_password, length = drop_down))]}
final = pd.DataFrame(final)
print(final)

#save to csv
final.to_csv('pass_list.csv')
</code></pre>
<p>This is the result I get:</p>
<pre><code>Please enter the website name: Yahoo
Please enter your username: ABCDEFG
&lt;function Generate_password at 0x0000013ED6F3FD38&gt;

Number:

'%H91e(Mnh5HQqpLsZSPd'

                                               Yahoo
0                                            ABCDEFG
1  &lt;function Generate_password at 0x0000013ED6F3F...
</code></pre>
<p>Instead of <code>&lt;function Generate_password at 0x0000013ED6F3FD38&gt;</code> in my DataFrame I want <code>%H91e(Mnh5HQqpLsZSPd</code> to show up. What can I do?</p>
",22,1,<python><function><ipywidgets>,2020-06-06 18:23:28
62206089,Yaml invalid when I try to do a kubectl patch deploy to Gitlab,"<p>I need to patch my Jupyterhub installation during installation via .gitlab-ci.yml. When I push my branch to giblab I get ""yaml invalid"". The script works when I run it from the command line, but not when I run it from .gitlab-ci.yml. </p>

<pre><code>- kubectl patch deploy -n $NAMESPACE hub --type json --patch '[{""op"": ""replace"", ""path"": ""/spec/template/spec/containers/0/command"", ""value"": [""bash"", ""-c"", ""\nmkdir -p ~/hotfix\ncp -r /usr/local/lib/python3.6/dist-packages/kubespawner ~/hotfix\nls -R ~/hotfix\npatch ~/hotfix/kubespawner/spawner.py &lt;&lt; EOT\n72c72\n&lt;             key=lambda x: x.last_timestamp,\n---\n&gt;             key=lambda x: x.last_timestamp and x.last_timestamp.timestamp() or 0.,\nEOT\n\nPYTHONPATH=$HOME/hotfix jupyterhub --config /srv/jupyterhub_config.py --upgrade-db\n""]}]'
</code></pre>

<p>See 
<a href=""https://rancher.com/blog/2020/ai-meets-kubernetes"" rel=""nofollow noreferrer"">https://rancher.com/blog/2020/ai-meets-kubernetes</a></p>
",494,2,<gitlab><yaml><gitlab-ci><kubectl><jupyterhub>,2020-06-05 00:07:52
62172804,failed to run jupyterhub when changing default port,"<p><br>
I'm trying to set up jupyterhub. The 8000 is used for a different program, so I have to use a different port.</p>

<p>I change the file   &nbsp;&nbsp;&nbsp;&nbsp; /etc/jupyterhub/jupyterhub_config.py    &nbsp;&nbsp;&nbsp;&nbsp; add/uncomments: </p>

<pre><code>c.JupyterHub.hub_port = 9003
c.JupyterHub.ip = '111.111.11.1'
c.JupyterHub.port = 9002
c.ConfigurableHTTPProxy.api_url = 'http://127.0.0.1:9000'
</code></pre>

<p>when I tried to running jupyterhub, I got the error:</p>

<blockquote>
  <p>[W 2020-06-03 14:48:48.930 JupyterHub proxy:554] Stopped proxy at pid=47639<br>
  [W 2020-06-03 14:48:48.932 JupyterHub proxy:643] Running JupyterHub without SSL. <br> I hope there is SSL termination happening somewhere else...<br>
  [I 2020-06-03 14:48:48.932 JupyterHub proxy:646] Starting proxy @ <a href=""http://111.111.11.1:9002/"" rel=""nofollow noreferrer"">http://111.111.11.1:9002/</a><br>
  14:48:49.301 [ConfigProxy] info: Proxying <a href=""http://111.111.11.1:9002"" rel=""nofollow noreferrer"">http://111.111.11.1:9002</a> to (no default)<br>
  14:48:49.307 [ConfigProxy] info: Proxy API at <a href=""http://127.0.0.1:9000/api/routes"" rel=""nofollow noreferrer"">http://127.0.0.1:9000/api/routes</a><br>
  14:48:49.315 [ConfigProxy] error: Uncaught Exception<br>
  [E 2020-06-03 14:48:49.437 JupyterHub app:2718]<br>
      Traceback (most recent call last):<br>
        File ""/home/user/miniconda/2020.02/python/3.7/lib/python3.7/site-packages/jupyterhub/app.py"", line 2716, in launch_instance_async<br>
          await self.start()<br>
        File ""/home/user/miniconda/2020.02/python/3.7/lib/python3.7/site-packages/jupyterhub/app.py"", line 2524, in start<br>
          await self.proxy.get_all_routes()<br>
        File ""/home/user/miniconda/2020.02/python/3.7/lib/python3.7/site-pack#c.JupyterHub.hub_ip = '127.0.0.1'<br>
  ages/jupyterhub/proxy.py"", line 806, in get_all_routes<br>
          resp = await self.api_request('', client=client)<br>
        File ""/home/user/miniconda/2020.02/python/3.7/lib/python3.7/site-packages/jupyterhub/proxy.py"", line 774, in api_request<br>
          result = await client.fetch(req)<br>
      tornado.httpclient.HTTPClientError: HTTP 403: Forbidden</p>
</blockquote>

<p>What is the correct way to install jupyterhub on a port other than 8000?</p>

<p>Thanks.</p>
",962,1,<jupyter><jupyterhub>,2020-06-03 12:25:52
62163199,"JupyterHub notebook server returning 500 error, pod stuck in ""terminating"" state","<p>I have an AWS EKS cluster (kubernetes version 1.14) which runs JupyterHub application.</p>

<p>One of the users notebook servers is returning a 500 error</p>

<blockquote>
  <p>500 : Internal Server Error 
  Redirect loop detected. Notebook has JupyterHub version unknown (likely &lt; 0.8), but the hub expects 0.9.6. Try installing JupyterHub==0.9.6 in the user environment if you continue to have problems. 
  You can try restarting your server from the homepage.</p>
</blockquote>

<p>Only one user is experiencing this issue, others are not. When I do ""kubectl get pod"", this users pod shows that it is in state ""terminating"" (it appears to be stuck in this state).</p>
",754,0,<amazon-web-services><kubernetes><jupyterhub><amazon-eks>,2020-06-03 00:00:54
62160381,ipywidgets and plotly not showing their output after first call,"<p>I am trying to create a dashboard that contains plotly graphics objects and ipython widgets inside a jupyter notebook.
Everything works fine when a certain function that uses these widgets to produce a plotly graph object is used with <code>@interact</code> decorator, i.e. its expected output, the graph, is shown soon after executing the cell.
However, if I put the whole function and widgets inside a <code>VBox</code> widget, together with an <code>Output</code> widget that shall contain the graph, the function doesn't show any chart when the cell is executed for the first time (see picture below), and only after interacting with its widgets I get a refresh of the chart.</p>
<p>I include my code here, it is not reproducible and I apologize for that, however I hope someone can spot the problem with it.</p>
<pre><code>daily_tab = widgets.VBox()

daily_out = widgets.Output(layout = {
            'width': '100%',
            'height': '600px',
            'border': '1px solid black'
        })

def get_values_for_day(regions,labels,date,cases_per_mln_people,show_grid):
    with daily_out:
        clear_output()
        data_columns = orig_data_columns+extra_data_columns
        if len(regions) == 0:
            regions = ['Italy']
        regions = list(regions)    
        if len(labels) == 0:
            labels = [item for item in data_columns if ('daily' in item) &amp; ('%' not in item)]
        labels = list(labels)
        mult = 1.
        fig = go.Figure()
        for region in regions:    
            if cases_per_mln_people: 
                mult = 1e06/ita_populations.loc[region, 'Popolazione']
            for item in labels: 
                df_reg[region].index = pd.to_datetime(df_reg[region].index)
            fig.add_traces(go.Bar(y=labels, x=df_reg[region][labels].loc[date]*mult, name=region, orientation='h'))
            fig.update_layout(showlegend=True,title='day ' + str(date.strftime(&quot;%m/%d/%Y&quot;)),
                             paper_bgcolor='rgba(0,0,0,0)',font = dict(color = 'lightgray'),plot_bgcolor='rgba(0,0,0,0)')
        fig.update_xaxes(showgrid=show_grid, gridwidth=1, gridcolor='lightgray')
        fig.update_yaxes(showgrid=show_grid, gridwidth=1, gridcolor='lightgray')
        fig.show()
        
daily_widget = interactive(get_values_for_day,
                           regions = widgets.SelectMultiple(description=&quot;regions&quot;,
                                                            options=list(df_reg.keys()), value=['Italy']),
                           labels = widgets.SelectMultiple(description=&quot;data&quot;,
                                                           options=orig_data_columns+extra_data_columns, 
                                                           value=['Rth']),
                           date=widgets.DatePicker(description='Pick a Date',
                                                   value=pd.to_datetime(df_prov.index.max())),
                           cases_per_mln_people=False, 
                           show_grid=False)
daily_box = widgets.HBox(daily_widget.children[:-1], layout = widgets.Layout(flex_flow='row wrap'))

daily_tab.children = [daily_box, daily_out]
</code></pre>
<p>here's the output of the cell when it's executed for the first time:</p>
<p><a href=""https://i.stack.imgur.com/HIEMA.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/HIEMA.png"" alt=""output after first cell execution"" /></a></p>
<p>and here's the output after interacting with the various widget controls:</p>
<p><a href=""https://i.stack.imgur.com/Rw3ux.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/Rw3ux.png"" alt=""enter image description here"" /></a></p>
<p>How could I have the function printing the expected output given its default parameters when called the first time without the need of forcing the call?</p>
",2632,1,<python><plotly><jupyter><ipywidgets>,2020-06-02 19:56:56
62137006,Icon for ipywidgets Button not working in Google colab,"<p>I'm trying to create a button with an icon using <code>ipywidgets</code> in Google colab without success.</p>

<pre class=""lang-py prettyprint-override""><code>import ipywidgets as widgets
from IPython.display import display

my_button = widgets.Button(icon=""home"")
display(my_button)
</code></pre>

<p>However, no icon is displayed...</p>
",826,1,<jupyter-notebook><google-colaboratory><ipywidgets>,2020-06-01 16:51:48
62129137,Im working on a python problem to optimize the script,"<ol>
<li>to make the row values of option_labels column into column headers </li>
<li>if the option_labels is present for a particular user_id, I would apply the value of option_values in the created new columns, else it would be 0.</li>
</ol>

<p>sample data is: (data.csv)</p>

<pre><code> user_id       country        option_values        option_labels

 abc456         Germany        256gb                  SSD
 abc123         Brazil         i5                    intel 
 xyz456         France         128gb                  SSD
 xyz123         Turkey         i7                    intel 
 abc123         Brazil         2gb                   nvidia
 abc456         Germany        32gb                   RAM
 xyz123         Turkey         4gb                   nvidia
 xyz456         France         16gb                   RAM
</code></pre>

<p>sample output would be:</p>

<pre><code> user_id       country        option_values     option_labels     intel         nvidia       SSD        RAM 

 abc456         Germany        256gb             SSD                0              0        256gb        0
 abc123         Brazil         i5                intel              i5             0          0          0
 xyz456         France         256gb             SSD                0              0        128gb        0
 xyz123         Turkey         i7                intel              i7             0          0          0
 abc123         Brazil         2gb               nvidia             0              2gb        0          0  
 abc456         Germany        32gb              RAM                0              0          0          32gb
 xyz123         Turkey         4gb               nvidia             0              4gb        0          0
 xyz456         France         16gb              RAM                0              0          0          16gb
</code></pre>

<p>I have done this process with the below sample code,</p>

<pre><code> import pandas as pd
 import numpy as np

 data_sample = pd.read_csv(""data.csv"")
 feature_list = data_sample[""option_label""].unique().tolist()
 user_list = data_sample[""user_id""].unique().tolist()
 country_list = data_sample[""country""].unique().tolist()
 opt_val_list = data_sample[""opt_val""].unique().tolist()

 def filterd_id(check_id):
     single_id_data= data_sample[data_sample['user_id'] == check_id]
     return single_id_data

 def finding_features(single_id_data):
     user_features = single_id_data[""option_labels""].unique().tolist()
     return user_features

 def check_feature(feature_list, user_features): 
     feature_prs_not = []
     for i in feature_list:
         if(i in user_features):
             result = opt_val_list
         else:
             result = 0 
         feature_prs_not.append(result)          
     return feature_prs_not 

 user_id = []
 country = []

 for i in user_list: 
     check_id = i
     user_id.append(i)
     single_id_data = filterd_id(check_id)
     c = single_id_data[""country""].unique().tolist()
     country.append(c)
     user_features = finding_features(single_id_data)
     feature_prst_not = check_feature(feature_list,user_features)    
     df = pd.DataFrame([feature_prst_not], columns = feature_list)
     df_feature = df_feature.append(df)
 df_user_id = pd.DataFrame(user_id, columns=['all_user_id'])
 df_country = pd.DataFrame(country, columns=['country_name'])
</code></pre>

<p>its taking much more time to run (for eg.. 8-9 hours) for my original data of nearly 100k ids.
I'm still in the learning phase in Python, Im trying to optimize now to reduce the run time of the script.</p>
",43,0,<python-3.x><jupyterhub>,2020-06-01 09:20:28
62113899,Successive ipywidgets buttons,"<p>I'm trying to make a successive process of buttons clicks using ipywidgets buttons. </p>

<p>Click on button 1 is supposed to clear button 1 and display button 2 etc... </p>

<p>It looks like the introduction of the wait variable make my purge function unreachable, and I don't understand why. </p>

<pre><code>from ipywidgets import Button
from IPython.display import display, clear_output

def purge(sender):
    print('purge')
    clear_output()
    wait=False

for i in range(5):
    print(f'Button number :{i}')
    btn = widgets.Button(description=f'Done', disabled=False,
                        button_style='success', icon='check')
    btn.on_click(purge)
    display(btn)
    wait=True
    while wait:
        pass
</code></pre>
",715,3,<python><button><jupyter-notebook><ipywidgets>,2020-05-31 09:05:30
62105596,How to get mouse selected text from Jupyter text widget?,"<p>I want to capture the mouse selected text from a jupyter text widget .</p>

<pre><code>import ipywidgets as widgets
text = widgets.Textarea(
    value='Hello World',
    description='String:',
    disabled=False
)
display(text)
</code></pre>

<p>In the following example when <strong>World</strong> is selected and left click is complete then I want to capture the  text highlighted .</p>

<p><a href=""https://i.stack.imgur.com/9NHf4.png"" rel=""noreferrer""><img src=""https://i.stack.imgur.com/9NHf4.png"" alt=""enter image description here""></a></p>
",380,8,<python><jupyter-notebook><ipywidgets>,2020-05-30 16:39:22
62081396,Clear previous output of widget every time it runs,"<p>I would like to clear the previous output when the widget is rerun. </p>

<p>for example</p>

<pre><code>from IPython.display import display, clear_output

import ipywidgets as widgets
from datetime import datetime, timedelta
</code></pre>

<pre><code>button = widgets.Button(description='RUN',button_style='info')

def on_button_clicked(b):

    # DO SOMETHING #

    out = widgets.Output()
    out.clear_output(wait=True)
    out.append_stdout(f'Ran at {datetime.now()}')
    display(out)

button.on_click(on_button_clicked)
widgets.VBox([button])

</code></pre>

<p>Every time i click on the <code>RUN</code> button it ""appends"" the print statement</p>

<p>I also tried this:</p>

<pre><code>button = widgets.Button(description='RUN',button_style='info')

def on_button_clicked(b):

    # DO SOMETHING #

    out = widgets.Output()
    out.clear_output(wait=True)
    with out:
        print(f'Ran at {datetime.now()}')
    display(out)

button.on_click(on_button_clicked)
widgets.VBox([button])
</code></pre>
",1062,2,<python><jupyter><ipywidgets>,2020-05-29 08:06:44
62024512,Voila in Jupyter Hub,"<p>I'm looking in to creating interactive Dashboards with Voila. My team is doing work in Jupyter Hub. Is there a way to use Voila in the hub environment?</p>
",106,1,<python><jupyter><jupyterhub><voila>,2020-05-26 14:30:36
62018899,Updating bqplot image widget,"<p>I'm working on a project that uses ipywidgets and bqplot to display and interact with an image. 
Using ipywidgets and open cv I can modify an image, save it and update the value of the widget. But I also need the on_click_element aspect of bqplot, so I use the widget from the last one. I still have problems figuring out how to do the same thing with the widget in bqplot. </p>

<p>I would like to avoid to redraw the hole thing, but if needed it would have to close and redraw only the widget image since this is part of a bigger set of widgets. For example I would like to binarize the image using an arbitrary treshold.</p>

<p>From here I got the information on how to use the bqplot image widget: <a href=""https://github.com/bqplot/bqplot/blob/master/examples/Marks/Object%20Model/Image.ipynb"" rel=""nofollow noreferrer"">https://github.com/bqplot/bqplot/blob/master/examples/Marks/Object%20Model/Image.ipynb</a></p>

<p>I use something very similar to this to create the widget that I display. </p>

<pre><code>from IPython.display import display
import ipywidgets as widgets
import bqplot as bq

with open('chelsea.png', 'rb') as f:
    raw_image = f.read()

ipyimage = widgets.Image(value=raw_image, format='png')
x_sc = bq.LinearScale()
y_sc = bq.LinearScale()
bq_image = bq.Image(image=ipyimage, scales={'x':x_sc, 'y':y_sc})
img_ani = bq.Figure(marks=[bq_image], animation_duration=400)
display(img_ani)
</code></pre>

<p>After this I can't update the figure without redrawing the hole thing.
Any ideas?</p>

<p>jupyter 5.7.8, 
ipython 7.5.0,
ipywidgets 7.5.1,
bqplot 0.12.10</p>
",563,0,<python-3.x><ipywidgets><bqplot>,2020-05-26 09:31:20
61974087,How to link an event in tab in ipywidgets?,"<p>In below code I created 2 tabs with a text box and a button in inside each tab. I want to select button <code>one</code> and link an event for it. How can I do it?</p>

<pre><code>import ipywidgets as widgets

lst = ['one', 'two']
list_widgets  = [
    widgets.HBox([widgets.Text(
        placeholder=""name"",
        description=name,
        disabled=False),
                  widgets.Button(
                  description=""ok"")]) for name in lst]

children=list_widgets
tab = widgets.Tab(children)
[tab.set_title(num, name) for num, name in enumerate(lst)]

display(tab)
</code></pre>
",1089,1,<python><jupyter><ipywidgets>,2020-05-23 15:06:56
61958424,Clearing the Matplotlib plot without clearing slider,"<p>I'm currently creating an application where I need to update matplotlib graphs. I'm stuck at following step. <br>
I have a scatter plot and slider in the same figure. Upon changing the slider value, I need to clear the scatter plot without clearing the slider. Following is the code I implemented, but it does not clear the plot.
The <code>.clf()</code> function removes both the slider and scatter plot. Is there a way I could remove only the plot without impacting the slider?</p>

<pre class=""lang-py prettyprint-override""><code>import numpy as np
import matplotlib.pyplot as plt
from matplotlib.widgets import Slider


X1=np.arange(10)
Y1=np.arange(10)
Z1=np.arange(10)
fig,ax=plt.subplots()
ax=plt.scatter(X1,Y1,Z1)

axSlider1=plt.axes([0.3,0.9,0.3,0.05])
Slder2=Slider(ax=axSlider1,label='Slider',valmin=1,valmax=4,valinit=2)

plt.show()

# Function to clear the scatter plot without effecting slider.
def val_update(val):
    plt.cla()

Slder2.on_changed(val_update)

</code></pre>
",535,0,<python><matplotlib><ipywidgets>,2020-05-22 15:26:59
61954737,Install more Python package/library to each cluster after creating an AWS EMR,"<p>I'm newly use Spark with PySpark on JupyterHub. I understand that before creating an EMR I can set the bootstrap to setup the environment in each cluster, like Python package/library. But If I already started the EMR, how can I install more Python package/library without restarting the EMR?</p>

<p>I searched and got some answer that I can install it via cell in Jupyterhub. For example,</p>

<pre><code>%%spark
sc.install_pypi_package(""matplotlib"")
</code></pre>

<p>which I tried and got error</p>

<pre><code>RuntimeError: install_pypi_packages can only use called when spark.pyspark.virtualenv.enabled is set to true
</code></pre>

<p>So I tried to set that config in <code>/usr/lib/spark/conf/spark-defaults.conf</code> on master cluster by adding this line into that file.</p>

<pre><code>""spark.pyspark.virtualenv.enabled"": ""true""
</code></pre>

<p>But it doesn't work, JupyterHub still return an error.</p>

<p>So I want to know</p>

<ol>
<li><p>What is best practice when I want to install more Python package/library to clusters when I already start the EMR?</p></li>
<li><p>How to config <code>""spark.pyspark.virtualenv.enabled"": ""true""</code> or can I set it up in software settings before creating the EMR?</p></li>
</ol>

<p>Thank you in advance.</p>
",3468,4,<apache-spark><pyspark><amazon-emr><jupyterhub>,2020-05-22 12:09:53
61945864,"How can I force two jupyter sliders to interact with one another (non-trivially)? Is ""tag"" available for handler?","<p>I want to create two ipywidget sliders, say one with value x, the other with value 1-x. When I change one slider, the other one should be automatically changed acccordingly. I am trying to use observe for callback. I see that I might use owner and description to identify which slider was modified. But I don't think description supposed to be used for this purpose. After all, description should not need to be unique in the first place. I wonder if I am missing something here. </p>

<pre><code>from ipywidgets import widgets

x=0.5
a=widgets.FloatSlider(min=0,max=1,description='a',value=x)
b=widgets.FloatSlider(min=0,max=1,description='b',value=1-x)

display(a,b)
def on_value_change(change):
    if str(change['owner']).split(""'"")[1]=='a':
        exec('b.value='+str(1-change['new']))
    else:
        exec('a.value='+str(1-change['new']))

a.observe(on_value_change,names='value')
b.observe(on_value_change,names='value')
</code></pre>
",228,0,<slider><jupyter><ipywidgets>,2020-05-22 00:19:19
61938985,Plot labels are displayed as hexadecimal ASCII codes in R Jupyter notebook on Linux server,"<p>I use remote Linux server (AWS instance) to run a Jupyter R notebook in browser (Chrome). Plots generated either by base R or ggplot2 display labels as hexadecimal codes. Here is an example:</p>

<pre><code>x &lt;- rnorm(100)
hist(x, cex.axis = 2, cex.main = 2, cex.lab = 2)
</code></pre>

<p>outputs this:</p>

<p><a href=""https://i.stack.imgur.com/3RRuh.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/3RRuh.png"" alt=""enter image description here""></a></p>

<p>What could be the problem here? Some Jupyter config parameter? I use ssh port forwarding from my local machine to the server, if that matters.</p>
",289,3,<r><jupyter-notebook><jupyter><jupyter-irkernel>,2020-05-21 16:16:34
61918628,Jupyter ipywidget: use one slider widget in one specifc tab in notebook,"<p>I am trying to create ipywidgets tab and I am looking for one particular numeric widget in a tab, currently, I am seeing both the tabs as common, how can I see size1 in tab[out2] specifically. My existing code looks like following</p>

<pre><code>import ipywidgets as widgets
from ipywidgets import HBox, VBox, Button, Layout, Label
from ipywidgets import interact, interactive, fixed, interact_manual

size = widgets.IntSlider(value=50, min=0,max=100,step=1, description='size:')
size1 = widgets.IntSlider(value=20, min=0,max=50,step=1, description='size1:')

def hist1(size):
    data = pd.DataFrame(np.random.normal(size = size))
    data.plot.hist()
    return

def hist2(size1):
    data = pd.DataFrame(np.random.normal(size = size1))
    data.plot.box()
    return

ui = widgets.VBox([size,size1])

out1 = widgets.interactive_output(hist1, {'size':size})
out2 = widgets.interactive_output(hist2, {'size1':size1})

tab  = widgets.Tab(children = [out1, out2])
tab.set_title(0, 'hist')
tab.set_title(1, 'box')

display(ui,tab)
</code></pre>

<p>it's giving me following</p>

<p><a href=""https://i.stack.imgur.com/JUy34.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/JUy34.png"" alt=""enter image description here""></a></p>

<p>but I am seeking to see size1 slider in out2 i.e. box tab, how can I do this with existing code to have a specific slider for tabs</p>
",1776,2,<python><jupyter-notebook><ipython><ipywidgets>,2020-05-20 16:55:40
61909643,Jupyter interact ipywidgets: several widgets for one argument,"<p>Is it possible to link several widgets to one argument?<br>
I have these three boolean widgets:</p>

<pre><code>import ipywidgets as widgets
from ipywidgets import interact, fixed

w1 = widgets.Checkbox(value=False, description='Widget 1')
w2 = widgets.Checkbox(value=False, description='Widget 2')
w3 = widgets.Checkbox(value=False, description='Widget 3')
</code></pre>

<p>The function I'm trying to call with interact has an argument that is a list of three bools. 
For example:</p>

<pre><code>def test(x, data):
   if all(data):
      # do something
</code></pre>

<p>Now I tried using interact by e.g. <code>interact(test, x=fixed(3), data=[w1, w2, w3]);</code> but it gives the error </p>

<blockquote>
  <p>'Checkbox' object is not iterable</p>
</blockquote>

<p>Is there any way that I can link those three widgets to the single argument <code>data</code>? I have to keep this argument as a list of bools.</p>
",624,2,<python><ipython><ipywidgets><python-interactive>,2020-05-20 09:29:58
61886597,How to compile and run openmpi code using jupyterhub,"<p>i am unable to load some of linux programming commands into jupyterhub, like mpicc, mpirun etc..
actually i want to run my openmpi code from jupyterhub.
From terminal i am able to run this code, but not from the notebook.</p>

<pre><code>
#include ""mpi.h""
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#define  MASTER 0

int main (int argc, char *argv[])
{
int   numtasks, taskid, len;
char hostname[MPI_MAX_PROCESSOR_NAME];

MPI_Init(&amp;argc, &amp;argv);
MPI_Comm_size(MPI_COMM_WORLD, &amp;numtasks);
MPI_Comm_rank(MPI_COMM_WORLD,&amp;taskid);
MPI_Get_processor_name(hostname, &amp;len);
printf (""Hello from task %d on %s!\n"", taskid, hostname);

if (taskid == MASTER)
   printf(""MASTER: Number of MPI tasks is: %d\n"",numtasks);
MPI_Finalize();
}
</code></pre>

<p><a href=""https://i.stack.imgur.com/UUxQf.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/UUxQf.png"" alt=""mpi code""></a></p>

<p>Please guide me how to run mpi code from jupyterhub and how to load other linux command like module etc.</p>

<p>Regards,
Zain</p>
",129,0,<python><c><jupyter-notebook><mpi><jupyterhub>,2020-05-19 08:30:34
61859059,tensorboard throws 404 not found with jupyterhub on k8s,"<p>tried every solution on google to render tensorboard on jupyterhub notebook on kubernetes.
it just keeps throwing 404 error.
even made the code change in tensorboard/notebook.py as mentioned in <a href=""https://code.tubitv.com/jupyterhub-on-kubernetes-da8940488529"" rel=""nofollow noreferrer"">https://code.tubitv.com/jupyterhub-on-kubernetes-da8940488529</a>
and here is the image i’m using for the user profile</p>

<p>display_name: “tensorflow environment”
description: “The tensorflow image!”
kubespawner_override:
image: jupyter/tensorflow-notebook:3b1f4f5e6cc1
i’m trying to run without GPU. the same image works fine if i bring it up with docker. Tensorboard renders. But on K8S with jupyterhub, it just does not render tensorboard
please help with this issue</p>
",176,0,<kubernetes><http-status-code-404><tensorboard><jupyterhub>,2020-05-17 21:25:38
61828301,Python interactive plot widget,"<p>I would like to get these three plots into one, with dropdown tab. Any suggestions? I don't think it's possible to have a dropdown where you have different values?? The data is at the bottom.</p>

<pre><code>Bets = pd.DataFrame(Season_group, columns=['BetW', 'BetR'])
Bets['NetNomR'] = Bets.BetR - 380
Bets['Return_pct'] = (Bets.BetR / 380 -1)
Bets['Return_pct'] = pd.Series([""{0:.2f}%"".format(val * 100) for val in Bets['Return_pct']],index = Bets.index)


BetsPlot = pd.DataFrame(Season_group, columns=['BetW', 'BetR'])
BetsPlot['NetNomR'] = BetsPlot.BetR - 380
BetsPlot['Return_pct'] = (BetsPlot.BetR / 380 -1)

BetsBetW = BetsPlot.unstack().loc['09/10':'18/19', 'BetW']
BetsNetNomR = BetsPlot.unstack().loc['09/10':'18/19', 'NetNomR']
BetsReturn_pct = BetsPlot.unstack().loc['09/10':'18/19', 'Return_pct']


BetsBetW.plot.bar()
plt.title('Return')
BetsNetNomR.plot.bar()
plt.title('Net Return')
BetsReturn_pct.plot.bar()
plt.title('Net Percentage Return')
</code></pre>

<p><img src=""https://i.stack.imgur.com/G6w14.png"" alt=""enter image description here""></p>

<p><a href=""https://i.stack.imgur.com/58EYx.png"" rel=""nofollow noreferrer"">The data</a></p>
",41,1,<python><matplotlib><plot><widget><ipywidgets>,2020-05-15 21:02:58
61828068,Is it possible to use an image for ipywidget button,"<p>According to doc: <a href=""https://ipywidgets.readthedocs.io/en/latest/examples/Widget%20List.html#Button"" rel=""nofollow noreferrer"">https://ipywidgets.readthedocs.io/en/latest/examples/Widget%20List.html#Button</a>, it does not seem like you can use an image as the Description of a iPyWidget button. I.e., i don't want to use any text, but an icon. That icon attribute doesn't seem to be related to this. </p>

<pre><code>widgets.Button(
    description='Click me',
    disabled=False,
    button_style='', # 'success', 'info', 'warning', 'danger' or ''
    tooltip='Click me',
    icon='check' # (FontAwesome names without the `fa-` prefix)
)
</code></pre>

<p>Anyone has a way to do this?</p>
",291,1,<image><button><ipywidgets>,2020-05-15 20:45:53
61821652,Using drop down widget from ipywidgets,"<p>I am trying to use a drop down and store the selected value to a local variable. Although the print statement works, it's not storing the value to a variable. Any and all help will be highly appreciated.</p>

<pre><code>import ipywidgets as widgets

bor = 'A'
drop_down = widgets.Dropdown(options=['A','B','C','D'],
                                description='Choose',
                                disabled=False)

def dropdown_handler(change):
        print(change.new)
        bor = change.new  # This line isn't working
drop_down.observe(dropdown_handler, names='value')
display(drop_down)
</code></pre>

<p><a href=""https://i.stack.imgur.com/YmPRx.jpg"" rel=""nofollow noreferrer"">Relevant photo</a></p>
",1817,1,<python><data-science><ipywidgets>,2020-05-15 14:29:35
61815120,How do I load r package on Jupyter Notebook,"<p>I am currently trying r programming on jupyter notebook, I am able to install <code>irkernel</code> and also install <code>r essentials</code>.</p>

<p>my problem is to load any of the packages I have installed.</p>

<p>Like I would do on <code>rstudio</code> by typing <code>library(forecast)</code> and the <code>forecast</code> package will be loaded.</p>

<p>I <code>r jupyter</code> it gives me error message that the package does not exist.</p>

<p>what can I do to load my installed r packages in jupyter notebook?</p>

<p><strong>Edit</strong>
Even if I doubt if <code>r-essentials</code> installed the r packages I want to load, I ran </p>

<pre><code>conda install r-forecast
</code></pre>

<p>on anaconda prompt as administrator and I saw it installed</p>

<p>I am working on Windows 10</p>

<p><strong>Edit</strong></p>

<p><strong>See the Error Message I Got</strong></p>

<pre><code>Error: package or namespace load failed for 'forecast':
 package 'lifecycle' was installed before R 4.0.0: please re-install it
Traceback:

1. library(forecast)
2. tryCatch({
 .     attr(package, ""LibPath"") &lt;- which.lib.loc
 .     ns &lt;- loadNamespace(package, lib.loc)
 .     env &lt;- attachNamespace(ns, pos = pos, deps, exclude, include.only)
 . }, error = function(e) {
 .     P &lt;- if (!is.null(cc &lt;- conditionCall(e))) 
 .         paste("" in"", deparse(cc)[1L])
 .     else """"
 .     msg &lt;- gettextf(""package or namespace load failed for %s%s:\n %s"", 
 .         sQuote(package), P, conditionMessage(e))
 .     if (logical.return) 
 .         message(paste(""Error:"", msg), domain = NA)
 .     else stop(msg, call. = FALSE, domain = NA)
 . })
3. tryCatchList(expr, classes, parentenv, handlers)
4. tryCatchOne(expr, names, parentenv, handlers[[1L]])
5. value[[3L]](cond)
6. stop(msg, call. = FALSE, domain = NA)
</code></pre>
",726,0,<python><r><jupyter-notebook><jupyter-irkernel>,2020-05-15 08:38:10
61814610,"Ipywidgets not interacting in ""while True"" loop","<p>1)This is the code snippet that I am trying to run.The main idea is that, I want the ipywidgets to be interactive, while the data is constantly being fetched from the data source. And the data is being updated at certain interval using the while loop.The objective is to plot the principal components interactively by changing the number of principal components(PC) to be considered, using the @interact function. 
Also it runs perfectly fine without while loop, that is, when we are not considering the auto-update for the dataset, with the while loop. But when I include the while loop, it doesn't handle the interactive-ness of the widgets(that is, the interaction of the number of PC).
My feeling is that ""while True"" loop does not let the interaction of ipywidget to happen, due to some execution issue. </p>

<p>2) Also I looked into threading but i am unsure of how to use the fucntion which is in functools(select_data), be called using threading.Thread. </p>

<p>Any sort of help would be appreciated. Thanks </p>

<pre><code>def data_import_date(start_date,end_date):
    end_date1=end_date.strftime('%Y-%m-%dT%H:%M:%S')
    start_date=pd.Timestamp(start_date)
    end_date=pd.Timestamp(end_date1)

    button=widgets.Button(description='Pull Data')
    button.on_click(functools.partial(select_data,rs_=[start_date,end_date]))

    vbox=widgets.VBox([button])
    display(vbox,out)


def select_data(b,rs_):
#     clear_output()
    start_date=rs_[0]
    end_date1=rs_[1]
    print(""Data pulling started"")

    with out:
        clear_output()
        seeq_login() 
        [item1,item2]=query_seeq_for_data()
        i=0
        while True:
            end_date=end_date1.strftime('%Y-%m-%dT%H:%M:%S')
            print(""Start &amp; End date: "",start_date,end_date)
            if i==0:
                [X_data,Y_data]=pull_data(item1,item2,start_date,end_date)
            else:
                [X_data_live,Y_data_live]=pull_data(item1,item2,start_date,end_date)
                X_data=X_data.append(X_data_live)
                Y_data=Y_data.append(Y_data_live)
            print(""Data pulling completed.\nNow you're ready for your analysis"")

            clear_output()
            [X_train,X_test,Y_train,Y_test]=train_test(X_data,Y_data)

            [Xp_train,components,explained_variance_ratio,_,_]=apply_PCA(X_train,X_test)
            plot_PC_variance(X_data,explained_variance_ratio)
            plot_PC(X_data,components)

            time.sleep(20)
            start_date=end_date
            end_date1=end_date1+datetime.timedelta(days=1)
            i+=1



  a=interact(data_import_date,
           start_date=widgets.DatePicker(value=pd.to_datetime(start_date)),
           end_date=widgets.DatePicker(value=pd.to_datetime(end_date)))


def plot_PC(X_data,components):
    Np_comp=(1,len(X_data.columns),1)
    @interact
    def principal_components(PC1=Np_comp,PC2=Np_comp):
        fig,ax=plt.subplots(1,1,figsize=(10,10))
        plt.figure(5)
        print(PC1, PC2)

        ax.set_xlabel(""Principal Component {}"".format(PC1), fontsize=14)
        ax.set_ylabel(""Principal Component {}"".format(PC2), fontsize=14)
        ax.set_title(""Principal components {0} &amp; {1}"".format(PC1,PC2), fontsize=(20))
        ax.scatter(components[:,PC1],components[:,PC2])
</code></pre>
",900,1,<while-loop><jupyter-notebook><python-3.5><ipywidgets><voila>,2020-05-15 08:06:33
61800685,conda minimum dependencies for jupyterlab with ipywidgets,"<p>Trying to keep my Jupyter Lab projects sanitized and to avoid <strong>base</strong> environment non-used dependencies dead weight.</p>

<p>Ipywidgets works nicely with latest Anaconda (base) environment.</p>

<p>However I cannot get <code>ipywidgets</code> working on limited environment.yml, such as:</p>

<p><strong>environment.yml</strong></p>

<pre><code>name: project_name
channels:
  - conda-forge
  - anaconda
  - defaults
dependencies:
  - ipywidgets
  - nodejs
  - pandas
  - numpy
  - bokeh
</code></pre>

<p>Alternatively, creating an environment with the following, and launching Jupyter Lab</p>

<pre><code>conda create -n foo python=3.7.7 ipywidgets jupyterlab pandas numpy bokeh
conda activate foo
jupyter lab &amp;
</code></pre>

<p>running a simple script, such as</p>

<pre><code>from __future__ import print_function
from ipywidgets import interact, interactive, fixed, interact_manual 
import ipywidgets as widgets 

def f(x): 
  return x 

interact(f, x=10);
</code></pre>

<p>does not work.</p>

<p>However, the same script works in the Anaconda <strong>base</strong> env. Anyone have an idea about the minimum Conda env dependencies for <code>ipywidgets</code>?</p>
",191,1,<python><anaconda><conda><ipywidgets>,2020-05-14 15:02:27
61708701,How to download a file using ipywidget button?,"<p>I build a ipywidget button. I hope that when the button is clicked, the program do the computing, and get a result string, then user can download the string as a file. </p>

<p>THe codes are like this:</p>

<pre class=""lang-py prettyprint-override""><code>import ipywidgets as widgets


download_button = widgets.ToggleButton()
download_button.on_click(do_some_work)

def do_some_work(content)-&gt; str:
    res = compute()
    # Here comes the problem: how to let user download the res as a file?

def compute()-&gt; str:
    # ... do_some_compute
    return res

</code></pre>

<p>I have read <a href=""https://ipywidgets.readthedocs.io/en/stable/examples/Widget%20List.html"" rel=""noreferrer"">ipywidgets doc</a> for plenty times, but could not find a solution.</p>

<p>I use an alternative way now (which seriously affected the user experience): create a HTML widget and when download_button is clicked, change the value of HTML widget to an link to <code>data:text/plain;charset=utf-8,{res}</code> to let user click and download, but is there any way to achieve this with single one click?</p>

<p>Any help will be much appreciate.</p>
",5434,10,<python><python-3.x><jupyter-notebook><ipywidgets>,2020-05-10 07:41:49
61707119,No OUTPUT from Jupyter Notebook. NO Error Shown,"<p>I am running a Jupyter notebook but I do not get any output or error telling me if something is wrong. I have tried installing tornado as some other threads have suggested as well as the command <code>pip install notebook --upgrade</code></p>

<p>While I do not think there is a problem with my code here it is. </p>

<p>Any help is truly appreciated. </p>

<pre><code>import os
import numpy as np
import pandas as pd
import cv2
from glob import glob

import tensorflow as tf
from tensorflow.keras.layers import *
from tensorflow.keras.applications import MobileNetV2
from tensorflow.keras.callbacks import ModelCheckpoint, ReduceLROnPlateau
from tensorflow.keras.optimizers import Adam 

from sklearn.model_selection import train_test_split

if __name__==""_main_"": 
    path=""dog-breed-identification/""
    train_path = os.path.join(path, ""train/*"")
    train_path = os.path.join(path, ""test/*"")
    train_path = os.path.join(path, ""labels.csv"")

labels_df = pd.read_csv(labels_path)

#name of column in csv
breed = labels_df[""breed""].unique()
print(""Number of Breed: "", len(breed))
enter code here
</code></pre>
",659,0,<python-3.x><jupyter-notebook><jupyter><tornado><jupyter-irkernel>,2020-05-10 04:18:31
61657168,Disable download capability in Jupyterhub,"<p>I am new to setting up a Jupyterhub. We followed the documentation to install jupyterhub in kubernetes via helm. I have been reading that there is no feature in jupyterhub to disable the feature of download files in jupyternotebooks launched. I saw in some forums that this is possible via nginx to route all ""/files"" to a blackhole. However, it did not work. Below is my configuration.</p>

<h3>helm config.yaml</h3>

<pre><code>ingress:
  enabled: true
  host:
    - myhost.example.com
</code></pre>

<h3>k8 Service.yaml</h3>

<pre><code>apiVersion: v1
kind: Service
metadata:
  name: default-http-backend
spec:
  selector:
    app: default-http-backend
  ports:
    - protocol: TCP
      port: 80
</code></pre>

<h3>K8 ingress</h3>

<pre><code>apiVersion: extensions/v1beta1
kind: Ingress
metadata:
  name: jupyterhub-ingress
  annotations:
    kubernetes.io/ingress.class: ""nginx""
    nginx.ingress.kubernetes.io/use-regex: ""true""

spec:
  rules:
    - host: myhost.example.com
      http:
        paths:
          - path: /user/(*.)/files/
            backend:
              serviceName: default-http-backend
              servicePort: 80
          - path: /
            backend:
              serviceName: proxy-public
              servicePort: 80
</code></pre>
",772,1,<python><nginx><jupyter-notebook><kubernetes-helm><jupyterhub>,2020-05-07 11:56:22
61645325,"Use dropdown widget, select value from one column, return value from another column in dataframe","<p>A little mockup below. In this case, I am selecting from df['num_wings'] and passing that selection into a new variable. </p>

<p>However, what I really want to pass into identvar is the value from df['num_legs']. So, select an option from one column but retrieve the value from the same row in another column. In my case, I need to be able to select an email address from the list so I can retrieve a long unique identifier string. Not sure how to get there? How do I retrieve the value of num_legs by selecting the value from num_wings?</p>

<pre><code>df = pd.DataFrame({'num_legs': [2, 4, 8, 0],
                   'num_wings': [2, 0, 0, 0],
                   'num_specimen_seen': [10, 2, 1, 8]},
                  index=['falcon', 'dog', 'spider', 'fish'])
df

widg = Dropdown(options = df['num_wings'])
display(widg)

identvar = widg.value
</code></pre>
",406,0,<python><ipywidgets>,2020-05-06 21:01:54
61642770,How to set widgets to link to array for jupyternotebooks,"<p>I am trying to set an interactive notebook up that plots some interpolated GPS data. I have the plotting working by itself, but I am trying to use the ipython widgets to make it more interactive for others. </p>

<p>Currently, my plotting looks like this </p>

<pre><code>def create_grid(array,spacing=.01):
    '''
    creates evenly spaced grid from the min and max of an array
    '''
    grid = np.arange(np.amin(array), np.amax(array),spacing)
    return grid
def interpolate(x, y, z, grid_spacing = .01, model='spherical',returngrid = False):
    '''Interpolates z value and uses create_grid to create a grid of values based on min and max of x and y'''
    grid_x = create_grid(x,spacing = grid_spacing)
    grid_y = create_grid(y, spacing = grid_spacing)
    OK = OrdinaryKriging(x, y, z, variogram_model=model, verbose = False,\
                    enable_plotting=False, nlags = 20)
    z1, ss1 = OK.execute('grid', grid_x,grid_y,mask = False)
    print('Interpolation Complete')
    vals=np.ma.getdata(z1)
    sigma = np.ma.getdata(ss1)
    if returngrid == False:
        return vals,sigma
    else:
        return vals, sigma, grid_x, grid_y

mesh_x, mesh_y = np.meshgrid(grid_x,grid_y)
plot = plt.scatter(mesh_x, mesh_y, c = z1, cmap = cm.hsv)
cb = plt.colorbar(plot)
cb.set_label('Northing Change')

plt.show()
</code></pre>

<p>'''</p>

<p>This works currently, but I am trying to set up a widget to change the variogram model in the kriging interpolation, as well as change the field to be interpolated. </p>

<p>Currently, to do that I have:</p>

<pre><code>def update_plot(zfield,variogram):
    plt.clf()
    z1, ss1, grid_x,grid_y =interpolate(lon,lat,zfield,returngrid= True,model=variogram)
    mesh_x, mesh_y = np.meshgrid(grid_x,grid_y)
    plot = plt.scatter(mesh_x, mesh_y, c = z1, cmap = cm.hsv)
    cb = plot.colorbar(plot)
    cb.set_label('Interpolated Value')


variogram = widgets.Dropdown(options = ['linear',  'power',  'gaussian', 'spherical',  'exponential',  'hole-effect'],
                            value = 'spherical', description = ""Variogram model for interpolation"")
zfield = widgets.Dropdown(options = {'Delta N':delta_n, 'Delta E': delta_e,'Delta V':delta_v},value = 'Delta N', 
                          description = 'Interpolated value')
widgets.interactive(update_plot, variogram = variogram,zfield =zfield)
</code></pre>

<p>Which brings up the error</p>

<p>TraitError: Invalid selection: value not found</p>

<p>the values delta_n, delta_e and delta_v are numpy arrays. I have tried looking at documentation but it is not as detailed as something like matplotlibs documentation or something so I feel like I am kind of flying blind here. </p>

<p>Thank you</p>
",553,1,<python><jupyter-notebook><ipython><interpolation><ipywidgets>,2020-05-06 18:37:24
61582463,Jupyterhub custom spawner start long delays,"<p>My custom spawner connects via ssh to a slurm submit node on user's behalf and submits a slurm job.</p>

<p>All of that takes a long time, around 10 seconds if the job can start straight away, which is expected, but I want the user to be redirected to a progress page immediately. </p>

<p>Instead there is a 10 second hang between the user pressing the ""start"" button and the progress page. It looks like the Jupyterhub waits for the start method to complete before redirecting. </p>

<p>The start method does the following: </p>

<pre><code>await for asyncssh connection
await for slurm job to be submitted 
await for a job status to be ""Running"". 
</code></pre>

<p>So there seems to be a lot of opportunities for Jupyterhub to do other things while the start method is running. </p>
",170,0,<python-asyncio><jupyterhub>,2020-05-03 22:27:26
61559012,Display IPython.display.HTML class objects inside ipywidgets,"<p>I want to display IPython.display.HTML object i.e. html_bt and widget i.e. bt inside  HBox Layout. How do I achieve that? Is it even possible? Or how do I convert html_bt to widget objects?
Following is my code:</p>

<pre><code>from ipywidgets import widgets, Layout, HBox
from IPython.display import display, HTML

css_str = '&lt;style&gt;.foo{color:#F00;} )} &lt;/style&gt;'


out = widgets.Output()

def OnClick():
    with out:
        print('QQQ')

html_bt=HTML(css_str + '&lt;button class=""button-style"" onclick=""IPython.notebook.kernel.execute(\'OnClick()\')""&gt; &lt;img src=""https://www.fnordware.com/superpng/pnggrad16rgb.png"" alt=""Snow""&gt;&lt;/button&gt;')

bt = widgets.Button(
    description='Click me',
    disabled=False,
    button_style='', # 'success', 'info', 'warning', 'danger' or ''
    tooltip='Click me',
    icon='check' # (FontAwesome names without the `fa-` prefix)
)


h_box = HBox([bt, display(html_bt)])
h_box
</code></pre>
",2155,5,<jupyter-notebook><ipython><ipywidgets>,2020-05-02 12:00:17
61532430,"Install JupyterHub on EKS fails: ""No suitable subnet for ELB""","<p>I am experiencing an issue on my EKS cluster (kubernetes version 1.14).
I am trying to install JupyterHub (version 0.8.2) onto the EKS cluster, via helm+tiller.</p>

<p>Install appears to succeed, but the proxy-public service fails to create an ELB. See the output of ""kubectl describe svc"" below:</p>

<p>The app install/deployment fails with an error event.</p>

<pre><code>&gt; kubectl describe svc
...
Name:                     proxy-public
Namespace:                jhub
Labels:                   app=jupyterhub
                          chart=jupyterhub-0.8.2
                          component=proxy-public
                          heritage=Tiller
                          release=jhub
...
  Warning  CreatingLoadBalancerFailed  1m (x6 over 3m)  service-controller  Error creating load balancer (will retry): failed to ensure load balancer for service jhub/proxy-public: could not find any suitable subnets for creating the ELB
</code></pre>

<p>My EKS cluster is associated with 3 subnets, 2 private and 1 public. I would think that the ELB could be placed in the public subnet?</p>
",854,1,<amazon-web-services><amazon-elb><subnet><jupyterhub><amazon-eks>,2020-04-30 20:46:27
61503912,iPyWidget with date slider with play widget/animation?,"<p>based on <a href=""https://stackoverflow.com/questions/39258580/ipywidget-with-date-slider"">this</a> I made a single date slider and now wanted to go a step further and animate it with a play widget. Unfortunately, the play widget doesn't seem to accept day values and now I wanted to ask if there is an easier way than to assign every date to an Int value with another function?</p>

<pre><code>from datetime import datetime

class DateRangePicker(object):
    def __init__(self,start,end,freq='D',fmt='%Y-%m-%d'):
        """"""
        Parameters
        ----------
        start : string or datetime-like
            Left bound of the period
        end : string or datetime-like
            Left bound of the period
        freq : string or pandas.DateOffset, default='D'
            Frequency strings can have multiples, e.g. '5H' 
        fmt : string, defauly = '%Y-%m-%d'
            Format to use to display the selected period

        """"""
        self.date_range=pd.date_range(start=start,end=end,freq=freq)
        options = [(item.strftime(fmt),item) for item in self.date_range]
        self.slider_start = widgets.SelectionSlider(
            options=options,
            continuous_update=False
        )

        self.slider_start.on_trait_change(self.slider_start_changed, 'value')

        self.widget = widgets.Box(children=[self.slider_start])

    def slider_start_changed(self,key,value):
        self._observe(start=self.slider_start.value)

    def display(self):
        display(self.slider_start)

    def _observe(self,**kwargs):
        if hasattr(self,'observe'):
            self.observe(**kwargs)

def fct(start):
    print(start)

#date1 = DateRangePicker(start='2020-02-17',end=""2020-03-27"",freq='D',fmt='%Y-%m-%d')

#date1.observe=fct

#date1.display()

start_date = datetime(2020, 2, 17)
end_date = datetime(2020, 3, 27)
dates = pd.date_range(start_date, end_date, freq='D')
date = [(date.strftime(' %d %b %Y '), date) for date in dates]

date_slider = widgets.SelectionSlider(
    options=date,
    orientation='horizontal',
    layout={'width': 'flex'}
)

date_slider

play = widgets.Play(
    value=start_date,
    min=start_date,
    max=end_date,
    step=1,
    interval=500,
    description=""Press play"",
    disabled=False
)

widgets.jslink((play, 'value'), (date_slider, 'value'))
widgets.HBox([play, date_slider])
</code></pre>
",867,1,<python><jupyter-notebook><ipython><jupyter><ipywidgets>,2020-04-29 14:13:38
61495594,Change notebook kernel in the background,"<p>I am trying to change the kernel of the notebook by changing the metadata of the notebook ie I have a service that will parse the notebook JSON and change the kernelspec in the metadata of the notebook JSON. But on the jupyterlab UI, it still shows the old kernel instead of the kernel in the notebook metadata. Do I need to make any changes elsewhere? </p>

<p>Any help or tips are appreciated.</p>
",28,1,<jupyter-notebook><jupyter><jupyter-lab><jupyterhub>,2020-04-29 06:33:04
61457185,ipywidgets interactive with plotly doesn't produce a plot,"<p>I'm using GoogleColab. I'm trying to use interactive widgets with python plotly.
A function for produce a simple plotly just works:</p>

<pre><code>from ipywidgets import interactive
import plotly.express as px

def g(x,y):
    fig = px.scatter(x=df[x], y=df[y])
    fig.show()

g('a','b')
</code></pre>

<p><a href=""https://i.stack.imgur.com/9vuYk.png"" rel=""nofollow noreferrer"">output</a></p>

<p>But when I try to involve interactive widgets, the output comes with the widgets but without the plot:</p>

<pre><code>def g(x,y):
    fig = px.scatter(x=df[x], y=df[y])
    fig.show()

interactive_plot = interactive(g, x=columns, y=columns)
interactive_plot
</code></pre>

<p><a href=""https://i.stack.imgur.com/Z5604.png"" rel=""nofollow noreferrer"">interactive output</a></p>

<p>When I change the library back to matplotlib it works well, as in this <a href=""https://stackoverflow.com/questions/45693764/remove-past-matplotlib-plots-in-the-same-cell-in-jupyter-notebook-involving-inte/45694414#45694414"">question</a>. However, I have to use plotly because of their 'hovering' feature, which is truly convenient.</p>
",218,2,<python><plotly><google-colaboratory><ipywidgets>,2020-04-27 10:52:12
61442519,Retrieved from Python interact Widget values,"<p>I have a function to plot data from differents countries. 
I use <em>interact</em> from <em>ipywidgets</em> to change  interactively the countries values</p>

<pre><code>getter=interact(plotcountries,
         ...
        countries=widgets.SelectMultiple(
             options=[""Belgium"",""France"",""Germany"",""Italy"",""Portugal"",""Spain""*emphasized text*],
             value=[""France"",""Italy"",""Spain""],
             rows=10,
             description='Countries',
             disabled=False)
</code></pre>

<p>I would like to get the values of widgets.SelectMultiple when it changes, to be able to put it inside a variable.<br>
How I can proceed ?</p>
",86,0,<python><ipywidgets>,2020-04-26 14:32:22
61442048,read ipywidgets slider value in infinite loop,"<p>I am trying to read a slider value in an infinite loop, but there is no print output. My goal is to control a robot with sliders, and the robot needs a constant stream of information even if the slider value doesn't change, thus the infinite while loop.</p>

<pre><code>import ipywidgets as widgets
from IPython.display import display

slider = widgets.IntSlider()
display(slider)

while True:
    if slider.value != 0:
        print(slider.value)
</code></pre>
",727,1,<python-3.x><jupyter-lab><ipywidgets>,2020-04-26 14:01:37
61430493,Dynamic Plotting with IpyWidgets,"<p>So I'm trying to create a cell that refreshes plots using a slider.
Here is the code,</p>

<pre><code>slider = FloatSlider(0.1)
slider.max = 1
slider.min = 0
plt.plot(figsize=(15,10))

def plot_corr_graph_summary(lod):
    plt.clf()
    corrMatrix_Crushed = df_summary_virtual_physical_split.iloc[:,int(lod):].corr()
    sns.heatmap(corrMatrix_Crushed, annot=False)
    plt.show()

def level_of_detail(change):
    if slider.value &gt;= 0.2:
        plot_corr_graph_summary(6-slider.value*10)

slider.observe(level_of_detail, 'value')
slider
</code></pre>

<p>The result looks like,</p>

<p><a href=""https://i.stack.imgur.com/bNvQ2.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/bNvQ2.png"" alt=""Output""></a></p>

<p>How do I make the plots overwrite one another, I am trying to use plt.clf() in my function but nothing seems to be happening.</p>
",52,1,<matplotlib><ipywidgets>,2020-04-25 18:23:56
61405552,Display radio button horizontally using ipywidgets,"<p>I would like to display radio buttons horizontally using ipywidgets.</p>

<p>radio_input1 = widgets.RadioButtons(options=['Option 1', 'Option 2']) </p>

<p>But it shows the radio button vertically :</p>

<p><a href=""https://i.stack.imgur.com/OD1j7.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/OD1j7.png"" alt=""enter image description here""></a></p>

<p>One hack i was trying to put radio buttons with only one option in HBox, and adding observer event to each radio button, then deselect the selected radio button from the observer method but before that unobserving the event then re-register the observe event. Somehow its calling 3 times:</p>

<pre><code>output_radio_selected = widgets.Text() # Used to take the user input and access it when needed
radio_input1 = widgets.RadioButtons(options=['Option 1', 'Option 2']) # Declare the set of radio buttons and provide options
radio_input2 = widgets.RadioButtons(options=['Option 3', 'Option 4'])
def bind_selected_to_output(sender): # Connect the input from the user to the output so we can access it
    #radio_input1.unobserve(bind_selected_to_output)
    radio_input1.unobserve_all()
    radio_input1.index=0
    #print(sender)
    global selected_option # Global variable to hold the user input for reuse in your code
    output_radio_selected.value = radio_input1.value
    selected_option = output_radio_selected.value # Example variable assigned the selected value
    print('Selected option set to: ' + selected_option) # For test purposes
    radio_input1.observe(bind_selected_to_output)


radio_input1.observe(bind_selected_to_output) # Run the bind... function when the radio button is changed
#radio_input1.observe(bind_selected_to_output, names=['value'])
#radio_input1 # Display the radio buttons to the user

widgets.HBox([radio_input1])
</code></pre>
",4334,3,<jupyter-notebook><ipywidgets>,2020-04-24 09:48:23
61380151,Can't access jupyterhub in a docker container with netowrk_mode: host,"<p>I have a jupyterhub running in a container with network_mode: host due to some requirement.
However after setting the network_mode to host in my docker-compose file, I can't access jupyterhub from an external host using the host ip:8000.</p>

<p>my understanding from <a href=""https://docs.docker.com/network/host/"" rel=""nofollow noreferrer"">this</a> is </p>

<blockquote>
  <p>If you use the host network mode for a container, that container’s
  network stack is not isolated from the Docker host (the container
  shares the host’s networking namespace), and the container does not
  get its own IP-address allocated. For instance, if you run a container
  which binds to port 80 and you use host networking, the container’s
  application is available on port 80 on the host’s IP address.</p>
</blockquote>

<p>Is there anything i am missing?</p>

<p>EDIT:
To simplify i follow the instructions <a href=""https://docs.docker.com/network/network-tutorial-host/"" rel=""nofollow noreferrer"">here</a></p>

<pre><code>docker run --rm -d --network host --name my_nginx nginx
</code></pre>

<p>I can access the nginx welcome page doing </p>

<pre><code>$ curl localhost:80
</code></pre>

<p>but if i try to curl from another host i get</p>

<pre><code>$ curl 10.230.0.123:80
curl: (7) Failed connect to 10.230.0.123:80; No route to host
</code></pre>
",77,0,<docker><docker-compose><jupyterhub>,2020-04-23 05:46:12
61347091,Horizontal Alignment of Ipywidgets / Interactive plotting,"<p>The goal ist to:</p>

<ul>
<li>plot data based on a dropdown value</li>
<li>have multiple plots based on the same value</li>
<li>align them in a row (horizontal).</li>
</ul>

<p>In my case the interactive_plot is the box with all plots in it, therefore I can't style them how I want it. How do I plot the two plots in one line?</p>

<pre><code>def showMADetails(column=filter_unique):
plt.figure(1)
filtered_ma = ma_data[(ma_data['2'] == column)]
plt.bar(column, filtered_ma['GrossTurnoverBudget'], align='center', alpha=0.5)

plt.figure(2)
filtered_ma = ma_data[(ma_data['2'] == column)]
plt.bar(column, filtered_ma['Productive billableDays'], align='center', alpha=0.5)

interactive_plot = interactive(showMADetails)
output = interactive_plot.children[1]
output.layout.height = '400px'
output.layout.width = '200px'

interactive_plot
</code></pre>
",122,0,<matplotlib><ipywidgets>,2020-04-21 15:23:24
61339771,ipywidgets & How to evaluate answers on form,"<p>I would like to add a form into a jupyter notebook. 
To do this, my idea is:</p>

<ul>
<li>Add a RaddioButtons widget</li>
<li>Add a ""Submit answer"" button</li>
<li>Add a function to evaluate the answer</li>
</ul>

<p>My actual code is:</p>

<pre><code>import ipywidgets as widgets

selection = widgets.RadioButtons(
    options=['The color', 'The length', 'The slope'],
    value='The slope',
    description='',
    disabled=False
)

button = widgets.Button(
    description='Submit answer',
    disabled=False,
    button_style='', # 'success', 'info', 'warning', 'danger' or ''
)

def evalute(selection):

    if (selection == ""The slope""):
        print(""Correct!"")
    else:
        print(""Try again..."")
# To reset the option value. However, I would like to avoid having a ""default"" value
        seleccion = ""The color""       

boton.on_click(evaluate(selection.value))        

left_box = widgets.VBox([selection, button])
widgets.HBox([left_box])



</code></pre>

<p>However, this doesn't work properly. By two things:</p>

<ul>
<li>I don't want a default value</li>
<li>I don't want the method ""evaluate"" to be executed at the beggining. It should be ""on_change""</li>
</ul>

<p>Could you please help me with this and to ""clarify"" my missconception?</p>

<p><a href=""https://i.stack.imgur.com/8uCyi.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/8uCyi.png"" alt=""enter image description here""></a></p>
",1266,2,<python><events><jupyter-notebook><ipywidgets>,2020-04-21 09:06:13
61331238,Include additional R pkg in custom JupyterHub user notebook image?,"<p>I customize the user notebook environment <a href=""https://zero-to-jupyterhub.readthedocs.io/en/latest/customizing/user-environment.html#customize-an-existing-docker-image"" rel=""nofollow noreferrer"">like so</a> (installing custom python packages)</p>

<pre><code>FROM jupyter/minimal-notebook:177037d09156
# Get the latest image tag at:
# https://hub.docker.com/r/jupyter/minimal-notebook/tags/
# Inspect the Dockerfile at:
# https://github.com/jupyter/docker-stacks/tree/master/minimal-notebook/Dockerfile

# install additional package...
RUN pip install --no-cache-dir astropy
</code></pre>

<p>How can I install custom R packages? Specifically, I am looking to install:</p>

<ul>
<li>reticulate</li>
<li>mvtnorm</li>
<li>gdata</li>
<li>matrixcalc</li>
<li>gtools</li>
<li>mpoly</li>
<li>moments</li>
</ul>

<p>These are available in CRAN</p>
",481,1,<r><docker><cran><jupyterhub>,2020-04-20 20:13:47
61304621,option to disable downloading from jupterlab and notebook,"<p>I am running jupyterlab with jupyterhub (on AWS with K8S) and using sensitive data, so i want to disable the option to download and export files from the lab to local machines.</p>

<p>The only way i could think of doing this was to edit the jupyter lab &amp; jupyter notebook src code, remove the option and the functions that download files, and install these on my pods instead of the default jupyter lab &amp; notebook
BUT this does not stop the user from going directly to the url and download the file from there.</p>

<p>Has anyone done something like this ? I saw in the jupyterlab forum in Github that there are a few issues open on the subject, but nothing is resolved </p>
",1067,4,<jupyter-notebook><jupyter><jupyter-lab><jupyterhub>,2020-04-19 12:50:13
61298647,How to add/ modify/ patch altair chart data dynamically?,"<p>I would like to add chart(s), or data to existing chart dynamically (via <code>ipywidget.interact</code>) as in the code below (<code>chart + dotchart</code>). I get nearly what I want except whole chart gets re-drawn and this causes flickering.</p>

<p>How do I add/ modify/ patch data dynamically and avoid re-drawing whole chart?</p>

<p>Thanks!</p>

<pre class=""lang-py prettyprint-override""><code>import pandas as pd
import numpy as np
import altair as alt
from ipywidgets import interact

df = pd.DataFrame({""xval"": range(100), ""yval"": np.random.randint(0,100,100)})
chart = alt.Chart(df).mark_point().encode(x=""xval"", y=""yval"",)

def update(x, y):
    dot = pd.DataFrame(dict(x=[x], y=[y]))
    dotchart = alt.Chart(dot).mark_point().encode(x=""x"", y=""y"", color=alt.value(""red""))
    return chart + dotchart 

interact(update, x=(0, 100), y=(0, 100))
# x, y widgets that control position of 'red dot'
</code></pre>
",654,1,<python><ipywidgets><altair>,2020-04-19 02:00:51
61278187,how to deal with variable width of Buttons in ipywidgets,"<p>I have the need to display a bunch of buttons.
the description of every button corresponds to every word of a text.</p>

<p>In order to give a text appearance I want to make button width accoding to the length of the word inside.
So I create a variable that gives me the width px according to the number of letters.</p>

<p>I dont know why but it does not work well. It works for some words and for other doesnt.</p>

<p>some ideas?
(see in the screenshot how the word ""the"" does not have enough space in and only ... is dísplay.</p>

<p>The ultimate goal is of course have a text looking normally as a text where I can click words.</p>

<p>Thanks.</p>

<pre><code>mylist=['loren','ipsum','whapmmtever','loren','ipsum','otra','the','palabra','concept']

list_btns=[]
for i,word in enumerate(mylist):
    # here I try to define the width of the button as depending on the length of the word:
    wordwidth= str(len(word)*12) + 'px'
    wd_raw_save_button = widgets.Button(description=word,
                                        disabled=False,
                                        button_style='success',
                                        tooltip='check the word',
                                        icon='',
                                        layout = Layout(width = wordwidth, margin='0px 0px 0px 0px'))

    list_btns.append(wd_raw_save_button)



showcase=HBox(list_btns)
showcase
</code></pre>

<p><a href=""https://i.stack.imgur.com/caJOg.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/caJOg.png"" alt=""how it looks like in jupyter""></a></p>

<p>Actually after running voila to visualise the result I get this:</p>

<p><a href=""https://i.stack.imgur.com/s5uYo.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/s5uYo.png"" alt=""enter image description here""></a></p>

<p>this does not give an impression of real text, i.e. same spacing between words which is the ultimate goal. 
I am guessing, but I am not sure, that the reason might be that the characters are of different width, and I will have to calculate the width character by character. But this does not explain that the word ""the"" does not fit inside the button.
Second explanation is that the underlying CSS assumes a certain minimum border which goes ""over"" the word itself. In any case I dont know how to control/influence it.</p>
",747,1,<python><button><jupyter-notebook><ipywidgets><voila>,2020-04-17 18:22:59
61274888,Jupyter Notebook not updating with ipywidget change,"<p>When I update my widgets nothing happens.
I am trying to display a bar chart and select the data based on widgets inputs.
I have a small dataframe of 600 rows. Each row is has M atk_dice, N def_dice, and atk_tl bool, and a few other selectors. The data is a variable length list, which will be a bar chart of the probability distribution function.</p>

<pre><code>import plotly.graph_objects as go 
import pandas as pd
import numpy as np
from ipywidgets import widgets

atk_dice = widgets.IntSlider(
    value = 1.0,
    min = 1.0,
    max = 6.0,
    step = 1.0,
    description = 'Number of Attack Dice',
    continuous_update = False)

def_dice = widgets.IntSlider(
    value = 1.0,
    min = 1.0,
    max = 6.0,
    step = 1.0,
    description = 'Number of Defense Dice',
    continuous_update = False)

tgt_lk = widgets.Checkbox(
    description = 'Target Lock',
    value = False)

container = widgets.HBox(children = [atk_dice, def_dice, tgt_lk])

j = 1
row = df.iloc[j]
M = (row['M_atk_dice'])
mPhr = row.Phr
mhits = np.arange(M+1)
trace1 = go.Bar(x = mhits, y = mPhr, opacity= 0.8, name = 'pdf')
g = go.FigureWidget(data = [trace1], 
                    layout = go.Layout(
                        title = dict(text = 'PDF')
                    )
                   )


def response(change):
    M = 10
    x1 = np.arange(M+1)
    y1 = x1

    with g.batch_update():
        g.data[0].x = x1
        g.data[0].y = y1

atk_dice.observe(response, names = ""All"", type = ""change"")
def_dice.observe(response, names = ""All"", type = ""change"")
tgt_lk.observe(response, names = ""All"", type = ""change"")        

widgets.VBox([container, g])
</code></pre>

<p>Thanks in advance.</p>
",1587,1,<python><ipywidgets>,2020-04-17 15:11:42
61272384,How to resize matplotlib figure to match ipywidgets.Output() size automatically?,"<p>I am building a webapp with interactive plots based on <strong>Jupyter</strong> and <strong>Voila</strong>.
Inside the notebook I use <strong>ipywidgets</strong> for handling the interactivity and <code>%matplotlib widget</code> backend so I can update my plots without redrawing the whole figure (does not work in <code>%matplotlib inline</code> and <code>%matplotlib notebook</code> does not render in Voila).</p>

<p>My problem is that I am not able to set figure size such that it matches the size of its canvas or container which neatly resize automatically on window resize.</p>

<p>This is a small working example of my situation:</p>

<pre class=""lang-python prettyprint-override""><code>%matplotlib widget
from IPython.display import display
import matplotlib.pyplot as plt
import ipywidgets as widgets
import numpy as np

# Output widget that will contain the figure
out = widgets.Output(layout = {
    'border': '1px solid black',
    # 'width': '100%' # Not needed and does not help
})

# Initializing the figure within out
with out:
    fig, ax = plt.subplots(1, constrained_layout=True)
    fig.set_size_inches(7,5) # Is not automatic and stays the same on window resize
    fig.canvas.layout.border = '1px solid red'
    # fig.canvas.layout.width = '100%' # Not needed and does not help


# Func for updating the data in ax within out
def update_ax(slider):
    with out:
        plt.cla() # Clearing the ax
        ax.plot(np.arange(10), np.random.random(10)* slider)

slider = widgets.FloatSlider(10)      
display(slider)
iplot = widgets.interactive(update_ax, slider=slider)
iplot.update()
display(out)
</code></pre>

<p>This is the output:
<a href=""https://i.stack.imgur.com/N7ryG.jpg"" rel=""noreferrer""><img src=""https://i.stack.imgur.com/N7ryG.jpg"" alt=""Output of the code above""></a></p>

<p>I want the figure (blue rectangle) to span 100% width of the canvas (red rectangle)
and I want it resized automatically as the canvas width changes with the change of output
container (black rectangle) which changes with the change of window width. E.g. when I 
manually resize the window.</p>

<p>I think it must be possible, since the corner (in green circle) does the resizing, but just based on manual user input, not on window width change. Nice solution would be something like this 'fig.set_size_relative('100%', 'auto')', but this obviously is not implemented.</p>

<p>Any help is very appreciated, I have already killed way more time with this than it is healthy :)</p>
",1265,5,<ipywidgets><matplotlib-widget><voila><figsize>,2020-04-17 13:04:28
61271234,can't suppress the function name to be displayed when using nested ipywidgets interact functions,"<p>Using nested widgets interact functions, as shown in minimun case example below, however can't suppress the function name to be displayed. Semi-colon does not work.</p>

<pre><code>import ipywidgets as widgets

def dummy_func(a, b):
    return a + b

def interactive_dummy_func(b=4, a=2):
    return widgets.interact(dummy_func, 
                             a = a,
                             b = b);

@widgets.interact
def wrapped_interactive_dummy_func(condition=True):
    if condition == True:
        return interactive_dummy_func(a=3, b=5);
    else:
        return ""Something else""
</code></pre>

<p>Output always show the function name and can't manage to suppress it</p>

<p><a href=""https://i.stack.imgur.com/CV5t5.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/CV5t5.png"" alt=""enter image description here""></a></p>
",59,1,<python><ipywidgets>,2020-04-17 12:05:04
61259846,How to get the observed value from more than one widgets ipywidgets,"<p>I'm trying to create my own interactive path selector using interactive widgets from ipywidgets, there is supposed to be three select boxes, the second observes the value from the first one and the third observes the selected value from the previous both, and that's my problem, I can't figure out how to add the third widget.</p>

<p>Here is my functional code:</p>

<pre><code>import os
import getpass
import glob
import ipywidgets as widgets
from ipywidgets import VBox, HBox, Label, interactive, Box

def return_paths(raw_path):
    """"""Create a list of folders in a given path
    skipping those with begin with '.' and are empty

    """"""
    paths = [folder for folder in os.listdir(raw_path) 
             if os.path.isdir(os.path.join(raw_path, folder)) and not folder.startswith('.') 
             and len(os.listdir(os.path.join(raw_path, folder))) != 0
    ]
    paths.sort()
    return paths

def get_select2(*args):
    options = return_paths(os.path.join(raw_path, select_1.value))  
    select_2.options = options

def process(Feature,ID):
    print(Feature,ID)

def run():
    w = interactive(process, Feature=select_1, ID=select_2)
    display(HBox([Label('Select the folder you want process:'), w.children[0], w.children[1]]))
    display(w.children[2])

user = getpass.getuser()
raw_path = f'/home/{user}/downloads/0_raw/'
raw_folders = []

select_1 = widgets.Select(
    options=return_paths(raw_path),
)

select_2 = widgets.Select()
select_3 = widgets.Select()
select_1.observe(get_select2)    

run()
</code></pre>

<p>In this moment is working with two selected boxes, how can I add the third one? any idea? </p>
",604,1,<python-3.x><jupyter-notebook><jupyter><interactive><ipywidgets>,2020-04-16 20:51:56
61219202,Unloading values from multiple ipywidgets in a container,"<p>I just started using ipywidgets and I am trying to find the ropes, so if this question has been answered previously or the documentation covers it in some way, kindly point me to that section. Essentially, here is a miniature version of the UI I am trying to develop.</p>

<p>The question that has got me perplexed is, once I construct a UI like shown below, and the user provides their input, how do I unload the input? I am hoping to collect values for each of the variables and trigger my logic, but the only thing I see in the documentation talks about using either interact or interactive.</p>

<p>However I am not really sure how to use them with multiple widgets, all the examples I have come across seem to point to using them with a single widget. If anyone could point me to a good resource or provide a sample, that would be helpful.</p>

<p>With that classifier, here is what I am trying to do: </p>

<pre><code>import ipywidgets as widgets
style = {'description_width': 'initial'}

def input_tab(tab_list, tab_names_list):
    if len(tab_list) == len(tab_names_list):
        this_tab = Tab()
        this_tab.children = tab_list
        [this_tab.set_title(i, title) for i, title in enumerate(tab_names_list)]
        return this_tab
    else:
        raise ValueError('\n Input lists should be of the same size')

def get_input_panel_num():
    input_1 = widgets.Text(value='3000', description='Input-1', style=style)
    input_2 = widgets.Dropdown(options=['yes', 'no'], description='Select one', value='yes', disabled=False, style=style)
    input_3 = widgets.IntSlider(value=0, min=0, max=1, step=1, description='Input-3', orientation='horizontal', readout=True, 
                               style=style)
    input_list_num = [input_1, input_2, input_3]
    return input_list_num

def get_input_panel_char():
    input_a = widgets.Text(value='3000', description='Input-1', style=style)
    input_b = widgets.Dropdown(options=['yes', 'no'], description='Select one', value='yes', disabled=False, style=style)
    input_c = widgets.IntSlider(value=0, min=0, max=1, step=1, description='Input-3', orientation='horizontal', readout=True, 
                               style=style)
    input_list_char = [input_a, input_b, input_c]
    return input_list_char

def create_master_tab():
    tab_names = [""tab-1"", ""tab-2""]
    panel_num = VBox(get_input_panel_num())
    panel_char = VBox(get_input_panel_char())
    final = input_tab(tab_list=[panel_num, panel_char], tab_names_list=tab_names)
    return final

demo = create_master_tab()
demo 
</code></pre>

<p>***************** UPDATED QUESTION *****************************
@ac24: 
    I was unable to post all the code in the comments, so here is my updated code after incorporating your advice. It runs as expected for the large part, but refuses to accept titles which is what I am confused about. I was able to set titles to the tabs when they were functions using the exact same approach, so I am not sure what has changed really: </p>

<pre><code>import ipywidgets as widgets 
from ipywidgets import HBox
from ipywidgets import Tab 


# Definition of style
style = {'description_width': 'initial'}


class TabHolder(Tab):
    def __init__(self, tab_objects, tab_names):
        """"""
        Initialization of TabHolder object class

        :param list tab_objects: collection of display objects to be captured in the tabs
        :param list tab_names: names to assign to the tabs
        :return: tab widget containing all the tabs
        :rtype: Tab
        """"""

        if len(tab_names) != len(tab_objects):
            raise ValueError(""\n Failed in TabHolder creation, because of lengths of inputs don't match"")
        else:
            self.tab = Tab()
            self.tab_names = tab_names
            self.tab_objects = tab_objects
            self.inputs = []
            for i in tab_objects:
                self.inputs.append(i)
            super().__init__(children=self.inputs)
            [self.tab.set_title(i, title) for i, title in enumerate(self.tab_names)]  # Why titles not being set?


class InputPanelChar(HBox):

    def __init__(self):
        self.input_a = widgets.Text(value='3000', description='Input-1', style=style)
        self.input_b = widgets.Dropdown(options=['yes', 'no'], description='Select one', value='yes', disabled=False,
                                        style=style)
        self.input_c = widgets.IntSlider(value=0, min=0, max=1, step=1, description='Input-3', orientation='horizontal',
                                         readout=True, style=style)
        self.input_list_char = [self.input_a, self.input_b, self.input_c]
        super().__init__(children= self.input_list_char)

    def get_interact_value(self):
        return {
            w.description: w.get_interact_value()
            for w in self.input_list_char
        }


class InputPanelNum(HBox):

    def __init__(self):
        self.input_1 = widgets.Text(value='3000', description='Input-1', style=style)
        self.input_2 = widgets.Dropdown(options=['yes', 'no'], description='Select one', value='yes', disabled=False,
                                        style=style)
        self.input_3 = widgets.IntSlider(value=0, min=0, max=1, step=1, description='Input-3', orientation='horizontal',
                                         readout=True, style=style)
        self.input_list_num = [self.input_1, self.input_2, self.input_3]
        super().__init__(children= self.input_list_num)

    def get_interact_value(self):
        return {
            w.description: w.get_interact_value()
            for w in self.input_list_num
        }
</code></pre>
",198,0,<python><python-3.x><jupyter-notebook><ipython><ipywidgets>,2020-04-15 00:01:26
61203515,Display qgrid within the ipywidget tab,"<p>I'm trying to use qgrid to visualize dataframes together with some widgets. I have some issues displaying a grid inside a tab, if it is not active at the load.</p>

<pre><code>import pandas as pd
import ipywidgets as widgets
import numpy as np
import qgrid

out1 = widgets.Output()
out2 = widgets.Output()
data1 = pd.DataFrame(np.random.normal(size = 10))
data2 = pd.DataFrame(np.random.normal(size = 10))

with out1:
    display(qgrid.show_grid(data1))

with out2:
    display(qgrid.show_grid(data1))

tab = widgets.Tab(children = [out1, out2])
tab.set_title(0, 'First')
tab.set_title(1, 'Second')
display(tab)
</code></pre>

<p>The code above produce working version for the first tab</p>

<p><a href=""https://i.stack.imgur.com/fy0Zy.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/fy0Zy.png"" alt=""enter image description here""></a></p>

<p>But the second one is empty</p>

<p><a href=""https://i.stack.imgur.com/PAhY0.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/PAhY0.png"" alt=""enter image description here""></a></p>

<p>More surprising is the fact that my attempt to ""inspect"" this in Chrome fixes my second tab, but hides output from the first.</p>

<p>Any suggestions? </p>
",1109,1,<jupyter-notebook><ipywidgets><qgrid>,2020-04-14 08:25:01
61176844,Update displayed value everytime ipywidgets are updated,"<p>In my notebook i have 7 FloatSlider widgets. I want to have the product of these 7 widgets displayed at all times in a way that, as the user moves the sliders, the value displayed is updated. Currently i am trying to display the product of the SliderWidgets in a Widgets.Text (n), but i am not sure if it is the best solution.</p>

<pre><code> import ipywidgets as widgets

caption = widgets.Label(value='Play around with the variables to see how N changes!')   

r = widgets.FloatSlider(value=1,
                         min=1.0,
                         max=3.0,
                         step=0.1,
                         description=""R*"")

fp = widgets.FloatSlider(value=1,
                         min=0.35,
                         max=1.0,
                         step=0.05,
                         description=""fp"")

ne = widgets.FloatSlider(value=1
                         min=0.2,
                         max=3.0,
                         step=0.1,
                         description=""ne"")

fl = widgets.FloatSlider(value=1,
                         min=1.0,
                         max=1.3,
                         step=0.05,
                         description=""fl"")

fi = widgets.FloatSlider(value=1,
                         min=0.5,
                         max=1.5,
                         step=0.05,
                         description=""fi"")

fc = widgets.FloatSlider(value=0.20,
                         min=0.10,
                         max=0.30,
                         step=0.05,
                         description=""fi"",)

l = widgets.FloatSlider(value=60000000.0,
                         min=5000000.0,
                         max=1000000000.0,
                         step=5000000,
                         description=""fi"")


n = widgets.Text(
    value= str(int(r.value * fp.value * ne.value * fl.value * fi.value * fc.value * l.value)) + "" civilizations"" ,
    description='Estimated N:',
    disabled=True)

left_box = VBox([r, fp, ne,fl])
right_box = VBox([ fi,fc,l,n])
HBox([left_box, right_box])
</code></pre>

<p>This code that i used displays the widgets, but does not update the widget n automatically. What is the best way for me to do it, that does not involve printing a new value everytime?</p>
",2156,5,<python><jupyter-notebook><ipython><ipywidgets>,2020-04-12 19:17:43
61154741,How to display a pandas dataframe within a VBOX using ipywidgets,"<p>i would like to display a pandas dataframe in a interactive way using ipywidgets. So far the code gets some selections and then does some calculation. For this exmaple case, its not really using the input labels. However, my problem is when I would like to display the pandas dataframe, it's not treated as widget. But how can I nicely display then pandas dataframe using widgets? At the end I would like to have a nice table in the <code>main_box</code></p>

<p>here is a code exmaple, which works in any jupyter notebook</p>

<pre><code>import pandas as pd
import ipywidgets as widgets

def button_run_on_click(_):
    status_label.value = ""running....""

    df = pd.DataFrame([[1,2,3],[4,5,6],[7,8,9]])
    status_label.value = """"

    result_box = setup_ui(df)

    main_box.children = [selection, button_run, status_label, result_box]


def setup_ui(df):

    return widgets.VBox([df])

selection_box = widgets.Box()
selection_toggles = []
selected_labels = {}
default_labels = ['test1', ""test2""]

labels = {""test1"": ""test1"", ""test2"": ""test2"", ""test3"": ""test3""}

def update_selection(change):
    owner = change['owner']
    name = owner.description

    if change['new']:
        owner.icon = 'check'
        selected_labels[name] = labels[name]
    else:
        owner.icon = """"
        selected_labels.pop(name)

for k in sorted(labels):
    o = widgets.ToggleButton(description=k)
    o.observe(update_selection, 'value')
    o.value = k in default_labels
    selection_toggles.append(o)
    selection_box.children = selection_toggles

status_label = widgets.Label()
status_label.layout.width = '300px'

button_run = widgets.Button(description=""Run"")
main_box = widgets.VBox([selection_box, button_run, status_label])
button_run.on_click(button_run_on_click)
display(main_box)
</code></pre>
",8367,9,<python><jupyter-notebook><ipywidgets>,2020-04-11 09:41:25
61130223,Is there a way to set title value to the containers in ipywidgets?,"<p>All,
    I am trying to build a small UI as a wrapper for a tool I have. I am trying to use ipywidgets in Jupyter notebooks to do this and I am running into a small issue. It is not sufficiently clear by looking at the Read The Docs page as to how it can be addressed, so any guidance would be greatly appreciated. </p>

<p>Here is what I am looking at, this is straight from the documentation: </p>

<pre><code>```
import ipywidgets as widgets 

tab_contents = ['P0', 'P1', 'P2', 'P3', 'P4']
children = [widgets.Text(description=name) for name in tab_contents]
tab = widgets.Tab()
tab.children = children
tab.titles = [str(i) for i in range(len(children))]
tab
```
</code></pre>

<p>This looks great, except that the tabs do not have a title. The documentation basically says, titles can be set the same way as Accordion container, but even that container doesn't show how to set a title. Would appreciate any help in this matter. </p>

<p>Best 
Uday </p>
",2830,0,<python-3.x><jupyter-notebook><jupyter><jupyter-lab><ipywidgets>,2020-04-09 21:07:30
61115051,Interactive Choropleth using plotly & ipywidgets in python,"<p>I am trying to create an interactive choropleth using Plotly and ipywidgets for the dataframe which the head looks like the one shown below.</p>

<p><a href=""https://i.stack.imgur.com/OfBgS.png"" rel=""nofollow noreferrer"">Data1.head() </a></p>

<p>The plot sums the values for all the available dates in the dataframe for each county.</p>

<p><a href=""https://i.stack.imgur.com/iLEqL.png"" rel=""nofollow noreferrer"">Output for available FIPS (aggregated values) </a></p>

<p>I want to filter the values for a particular date using a dropdown menu and plot the values corresponding to this date.</p>

<pre><code>import matplotlib.pyplot as plt
from ipywidgets import interact, interactive, fixed, interact_manual
import ipywidgets as widgets
from plotly import *
import plotly.figure_factory as ff
import plotly.graph_objects as go


date = widgets.Dropdown(
    options=['All'] + Data1.date.unique().tolist(),
    value='All',
    description='Date:',
)

# date = Data1['date'][1]  # If I use this instead of the widget defined above, the code works (at the cost of interactivity)

def func(date):

  values = Data1[Data1['date']== date]['Infected'].tolist()
  fips = Data1[Data1['date']== date]['Fips'].tolist()

   colorscale = [
       'rgb(193, 193, 193)',
       'rgb(239,239,239)',
       'rgb(195, 196, 222)',
       'rgb(144,148,194)',
       'rgb(101,104,168)',
       'rgb(65, 53, 132)'
   ]

  fig = ff.create_choropleth(
      fips=fips, values=values, scope=['IL'],
      binning_endpoints=[14348, 63983, 134827, 426762, 2081313], colorscale=colorscale,
      county_outline={'color': 'rgb(255,255,255)', 'width': 0.5}, round_legend_values=True,
      legend_title='Infected cases by County', title='Illinois State'
  )
  fig.layout.template = None
  fig.show()


interactive(func, date= date)
</code></pre>

<p>I am able to get the dropdown menu using this code, but it does not print the plot.</p>

<p>Alternatively, I tried to hardcode the date (commented in code) and it did return the plot for the specific date, at the loss of interactivity.</p>

<p>Can someone help me to get the plot where I can let the user choose a date from the dropdown menu and plot the choropleth correspondingly?</p>
",180,2,<python><matplotlib><plotly><ipywidgets><choropleth>,2020-04-09 06:18:03
61101348,Changing dropdown options ipywidgets based on previous selection in Python,"<p>I have my code laid out as follows in a Jupyter Notebook:</p>

<pre><code># Ask user for the Site they would like to view data for
Site = input(""Enter the Site number that you would like to see data for: "")
# Choose the dataset based on the user input
if Site == '1':
    df = site1_df
else:
    df = site2_df
</code></pre>

<p>And in the following cell I have an interactive plotting cell using <code>ipywidgets</code> as follows:</p>

<pre><code>@interact
def line_plot(Variable=list(df.select_dtypes('number').columns),
              time=widgets.ToggleButtons(options=['Raw', 'Minute', 'Hour', 'Day', 'Month'], 
                                                    description='Time'),
              color_button=widgets.ToggleButtons(options=['polar', 'solar', 'henanigans'], 
                                                    description='Plot Theme'),
              color_scale=widgets.ToggleButtons(options=['spectral', 'pastel1', 'polar', 'dark2'], 
                                                    description='Colour Scale')):


    # The following resamples the data based on the user selection
    if time == 'Raw':
        new_df = df.resample('30S').mean()
    elif time == 'Minute':
        new_df = df.resample('T').mean()
    elif time == 'Hour':
        new_df = df.resample('H').mean()
    elif time == 'Day':
        new_df = df.resample('D').mean()
    else:
        new_df = df.resample('M').mean()

    # The newly resampled data is then plotted based on the users choice
    new_df.iplot(kind='line', y=Variable, xTitle='Time', yTitle='Test',
                 mode='lines', theme=color_button, colorscale=color_scale)
</code></pre>

<p>There are other elements of optimisation that I have to do, but I would like to have the <code>Site</code> selection as a dropdown menu like the others in the attached screenshot. But I can not seem to integrate it whereby the option selected for the <code>Site</code>, changes the <code>Variables</code> that are displayed. I have seen some other posts on this but can't seem to integrate it for my situation. Any help welcomed!</p>

<p><a href=""https://i.stack.imgur.com/NZJnH.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/NZJnH.png"" alt=""Screenshot of Notebook dashboard""></a></p>
",101,0,<python><plot><dropdown><ipywidgets>,2020-04-08 13:02:51
61099279,Change datepicker format from mmddyyyy to ddmmyyyy,"<p>I am using the datepicker widget from ipywidgets in a project that I am making in Jupyter Lab. My computer is set up as english but i live in Denmark.
When I use datepicker the standard format is mmddyyyy (maybe because my computer is set up as english) and I would like to change this to ddmmyyyy. </p>

<p>Thank you.</p>
",102,1,<date><datepicker><date-formatting><ipywidgets>,2020-04-08 11:08:44
61088940,Converting ipywidgets.widgets.widget_output.Output to a list,"<p>I have created a function that allows a user to make selections from a checklist and return the selected values. The issue is that the returned checklist is of type ipywidgets.widgets.widget_output.Output and I cannot find a way to extract the values inside the result. </p>

<pre><code>import ipywidgets as widgets

def create_checklist():
    data = {""label1"": ""data1"", ""label2"": ""data2""}

    names = []
    checkbox_objects = []
    for key in data:
        checkbox_objects.append(widgets.Checkbox(value=False, description=key))
        names.append(key)

    arg_dict = {names[i]: checkbox for i, checkbox in enumerate(checkbox_objects)}

    ui = widgets.VBox(children=checkbox_objects)

    selected_data = []
    def select_data(**kwargs):
        selected_data.clear()

        for key in kwargs:
            if kwargs[key] is True:
                selected_data.append(key)

        print(selected_data)

    out = widgets.interactive_output(select_data, arg_dict)
    display(ui)
    return out

checklist = create_checklist()

print(""Displays just fine: "")
display(checklist)

print(""But cannot print or use in any way. Print result: "")
print(checklist)

print(f""\nChecklist type: {type(checklist)}"")
</code></pre>

<p>After selecting 'label2' result:</p>

<pre><code>Displays just fine: 
['label2']

But cannot print or use in any way. Print result: 
Output()

Checklist type: &lt;class 'ipywidgets.widgets.widget_output.Output'&gt;
</code></pre>

<p>Under certain contexts you can also get it to print(checklist) and result in: </p>

<pre><code>Output(outputs=({'output_type': 'stream', 'text': ""['label2']\n"", 'name': 'stdout'},))
</code></pre>

<p>I have obviously tried list(checklist), checklist.text, checklist['text'], to no avail. </p>
",841,1,<python><python-3.x><ipywidgets>,2020-04-07 20:32:53
61086365,push_notebook does not work in Google Collab Jupyter Notebook,"<p>I am using bokeh on Google collab. I wonder if anybody has used push_notebook in Google Collab Jupyter  notebook. I am trying to run following code in Jupiter Notebook on Google Collab , but it get stuck on push_notebook() command </p>

<pre><code>from ipywidgets import interact
import numpy as np
from bokeh.io import push_notebook,show,output_notebook
from bokeh.plotting import figure
output_notebook()

x=np.linspace(0,2*np.pi,2000)
y=np.sin(x)
p=figure(title=""ff"",plot_height=300,plot_width=600,y_range=(-5,5))
r=p.line(x,y,color=""red"",line_width=2)
def update(f,w=1,A=1,phi=0):
   print(""fff"")
   if f== ""sin"":func=np.sin
   if f== ""sin"":func=np.sin
   elif f==""cos"":func =np.cos
   elif f== ""tan"":func=np.tan
   r.data_source.data['y']=A*func(w*x+phi) 
   push_notebook()
show(p,notebook_handle=True)
interact(update,f=[""sin"",""cos"",""tan""],w=(0,100),A=(1,5),phi=(0,20,0.1))
</code></pre>

<p>Can anybody suggest whats wrong in the code and how can it be run Google Collab.</p>
",158,0,<jupyter-notebook><slider><bokeh><google-colaboratory><ipywidgets>,2020-04-07 17:56:30
61083282,Nbgrader with Littlest JupyterHub releases assignment to course directory but not to /srv/nbgrader/exchange,"<h3>Operating system</h3>

<h3><code>nbgrader --version</code>: 0.6.1</h3>

<h3><code>jupyterhub --version</code> (if used with JupyterHub): 1.0.0  (Using littlest Jupterhub)</h3>

<h3><code>jupyter notebook --version</code></h3>

<p>jupyter core     : 4.6.3
jupyter-notebook : 6.0.3
qtconsole        : 4.7.2
ipython          : 7.13.0
ipykernel        : 5.2.0
jupyter client   : 6.1.2
jupyter lab      : 1.2.8
nbconvert        : 5.6.1
ipywidgets       : 7.5.1
nbformat         : 5.0.4
traitlets        : 4.3.3</p>

<h3>Expected behavior: When used</h3>

<blockquote>
  <p>nbgrader release_assignment ps1 --force --debug</p>
</blockquote>

<p>It should release the assignment in /srv/nbgrader/exchange shared folder.</p>

<h3>Actual behavior</h3>

<p>I am facing an issue when I try to release the assignment:</p>

<p>nbgrader release_assignment ps1 --force --debug</p>

<p>It releases the assignment without errors but to the location (/home/jupyter-tljh-admin/course_id/outbound/ps1) but not to the shared location /srv/nbgrader/exchange:</p>

<p>[ReleaseAssignmentApp | INFO] Overwriting files: /home/jupyter-tljh-admin/course_id ps1
[ReleaseAssignmentApp | INFO] Source: /home/jupyter-tljh-admin/course_id/release/./ps1
[ReleaseAssignmentApp | INFO] Destination: /home/jupyter-tljh-admin/course_id/outbound/ps1
[ReleaseAssignmentApp | INFO] Released as: /home/jupyter-tljh-admin/course_id ps1</p>

<p>The folder /srv/nbgrader/exchange has write permissions.</p>

<p>Please suggest, what could be the issue?</p>
",388,2,<jupyter-notebook><jupyter-lab><jupyterhub><jupyter-console><nbgrader>,2020-04-07 15:09:36
61049498,"jupyter kernel ""not found"" in ubuntu EC2 machine","<p>I'd really appreciate some help. I'm running jupyter notebook from my EC2 p2.xlarge ubuntu machine. I SSH into the server &amp; try to launch jupyter notebook </p>

<p><code>jupyter notebook --ip=127.0.0.1</code></p>

<p>I then access the jupyter notebook through my IPv4 Public IP, through HTTPS &amp; using the session token that's provided to me by the server.</p>

<p>I can open jupyter notebook just fine. when I try to execute any notebooks I get a descriptive kernel error of <strong>""Not Found""</strong>.</p>

<p>when I list my kernels ""jupyter kernelspec list"" I get:</p>

<pre><code> python2    /home/ubuntu/.local/share/jupyter/kernels/python2
 python3    /home/ubuntu/.local/share/jupyter/kernels/python3
</code></pre>

<p>I have tried activating them individually &amp; running the notebook. 
I have tried uninstalling them &amp; reinstalling them, pointing to the exact folder where each python version is installed in my ubuntu machine.</p>

<p>All to no avail.</p>

<p>Can someone please welp me?</p>
",136,1,<jupyter-notebook><jupyter-irkernel>,2020-04-05 21:05:35
61046005,ipywidgets Textarea height='auto' does not work,"<p>I am using ipywidgets to create a Dashboard with voila</p>

<p>I have a Textarea as follows:</p>

<pre><code>comm_text = widgets.Textarea(value='',
                            placeholder='OK',
                            description='',
                            style=style,
                            layout=widgets.Layout(height=""auto"", width=""auto""))
</code></pre>

<p>what I pretend with height=""auto"" is that when entering lines in textarea the text box expands vertically accordingly. (I want to have all the text visible)</p>

<p>It actually does not happend.
As you can see in the screenshot I introduced 8 lines but the textarea does not expand along.</p>

<p>Is that at all possible?
If not, what does actually height=""auto"" stand for?</p>

<p><a href=""https://i.stack.imgur.com/sgprJ.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/sgprJ.png"" alt=""out""></a></p>
",2906,1,<layout><textarea><height><ipywidgets><voila>,2020-04-05 16:44:44
61044884,adding on_click methods to buttons created with ipywidgets,"<p>I am using ipywidgets to create a dashboard.</p>

<p>I create a bunch of buttons using a loop:</p>

<pre><code>from ipywidgets import GridspecLayout

grid = GridspecLayout(4, 3)
def create_expanded_button(description, button_style):
    return Button(description=description, button_style=button_style, layout=Layout(height='auto', width='auto'))


for i in range(4):
    for j in range(3):
        grid[i, j] = create_expanded_button('Button {} - {}'.format(i, j), 'warning')
grid
</code></pre>

<p>This is the code in the documentation.
With such a code you create a dashboard with 16 buttons:</p>

<p><a href=""https://i.stack.imgur.com/7HPtY.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/7HPtY.png"" alt=""enter image description here""></a></p>

<p>The question is what is the strategy as to how to handle every on_click methods of the buttons since all the buttons are called the same.
Do the buttons have a kind of 'id'? </p>

<p>imagine that by clicking every button I want to fetch a particular data online. how to proceed?</p>

<p>thanks.</p>
",2966,1,<python><button><onclick><grid><ipywidgets>,2020-04-05 15:20:40
61039488,Fast way of refreshing complex plots with ipywidgets,"<p>I have made a widget that uses a plot function that plots a pandas bar plot and two images. This takes a few seconds to plot, but worse than that, the plot disappears for a few seconds before the new one appears.</p>

<pre><code>import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
from ipywidgets import interact, interactive
from IPython.display import display


class DummyPlotter:

  def plot(self, random_state):
    plt.figure(figsize=[30,10])
    df = pd.DataFrame(data=np.random.normal(size=200), columns=['prob'])
    ax = plt.subplot(2, 1, 1)
    df.plot.bar( y='prob', ax=ax);
    # Plot Image
    ax1 = plt.subplot(2, 4, 5);
    ax1.imshow(np.random.uniform(size=[300,300]));

    # Plot Explainability Figure
    ax2 = plt.subplot(2, 4, 6);
    ax2.imshow(np.random.uniform(size=[300,300]));


dp = DummyPlotter()
w = interactive(dp.plot, random_state=10)
display(w)
</code></pre>

<p>How can I prevent the plot from disappearing before being updated?
How can I make this faster?</p>
",211,1,<ipywidgets>,2020-04-05 07:41:13
60998665,Is it possible to make another ipywidgets widget appear based on dropdown selection?,"<p>I'm trying to figure out if it is possible to have different dropdowns/other widgets appear based on the selection in one dropdown. It seems that with 'interact' there are ways to make the values in a second dropdown change based on the values in the first, but I haven't had any luck finding a way to completely change the widgets being displayed based on the first selection. Below is the code that exports my dashboard with ipywidgets - have changed some names in there to make it a bit easier to read without the entire script.</p>

<pre><code>top = widgets.Accordion([
    AppLayout(header=header,
              center=VBox([Label('First Selection'),
                           select_1]),

          left_sidebar=VBox([Label('Second Selection'),
                             dropdown_2,

                             Label('Third Selection'),
                             dropdown_3,

                             Label('Fourth Selection'),
                             dropdown_4,

                             Label('Fifth Selection'),
                             dropdown_5,

                             group_checkbox]),

          right_sidebar=VBox([Label('Sixth Selection'),
                              select_6t,
                              Label('Seventh Selection'),
                              select_7]),
          footer=VBox([HBox([text_box,button_export]),HBox([dropdown_eight,nine_slider,ten_text,stage_export,run_export])]),
          pane_widths=['350px', 1, 1],
          pane_heights=['80px', 4, 1],
          height='auto',
          grid_gap=""20px"")])

pd.options.display.max_columns = None
pd.options.display.max_rows = None

bottom = tab
app = widgets.VBox([top,bottom])

app
</code></pre>

<p>Basically the list populating the HBox in footer contains other widgets which may or may not have relevance based on the selection in dropdown_eight. Rather than have several rows of widgets, I'd like to be able to have a function that determines which additional widgets are needed based on the selection in dropdown_eight. Initially, I was trying to define a function that would return the appropriate list of widgets but could not get it to update in the dashboard. </p>

<p>Any help would be much appreciated!</p>
",504,0,<python><jupyter><ipywidgets>,2020-04-02 18:34:59
60983438,Interactive Covid Plot with Multiple iPyWidgets Dropdowns,"<p>I'm attempting to put together a Jupyter Notebook that allows a user to input a state in a dropdown, which would change the result in the second dropdown to only show cities from that state.  Once the city is selected, a button could be pressed to refresh the graph (I realize there's you can use manual with interact, but was unable to get this to function properly) and show the resultant data (covid cases over time).  I've had some success making the widgets, but I can't get the data to plot correctly.</p>

<p>This is my first time using widgets in Jupyter and I'm a bit lost what with interact, interactivity, display, and observe (not to mention the deprecated on_trait_change).  Here's what I have so far...</p>

<pre><code>from ipywidgets import interact, widgets
from bqplot import pyplot as plt
import pandas as pd

#make example DF
date_list = ['2020-02-01','2020-02-01','2020-02-01','2020-02-01','2020-02-02','2020-02-02','2020-02-02','2020-02-02']
state_list = ['CA','NY','CA','NY','CA','NY','CA','NY']
city_list = ['San Fran','NYC','LA','Albany','San Fran','NYC','LA','Albany']
cases_list = [0,0,0,0,2,6,4,8]

df = pd.DataFrame(index=date_list)
df['state'] = state_list
df['city'] = city_list
df['cases'] = cases_list

#getting unique state and city list sorted in alphabetical order
state_unique = df['state'].unique()
state_unique.sort()

state = widgets.Dropdown(
    options=['All'] + list(state_unique),
    value='CA', #indicates default starting value
    description='State:', #this is the label for the dropdown
)

city = widgets.Dropdown(
    description='City:',
)


# function that updates 'city' dropdown depending on value in 'state' dropdown
def list_cities(x):
    if state.value == 'All':
        city.options = ['']
        return city_list
    else:
        temp = ['All'] + sorted(df.loc[df['state'].eq(state.value),'city'].unique())
        city.options = temp

state.observe(list_cities, names = 'value') #the names part tells the observe the change name to look for, this is only looking for value changes



b_refresh = widgets.Button(
    description='Refresh',
    icon='fa-refresh',
    button_style='warning',
    layout=widgets.Layout(width='100px')
)

# plotting function
def set_plot(x_data,y_data):
    plt.plot(x_data, y_data)
    plt.show()

x = list(df.index.unique())
y = df.loc[\
    (df['city']==city.value)&amp;\
    (df['state']==state.value),'cases']

b_refresh.on_click(set_plot(x, y))

display (state,city,b_refresh)
</code></pre>
",1208,2,<python><jupyter-notebook><ipywidgets><bqplot>,2020-04-02 02:40:50
60977912,Filter dataframe using drop down menu with strings in python,"<p>I have a df composed of eight columns. I am interested in two of them: ""Id"" and ""Description"". ""Id"" contains a numerical value while ""Description"" contains string values (e.g. ""high emergency"", ""low emergency"", ""zone 1""). I would like to filter the df using a drop-down menu containing a selected list of words. For example, having the words ""emergency"" selected in the drop-down menu the result should be a new df filtered with only the rows that in the column ""Description"" contain the word ""emergency"". </p>

<p>Once filtered this, I would like to plot the number of occurrences of the remaining Ids (counted with value_counts() method) in a bar chart that updates depending on the selected keyword in the drop-down menu.</p>

<p>I report here the code I wrote until now (df is already imported):</p>

<pre><code>import ipywidgets
from bokeh.io import push_notebook
from bokeh.plotting import figure
from bokeh.io import output_notebook, show, reset_output
from bokeh.models import Range1d

output_notebook()

# drop-down widget
drop_down = ipywidgets.Dropdown(options=['emergency',
                                         'zone'],
                                description='Keyword:'
                               )
#data. I have problems here because I am passing alarm_count that is defined later in the function
x_bar_data_ipyw = alarm_count.IdAlarm.astype(str) 
y_bar_data_ipyw = alarm_count.Count

# figure and plot
bar_chart_interactive = figure(x_range=x_bar_data_ipyw, plot_height=300)
bar_ipyw = bar_chart_interactive.vbar(x_bar_data_ipyw, top=y_bar_data_ipyw, color='green', width=0.5)
bar_chart_interactive.y_range=Range1d(0, 18)

# function - bar chart
def filter(word):
        if word == 'emergency': 
            alarm_count = []
            alarm_count = df[df.Description.str.contains(word)].IdAlarm.value_counts().reset_index()
            alarm_count.columns = ['IdAlarm','Count']
            #alarm_count.sort_values(by = ""Count"", ascending = False)

        elif word == 'zone': 
            alarm_count = df[df.Description.str.contains(word)].IdAlarm.value_counts().reset_index()
            alarm_count.columns = ['IdAlarm','Count']
            #alarm_count.sort_values(by = ""Count"", ascending = False)



        push_notebook()


show(bar_chart_interactive, notebook_handle=True)

# interaction
ipywidgets.interact(filter, word=drop_down)
</code></pre>

<p>As of now, I a not able to plot the filtered graph and, then, I am not able to update the plotted graph.
Any suggestion?</p>

<p>EDIT:</p>

<p>A sample of my df:</p>

<p><a href=""https://i.stack.imgur.com/h205V.png"" rel=""nofollow noreferrer"">sample df</a></p>
",260,0,<python-3.x><pandas><bokeh><ipywidgets>,2020-04-01 18:31:25
60958518,Access the content from multiple uploaded files from ipywidgets FileUpload,"<p>I just now learning ipywidgets and working with them in Jupyter notebook Python 3. Basically, I'm trying to allow the user to upload multiple files using FileUpload(), then trying to access the content of those files so i can save each of them into the system. I got it working for just one file, but now I'm trying to make it an iterative thing so it can save all of them. </p>

<p>Here is my code to make the FileUpload</p>

<pre><code>from ipywidgets import FileUpload

upload = FileUpload(multiple=True)

upload
</code></pre>

<p>then i click the upload widget and upload two .txt files</p>

<p>I printed out what the <code>upload.value</code> looks like:</p>

<pre><code>{'test.txt': {'content': b'hi',
              'metadata': {'lastModified': 152266374855,
                           'name': 'test.txt',
                           'size': 17,
                           'type': 'text/plain'}},
'test2.txt': {'content': b'bye',
              'metadata': {'lastModified': 152266374855,
                           'name': 'test2.txt',
                           'size': 18,
                           'type': 'text/plain'}}}
</code></pre>

<p>the first code i wrote to save just one uploaded file worked and saved right into the Jupyter file system</p>

<pre><code>with open(""test.txt"", ""wb"") as fp:
     fp.write(upload.data[0])
</code></pre>

<p>then i attempted to iterate to do the same for two files (i've tried lots of things, forgive me as I'm not great with dictionaries)</p>

<pre><code>for files in upload.value:
     with open(file, ""wb"") as fp:
          fp.write(file['content'])
</code></pre>

<p>then i realized that that would only access the first key in the dictionary, which was the file name.</p>

<p>i also tried variations of:</p>

<pre><code>for elem in upload.value:
     with open (elem['metadata']['name'], 'wb') as file:
          file.write(elem['content'])
</code></pre>

<p>I attempted to do <code>for k,v</code> and add <code>.items()</code> after upload, but I got errors there too. I guess I just can't figure out how to access the values of each file in a for loop...Please let me know if you have any advice, thanks!</p>
",1139,2,<python><ipywidgets>,2020-03-31 19:36:19
60948197,Docker-compose jupyterhub issue,"<p>I have a docker-compose setup with the following setup:</p>

<pre><code>./
+-- .env
+-- docker-compose.yml
+-- jupyterhub/
| +-- Dockerfile
| +-- jupyter-config.py
+-- jupyterlab/
| +-- Dockerfile
+-- reverse-proxy/
+-- traefik.toml
</code></pre>

<p>I follow the recipe from opendreamkit.org and manage to get the system up and running. However, when I run the command docker-compose down and up again I get the following error:</p>

<blockquote>
  <p>*jupyterhub_hub <em>| [E 2020-03-31 08:28:38.108 JupyterHub user:477] Unhandled error starting tester1's server: The 'ip' trait of a Server
  instance must be a unicode string, but a value of None  was specified.</em></p>
</blockquote>

<p>I suspect it* has something to do with the following Message I get when I build the system:</p>

<pre><code>WARNING: The DOCKER_NETWORK_NAME variable is not set. Defaulting to a blank string.
</code></pre>

<p>But I was wondering if anyone could provide with me a workaround or explanation to why this error occur?
Thanks in advance for any help in the matter(during these Corona times)</p>

<p>edit: my file docker-compose.yml</p>

<pre><code>version: '3'

services:
  # Configuration for Hub+Proxy
  jupyterhub:
    build: jupyterhub                # Build the container from this folder.
    container_name: jupyterhub_hub   # The service will use this container name.
    volumes:                         # Give access to Docker socket.
      - /var/run/docker.sock:/var/run/docker.sock
    environment:                     # Env variables passed to the Hub process.
      DOCKER_JUPYTER_IMAGE: jupyterlab_img
      DOCKER_NETWORK_NAME: ${COMPOSE_PROJECT_NAME}_default
      HUB_IP: jupyterhub_hub
    labels:                          # Traefik configuration.
      - ""traefik.enable=true""
      - ""traefik.frontend.rule=Host:x.x.x.x""

  # Configuration for reverse proxy
  reverse-proxy:
        image: traefik
        ports:
                - ""80:80""
                - ""443:443""
                - ""8080:8080""
        volumes:
                - ./reverse-proxy/traefik.toml:/etc/traefik/traefik.toml
                - /var/run/docker.sock:/var/run/docker.sock
                - /etc/certs:/etc/certs

  # Configuration for the single-user servers
  jupyterlab:
    build: jupyterlab
    image: jupyterlab_img
    command: echo

volumes:
  jupyterhub_data:

networks:
  jupyter:
          #  internal:
</code></pre>
",1346,2,<docker><environment-variables><jupyterhub>,2020-03-31 10:15:13
60919828,Implementing ipywidget slider for time,"<p>I am trying to create a slider for time in Jupyter Notebook using ipywidgets. I would like to take the tabulated experimental data (see figure below) and control the value bounds with the help of a slider. The graph should be a force-displacement graph, evolving in time:</p>

<p><a href=""https://i.stack.imgur.com/y8Kcv.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/y8Kcv.png"" alt=""enter image description here""></a></p>

<p>This is my python code:</p>

<pre><code>from ipywidgets import IntSlider, interact, FloatSlider

u = fdat1['C_1_Weg_R4[mm]'].values
f = fdat1['C_1_Kraft_R4[kN]'].values
t = fdat1['S/No'].values

@interact(t = IntSlider(min = 0, max = max(fdat0['S/No'].values)))
def aa_(t):
    plt.plot(f[t],u[t])
    plt.grid()
    plt.xlabel(""force [kN]"")
    plt.ylabel(""displacement [mm]"")
    plt.title(""Load-displacement curve for \nexperiment"")

</code></pre>

<p>fdat1 is the name of the tabulated data. I have also considered using ""C_1_Zeit[s]"" column as my slider values, but these are not integer values. </p>

<p>The problem is that nothing gets plotted, but the slider works and the graph changes scale.</p>

<p>I have been searching online for some time now and would really appreciate some help.</p>

<p>Thank you in advance!</p>

<p><a href=""https://i.stack.imgur.com/blk5D.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/blk5D.png"" alt=""Tabulated experimental data""></a></p>

<p>Edit:</p>

<pre><code>from ipywidgets import IntSlider, interact, FloatSlider

import pandas as pd
import numpy as np
import matplotlib.pyplot as plt

df = pd.DataFrame.from_records(
    [np.linspace(0,30, num=30), np.linspace(0,20, num=30), ]).T

df.columns=['A', 'B']

@interact(t = IntSlider(min = 0, max = 21))
def aa_(t):
    plt.scatter(df['A'], df['B'])
    plt.grid()
    plt.xlabel(""force [kN]"")
    plt.ylabel(""displacement [mm]"")
    plt.title(""Load-displacement curve for \nexperiment"")
    plt.xlim(0, 30)
    plt.ylim(0, 30)
</code></pre>
",747,0,<python-3.x><ipywidgets>,2020-03-29 19:42:19
60879206,Is it possible that ipywidget does not display figures on jupyter notebook?,"<p>I tried to use ipywidget on jupyter notebook in two enviroments, but a figure couldn't be displayed in one of the enviroments.  </p>

<p>code is below;  </p>

<pre class=""lang-py prettyprint-override""><code>import numpy as np
import plotly.graph_objects as go
from ipywidgets import interact

xs=np.linspace(0, 6, 100)

fig = go.FigureWidget()
fig.add_scatter()

@interact(a=(1.0, 4.0, 0.01), b=(0, 10.0, 0.01), color=['red', 'green', 'blue'])
def update(a=3.6, b=4.3, color='blue'):
    with fig.batch_update():
        fig.data[0].x=xs
        fig.data[0].y=np.sin(a*xs-b)
        fig.data[0].line.color=color
fig

</code></pre>

<h2>Normal operating environment(displays two sliders, one box, and a figure.);</h2>

<ul>
<li>Python 3.6.8</li>
<li>ipywidgets 7.5.1</li>
<li>plotly 4.5.4</li>
<li>jupyter notebook 6.0.3</li>
</ul>

<h2>Abnormal operating environment(displays only two sliders and one box.);</h2>

<ul>
<li>Python 3.7.6</li>
<li>ipywidgets 7.5.1</li>
<li>plotly 4.5.4</li>
<li>jupyter notebook 6.0.2</li>
</ul>

<p>What are the possibilities in this situation about this problem?<br>
Is there any other information needed to solve it?　　</p>
",53,1,<python><python-3.x><jupyter-notebook><ipywidgets>,2020-03-27 02:35:36
60831364,Setting JupyterHub SameSite Cookie Attribute,"<p>I have jupyterhub(TLJH) running on my AWS. It is served on my site using an iframe. Since the latest chrome update, the ""SameSite"" cookie attribute is causing the following issue. The below image shows what I see in the Iframe</p>

<p><a href=""https://i.stack.imgur.com/qJuSw.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/qJuSw.png"" alt=""enter image description here""></a></p>

<p>Given below is the warning I get in my console:</p>

<blockquote>
  <p>A cookie associated with a cross-site resource at <a href=""http://www._____.com/"" rel=""nofollow noreferrer"">http://www._____.com/</a> was set without the <code>SameSite</code> attribute. A future release of Chrome will only deliver cookies with cross-site requests if they are set with <code>SameSite=None</code> and <code>Secure</code>. You can review cookies in developer tools under Application>Storage>Cookies and see more details at <a href=""https://www.chromestatus.com/feature/5088147346030592"" rel=""nofollow noreferrer"">https://www.chromestatus.com/feature/5088147346030592</a> and <a href=""https://www.chromestatus.com/feature/5633521622188032"" rel=""nofollow noreferrer"">https://www.chromestatus.com/feature/5633521622188032</a>.</p>
</blockquote>

<p>When I disable the SameSite attribute in chrome://flags/, the iframe loads perfect.</p>

<p>I understand that I need to edit my cookie settings to add {SameSite=None; Secure} somewhere in jupyterhub, but I don't know where.</p>
",1013,0,<cookies><jupyter><jupyterhub><samesite>,2020-03-24 12:47:35
60821946,Failed to download JupyterHub via helm,"<p>I am trying to download/install the jupyterhub helm chart.</p>

<pre><code>&gt; helm repo add jupyterhub https://jupyterhub.github.io/helm-chart/
""jupyterhub"" has been added to your repositories

&gt; helm repo update
Hang tight while we grab the latest from your chart repositories...
...Skip local chart repository
...Successfully got an update from the ""jupyterhub"" chart repository
...Successfully got an update from the ""stable"" chart repository
Update Complete. ⎈ Happy Helming!⎈

&gt; helm upgrade --install jhub jupyterhub/jupyterhub --namespace jhub --version=0.8.2 --values config.yaml
Error: failed to download ""jupyterhub/jupyterhub"" (hint: running `helm repo update` may help)
</code></pre>

<p>(trying <code>helm repo update</code> again does not work)</p>

<p>When I look at my repos, I can see jupyterhub:</p>

<pre><code>&gt; helm repo list
NAME        URL
stable      https://kubernetes-charts.storage.googleapis.com
local       http://127.0.0.1:8879/charts
jupyterhub  https://jupyterhub.github.io/helm-chart/
</code></pre>

<p>what am i missing? could it be upstream repo server issue?</p>
",406,0,<kubernetes-helm><jupyterhub>,2020-03-23 21:43:20
60816143,How to show output of toogle button in HMTL using ipywidgets?,"<p>Using jupyter notebook, the output of toggle button are working smoothly. However, when I save it as html. The HTML unable show the ouput of toggle button</p>

<p>Image below is the html format, the toggle button unable to show the output. But in jupyter its work fine.</p>

<p><a href=""https://i.stack.imgur.com/WMpST.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/WMpST.png"" alt=""enter image description here""></a></p>

<p>I'm using this code.</p>

<pre><code>import numpy as np
import pandas as pd
import matplotlib.pyplot as plt
import seaborn as sns
import ipywidgets as widgets
from IPython.display import display, Markdown, clear_output, HTML
from IPython.display import display
from ipywidgets.embed import embed_minimal_html

data=[[47,15,3,5,7],[33,13,4,7,2],[25,17,9,3,5]]
df = pd.DataFrame(data, columns=['VAR_A','VAR_B','VAR_C','VAR_D','VAR_E'])

toggle = widgets.ToggleButtons(options = df.columns, description = 'Variables:', button_style = '')
out = widgets.Output()

def toggle_plot(button):
    with out:
        if button['new']:
            out.clear_output()
            plt.ioff()
            ax=plt.gca()
            sns.barplot(x=toggle.value, data=df)
            display(ax.figure)
            plt.clf() 
        else:
            out.clear_output()

toggle.observe(toggle_plot, 'value')
display(toggle)
display(out)

embed_minimal_html('try.html', views=[toggle], title='try')
</code></pre>

<h1>I also tried to save using this two functions in jupyter notebook, but its save empty html.</h1>

<p><code>!jupyter nbconvert --to html --no-input try.ipynb</code></p>

<p><code>!jupyter nbconvert --to html --no-input --template basic --output try.html try.ipynb</code></p>

<p>I'm still exploring to use these widgets, but I'm stuck at here. </p>
",724,1,<python><html><jupyter-notebook><ipywidgets>,2020-03-23 15:04:09
60805251,Jupyter widgets clear_output() does not work,"<p>I was using the ipywidgets dropdown to create plots for the columns listed in the dropdown. I have two issues. Would any one help?</p>

<ol>
<li><p>I used the clear_ouput() to clear out the graph before the next selection. But it did not work;</p></li>
<li><p>When I first time clicked the first item in the dropdown list (""quarter""), it did not response (No graph showed). I have to select other items first before I can generate the graph for ""quarter"".</p></li>
</ol>

<p>Thanks a lot!</p>

<pre><code>import pandas as pd
import numpy as np
import seaborn as sns
import matplotlib.pyplot as plt
import ipywidgets as ipw

url = ""https://data.london.gov.uk/download/number-international-visitors-london/b1e0f953-4c8a-4b45-95f5-e0d143d5641e/international-visitors-london-raw.csv""
df_london = pd.read_csv(url)

dropdown_Col = ipw.Dropdown(options = ['quarter', 'market', 'dur_stay', 'mode'], description='Sel Col NM:')

output = ipw.Output()

def Col_Sel(ColNm):
    output.clear_output()

    with output:
        sns.set_style(""whitegrid"")
        sns.relplot(x=ColNm, y='visits', data=df_london, kind='line', ci=None) 

def dropdown_Col_eventhandler(change):
    Col_Sel(change.new)    

dropdown_Col.observe(dropdown_Col_eventhandler, names='value')

display(dropdown_Col)
display(output)
</code></pre>
",549,0,<python><jupyter><ipywidgets>,2020-03-22 21:35:38
60790503,How to check the version of JupyterHub from command line?,"<p>Maybe this question sounds basic, but how to check from a command line <strong>what is the version of my JupyterHub</strong>? I am running JupyterLab on JupyterHub. I was grepping various configs, helps and now I know what's the version of all the components apart from <strong>JupyterHub</strong>. It'd be great to know how I could do it from the command line. Thanks!</p>
",518,0,<jupyter><jupyter-lab><jupyterhub>,2020-03-21 16:45:56
60772023,Jupyter PDF via LaTeX - TeXLive installation incomplete,"<p>Context: Notebooks on a Jupyter Litlest Hub</p>

<p>When I want to download as <strong><em>'pdf via LaTeX'</em></strong>, I get the following error ...</p>

<blockquote>
<pre><code>nbconvert failed: PDF creating failed, captured latex output:
Failed to run ""['xelatex', './notebook.tex', '-quiet']"" command:
This is XeTeX, Version 3.14159265-2.6-0.99998 (TeX Live 2017/Debian) (preloaded format=xelatex)
 restricted \write18 enabled. kpathsea: Running mktexfmt xelatex.fmt
Can't locate mktexlsr.pl in @INC (@INC contains: /opt/tljh/user/share/tlpkg /opt/tljh/user/share/texmf-dist/scripts/texlive /opt/tljh/user/lib/site_perl/5.26.2/x86_64-linux-thread-multi /opt/tljh/user/lib/site_perl/5.26.2 /opt/tljh/user/lib/5.26.2/x86_64-linux-thread-multi /opt/tljh/user/lib/5.26.2 .) at /opt/tljh/user/bin/mktexfmt line 23.
BEGIN failed--compilation aborted at /opt/tljh/user/bin/mktexfmt line 25.
I can't find the format file `xelatex.fmt'! 
</code></pre>
</blockquote>

<p>To resolve missing elements, I tried <code>sudo -E fmtutil-sys --all</code></p>

<p>Unfortunately, I then get the following message in the terminal.</p>

<blockquote>
<pre><code>Can't locate mktexlsr.pl in @INC (@INC contains: /opt/tljh/user/share/tlpkg/opt/tljh/user/share/texmf-dist/scripts/texlive /opt/tljh/user/lib/site_perl/5.26.2/x86_64-linux-thread-multi /opt/tljh/user/lib/site_perl/5.26.2 /opt/tljh/user/lib/5.26.2/x86_64-linux-thread-multi /opt/tljh/user/lib/5.26.2 .) at /opt/tljh/user/bin/fmtutil line 23.
BEGIN failed--compilation aborted at /opt/tljh/user/bin/fmtutil line 25.
</code></pre>
</blockquote>

<p>Furthermore, tried <code>sudo apt-get upgrade texlive</code>
and then I get the message that there were some problems, but I have no idea how to resolve this.</p>

<blockquote>
<pre><code>Errors were encountered while processing:
 texlive-base
 texlive-fonts-recommended
 texlive-plain-generic
 texlive
 texlive-generic-recommended
 texlive-xetex
 texlive-latex-base
 texlive-latex-recommended
 texlive-latex-extra
 texlive-pictures
 tipa
 cm-super
 cm-super-minimal
</code></pre>
</blockquote>

<p>Has anybody encountered these specific errors?</p>

<p>Is anybody using a Jupyter Litlest Hub whereby '<strong>download pdf via LaTeX</strong>' is working? If so, which packages were installed?</p>
",924,2,<jupyter-notebook><latex><jupyterhub>,2020-03-20 10:03:00
60753029,How to display an image in a HTML widget in voila,"<p>I want to display an image in an HTML ipywidget rendered in <a href=""https://github.com/voila-dashboards/voila"" rel=""nofollow noreferrer"">voila</a>. This code works in jupyter notebooks:</p>

<pre><code>import ipywidgets as widget

img =  widget.HTML('&lt;div id=""img"" style=""float:left""&gt;'
                    '&lt;img style=""vertical-align:middle"" src=""static/test_image.jpg"" alt=""""&gt;'                       
                    '&lt;/div&gt;')
img
</code></pre>

<p>But voila does not find the static file. It is displayed as a broken image. </p>
",1093,2,<html><python-3.x><ipywidgets><voila>,2020-03-19 08:01:35
60752595,Jupyterhub On Kubernetes with GPU Worker Nodes,"<p>I have currently facing two-issue with JuypterHub. </p>

<p>First, I have a deployed Juypterhub on IBM kubernetes Services. I have a bare metal in my cluster with one GPU (Nvidia K80). When running Juypterhub and I check for how much GPU is being consumed (I run nvidia-smi command) it tells me that it is 94% consumed though I am not running any workload on that can consume that many resources. Is there a way to resolve this.</p>

<p>Second, is there a way we can have multi-users to use the same GPU on the node? I mean can I scale JuypterHub to use the one GPU resources.</p>
",267,0,<kubernetes><jupyterhub>,2020-03-19 07:24:40
60748117,Specify memory allocation in JupyterHub?,"<p>We deploy JupyterHub to Kubernetes (specifically, AWS managed kubernetes “EKS”)
We deploy it via helm.
We run version 0.8.2 of JupyterHub.</p>

<p>We want to know:</p>

<p>(1) What is the default memory allocation for notebook servers?</p>

<p>(2) Is it possible to increase it? How?</p>

<p>For reference, this is our helm chart:</p>

<pre><code>auth:
  admin:
    access: true
    users:
      - REDACTED
  type: github
  github:
    clientId: ""REDACTED""
    clientSecret: ""REDACTED""
    callbackUrl: ""REDACTED""
    org_whitelist:
      - ""REDACTED""
  scopes:
    - read:org

singleuser:
  image:
    # Get the latest image tag at:
    # https://hub.docker.com/r/jupyter/datascience-notebook/tags/
    # Inspect the Dockerfile at:
    # https://github.com/jupyter/docker-stacks/tree/master/datascience-notebook/Dockerfile
    # name: jupyter/datascience-notebook
    # tag: 177037d09156
    name: REDACTED
    tag: REDACTED
    pullPolicy: Always
  storage:
    capacity: 32Gi

  lifecycleHooks:
    postStart:
      exec:
        command: [""/bin/sh"", ""-c"", ""touch ~/.env &amp;&amp; chmod 777 ~/.env""]

hub:
  # cookie_max_age_days - determines how long we keep the github
  # cookie in the hub server (in days).
  # cull_idle_servers time out - determines how long it takes before
  # we kick out an inactive user and shut down their user server.
  extraConfig: |
    import sys
    c.JupyterHub.cookie_max_age_days = 2
    c.JupyterHub.services = [
        {
            ""name"": ""cull-idle"",
            ""admin"": True,
            ""command"": [sys.executable, ""/usr/local/bin/cull_idle_servers.py"", ""--timeout=3600""],
        }
    ]
</code></pre>
",569,1,<kubernetes><jupyter-notebook><kubernetes-helm><jupyterhub>,2020-03-18 22:02:11
60718631,Generic authentication responds with HTTP/500 on authorisation jupyterHub,"<pre><code>Generic authentication fails following oAuth2 authorisation, and produces an uncontextualised and unhandled HTTP/500 error.

Context
The hub and the authentication servers are run on separate Docker containers. They are both served through Nginx, which itself is housed on a a container that is independent of the two servers.

The hub runs on a subdomain, and all proxies are handled by Nginx.

The authorization is handled through the Spring oauth 

The authentication server has been tested separately and is fully operational.
</code></pre>

<p>Hub server logs </p>

<pre><code>[JupyterHub] [INFO] [302 GET /hub/oauth_login?next= -&gt; http://localhost/oauth2/authorize/?redirect_uri=http%3A%2F%2Flab.localhost%2Fhub%2Foauth_callback&amp;client_id=[secret]&amp;response_type=code&amp;state=[secret] (@XXX.XXX.XXX.XXX) 1.87ms]

[JupyterHub] [ERROR] [Uncaught exception GET /hub/oauth_callback?code=[secret]&amp;state=[secret] (XXX.XXX.XXX.XXX)
    HTTPServerRequest(protocol='http', host='lab.localhost', method='GET', uri='/hub/oauth_callback?code=[secret]&amp;state=[secret]', version='HTTP/1.1', remote_ip='XXX.XXX.XXX.XXX')]
    Traceback (most recent call last):
      File ""[...]/tornado/web.py"", line 1543, in _execute
        result = yield result
      File ""[...]/oauthenticator/oauth2.py"", line 182, in get
        user = yield self.login_user()
      File ""[...]/jupyterhub/handlers/base.py"", line 473, in login_user
        authenticated = await self.authenticate(data)
      File ""[...]/jupyterhub/auth.py"", line 257, in get_authenticated_user
        authenticated = await maybe_future(self.authenticate(handler, data))
      File ""[...]/oauthenticator/generic.py"", line 116, in authenticate
        resp = yield http_client.fetch(req)
    tornado.curl_httpclient.CurlError: HTTP 599: Failed to connect to localhost port 80: Connection refused

[JupyterHub] [DEBUG] [No template for 500]

[JupyterHub] [ERROR] [{
      ""X-Forwarded-Host"": ""lab.localhost"",
      ""X-Forwarded-Proto"": ""http"",
      ""X-Forwarded-Port"": ""80"",
      ""Cookie"": ""oauthenticator-state=[secret]:oauthenticator-state|120:[secret]"""",
      ""Accept-Language"": ""en-GB,en-US;q=0.9,en;q=0.8"",
      ""Accept-Encoding"": ""gzip, deflate, br"",
      ""Referer"": ""http://localhost/oauth2/authorize/?redirect_uri=http%3A%2F%2Flab.localhost%2Fhub%2Foauth_callback&amp;client_id=[secret]&amp;response_type=code&amp;state=[secret]"",
      ""Accept"": ""text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8"",
      ""User-Agent"": ""Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.106 Safari/537.36 OPR/55.0.2994.37"",
      ""Upgrade-Insecure-Requests"": ""1"",
      ""Cache-Control"": ""max-age=0"",
      ""Connection"": ""close"",
      ""X-Nginx-Proxy"": ""true"",
      ""X-Forwarded-For"": ""XXX.XXX.XXX.XXX,::XXXX:XXXX.XXXX.XXX.XXX"",
      ""X-Real-Ip"": ""XXX.XXX.XXX.XXX.1"",
      ""Host"": ""lab.localhost""
    }]

[JupyterHub] [ERROR] [500 GET /hub/oauth_callback?code=[secret]&amp;state=[secret] (@XXX.XXX.XXX.XXX)
</code></pre>

<p>The hub server never gets past the authorisation for it to start dealing with the token and user data. You see, this error occurs when the hub server tries to resolve the callback by the authentication server, not when requesting the token. The GET request is that which follows the authorisation in the auth server. That's what makes this quite bizarre.</p>
",264,0,<oauth-2.0><jupyterhub>,2020-03-17 08:22:20
60716545,How do I reset the outputs generated from my ipywidget command button so that only the updated DataFrame is displayed?,"<p>Sorry for the potentially confusing phrasing of my question. Essentially, I am trying to make it so that every time I press the 'Add Data' command button there is only one DataFrame displayed. The one that should be displayed is the DF that is modified when the button is pressed. Currently, though, it will append the output with the recently modified DF, on top of the older versions that were created from earlier clicks of the button.</p>

<p><a href=""https://i.stack.imgur.com/wfCRH.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/wfCRH.png"" alt=""All Widgets""></a>
<a href=""https://i.stack.imgur.com/LFnhd.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/LFnhd.png"" alt=""All Outputs""></a></p>

<p>I'm using this code as part of a larger program for performing Monte Carlo simulations and back testing. My goal for these widgets is to input all the option positions I take on certain assets. That way, I can have a consolidated DF of my positions to speed up my analysis in later sections of this program and be available for other programs. The 'Add Data' button will input the values of the other widgets into a dictionary and concat that dictionary with the existing portfolio DF (which is saved in a CSV file).</p>

<p>I believe my problem is caused by me not properly utilizing the ipywidget Output() function, but have not been able to find a workable solution to my problem.</p>

<p>Also, I am writing in a <strong>Jupyter Notebook</strong>. </p>

<pre><code>import pandas as pd
import datetime
from datetime import *
import ipywidgets as widgets
from ipywidgets import *

############################################## The following section is usually in a seperate cell so I can 
df = {                                       # refresh my portfolio every day, but still add to the DF throughout the day
    'Datetime' : [],
    'Expire' : [],
    'Type' : [],
    'Quantity' : [],
    'Strike' : [],
    'Spot' : []
}

df = pd.DataFrame(df)
df.to_csv(""portfolio.csv"", index=False)
##############################################


Type = widgets.Dropdown(
    options = ['Call', 'Put'],
    value = 'Call',
    description= 'Select Binary Type',
    disabled=False,
    layout={'width': 'max-content'},
    style={'description_width': 'max-content'}
)

Quantity = widgets.BoundedIntText(value=1,
    min=1,
    max=10,
    step=1,
    description='Quantity:',
    disabled=False,
    layout={'width': 'max-content'},
    style={'description_width': 'max-content'}
)

Strike = widgets.BoundedIntText(
    min=1500,
    max=3500,
    step=1,
    description='Strike:',
    disabled=False,
    layout={'width': 'max-content'},
    style={'description_width': 'max-content'}
)

Spot = widgets.BoundedIntText(
    min=1500,
    max=3500,
    step=1,
    description='Spot:',
    disabled=False,
    layout={'width': 'max-content'},
    style={'description_width': 'max-content'}    
)


Add = widgets.Button(description=""Add Data"")
out = Output()

def add_on_click(b):

    dt = datetime.now()
    option = Type.value
    quant = Quantity.value
    strike = Strike.value
    spot = Spot.value

    df = pd.read_csv(""portfolio.csv"")
    now = datetime.now()

    add = {
        'Datetime' : dt,
        'Expire' : datetime(now.year, now.month, now.day, 14, 15,0,1),
        'Type' : option,
        'Quantity': quant,
        'Strike' : strike,
        'Spot': spot
    }

    add = pd.DataFrame(add, index=[0])

    df = pd.concat([df, add],sort=True) #ignore_index=True)
    df.to_csv(""portfolio.csv"", index=False)

    display(df, out)


Add.on_click(add_on_click)

items = [Type, Quantity, Strike, Spot, Add]

box_layout = Layout(display='flex',
                    flex_flow='row',
                    align_items='stretch',
                    width='100%')

box_auto = Box(children=items, layout=box_layout)

display_widgets = VBox([box_auto])
display_widgets
</code></pre>
",1042,2,<python><pandas><ipywidgets>,2020-03-17 05:09:05
60675578,Dockerfile build fails all of a sudden,"<p>I'm trying to resolve build problems when running commands to build below <code>dockerfile</code>,
errors for example I get:<br>
1.</p>

<pre><code>/bin/sh: 1: /opt/conda/bin/pip: not found
The command '/bin/sh -c wget -q https://repo.continuum.io/miniconda/Miniconda3-4.2.12-Linux-x86_64.sh -O /tmp/miniconda.sh  &amp;&amp;     echo 'd0c7c71cc5659e54ab51f2005a8d96f3 */tmp/miniconda.sh' | md5sum -c - &amp;&amp;     bash /tmp/miniconda.sh -f -b -p /opt/conda &amp;&amp;     /opt/conda/bin/conda install --yes -c conda-forge       python=3.5 sqlalchemy tornado jinja2 traitlets requests pip pycurl       nodejs configurable-http-proxy &amp;&amp;     /opt/conda/bin/pip install --upgrade pip &amp;&amp;     rm /tmp/miniconda.sh' returned a non-zero code: 127
</code></pre>

<p>2.
  When trying to comment the problematic part we get another issue with <code>npm</code> such as:
  <code>/bin/sh: 1: npm: not found</code></p>

<p>Any idea what's going on here?</p>

<p><strong>Dockerfile</strong></p>

<pre><code># Copyright (c) Jupyter Development Team.
# Distributed under the terms of the Modified BSD License.

FROM debian:jessie
MAINTAINER Jupyter Project &lt;jupyter@googlegroups.com&gt;

# install nodejs, utf8 locale, set CDN because default httpredir is unreliable
ENV DEBIAN_FRONTEND noninteractive
RUN REPO=http://cdn-fastly.deb.debian.org &amp;&amp; \
    echo ""deb $REPO/debian jessie main\ndeb $REPO/debian-security jessie/updates main"" &gt; /etc/apt/sources.list &amp;&amp; \
    apt-get -y update &amp;&amp; \
    apt-get -y upgrade &amp;&amp; \
    apt-get -y install wget locales git bzip2 &amp;&amp;\
    /usr/sbin/update-locale LANG=C.UTF-8 &amp;&amp; \
    locale-gen C.UTF-8 &amp;&amp; \
    apt-get remove -y locales &amp;&amp; \
    apt-get clean &amp;&amp; \
    rm -rf /var/lib/apt/lists/*
ENV LANG C.UTF-8

# install Python + NodeJS with conda
RUN wget -q https://repo.continuum.io/miniconda/Miniconda3-4.2.12-Linux-x86_64.sh -O /tmp/miniconda.sh  &amp;&amp; \
    echo 'd0c7c71cc5659e54ab51f2005a8d96f3 */tmp/miniconda.sh' | md5sum -c - &amp;&amp; \
    bash /tmp/miniconda.sh -f -b -p /opt/conda &amp;&amp; \
    /opt/conda/bin/conda install --yes -c conda-forge \
      python=3.5 sqlalchemy tornado jinja2 traitlets requests pip pycurl \
      nodejs configurable-http-proxy &amp;&amp; \
    /opt/conda/bin/pip install --upgrade pip &amp;&amp; \
    rm /tmp/miniconda.sh
ENV PATH=/opt/conda/bin:$PATH

EXPOSE 8000

RUN mkdir -p /src/jupyterhub
WORKDIR /src/jupyterhub

ADD . /src/jupyterhub


RUN npm install --unsafe-perm &amp;&amp; \
    pip install . &amp;&amp; \
    rm -rf $PWD ~/.cache ~/.npm

ADD . /src/jupyterhub        
LABEL org.jupyter.service=""jupyterhub""

CMD [""jupyterhub""]
</code></pre>
",123,0,<linux><docker><dockerfile><jupyterhub><docker-build>,2020-03-13 18:29:45
60650610,AWS Congito Authentication with JupyterNotebook,"<p>I am trying to authenticate my jupyter notebook with aws cognito by following the steps mention at </p>

<p><a href=""http://tljh.jupyter.org/en/latest/howto/auth/awscognito.html#create-an-aws-cognito-application"" rel=""nofollow noreferrer"">http://tljh.jupyter.org/en/latest/howto/auth/awscognito.html#create-an-aws-cognito-application</a></p>

<p>however on reloading the configuration , its not working as expected. On making the default changes to authenticate using FirstUseAuthenticator it works fine.</p>

<p>Can some one help me in resolving this issue</p>
",368,1,<amazon-web-services><amazon-cognito><jupyterhub>,2020-03-12 08:59:13
60644245,Show last output of ipywidget Output widget,"<p>I am using ipywidget's 'Output' widget.  As text is sent to it, scrollbars appear as the amount exceeds what can be shown.  At that point, only the first lines of text are shown.  Instead, as new text is added, I want it to auto-scroll such that the last line printed is always shown.</p>

<p>The current behavior:
<a href=""https://i.stack.imgur.com/7YNK6.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/7YNK6.png"" alt=""enter image description here""></a>
How can I make the last line of output displayed as it is printed?</p>
",280,0,<jupyter-lab><ipywidgets>,2020-03-11 20:48:15
60640375,Displaying gifs in jupyter notebook using widgets,"<p>How do you use python widgets to display gifs in a jupyeter notebook. </p>

<p>I have tried:</p>

<pre><code>gif_box = widgets.Image(""sample.gif"")
</code></pre>

<p>or </p>

<pre><code>gif_box = widgets.Video(""sample.gif"")
</code></pre>

<p>but receiver error:</p>

<pre><code>TypeError: __init__() takes 1 positional argument but 2 were given
</code></pre>

<p>Regardless of what I try it won't work  </p>
",706,2,<python><jupyter-notebook><ipywidgets>,2020-03-11 16:18:20
60625718,Pyspark kernel doesnt start on Jupyterhub,"<p>The Jupyterhub Pyspark kernel used to work very well but now will not start or will have Kernel connected status (doesnt go to idle) but will not run any code in cells. It is using localprocess spawner with PAM auth on Centos.In the jupyterhub logs we see these messages: </p>

<pre><code>[I 2020-03-10 15:13:08.644 SingleUserNotebookApp restarter:110] KernelRestarter: restarting kernel (4/5), new random ports
Assertion failed: rc == 0 (src/socket_poller.cpp:41)
[W 2020-03-10 15:13:11.666 SingleUserNotebookApp restarter:100] KernelRestarter: restart failed
[W 2020-03-10 15:13:11.666 SingleUserNotebookApp kernelmanager:127] Kernel 0148c77d-143a-4721-90e7-0d9a41a878c4 died, removing from map.
</code></pre>

<p>Any thoughts?</p>
",62,0,<pyspark><jupyterhub>,2020-03-10 20:48:52
60607381,create an observe handler for multiple ipywidgets,"<p>I have to create a collection of buttons dynamically based on lists of words.
I create them with a class.
Then I have to dynamically see how many of them are clicked by the user and act accordingly (get the collection of clicked buttons per column).</p>

<p>My problem is how to deal with the event handlers.
I can not make my mind around as how to deal collectively with all the buttons created. I basically need a listener that every time a change happens looks how many buttons are clicked and of course click and unclick the corresponding buttons.</p>

<p>This is so far my code:</p>

<pre><code>class verticalButtons():

def __init__(self,concepts):
    self.verticalbuttons = self.create_buttons(concepts)

def create_buttons(self,concepts):
    import ipywidgets
    wd_buttons = []
    for i,concept in enumerate(concepts):
        newbutton = ipywidgets.Button(description=concept,
                                     button_style='success')
        wd_buttons.append(newbutton)

    verticalbox = VBox(wd_buttons)
    return verticalbox
</code></pre>

<p>basically passing a list of words to the class creates a VBox with the buttons.</p>

<pre><code>mylist1 = ['1first','1second','1third']
mylist2 = ['2first','2second','2third','2fourth']
one = verticalButtons(mylist1)
two = verticalButtons(mylist2)
button_columns = widgets.HBox([one.verticalbuttons,two.verticalbuttons])
display(button_columns)
</code></pre>

<p>the result is as follows:
<a href=""https://i.stack.imgur.com/CN9Lb.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/CN9Lb.png"" alt=""enter image description here""></a></p>

<p>Some idea? I don't even need the code, but just kind of the idea how to deal with it.</p>

<p>thanks.</p>
",570,2,<jupyter-notebook><ipywidgets><voila>,2020-03-09 19:46:08
60585510,Retain order in select multiple ipywidgets,"<p>I have a SelectMultiple IpyWidgets.</p>

<pre><code>import ipywidgets as widgets
d = widgets.SelectMultiple(
options=['Apples', 'Oranges', 'Pears',""Mango""],
#rows=10,
description='Fruits',
disabled=False
)
</code></pre>

<p>OP:</p>

<pre><code>print (list(d.value))
['Apples', 'Mango']
</code></pre>

<p>Irrespective of the order I select, the order in OP is always the same as in the order the list of options. For example, even if I <code>select Mango first and then Apple</code> the OP is still as given. </p>
",348,2,<jupyter-notebook><ipywidgets>,2020-03-08 07:51:49
60570318,Always send jupyterlab stdout to ipywidgets Output widget,"<p>I am using the following code in a particular jupyterlab cell</p>

<pre><code>from ipywidgets import Output
out = Output(layout={'border': '2px solid black', 'height': '150px', 'overflow_y': 'scroll'})
display(out)
with out:
    print(""hello"")
</code></pre>

<p>That nicely creates a ""textbox"" under my cell and the output of 'print' goes to it.</p>

<p><strong>I want all of my cells to behave this way</strong></p>

<p>Once I've instantiated <code>out</code>, I can create a context in every cell, but I'd like it such that every output that normally goes just under a cell will instead go into an Output ipywidget below its individual cell.</p>

<p>Is this possible?</p>
",87,1,<jupyter-lab><ipywidgets>,2020-03-06 19:17:40
60543496,How to restart the server in jupyter hub through command line?,"<p>I have an instance of Jupyter running in Jupyter hub where there was an option to start/restart server as shown below: 
<a href=""https://i.stack.imgur.com/IhMSd.png"" rel=""noreferrer""><img src=""https://i.stack.imgur.com/IhMSd.png"" alt=""enter image description here""></a></p>

<p>I then changed the theme using the command </p>

<pre><code>jt -t &lt;theme name&gt;
</code></pre>

<p>Now, I can't see the option to stop and restart my server in my home screen  <a href=""https://i.stack.imgur.com/iOJvG.png"" rel=""noreferrer""><img src=""https://i.stack.imgur.com/iOJvG.png"" alt=""enter image description here""></a></p>

<p>Somebody please help me where I can find this option? 
I typed the below command in Jupyter terminal and it doesn't work. </p>

<pre><code>jupyter notebook stop 8888
</code></pre>
",13486,5,<jupyter-notebook><jupyter><jupyter-lab><jupyterhub><jupyter-irkernel>,2020-03-05 10:41:33
60536390,Remote access Zero to JupyterHub over Ethernet with ingress in Kubernetes,"<p><strong>Context</strong></p>

<p>I installed <em>Kubernetes</em> on a bare-metal server (4 nodes) and deployed <em>Zero to JupyterHub</em> to it.
This works fine; I can correctly access the hub from the master-node.</p>

<p>Now I want to access the Hub on the server from an external computer via Ethernet. Therefore, I followed the <a href=""https://zero-to-jupyterhub.readthedocs.io/en/latest/administrator/advanced.html"" rel=""nofollow noreferrer"">official instructions</a> and installed <a href=""https://metallb.universe.tf/"" rel=""nofollow noreferrer"">MetalLB</a> in order to provide an external IP for my <em>proxy-public</em>-service (which correctly sets).<br>
Additionally, I installed the <a href=""https://github.com/kubernetes/ingress-nginx"" rel=""nofollow noreferrer"">nginx-ingress-controller</a> in order to be able to do an ingress, which also successfully gets an external IP (little hint: Use the <em>Helm</em>-chart; I couldn't get the service running when applying the other recommended steps).</p>

<p>Since I had a little trouble figuring out how to do this ingress, here is an example:</p>

<pre class=""lang-sh prettyprint-override""><code>kubectl apply -f ingress.yaml --namespace jhub

#ingress.yaml:
#apiVersion: networking.k8s.io/v1beta1
#kind: Ingress
#metadata:
#  name: jupyterhub-ingress
#  annotations:
#    nginx.ingress.kubernetes.io/rewrite-target: /$1
#spec:
#  rules:
#  - host: jupyterhub.cluster
#    http:
#      paths:
#      - path: /
#        backend:
#          serviceName: proxy-public
#          servicePort: 80
</code></pre>

<p>Anyhow, I cannot open the external IP <em>proxy-public</em> provides (meaning I'm inserting the external IP in my browser).</p>

<p><br>
<strong>Question</strong></p>

<p>How can I remotely access my JupyterHub over the external IP; what am I missing?</p>
",523,0,<kubernetes><kubernetes-ingress><nginx-ingress><jupyterhub>,2020-03-04 23:58:09
60530866,Unable to open open jupyter notebooks after adding virtual environment to conda. Why?,"<p>I have set a virtual environment called ""qiskit_env"" in conda, but I was unable to use it jupyter notebook, so I found <a href=""https://janakiev.com/blog/jupyter-virtual-envs/"" rel=""nofollow noreferrer"">this</a> website to help me set it all up. However, after running the following commands in order:</p>

<pre><code>pip install --user ipykernel
python -m ipykernel install --user --name=qiskit_env 
</code></pre>

<p>I am no longer unable to open any jupyter notebook, and get a message like this on the conda prompt:</p>

<pre><code>[I 16:33:44.203 NotebookApp] Creating new notebook in
[E 16:33:44.850 NotebookApp] Uncaught exception GET /notebooks/Untitled2.ipynb?kernel_name=python3 (::1)
    HTTPServerRequest(protocol='http', host='localhost:8888', method='GET', uri='/notebooks/Untitled2.ipynb?kernel_name=python3', version='HTTP/1.1', remote_ip='::1')
    Traceback (most recent call last):
      File ""C:\Users\duart\AppData\Roaming\Python\Python37\site-packages\tornado\web.py"", line 1701, in _execute
        result = method(*self.path_args, **self.path_kwargs)
      File ""C:\Users\duart\AppData\Roaming\Python\Python37\site-packages\tornado\web.py"", line 3178, in wrapper
        return method(self, *args, **kwargs)
      File ""C:\Users\duart\Anaconda3\lib\site-packages\notebook\notebook\handlers.py"", line 59, in get
        get_custom_frontend_exporters=get_custom_frontend_exporters
      File ""C:\Users\duart\Anaconda3\lib\site-packages\notebook\base\handlers.py"", line 462, in render_template
        return template.render(**ns)
      File ""C:\Users\duart\Anaconda3\lib\site-packages\jinja2\asyncsupport.py"", line 76, in render
        return original_render(self, *args, **kwargs)
      File ""C:\Users\duart\Anaconda3\lib\site-packages\jinja2\environment.py"", line 1008, in render
        return self.environment.handle_exception(exc_info, True)
      File ""C:\Users\duart\Anaconda3\lib\site-packages\jinja2\environment.py"", line 780, in handle_exception
        reraise(exc_type, exc_value, tb)
      File ""C:\Users\duart\Anaconda3\lib\site-packages\jinja2\_compat.py"", line 37, in reraise
        raise value.with_traceback(tb)
      File ""C:\Users\duart\Anaconda3\lib\site-packages\notebook\templates\notebook.html"", line 1, in top-level template code
        {% extends ""page.html"" %}
      File ""C:\Users\duart\Anaconda3\lib\site-packages\notebook\templates\page.html"", line 154, in top-level template code
        {% block header %}
      File ""C:\Users\duart\Anaconda3\lib\site-packages\notebook\templates\notebook.html"", line 120, in block ""header""
        {% for exporter in get_custom_frontend_exporters() %}
      File ""C:\Users\duart\Anaconda3\lib\site-packages\notebook\notebook\handlers.py"", line 24, in get_custom_frontend_exporters
        exporter = get_exporter(name)()
      File ""C:\Users\duart\AppData\Roaming\Python\Python37\site-packages\traitlets\traitlets.py"", line 958, in __new__
        inst.setup_instance(*args, **kwargs)
      File ""C:\Users\duart\AppData\Roaming\Python\Python37\site-packages\traitlets\traitlets.py"", line 986, in setup_instance
        super(HasTraits, self).setup_instance(*args, **kwargs)
      File ""C:\Users\duart\AppData\Roaming\Python\Python37\site-packages\traitlets\traitlets.py"", line 977, in setup_instance
        value.instance_init(self)
      File ""C:\Users\duart\AppData\Roaming\Python\Python37\site-packages\traitlets\traitlets.py"", line 1691, in instance_init
        self._resolve_classes()
      File ""C:\Users\duart\AppData\Roaming\Python\Python37\site-packages\traitlets\traitlets.py"", line 1696, in _resolve_classes
        self.klass = self._resolve_string(self.klass)
      File ""C:\Users\duart\AppData\Roaming\Python\Python37\site-packages\traitlets\traitlets.py"", line 1507, in _resolve_string
        return import_item(string)
      File ""C:\Users\duart\AppData\Roaming\Python\Python37\site-packages\traitlets\utils\importstring.py"", line 34, in import_item
        module = __import__(package, fromlist=[obj])
      File ""C:\Users\duart\Anaconda3\lib\site-packages\nbconvert\__init__.py"", line 7, in &lt;module&gt;
        from . import postprocessors
      File ""C:\Users\duart\Anaconda3\lib\site-packages\nbconvert\postprocessors\__init__.py"", line 5, in &lt;module&gt;
        from .serve import ServePostProcessor
      File ""C:\Users\duart\Anaconda3\lib\site-packages\nbconvert\postprocessors\serve.py"", line 19, in &lt;module&gt;
        class ProxyHandler(web.RequestHandler):
      File ""C:\Users\duart\Anaconda3\lib\site-packages\nbconvert\postprocessors\serve.py"", line 21, in ProxyHandler
        @web.asynchronous
    AttributeError: module 'tornado.web' has no attribute 'asynchronous'
[E 16:33:44.858 NotebookApp] {
      ""Host"": ""localhost:8888"",
      ""Connection"": ""keep-alive"",
      ""Upgrade-Insecure-Requests"": ""1"",
      ""User-Agent"": ""Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.122 Safari/537.36"",
      ""Sec-Fetch-Dest"": ""document"",
      ""Accept"": ""text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9"",
      ""Sec-Fetch-Site"": ""same-origin"",
      ""Sec-Fetch-Mode"": ""navigate"",
      ""Referer"": ""http://localhost:8888/tree"",
      ""Accept-Encoding"": ""gzip, deflate, br"",
      ""Accept-Language"": ""pt-PT,pt;q=0.9,en-US;q=0.8,en;q=0.7"",
      ""Cookie"": ""_xsrf=2|37d584c5|beb93776ffb29402f03c78a6a3b34c82|1583233584; username-localhost-8889=\""2|1:0|10:1583330621|23:username-localhost-8889|44:ZGE4YTNjODEzNTFiNDg5M2FkZGE1ZGFkY2MxZGM5YTE=|b83ea2d98b45e8584d417bc787e7bc80efb124fb5df074e93c7c87b64c60930a\""; username-localhost-8888=\""2|1:0|10:1583339616|23:username-localhost-8888|44:YWM2MjYxZmE1NDFjNDA3MzhlN2IyNTZlNzJmZjdmMWM=|9b6fd50722a6f64e923e47938c495dfbd7e8dea94f16bd9d7bd996ad3cc317e1\""""
    }
[E 16:33:44.861 NotebookApp] 500 GET /notebooks/Untitled2.ipynb?kernel_name=python3 (::1) 534.90ms referer=http://localhost:8888/tree
</code></pre>

<p>Also, while installing the ipykernel I got the following error:</p>

<pre><code>WARNING: The scripts jupyter-migrate.exe, jupyter-troubleshoot.exe and jupyter.exe are installed in 'C:\Users\duart\AppData\Roaming\Python\Python37\Scripts' which is not on PATH.
  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.
  WARNING: The scripts jupyter-kernel.exe, jupyter-kernelspec.exe and jupyter-run.exe are installed in 'C:\Users\duart\AppData\Roaming\Python\Python37\Scripts' which is not on PATH.
  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.
  WARNING: The script pygmentize.exe is installed in 'C:\Users\duart\AppData\Roaming\Python\Python37\Scripts' which is not on PATH.
  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.
  WARNING: The scripts iptest.exe, iptest3.exe, ipython.exe and ipython3.exe are installed in 'C:\Users\duart\AppData\Roaming\Python\Python37\Scripts' which is not on PATH.
  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.
</code></pre>

<p>Does someone know how to solve this?</p>
",415,1,<jupyter-notebook><virtualenv><jupyter-irkernel>,2020-03-04 16:42:27
60512417,Can JupyterHub Docker Spawner be configured to give different resource allocations to different users?,"<p>I am using <a href=""https://github.com/jupyterhub/dockerspawner"" rel=""nofollow noreferrer"">JupyterHub's Docker Spawner</a> to manage a Jupyter Notebook server for a set of users. The Docker Spawner allows setting resource allocations limits such as <code>cpu_limit</code> and <code>mem_limit</code>, but this configuration applies to all containers for all users. Is there any way to provide different resource allocations to different users when using this spawner?</p>
",205,1,<jupyter><jupyter-lab><jupyterhub>,2020-03-03 17:16:13
60491443,How to open the same notebook with different kernels,"<p>Is there a possibility to open the same notebook multiple times but each time with another kernel?
I have a problem where I open and run a notebook and whilst I do some calculations another user opens the same notebook. Changes to variables I made will have an effect on that users output and vice versa.</p>

<p>Is there a way to stop this from happening (eg. can you configure a notebook so that it always opens a new kernel?)</p>
",394,2,<python><jupyter-notebook><jupyter><jupyterhub>,2020-03-02 14:56:29
60486806,Fail to connect to tensorboard launched from jupyter notebook sprawned from jupyterhub,"<p>I follow the step to try to launch and connect to tensorboard on jupyterhub based jupyter notebook, I saw the tensorboard process but got connection timeout on notebook.</p>
",413,0,<tensorboard><jupyterhub>,2020-03-02 10:23:39
60460945,Traefik uses wrong frontend rule with Jupyterhub,"<p>Traefik uses a different frontend rule for Jupyterhub than the one that I specified as label. I set it to 'hub.domain.com' but traefik says rule found ""Host:jupyterhub.jupyterhub.domain.com"". There seems to be some overwriting going on. There is no label with ""Host:jupyterhub.jupyterhub.domain.com""</p>

<p>This is my Docker Compose:</p>

<pre><code>
version: '3'

services:
  jupyterhub:
    build: jupyterhub
    container_name: jupyterhub_hub
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock
    environment:
      DOCKER_JUPYTER_IMAGE: jupyterlab_img
      DOCKER_NETWORK_NAME: ${COMPOSE_PROJECT_NAME}_default
      OAUTH_CLIENT_ID: ${OAUTH_CLIENT_ID}
      OAUTH_CLIENT_SECRET: ${OAUTH_CLIENT_SECRET}
      OAUTH_CALLBACK_URL: ${OAUTH_CALLBACK_URL}
      HUB_IP: jupyterhub_hub
    labels:
      - ""traefik.enable=true""
      - ""treafik.frontend.rule=Host:${HOST}""
    volumes:
      - jupyterhub_data:/srv/jupyterhub

  traefik:
    image: traefik:1.7-alpine
    ports:
      - ""80:80""
      - ""443:443""
      - ""8080:8080""
    volumes:
      - /opt/appdata/traefik/traefik.toml:/etc/traefik/traefik.toml
      - /var/run/docker.sock:/var/run/docker.sock
      - /opt/appdata/traefik/acme.json:/etc/traefik/acme.json

  jupyterlab:
    build: jupyterlab
    image: jupyterlab_img
    command: echo

volumes:
  jupyterhub_data:

</code></pre>

<p>And this is my traefik.toml: </p>

<pre><code>debug = false

logLevel = ""ERROR""
defaultEntryPoints = [""https"",""http""]

[entryPoints]
  [entryPoints.http]
  address = "":80""
    [entryPoints.http.redirect]
    entryPoint = ""https""
  [entryPoints.https]
  address = "":443""
  [entryPoints.https.tls]

[retry]

[api]
dashboard = true
insecure = true

[docker]
endpoint = ""unix:///var/run/docker.sock""
domain = ""domain.com""
watch = true
exposedByDefault = false

[acme]
email = ""info@domain.com""
storage = ""acme.json""
entryPoint = ""https""
onHostRule = true
[acme.httpChallenge]
entryPoint = ""http""

</code></pre>
",204,0,<docker><docker-compose><frontend><traefik><jupyterhub>,2020-02-29 00:31:16
60390722,Azure Data Science VM Transfer File,"<p>I am trying to transfer files between azure data science VM Jupyterhub and local computer. Normally I can make it manually but I need to do it automatically.
The idea is uplaod images to Azure- use their GPU and download results.</p>

<p>I tried to use this code from Microsoft tutorial but getting error like <strong>the file doesn't exist</strong>:</p>

<p><code>scp ~/.azure/config azureuser@myserver.eastus.cloudapp.com:/home/azureuser/config</code></p>

<p>Microsoft tutorial:  <a href=""https://learn.microsoft.com/en-us/azure/virtual-machines/linux/copy-files-to-linux-vm-using-scp"" rel=""nofollow noreferrer"">https://learn.microsoft.com/en-us/azure/virtual-machines/linux/copy-files-to-linux-vm-using-scp</a></p>

<p>Manually:
<a href=""https://i.stack.imgur.com/Y3F7s.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/Y3F7s.png"" alt=""enter image description here""></a></p>
",74,0,<virtual-machine><azure-virtual-machine><jupyterhub>,2020-02-25 08:53:03
60363395,how to use interact from ipywidgets more effectively to plot the data?,"<p>As I am working on the data science assignment and I want to plot data visualization better so I come across the python interact. I had used the interact previously but here I am stuck in the following code.</p>

<pre class=""lang-py prettyprint-override""><code>import matplotlib.pyplot as plt
import numpy as np

def my_plot_2(t):
    j_theta_1T=[5.3148,4.0691,2.9895,2.076099,1.3287,0.74739,0.3321,0.08304,0,0.08304,0.3321,0.7473,1.3287,2.076099,2.9895,4.0691,5.3148]
    X_T=np.linspace(0,2,17)
    plt.figure(num=0, figsize=(6, 4), dpi=80, facecolor='w', edgecolor='k')
    plt.plot(X_T,j_theta_1T,'b',t,j_theta_1T[0],'ro')
    plt.title('hypothesis_fixed_theta_function_of_X',fontsize=12)
    plt.xlabel('theta_1',fontsize=12)
    plt.ylabel('J_theta_1',fontsize=12)
    plt.grid(which='both')
    plt.show()

my_plot_2(0)
</code></pre>

<p>This what the result of the code </p>

<p><a href=""https://i.stack.imgur.com/rpRkv.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/rpRkv.png"" alt=""enter image description here""></a></p>

<p>Here instead of <code>my_plot_2(0)</code> I want to use <code>interact(my_plot_2, t=(0,2,0.125))</code> to pass the multiple values for <code>t</code> and then use one by one value from <code>j_theta_1T</code> and use each pass value of <code>t</code> to plot the red dot point to trace the curve using the button created by <code>interact</code> from <code>ipywidgets</code>. </p>

<p>how should I pick up one by one value from <code>j_theta_1T</code>? </p>
",131,0,<python-3.x><matplotlib><interactive><ipywidgets><python-interactive>,2020-02-23 14:49:40
60329663,conda activate /data/jupyter/myenv fails in jupyterhub notebook,"<p>I created a new conda environment in a specific path using -p:
<code>$ conda create -p /data/jupyter/myenv</code></p>

<p>Now if I run in a <strong>Jupyterhub</strong> notebook:
<code>!source activate /data/jupyter/myenv</code></p>

<p>There are no errors in the Notebook output.</p>

<p>But then check the environments in the Notebook:
<code>!conda env list</code></p>

<p>I get:</p>

<pre><code># conda environments:
#
                         /data/jupyter/myenv
base                  *  /data/opt/anaconda3
</code></pre>

<p>I am unable to activate the myenv inside the Jupyter notebook. But if I run the same command inside a bash terminal then I can activate the new environment. I also did <code>!conda init bash</code> and tried <code>!source activate</code> and <code>!conda activate</code> in the Notebook with same results. How can I activate the new environment inside the Jupyterhub Notebook cell. Thanks! </p>
",120,0,<jupyter-notebook><anaconda><jupyter><conda><jupyterhub>,2020-02-20 22:47:25
60322146,How can the `_property_values` of an element of a bokeh `figure.renderers` be changed directly?,"<p>How can the <code>_property_values</code> of an element of a bokeh <code>figure.renderers</code> be changed directly? I learned that the lements of <code>renderers</code> have an id, so I expect to do something like <code>renderers['12345']</code>. But as it is a list (a PropertyValueList to be more precise), this doesn't work. Instead, the only solution I found is to iterate over the list, storing the correct element in a new pointer (?), modifying the pointer and thus modifying the original element.</p>

<p>Here is my toy example where a vertical line in a histogram is updated based on some widget's value:</p>

<pre><code>import hvplot.pandas
import ipywidgets as widgets
import numpy as np
from bokeh.io import push_notebook, show, output_notebook
from bokeh.models import Span
from bokeh.plotting import figure

%matplotlib inline

hist, edges = np.histogram([1, 2, 2])

p = figure()
r = p.quad(top=hist, bottom=0, left=edges[:-1], right=edges[1:])
vline = Span(location=0, dimension='height')
p.renderers.extend([vline])

def update_hist(x):    
    myspan = [x for x in p.renderers if x.id==vline.id][0]
    myspan._property_values['location'] = x
    show(p, notebook_handle=True)

widgets.interact(update_hist, x = widgets.FloatSlider(min=1, max=2))
</code></pre>
",87,0,<python-3.x><bokeh><updates><ipywidgets>,2020-02-20 14:25:04
60279188,Clear plots generated by ipywidgets.observe,"<p>I have an ipywidget that generates a plot each time the selection changes. Currently the plots are appended to each other; however, I would like to have only <em>one</em> plot (the latest). </p>

<pre><code>import ipywidgets as widgets 
import matplotlib.pyplot as plt
def f(change):
    if change['type'] == 'change' and change['name'] == 'value':
        plt.close('all')  # seems to have no effect
        plt.plot([0, 1],[0, 10])
        plt.title(change['new'])
        plt.show()

w = widgets.Select(options=[0, 1])
w.observe(f)
display(w)
</code></pre>

<p>I tried without success:</p>

<ul>
<li><a href=""https://stackoverflow.com/questions/33853801/how-do-i-close-all-pyplot-windows-including-ones-from-previous-script-execution"">using plt.close('all')</a></li>
<li><a href=""https://stackoverflow.com/questions/43220626/ipywidgets-matplotlib-cannot-clear-old-outputs"">splitting the code into two cells</a> (even if this seems not practical for the real application)</li>
</ul>

<p>Note: I'm not using <code>interactive</code> since <a href=""https://stackoverflow.com/questions/60260247/python-ipywidgets-how-to-find-out-which-parameter-changed-when-running-interac"">I do not want to run all functions when any parameter changes</a>.</p>
",782,0,<python-3.x><matplotlib><jupyter-notebook><ipywidgets>,2020-02-18 10:52:13
60263689,"add a constraint to ipywidgets.datepicker, only allow value between two dates","<p>I'm using the DatePicker widget from ipywidgets. I was wondering if I could set some constraints for the day the user picks. Would it be possible to limit the user to only pick a day between <code>datetime.date(2020, 2, 10)</code> and <code>datetime.date(2020, 2, 16)</code>?</p>

<p>Currently my code looks like this:</p>

<pre><code>dp = widgets.DatePicker(
    description='Pick a Date',
    disabled=False
)
</code></pre>

<p>Many thanks in advance</p>
",502,3,<python><datepicker><widget><ipywidgets>,2020-02-17 13:36:40
60257156,Not able to embed Jupyterlab running on Jupyterhub into an iframe,"<p>I am trying to integrate jupyterlab running with jupyterhub into an iframe. 
I made all the required changes in the configuration files.
In the jupyter_notebook_config.py I have made the following changes.</p>

<pre><code>c.NotebookApp.tornado_settings = {'headers': {
    'Access-Control-Allow-Origin': '*',
    'Content-Security-Policy': 'frame-ancestors http://localhost:9005'
  }}
</code></pre>

<p>while in the jupyterhub_config.py I have added the following</p>

<pre><code>c.JupyterHub.tornado_settings = {'headers': {
    'Access-Control-Allow-Origin': '*',
    'Content-Security-Policy': 'frame-ancestors http://localhost:9005'
  }}
</code></pre>

<p>But still, when I try to open <a href=""http://localhost:8002/user/admin/lab"" rel=""nofollow noreferrer"">http://localhost:8002/user/admin/lab</a> URL in the iframe I get the following error</p>

<p><code>Refused to display 'http://localhost:8002/user/admin/lab' in a frame because an ancestor violates the following Content Security Policy directive: ""frame-ancestors 'self'"".</code></p>

<p>Can someone let me know if I am missing something or is there an issue with my configuration?</p>
",2574,2,<jupyter-notebook><jupyter><jupyter-lab><jupyterhub>,2020-02-17 06:44:30
60255718,"Ipywidgets interact won't apply datepicker to DataFrame (""TypeError: 'DataFrame' object is not callable"")","<p>I'm building a jupyter notebook that uses some interactive widgets to help move through some dataframes.  My jupyter and python experience is limited, and most of my notebook so far is recreating consolidations and calculations I'd previously created in a series of Excel PivotTables.</p>

<p>The first try at an interactive widget worked ok.  It calls up the dataframe, with a sliding widget to limit returned rows by the result of a column (how many days was an assignment opened):</p>

<pre><code>from ipywidgets import interact, interactive, fixed, interact_manual
import ipywidgets as widgets
@interact
def days_open_widget(column='days_open', x=(0,2000,5)):
    return df.loc[df[column] &gt; x]
</code></pre>

<p>Next, I wanted to be able to separately explore the DataFrame using two datepickers to constrain the results by the date the assignment was created.  Parts of it are working, like the datepickers populate with the earliest and latest dates but they are not tied to the dataframe.  Here's the code:</p>

<pre><code>interact(df,
        start_date=widgets.DatePicker(value=df.assignment_creation_date.min()),
        end_date=widgets.DatePicker(value=df.assignment_creation_date.max()))
</code></pre>

<p>After Jupyter displays the datepickers, it follows up with the following error, then displays the unfiltered dataframe.</p>

<pre><code>TypeError                                 Traceback (most recent call last)
C:\ProgramData\Anaconda3\lib\site-packages\ipywidgets\widgets\interaction.py in update(self, *args)
    254                     value = widget.get_interact_value()
    255                     self.kwargs[widget._kwarg] = value
--&gt; 256                 self.result = self.f(**self.kwargs)
    257                 show_inline_matplotlib_plots()
    258                 if self.auto_display and self.result is not None:

TypeError: 'DataFrame' object is not callable
</code></pre>

<p>I'm not sure what I'm missing.  I'm not sure why trying to access the DataFrame is giving me an ""object is not callable"" error when I accessed it earlier, or why the DatePickers successfully read the DataFrame column, but then disconnect.</p>

<p>The behavior I'm trying to create would call the entire dataframe, but let me filter the resulting rows between dates selected from the datepicker.  What am I missing?</p>

<p>Edit: I know the code is messy and in hindsight, I don't think I should be importing interact, interactive, fixed, interact_manual separately and then be importing all of ipywidgets.</p>

<p>Edit 2: I couldn't get AC24's solution to work, but I think that's more to do with my own inability to properly define a function that filtered the dataframe.  I ended up finding QGrid instead, which has a datepicker along with other filters.</p>

<p>More info on QGrid at <a href=""https://qgrid.readthedocs.io/en/latest/"" rel=""nofollow noreferrer"">https://qgrid.readthedocs.io/en/latest/</a> but if anyone has a more explicit description for how to define the function to pass the dataframe as an function please feel free to add it.</p>
",977,0,<python><pandas><dataframe><datepicker><ipywidgets>,2020-02-17 03:51:13
60236345,"IPython: ipywidgets bug - Code working on Goolge Colab, but not on Jupyter Notebook (tested on 2 different PCs)?","<p>This code is a ""Filter as you type"" textbox example. It works fine on Google Colab, but not on Jupyter Notebook. I tried it on 2 different computers (and on 2 different browsers) that have Jupyter Notebook installed and the 'out' widget only displays the textbox but nothing else. Any idea how to fix this? </p>

<p>I have tried pip uninstall ipywidgets then install again without success.</p>

<p>Thanks.</p>

<pre><code>import pandas as pd, IPython.display, ipywidgets as widgets 
out = widgets.Output()


df = pd.DataFrame ({'PLAYER':['MOHAMED SALAH', 'MESSI', 'MO SALAH', 'RONALDO', 'PELE', 'PEPE', 'MANE', 'RAMREZ']})

textbox = widgets.Text(value='', description='Player:')
display(textbox)

def display_result(value):
    value = str(value['new']).upper() 
    if ""{"" not in value:
        result = df[(df['PLAYER'].str.contains(value))]  
        if result.shape[0]&gt;0:
            with out:
                out.clear_output()
                display(result)

display(out)
textbox.observe(display_result)
</code></pre>

<p>This is the output from Google Colab:</p>

<p><a href=""https://i.stack.imgur.com/MeORR.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/MeORR.png"" alt=""The first picture is from Google Colab output:""></a></p>

<p>This is the output from Jupyter Notebook:</p>

<p><a href=""https://i.stack.imgur.com/s6N4r.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/s6N4r.png"" alt=""enter image description here""></a></p>
",471,0,<jupyter-notebook><ipython><ipywidgets>,2020-02-15 06:13:08
60234730,How to make output ipywidget capture only stdout?,"<p>I wish to capture stdout output from a function so that when that function is called for the first time, its output will show in iPython notebook normally, but when it is called for a second time, its output will rewrite the previous output. (So that the previous output will be cleared and the new output shown on the same place)</p>

<p>I have achieved what I want using output ipywidget, though it also captures and clears stderr. Which, unfortunately, is unacceptable as I need to have the stderr output displayed when my program finishes.</p>

<p>Here is a minimal (not) working example of the code I have so far:</p>

<pre><code>import sys
from ipywidgets import widgets
from IPython.display import display, clear_output

# This function is in some library and cannot be changed
def black_box(iter):
    print('Some output to stdout {}.'.format(iter)) #This is supposed to be cleared on each function call
    sys.stderr.write('Some output to stderr {}.'.format(iter)) #This is NOT supposed to be cleared on each function call

print('Some other output that is not supposed to be cleared.')

output = widgets.Output()
display(output)

with output: # I need this to capture only stdout, not stderr ...
    black_box(1)

print('Some other output that is not supposed to be cleared.')

with output:
    clear_output() # ... so that this line clears only stdout, not stderr
    black_box(2)
</code></pre>

<p>The output looks like:</p>

<pre><code>Some other output that is not supposed to be cleared.
Some output to stdout 2.
Some output to stderr 2.
Some other output that is not supposed to be cleared.
</code></pre>

<p>What I wish the output to look like:</p>

<pre><code>Some other output that is not supposed to be cleared.
Some output to stdout 2.
Some output to stderr 1.
Some output to stderr 2.
Some other output that is not supposed to be cleared.
</code></pre>

<p>As you can see, the stderr output was also captured and cleared on the second function call. Does anyone know any way around this? Thank you.</p>
",683,0,<python-3.x><jupyter-lab><ipywidgets>,2020-02-14 23:34:26
60220709,"Jupyter Notebook Widgets: How to make ""Filter As You Type"" Textbox?","<p>I'm trying to make a ""filter as you type"" textbox widget in my Jupyter Notebook in which if I write M it displays all players with ""M""...if I type O after the M it displays players with ""MO"" in their name  (e.g. MOHAMED SALAH AND MO SALAH) and so on. The code below works quite well. The ONLY problem I'm having is that it keeps appending to the cell result...so if I write 3 letters it displays 3 tables. I want to clear the previous output so that I'd always have the latest result only. How can I do that?</p>

<pre><code>import pandas as pd, IPython.display, ipywidgets as widgets 
out = widgets.Output()
display(out)

df = pd.DataFrame ({'PLAYER':['MOHAMED SALAH', 'MESSI', 'MO SALAH', 'RONALDO']})
display(df)

textbox = widgets.Text(value='', description='Player:')
display(textbox)

def display_result(value):
    value = str(value['new']).upper() 
    if ""{"" not in value: 
        print(value)
        result = df[(df['PLAYER'].str.contains(value))]  
        if result.shape[0]&gt;0: display(result)


textbox.observe(display_result) 
</code></pre>

<p>Output:
<a href=""https://i.stack.imgur.com/qPh0d.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/qPh0d.png"" alt=""enter image description here""></a></p>
",1148,3,<python><jupyter-notebook><widget><jupyter><ipywidgets>,2020-02-14 05:49:03
60187732,JupyterHub singleuser not able to use tensorflow gpu support using systemdspawner,"<p>(<em>this is a crossposting to <a href=""https://stackoverflow.com/questions/60187732/jupyterhub-singleuser-not-able-to-use-tensorflow-gpu-support-using-systemdspawne"">SO</a>, the <a href=""https://github.com/jupyterhub/jupyterhub/issues/2927"" rel=""nofollow noreferrer"">jupyterhub issue tracker</a> and the <a href=""https://github.com/jupyterhub/systemdspawner/issues/67"" rel=""nofollow noreferrer"">jupyterhub/systemdspawner issue tracker</a></em>)</p>

<p>I have a private JupyterHub Setup using a <code>SystemdSpawner</code> where I try to run tensorflow with gpu support.</p>

<p>I followed the tensorflow <a href=""https://www.tensorflow.org/install/gpu"" rel=""nofollow noreferrer"">instructions</a> and alternatively tried a already provisioned AWS AMI (Deep Learning Base AMI (Ubuntu 18.04) Version 21.0) with NDVIDIA, both on AWS EC2 g4 instances.</p>

<p>On both setups I'm able to use tensorflow with gpu support in an (i)python 3.6 shell</p>

<pre><code>&gt;&gt;&gt; import tensorflow as tf
&gt;&gt;&gt; tf.config.list_physical_devices('GPU')
2020-02-12 10:57:13.670937: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcuda.so.1
2020-02-12 10:57:13.698230: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:981] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2020-02-12 10:57:13.699066: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1555] Found device 0 with properties:
pciBusID: 0000:00:1e.0 name: Tesla T4 computeCapability: 7.5
coreClock: 1.59GHz coreCount: 40 deviceMemorySize: 14.73GiB deviceMemoryBandwidth: 298.08GiB/s
2020-02-12 10:57:13.699286: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcudart.so.10.1
2020-02-12 10:57:13.700918: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcublas.so.10
2020-02-12 10:57:13.702512: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcufft.so.10
2020-02-12 10:57:13.702814: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcurand.so.10
2020-02-12 10:57:13.704561: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcusolver.so.10
2020-02-12 10:57:13.705586: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcusparse.so.10
2020-02-12 10:57:13.709171: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcudnn.so.7
2020-02-12 10:57:13.709278: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:981] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2020-02-12 10:57:13.710120: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:981] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2020-02-12 10:57:13.710893: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1697] Adding visible gpu devices: 0
[PhysicalDevice(name='/physical_device:GPU:0', device_type='GPU')]
</code></pre>

<p>(some warnings about NUMA node, but the gpu is found)</p>

<p>Also using <code>nvidia-smi</code> and <code>deviceQuery</code> shows the gpu:</p>

<pre><code>$ nvidia-smi
Wed Feb 12 10:39:44 2020
+-----------------------------------------------------------------------------+
| NVIDIA-SMI 418.87.01    Driver Version: 418.87.01    CUDA Version: 10.1     |
|-------------------------------+----------------------+----------------------+
| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |
| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |
|===============================+======================+======================|
|   0  Tesla T4            On   | 00000000:00:1E.0 Off |                    0 |
| N/A   33C    P8     9W /  70W |      0MiB / 15079MiB |      0%      Default |
+-------------------------------+----------------------+----------------------+

+-----------------------------------------------------------------------------+
| Processes:                                                       GPU Memory |
|  GPU       PID   Type   Process name                             Usage      |
|=============================================================================|
|  No running processes found                                                 |
+-----------------------------------------------------------------------------+
</code></pre>

<pre><code>$ /usr/local/cuda/extras/demo_suite/deviceQuery
/usr/local/cuda/extras/demo_suite/deviceQuery Starting...

 CUDA Device Query (Runtime API) version (CUDART static linking)

Detected 1 CUDA Capable device(s)

Device 0: ""Tesla T4""
  CUDA Driver Version / Runtime Version          10.1 / 10.0
  CUDA Capability Major/Minor version number:    7.5
  Total amount of global memory:                 15080 MBytes (15812263936 bytes)
  (40) Multiprocessors, ( 64) CUDA Cores/MP:     2560 CUDA Cores
  GPU Max Clock rate:                            1590 MHz (1.59 GHz)
  Memory Clock rate:                             5001 Mhz
  Memory Bus Width:                              256-bit
  L2 Cache Size:                                 4194304 bytes
  Maximum Texture Dimension Size (x,y,z)         1D=(131072), 2D=(131072, 65536), 3D=(16384, 16384, 16384)
  Maximum Layered 1D Texture Size, (num) layers  1D=(32768), 2048 layers
  Maximum Layered 2D Texture Size, (num) layers  2D=(32768, 32768), 2048 layers
  Total amount of constant memory:               65536 bytes
  Total amount of shared memory per block:       49152 bytes
  Total number of registers available per block: 65536
  Warp size:                                     32
  Maximum number of threads per multiprocessor:  1024
  Maximum number of threads per block:           1024
  Max dimension size of a thread block (x,y,z): (1024, 1024, 64)
  Max dimension size of a grid size    (x,y,z): (2147483647, 65535, 65535)
  Maximum memory pitch:                          2147483647 bytes
  Texture alignment:                             512 bytes
  Concurrent copy and kernel execution:          Yes with 3 copy engine(s)
  Run time limit on kernels:                     No
  Integrated GPU sharing Host Memory:            No
  Support host page-locked memory mapping:       Yes
  Alignment requirement for Surfaces:            Yes
  Device has ECC support:                        Enabled
  Device supports Unified Addressing (UVA):      Yes
  Device supports Compute Preemption:            Yes
  Supports Cooperative Kernel Launch:            Yes
  Supports MultiDevice Co-op Kernel Launch:      Yes
  Device PCI Domain ID / Bus ID / location ID:   0 / 0 / 30
  Compute Mode:
     &lt; Default (multiple host threads can use ::cudaSetDevice() with device simultaneously) &gt;

deviceQuery, CUDA Driver = CUDART, CUDA Driver Version = 10.1, CUDA Runtime Version = 10.0, NumDevs = 1, Device0 = Tesla T4
Result = PASS
</code></pre>

<p>Now I start the JupyterHub, login, and open a terminal, there I get:</p>

<pre><code>$ nvidia-smi
NVIDIA-SMI has failed because it couldn't communicate with the NVIDIA driver. Make sure that the latest NVIDIA driver is installed and running.
</code></pre>

<p>and </p>

<pre><code>$ /usr/local/cuda/extras/demo_suite/deviceQuery
cuda/extras/demo_suite/deviceQuery Starting...

 CUDA Device Query (Runtime API) version (CUDART static linking)

cudaGetDeviceCount returned 38
-&gt; no CUDA-capable device is detected
Result = FAIL
</code></pre>

<p>and also </p>

<p><img src=""https://user-images.githubusercontent.com/2505540/74329636-7a420d80-4d90-11ea-86e8-fdb3c5263c31.png"" alt=""Screenshot 2020-02-12 12 08 46""></p>

<p>I suspect some kind of ""sandbox"", missing ENV vars, etc. due to that the gpu drivers are not found inside the singleuser environment and subsequently the tensorflow gpu support does not work.</p>

<p>Any ideas on this? Probably it is either a small configuration tweak or due to the architecture not solvable at all ;) </p>
",428,4,<python><tensorflow><gpu><jupyter><jupyterhub>,2020-02-12 11:53:02
60172445,Displaying many ipywidgets using flex-box,"<p>I am trying to use the option <code>layout={'flex-flow': 'flex-wrap'}</code> as described in the documentation <a href=""https://ipywidgets.readthedocs.io/en/latest/examples/Widget%20Styling.html#flex-flow"" rel=""nofollow noreferrer"">Flex-Flow-Reference</a> on ipywidgets, but do not get it to work in neither jupterlab nor notebook frontend.</p>

<p>In the <a href=""https://gist.github.com/pbugnion/5bb7878ff212a0116f0f1fbc9f431a5c"" rel=""nofollow noreferrer"">multi-checkbox example</a>, changing line 12, does not work:</p>

<pre class=""lang-py prettyprint-override""><code>options_widget = widgets.VBox(options, layout={'flex-flow': 'flex-wrap'})
multi_select = widgets.VBox([search_widget, options_widget])
</code></pre>

<p>Do you see a possibility adding <code>layout={'flex-flow': 'flex-wrap'}</code>  instead of <code>{'overflow': 'scroll'}</code>?
What am I missing in specifying the options?</p>

<p>Thanks in advance for any hints!</p>
",1616,1,<flexbox><jupyter-notebook><jupyter><jupyter-lab><ipywidgets>,2020-02-11 15:35:50
60166968,How to create a popup in a widget call back function in ipywidgets?,"<p>Using <code>ipywidgets</code> 7.5.1 and <code>python</code> 3.6.9 in a jupyterlab environment (version 1.2.3) I have created the following complete test code:</p>

<pre><code>from ipywidgets import widgets
from IPython.display import HTML,Javascript, display

def popup(text):
    display(HTML(""&lt;script&gt;alert('{}');&lt;/script&gt;"".format(text)))

class Test:

    def __init__(self):        
        self.button = widgets.Button(description='TestButton')
        self.button.on_click(self.click) 
        display(self.button)

    def click(self,args):           
        popup(""test2"")   

popup(""test1"")          
login = Test()
</code></pre>

<p>When running this code I get a popup with the text <code>test1</code> which I expect, but when I click on the button and the callback function is executed I expected to have another popup with the text <code>test2</code>, but nothing happens. There is no other popup. </p>

<p>How can I fix this?</p>
",1932,1,<javascript><python-3.x><jupyter><ipywidgets>,2020-02-11 10:38:09
60152014,"How to tell `ipywidgets.interactive`, that it should consider only specific parameters as widgets?","<p>It seems like <code>ipywidgets.interactive</code> tries to make every imput after the function to be a widget. In the following example, I get two widgets, one for <code>age</code> and one for <code>name</code>:</p>

<pre><code>import ipywidgets 

def greetings(age, name='John'):
    print(f'{name} is {age} years old')

ipywidgets.interactive(greetings, age = widgets.IntSlider(), name = ""Bob"")
</code></pre>

<p>My expectation was, that I only get one widget for <code>age</code>, since it is of type <code>ipywidgets.widgets.widget_int.IntSlider</code> whereas <code>""Bob""</code> is of type <code>str</code> (where I don't see the link to widgets). The automated widget creation causes two problems: 1. I don't want that the user can specify every parameter 2. Some parameters like tuples (not shown in the example) will result in an error.</p>

<p><strong>How to tell <code>ipywidgets.interactive</code>, that it should consider only specific parameters as widgets?</strong></p>

<p><code>help(ipywidgets.interactive)</code> and <a href=""https://ipywidgets.readthedocs.io/en/latest/examples/Using%20Interact.html"" rel=""nofollow noreferrer"">the documentation</a> were not helpful.</p>
",365,1,<python-3.x><widget><default-value><interactive><ipywidgets>,2020-02-10 13:59:35
60150375,"How can I display a matplotlib Pie chart in an ipywidget out widget? I am using Jupyter Notebook, presently nothing gets displayed","<p><a href=""https://i.stack.imgur.com/sSJpI.jpg"" rel=""nofollow noreferrer"">My code result currently, but I want the Pie chart to show up under the Algo Tab</a></p>

<p>My code</p>

<pre><code>out_algo = widgets.Output()
out_ht = widgets.Output()
outioi_trd = widgets.Output()
out_adv = widgets.Output()
out_fundexp = widgets.Output()
out_stratexp = widgets.Output()

tab = widgets.Tab(children = [out_algo,out_ht,outioi_trd,out_adv,out_fundexp,out_stratexp])
tab.set_title(0,'Algo Trades')
tab.set_title(1,'HT Trades')
tab.set_title(2,'IOI Trades')
tab.set_title(3,'Top 20 ADV Trades')
tab.set_title(4,'Fund Exposure')
tab.set_title(5,'Strategy Exposure')
display(tab)

broker_list_test = broker_list_test.set_index('Broker')
#drop columns not needed
broker_list_test = broker_list_test.drop(['Direction', 'Investment_Team', 'portfolio_name', 'full_name','Desk', 'trader', 'trade_date', 'pct_adv_1m', 'trade_qty', 'price'],axis=1)
#group by broker and USD notional sum
broker_list_test2 = broker_list_test.groupby('Broker')
broker_list_test3 = broker_list_test2.sum() #group by value per broker
broker_list_test3['USD_Notional']=broker_list_test3['USD_Notional'].astype('float')
#IF WE HAVE COMMA USE s.replace(',','.')
label = broker_list_test3.index.tolist() #pull out all index names as pie labels 
data = broker_list_test3.values.tolist() # pie data
data = reduce(lambda x,y: x+y,data) #break list of lists into one list 
data_float=[float(x) for x in data] #convert string to float
sum_algo=0
for x in data_float:
   sum_algo+=x        
with out_algo:
    plt.pie(data_float,labels=label,autopct=""%0.f%%"",radius=2.4)
    plt.title(""Algo Usage Notional Breakdown in USD\n""+'{:,.0f}'.format(sum_algo),position=(0.5,1.5))
    plt.show()
</code></pre>

<p>In the above code snippet, If I dont use ipywidgets, I am able to generate the Pie chart fine, but if I want to put this pie chart inside a ipywidget Tab, I dont see any results, do you think there is another way to get around this? I am using Jupyter Notebook</p>
",2054,3,<python-3.x><matplotlib><ipython><ipywidgets>,2020-02-10 12:22:44
60147621,How can we deploy jupyterhub to kubernetes without using helm chart?,"<p>For some reasons, I cannot use the helm chart given <a href=""https://zero-to-jupyterhub.readthedocs.io/en/latest/"" rel=""nofollow noreferrer"">here</a> inside my premise. Is there any reference how can we do this?</p>
",1319,0,<kubernetes><jupyter-notebook><devops><kubernetes-helm><jupyterhub>,2020-02-10 09:42:29
60146238,How to fix button press in ipywidgets?,"<p>I have the following code in a jupyter noteboook with <code>ipywidgets</code> 7.5.1 which is a login mask</p>

<pre><code>from ipywidgets import widgets

class Login:
    def __init__(self):
        text21 = widgets.Text(description=""username"")   
        text22 = widgets.Text(description = ""password"")
        self.button = widgets.Button(
            description='Login NSG',
            disabled=False,
            button_style='info', 
            tooltip='Login with username and password',            
        )        
        self.vbox_conf = widgets.VBox(children=[text21, text22, self.button])             
        self.button.observe(self.login) 
        # alternative: self.button.observe(self.login, names='value') 
        display(self.vbox_conf)            

    def login(self, args):
        print(""test"")
        print(args)    

login = Login()
</code></pre>

<p>It renders a login mask, but when I press the button nothing happens! Nothing is printed out, nor in the notebook nor in the Log window! </p>

<p>What is going on and how to fix this?</p>
",154,0,<python><jupyter><ipywidgets>,2020-02-10 08:00:57
60128146,"Jupyterhub + DockerSpawner: Error in Authenticator.pre_spawn_start: APIError 400 Client Error: Bad Request (""invalid tag format"")","<p>I'm loading jupyterhub within an iframe. Both the parent page and jupyterhub use the same authentication service(keycloak). I first login with my username(rabraham) to my parent page and then I open an iframe and start jupyterhub and I logon to jupyterhub. It logs on just fine but fails at the next step giving perhaps when using DockerSpawner</p>

<pre><code>500 : Internal Server Error
Error in Authenticator.pre_spawn_start: APIError 400 Client Error: Bad Request (""invalid tag format"")

You can try restarting your server from the home page.
</code></pre>

<p>Here are my logs if that helps:</p>

<pre><code>[I 2020-02-07 19:41:50.050 JupyterHub proxy:320] Checking routes
[I 2020-02-07 19:44:04.222 JupyterHub log:174] 302 GET / -&gt; /hub/ (@::ffff:192.0.161.155) 1.87ms
[I 2020-02-07 19:44:04.305 JupyterHub log:174] 302 GET /hub/ -&gt; /hub/login (@::ffff:192.0.161.155) 1.30ms
[I 2020-02-07 19:44:04.387 JupyterHub log:174] 200 GET /hub/login (@::ffff:192.0.161.155) 3.06ms
[I 2020-02-07 19:44:05.988 JupyterHub oauth2:103] OAuth redirect: 'http://35.225.100.133:30100/hub/oauth_callback'
[I 2020-02-07 19:44:05.990 JupyterHub log:174] 302 GET /hub/oauth_login?next= -&gt; http://35.225.100.133:30080/auth/realms/master/protocol/openid-connect/auth?response_type=code&amp;redirect_uri=http%3A%2F%2F35.225.100.133%3A30100%2Fhub%2Foauth_callback&amp;client_id=jupyterhub&amp;state=[secret] (@::ffff:192.0.161.155) 2.57ms
[I 2020-02-07 19:44:06.206 JupyterHub base:707] User logged in: rabraham
[I 2020-02-07 19:44:06.214 JupyterHub log:174] 302 GET /hub/oauth_callback?state=[secret]&amp;session_state=[secret]&amp;code=[secret] -&gt; /hub/spawn (@::ffff:192.0.161.155) 84.66ms
[I 2020-02-07 19:44:06.440 JupyterHub dockerspawner:930] pulling image localhost:5000/fifteenrock/fifteenrock-jupyterhub:0.1
[E 2020-02-07 19:44:06.446 JupyterHub user:640] Unhandled error starting rabraham's server: 400 Client Error: Bad Request (""invalid tag format"")
[I 2020-02-07 19:44:06.449 JupyterHub dockerspawner:784] Container 'jupyter-rabraham' is gone
[W 2020-02-07 19:44:06.450 JupyterHub dockerspawner:757] Container not found: jupyter-rabraham
[W 2020-02-07 19:44:06.467 JupyterHub web:1782] 500 GET /hub/spawn (::ffff:192.0.161.155): Error in Authenticator.pre_spawn_start: APIError 400 Client Error: Bad Request (""invalid tag format"")
[E 2020-02-07 19:44:06.497 JupyterHub log:166] {
      ""X-Forwarded-Host"": ""35.225.100.133:30100"",
      ""X-Forwarded-Proto"": ""http"",
      ""X-Forwarded-Port"": ""30100"",
      ""X-Forwarded-For"": ""::ffff:192.0.161.155"",
      ""Cookie"": ""jupyterhub-hub-login=[secret]; session=[secret]; oidc_id_token=[secret]; jupyterhub-session-id=[secret]"",
      ""Accept-Language"": ""en-CA,en-GB;q=0.9,en-US;q=0.8,en;q=0.7"",
      ""Accept-Encoding"": ""gzip, deflate"",
      ""Referer"": ""http://35.225.100.133:30100/hub/login"",
      ""Accept"": ""text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9"",
      ""User-Agent"": ""Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/79.0.3945.130 Safari/537.36"",
      ""Upgrade-Insecure-Requests"": ""1"",
      ""Connection"": ""close"",
      ""Host"": ""35.225.100.133:30100""
    }
[E 2020-02-07 19:44:06.497 JupyterHub log:174] 500 GET /hub/spawn (rabraham@::ffff:192.0.161.155) 199.18ms

</code></pre>
",835,1,<docker><jupyterhub>,2020-02-08 15:17:29
60116974,What is the 'icon' argument for ipywidgets.Button?,"<p>I am trying to understand how to display buttons in an jupyter notebook, but the <a href=""https://ipywidgets.readthedocs.io/en/latest/examples/Widget%20List.html#Button"" rel=""nofollow noreferrer"">documentation</a> is a bis sparse on this item. </p>

<p>It is mentioned there is an argument 'icon'. But what does it mean? What values can be used? Is there some documentation hidden somewhere else?</p>
",3846,4,<documentation><ipywidgets>,2020-02-07 15:59:17
60108102,Save the plots as JPEG or PDF from jupyter notebook with R Kernel,"<p>I'm having a trouble with saving the plots as jpeg or pdf format from <strong>R</strong> kernel of Jupyter Notebook.</p>

<p>Here's the code,</p>

<pre><code>pdf(""Hatdog.jpeg"")
plot(x,y, col=""green"")
dev.off() 
</code></pre>

<p>I was wondering why the image is corrupted, which when I tried to open the actual file, it states that <em>It looks like we don't support this file format.</em></p>

<p><a href=""https://i.stack.imgur.com/UW1uP.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/UW1uP.png"" alt=""enter image description here""></a></p>

<p>Anyone having the same issue? How did you solved it? Thanks.</p>
",2479,3,<r><jupyter-notebook><jupyter-irkernel>,2020-02-07 06:21:24
60080949,using ipywidgets SelectMultiple on a dataframe,"<pre><code>import pandas as pd
import numpy as np
import ipywidgets as widgets
from IPython.display import display 

a = ['Banking', 'Auto', 'Life', 'Electric', 'Technology', 'Airlines', 
'Healthcare']
df = pd.DataFrame(np.random.randn(7, 4), columns = list('ABCD'))
df.index = a

df.head(7)


dropdown = widgets.SelectMultiple(
                        options=df.index,
                        description='Sector',
                        disabled=False,
                        layout={'height':'100px', 'width':'40%'})
display(dropdown)
</code></pre>

<p>I want to create a function where I can filter the df by Sector. i.e say I select Airlines, Banking and Electric from the display(dropdown) and it returns a dataframe of the selected sectors only. </p>
",1524,1,<dataframe><datagrid><ipywidgets>,2020-02-05 17:17:18
60078693,I cannot access dropdown widget output in a loop,"<p>I have been going in circles for hours. 
I am trying to get the dropdown output to loop, to ensure the result is correct.</p>

<p>I get the dropdown list, but the ""output"" is none.
If I select 'DEV' or ""DEV"", it prints DEV. The output (w) is none and the loop exits at else not if??</p>

<p>The python code (jypter):</p>

<pre><code>source = [""Select Source"", ""DEV"", ""TEMP"", ""PROD""]
source_ = widgets.Dropdown(
    options=source,
    value=source[0],
    description='Select variable:',
    disabled=False,
    button_style=''
)
def sourceURL(b):
    clear_output()
    print(source_.value)

### Drop Down
print(""Drop Down"")
display(source_)
w = source_.observe(sourceURL)

## print(""output: "")
print(w)            ### output is None

#### LOOP
if w == 'DEV':
    print(""This is Dev"")    
elif w == ""TEST"":
    print(""This is TEST"")  
else:
    print(""This is PROD"")
</code></pre>
",208,0,<widget><python-3.6><ipywidgets>,2020-02-05 15:06:38
60073276,"How to login to bash with current user, and the user's .bashrc file, in jupyterlab?","<p>I have a configuration file setup in .bashrc which I would like to apply to all terminals opened automatically in my jupyterlab. </p>

<p>Currently jupyterlab terminals start like this, without any of the configuration in my .bashrc file.</p>

<p><a href=""https://i.stack.imgur.com/pyNxt.png"" rel=""noreferrer""><img src=""https://i.stack.imgur.com/pyNxt.png"" alt=""jupyterlab terminal""></a></p>

<p>If I simply type bash and hit enter it does exactly what I want. Like below.</p>

<p><a href=""https://i.stack.imgur.com/tZETo.png"" rel=""noreferrer""><img src=""https://i.stack.imgur.com/tZETo.png"" alt=""terminal after typing bash""></a></p>

<p>I would like for it to automatically open like this.</p>

<p>How can this be achieved?</p>

<p><a href=""https://stackoverflow.com/questions/33467098/how-can-the-terminal-in-jupyter-automatically-run-bash-instead-of-sh"">Here is a very similar question.</a></p>

<p>But none of the solutions work, I mean it does open bash, not shell, so I'm not sure if that solution is what I'm looking for. But I've changed my tornado settings, I've added the environment variable SHELL=/bin/bash but none of it has any affect. (I've obviously restarted jupyterhub each time to see the effect.</p>

<p>Here is my jupyterhub start file 'jupyterhub.service', located in '/etc/systemd/'.</p>

<pre><code>[Unit]
Description=Jupyterhub
After=syslog.target network.target
[Service]
User=root
Type=simple
Environment=""PATH=/anaconda3/bin:/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin""
Environment=""SPARK_HOME=/spark-2.3.2-bin-hadoop2.7/""
Environment=""SHELL=/bin/bash""
ExecStart=/anaconda3/bin/jupyterhub -f /etc/jupyter/jupyterhub_config.py
Restart=on-failure
RestartSec=5
[Install]
WantedBy=multi-user.target
</code></pre>
",1951,5,<bash><jupyter><jupyter-lab><jupyterhub>,2020-02-05 10:03:28
60067363,Content Security Policy violation: JupytherHub within an iframe,"<p>I'm loading jupyterhub within an iframe. The hub loads properly but the single user image does not due to the content security policy violation. </p>

<pre><code>Refused to display 'http://localhost:30100/user/rabraham/tree?' in a frame because an ancestor violates the following Content Security Policy directive: ""frame-ancestors 'self'"".
</code></pre>

<p>Here is my <code>jupyterhub_config.file</code>, I'd appreciate any help or pointers:</p>

<pre class=""lang-py prettyprint-override""><code>
import os
c = get_config()
os.environ['OAUTH2_TOKEN_URL']= f""{os.environ['HOST_URL']}/auth/realms/master/protocol/openid-connect/token""
from oauthenticator.generic import GenericOAuthenticator
c.JupyterHub.authenticator_class = GenericOAuthenticator

c.JupyterHub.authenticator_class.login_handler._OAUTH_AUTHORIZE_URL=f""{os.environ['HOST_URL']}/auth/realms/master/protocol/openid-connect/auth""

#c.GenericOAuthenticator.token_url = f""{os.environ['HOST_URL']}/auth/realms/master/protocol/openid-connect/token""

c.OAuthenticator.login_service = ""15Rock""
c.OAuthenticator.client_id = os.environ['CLIENT_ID']
c.OAuthenticator.client_secret = os.environ['CLIENT_SECRET']
c.OAuthenticator.token_url = f""{os.environ['HOST_URL']}/auth/realms/master/protocol/openid-connect/token""
c.OAuthenticator.userdata_url = f""{os.environ['HOST_URL']}/auth/realms/master/protocol/openid-connect/userinfo""
c.OAuthenticator.userdata_method = 'GET'
c.OAuthenticator.userdata_params = {""state"": ""state""}
c.OAuthenticator.username_key = ""preferred_username""

#c.Authenticator.auto_login=True
os.environ['OAUTH2_AUTHORIZE_URL']= f""{os.environ['HOST_URL']}/auth/realms/master/protocol/openid-connect/auth""
os.environ['OAUTH2_TOKEN_URL']= f""{os.environ['HOST_URL']}/auth/realms/master/protocol/openid-connect/token""
os.environ['OAUTH_CALLBACK_URL']= f""{os.environ['NOTEBOOK_URL']}/hub/oauth_callback""
os.environ['OAUTH2_USERDATA_URL']= f""{os.environ['HOST_URL']}/auth/realms/master/protocol/openid-connect/userinfo""
c.Spawner.args = [f""--NotebookApp.tornado_settings={{\""headers\"":{{\""Content-Security-Policy\"": \""frame-ancestors 'self' {os.environ['HOST_URL']}\""}}}}""]
c.JupyterHub.tornado_settings = {
  'headers': {
    'Content-Security-Policy': f""frame-ancestors 'self' {os.environ['HOST_URL']}""
  }
}
c.NotebookApp.tornado_settings = {
  'headers': {
    'Content-Security-Policy': f""frame-ancestors 'self' {os.environ['HOST_URL']}""
  }
}


c.JupyterHub.cookie_secret = b'abc'

c.JupyterHub.spawner_class = 'dockerspawner.DockerSpawner'
spawn_cmd = os.environ.get('DOCKER_SPAWN_CMD', ""start-singleuser.sh"")
c.DockerSpawner.extra_create_kwargs.update({ 'command': spawn_cmd })

c.DockerSpawner.args = [f""--NotebookApp.tornado_settings={{\""headers\"":{{\""Content-Security-Policy\"": \""frame-ancestors 'self' {os.environ['HOST_URL']}\""}}}}""]
c.DockerSpawner.debug = True

notebook_dir = os.environ.get('DOCKER_NOTEBOOK_DIR') or '/home/jovyan/work'

c.DockerSpawner.notebook_dir = notebook_dir
c.DockerSpawner.image = os.environ['DOCKER_JUPYTER_CONTAINER']

c.DockerSpawner.http_timeout=600
# Mount the real user's Docker volume on the host to the notebook user's
# notebook directory in the container

c.DockerSpawner.volumes = { 'jupyterhub-user-{username}': notebook_dir }

## Docker spawner

network_name = os.environ['DOCKER_NETWORK_NAME']
c.DockerSpawner.network_name = network_name
c.DockerSpawner.use_internal_ip = True


# See https://github.com/jupyterhub/dockerspawner/blob/master/examples/oauth/jupyterhub_config.py

c.JupyterHub.hub_ip = 'jhub'





</code></pre>
",534,2,<jupyterhub>,2020-02-05 00:17:41
60057469,"How can I overcome ""Error: Object 'jupyter.widget' not found in registry""?","<p>I am running jupyterlab within jupyterhub on kubernetes.</p>

<p>I am trying to display widgets using e.g.</p>

<pre class=""lang-py prettyprint-override""><code>from ipywidgets import interact

@interact(x=(0, 100, 10))
def p(x=50):
    pass
</code></pre>

<p>Instead of the intended interactive widget, the lab notebook prints:</p>

<pre><code>interactive(children=(IntSlider(value=50, description='x', step=10), Output()), _dom_classes=('widget-interact...
</code></pre>

<p>On inspection of the javascript console:</p>

<pre><code>default.js:129 Error: Object 'jupyter.widget' not found in registry
    at default.js:1474
    at new Promise (&lt;anonymous&gt;)
    at Object.loadObject (default.js:1453)
    at DefaultKernel.&lt;anonymous&gt; (default.js:919)
    at Generator.next (&lt;anonymous&gt;)
    at default.js:9
    at new Promise (&lt;anonymous&gt;)
    at push.YC29.__awaiter (default.js:5)
    at DefaultKernel._handleCommOpen (default.js:911)
    at DefaultKernel.&lt;anonymous&gt; (default.js:1018)
</code></pre>

<p>I have tried many different combinations of:</p>

<pre><code>!pip install ipywidgets
!pip install widgetsnbextension --upgrade
!pip install widgetslabextension --upgrade
!conda install -n base -y --override-channels -c main -c conda-forge widgetsnbextension ipywidgets nodejs
!jupyter nbextension enable --py widgetsnbextension
!jupyter labextension enable widgetsnbextension
!jupyter labextension list
!jupyter labextension install @jupyter-widgets/jupyterlab-manager
!jupyter lab clean
!jupyter lab build
!pip install --upgrade Nodejs
!npm install -g npm yarn
!jupyter serverextension enable --py jupyterlab --sys-prefix
</code></pre>

<p>jupyterlab is at 1.0.0 and jupyterlab-manager is at 1.0.</p>

<p>Once everything is in order, how do I propagate changes?</p>

<p>NB If I restart jupyterlab the container restarts and all changes are lost.</p>

<p>I will do anything - print versions, pip freeze, run tests, reformat/reword this question.</p>

<p>Does anyone have a remote clue how to resolve this?</p>

<p>Please help!</p>

<p>The following did not help:</p>

<p><a href=""https://stackoverflow.com/questions/49542417/how-to-get-ipywidgets-working-in-jupyter-lab"">How to get ipywidgets working in Jupyter Lab?</a></p>

<p><a href=""https://ipywidgets.readthedocs.io/en/latest/user_install.html#installing-the-jupyterlab-extension"" rel=""noreferrer"">https://ipywidgets.readthedocs.io/en/latest/user_install.html#installing-the-jupyterlab-extension</a></p>

<p><a href=""https://stackoverflow.com/questions/58631374/problem-displaying-widgets-ipywidgets-install-unsuccessful"">Problem displaying widgets / ipywidgets install unsuccessful</a></p>

<p><a href=""https://github.com/jupyter-widgets/ipywidgets/issues/2220"" rel=""noreferrer"">https://github.com/jupyter-widgets/ipywidgets/issues/2220</a></p>

<p><a href=""https://github.com/jupyter-widgets/ipywidgets/issues/2514"" rel=""noreferrer"">https://github.com/jupyter-widgets/ipywidgets/issues/2514</a></p>

<p><a href=""https://github.com/jupyter-widgets/ipywidgets/issues/2483"" rel=""noreferrer"">https://github.com/jupyter-widgets/ipywidgets/issues/2483</a></p>

<p><a href=""https://github.com/twosigma/beakerx/issues/7520"" rel=""noreferrer"">https://github.com/twosigma/beakerx/issues/7520</a></p>

<p><a href=""https://github.com/jupyterlab/jupyterlab/issues/6998"" rel=""noreferrer"">https://github.com/jupyterlab/jupyterlab/issues/6998</a></p>

<p><a href=""https://jupyterhub.readthedocs.io/en/stable/troubleshooting.html"" rel=""noreferrer"">https://jupyterhub.readthedocs.io/en/stable/troubleshooting.html</a></p>

<p><a href=""https://github.com/jupyter-widgets/ipywidgets/issues/1949"" rel=""noreferrer"">https://github.com/jupyter-widgets/ipywidgets/issues/1949</a></p>

<p><a href=""https://github.com/jupyter-widgets/ipywidgets/pull/1962"" rel=""noreferrer"">https://github.com/jupyter-widgets/ipywidgets/pull/1962</a></p>
",5579,6,<python><jupyter-notebook><jupyter-lab><ipywidgets><jupyterhub>,2020-02-04 12:28:43
60008268,JupyterHub: 404 error. Can't find call_back url,"<p>I'm trying to install jupyterhub using docker-compose. It fails with the following message:</p>

<pre><code>  I 2020-01-31 16:30:48.424 JupyterHub oauth2:100] OAuth redirect: 'http://35.226.65.183:30100/hub/oauth_callback'
[I 2020-01-31 16:30:48.425 JupyterHub log:174] 302 GET /hub/oauth_login?next= -&gt; http://35.226.65.183:30080/auth/realms/ma
ster/protocol/openid-connect/auth?response_type=code&amp;redirect_uri=http%3A%2F%2F35.226.65.183%3A30100%2Fhub%2Foauth_callbac
k&amp;client_id=jupyterhub&amp;state=[secret] (@::ffff:192.0.161.155) 1.69ms
[E 2020-01-31 16:31:27.259 JupyterHub web:1788] Uncaught exception GET /hub/oauth_callback?state=eyJzdGF0ZV9pZCI6ICJjZmZlM
jk3ZTVmN2M0NjhjODFjZjVhMGEzOTQ5MmVkYyIsICJuZXh0X3VybCI6ICIifQ%3D%3D&amp;session_state=b8884ec6-666c-4749-8762-34e837ca5f55&amp;cod
e=671dd549-dca0-4921-90a7-4be854da548b.b8884ec6-666c-4749-8762-34e837ca5f55.946f3792-de4d-4a5e-9f7e-17d05cb87c81 (::ffff:1
92.0.161.155)
    HTTPServerRequest(protocol='http', host='35.226.65.183:30100', method='GET', uri='/hub/oauth_callback?state=eyJzdGF0ZV
9pZCI6ICJjZmZlMjk3ZTVmN2M0NjhjODFjZjVhMGEzOTQ5MmVkYyIsICJuZXh0X3VybCI6ICIifQ%3D%3D&amp;session_state=b8884ec6-666c-4749-8762-3
4e837ca5f55&amp;code=671dd549-dca0-4921-90a7-4be854da548b.b8884ec6-666c-4749-8762-34e837ca5f55.946f3792-de4d-4a5e-9f7e-17d05cb
87c81', version='HTTP/1.1', remote_ip='::ffff:192.0.161.155')
    Traceback (most recent call last):
      File ""/usr/local/lib/python3.6/dist-packages/tornado/web.py"", line 1699, in _execute
        result = await result
      File ""/usr/local/lib/python3.6/dist-packages/oauthenticator/oauth2.py"", line 207, in get
        user = await self.login_user()
      File ""/usr/local/lib/python3.6/dist-packages/jupyterhub/handlers/base.py"", line 699, in login_user
        authenticated = await self.authenticate(data)
      File ""/usr/local/lib/python3.6/dist-packages/jupyterhub/auth.py"", line 383, in get_authenticated_user
        authenticated = await maybe_future(self.authenticate(handler, data))
      File ""/usr/local/lib/python3.6/dist-packages/oauthenticator/generic.py"", line 138, in authenticate
        resp = await http_client.fetch(req)
    tornado.httpclient.HTTPClientError: HTTP 404: Not Found

[E 2020-01-31 16:31:27.261 JupyterHub log:166] {
      ""X-Forwarded-Host"": ""35.226.65.183:30100"",
      ""X-Forwarded-Proto"": ""http"",
      ""X-Forwarded-Port"": ""30100"",
      ""X-Forwarded-For"": ""::ffff:192.0.161.155"",
      ""Upgrade-Insecure-Requests"": ""1"",
      ""Cookie"": ""oauthenticator-state=[secret]"",
      ""Connection"": ""close"",
      ""Referer"": ""http://35.226.65.183:30080/auth/realms/master/login-actions/registration?client_id=jupyterhub&amp;tab_id=LZ-
UwbTzssM"",
      ""Accept-Encoding"": ""gzip, deflate"",
      ""Accept-Language"": ""en-US,en;q=0.5"",
      ""Accept"": ""text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8"",
      ""User-Agent"": ""Mozilla/5.0 (Macintosh; Intel Mac OS X 10.14; rv:72.0) Gecko/20100101 Firefox/72.0"",
      ""Host"": ""35.226.65.183:30100""
    }
[E 2020-01-31 16:31:27.261 JupyterHub log:174] 500 GET /hub/oauth_callback?state=[secret]&amp;session_state=[secret]&amp;code=[sec
ret] (@::ffff:192.0.161.155) 6.88ms
16:31:44.666 [ConfigProxy] info: 200 GET /api/routes 
[I 2020-01-31 16:31:44.666 JupyterHub proxy:320] Checking routes


Uncaught exception GET /hub/oauth_callback?state=eyJzdGF0ZV9pZCI6ICJhOGZkO
TcxNmM0MTg0NmI1ODAyMjYyZGM3OTdjYjEwMSIsICJuZXh0X3VybCI6ICIifQ%3D%3D&amp;session_state=b757af0b-2e63-42cd-8900-b08bf485b64b&amp;cod
e=ebd0a4c6-76e1-459f-9e29-99c0a3b7eb6e.b757af0b-2e63-42cd-8900-b08bf485b64b.946f3792-de4d-4a5e-9f7e-17d05cb87c81 (::ffff:1
92.0.161.155)
</code></pre>

<p>When I directly hit the url on the browser <code>http://35.226.65.183:30100/hub/oauth_callback?state=eyJzdGF0ZV9pZCI6ICJhOGZkO
TcxNmM0MTg0NmI1ODAyMjYyZGM3OTdjYjEwMSIsICJuZXh0X3VybCI6ICIifQ%3D%3D&amp;session_state=b757af0b-2e63-42cd-8900-b08bf485b64b&amp;cod
e=ebd0a4c6-76e1-459f-9e29-99c0a3b7eb6e.b757af0b-2e63-42cd-8900-b08bf485b64b.946f3792-de4d-4a5e-9f7e-17d05cb87c81</code>, it works in the way that it does not give me a 404 error but the page is found but it's some kind of invalid state error.
My docker-compose yaml file is:</p>

<pre><code>version: ""2""

services:
  hub:
    restart: always
    image: localhost:5000/fifteenrock/jhub_image:0.1
    container_name: jhub
    ports:
      - ${JHUB_PORT}:8000
    volumes:
      # Bind Docker socket on the host so we can connect to the daemon from
      # within the container
      - ""/var/run/docker.sock:/var/run/docker.sock:rw""
      # Bind Docker volume on host for JupyterHub database and cookie secrets
      - ""data:${DATA_VOLUME_CONTAINER}""
    environment:
      CLIENT_ID: ${CLIENT_ID}
      # CLIENT_SECRET: ${CLIENT_SECRET}
      CLIENT_SECRET: ${CLIENT_SECRET}
      HOST_URL: ${HOST_URL}
      NOTEBOOK_URL: ${NOTEBOOK_URL}
      FR_IMAGE_TAG: ${FR_IMAGE_TAG}
      DOCKER_NETWORK_NAME: ${DOCKER_NETWORK_NAME}
      HUB_IP: should_be_ip_address_without_http
            # All containers will join this network
      DOCKER_NETWORK_NAME: ${DOCKER_NETWORK_NAME}
      # Noebook directory inside user image
      DOCKER_NOTEBOOK_DIR: ${DOCKER_NOTEBOOK_DIR}
      # Using this run command (optional)
      DOCKER_SPAWN_CMD: ${DOCKER_SPAWN_CMD}

volumes:
  data:
    external:
      name: ${DATA_VOLUME_HOST}
networks:
  default:
    external:
      name: ${DOCKER_NETWORK_NAME}
</code></pre>

<p>My script which creates the containers is(I have elided variables which may not be relevant)</p>

<pre><code>app_host=http://35.226.65.183
...
export JHUB_PORT=30100
export DOCKER_NETWORK_NAME=jhub
export HOST_URL=$app_host:30080
export NOTEBOOK_URL=$app_host:$JHUB_PORT
$BIN_DIR/docker-compose up -d

</code></pre>
",424,1,<docker><docker-compose><jupyterhub>,2020-01-31 17:02:00
60006902,How to merge my two python scripts in one?,"<p>I want to create a web interface with a python srcipt in order to generate different graph from many CSV. </p>

<p>For that, I use pandas, plotly avec ipywidgets as librarys and Jupyter Notebook.</p>

<p>My first script allow to display a CSV according to the server and the date choose in the dropdowns :</p>

<pre><code>from ipywidgets import interact, Dropdown
from ipywidgets import widgets
from IPython.display import display
import plotly.express as px
import pandas as pd
from ipywidgets.embed import embed_minimal_html
import sys
import os

###################### Déclarations des widgets ######################

button = widgets.ToggleButton(description='click me')
out = widgets.Output(layout=widgets.Layout(border = '1px solid black'))

Server = os.listdir('/home/tim/Bureau/Servers/')
ServerList = widgets.Dropdown(options = (Server))

Date = ['2019-10', '2019-11', '2019-12', '2020-01']
DateList = widgets.Dropdown(options = (Date))


@interact(ServersList = Server, DatesList = Date)
def print_all(ServersList, DatesList):
    Test = os.listdir('/home/tim/Bureau/Servers'+ '/'+ ServersList+ '/'+ DatesList+'/')
    Path = os.path.join('/home/tim/Bureau/Servers'+ '/'+ ServersList+ '/'+ DatesList+'/' + str(Test).strip(""[]"").strip(""''""))
    display(Path)

    df = pd.read_csv(Path)
    df.head()


    fig = px.line(df, x = 'Date', y = 'Total', title='DF command graph')
    fig.add_scatter(mode='markers+lines')

    display(df)
</code></pre>

<p>This script works perfectly, the output is :
<a href=""https://i.stack.imgur.com/dSK0w.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/dSK0w.png"" alt=""enter image description here""></a> </p>

<p>My second script allow to display the CSV and trace a graph according to the FS choose in the dropdown. The script is :</p>

<pre><code>import ipywidgets as widgets
from ipywidgets import interactive
import pandas as pd
import plotly.graph_objects as go
import plotly.express as px

df = pd.read_csv('/home/tim/Bureau/Servers/Server1/2019-10/Test1.txt')


items = ['All']+sorted(df['FS'].unique().tolist())


def view(x=''):
    if x=='All': display(df)
    display(df[df['FS']==x])

    fig = px.line(df[df['FS']==x], x = 'Date', y ='Total', title='DF command graph')
    #fig.add_scatter(x=df['Date'], y=df['Used'])
    fig.update_traces(mode='markers+lines')
    fig.show();

w = widgets.Dropdown(options=items)
interactive(view, x=w)
</code></pre>

<p>This script works perfectly too. The result is :
<a href=""https://i.stack.imgur.com/eRWCD.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/eRWCD.png"" alt=""enter image description here""></a></p>

<p>So my question is : How to merge my two script to have the three dropdown at the same time in order to choose the server, the date and the FS needed ?</p>

<p>Thanks !</p>
",54,1,<python><pandas><plotly><ipywidgets>,2020-01-31 15:32:57
59959284,Increase size of rleaflet map in Jupyter Lab display (R in Jupyter),"<p>When using R and rleaflet in a Jupyter Lab Notebook. My output map is short and wide with a vertical scroll box, and I can find no means of increasing it's height.</p>

<pre><code># Code to reproduce
library(leaflet)
m = leaflet() %&gt;% addTiles()

m
</code></pre>

<p>results in:
<a href=""https://i.stack.imgur.com/VXhWb.png"" rel=""noreferrer""><img src=""https://i.stack.imgur.com/VXhWb.png"" alt=""enter image description here""></a></p>
",178,7,<r><jupyter><jupyter-lab><r-leaflet><jupyter-irkernel>,2020-01-29 01:09:09
59953205,How to create figure tabs in a loop using ipywidgets using Jyupyter notebook?,"<p>Imagine I have 10 figures that I would like to show in Jupyter notebook. Using ipywidgets, how can create 10 tabs in a loop? Below I share a sample and if I think of 10 figures, then I would like to create tabs in a loop instead of manual work.
Thanks in advance !
Best,
DS</p>

<pre><code>%matplotlib inline
import matplotlib.pyplot as plt
import pandas as pd
import ipywidgets as widgets
import numpy as np

out1 = widgets.Output()
out2 = widgets.Output()
data1 = pd.DataFrame(np.random.normal(size = 50))
data2 = pd.DataFrame(np.random.normal(size = 100))

tab = widgets.Tab(children = [out1, out2,])
tab.set_title(0, 'First')
tab.set_title(1, 'Second')
display(tab)

with out1:
    fig1, axes1 = plt.subplots()
    data1.hist(ax = axes1)
    plt.show(fig1)

with out2:
    fig2, axes2 = plt.subplots()
    data2.hist(ax = axes2)
    plt.show(fig2)
</code></pre>
",1896,1,<python><ipywidgets>,2020-01-28 16:35:14
59922989,filter a pandas DataFrame with input data from ipywidget.Text and edit result in Jupyter with ipysheet,"<p>I have a pandas dataframe that I want to filter according to user data entered in a jupyter notebook.</p>

<p>The data should be entered with an ipywidget:</p>

<pre><code>import ipywidgets as widgets
import ipysheet

csv_input =widgets.Text(
    value='a,b,c,...',
    placeholder='Enter the words',
    description='CSV words:',
    disabled=False   
    )
def f(csv):
    global cdf
    list_of_words=csv.split(',')
    for word in list_of_words:
        print(word)
    #HERE SOMEHOW THE CODE TO GENERATE A DF FROM FILTERING CDF BASED ON IMPUT VALUES
    # how do I pass the dataframe to this function? 


out = widgets.interactive_output(f, {'csv': csv_input})
</code></pre>

<p>This input consist in a comma separated values and this should be the base for filtering the dataframe.</p>

<p>I created this dummy dataframe:</p>

<pre><code>list1 = ['computer','ipad','handy','headphones','milk']
list2 = ['bread','milk','ham','chocolate','yogurth','ipad']
list3 = ['table','chair','sofa','glass','plate','bottle','java']
list4 = ['python','java','c++','julia','basic','milk','ham']

data = [list1,list2,list3,list4]
names = ['electro','food','furniture','software']
columns = ['name','data']

cdf=pd.DataFrame(columns=columns)
cdf.data = data
cdf.name = names
cdf
</code></pre>

<p>I am looking for a way to link the ipywidtext (text entry) with an output that would result from filtering the df with the words entered by the user.</p>

<p>NOTE: I DONT HAVE A PROBLEM FILTERING DATAFRAMES its about linking the ipywidget with the dataframe to filter it and out of the filtering result print it out with ipysheet.
The filtering consists in showing the list of names where appears any of the words entered by the user.</p>

<p>EDITED INFO:
When using interactive_option the function passed in get variables consisting on the output of the widgets, therefore I dont see the way to pass also other data besides the output of the widget i.e. how to pass the dataframe to further populate the ipysheet.</p>

<p>Documentation:
<a href=""https://ipywidgets.readthedocs.io/en/latest/examples/Output%20Widget.html"" rel=""nofollow noreferrer"">https://ipywidgets.readthedocs.io/en/latest/examples/Output%20Widget.html</a>
For instance under ""Output widgets as the foundation for interact"" the widgets are linked to a function that takes the outputs of the sliders, but I dont see anyway to add more inputs to the linked function.</p>

<p>Thanks
<a href=""https://i.stack.imgur.com/EgUGt.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/EgUGt.png"" alt=""enter image description here""></a></p>
",1563,3,<python><pandas><dataframe><ipywidgets>,2020-01-26 21:40:12
59899960,ipywidget Text input and ipysheet interacting + voila,"<p>I would like to get in jupyter the input text from a user.
Such input is supposed to be a csv, comma separated values.</p>

<p>Depending on that values I would like to generatate an interactive ipysheet which dependens on another dataframe data and the user input.</p>

<p>So:<br>
a) user input.<br>
b) ipysheet = f(user input)  filtering df<br>
c) Final result = f(ipysheet)</p>

<p>Already in the first two steps I can not manage to get the thing working.</p>

<pre><code>from ipysheet import from_dataframe, to_dataframe
from ipywidgets import *
df = pd.DataFrame(np.random.randint(0,10,size=(10, 4)), columns=list('ABCD'))
csv = ipywidgets.Text(value='',
                         placeholder = 'type here',
                         description = 'csv:',
                         disabled    = False)


def submit(user_input):
    list=user_input.split(',')
    # here do calculations extracting data from df
    for i,word in enumerate(list):
        print(i,word)
    # if I would get this running here I would create the ipysheet like so:
    sheet = from_dataframe(df)



display(csv)
widgets.interact(submit,user_input=csv)
</code></pre>

<p>First: I am not able to link the text input and the submit fuction  </p>

<p>Second: in submit function the only way to access df is with global df?</p>

<p>Third is it possible to link two ipysheets.</p>
",787,1,<python><jupyter-notebook><ipywidgets>,2020-01-24 16:04:06
59883587,Migrate JupyterHub app state to new k8s cluster? (AWS EKS),"<p>In a scenario where we need to re-provision kubernetes cluster (specifically, AWS-managed kubernetes, “EKS”) – is it possible to migrate JupyterHub application state from the old cluster to the new cluster? Ideally, we would like to migrate everything. But it would be sufficient to just migrate user notebook files.</p>

<p>Details:
JupyterHub (0.8.2) was deployed to AWS-managed kubernetes using helm v2.13</p>
",80,0,<amazon-web-services><kubernetes><jupyter><jupyterhub><amazon-eks>,2020-01-23 16:55:14
59871431,No outside network access for Jupyter Notebook container spawned by JupyterHub,"<p>So, here is what I am trying to achieve:</p>

<ul>
<li>A Jupyterhub server</li>
<li>Which when accessed and you are not logged in, takes you to another web server (custom coded in Django)</li>
<li>That web server uses OAuth to authenticate a user</li>
<li>And a notebook container is spawned.</li>
<li>This notebook container must be pre-populated with a token that is used by a custom library baked into the notebook Docker image to authenticate against a service.</li>
<li>The notebook container needs to be able to communicate with the web server for further interactions like retrieve results etc.</li>
</ul>

<p>I have more or less achieved this except for the last part. I am getting a notebook server started but it has no access to the outside world. It can only access the Jupyter Hub (that's why it works!) and nothing else.</p>

<p>Here is my Jupyter Hub config relevant to the DockerSpawner (I'm leaving out the OAuth settings since these work as expected.</p>

<pre><code># Tell JupyterHub that we want Docker Spawner to be used.
c.JupyterHub.spawner_class = 'dockerspawner.DockerSpawner'

# And what image should be used by the Docker Spawner
c.DockerSpawner.image = 'jupyter/scipy-notebook:7a0c7325e470'

# The Hub must listen on all interfaces.
c.JupyterHub.hub_ip = '0.0.0.0'

# And this should be the address of the Hub API
c.JupyterHub.hub_connect_ip = 'jupyterhub'

# Ask containers to connect to this network so that they can
# communicate with the Hub.
c.DockerSpawner.network_name = 'djangodockerjupyterdemo_default'

# And let's not make a mess, remove user containers when done.
c.DockerSpawner.remove = True

# We need to set the Notebook Directory
notebook_dir = '/home/jovyan/work'
c.DockerSpawner.notebook_dir = notebook_dir

# Need to tell where to mount the volumes.
c.DockerSpawner.volumes = { 'jupyterhub-user-{username}': notebook_dir }
</code></pre>

<p>Please note that <code>djangodockerjupyterdemo_default</code> is being created by docker-compose thanks to the name of the project directory being such. (I know this is not the best thing to do but right now I'm just hoping to have a bare minimal example working.)</p>

<p>Here is my docker-compose:</p>

<pre><code>version: ""2""

services:
  database:
      image: ""mysql:5.6""
      volumes:
      - ./data:/var/lib/mysql
      environment:
      - MYSQL_ROOT_PASSWORD=test123
      - MYSQL_DATABASE=oauthserver
      - MYSQL_USER=oauthadmin
      - MYSQL_PASSWORD=test123
  webapp:
    image: auth_server:latest
    volumes:
      - ./:/app
    links:
      - database:database
    environment:
      - PYTHONUNBUFFERED=1
      - ENV=DEV
      - DATABASE_HOST=database
      - DATABASE_USER=oauthadmin
      - DATABASE_DBNAME=oauthserver
      - DATABASE_PASSWORD=test123
    hostname: oauthserver.ddi.in
  jupyterhub:
    image: ""jupyterhub:test""
    volumes:
      - ""/var/run/docker.sock:/var/run/docker.sock:rw""
      - ""./jupyterhub:/srv/jupyterhub""
    environment:
      - OAUTH2_AUTHORIZE_URL=http://oauthserver.ddi.in:8000/o/authorize
      - OAUTH2_TOKEN_URL=http://oauthserver.ddi.in:8000/o/token/
    hostname: jhtest.ddi.in
    links:
      - webapp:oauthserver.ddi.in
</code></pre>

<p>I use <a href=""https://hub.docker.com/r/defreitas/dns-proxy-server"" rel=""nofollow noreferrer"">https://hub.docker.com/r/defreitas/dns-proxy-server</a> to access the JupyterHub server by saying ""<a href=""http://jhtest.ddi.in:8000"" rel=""nofollow noreferrer"">http://jhtest.ddi.in:8000</a>"". </p>

<p>Now, once the containers are up, here is what I can confirm:</p>

<ul>
<li><code>docker exec</code>ing into <code>webapp</code> or <code>jupyterhub</code> containers and then <code>wget</code>ing a file from some place on the Internet works.</li>
<li><code>docker exec</code>ing into the spawned Jupyter notebook container and doing the same doesn't. Same goes with trying to use <code>requests.get()</code> from inside the notebook.</li>
</ul>

<p>How can I make the spawned notebook access the outside world? It's critical for my use case (and I'm sure a reasonable expectation). </p>

<p>PS: I notice there are hardly any examples covering OAuth JupyterHub setup with a custom Django application out there. I hope to publish my example publicly and hopefully it can constitute as a resource on the Jupyter Hub docs.</p>
",736,1,<docker><docker-compose><jupyter><docker-networking><jupyterhub>,2020-01-23 04:02:20
59870206,Other users on server not able to open JupyterHub,"<p>I have spent a lot of time trying out the few solutions I found online to solve this. Nothing worked.  </p>

<pre><code>Install Location:
  anaconda : /opt/anaconda

Run JupyterHub
  $ cd /opt/anaconda/  &lt;--  I have my jupyter_config.py here
  $ jupyterhub --Spawner.cmd=""/opt/anaconda/bin/jupyterhub_singleuser""
</code></pre>

<p>First I got this -</p>

<pre><code>[W JupyterHub auth:956] Failed to open PAM session for user1: [PAM Error 14] Cannot make/remove an entry for the specified session
[W JupyterHub auth:957] Disabling PAM sessions from now on.
[I JupyterHub spawner:1417] Spawning /opt/anaconda/bin/jupyterhub_singleuser --port=27699
Failed to set groups [Errno 1] Operation not permitted
[E JupyterHub user:640] Unhandled error starting user1's server: Exception occurred in preexec_fn.
</code></pre>

<p>So, I updated my config with this -</p>

<pre><code>c.PAMAuthenticator.open_sessions = False
</code></pre>

<p>The first error disappeared but I still get this -</p>

<pre><code>Spawning /opt/anaconda/bin/jupyterhub_singleuser --port=62001
Failed to set groups [Errno 1] Operation not permitted
[E JupyterHub user:640] Unhandled error starting user1's server: Exception occurred in preexec_fn.
[W JupyterHub web:1782] 500 GET /hub/spawn (::ffff:10.2.139.158): Error in Authenticator.pre_spawn_start: SubprocessError Exception occurred in preexec_fn.
</code></pre>

<p>Any help will be appreciated.</p>
",2893,0,<linux><centos><anaconda><jupyter-lab><jupyterhub>,2020-01-23 00:44:34
59847714,How to display text output from function in Panel Pyviz widgets?,"<p>This seems like a basic question but I've tried for a while and not found a solution with Pyviz Panel:</p>

<p><strong>I'm trying to trigger functions with a click of a button, catch the outputs of functions and print them on the screen at desired locations.</strong> </p>

<p>The <code>with output</code> functionality in ipywidgets is a good example of the kind of thing I'm looking to achieve:</p>

<pre><code>import ipywidgets as widgets
from IPython.display import display

button = widgets.Button(description=""Click Me!"")
output = widgets.Output()

display(button, output)

def on_button_clicked(b):
    with output:
        print(""Button clicked."")

button.on_click(on_button_clicked)
</code></pre>

<p>However, I can't figure out how to do this with Panel. Here's a simple example of what I'm trying in Pyviz Panel.</p>

<pre><code>import panel as pn
pn.extension()
import panel.widgets as pnw

text_output_widget = pnw.StaticText(value='orginal output')
some_button = pnw.Button(name='test',button_type = 'primary')


def callbackfn(WatchedEvents):
    text_output_widget.value = 'new output'
    print('Function successfully run')
    third_party_function() #prints a bunch of stuff


some_button.on_click(callbackfn)
pn.Column(some_button,text_output_widget)
</code></pre>

<p>However, the output of the <code>print('Function successfully run')</code> statement in the <code>callbackfn()</code> function gets lost in the process. How do I catch this text output?</p>

<p><strong>EDIT:</strong>
    Added in a little more detail within the callbackfn function to represent my use case more specifically. I have to run functions (<code>third_party_function()</code>) written by people other than me. These functions print stuff, and I can't (not allowed to) change these functions.</p>
",928,4,<panel><ipywidgets><pyviz><holoviz><panel-pyviz>,2020-01-21 19:08:54
59816527,How to include the ipywidgets interact code in my own function,"<p>For example, I define my own function ""f"":</p>

<pre><code>def f(x):
    return x 
</code></pre>

<p>and I want to make it interactable, so I wrote another function ""F"": </p>

<pre><code>from ipywidgets import interact
def F():
    interact(f,x=10)
</code></pre>

<p>but it didn't work. Any ideas about how I can adjust my code?</p>
",68,0,<python><widget><ipywidgets>,2020-01-20 03:06:30
59803555,Call iPyWidgets from own class doesn´t show,"<p>I try to call a button from iPyWidgets over my own class but unfortunately it will not show the widget. But when I call the widget code directly in the console (Jupyterhub) it shows the button. This is my code</p>

<p>callButton.py</p>

<pre><code>from here.analysis.testUI import TestUI
def call_button():
    test = TestUI()
    go = test.button()
    go
</code></pre>

<p>testUi.py</p>

<pre><code>from ipywidgets import widgets
from IPython.display import display
from ipywidgets import Button, HBox, VBox, Layout, Button, Text, Textarea

class TestUI():
    def __init__(self):
        print(""Just initialized"")

    def button(self):
        #Maybe a return is not needed, but it also doesn´t work without a return
        return widgets.Button(description = 'clear', layout=Layout(width='20%', height='100%'))
</code></pre>

<p>And I am calling it in the Python console like so:</p>

<pre><code>from here.analysis.callButton import call_button
call_button()
</code></pre>

<p>So why is the button not showing up? Am I missing something?</p>
",53,1,<python><python-3.x><ipywidgets>,2020-01-18 18:21:03
59786948,"Python exec(script, globals()) not showing GUI (iPyWidgets)","<p>Hello my fellow programmers,</p>

<p>I want to include a script from another file that creates a UI with iPyWidgets.
The problem is that the code will execute but nothing is shown. I am using Jupyterhub to display the button.
When I run the code on itself, the button is showing.</p>

<p>button_code.py</p>

<pre><code>from ipywidgets import widgets
from IPython.display import display
from IPython.display import clear_output
from ipywidgets import Button, HBox, VBox, Layout, Button, Text, Textarea

widgets.Button(description = 'clear',
layout=Layout(width='20%', height='100%'))
</code></pre>

<p>call_button_script.py</p>

<pre><code>import os
def call_script():

    script_dir = os.path.dirname(os.path.abspath(__file__))
    script_fqn = os.path.join(script_dir, 'button_code.py')
    script = open(script_fqn).read()

    exec(script, globals())
</code></pre>

<p>The code is executed via the following import:</p>

<pre><code>from call_button_script import call_script
call_script()
</code></pre>

<p>Am I missing something crucial or is there another possible mistake?</p>

<p>Thank you for your time.</p>
",107,0,<python><python-3.x><ipywidgets><jupyterhub>,2020-01-17 12:00:20
59785924,Connect to snowflake in a jupyterhub notebook with python and pyspark,"<p>I'm trying to connect to snowflake via spark in a jupyterhub notebook and unable to do so because I cannot load the JDBC connector per snowflake's documentation :
<a href=""https://docs.snowflake.net/manuals/user-guide/spark-connector-use.html#using-the-connector-with-python"" rel=""nofollow noreferrer"">https://docs.snowflake.net/manuals/user-guide/spark-connector-use.html#using-the-connector-with-python</a>
I have been able to install the connector snowflake-connector-python</p>

<p>Is there a good way to start the jupyter kernel with the JDBC connector ?
Here's the code i'm trying to run, it's copy pasted from snowflake's  documentation:</p>

<pre><code>from pyspark import SparkConf, SparkContext
from pyspark.sql import SQLContext
from pyspark.sql.types import *
from pyspark import SparkConf, SparkContext

sc = SparkContext(""local"", ""Simple App"")
spark = SQLContext(sc)
spark_conf = SparkConf().setMaster('local').setAppName('&lt;YOUR_APP_NAME&gt;')

# Set options below
sfOptions = {
  ""sfURL"" : ""&lt;account_name&gt;.snowflakecomputing.com"",
  ""sfAccount"" : ""&lt;account_name&gt;"",
  ""sfUser"" : ""&lt;user_name&gt;"",
  ""sfPassword"" : ""&lt;password&gt;"",
  ""sfDatabase"" : ""&lt;database&gt;"",
  ""sfSchema"" : ""&lt;schema&gt;"",
  ""sfWarehouse"" : ""&lt;warehouse&gt;"",
}

SNOWFLAKE_SOURCE_NAME = ""net.snowflake.spark.snowflake""

df = spark.read.format(SNOWFLAKE_SOURCE_NAME) \
  .options(**sfOptions) \
  .option(""query"",  ""select * from MYTABLE) \
  .load()

df.show()
</code></pre>
",384,1,<python><snowflake-cloud-data-platform><jupyterhub>,2020-01-17 10:52:29
59764844,Kernel keeps dying and restarting when running some lines in python Notebook,"<p>I get the error --></p>

<pre><code>/apps/anaconda3/bin/python: symbol lookup error: /apps/anaconda3/lib/python3.6/site-packages/mkl/../../../libmkl_intel_thread.so: undefined symbol: omp_get_num_procs
</code></pre>

<p>To fix this, I tried updating mkl package by doing a ""<code>conda update mkl</code>"", and then restarting the jupyterhub service.  But still, the issue persists.</p>

<p>the libmkl_intel_thread.so file is located in the below paths - </p>

<pre><code>/apps/anaconda3/envs/myEnv/lib/libmkl_intel_thread.so
/apps/anaconda3/lib/libmkl_intel_thread.so
/apps/anaconda3/pkgs/mkl-2017.0.1-0/lib/libmkl_intel_thread.so
/apps/anaconda3/pkgs/mkl-2019.4-243/lib/libmkl_intel_thread.so
</code></pre>

<p>my $PATH is --></p>

<pre><code>/apps/anaconda3/envs/myEnv/bin:/apps/anaconda3/condabin:/apps/anaconda3/bin:/opt/mssql-tools/bin:/apps/anaconda3/lib/python3.6/site-packages:/apps/anaconda3/envs/myEnv:/apps/anaconda3/envs/myEnv/bin:/apps/anaconda3/bin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin
</code></pre>

<p>What could be wrong ?</p>
",618,1,<linux-kernel><jupyterhub>,2020-01-16 07:33:06
59753489,Jupyterhub - Unable to change the start directory,"<p>I launch jupyterhub as root user and it launches Jupyter Notebook for whitelisted users, landing them to the folder path --> (ip):(port)/(user)/(userid)/tree.  But I want the users taken to the folder path --> 
(ip):(port)/apps/ instead.  For this, I had made the below change in the jupyterhub_config.py file.</p>

<pre><code>c.JupyterHub.default_url = '/apps/'
c.Spawner.notebook_dir = '/apps/'
</code></pre>

<p>But this change lands the users to :/hub/apps/ and shows ""404 : Not Found"".  When I change the above by commenting out c.Spawner.notebook_dir,it lands the users to :/hub/apps/ and shows ""404 : Not Found"". Please advise where am I going wrong here...</p>
",226,1,<python-3.x><unix><jupyterhub>,2020-01-15 14:30:30
59735629,Insert checkbox in panda dataframe,"<p>I want to display a <code>pandas dataframe</code> in which at the begining of each row there is a <code>Checkbox</code> (<code>ipywidget</code>) to know which row the user is selecting. </p>

<p>I have made a frist trial with a <code>Button</code> using the following code</p>

<pre><code>import pandas as pd
from IPython.display import display, HTML
from ipywidgets import Button, HBox, VBox,widgets
import ipywidgets
from ipyleaflet import Map

mS2 = Map(center=(40.4, -3.7), zoom=6)

offlineS2 = ['true', 'false']
nameS2 = ['a','b']

df = pd.DataFrame({'Name': nameS2,'Offile': offlineS2})

# ideally I would need Checkbox not Button
button0 = widgets.Button(description='Click to display')
button1 = widgets.Button()         
button2 = widgets.Button(description='Select')
dfW = ipywidgets.HTML(df.style.set_table_attributes('class=""table""').render())

testup = HBox([VBox([button0,button1,button2]),dfW])
display(VBox([testup,mS2]))
</code></pre>

<p>The output looks like this:
<a href=""https://i.stack.imgur.com/nJF8Z.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/nJF8Z.png"" alt=""enter image description here""></a></p>

<p>However, when I change in the code <code>widgets.Button</code> by <code>widgets.Checkbox</code>, although it is displayed, the distance between the checkbox and the dataframe is too large. Why is this hapenning?</p>

<p><a href=""https://i.stack.imgur.com/nMKO0.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/nMKO0.png"" alt=""enter image description here""></a></p>

<h2>EDIT</h2>

<p>Using </p>

<pre><code>`button1 = widgets.Button(indent=False)`
</code></pre>

<p><a href=""https://i.stack.imgur.com/nejkj.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/nejkj.png"" alt=""enter image description here""></a></p>
",2768,4,<python><pandas><ipython><ipywidgets>,2020-01-14 14:19:04
59722163,Python: Interact Dropdown - how to reference the output,"<p>Hi I have below dropdown:</p>

<pre><code>from ipywidgets import interact, interactive, fixed, interact_manual 
import ipywidgets as widgets

def f(Books):
    return Books
interact(f, Books=['a','b','c','d']);
</code></pre>

<p>This populates a dropdown list allowing user to choose from a, b, c, d.</p>

<p>Let's say user chooses one of the four.</p>

<p>How do you reference the result?</p>

<p>I want to use the output of the dropdown as a variable in other formulas.</p>

<p>ex. </p>

<pre><code>if Books = a:
x = 1+1
</code></pre>
",945,0,<python><dropdown><ipywidgets>,2020-01-13 18:27:54
59704818,Combobox widget from ipywidget is not working,"<p>I have installed the latest <code>ipywidgets</code> version 7.5.1 and I use Jupyter nb version 6.0.2. Other <code>ipywidgets</code> work well. But I do not get any output with the Combobox. No error messages.</p>

<pre><code>widgets.Combobox(# value='John', placeholder='Choose Someone', options=['Paul', 'John', 'George', 'Ringo'], description='Combobox:', ensure_option=True, disabled=False)
</code></pre>
",988,0,<python><combobox><jupyter-notebook><ipywidgets>,2020-01-12 14:30:42
59675970,"JupyterHub on Kubernetes: Error creating: pods ""hub-b564f4485-"" is forbidden: unable to validate against any pod security policy: []","<p>On a on prem cluster(installed with Gravity: <a href=""https://gravitational.com/gravity/docs/cluster/#pod-security-policies"" rel=""nofollow noreferrer"">https://gravitational.com/gravity/docs/cluster/#pod-security-policies</a>) with security policies, I’m trying to do a helm install of the Zero to Jupyterhub helm chart and I encounter the following error.</p>

<pre><code>Error creating: pods ""hub-b564f4485-"" is forbidden: unable to validate against any pod security policy: []
</code></pre>

<p>I'm on version 0.8.2 of Zero to JupyterHub</p>

<p>The relevant files, to inspect, I think are:</p>

<ul>
<li><p>The Chart: <a href=""https://github.com/jupyterhub/zero-to-jupyterhub-k8s/tree/8c9550d4fd8de825e6c87ae79e3c513b74e19bcd/jupyterhub"" rel=""nofollow noreferrer"">https://github.com/jupyterhub/zero-to-jupyterhub-k8s/tree/8c9550d4fd8de825e6c87ae79e3c513b74e19bcd/jupyterhub</a></p></li>
<li><p>Values file: <a href=""https://github.com/jupyterhub/zero-to-jupyterhub-k8s/tree/8c9550d4fd8de825e6c87ae79e3c513b74e19bcd/jupyterhub/values.yaml"" rel=""nofollow noreferrer"">https://github.com/jupyterhub/zero-to-jupyterhub-k8s/tree/8c9550d4fd8de825e6c87ae79e3c513b74e19bcd/jupyterhub/values.yaml</a></p></li>
<li>(Not sure.) <a href=""https://github.com/jupyterhub/zero-to-jupyterhub-k8s/tree/8c9550d4fd8de825e6c87ae79e3c513b74e19bcd/jupyterhub/templates/hub/deployment.yaml"" rel=""nofollow noreferrer"">https://github.com/jupyterhub/zero-to-jupyterhub-k8s/tree/8c9550d4fd8de825e6c87ae79e3c513b74e19bcd/jupyterhub/templates/hub/deployment.yaml</a></li>
</ul>

<p>I have existing privileged pod security policies(all powerful, can do everything) that I can attach(to a serviceaccount for eg.) or set if required. Please let me know.
Ref: <a href=""https://gravitational.com/gravity/docs/cluster/#pod-security-policies"" rel=""nofollow noreferrer"">https://gravitational.com/gravity/docs/cluster/#pod-security-policies</a>
As you can see there, there is a PSP <code>privileged</code> which allows unrestricted use to the cluster.</p>
",750,0,<kubernetes><jupyterhub>,2020-01-10 05:31:56
59668396,if statment not working with python widget,"<p>I am working on a <code>Jupyter Notebook</code> in which I am creating a <code>tab widget</code> in python using the following code:</p>

<pre><code>import ipywidgets as widgets

tab_contents = ['P0', 'P1']
children = [widgets.Text(description=name) for name in tab_contents]
tab = widgets.Tab()
tab.children = children
for i in range(len(children)):
    tab.set_title(i, str(i))

if tab.selected_index ==0:
    vartest = 0
else:
    vartest = 1

display(tab)
</code></pre>

<p>In a different cell, I check the value of vartest by calling it</p>

<pre><code>vartest
</code></pre>

<p>The problem is that independently of the tab I have selected, vartest is always 0. What I want is that when I am in tab <code>P0</code> (<code>tab.selected_index ==0</code>), vartest should be 0, when I am in <code>P1</code> (<code>tab.selected_index ==1</code>) vartest should be 1.</p>

<p>What am I missing?</p>

<p>-- EDIT -- </p>

<p><a href=""https://i.stack.imgur.com/2KbIu.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/2KbIu.png"" alt=""enter image description here""></a></p>
",471,0,<python><if-statement><widget><ipywidgets>,2020-01-09 16:32:44
59665449,Keyboard shortcut to expand code snippets in JupyterLab,"<p>Does anyone know how to make a shortcut that would paste a certain code to the selected cell or expand a snippet into a chunk of code?<br>
For example I would like to fill a cell with a list of useful imports when pressing something like <code>Ctrl+Shift+M</code>. This would expand the cell content to:<br>
<code>import numpy as np 
 import pandas as pd 
(...) .</code> </p>

<p>Optionally this could work also like text completion tools available in some IDEs. For example when I write something like:<br>
<code>;imp + TAB</code> . </p>

<p>it would expand into the same list as above.</p>

<p>Any ideas how this could be defined in JupyterLab? </p>

<p>I saw <a href=""https://stackoverflow.com/questions/49440087/map-keyboard-shortcut-to-code-snippet-in-jupyter-lab"">this</a> answer, but it does not work for me (returning javascript error)</p>
",467,1,<jupyter-notebook><jupyter><jupyter-lab><jupyterhub>,2020-01-09 13:49:38
59653621,Defining a global variable from an ipywidget function using JupyterNotebook,"<p>I'm using ipywidgets to allow users to choose some value and I want to assign the result of the function inside the widget to a variable outside of the function and use it on the next cell of the Notebook (I tried using a global variable but I couldn't make it work):</p>

<pre><code>def issuer_choice():

    from ipywidgets import widgets
    from IPython.display import display, clear_output
    import pandas as pd

    def myfunc(idnum):
        return data.loc[idnum]['cod']

    def on_button_clicked(b):
        global ticker
        ticker = myfunc(w.value)
        with output:
            clear_output()
            print('Ticker CIQ: ' + ticker)

    data = pd.read_csv('data.csv', sep=',', index_col = 1)
    w = widgets.Dropdown(options=list(data.index), description = 'Label:')

    button = widgets.Button(description=""Obtain ID"")
    output = widgets.Output()

    display(w)        
    display(button, output)
    button.on_click(on_button_clicked)
    return ticker
</code></pre>

<p>When calling this function as <code>result = issuer_choice()</code> and clicking on the button, the code manages to print <code>ticker</code> correctly each time, meaning the value inside the function is updated when choosing among the options. However, calling <code>print(result)</code> on the next cell prints <code>None</code>, meaning <code>ticker</code> is not getting assigned to <code>result</code>?</p>

<p>*data.csv is just a one column DataFrame where a list of ID's and names are stored.</p>

<p>I'm thinking it has to be about the scope of the <code>ticker</code> variable, but I have no clue. I would appreciate any help.</p>
",2409,1,<python><ipywidgets>,2020-01-08 20:51:26
59644911,Unable to connect hivellap from pyspark,"<p>I am using pyspark kernel inside jupyterhub and want to connect hivellap from spark . I am able to create a spark session but when i am trying to execute 
 from pyspark_llap import HiveWarehouseSession it is showing error no module found pyspark_llap</p>

<p>The same command i am able to execute in python kernel and it successfully executed.</p>

<p>Kindly suggest what configuration is needed to import HiveWarehouseSession from pyspark_llap inside pyspark kernel.</p>
",103,2,<pyspark><jupyterhub><spark2>,2020-01-08 11:30:09
59636600,Removing tool bar and figure title when using jupyter-matplotlib,"<p>I'm using jupyter-matplotlib to embed charts as widgets in a jupyter widgets based dashboard.  However, I would like to disable the interactive tool bar and the figure title that automatically gets added.</p>

<p>As a simple example, the below creates an empty figure but it still has the interactive tool bar and Figure title.</p>

<pre><code>%matplotlib widget

import matplotlib.pyplot as plt

fig, ax = plt.subplots()
</code></pre>

<p>I would like to remove both the tool bar and figure title as well as anything else that is added padding around the plot, which I may not be able to see.</p>
",1698,1,<python><ipywidgets>,2020-01-07 21:54:30
59620852,Notebook “Stop My Server” slow to respond (5-10+ seconds) with Kubespawner,"<p>I’m running Jupterhub 0.9.4 with Kubespawner 0.10.1 on RedHat OpenShift 3.11. I’ve observed that the DELETE request sent when you “Stop My Server” routinely takes 5-10 seconds to complete. I’ve included logs below to illustrate this behavior.</p>

<p>I’ve experimented with the various configurable timeouts however none seem to remedy this behavior. Is this consistent with what others are seeing on K8S when terminating pods? Is there a way to configure the event reflector timeout_seconds field?</p>

<pre><code>*** jupyterhub logs ***
[D 2020-01-06 19:19:19.099 [ConfigProxy] debug: PROXY WEB /app/jupyter/hub/api/users/iman.administrator/server to http://127.0.0.1:8081 
[I 2020-01-06 19:19:19.118 JupyterHub proxy:264] Removing user iman.administrator from proxy (/app/jupyter/user/iman.administrator/)
[D 2020-01-06 19:19:19.119 JupyterHub proxy:686] Proxy: Fetching DELETE http://127.0.0.1:8082/api/routes/app/jupyter/user/iman.administrator 
19:19:19.121 [ConfigProxy] info: Removing route /app/jupyter/user/iman.administrator
19:19:19.121 [ConfigProxy] info: 204 DELETE /api/routes/app/jupyter/user/iman.administrator 
[I 2020-01-06 19:19:19.122 JupyterHub spawner:1758] Deleting pod jupyterhub-nb-iman-2eadministrator
[D 2020-01-06 19:19:19.618 JupyterHub reflector:263] events watcher timeout
[D 2020-01-06 19:19:19.618 JupyterHub reflector:202] Connecting events watcher
[D 2020-01-06 19:19:24.186 JupyterHub reflector:263] pods watcher timeout
[D 2020-01-06 19:19:24.186 JupyterHub reflector:202] Connecting pods watcher
[D 2020-01-06 19:19:24.221 JupyterHub user:578] Deleting oauth client jupyterhub-user-iman.administrator
[I 2020-01-06 19:19:24.237 JupyterHub base:779] User iman.administrator server took 5.119 seconds to stop
[I 2020-01-06 19:19:24.238 JupyterHub log:158] 204 DELETE /app/jupyter/hub/api/users/iman.administrator/server (iman.administrator@::ffff:xx.xx.xx.xx) 5137.15ms


*** minimal-notebook logs *** 
[I 2020-01-06 19:19:01.266 SingleUserNotebookApp log:158] 200 GET /app/jupyter/user/iman.administrator/api/sessions?_=1578338295737 (iman.administrator@::ffff:xx.xx.xx.xx) 1.98ms
++ kill -TERM 33
+ trap - TERM INT
+ wait 33
[C 2020-01-06 19:19:19.150 SingleUserNotebookApp notebookapp:1523] received signal 15, stopping
[I 2020-01-06 19:19:19.154 SingleUserNotebookApp notebookapp:1643] Shutting down 0 kernels
+ STATUS=0
</code></pre>
",188,0,<jupyter-notebook><jupyter><jupyterhub>,2020-01-07 00:56:25
59593689,Is it possible to pass streams.Selection1D value to ipywidgets?,"<p>I saw examples of pyviz streams with hv.DynamicMap only.</p>

<p>I need to visualize selected items  streams.Selection1D() from hv.Nodes() stream - on some kind of Label or TextArea - not on DynamicMap object.</p>

<p>Is it possible? </p>
",66,0,<python><ipywidgets><panel-pyviz><param-pyviz>,2020-01-04 18:35:19
59586889,Embed widgets with pythreejs: wrong perspective and camera look-at,"<p>I am using <code>pythreejs</code> to visualize some 3D models.</p>

<p>When visualizing the models on a Jupyter notebook, everything works as expected.</p>

<p>But when trying to embed the widget in an HTML document, I am facing two problems:</p>

<ul>
<li>It seems the camera, on load, is looking at (0, 0, 0), not as expected, and once you interact with the widget, the camera will ""jump"" and start looking at the expected coordinate</li>
<li>The <a href=""https://en.wikipedia.org/wiki/Orthographic_projection#/media/File:Comparison_of_graphical_projections.svg"" rel=""noreferrer"">projection</a> (ortographic camera mode) is lost too</li>
</ul>

<p>Here is the code to reproduce the error and an animation of the mentioned problem:</p>

<pre class=""lang-py prettyprint-override""><code>from ipywidgets import embed
from pythreejs import *
from IPython.display import display

base = Mesh(
    BoxBufferGeometry(20, 0.1, 20), 
    MeshLambertMaterial(color='green', opacity=0.5, transparent=True),
    position=(0, 0, 0),
)
cube = Mesh(
    BoxBufferGeometry(10, 10, 10), 
    MeshLambertMaterial(color='green', opacity=0.5, transparent=False),
    position=(0, 5, 0),
)
target = (0, 5, 0)
view_width = 600
view_height = 400
camera = CombinedCamera(position=[60, 60, 60], width=view_width, height=view_height)
camera.mode = 'orthographic'
lights = [
    PointLight(position=[100, 0, 0], color=""#ffffff""),
    PointLight(position=[0, 100, 0], color=""#bbbbbb""),
    PointLight(position=[0, 0, 100], color=""#888888""),
    AmbientLight(intensity=0.2),
]
orbit = OrbitControls(controlling=camera, target=target)
camera.lookAt(target)
scene = Scene(children=[base, cube, camera] + lights)
renderer = Renderer(scene=scene, camera=camera, controls=[orbit],
                    width=view_width, height=view_height)
camera.zoom = 4

embed.embed_minimal_html('export.html', views=renderer, title='Renderer')
display(renderer)
</code></pre>

<p>The result looks good in the notebook:</p>

<p><a href=""https://i.stack.imgur.com/u7QzE.gif"" rel=""noreferrer""><img src=""https://i.stack.imgur.com/u7QzE.gif"" alt=""enter image description here""></a></p>

<p>But when opening the <code>export.html</code> file:</p>

<p><a href=""https://i.stack.imgur.com/39izf.gif"" rel=""noreferrer""><img src=""https://i.stack.imgur.com/39izf.gif"" alt=""enter image description here""></a></p>

<p>Note how the view of the cube ""jumps"" suddenly on interaction and how the projection is different: <a href=""https://en.wikipedia.org/wiki/Orthographic_projection#/media/File:Comparison_of_graphical_projections.svg"" rel=""noreferrer"">perspective instead of orthographic (parallel) projection</a>.</p>

<p>Could it be an issue with ipywidgets? Since the view is okay when displayed in the notebook.</p>

<p>How could it be fixed?</p>
",640,6,<python><three.js><jupyter-notebook><ipywidgets><pythreejs>,2020-01-04 00:27:51
59577302,How to update a ipywidget called from the callback of an ipywidget?,"<p>I am having troubles understanding the functioning of <code>update</code> on an IPython <code>display</code>.</p>

<p>It seems that to be updated the widget needs to be instantiated at the top level and cannot be instantiated from the callback of an ipywidget.</p>

<p>Here is a non-working exampled of an IPython <code>display</code> called by a ipywidget <code>Button</code>:</p>

<pre class=""lang-py prettyprint-override""><code>import functools
import ipywidgets as widgets
from IPython.display import display
import random

def foo(b):
    label = display('Initial text', display_id = True)

    def on_button_click(b, label):
        label.update('New number {}'.format(random.random()))

    button = widgets.Button(description=""New number"")
    display(button)           
    button.on_click(functools.partial(on_button_click, label=label))


button = widgets.Button(description=""Button"")
button.on_click(foo)
display(button)
</code></pre>

<p><a href=""https://mybinder.org/v2/gist/danjjl/fe8e20f6e9c80de52b7a0e729a60a8b4/master?filepath=widget.ipynb"" rel=""nofollow noreferrer""><img src=""https://mybinder.org/badge_logo.svg"" alt=""Binder""></a></p>

<p>In this example clicking on <kbd>Button</kbd> displays a text <code>label</code> and a new button (<kbd>New number</kbd>).
However, clicking on <kbd>New number</kbd> does not update the text <code>label</code>.</p>

<p>Calling <code>foo(0)</code> directly works correctly. When the <kbd>New number</kbd> button is clicked, the text <code>label</code> is updated.</p>

<p>Is something wrong with the code example? Why can't an ipywidget be updated if it is instantiated from the callback of another widget?</p>
",3630,1,<python><jupyter-notebook><ipython><ipywidgets>,2020-01-03 10:55:19
59513896,How to upgrade IRKernel in Ubuntu?,"<p>On Ubuntu 18.04 LTS, while working R in JupyterNotebook (without Anaconda), the IRKernel is reading the R version 3.4. For using some packages like cowplot it is necessary to have at least version 3.5. </p>
",550,0,<r><jupyter-notebook><ubuntu-18.04><jupyter-irkernel>,2019-12-28 18:46:19
59512650,"iPyLeaflet: How to set English location names instead of names in local language (Arabic, Mandarin, Korean, etc.)","<p>Goal: I want to map the installed base of an OEM</p>

<p>I use the GoogleMaps - API for geocoding the addresses to longitude, latitude.
For the visualisation I apply iPyleaflet. All that works fine.</p>

<p>However the location names are shown in the local language/letter (e.g. Arabic, Mandarin, Korean, etc.) which makes the map difficult to read for the international community. See picture of Border Vietnam/China:</p>

<p><a href=""https://i.stack.imgur.com/ftgsJ.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/ftgsJ.jpg"" alt=""enter image description here""></a></p>

<p>Does anybody how to change the map visualization to english location names  ?</p>
",66,2,<python><jupyter-notebook><ipywidgets>,2019-12-28 16:20:17
59492266,How to call a BigQuery Function in Jupyter notebook,"<p>I use Jupyterhub to run BigQuery SQL and the usual syntax for my queries is:</p>

<pre><code>import google.datalab.bigquery as bq

sql_qry = ""select * from table""

query = bq.Query(sql_qry)
sql_job = query.execute(output_options = bq.QueryOutput.table(name='output_table',
                                                              mode='overwrite'))
</code></pre>

<p>But I am trying to use a BigQuery function on Jupyterhub:</p>

<pre><code>CREATE TEMP FUNCTION first_letter(x STRING) AS (
SUBSTR(x, 1, 1)
);
</code></pre>

<p>Any idea how I can parse this? I can certainly just add it as a string to each query but because of the syntax I can't simply sequentially run that query with other queries in the same string.</p>
",353,0,<google-bigquery><jupyter-notebook><jupyterhub>,2019-12-26 18:45:19
59490619,"Creating an interactive plot with pandas and ipywidgets, using values from dataframe column as inputs","<p>I have a Pandas dataframe which lists a number of companies, the number of consumer complaints which they have received within the month, and the month when they were received:</p>

<p><a href=""https://i.stack.imgur.com/kLX99.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/kLX99.png"" alt=""Company complaints""></a></p>

<p>I am trying to create an interactive plot where all of the values under 'company' are displayed in a dropdown menu, and when a user chooses a company string, a line plot will automatically update to see how many complaints the company has received over time.  I have the separate components built to some extent:</p>

<pre><code>dropdown = widgets.Dropdown(options = sorted(list(set(df['company']))))
</code></pre>

<p>will display</p>

<p><a href=""https://i.stack.imgur.com/YIXAp.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/YIXAp.png"" alt=""dropdown""></a></p>

<p>And then I can execute the following code to display a plot with the <code>dropdown.value</code>, either with <code>df.plot</code> or <code>df.iplot</code>:</p>

<p><code>df.plot</code> example:</p>

<pre><code>def line_plot(df, company):

    df = df[df['company'] == company]

    df.set_index('month').plot()

line_plot(df, dropdown.value)
</code></pre>

<p><a href=""https://i.stack.imgur.com/NS9fM.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/NS9fM.png"" alt=""df.plot example""></a></p>

<p><code>df.iplot</code> example:</p>

<pre><code>df1 = df[df['company'] == dropdown.value]
df1.iplot(kind = 'line', x = 'month', y = 'complaints')
</code></pre>

<p><a href=""https://i.stack.imgur.com/UIh8o.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/UIh8o.png"" alt=""df.iplot example""></a></p>

<p>Where I am having trouble is actually figuring out how to use the company name as an input for the plot that I want to generate.  I have been reading up on ipywidgets and all of the examples I find use the dataframe columns themselves as the dropdown menu values rather than particular column values.  I've tried the following:</p>

<pre><code>@interact
def line_plot(company = sorted(df['company'].unique())):

    df = df[df['company'] == company]

    df.iplot(kind = 'line', x = company)
</code></pre>

<p>And get this traceback:</p>

<pre><code>---------------------------------------------------------------------------
UnboundLocalError                         Traceback (most recent call last)
/Applications/anaconda3/lib/python3.7/site-packages/ipywidgets/widgets/interaction.py in update(self, *args)
    254                     value = widget.get_interact_value()
    255                     self.kwargs[widget._kwarg] = value
--&gt; 256                 self.result = self.f(**self.kwargs)
    257                 show_inline_matplotlib_plots()
    258                 if self.auto_display and self.result is not None:

&lt;ipython-input-1040-3e3ff8e76afe&gt; in line_plot(company)
      2 def line_plot(company = sorted(df['company'].unique())):
      3 
----&gt; 4     df = df[df['company'] == company]
      5 
      6     df.iplot(kind = 'line', x = company)

UnboundLocalError: local variable 'df' referenced before assignment
</code></pre>

<p>As well as:</p>

<pre><code>interactive_plot = interactive(line_plot, df = df, company = sorted(list(set(df['company']))))
interactive_plot
</code></pre>

<p>And receive</p>

<pre><code>---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
/Applications/anaconda3/lib/python3.7/site-packages/ipywidgets/widgets/interaction.py in update(self, *args)
    254                     value = widget.get_interact_value()
    255                     self.kwargs[widget._kwarg] = value
--&gt; 256                 self.result = self.f(**self.kwargs)
    257                 show_inline_matplotlib_plots()
    258                 if self.auto_display and self.result is not None:

&lt;ipython-input-1026-e7a7c82e3c6b&gt; in line_plot(df, company)
      1 def line_plot(df, company):
      2 
----&gt; 3     df = df[df['company'] == company]
      4 
      5     df.set_index('month').plot()

TypeError: string indices must be integers
</code></pre>

<p>Am I heading in the right direction, or is what I am trying to achieve even possible with ipywidgets?  I will continue to investigate how this might work.</p>
",1981,4,<python><pandas><matplotlib><ipywidgets>,2019-12-26 15:52:17
59490375,Is there a better way to use Jupyter IntSlider with Python Plotly?,"<p>In the following code block I use a Jupyter IntSlider to adjust the number of dots visualized in a Plotly express scatter 3d plot. The example already fits my use case, but I noticed that Plotly has <a href=""https://plot.ly/python/sliders/"" rel=""nofollow noreferrer"">built-in slider functionalities</a> that could improve the performance.</p>

<p>As a Plotly beginner I find it quite hard to map the slider example from Plotly to my use case.
Any suggestions?</p>

<pre><code>import numpy as np
import plotly.express as px
import pandas as pd
from ipywidgets import interact, widgets

NUM_DOTS = 100
NUM_DIMS = 3

random_data = pd.DataFrame(np.random.random((NUM_DOTS,NUM_DIMS) ), columns=['x_1','x_2','x_3'])

def update_plotly(x):
    fig = px.scatter_3d(random_data[:x], x='x_1', y='x_2', z='x_3')
    fig.show()

interact(update_plotly, x=widgets.IntSlider(min=1, max=NUM_DOTS, step=1, value=NUM_DOTS))
</code></pre>
",506,1,<python><jupyter-notebook><ipywidgets><plotly-python>,2019-12-26 15:27:37
59488407,JupyterHub with C# kernels under the docker container,"<p>I am trying to create docker container to run C# jupyter kernels for different user under jupyterhub. I do it as follow: I put <em>Dockerfile</em>, <em>config.py</em>, <em>jupyterhub_users.py</em> into folder then build and run it.</p>

<p><em>Dockerfile</em></p>

<pre><code>FROM ubuntu:latest

ENV HOME /root

RUN apt-get update  &amp;&amp; \
    apt-get upgrade -y &amp;&amp; \
    apt-get install apt-transport-https -y &amp;&amp; \
    apt-get install wget -y

RUN wget https://repo.anaconda.com/archive/Anaconda3-2019.10-Linux-x86_64.sh -O Anaconda3-2019.10-Linux-x86_64.sh -q
RUN bash Anaconda3-2019.10-Linux-x86_64.sh -b -p /opt/anaconda3
ENV PATH=$PATH:/opt/anaconda3/bin:/opt/anaconda3/bin/conda
RUN conda init bash &amp;&amp; \
    conda update -n base -c defaults conda

RUN wget https://packages.microsoft.com/config/ubuntu/19.04/packages-microsoft-prod.deb -O packages-microsoft-prod.deb -q
RUN dpkg -i packages-microsoft-prod.deb
RUN apt-get update  &amp;&amp; \
    apt-get install dotnet-sdk-3.0 -y &amp;&amp; \
    apt-get install dotnet-sdk-2.1 -y
RUN dotnet tool install -g dotnet-try
ENV PATH=$PATH:/root/.dotnet/tools
RUN dotnet try jupyter install

RUN conda install -c conda-forge jupyterhub &amp;&amp; \
    conda install notebook

RUN jupyter-kernelspec install /root/.local/share/jupyter/kernels/.net-csharp

COPY config.py config.py
COPY jupyterhub_users.py jupyterhub_users.py
RUN python config.py
</code></pre>

<p><em>config.py</em>:</p>

<pre><code>import os
import jupyterhub_users

for user_group in [jupyterhub_users.admins, jupyterhub_users.users]:
    for user_name, user_password in user_group.items():
        bash_command = f'adduser {user_name} --disabled-password --force-badname --gecos ""User"" --home /home/{user_name} --shell /bin/bash --quiet'
        print(bash_command)
        os.system(bash_command)
        bash_command = f'echo ""{user_name}:{user_password}"" | chpasswd'
        os.system(bash_command)
        print(bash_command)
jupyterhub_configs = [
    'c.Spawner.args = [\'--allow-root\']\n',
    'c.Spawner.cmd = [\'jupyterhub-singleuser\']\n',
    'c.Spawner.default_url = \'/lab\'\n',
    'c.Authenticator.admin_users = {%s}\n' % ', '.join([f'\'{u}\'' for u in jupyterhub_users.admins.keys()]),
    'c.Authenticator.whitelist = {%s}\n' % ', '.join([f'\'{u}\'' for u in jupyterhub_users.users.keys()])
]
os.system('mkdir /etc/jupyterhub/')
with open('/etc/jupyterhub/jupyterhub_config.py', 'w') as fout:
    fout.write(''.join(jupyterhub_configs))
</code></pre>

<p><em>jupyterhub_users.py</em> - contains two dictionaries: admins, users.</p>

<p>and then all I need is to execute <strong>jupyterhub -f /etc/juptyerhub/jupyterhub_config.py</strong>. But there is a some tricky thing: I can login as any of created user, but I can't run C# cells, but if I interrupt jupyterhub and change appropriate line in /etc/passwd (user:x:0:0:User,,,:/home/user:/bin/bash - I suppose that I have change user and group id for user) then I am able to run C# kernel, but if I log out I can't login back.</p>

<p>So I can login and can't run C# kernel or I can't login and can run C# kernel.</p>

<p>So how to set permissions for created users properly?</p>
",349,0,<c#><docker><jupyter-notebook><jupyterhub>,2019-12-26 12:20:50
59462182,Embed widgets with jupyter-cadquery (threejs): wrong position on load,"<p>I am using <a href=""https://github.com/bernhard-42/jupyter-cadquery"" rel=""nofollow noreferrer""><code>jupyter-cadquery</code></a> to visualize some 3D models made with <a href=""https://github.com/CadQuery/cadquery"" rel=""nofollow noreferrer"">CadQuery</a>.</p>

<p>When visualizing the models on a Jupyter notebook, everything works as expected.</p>

<p>But when trying to embed the widget in an HTML document, it seems the camera, on load, is pointing to <code>(0, 0, 0)</code>, not as expected. Once you interact with the widget, the camera will point to the expected coordinate.</p>

<p>Here is the code to reproduce the error and an animation of the mentioned problem (see instructions bellow on how to reproduce it with Binder):</p>

<pre class=""lang-py prettyprint-override""><code>from cadquery import Workplane
from ipywidgets import embed
from jupyter_cadquery.cad_view import CadqueryView
from jupyter_cadquery.cadquery import Assembly
from jupyter_cadquery.cadquery import Part


# Create a simple assembly
box1 = Workplane('XY').box(10, 10, 10).translate((0, 0, 5))
a1 = Assembly([Part(box1)], ""example 1"")

# Generate HTML
a1.collect_shapes()
view = CadqueryView()
for shape in a1.collect_shapes():
    view.add_shape(shape[""name""], shape[""shape""], shape[""color""])
renderer = view.render()
embed.embed_minimal_html('export.html', views=renderer, title='Renderer')

renderer
</code></pre>

<p><img src=""https://user-images.githubusercontent.com/526577/71121079-034c2680-21de-11ea-850f-8bd4e9745863.gif"" alt=""output""></p>

<p>Note how the view of the cube ""jumps"" suddenly on interaction.</p>

<p>Could it be an issue with <code>ipywidgets</code>? Since the view is okay when displayed in the notebook.</p>

<p>How could it be fixed?</p>

<h1>How to reproduce</h1>

<p>You can reproduce it with Binder, without needing to create a local environment (admitedly, installing CadQuery/jupyter-cadquery is not the easiest/fastest thing to do):</p>

<p><a href=""https://mybinder.org/v2/gh/bernhard-42/jupyter-cadquery/master?urlpath=lab&amp;filepath=examples%2Fcadquery.ipynb"" rel=""nofollow noreferrer"">https://mybinder.org/v2/gh/bernhard-42/jupyter-cadquery/master?urlpath=lab&amp;filepath=examples%2Fcadquery.ipynb</a></p>

<p>Just execute the code above in a new empty notebook. See how the <code>renderer</code> shows the 3D model without any issues on the notebook:</p>

<p><img src=""https://user-images.githubusercontent.com/526577/71379400-5dc4f880-25cb-11ea-9652-46b20334d086.png"" alt=""Screenshot from 2019-12-23 21-28-42""></p>

<p>After execution, an <code>export.html</code> document will also appear in the file list on the left. Open it and make sure to click on the ""Trust HTML"" button on top of the viewer and hit refresh. If you interact with the view, you can reproduce the issue.</p>

<p><img src=""https://user-images.githubusercontent.com/526577/71379220-cd86b380-25ca-11ea-9291-0ac3fcbcc52b.png"" alt=""Screenshot from 2019-12-23 21-25-21""></p>

<p>Note that, also, the perspective is lost (that is not an orthogonal view). Fixing that would be a plus! ^^</p>
",547,8,<python><jupyter-notebook><three.js><ipywidgets><cadquery>,2019-12-23 23:09:26
59442709,What is the best way to maximize jupyterhub pods resources assignment,"<p>We have an Openshift environment on our company.<br>
We're trying to maximize the resources between our data scientists using jupyterhub.<br>
Is there an option for assigning more resources <strong>dynamicly</strong> per demand (if there are free resources avaliable). </p>
",92,0,<docker><kubernetes><jupyterhub>,2019-12-22 08:31:45
59435384,The ipywidgets function FileUpload is not found when run on Jupyter notebook,"<p>From the ipywidgets guide for users I copied and run </p>

<pre><code>import ipywidgets as widgets
widgets.FileUpload(
    accept='',  # Accepted file extension e.g. '.txt', '.pdf', 'image/*', 'image/*,.pdf'
    multiple=False  # True to accept multiple files upload else False
)
</code></pre>

<p>But I get the error </p>

<pre><code>---------------------------------------------------------------------------
AttributeError                            Traceback (most recent call last)
&lt;ipython-input-4-db1cf4369e31&gt; in &lt;module&gt;
      1 import ipywidgets as widgets
----&gt; 2 widgets.FileUpload(
      3     accept='',  # Accepted file extension e.g. '.txt', '.pdf', 'image/*', 'image/*,.pdf'
      4     multiple=False  # True to accept multiple files upload else False
      5 )

AttributeError: module 'ipywidgets' has no attribute 'FileUpload'
</code></pre>

<p>What might be the reason for this error? Any pointers would be great.</p>

<p>I'm running jupyter notebook with Python 3 kernel.</p>
",1091,0,<python><file-upload><jupyter-notebook><ipywidgets>,2019-12-21 10:29:11
59421195,Jupyterhub: PermissionError: [Errno 13] Permission denied: 'jupyterhub-proxy.pid',"<p>I'm trying to install Jupyterhub on Linux server.
So I have sudo rights but I'm not a root.
I already configured JupyterHub and it's config, so I can run it in single-user mode (from different folders too).</p>
<p>But I have this error when trying to start multi-user as described here:
<a href=""https://github.com/jupyterhub/jupyterhub/wiki/Installation-of-Jupyterhub-on-remote-server#run-jupyterhub-as-a-system-service"" rel=""nofollow noreferrer"">official documentation link</a>.</p>
<p>I faced the same problem before with <code>configurable-http-proxy</code> and <code>jupyterhub.sqlite</code> - the problem was multi-user script try to save this files in system directory (<code>/lib/systemd/system/jupyterhub.service</code> or  <code>/etc/systemd/system/jupyterhub.service</code>).</p>
<p>I changes such parameters in <code>jupyter_config.py</code>:</p>
<pre><code>## url for the database. e.g. `sqlite:///jupyterhub.sqlite`
c.JupyterHub.db_url = 'sqlite:////data/jupyterhub/jupyterhub.sqlite'

## DEPRECATED since version 0.8. Use ConfigurableHTTPProxy.command
#c.JupyterHub.proxy_cmd = []
c.ConfigurableHTTPProxy.command = '/data/anaconda3/envs/fraud/bin/configurable-http-proxy'
</code></pre>
<p>So I tried the same way for <code>jupyterhub-proxy.pid</code>:</p>
<pre><code>## File to write PID Useful for daemonizing JupyterHub.
c.JupyterHub.pid_file = '/data/jupyterhub/jupyterhub-proxy.pid'
</code></pre>
<p>But looks like JupyterHub ignores it and still trying to save it to system directory!
I add <code>print</code> to <code>jupyterhub/proxy.py</code> at <code>_write_pid_file(self)</code> function:</p>
<pre><code>self.log.info(&quot;Writing log: %s&quot;, self.pid_file)
self.log.info(&quot;Writing log: %s&quot;, os.path.abspath(os.curdir))
</code></pre>
<p>Output:</p>
<blockquote>
<p>[I 2019-12-19 20:23:50.289 JupyterHub proxy:562] Writing proxy pid file: jupyterhub-proxy.pid</p>
<p>[I 2019-12-19 20:23:50.290 JupyterHub proxy:564] Writing log: /</p>
</blockquote>
<p>My idea - maybe there is another one config parameter I need to change, but I can't find anythig relevant.</p>
",1321,1,<python><linux><proxy><sudo><jupyterhub>,2019-12-20 07:11:48
59409280,Can't run jupyterhub in docker container,"<p>I launch the jupyterhub service as follow (command is taken from <a href=""https://jupyterhub.readthedocs.io/en/stable/quickstart-docker.html#starting-jupyterhub-with-docker"" rel=""nofollow noreferrer"">here</a>):</p>

<pre><code>docker run -d -p 8000:8000 --name jupyterhub jupyterhub/jupyterhub jupyterhub
</code></pre>

<p>I also tried this one from the <a href=""https://jupyterhub.readthedocs.io/en/stable/troubleshooting.html#jupyterhub-docker-container-not-accessible-at-localhost"" rel=""nofollow noreferrer"">troubleshooting</a> section:</p>

<pre><code>docker run -p 8000:8000 -d --name jupyterhub jupyterhub/jupyterhub jupyterhub --ip 0.0.0.0 --port 8000
</code></pre>

<p>But I have an error message when open <code>localhost:8000</code>:</p>

<pre><code>This page isn’t working localhost is currently unable to handle this request.
HTTP ERROR 500
</code></pre>

<p>How can I overcome this problem?</p>
",167,0,<docker><jupyter-notebook><jupyterhub>,2019-12-19 11:54:47
59373517,Easy analytics dashboard using python,"<p>I'm working on a project where I run some python code on data on my local machine to generate an analytics dashboard to be shared with some business clients. These users don't know python and the dashboard should be interactive and support filtering options where the user can choose some options and the dashboard view is recomputed based on this. I'm exploring these options right now:</p>

<ol>
<li><p>Connect to data db and use Superset or Dash to visualise the plots. Since I'm not very familiar working with webapps, I'm struggling a bit to share the dashboards I created with users and managing permissions. Is there a way where I can embed the dashboards using inline html that would also support recomputation of aggregation fields based on filter attributes (eg- mean/median). Or do I need to host them and provide access to the dashboard to each user?</p></li>
<li><p>Create the report in the form of a juputer-notebook with widgets that a user can select. What's the best way to share these notebooks? I considered Binder but not sure how to connect my db with it. Jupyterhub seems to expose the entire code that's something I don't want. </p></li>
</ol>

<p>Some additional details: the underlying datasets used are not too big and the number of business users would be less than 20. Basically, I would like to explore options where the learning curve is not too high and avoid the server hosting route if possible. Please let me know if this is achievable or if there are other options available. Thanks. </p>
",249,1,<jupyter-notebook><dashboard><plotly-dash><jupyterhub><superset>,2019-12-17 11:41:30
59358597,ipywidgets incomatible with Python 3.8,"<p>Is there a conda version of  ""ipywidgets"" which is compatible with Python 3.8 ?</p>

<p>I am getting the following error while trying to install using ""conda install -c anaconda ipywidgets"".</p>

<p>Error : UnsatisfiableError: The following specifications were found
to be incompatible with the existing python installation in your environment:</p>
",163,0,<conda><ipywidgets><python-3.8>,2019-12-16 14:24:31
59342961,How to remove the window title of a matplotlib figure when using the widget backend,"<p>I use the widget backend to embed an interactive matplotlib figure in an <code>ipywidgets.GridBox</code>.
The window title takes up too much space and I want to remove it.
With <code>plt.figure(' ')</code> it becomes invisible but even with <code>fig.tight_layout()</code> the space is still reserved and takes up useless space in my layout.
Below is a minimal example.</p>

<pre><code>import matplotlib.pyplot as plt
%matplotlib widget
plt.ioff()
fig = plt.figure('remove the title')
plt.plot([0,1],[0,1])
fig.tight_layout()
display(fig.canvas)
</code></pre>

<p>I found a few examples <a href=""https://github.com/matplotlib/jupyter-matplotlib"" rel=""nofollow noreferrer"">here</a> but no complete list of backend specific options. 
In this related post a solution for the notebook backend is given. <a href=""https://stackoverflow.com/questions/52620922/what-is-the-official-name-of-this-title-bar-from-matplotlib-how-to-hide-it?noredirect=1&amp;lq=1"">what is the official name of this title bar from matplotlib, how to hide it</a></p>
",1350,2,<python><matplotlib><jupyter-notebook><ipywidgets>,2019-12-15 10:23:55
59269548,How to hide ipywidget code in Jupyter Notebook,"<p>I am writting a jupyter notebook in which at the begining I am creating a complex <code>tab</code> <code>ipywidget</code> for the user to select some inptus (see picture). I am wondering if there is any way to <em>hide</em> to the user the code cell that contains the code to create that widget. </p>

<p>I saw on this forum some questiosn about hiding code when exporting the notebook but in my case the user will access the j_notebook online. Just would like to avoid complexity by hiding some code cells</p>

<p><a href=""https://i.stack.imgur.com/8Q0UH.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/8Q0UH.png"" alt=""enter image description here""></a></p>
",2311,1,<python><jupyter-notebook><widget><hide><ipywidgets>,2019-12-10 14:32:31
59181767,Partial refresh or clear of Jupyter cell display after Python function runs,"<p>I am using Python 3.7.1 and Jupyter Notebook 6.0.1 via Anaconda.</p>

<p>I am attempting to run some basic analysis in Python using a function initialized by an ipywidget dropdown list to filter data.  If the value in the dropdown changes, my desired state is to have the dropdown list remain on the screen, but refresh any data as filtered by the function.  I have constructed the following example in an attempt to further test this out:</p>

<pre><code>import ipywidgets as widgets
from IPython.display import clear_output
def mytest(x):
    outs = widgets.Output()
    outs.clear_output()
    with outs:
        lookhere = mytestfilter.value
        if lookhere==1:
            print(""hello"")
        if lookhere==0:
            print(""goodbye"")
    display(outs)

mytestfilter = widgets.Dropdown(options={'night': 0, 'morning': 1}, description=""FILTER"")
display(mytestfilter)
outs=mytestfilter.observe(mytest, names='value')
</code></pre>

<p>Basically, in this example, the desired state would be to erase ""hello"" or ""goodbye"" and replace it with the proper term when ""FILTER"" is changed.  Ultimately, this will be adapted to filter a pandas grid.  I have tried using Ipython.display and assembling the function to an output to be cleared, however, depending on what I do, it is either clearing everything or clearing nothing.</p>

<p>Things I have tried:
-I attempted moving the clear_output to the beginning of the function to clear anything existing.  Since on the first run the ""outs"" variable does not exist, I also attempted housing this in an if statement as well as a try/except.  It did not appear to do anything.
-I have attempted different orders of assigning the variable, displaying the variable and clearing the output with no success.</p>

<p>My suspicion is the problem may partially be in the way the function is running and the variable exists inside the function.  It seems as though it kicks off a new output and once the function is escaped, the output remains in the notebook regardless of what I attempt to clear the next time the function runs.</p>

<p>I referenced the following example when attempting to set up my test:
<a href=""https://github.com/jupyter-widgets/ipywidgets/issues/1744"" rel=""nofollow noreferrer"">https://github.com/jupyter-widgets/ipywidgets/issues/1744</a></p>
",3319,2,<python><python-3.x><jupyter-notebook><ipython><ipywidgets>,2019-12-04 17:32:12
59181488,How can Jupyter notebook widgets be made to persist when the notebook browser window is refreshed?,"<p>Jupyter widgets, like a HTML progress bar, vanish when a notebook browser window is refreshed (or when one reconnects to a notebook remotely). I'm trying to see how they might be made to persist and re-render when the window is refreshed.</p>

<p>Let's say I have Jupyter set up with widgets like this:</p>

<pre><code>jupyter nbextension enable --py widgetsnbextension
</code></pre>

<p>And then I launch a notebook like this:</p>

<pre><code>import time

import ipykernel
import ipywidgets
import IPython
import jupyter
import notebook
import tqdm
import tqdm.notebook
import widgetsnbextension

print('ipykernel version: ', ipykernel.__version__)
print('ipywidgets version: ', ipywidgets.__version__)
print('IPython version: ', IPython.__version__)
print('Jupyter version: ', jupyter.__version__)
print('Jupyter notebook version: ', notebook.__version__)
print('tqdm version: ', tqdm.__version__)
print('widgetsnbextension version: ', widgetsnbextension.__version__)
</code></pre>

<p>The printout of versions I get when I do this is as follows:</p>

<pre><code>ipykernel version:  5.1.3
ipywidgets version:  7.5.1
IPython version:  7.9.0
Jupyter version:  1.0.0
Jupyter notebook version:  6.0.2
tqdm version:  4.40.0
widgetsnbextension version:  3.5.1
</code></pre>

<p>Now after those imports, I set a progress bar widget going:</p>

<pre><code>for i in tqdm.notebook.tqdm(list(range(0, 1000))):
    time.sleep(1)
</code></pre>

<p>So, I see a nice graphical progress bar like this:</p>

<p><img src=""https://i.stack.imgur.com/Ugu7n.png"" alt=""""></p>

<p>Now, if I close the window and open it again, or simply refresh the page, suddenly this graphical progress bar vanishes and I am left with the text like <code>HBox(children=(FloatProgress(value=0.0, max=1000.0), HTML(value='')))</code>:</p>

<p><img src=""https://i.stack.imgur.com/j05CA.png"" alt=""""></p>

<p>What's going wrong? How can I get my lovely widgets to persist?</p>
",754,8,<python><widget><jupyter><ipywidgets><tqdm>,2019-12-04 17:16:22
59123005,How to save state of ipython widgets in jupyter notebook using python code,"<p>I am using ipython widgets in my jupyter notebook. Now when kernel is restarted, the widget state is lost and a message is displayed:</p>

<p>“Jupyter widget could not be displayed because the widget state could not be found. This could happen if the kernel storing the widget is no longer available, or if the widget state was not saved in the notebook. You may be able to create the widget by running the appropriate cells”</p>

<p>So when a user reopens his notebook after a kernel restart, he doesn't find the widget in the notebook that he had earlier. We want to save all widgets state so the after kernel restart when user reopens the notebook, he finds all his widgets intact. </p>

<p>PS: There is ""save widget state"" menu option which does that but that is a manual step and we want widgets state to be saved through our python code.</p>
",3056,2,<python><jupyter-notebook><ipython><jupyter><ipywidgets>,2019-12-01 06:12:57
59066673,Django - JupyterHub - OAuth2 - Jupyter Notebook Interaction,"<p>I have a rather complex requirement. Here is what I hope to achieve.</p>

<ul>
<li>A Django backend that shall host all kinds of information about the user of a service.</li>
<li>User will log into Django backend and can send some instructions or query to the service.
OR</li>
<li>The user can access a Jupyter notebook from within the Django app and use an API to communicate the query to the service. This might be a preferred mode of accessing the service since the results are something that need further analysis using Python.</li>
<li>Whether it is a query sent using a form within the Django service OR whether query is sent using a Python API from within a notebook, it is sent to the same web URL/endpoint so that the query can be logged etc.</li>
<li>This URL is protected by authentication.</li>
</ul>

<p>Now, what I have managed to do so far is the following:</p>

<ul>
<li>Configure Django to provide OAuth based authentication.</li>
<li>Configure JupyterHub to communicate with Django and start a user specific notebook server.</li>
<li>I have even figured out how to use Jupyter Notebook Extensions to pre-populate any new notebook with the relevant code and comments that will help the user use our API.</li>
</ul>

<p>Now, our API could have a <code>.query()</code> method which I could call like <code>API.query('the query')</code>. Then there will be a whole lot of other methods to track the progress of the query etc. Now, I was thinking of using the 'requests' library to send a POST to the endpoint within Django in-charge of receiving the query and submitting to a task queue. But since this Django endpoint is login protected, I need the headers of this request to be populated with an OAuth access token.</p>

<p>Here is the actual question - how</p>

<ul>
<li>within a notebook</li>
<li>running on a notebook server</li>
<li>authenticated by JupyterHub via OAuth through Django</li>
<li>can I get the 'access token'</li>
<li>so that I can attach it to all request headers</li>
<li>which communicate with protected endpoints in my Django application.</li>
</ul>

<p>My research efforts so far</p>

<ul>
<li>The Jupyterhub REST API (<a href=""https://jupyterhub.readthedocs.io/en/stable/reference/rest.html"" rel=""nofollow noreferrer"">https://jupyterhub.readthedocs.io/en/stable/reference/rest.html</a>) - does not seem to provide straightforward endpoints which can help me fetch the access tokens.</li>
<li>The Jupyterhub API (<a href=""https://jupyterhub.readthedocs.io/en/stable/api/"" rel=""nofollow noreferrer"">https://jupyterhub.readthedocs.io/en/stable/api/</a>) - I don't come from a solid Tornado background to be able to understand this. I think the answer lies here. But I am not sure.</li>
<li>During a discussion on Github issues, I came across this (<a href=""https://github.com/wildtreetech/ohjh/tree/master/images/refresher"" rel=""nofollow noreferrer"">https://github.com/wildtreetech/ohjh/tree/master/images/refresher</a>). But I'm not sure if this will truly satisfy my requirements. A comment on a) if this is what I need and b) can I use it as is for my use case as is or c) after modifications would be great.</li>
</ul>

<p>If there is a completely different approach that can help meet these requirements, I would be open to this as well.</p>
",382,1,<django><authentication><oauth><jupyter-notebook><jupyterhub>,2019-11-27 09:12:53
59037370,JupyterHub proxy-public svc has no external IP (stuck in <pending>),"<p>I am using helm to deploy JupyterHub (version 0.8.2) to kubernetes (AWS managed kubernetes ""EKS""). I have a helm config to describe the proxy-public service, with an AWS elastic load balancer:</p>

<pre><code>proxy:
  secretToken: """"
  https:
    enabled: true
    type: offload
  service:
    annotations:
      service.beta.kubernetes.io/aws-load-balancer-ssl-cert: ...
      service.beta.kubernetes.io/aws-load-balancer-backend-protocol: ""tcp""
      service.beta.kubernetes.io/aws-load-balancer-ssl-ports: ""443""
      service.beta.kubernetes.io/aws-load-balancer-connection-idle-timeout: '1801'
</code></pre>

<p>Problem: When I deploy JupyterHub to EKS via helm:</p>

<pre><code>helm upgrade --install jhub jupyterhub/jupyterhub --namespace jhub --version=0.8.2 --values config.yaml
</code></pre>

<p>The proxy-public svc never get's an external IP. It is stuck in pending state:</p>

<pre><code>&gt; kubectl get svc
NAME           TYPE           CLUSTER-IP       EXTERNAL-IP   PORT(S)                      AGE
hub            ClusterIP      172.20.241.23    &lt;none&gt;        8081/TCP                     15m
proxy-api      ClusterIP      172.20.170.189   &lt;none&gt;        8001/TCP                     15m
proxy-public   LoadBalancer   172.20.72.196    &lt;pending&gt;     80:31958/TCP,443:30470/TCP   15m
</code></pre>

<p>I did <code>kubectl describe svc proxy-public</code> and kubectl get events and there does not appear to be anything out of the ordinary. No errors.</p>
",847,1,<amazon-web-services><kubernetes-helm><amazon-elb><amazon-eks><jupyterhub>,2019-11-25 17:41:16
59036079,Issue with GridspecLayout (Ipywidgets) on Colaboratory,"<p>I'm trying to place two graphs in individual cells of the grid, created using GridspecLayout from Ipywidgets. However, the plots appear to the left of the interactive controls, instead of below as supposed to.</p>

<p>This picture <a href=""https://drive.google.com/open?id=1Zi2iRUCHCH_mcj37N7blK8VwAI1t1pz9"" rel=""nofollow noreferrer"">here</a> shows the issue in Colaboratory, while this picture <a href=""https://drive.google.com/open?id=1h5RnV6EEgYz3BMvbZVsweiuqXEWkU8WS"" rel=""nofollow noreferrer"">here</a> shows how I expect it to look (from Jupyter Notebook via Anaconda)</p>

<p>The code below reproduces both pictures, depending on the front end used.</p>

<pre><code>import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import ipywidgets as widgets
from ipywidgets import GridspecLayout,HTML,Layout,interactive_output 

grid = GridspecLayout(5,8)
testTable = pd.DataFrame({'a':np.random.randn(10),
                          'b':np.random.randn(10),
                          'c':np.random.randn(10),
                          'd':np.random.randn(10),
                          'e':np.random.randn(10)})
def plotData(x):
  plt.figure()
  if len(x) &gt; 1:
    plt.plot(testTable.loc[list(x)])
  else:
    plt.plot(testTable.loc[x])
  plt.show()

# header
grid[0,:] = widgets.HTML(value = f""&lt;center&gt;&lt;font size = 6&gt;&lt;b&gt;&lt;font color='red'&gt;{'Historical Overview'}&lt;/b&gt;&lt;/center&gt;"")
# Sub-headlines
grid[1,2] = widgets.HTML(value = f""&lt;center&gt;&lt;font size = 2&gt;&lt;u&gt;&lt;font color='red'&gt;{'Historical Development Graph'}&lt;/u&gt;&lt;/center&gt;"")
grid[1,4] = widgets.HTML(value = f""&lt;center&gt;&lt;font size = 2&gt;&lt;u&gt;&lt;font color='red'&gt;{'Upper Pie Chart'}&lt;/u&gt;&lt;/center&gt;"")
grid[1,6] = widgets.HTML(value = f""&lt;center&gt;&lt;font size = 2&gt;&lt;u&gt;&lt;font color='red'&gt;{'Lower Pie Chart'}&lt;/u&gt;&lt;/center&gt;"")
# Interactive controls and descriptions
grid[2,1] = widgets.HTML(value = f""&lt;center&gt;&lt;font color='red'&gt;{'Categories:'}"")
grid[2,2] = widgets.SelectMultiple(options=testTable.index,
                                   disabled=False,
                                   value = [0])
grid[2,3] = widgets.HTML(value = f""&lt;center&gt;&lt;font color='red'&gt;{'Time periods:'}"")
grid[2,4] = widgets.SelectMultiple(options=testTable.index,
                           value = [0],
                           disabled = False)
grid[2,5] = widgets.HTML(value = f""&lt;center&gt;&lt;font color='red'&gt;{'Time periods:'}"")
grid[2,6] = widgets.Select(options=testTable.columns,
                           value = 'a',
                           disabled = False)
# Graphs
grid[3,1:4] = widgets.interactive_output(plotData, {'x':grid[2,2]});
grid[3,4:8] = interactive_output(plotData, {'x':grid[2,4]});

display(grid)
</code></pre>

<p>I'm working on Colaboratory and Jupyter Notebook via Anaconda, both via Chrome on Windows 10.
This has been tested on JupyterLab via Firefox on Mac as well, which is why I suspect it to be an issue with Colaboratory.</p>

<p>In advance, thank you.</p>
",597,1,<google-colaboratory><ipywidgets>,2019-11-25 16:22:05
59030829,Using specific axes in ipywidgets,"<p>I'm writing a class that is handling recorded intensity frames. These are stored in the class attribute <code>self.frames</code>.</p>

<p>I want to write an <code>ipywidget</code> with an <code>SelectionSlider</code> which selects what frame is plotted with matplotlib imshow. So I have my class instance,</p>

<pre><code>measurement = Frames(file_path)

fig = plt.figure(figsize=(10,10))
ax = plt.axes()

measurement.plot_all_frames(ax=ax)

</code></pre>

<p>my function <code>plot_all_frames</code> looks like this</p>

<pre><code>def plot_all_frames(self, ax=None, **kwargs):
    if ax is None:
        ax = plt.axes()
    interact(lambda time: self.plot_frame_at_time(ax=ax, time=time, **kwargs), 
        time=widgets.SelectionSlider(
                options=self.time,
                value=self.time[0],
                description='Time:',
                disabled=False,
                continuous_update=False,
                orientation='horizontal',
                readout=True
            ))
</code></pre>

<p>When I run my code nothing is shown in the created figure. The reason I want to do it this way is to have control of the figure size and being able to set axes properties later. Also want to have it as a class method to reduce the amount of code shown in the notebook. Anyone knows how to fix this?</p>
",94,2,<python><jupyter><ipywidgets>,2019-11-25 11:32:17
59025215,Exiting ipywidgets interact / interactive to produce a final output in jupyter notebook,"<p>I'd like to have an analogy to the <code>%matplotlib notebook</code> magic for <code>matplotlib</code> plots. It features a ""power button"" at the top right - and after clicking it, the UI disappears, and the output becomes a PNG of the final view.</p>

<p>Suppose I have a function to filter a dataframe using a value from an int slider:</p>

<pre><code>from ipywidgets import interact
# df = pd.read_csv('...')

@interact(zone=(-1, 12))
def show(zone):
    if zone &gt; 0:
        return df[df.ZoneId == zone]  # show filtered results

    if zone == 0:
        return df  # show all results

    # HERE: I want to exit the interaction, and make the int slider disappear, and the whole
    # of df to become the rendered output
</code></pre>

<p>I have tried creating the slider and bind it to something:</p>

<pre><code>zone_slider = IntSlider(0, -1, 12)
@interact(zone=zone_slider)
def show(zone):
    # ...
    zone_slider.close()  # slider disappears, but output is still the same `interactive`.
</code></pre>

<p>I'd like the output to be saved with the notebook, and (after closing the notebook and opening it with a new kernel) to be displayed without the need to run any code (nor doing the interaction). Right now it only gets displayed as <code>intearctive(children=[IntSlider(...), Output(...)], ...)</code>.</p>

<p>I'd like a general solution (finishing any interaction, when e.g. a <code>Checkbox</code> becomes <code>True</code>). I'm not sure if it's possible to do without resorting to lower level <code>ipywidgets.interactive</code> function or <code>interact_manual</code>, but I don't know how to use these anyway.</p>
",936,4,<python><jupyter-notebook><jupyter><ipywidgets>,2019-11-25 04:23:14
59022912,Jupyter Lab interactive image display : issue with widgets arrangements using HBox,"<p>I am trying to change content of an image interactively using a slider (e.g. for applying a threshold operation with different values).</p>

<p>My code is as follows:</p>

<pre><code>#%matplotlib ipympl
%matplotlib widget
import matplotlib.pyplot as plt

import cv2
import numpy as np

import ipywidgets as widgets
from ipywidgets import HBox, IntSlider
from IPython.display import Image

def update_lines(change):
    ret,thresh2 = cv2.threshold(img_gray,change.new,255,cv2.THRESH_BINARY)
    plt.imshow(thresh2)
    fig.canvas.flush_events()

image = cv2.imread(""Untitled.jpg"")
img_gray = cv2.cvtColor(image, cv2.COLOR_BGR2GRAY)
ret,thresh2 = cv2.threshold(img_gray,30,255,cv2.THRESH_BINARY)

fig = plt.figure()
ax = fig.add_subplot(1, 1, 1)

slider = IntSlider(
    orientation='vertical',
    step=1,
    value=127,
    min=0,
    max=255
)

display(HBox([slider, fig.canvas]))

slider.observe(update_lines, names='value')
</code></pre>

<p>When executing my code, I have an unexpected behavior: the figure is displayed twice, the first time when I do <code>fig = plt.figure()</code> and the second time when I do <code>display(HBox([slider, fig.canvas]))</code> => see <a href=""https://i.stack.imgur.com/DWX4J.jpg"" rel=""nofollow noreferrer"">The figure is displayed twice</a>.</p>

<p>How can I display the image only into the HBox ?</p>

<p>When I change the value with the slider, I have the following result => <a href=""https://i.stack.imgur.com/1Pa7p.jpg"" rel=""nofollow noreferrer"">After changing value</a></p>
",1335,3,<python><matplotlib><jupyter-lab><ipywidgets>,2019-11-24 22:07:48
59018653,Create save png button to ipywidgets,"<p>I have a function to display my classification tree as an ipywidgets as below:</p>

<pre><code>labels = X.columns

#functions to create and fit the decision tree
def plot_tree(criterion, depth, split, min_split, min_leaf=0.2):
    #create tree
    clf = DecisionTreeClassifier(criterion = criterion, max_depth = depth, 
                                       splitter = split, min_samples_split=min_split, min_samples_leaf=min_leaf)
    clf.fit(X, y)

    #create graph
    graph = Source(tree.export_graphviz(clf, out_file=None, feature_names=labels, filled=True))

    display(SVG(graph.pipe(format='svg')))

    return clf

#create buttons for interactive graph
inter = interactive(plot_tree, criterion=[""gini"", ""entropy""], depth=np.arange(1, 12),
                   split = [""best"", ""random""], min_split=(0.1,1), min_leaf=(0.1,0.5))

display(inter)
</code></pre>

<p>and a way to save the tree as a png:</p>

<pre><code>png_bytes = graph.pipe(format='png')
with open('../graph/tree.png','wb') as f:
    f.write(png_bytes)
Image(png_bytes);
</code></pre>

<p>The problem is that if I put the save part as a function just after 'def plot_tree', I'll get the png as the first display with only 1 depth of the tree. And if I add the save part in an another cell, I'll get the whole tree saved.</p>

<p>I want to add a button to the widget that will save the display tree with all the parameters set displayed. How can i do that?</p>
",45,0,<python><tree><ipywidgets>,2019-11-24 14:22:03
58996358,How can I use Asynchronous Widgets on jupyter lab?,"<h1>How can I use Asynchronous Widgets on jupyter <strong>lab</strong>?</h1>

<p>I'm trying to reproduce <a href=""https://ipywidgets.readthedocs.io/en/latest/examples/Widget%20Asynchronous.html"" rel=""noreferrer"">the official Asynchronous Widgets-Example</a> on jupyter <strong>lab</strong>, but the <code>await</code> never continues. </p>

<h2>Setup / reproduction</h2>

<ol>
<li><code>docker run --rm -p 8888:8888 -e JUPYTER_ENABLE_LAB=yes jupyter/datascience-notebook start-notebook.sh --NotebookApp.token=''</code></li>
<li><code>firefox 0.0.0.0:8888</code></li>
<li>create a new python3 notebook</li>
<li>create a cell and enter the code below</li>
<li>run cell</li>
<li>move slider</li>
</ol>

<h3>code for the cell</h3>

<pre class=""lang-py prettyprint-override""><code>%gui asyncio

import asyncio
def wait_for_change(widget, value):
    future = asyncio.Future()
    def getvalue(change):
        # make the new value available
        future.set_result(change.new)
        widget.unobserve(getvalue, value)
    widget.observe(getvalue, value)
    return future

from ipywidgets import IntSlider
slider = IntSlider()

async def f():
    for i in range(10):
        print('did work %s'%i)
        #x = await asyncio.sleep(1)
        x = await wait_for_change(slider, 'value')
        print('async function continued with value %s'%x)
asyncio.ensure_future(f())
#task = asyncio.create_task(f())
slider
</code></pre>

<h2>Expected result</h2>

<p>The cell outputs </p>

<pre><code>did work 0
async function continued with value 1
did work 1
async function continued with value 2
[...]
</code></pre>

<h2>Actual output</h2>

<p>nothing after the first <code>did work 0</code></p>

<h2>Notes</h2>

<ul>
<li><p>I'm specifically talking about jupyter <strong>lab</strong> and not about regular jupyter notebooks</p></li>
<li><p>There is no error-message or anything. The expected output just doesn't happen</p></li>
<li><p>The minimal asyncio-example does work in jupyter lab: </p></li>
</ul>

<pre class=""lang-py prettyprint-override""><code>import asyncio
async def main():
    print('hello')
    await asyncio.sleep(1)
    print('world')
await main()
</code></pre>

<ul>
<li><p>when you leave out the <code>-e JUPYTER_ENABLE_LAB=yes</code>, then you get a regular jupyter notebook without jupyter lab and the expected result happens. </p></li>
<li><p>this is <strong>not</strong> a duplicate of <a href=""https://stackoverflow.com/questions/56403663/ipywidgets-widgets-values-not-changing"">ipywidgets widgets values not changing</a> or <a href=""https://stackoverflow.com/questions/53516965/jupyter-interactive-widget-not-executing-properly"">Jupyter Interactive Widget not executing properly</a>, because these questions nether include jupyter lab nor asyncio</p></li>
</ul>
",2127,8,<jupyter-notebook><python-asyncio><jupyter-lab><ipywidgets>,2019-11-22 14:32:22
58982616,"Fixing ""AttributeError: module 'pandas.compat' has no attribute 'string_types'"" error","<p>I am trying to run the <a href=""https://tsfresh.readthedocs.io/en/latest/text/quick_start.html"" rel=""nofollow noreferrer"">tsfresh</a> package on Jupyterhub Python3. While running the quickstart code for extracting the features, I am getting the  following error ""AttributeError: module 'pandas.compat' has no attribute 'string_types'.</p>

<p>I tried downgrading pandas version to 0.24.2 as mentioned in this <a href=""https://stackoverflow.com/questions/57334052/how-to-fix-pandas-compat-has-no-attribute-string-types-error-in-python3"">similar question</a>. But it doesn't downgrade for me. It remains at 0.25.2 when I check the version using <code>pd.__version__</code></p>
",366,0,<python><pandas><jupyterhub>,2019-11-21 19:41:20
58980963,Jupyterhub - ERROR:asyncio:Task exception was never retrieved,"<p>I'm not able to install Jupyterhub using pip. I tried reinstall, but no matter what, I'm still getting asyncio Error. </p>

<p>Any idea what I'm doing wrong ?</p>

<pre><code>[root@localhost bin]# which python3
/usr/bin/python3
[root@localhost bin]# which python
/usr/bin/python
[root@localhost bin]# python3 -V
Python 3.6.8
[root@localhost bin]# python -V
Python 2.7.5
</code></pre>

<p>So I'm installing JH using pip, I omitted most of requirements</p>

<pre><code>[root@localhost bin]# pip3 install jupyterhub
WARNING: Running pip install with root privileges is generally not a good idea. Try `pip3 install --user` instead.
Collecting jupyterhub
  Using cached https://files.pythonhosted.org/packages/0d/67/c1e7d691bcb635fcde61c544d8fbca1edebb7bb4f68f34f5de291eba02d0/jupyterhub-1.0.0-py3-none-any.whl
Requirement already satisfied: prometheus-client&gt;=0.0.21 in /usr/local/lib/python3.6/site-packages (from jupyterhub)
Requirement already satisfied: alembic in /usr/local/lib/python3.6/site-packages (from jupyterhub)
. 
. 
. 
Requirement already satisfied: cffi!=1.11.3,&gt;=1.8 in /usr/local/lib64/python3.6/site-packages (from cryptography&gt;=2.8-&gt;pyopenssl-&gt;certipy&gt;=0.1.2-&gt;jupyterhub)
Requirement already satisfied: pycparser in /usr/local/lib/python3.6/site-packages (from cffi!=1.11.3,&gt;=1.8-&gt;cryptography&gt;=2.8-&gt;pyopenssl-&gt;certipy&gt;=0.1.2-&gt;jupyterhub)
Installing collected packages: jupyterhub
Successfully installed jupyterhub-1.0.0
</code></pre>

<p>configurable proxy is already installed</p>

<pre><code>[root@localhost bin]# configurable-http-proxy -V
4.2.0
</code></pre>

<p>but still no progress from Jupyterhub</p>

<pre><code>[root@localhost bin]# jupyterhub -V
1.0.0
ERROR:asyncio:Task exception was never retrieved
future: &lt;Task finished coro=&lt;JupyterHub.launch_instance_async() done, defined at /usr/local/lib/python3.6/site-packages/jupyterhub/app.py:2477&gt; exception=SystemExit(0,)&gt;
Traceback (most recent call last):
  File ""/usr/local/lib/python3.6/site-packages/jupyterhub/app.py"", line 2492, in launch_instance
    loop.start()
  File ""/usr/local/lib64/python3.6/site-packages/tornado/platform/asyncio.py"", line 148, in start
    self.asyncio_loop.run_forever()
  File ""/usr/lib64/python3.6/asyncio/base_events.py"", line 438, in run_forever
    self._run_once()
  File ""/usr/lib64/python3.6/asyncio/base_events.py"", line 1451, in _run_once
    handle._run()
  File ""/usr/lib64/python3.6/asyncio/events.py"", line 145, in _run
    self._callback(*self._args)
  File ""/usr/local/lib/python3.6/site-packages/jupyterhub/app.py"", line 2479, in launch_instance_async
    await self.initialize(argv)
  File ""/usr/local/lib/python3.6/site-packages/jupyterhub/app.py"", line 2085, in initialize
    super().initialize(*args, **kwargs)
  File ""&lt;/usr/local/lib/python3.6/site-packages/decorator.py:decorator-gen-2&gt;"", line 2, in initialize
  File ""/usr/local/lib/python3.6/site-packages/traitlets/config/application.py"", line 87, in catch_config_error
    return method(app, *args, **kwargs)
  File ""/usr/local/lib/python3.6/site-packages/traitlets/config/application.py"", line 297, in initialize
    self.parse_command_line(argv)
  File ""&lt;/usr/local/lib/python3.6/site-packages/decorator.py:decorator-gen-4&gt;"", line 2, in parse_command_line
  File ""/usr/local/lib/python3.6/site-packages/traitlets/config/application.py"", line 87, in catch_config_error
    return method(app, *args, **kwargs)
  File ""/usr/local/lib/python3.6/site-packages/traitlets/config/application.py"", line 532, in parse_command_line
    self.exit(0)
  File ""/usr/local/lib/python3.6/site-packages/traitlets/config/application.py"", line 654, in exit
    sys.exit(exit_status)
SystemExit: 0
[root@localhost bin]#
</code></pre>
",1018,3,<python><jupyterhub><python-asyncio>,2019-11-21 17:53:28
58939126,How to get pytorch to work in Jupyterhub?,"<p>I'm using Jupyterhub, and am running someone else's code that uses <code>pytorch</code>. They include it via <code>import torch</code>, but I get the error ""No module named 'torch'"". I installed <code>pytorch</code> locally with <code>conda</code>, but still get the same error in Jupyterhub.</p>

<p><strong>What I Want To Know:</strong></p>

<p>For modules like pytorch that aren't part of Jupyterhub out of the box, how do you include them? Do you do it by installing them locally like I did? If so, what should I do differently?</p>
",1558,0,<python><jupyter-notebook><pytorch><jupyter><jupyterhub>,2019-11-19 16:50:47
58927781,Is there a way to bind a widget to a variable so that the widget updates when the variable is changed?,"<p>I would like to find a way of binding a widget (TextWidget in this case) to a variable or function.
The idea being that as other parts of the code change the variable, the widget is automatically updated to show the content of that variable.</p>

<p>This is what I've done so far to keep the widget displaying the content of an array of integers:</p>

<pre><code>selected = list()

def list_recorded_points():
    return "", "".join([str(i) for i in selected])

def record_point(i):
    selected.append(i)
    t.value = list_recorded_points()

import ipywidgets as widgets
t = widgets.Text(
    value=list_recorded_points(),
    placeholder='Type something',
    description='String:',
    disabled=False
)
t
</code></pre>

<p>I do find it quite verbose though, and having to call <code>record_point</code> instead of just being able to change the variable <code>selected</code> makes this less usable...</p>
",895,2,<jupyter-notebook><jupyter-lab><ipywidgets>,2019-11-19 06:20:20
58855460,Why the behaviour of tryCatch doesn't coincide in Rstudio and Jupyter with R Kernel?,"<p>Running following code snippet in R or Rstudio provides following result</p>

<pre><code>data &lt;- NULL

data &lt;- tryCatch(
  data.frame(t(data), row.names = NULL),
  error=function(e){
    warning(e)
    warning(""NAs returned"")
    NA
  }
)

&gt; data
[1] NA

</code></pre>

<p>where jupyter notebook with R Kernel doesn't wrap the <code>t(data)</code> with <code>tryCatch()</code></p>

<pre><code>data &lt;- NULL

data &lt;- tryCatch(
  data.frame(t(data), row.names = NULL),
  error=function(e){
    warning(e)
    warning(""NAs returned"")
    NA
  }
)

Error in t.default(data): argument is not a matrix
Traceback:

1. tryCatch(data.frame(t(data), row.names = NULL), error = function(e) {
 .     warning(e)
 .     warning(""NAs returned"")
 .     NA
 . })
2. tryCatchList(expr, classes, parentenv, handlers)
3. tryCatchOne(expr, names, parentenv, handlers[[1L]])
4. value[[3L]](cond)
5. warning(e)   # at line 6 of file &lt;text&gt;
6. withRestarts({
 .     .Internal(.signalCondition(cond, message, call))
 .     .Internal(.dfltWarn(message, call))
 . }, muffleWarning = function() NULL)
7. withOneRestart(expr, restarts[[1L]])
</code></pre>

<p>It would be great if someone has an idea?</p>

<p>Thanks
Kateryna</p>
",44,0,<r><jupyter-notebook><try-catch><jupyter-irkernel>,2019-11-14 11:12:44
58845885,Assign profiles to whitelisted users,"<p>I have been exploring the profile list feature of the kubespawner, and am presented with a list of available notebooks when I login. All good. Now I have the use case of User A logging in and seeing notebooks 1 and 2, with User B seeing notebooks 2 and 3.</p>

<p>Is it possible to assign certain profiles to specific users?</p>
",276,0,<jupyter-notebook><jupyterhub>,2019-11-13 21:27:41
58819300,How to dynamically read out a widget state in Ipython notebook,"<p>Is there a way to create a widget in an Ipython notebook and to read out the state of this widget at a different position in the code?</p>

<p>I tried using</p>

<pre class=""lang-py prettyprint-override""><code>from ipywidgets import interact

def f(x):
 pass

interact(f,x=True)
</code></pre>

<p>As a result, <code>f(x)</code> is executed when I klick the generated checkmark. This is not what I need. Instead, I would like to read out the state of the ckeckmark at a different position in the code. What is the best way to implement that?</p>
",89,0,<jupyter-notebook><widget><ipywidgets>,2019-11-12 13:00:14
58775632,Installing Jupyterhub hub pod is failing with no available volume zone,"<p>When trying to install Jupyterhub on Kubernetes (EKS) I am getting below error in the Hub pod. This is output of describe pod. There was similar issue reported and i tried the solution but it didn't work.</p>

<pre><code>Warning  FailedScheduling  52s (x2 over 52s)  default-scheduler  0/3 nodes are available: 1 Insufficient cpu, 2 node(s) had no available volume zone.
</code></pre>

<h2>This is my pvc.yaml</h2>

<pre><code>kind: StorageClass
apiVersion: storage.k8s.io/v1
metadata:
  name: standard
  annotations:
    volume.alpha.kubernetes.io/storage-class: default
provisioner: kubernetes.io/aws-ebs
parameters:
  type: gp2  
allowedTopologies:
- matchLabelExpressions:
  - key: failure-domain.beta.kubernetes.io/zone
    values:
    - us-east-1a
    - us-east-1b
    - us-east-1c    
</code></pre>

<hr>

<h1>Source: jupyterhub/templates/hub/pvc.yaml</h1>

<pre><code>kind: PersistentVolumeClaim
apiVersion: v1
metadata:
  name: hub-db-dir
  annotations:
    volume.alpha.kubernetes.io/storage-class: default
spec:
  accessModes:
    - ReadWriteOnce
  resources:
    requests:
      storage: 1Gi
  storageClassName: standard
</code></pre>

<p>Please let me know if I am missing something here.</p>
",324,1,<kubernetes><jupyterhub><amazon-eks>,2019-11-09 01:35:40
58772535,Jupyterhub installation Hub Pod Pending state,"<p>I am trying to install jupyterhub on Kubernetes, hub pod is pending with due to resources. When i did describe pods  </p>

<pre><code> Warning  FailedScheduling  2m25s (x6 over 2m25s)  default-scheduler  pod has unbound immediate PersistentVolumeClaims (repeated 2 times)

 Warning  FailedScheduling  55s (x4 over 2m25s)    default-scheduler  0/3 nodes are available: 1 Insufficient cpu, 2 node(s) had no available volume zone.
It also shows that the requests is 
 Requests:
    cpu:      500m
    memory:   512Mi
</code></pre>

<p>I followed the installation steps as mentioned from the resource <a href=""https://zero-to-jupyterhub.readthedocs.io/en/latest/setup-jupyterhub.html"" rel=""nofollow noreferrer"">https://zero-to-jupyterhub.readthedocs.io/en/latest/setup-jupyterhub.html</a></p>

<p>My config.yaml configuration looks like below. I am using Kubernetes EKS ( AWS) 
 proxy:
  secretToken: """"</p>

<pre><code>apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: mysql
  labels:
    app: mysql
  annotations:
    volume.alpha.kubernetes.io/storage-class: default
spec:
  accessModes:
    - ReadWriteOnce
  resources:
    requests:
      storage: 1Gi
  storageClassName: local-storage    

singleuser:
  cpu:
    limit: 1
    guarantee: 0.02
  memory:
    limit: 2G
    guarantee: 512M
  storage:
    dynamic:
      storageClass: gp2

# culling old users, unit: seconds    
cull:
  enabled: true
  timeout: 1800
  every: 300

auth:
  admin:
    users:
      - admin
    access: false

# allow image to be prepulled
prePuller:
  continuous:
    enabled: true

# pod priority - scale up nodes ahead of real users arrivals
# user scheduler - pack users tight on some nodes
scheduling:
  userScheduler:
    enabled: true
  podPriority:
    enabled: true
</code></pre>
",296,0,<kubernetes><jupyterhub><amazon-eks>,2019-11-08 19:13:53
58770212,Switching between 'widget' and 'inline' matplotlib backends in Jupyter notebooks,"<p>This is a question I've been meaning to ask for quite some time and always postponed.</p>

<p>In a Jupyter notebook (v6.0.1) I constantly find myself having to switch backends between <code>%matplotlib inline</code> and <code>%matplotlib widget</code> (i.e.  <a href=""https://github.com/matplotlib/jupyter-matplotlib"" rel=""nofollow noreferrer"">ipympl</a>). Whenever I go from <code>inline</code> to <code>widget</code>, I have to run the cell several times and, somehow, ""with the right timing"", so that the backend actually kicks in. Any ideas as to why?</p>
",850,1,<python><matplotlib><jupyter-notebook><ipywidgets>,2019-11-08 16:15:33
58735787,How to get JupyterHub to re-sync site-packages/libraries?,"<p>So I recently had <a href=""https://stackoverflow.com/questions/58701115/jupyter-running-different-version-of-uninstalled-library#58701256"">this</a> question where, among other problems, a completely commented out file was still running and working on JupyerHub, but not on the terminal. I figured out this is due to the fact that I was modifying the library files locally, and JupyterHub does not always re-sync the <code>site-packages</code>/libraries. </p>

<p>However, is there a way to make JupyterHub do this as the user? Basically, I want the following to happen: </p>

<pre><code>1. pip install LibraryA
2. modify file within LibraryA, doSomethingLibA.py
3. run script on JupyterHub using updated version of LibraryA 
</code></pre>

<p>I have tried re-starting the kernel, but that didn't seem to solve it. Is there a way to do this?</p>
",111,4,<python><jupyter-notebook><jupyter><jupyterhub>,2019-11-06 17:42:28
58723723,How to find document name in jupyter notebook using code in a script?,"<p>I want to get the filename of the notebook created in Jupyter by writing code in a python file and import it in notebook and then click on Run. This should give me the name of file in a variable which I can print.</p>

<p>Suppose notebook name in Jupyter is Get_File_Name.ipynb So I want to store Get_File_Name in a variable.</p>

<p>Tried using javascript magic cell from python code in a file and import that python file in notebook. </p>

<p>Tried using widgets to insert filename in a widget. Both not working</p>

<p>Write python code in file print_filename.py</p>

<pre class=""lang-py prettyprint-override""><code>
from IPython import get_ipython
ipython = get_ipython()

ipython.run_cell_magic('javascript', '','IPython.notebook.kernel.execute(\'nb_name = ""\' + IPython.notebook.notebook_name + \'""\')')
print(nb_name)

</code></pre>

<p>In Jupyter notebook run the using</p>

<p><code>import print_filename</code></p>

<p>If I print nb_name in different paragraph, I am able to fetch it. But in same paragraph, error is 
But error comes:</p>

<p></p>

<pre><code>NameError                                 Traceback (most recent call last)
&lt;ipython-input-4-5fa7a942367b&gt; in &lt;module&gt;
----&gt; 1 import print_filename

~/print_filename.py in &lt;module&gt;
      2 ipython = get_ipython()
      3 ipython.run_cell_magic('javascript', '','IPython.notebook.kernel.execute(\'nb_name = ""\' + IPython.notebook.notebook_name + \'""\')')
----&gt; 4 print(nb_name)

NameError: name 'nb_name' is not defined```


Tried other way:

```python

from IPython import get_ipython
ipython = get_ipython()

ipython.run_cell_magic('javascript', '','IPython.notebook.kernel.execute(\'nb_name = ""\' + IPython.notebook.notebook_name + \'""\')')

</code></pre>

<pre><code>import print_filename
print(nb_name)
</code></pre>

<p>Same error.</p>
",2208,1,<jupyter-notebook><ipython><jupyter><jupyterhub>,2019-11-06 05:40:22
58680134,Is it possible to update interactive_output manually?,"<p>I want to ask is it possible to update the output manually while using interactive_output?
the function I'm currently using is pretty complicated, so the output kind of lags a bit when the slider widget is used.</p>

<p>much thanks!</p>
",415,4,<jupyter><ipywidgets>,2019-11-03 12:25:20
58653430,calling a function which shows sub category list in a select box using observe function is working only first time,"<blockquote>
  <p>I have simple df have main category and its sub items. I made two select boxes to select main category and it automatically shows belonged items at the other select box using 'observe'
  But it works only at the first time category selection and after I selected another category it didn't show sub items in an another select box. </p>
  
  <p>If i put 'observe' inside the 'def' the function is worked as I wanted.
  But this approach is troublesome if I have many other 'def' executing on observe on change.
  I am also looking for the way to make this code simple without using global.
  And also welcome any ideas to make this code simpler and lighter.</p>
</blockquote>

<pre><code>import pandas as pd
import ipywidgets as wg
from ipywidgets import *
from IPython.display import display, clear_output
df_list=[{'Category':'fruit','name':['banana','apple','mango']},\
         {'Category':'animal','name':['lion','monkey','tiger','cat','dog']},\
         {'Category':'body','name':['eyes','hands','ears','arms']},\
         {'Category':'office','name':['table','computer','printer']}]
df=pd.DataFrame(df_list)

Category_box=wg.Select(options=list(df.Category),continuous_update=False,layout=Layout(width='30%'))
name_box=wg.Select(options=list(df[df['Category']==Category_box.value].name)[0],continuous_update=False,\
                   layout=Layout(width='30%'))
hbox=wg.HBox(children=[Category_box,name_box])
display(hbox)

def select_on_change(change):
    if change['name'] == 'value':
        global Category_box
        global name_box
        global hbox
        Category_box=wg.Select(options=list(df.Category),continuous_update=False,layout=Layout(width='30%'),value=Category_box.value)
        name_box=wg.Select(options=list(df[df['Category']==Category_box.value].name)[0],continuous_update=False,\
                   layout=Layout(width='30%'))
        hbox=wg.HBox(children=[Category_box,name_box])
        clear_output()
        display(hbox)
    #Category_box.observe(select_on_change)


Category_box.observe(select_on_change)
</code></pre>
",58,1,<function><ipywidgets><global>,2019-11-01 02:33:00
58653250,Can I use IPyWidgets to pass arguments to the command line?,"<p>I downloaded a deep learning script from GitHub in order to perform some text classification on tweets. Neural Nets go kind of over my head but I get along by using this script. </p>

<p>Let's say the file is called main.py and it takes command line arguments such as:</p>

<p><em>-t</em>  and <em>-i ""path/to/tweet/corpus""</em> and a bunch of other flags.</p>

<p>I wanted to make an interactive Jupyter notebook with IPyWidgets so that if someone enters <em>'folder/to/tweets/'</em> in the text box widget, and then pushes a button or runs a cell, it will pass that string to the command line including the -i flag. </p>

<p>I tried the following:</p>

<pre><code># CELL 1
texboxt_1 = widgets.Text(
    value='/path/to/corpus/',
    placeholder='Type something',
    description='String:',
    disabled=False
)

texboxt_2 = widgets.Text(
    value='/path/to/model/',
    placeholder='Type something',
    description='String:',
    disabled=False
)

#CELL 2
if texbox_1.value != '':
   arg_1 = '-i' + textbox_1.value
else:
   arg_1 = ''

if textbox_2.value != '':
   arg_2 = arg_1 + '-m' + textbox_2.value
else:
   arg_2 = ''


# CELL 3
!python main.py {arg_1 + arg_2}

</code></pre>

<p>I guess this will work but it doesn't seem like the smartest and/or most efficient way to pass arguments. Could I do it any other way? or is there something in main.py I could alter to smoothen the process?</p>

<p>As you could probably tell I'm just an amateur python user.</p>
",263,1,<python><user-interface><jupyter><ipywidgets>,2019-11-01 01:58:41
58646133,Jupyterhub user home folder permissions mismatched on restarts,"<p>I have set up a single server with Google Auth Jupyterhub using Docker. You can find the setup scripts here - <a href=""https://github.com/deepakputhraya/jupyterhub"" rel=""nofollow noreferrer"">https://github.com/deepakputhraya/jupyterhub</a>. The setup works well with multiple users able to login with separate home directories. </p>

<p>The problem arises when I update the Dockerfile or requirements.txt file and restart the server. Users whose accounts are created can log in but cannot access their home folders.</p>

<pre><code>[ec2-user@ip-10-0-1-196 ~]$ sudo docker exec -it jupyterhub /bin/sh
# ls -lah /home
total 64K
drwxr-xr-x 16 root      root      4.0K Oct 18 10:17 .
drwxr-xr-x  1 root      root      4.0K Sep  4 15:46 ..
drwxr-xr-x 15 abhilash  abhilash  4.0K Oct 31 10:51 abhilash
drwxr-xr-x  9 ajay      ajay      4.0K Oct 10 09:11 ajay
drwxr-xr-x  8 abhilash  abhilash  4.0K Sep  2 11:05 akshay
drwxr-xr-x  7 deepak    deepak    4.0K Oct  4 12:20 deepak
</code></pre>

<p>Logs:</p>

<pre><code>[I 2019-10-31 14:57:14.985 JupyterHub log:174] 200 GET /hub/spawn-pending/deepak (deepak@127.0.0.1) 38.35ms
[I 2019-10-31 14:57:17.321 JupyterHub spawner:1387] Spawning jupyterhub-singleuser --port=34405 --NotebookApp.default_url=/lab
Traceback (most recent call last):
  File ""/opt/conda/lib/python3.6/site-packages/traitlets/traitlets.py"", line 528, in get
    value = obj._trait_values[self.name]
KeyError: 'runtime_dir'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/opt/conda/bin/jupyterhub-singleuser"", line 10, in &lt;module&gt;
    sys.exit(main())
  File ""/opt/conda/lib/python3.6/site-packages/jupyterhub/singleuser.py"", line 660, in main
    return SingleUserNotebookApp.launch_instance(argv)
  File ""/opt/conda/lib/python3.6/site-packages/jupyter_core/application.py"", line 268, in launch_instance
    return super(JupyterApp, cls).launch_instance(argv=argv, **kwargs)
  File ""/opt/conda/lib/python3.6/site-packages/traitlets/config/application.py"", line 657, in launch_instance
    app.initialize(argv)
  File ""/opt/conda/lib/python3.6/site-packages/jupyterhub/singleuser.py"", line 558, in initialize
    return super().initialize(argv)
  File ""&lt;/opt/conda/lib/python3.6/site-packages/decorator.py:decorator-gen-7&gt;"", line 2, in initialize
  File ""/opt/conda/lib/python3.6/site-packages/traitlets/config/application.py"", line 87, in catch_config_error
    return method(app, *args, **kwargs)
  File ""/opt/conda/lib/python3.6/site-packages/notebook/notebookapp.py"", line 1676, in initialize
    self.init_configurables()
  File ""/opt/conda/lib/python3.6/site-packages/notebook/notebookapp.py"", line 1349, in init_configurables
    connection_dir=self.runtime_dir,
  File ""/opt/conda/lib/python3.6/site-packages/traitlets/traitlets.py"", line 556, in __get__
    return self.get(obj, cls)
  File ""/opt/conda/lib/python3.6/site-packages/traitlets/traitlets.py"", line 535, in get
    value = self._validate(obj, dynamic_default())
  File ""/opt/conda/lib/python3.6/site-packages/jupyter_core/application.py"", line 99, in _runtime_dir_default
    ensure_dir_exists(rd, mode=0o700)
  File ""/opt/conda/lib/python3.6/site-packages/jupyter_core/utils/__init__.py"", line 13, in ensure_dir_exists
    os.makedirs(path, mode=mode)
  File ""/opt/conda/lib/python3.6/os.py"", line 210, in makedirs
    makedirs(head, mode, exist_ok)
  File ""/opt/conda/lib/python3.6/os.py"", line 210, in makedirs
    makedirs(head, mode, exist_ok)
  File ""/opt/conda/lib/python3.6/os.py"", line 210, in makedirs
    makedirs(head, mode, exist_ok)
  [Previous line repeated 1 more time]
  File ""/opt/conda/lib/python3.6/os.py"", line 220, in makedirs
    mkdir(name, mode)
PermissionError: [Errno 13] Permission denied: '/home/deepak'
[I 2019-10-31 14:57:18.274 JupyterHub log:174] 302 GET /hub/spawn/deepak -&gt; /hub/spawn-pending/deepak (deepak@127.0.0.1) 1014.98ms
[I 2019-10-31 14:57:18.332 JupyterHub pages:303] deepak is pending spawn
[I 2019-10-31 14:57:18.335 JupyterHub log:174] 200 GET /hub/spawn-pending/deepak (deepak@127.0.0.1) 17.16ms
ERROR:asyncio:Task exception was never retrieved
future: &lt;Task finished coro=&lt;BaseHandler.spawn_single_user() done, defined at /opt/conda/lib/python3.6/site-packages/jupyterhub/handlers/base.py:697&gt; exception=HTTPError()&gt;
Traceback (most recent call last):
  File ""/opt/conda/lib/python3.6/site-packages/jupyterhub/handlers/base.py"", line 889, in spawn_single_user
    timedelta(seconds=self.slow_spawn_timeout), finish_spawn_future
tornado.util.TimeoutError: Timeout

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/opt/conda/lib/python3.6/site-packages/jupyterhub/handlers/base.py"", line 922, in spawn_single_user
    % (status, spawner._log_name),
tornado.web.HTTPError: HTTP 500: Internal Server Error (Spawner failed to start [status=1]. The logs for deepak may contain details.)
[W 2019-10-31 14:57:44.492 JupyterHub user:678] deepak's server never showed up at http://127.0.0.1:34405/user/deepak/ after 30 seconds. Giving up
[E 2019-10-31 14:57:44.530 JupyterHub gen:593] Exception in Future &lt;Task finished coro=&lt;BaseHandler.spawn_single_user.&lt;locals&gt;.finish_user_spawn() done, defined at /opt/conda/lib/python3.6/site-packages/jupyterhub/handlers/base.py:800&gt; exception=TimeoutError(""Server at http://127.0.0.1:34405/user/deepak/ didn't respond in 30 seconds"",)&gt; after timeout
    Traceback (most recent call last):
      File ""/opt/conda/lib/python3.6/site-packages/tornado/gen.py"", line 589, in error_callback
        future.result()
      File ""/opt/conda/lib/python3.6/site-packages/jupyterhub/handlers/base.py"", line 807, in finish_user_spawn
        await spawn_future
      File ""/opt/conda/lib/python3.6/site-packages/jupyterhub/user.py"", line 654, in spawn
        await self._wait_up(spawner)
      File ""/opt/conda/lib/python3.6/site-packages/jupyterhub/user.py"", line 701, in _wait_up
        raise e
      File ""/opt/conda/lib/python3.6/site-packages/jupyterhub/user.py"", line 669, in _wait_up
        http=True, timeout=spawner.http_timeout, ssl_context=ssl_context
      File ""/opt/conda/lib/python3.6/site-packages/jupyterhub/utils.py"", line 234, in wait_for_http_server
        timeout=timeout,
      File ""/opt/conda/lib/python3.6/site-packages/jupyterhub/utils.py"", line 177, in exponential_backoff
        raise TimeoutError(fail_message)
    TimeoutError: Server at http://127.0.0.1:34405/user/deepak/ didn't respond in 30 seconds
</code></pre>

<p>The folder permissions for user <code>akshay</code> is that of <code>abhilash</code>. New users who signup for the first time do not have this issue. Again this only happens when there is an update to Docker image. If I were to restart the server, it neither fixes the issue nor changes the user folder permissions map for other users. </p>

<p>Why are the permissions getting mismatched? How can this be fixed?</p>
",593,2,<jupyter-notebook><jupyter><jupyterhub>,2019-10-31 14:59:40
58638008,Jupyterhub kernel died when using pyodbc,"<p>I use the same env in Jupyterhub and in Jupyter notebook, but in Jupyterhub kernel dies on following line of code:</p>

<pre><code>import pyodbc
conn = pyodbc.connect('DSN=mydnsname',CHARSET='UTF8')
</code></pre>
",194,1,<python><jupyter><jupyterhub>,2019-10-31 06:36:46
58636003,widget does not apears on jupyter notebook,"<p>i am trying to use the widget button, here is my code:</p>

<pre><code>import ipywidgets as widgets
from IPython.display import display

button = widgets.Button(description='Hello')
display(button)
</code></pre>

<p>then in the output i get </p>

<pre><code>Button(description='Hello', style=ButtonStyle())
</code></pre>

<p>i already try this:</p>

<pre><code>jupyter nbextension enable --py widgetsnbextension --sys-prefix
</code></pre>

<p>and this is what i get:</p>

<pre><code>Enabling notebook extension jupyter-js-widgets/extension...
      - Validating: OK
</code></pre>

<p>i also tried to </p>

<pre><code>pip uninstall ipywidgets
pip install ipywidgets
</code></pre>
",221,3,<python><ubuntu-18.04><ipywidgets>,2019-10-31 02:03:32
58633582,"jupyterhub starts up fine, but unable to spawn a server","<p>I have installed Anaconda and jupyterhub. When I start jupyterhub on centOS7. The authentication to Linux machine is through Active Directory. it starts fine however the user123 (who is active directory user) tried to login, is unable to spawn a server. This is what I see in the logs:</p>

<p>`   </p>

<pre><code>[root@ussd-dev-jptr01 user123]# jupyterhub -f /home/user123/jupyterhub_config.py
    [W 2019-10-30 13:33:56.573 JupyterHub app:626] JupyterHub.proxy_cmd is deprecated in JupyterHub 0.8, 
    use ConfigurableHTTPProxy.command
   [I 2019-10-30 13:33:56.573 JupyterHub app:2120] Using Authenticator: j 
   upyterhub.auth.PAMAuthenticator- 
    1.0.0
    [I 2019-10-30 13:33:56.573 JupyterHub app:2120] Using Spawner: 
   jupyterhub.spawner.LocalProcessSpawner- 
   1.0.0
   [I 2019-10-30 13:33:56.576 JupyterHub app:1257] Loading cookie_secret from 
   /home/user123/jupyterhub_cookie_secret
   [I 2019-10-30 13:33:56.592 JupyterHub proxy:460] Generating new CONFIGPROXY_AUTH_TOKEN
   [W 2019-10-30 13:33:56.593 JupyterHub app:1532] No admin users, admin interface will be unavailable.
   [W 2019-10-30 13:33:56.593 JupyterHub app:1534] Add any administrative users to 
   c.Authenticator.admin_users in config.
   [I 2019-10-30 13:33:56.593 JupyterHub app:1563] Not using whitelist. Any authenticated user will be 
   allowed.
   [I 2019-10-30 13:33:56.636 JupyterHub app:2337] Hub API listening on http://127.0.0.1:8081/hub/
   [I 2019-10-30 13:33:56.637 JupyterHub proxy:645] Starting proxy @ http://:8000
   13:33:56.846 [ConfigProxy] info: Proxying https://*:8000 to (no default)
   13:33:56.850 [ConfigProxy] info: Proxy API at http://127.0.0.1:8001/api/routes
   13:33:57.098 [ConfigProxy] info: 200 GET /api/routes
   [I 2019-10-30 13:33:57.098 JupyterHub proxy:319] Checking routes
   [I 2019-10-30 13:33:57.099 JupyterHub proxy:399] Adding default route for Hub: / =&gt; 
   http://127.0.0.1:8081
   13:33:57.101 [ConfigProxy] info: Adding route / -&gt; http://127.0.0.1:8081
   13:33:57.102 [ConfigProxy] info: 201 POST /api/routes/
   [I 2019-10-30 13:33:57.102 JupyterHub app:2422] JupyterHub is now running at http://:8000
   [W 2019-10-30 13:34:13.664 JupyterHub auth:908] PAM Authentication failed 
   (user123@illumina.com@::ffff:10.12.68.203): [PAM Error 7] Authentication failure
   [W 2019-10-30 13:34:13.665 JupyterHub base:670] Failed login for user123@illumina.com
   [I 2019-10-30 13:34:13.695 JupyterHub log:174] 200 POST /hub/login?next= (@::ffff:10.12.68.203) 
   148.89ms
   [I 2019-10-30 13:34:28.609 JupyterHub base:663] User logged in: user123
   [I 2019-10-30 13:34:28.611 JupyterHub log:174] 302 POST /hub/login?next= -&gt; /hub/spawn 
   (user123@::ffff:10.12.68.203) 197.70ms
   [I 2019-10-30 13:34:28.689 JupyterHub spawner:1387] Spawning /apps/Install/anaconda3/bin/jupyterhub- 
   singleuser --port=55459 '--notebook-dir=~/notebooks'
   [W 2019-10-30 13:34:29.073 SingleUserNotebookApp configurable:168] Config option open_browser not 
   recognized by SingleUserNotebookApp.  Did you mean browser?
   [I 2019-10-30 13:34:29.251 SingleUserNotebookApp extension:59] JupyterLab extension loaded from 
   /apps/Install/anaconda3/lib/python3.7/site-packages/jupyterlab
   [I 2019-10-30 13:34:29.251 SingleUserNotebookApp extension:60] JupyterLab application directory is 
   /apps/Install/anaconda3/share/jupyter/lab
   [I 2019-10-30 13:34:29.254 SingleUserNotebookApp singleuser:561] Starting jupyterhub-singleuser 
   server version 1.0.0
   [I 2019-10-30 13:34:29.264 JupyterHub log:174] 200 GET /hub/api (@127.0.0.1) 1.18ms
   [I 2019-10-30 13:34:29.266 SingleUserNotebookApp notebookapp:1825] Serving notebooks from local 
   directory: /home/user123/notebooks
   [I 2019-10-30 13:34:29.266 SingleUserNotebookApp notebookapp:1825] The Jupyter Notebook is running 
    at:
    [I 2019-10-30 13:34:29.266 SingleUserNotebookApp notebookapp:1825] https://ussd-dev- 
    jptr01.illumina.com:55459/user/user123/
    [I 2019-10-30 13:34:29.266 SingleUserNotebookApp notebookapp:1826] Use Control-C to stop this server 
    and shut down all kernels (twice to skip confirmation).
    [I 2019-10-30 13:34:29.269 SingleUserNotebookApp singleuser:542] Updating Hub with activity every 
    300 seconds
    [I 2019-10-30 13:34:29.284 JupyterHub log:174] 200 POST /hub/api/users/user123/activity 
    (user123@127.0.0.1) 13.79ms
    [W 2019-10-30 13:34:29.503 SingleUserNotebookApp iostream:1407] SSL Error on 12 ('127.0.0.1', 
    42800): [SSL: HTTP_REQUEST] http request (_ssl.c:1076)
    [W 2019-10-30 13:34:29.556 SingleUserNotebookApp iostream:1407] SSL Error on 12 ('127.0.0.1', 
    42802): [SSL: HTTP_REQUEST] http request (_ssl.c:1076)
    [I 2019-10-30 13:34:29.666 JupyterHub log:174] 302 GET /hub/spawn -&gt; /hub/spawn-pending/user123 
    (user123@::ffff:10.12.68.203) 1011.24ms
    [I 2019-10-30 13:34:29.749 JupyterHub pages:303] user123 is pending spawn
    [I 2019-10-30 13:34:29.756 JupyterHub log:174] 200 GET /hub/spawn-pending/user123 
    (user123@::ffff:10.12.68.203) 17.19ms
    [W 2019-10-30 13:34:32.714 SingleUserNotebookApp iostream:1407] SSL Error on 12 ('127.0.0.1', 
     42810): [SSL: HTTP_REQUEST] http request (_ssl.c:1076)
    [W 2019-10-30 13:34:35.644 SingleUserNotebookApp iostream:1407] SSL Error on 12 ('127.0.0.1', 
    42812): [SSL: HTTP_REQUEST] http request (_ssl.c:1076)
    [W 2019-10-30 13:34:38.664 JupyterHub base:932] User user123 is slow to become responsive 
     (timeout=10)
     [W 2019-10-30 13:34:40.650 SingleUserNotebookApp iostream:1407] SSL Error on 12 ('127.0.0.1', 
     42814): [SSL: HTTP_REQUEST] http request (_ssl.c:1076)
     [W 2019-10-30 13:34:43.563 SingleUserNotebookApp iostream:1407] SSL Error on 12 ('127.0.0.1', 
     42816): [SSL: HTTP_REQUEST] http request (_ssl.c:1076)
     [W 2019-10-30 13:34:48.567 SingleUserNotebookApp iostream:1407] SSL Error on 12 ('127.0.0.1', 
      42818): [SSL: HTTP_REQUEST] http request (_ssl.c:1076)
      [W 2019-10-30 13:34:53.571 SingleUserNotebookApp iostream:1407] SSL Error on 12 ('127.0.0.1', 
      42820): [SSL: HTTP_REQUEST] http request (_ssl.c:1076)
      [W 2019-10-30 13:34:58.575 SingleUserNotebookApp iostream:1407] SSL Error on 12 ('127.0.0.1', 
         42822): [SSL: HTTP_REQUEST] http request (_ssl.c:1076)
        [W 2019-10-30 13:34:59.444 SingleUserNotebookApp iostream:1407] SSL Error on 12 ('127.0.0.1', 
        42824): [SSL: HTTP_REQUEST] http request (_ssl.c:1076)
        [W 2019-10-30 13:34:59.445 JupyterHub user:678] user123's server never showed up at 
        http://127.0.0.1:55459/user/user123/ after 30 seconds. Giving up
        [I 2019-10-30 13:34:59.446 SingleUserNotebookApp notebookapp:1694] Shutting down 0 kernels
        [E 2019-10-30 13:34:59.704 JupyterHub gen:599] Exception in Future &lt;Task finished coro= 
        &lt;BaseHandler.spawn_single_user.&lt;locals&gt;.finish_user_spawn() done, defined at 
         /apps/Install/anaconda3/lib/python3.7/site-packages/jupyterhub/handlers/base.py:800&gt; 
         exception=TimeoutError(""Server at http://127.0.0.1:55459/user/user123/ didn't respond in 30 
         seconds"")&gt; after timeout
       Traceback (most recent call last):
      File ""/apps/Install/anaconda3/lib/python3.7/site-packages/tornado/gen.py"", line 593, in 
       error_callback
        future.result()
      File ""/apps/Install/anaconda3/lib/python3.7/site-packages/jupyterhub/handlers/base.py"", line 807, 
      in finish_user_spawn
        await spawn_future
      File ""/apps/Install/anaconda3/lib/python3.7/site-packages/jupyterhub/user.py"", line 654, in spawn
        await self._wait_up(spawner)
      File ""/apps/Install/anaconda3/lib/python3.7/site-packages/jupyterhub/user.py"", line 701, in 
     _wait_up
        raise e
      File ""/apps/Install/anaconda3/lib/python3.7/site-packages/jupyterhub/user.py"", line 669, in 
      _wait_up
        http=True, timeout=spawner.http_timeout, ssl_context=ssl_context
      File ""/apps/Install/anaconda3/lib/python3.7/site-packages/jupyterhub/utils.py"", line 234, in 
      wait_for_http_server
        timeout=timeout,
      File ""/apps/Install/anaconda3/lib/python3.7/site-packages/jupyterhub/utils.py"", 
      line 177, in 
      exponential_backoff
        raise TimeoutError(fail_message)
      TimeoutError: Server at http://127.0.0.1:55459/user/user123/ didn't respond in 30 seconds
     [I 2019-10-30 13:34:59.706 JupyterHub log:174] 200 GET /hub/api/users/user123/server/progress 
     (user123@::ffff:10.12.68.203) 29594.20ms `
`
</code></pre>

<p>Please let me know what am I missing?</p>

<p>Thanks</p>
",4565,1,<jupyterhub>,2019-10-30 21:01:11
58631374,Problem displaying widgets / ipywidgets install unsuccessful,"<p>I'm implementing widgets in my jupyter notebook (via anaconda). I tried first by using an old code from a professor of mine, but it's not displaying widgets.</p>

<p>I tried installing:</p>

<blockquote>
  <p>jupyter labextension install @jupyter-widgets/jupyterlab-manager</p>
</blockquote>

<p>But it was unsuccessful</p>

<p>This was presented when I attempted installation of the package via windows command prompt:</p>

<blockquote>
  <p>C:\Users\davio>jupyter labextension install @jupyter-widgets/jupyterlab-manager</p>
  
  <p>Traceback (most recent call last):   File
  ""C:\Users\davio\Anaconda3\lib\site-packages\jupyterlab_server\server.py"",
  line 14, in 
      from notebook.base.handlers import (   File ""C:\Users\davio\Anaconda3\lib\site-packages\notebook\base\handlers.py"",
  line 30, in 
      from tornado import web, gen, escape, httputil   File ""C:\Users\davio\Anaconda3\lib\site-packages\tornado\web.py"", line 87,
  in 
      from tornado.httpserver import HTTPServer   File ""C:\Users\davio\Anaconda3\lib\site-packages\tornado\httpserver.py"",
  line 29, in 
      import ssl   File ""C:\Users\davio\Anaconda3\lib\ssl.py"", line 98, in 
      import _ssl             # if we can't import it, let the error propagate ImportError: DLL load failed: The specified procedure could
  not be found.</p>
</blockquote>

<p>During handling of the above exception, another exception occurred:</p>

<blockquote>
  <p>Traceback (most recent call last):   File
  ""C:\Users\davio\Anaconda3\Scripts\jupyter-labextension-script.py"",
  line 6, in 
      from jupyterlab.labextensions import main   File ""C:\Users\davio\Anaconda3\lib\site-packages\jupyterlab\labextensions.py"",
  line 16, in 
      from .commands import (   File ""C:\Users\davio\Anaconda3\lib\site-packages\jupyterlab\commands.py"",
  line 27, in 
      from jupyterlab_server.process import which, Process, WatchHelper   File
  ""C:\Users\davio\Anaconda3\lib\site-packages\jupyterlab_server__init__.py"",
  line 4, in 
      from .app import LabServerApp   File ""C:\Users\davio\Anaconda3\lib\site-packages\jupyterlab_server\app.py"",
  line 9, in 
      from .server import ServerApp   File ""C:\Users\davio\Anaconda3\lib\site-packages\jupyterlab_server\server.py"",
  line 26, in 
      from jupyter_server.base.handlers import (                          # noqa ModuleNotFoundError: No module named 'jupyter_server'</p>
</blockquote>

<p>I expect to:</p>

<p>i) Be able to install all the required ipy packages in order to display widgets properly</p>

<p>ii) View and manipulate widgets properly
Thank you!!!!</p>
",519,1,<python><jupyter-notebook><jupyter><jupyter-lab><ipywidgets>,2019-10-30 18:07:34
58556700,Control of layout ipywidgets in jupyter notebook,"<p>I have some problems understanding how to control the flexbox of ipywidgets in jupyter notebook. According to the <a href=""https://ipywidgets.readthedocs.io/en/latest/examples/Widget%20Styling.html"" rel=""nofollow noreferrer"">docs</a> this should be possible, however my styling code (see below) does not result in the desired layout. I checked on stack and found a <a href=""https://stackoverflow.com/questions/58235440/horizontal-alignment-of-options-in-ipywidgets"">good resource</a> that seemed to work for people there, however running the code still does not provide the desired the result.</p>

<h1>The problem</h1>

<p>I would like control to build somewhat more complex layouts. In this case particularly the goal is to have the sliders vertically next to the matpltolib plot:</p>

<pre><code>from matplotlib.pyplot import subplots
from IPython.display import display
import ipywidgets as ipy
import numpy as np

# setup figure
n = 10
fig, ax = subplots(figsize = (5,5))
h = ax.imshow(np.random.rand(n, n))

# show random mesh
def update(idx):
    h.set_data(np.random.rand(n, n))
    fig.canvas.flush_events()
    fig.canvas.draw()
slider = ipy.IntSlider(min = 0, max = 10, orientation = 'vertical')
widget = ipy.interactive(update, idx = slider)

layout = ipy.Layout(display = 'flex',\
                   flex_flow = 'row',\
                   justify_content = 'space-between',\
                   align_items = 'center',\
                   )
widgets = ipy.HBox(widget.children[::-1], layout = layout)
display(widgets)
</code></pre>

<p>However it results in <a href=""https://i.stack.imgur.com/bGvHG.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/bGvHG.png"" alt=""enter image description here""></a></p>

<p>How can I force the layout to be horizontal columns using ipywidgets in jupyter notebook?</p>
",1325,0,<layout><jupyter><ipywidgets>,2019-10-25 10:24:16
58551096,When is a widget property available to an iPython / Jupyter cell?,"<p>I'm getting ready to create a communications widget for use in a Jupyter application. I'm trying to understand when the widget's ""value"" property can be accessed ... it looks like the ""value"" can be read anytime, but won't match the widget model ""value"" until cell execution stops (i.e., the widget's browser state isn't updated back to the widget's kernel state).</p>

<p>To test this, I tried creating a small slider widget, waiting for 10 seconds, and then reading the widget ""value"" property ... all in the same cell. In the 10 seconds, the user (i.e., me) has time to change the slider to something like ""5"".</p>

<p>Here's a small test that can be run in a cell. When the sleep() happens, I move the slider to value ""5"".</p>

<pre><code>from ipywidgets import *
import time

slider = IntSlider(
    value=7,
    min=1,
    max=10.0,
    step=1,
    description=""Input:"",
)

display(slider)
time.sleep(10) # move slider to 5
print(""done "" + str(slider.value))
</code></pre>

<p>I expected ""done 5"" but got ""done 7"", implying to me that ""value"" is updated only after the cell completes.</p>

<p>Is this always true? And is there a way to force synchronization between the widget's browser state and its state in the kernel?</p>

<p>(I <em>do</em> get the expected ""done 5"" if I move the print() to the following cell.)</p>

<p>Thanks!</p>
",359,0,<jupyter-notebook><widget><ipython><ipywidgets>,2019-10-25 01:38:39
58489679,Continious update of matplotlib plot in Jupyter,"<p>I am working on a <code>Jupyter Notebook</code> and I am using the following <code>ipywidget</code> to set a threshold value:</p>

<pre><code>Thr = widgets.IntSlider(value=-17, min=-30, max=-13, step=1, description='Threshold: ', disabled=False, continuous_update=True, orientation='horizontal', readout=True, readout_format='d')
Thr
</code></pre>

<p>Next, I am masking a <code>numpy array</code> using that value with:</p>

<pre><code>import numpy.ma as ma
test= ma.masked_less_equal(S_images[0], Thr.value)
</code></pre>

<p>And finally I plot the result with:</p>

<pre><code>plt.figure(figsize = (15,15))
plt.imshow(test[0], cmap='gray')
</code></pre>

<p>The <code>ipywidget</code> is in a different <code>Jupyter cell</code> than the other code so when I change the value of <code>Thr</code> I have to manually run again the cell where the masking and ploting takes place.</p>

<p>My question is: I have always seen those interactive plots where you change a parameter (in my case the ipywidget <code>Thr</code>) and automatically the plot gets updated. </p>

<p>I see that <code>widgets.IntSlider</code> has a <code>continuous_update</code> parameter which seems to be close to what I want but still cannot get the behaviour I want. </p>

<p>Any idea if this is doable or possible?</p>

<p><strong>_ EDIT _</strong> </p>

<p>Starting from the comment of ac24, I am adapting the example he proposes:</p>

<pre><code>from IPython.display import display, clear_output
import ipywidgets as ipy
import matplotlib.pyplot as plt
import numpy as np

# setup figure
n = 10

out = ipy.Output()

# show random mesh
def update(idx):
    with out:
        clear_output()
        fig, ax = plt.subplots(figsize = (5,5))
        h = ax.imshow(S_images[0]) # here I put my image
        h.set_data(np.ma.masked_less_equal(S_images[0], slider.value)) # here I set the task to masked accordint to the `slider.value`
        fig.canvas.flush_events()
        fig.canvas.draw()
        plt.show()

slider = ipy.IntSlider(min = 0, max = 10, orientation = 'vertical')
widget = ipy.interactive(update, idx = slider)

layout = ipy.Layout(
#     display = 'flex',
#                    flex_flow = 'row',
#                    justify_content = 'space-between',
#                    align_items = 'center',
                   )
widgets = ipy.HBox(children=(slider, out), layout = layout)
display(widgets)
</code></pre>

<p>The example works very nice and is just what I was looking for. However, I have a small question regargind the layout. Originally I am working with 3 Images so I would like to have them displayed as follows, each one with its slider next to it to do the task: (the image below is not real, just made it up to represent what I would like)</p>

<p><a href=""https://i.stack.imgur.com/RvLwi.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/RvLwi.png"" alt=""enter image description here""></a></p>

<p><strong>EDIT 2</strong></p>

<p>in this occasion, the question is, once I select a value in the slider, I would write to geotiff that raster. For this I am using the following code:</p>

<pre><code>with rasterio.open('/Path/20190331_VV_Crop') as src:
    ras_meta = src.profile

with rasterio.open('/path/Threshold.tif', 'w', **ras_meta) as dst:
    dst.write(X)
</code></pre>

<p>However, I am not sure how to reference the numpy array in <code>dst.write(X)</code></p>
",1514,1,<python><matplotlib><jupyter-notebook><ipywidgets>,2019-10-21 15:38:59
58482301,Where is the message queue for a Jupyter ipywidget?,"<p>I have an interactive plot, using matplotlib and ipywidgets, that is painfully slow, and so the display lags behind the interaction. One way to fix this is to tell my widget to be <code>continuous_update=False</code>, but I don't want to do this -- I like the user to see changes via continuous feedback.</p>

<p>I thought maybe I could check the queue of messages from the widget: if there are subsequent changes queued then the current state is out of date and I might as well suppress the plotting. The messages must surely be queued <em>somewhere</em>. Is this message queue accessible?</p>

<p>Here's a minimal example.</p>

<pre><code>import matplotlib.pyplot as plt
import numpy
from IPython.display import display
import ipywidgets

# Don't want continuous_update=False
widg = ipywidgets.FloatSlider(value=.5,min=0,max=1,step=.01)
output = ipywidgets.Output()

def update_plot(msg):
    # ??? if there are further changes queued: return
    a = widg.value  # or msg['new']
    x = numpy.linspace(0,1,100)
    plt.plot(x, (x&gt;=a) &amp; (x&lt;=a+.2))
    plt.ylim(-.02,1.02)
    output.clear_output(wait=True)
    with output:
        plt.show()

widg.observe(update_plot, 'value')

display(ipywidgets.VBox([widg, output]))
update_plot(None)
</code></pre>
",227,0,<python><jupyter-notebook><ipywidgets>,2019-10-21 08:16:05
58460652,Unable to setup Github access from AWS EMR Jupyterhub notebooks,"<p>We are thinking of using AWS EMR Jupyterhub for a startup project with big data needs  (<a href=""https://docs.aws.amazon.com/emr/latest/ReleaseGuide/emr-jupyterhub.html"" rel=""nofollow noreferrer"">https://docs.aws.amazon.com/emr/latest/ReleaseGuide/emr-jupyterhub.html</a>).
As we are evaluating this for a team of data-scientists to use. It is not clear how we can access the individual notebooks in the EMR Jupyterhub. Can someone point out how to access a single notebook and then all we want is to checkin our notebooks to github as they are developed. Is that possible from the AWS EMR to checkin into github?</p>
",105,2,<github><amazon-emr><jupyterhub>,2019-10-19 05:00:03
58448053,jupyter ipywidgets doesn't show function return value,"<p>I used the most simply example :</p>

<pre><code>from ipywidgets import interact, widgets
from IPython.display import display


# this is a sample function
def myfunc(x):
    display(x*2) # I add this for testing
    print(x*2)  # I add this for testing
    return x*2

interact(myfunc,x=widgets.IntSlider(min=-10,max=10,value=0))
</code></pre>

<p>while sliding slider, no output .</p>

<p><a href=""https://i.stack.imgur.com/puemN.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/puemN.png"" alt=""enter image description here""></a></p>

<p>But same example in <a href=""http://queirozf.com/entries/interactive-controls-for-jupyter-notebooks-python-examples"" rel=""nofollow noreferrer"">here</a> does show output :
 <a href=""https://i.stack.imgur.com/rbW1i.gif"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/rbW1i.gif"" alt=""enter image description here""></a></p>

<p>How do I fix jupyter to show the output ?</p>
",1016,0,<python><jupyter-notebook><widget><jupyter><ipywidgets>,2019-10-18 09:36:27
58438323,Get path of current file in jupyter notebook R (irkernel),"<p>I am looking for a way to get the path of current working notebook on jupyter notebook irkernel in order to do <code>setwd()</code> easier.</p>

<p>Using reticulate and call python os does not work. Although it works in a python notebook.</p>

<pre><code>library(reticulate)
os &lt;- import(""os"")
os$listdir(""."")
</code></pre>
",459,2,<jupyter-notebook><jupyter-irkernel>,2019-10-17 17:59:00
58421629,Get list of all JupyterHub users?,"<p>I am running JupyterHub (version 0.8.2) on a AWS-managed kubernetes cluster (EKS).</p>

<p>I need to determine a way to get a list of all users. Not just the currently active users. How can I do this? It seems that the admin web UI page only shows a subset of the more recent users.</p>

<p>There must be some way, since JupyterHub saves the state for each user when they return</p>
",476,1,<amazon-web-services><kubernetes><amazon-eks><jupyterhub>,2019-10-16 20:58:58
58416763,Change the alignment of the content of a Label in Ipywidget,"<p>I am using a <code>ipywidgets.Label</code> to display a text in a notebook.
Basic question, how do I change the text alignment within the <code>Label</code>? It seems to be left aligned and I want it to be right aligned. I really looked for it in the docs but I cannot find it.</p>

<p>Thanks</p>
",3519,3,<python><jupyter-notebook><ipywidgets>,2019-10-16 15:23:16
58415218,Set custom style inside ipywidget widgets elements,"<p>I would like to colorize the text in an <code>ipywidgets.widgets.SelectMultiple</code>.</p>

<p>I tried the following without success</p>

<pre><code>from matplotlib import pyplot as plt
from ipywidgets import widgets, interact

colors = plt.rcParams['axes.prop_cycle'].by_key()['color']
prefix = lambda idx: r'\(\color{'+colors[idx%len(colors)]+'} {'
suffix = r'}\)'
d = {
    ""option""+prefix(0)+""1""+suffix: 1,
    ""option""+prefix(1)+""2""+suffix: 2,
    ""option""+prefix(2)+""3""+suffix: 3
}
@interact(data=widgets.SelectMultiple(options=d, description=""selector""))
def _(data):
    print(data)
</code></pre>

<p>Is it possible to set a custom style to a part of an ipywidgets widget ?
How can I make the text interpretable in order to resolve HTML?</p>

<p>Thanks</p>
",112,1,<python><jupyter-notebook><ipywidgets>,2019-10-16 14:02:16
58405678,text wrapping in ipywidgets,"<p>I can't seem to get my widgets to wrap text.</p>

<p>This code:</p>

<pre><code>import ipywidgets as widgets

test_layout = widgets.Layout(
    border='1px solid black',
    flex_flow = 'row wrap',
    width = '200px')

test_string = 'test test test test test test test test test test'

test_label = widgets.Label(value = test_string, layout=test_layout)

test_label
</code></pre>

<p>Outputs:</p>

<p><a href=""https://i.stack.imgur.com/E7MPH.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/E7MPH.png"" alt=""output""></a></p>

<p>What am I missing? I have tried lots of different things, but none of them have worked!</p>
",1284,2,<word-wrap><ipywidgets>,2019-10-16 04:14:55
58404660,"AWS EMR JupyterHub access issue on MacOS Catalina due to Temporary SSL Certificate recognized as ""Invalid""","<p>After upgrading to MacOS Catalina, I am no longer able to access AWS EMR JupyterHub as the new OS blocks temporary SSL certificates. Found a relevant post on Github but no resolution. Any suggestions? </p>

<p><a href=""https://github.com/jetstack/cert-manager/issues/2168"" rel=""nofollow noreferrer"">https://github.com/jetstack/cert-manager/issues/2168</a></p>

<p>Describe the bug:
Temporary Certificates issued when a valid certificate issuance all seem to have the same serial numbers, which in MacOS Catalina causes both Firefox and Chrome to block even allowing access to the sites.</p>

<p>Chrome gives a standard ERR_CERT_INVALID error, and firefox gives a SEC_ERROR_REUSED_ISSUER_AND_SERIAL error</p>
",716,1,<amazon-web-services><ssl-certificate><amazon-emr><jupyterhub><macos-catalina>,2019-10-16 01:46:10
58381171,JupyterHub (v0.8.2) Github Authorization not working,"<p><strong>Context:</strong></p>

<p>I have two EKS clusters. ""EKS"" is AWS managed kubernetes service. I have deployed JupyterHub application to EKS using helm on each cluster. The only difference is that one cluster is running JupyterHub version 0.7.0 and the other is 0.8.2</p>

<p>We use Github auth for JupyterHub. E.g., in our helm chart:</p>

<pre><code>auth:
  admin:
    access: true
    users:
    - my-github-user
  github:
    callbackUrl: ...
    clientId: ...
    clientSecret: ...
    org_whitelist:
    - my-github-org
  scopes:
  - read:org
  type: github
</code></pre>

<p><strong>Problem: Authorization appears to be broken for JupyterHub 0.8.2</strong></p>

<p>The JupyterHub 0.7.0 application is working as expected w.r.t. authorization (it only allows users to log in if they are a member of <code>my-github-org</code>.</p>

<p>The JupyterHub 0.8.2 application is not working as expected. It allows <em>any</em>  Github user to log in. </p>

<p>The environment configuration is exactly the same, the only difference is the JupyterHub version. Could this be a regression/vulnerability  in JupyterHub 0.8.2?</p>
",42,0,<amazon-web-services><github><jupyter-notebook><amazon-eks><jupyterhub>,2019-10-14 17:02:39
58380894,ipywidgets clear_output() does not work the second time it's used,"<p>I am experiencing a weird behavior with the <code>Output</code> widget from <code>ipywidgets</code>. I replicate it with the below code in a jupyter notebook:</p>

<pre><code>import ipywidgets as widgets

def clear_output():
    change_output_button = widgets.Button(description=""Change output?"")
    the_output = widgets.Output()
    clear_output_widget = widgets.VBox([change_output_button, the_output])
    clear_output_widget.click_count = 0

    def button_clicked(_button):
        clear_output_widget.click_count += 1
        the_output.clear_output()
        the_output.append_stdout(f""button clicked {clear_output_widget.click_count} times."")

    change_output_button.on_click(button_clicked)

    return clear_output_widget
</code></pre>

<p>In another cell, I input</p>

<pre><code>clear_output()
</code></pre>

<p>which displays the button as intended.</p>

<p>Below are the sequence of outputs I get:</p>

<ul>
<li>click 1</li>
</ul>

<pre><code>button clicked 1 times.
</code></pre>

<ul>
<li>click 2</li>
</ul>

<pre><code>button clicked 1 times.button clicked 2 times.
</code></pre>

<ul>
<li>click 3</li>
</ul>

<pre><code>button clicked 3 times.
</code></pre>

<ul>
<li>click 4</li>
</ul>

<pre><code>button clicked 4 times.
</code></pre>

<p>and so on...</p>

<p>I do not understand the click 2 behavior. Am I doing something wrong?</p>

<p>Below is my <em>About Jupyter Notebook</em> info:</p>

<p>Server Information:
You are using Jupyter notebook.</p>

<p>The version of the notebook server is: <strong>6.0.1</strong>
The server is running on this version of Python:</p>

<pre><code>Python 3.7.4 (default, Aug  9 2019, 18:22:51) [MSC v.1915 32 bit (Intel)]
</code></pre>

<p>Current Kernel Information:</p>

<pre><code>Python 3.7.4 (default, Aug  9 2019, 18:22:51) [MSC v.1915 32 bit (Intel)]
Type 'copyright', 'credits' or 'license' for more information
IPython 7.8.0 -- An enhanced Interactive Python. Type '?' for help.
</code></pre>

<p>Thanks for you help!</p>
",1680,2,<python><ipywidgets>,2019-10-14 16:41:54
58344927,Customizing JupyterLab Launcher,"<p>I'd like to add some custom content in my JupyterLab Launcher. This is the first page that new users see and I want to tell them about specifics of this environment and link to stuff. Kind of like this:</p>

<p><a href=""https://i.stack.imgur.com/NAMhU.png"" rel=""noreferrer""><img src=""https://i.stack.imgur.com/NAMhU.png"" alt=""Illustration with new section in launcher""></a></p>

<p>The <a href=""https://github.com/jupyterlab/jupyterlab/tree/v1.1.4/packages/launcher"" rel=""noreferrer"">Launcher's code</a> is simple, and I can modify it to my liking. But I have trouble with applying the changes.</p>

<p>This is a JupyterHub environment (<a href=""https://github.com/jupyterhub/zero-to-jupyterhub-k8s/"" rel=""noreferrer"">zero-to-jupyterhub-k8s</a>) with a custom singleuser image that is derived from <a href=""https://hub.docker.com/r/jupyter/datascience-notebook"" rel=""noreferrer""><code>jupyter/datascience-notebook</code></a>.</p>

<p>The launcher is not a normal labextension. Can I make an extension to replace it anyway? Or should I try to patch in my changes somewhere? Where? I can't even find the Launcher's code inside the image.</p>
",1837,8,<jupyter-lab><jupyterhub>,2019-10-11 16:05:31
58278783,Using bqplot tooltip with a dataframe,"<p>Use widget to display snippets from a csv file/dataframe and feed to tooltip attribute of bqplot</p>

<p>I am trying to display certain info (statistics such as age group, income, obesity levels etc.) for each state in the US using bqplot. I am able to plot the US map using examples provided on bqplot github. But the tooltip constructor is using columns names from a json file, which is also used to actually display the map. I do not know how to override that so, I decided to use a widget (ideally a container widget) to hold the data I want to display for each state and use the on_hover() method provided in bqplot.map; In fact, I just modified the code in the link below:</p>

<p><a href=""https://stackoverflow.com/questions/56655741/container-as-tooltip-doesnt-show-contents"">Container as tooltip doesn&#39;t show contents</a></p>

<p>to display info for a particular state</p>

<pre><code>
import bqplot
import pandas as pd
import ipywidgets as ipw
from IPython.display import display, clear_output

res = pd.read_csv('data_files/clean_data.csv')
df = pd.DataFrame(res)

## using values for only one state
df_temp = df[df['State'] == 'NY']

out = ipw.Output()
def hover_handler(self,Dataframe):
        out.clear_output()
        with out:

            display(ipw.HTML(df_temp.to_html()))


geo = AlbersUSA()
scale_s =  OrdinalColorScale(domain=['Obese', 'Not Obese'], colors=['Red', 'Green'])
st_green = dict(zip(df['State'], list(obesity_list)))

geo = AlbersUSA()
scale_s =  OrdinalColorScale(domain=['Obese', 'Not Obese'], colors=['Red', 'Green'])
map_args = {'color': st_green,
              'scales': {'projection': geo, 'color': scale_s}, 
              'colors': {'default_color': 'Black'}}   

s_map = plt.geo(map_data='USStatesMap', **map_args)
s_map.toolip = out  # I am pointing tooltip to the out object
s_map.on_hover(hover_handler)
s_map
</code></pre>

<ol>
<li><p>I cannot figure how to change the color in each state based on values 'Obese' and 'Not obese';</p></li>
<li><p>I used snippets of code from bqplot example and the link above on stackoverflow but I do not know how to make the info change as I hover over to another state; Currently <code>df_temp</code> holds  values for only one state and that is displayed anywhere I hover over the map. How can I make the widget fetch relevant data? </p></li>
</ol>

<p>2.1 Essentially, I need it to display results in a tabular format:</p>

<pre><code>State:NY
Status: Not Obese
Age_group | Obese | Not_obese
&lt;18       |  %    |  %
19-30     |  %    |  %
</code></pre>

<p>I have data for all the fields above as columns in a dataframe for EACH state. I am new to ipywidgets and bqplot. So, any help would be greatly appreciated.</p>

<p>Thank you!</p>
",981,0,<python><dictionary><tooltip><ipywidgets><bqplot>,2019-10-08 00:40:35
58272163,How to include a jar URI in a submit job function on Dataproc,"<p>I am trying to run a PySpark job via jupyter and I need to create a function to run the job. I need to pass a jar file and I am trying to figure out how to do that. 
I did find some documentation on it: <a href=""https://cloud.google.com/dataproc/docs/reference/rpc/google.cloud.dataproc.v1#google.cloud.dataproc.v1.SubmitJobRequest"" rel=""nofollow noreferrer"">https://cloud.google.com/dataproc/docs/reference/rpc/google.cloud.dataproc.v1#google.cloud.dataproc.v1.SubmitJobRequest</a></p>

<p><a href=""https://cloud.google.com/dataproc/docs/reference/rest/v1beta2/HadoopJob"" rel=""nofollow noreferrer"">https://cloud.google.com/dataproc/docs/reference/rest/v1beta2/HadoopJob</a></p>

<p>But I am not able to figure out exactly how to add the URI to the function. My function currently looks something like this:</p>

<pre><code>from google.cloud import dataproc_v1

def submit_pyspark_job(dataproc_cluster_client, project, region, cluster_name, bucket_name,
                       filename):
    """"""Submit the Pyspark job to the cluster (assumes `filename` was uploaded
    to `bucket_name.""""""
    job_details = {
        'placement': {
            'cluster_name': cluster_name
        },
        'pyspark_job': {
            'jar_file_uris':'gs://hadoop-lib/bigquery/bigquery-connector-hadoop2-latest.jar', #PROBLEM HERE!
            'main_python_file_uri': 'gs://{}/{}'.format(bucket_name, filename)
        }
    }

    result = dataproc_cluster_client.submit_job(
        project_id=project, region=region, job=job_details)
    job_id = result.reference.job_id
    print('Submitted job ID {}.'.format(job_id))
    return job_id
</code></pre>

<p>The problem is with the jar_file_uris part of the job details argument. Currently, I am getting an error.</p>
",445,3,<google-cloud-platform><pyspark><google-cloud-dataproc><jupyterhub>,2019-10-07 14:56:25
58262821,Using ipywidgets to make a unit converter,"<p>I have an assignment  to use ipywidgets and the inputs value.value, convertFrom.value, and convertTo.value in Jupyter to convert any unit into another unit without building an ""internal two-dimensional table structure of the conversion of every unit to every other unit for every category"". We are supposed to ""find a common, base unit (e.g., meters for distances) and then just store the constant (e.g., 1000 for kilometers) that is used to convert from the base unit to that unit. To convert from two units in the same category (neither of which are the base unit), you simply convert from your convertFrom unit to the base unit, then from that to the convertTo unit."" </p>

<p>I have initial code that generates input widgets. I attached an image of that code here.</p>

<p><img src=""https://i.stack.imgur.com/Ggpzj.png"" alt=""""></p>
",309,0,<python><jupyter-notebook><ipywidgets><unit-conversion>,2019-10-07 02:25:23
58236932,Dynamically generate tickboxes combined with a search in using jupyter widgets,"<p>I've built a jupyter notebook to analyse and contrast historical data. Because the database is quite large I used a search + observe widget to allow the user to select the experiments they want rather than scroll through all the data. Right now all the checkboxes for all the experiments are generated but this is both too big to fit into the box and takes up a lot of time. </p>

<p>Is there a way to show only the last 10 experiments by default AND only generate the needed checkboxes after a search?</p>

<p>i based the code on this <a href=""https://gist.github.com/pbugnion/5bb7878ff212a0116f0f1fbc9f431a5c"" rel=""nofollow noreferrer"">gist</a>. I already tried to move the checkbox widget inside of the else loop but that did not work. In addition the global/local variable situation seems muddled in my code.</p>

<pre><code>import ipywidgets as widgets

#Generate a dummy list
Allfileslist = [""Experiment {}"".format(x) for x in range(600)]
#Search box + generate ALL the checkboxes, this seems to be the bottleneck
search_widget = widgets.Text(placeholder='Type for older experiments',                 description= 'Search:')
experiments = {eachfilename: widgets.Checkbox(description=eachfilename, value=False) for eachfilename in Allfileslist}
options = [experiments[eachfilename] for eachfilename in Allfileslist]
options_widget = widgets.VBox(options, layout={'overflow': 'auto'})


def whentextischanged (change):
    """"""Dynamically update the widget experiments""""""
    search_input = change['new']
    if search_input == '':
        # Reset search field, default to last 9 experiments
        new_options = [experiments[eachfilename] for eachfilename in Allfileslist[-10:]]
    else:
        # Filter by search
        close_matches = [x for x in Allfileslist if search_input.upper() in x]
        ### magic code that generates only the match boxes ###
        new_options = [experiments[eachfilename] for eachfilename in close_matches]

    options_widget.children = new_options

#Generate the vbox, search
multi_select = widgets.VBox([search_widget, options_widget])
search_widget.observe(whentextischanged, names='value')
#serve it up
multi_select
</code></pre>

<p>Is there any way generate only the checkboxes that are needed to speed things up?</p>

<p><strong>UPDATE</strong>
I incorporate the answer of ac24 with some modification and it almost does what it needs to. The only thing it doesn't is show the defaults when the search box is empty in the beginning. Afterwards, clearing the search box shows the right behaviour.</p>

<pre class=""lang-py prettyprint-override""><code>import ipywidgets as widgets

#Generate a dummy list
Allfileslist = [""{}"".format(x) for x in range(600)]
#Search box + generate some checboxes
search_widget = widgets.Text(placeholder='Type for older experiments', description= 'Search:',value='')
experiments = {}
options_widget = widgets.VBox(layout={'overflow': 'auto'})
default_options = [widgets.Checkbox(description=eachfilename, value=False) for eachfilename in Allfileslist[-10:]]

def whentextischanged (change):
    """"""Dynamically update the widget experiments""""""
    search_input = change['new']
    if search_input == '':
        # Reset search field, default to last 9 experiments
        new_options = default_options
    else:
        # Filter by search
        close_matches = [x for x in Allfileslist if search_input.lower() in x.lower()][:10]
        for name in close_matches:
            if name not in experiments:
                experiments[name] = widgets.Checkbox(description=name, value=False)
        new_options = [experiments[eachfilename] for eachfilename in close_matches]

    options_widget.children = new_options

#Generate the vbox, search
multi_select = widgets.VBox([search_widget, options_widget])
search_widget.observe(whentextischanged, names='value')
multi_select
</code></pre>
",764,1,<jupyter-notebook><ipywidgets>,2019-10-04 12:57:48
58235440,horizontal alignment of options in ipywidgets,"<p>How to align items horizontally in multi-select menu?</p>

<p>Currently <a href=""https://ipywidgets.readthedocs.io/en/latest/examples/Widget%20List.html#SelectMultiple"" rel=""nofollow noreferrer"">this</a> gives me a vertical alignment of options:</p>

<pre><code>widgets.SelectMultiple(options=['option-1','option-2', 'option-3', 'option-4', 'option-5'],
                            rows=5, layout=widgets.Layout(width='440px'))
</code></pre>

<p>I am looking for a way to align all the options in a single row.</p>
",201,0,<python><html><css><ipywidgets>,2019-10-04 11:21:03
58233826,Pyqt5/Pyside application with Ipywidgets and Interactive figures,"<p>I’m building a GUI (pyqt or pyside) to easily create complex figures (e.g. with plotly) for users.
So far so good, I run the data processing and produce plotly figures that are exported as html and read by <code>QwebEngineView</code>. I even created a qt widget for layout editing by the user (see image below).</p>

<p><a href=""https://i.stack.imgur.com/OB4o5.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/OB4o5.png"" alt=""enter image description here""></a></p>

<p>The problem with this is the long delay (few seconds) in the process of: 
updating the layout -> exporting to a temp html file → open and rendering the file on GUI.
I want to make a better GUI experience with layout editing.</p>

<p>Following this great <a href=""https://www.youtube.com/watch?v=1ndo6C1KWjI"" rel=""nofollow noreferrer"">Jon Mease talk</a> I discovered my plotly figures could be updated in real time using the also great <a href=""https://ipywidgets.readthedocs.io/en/latest/index.html"" rel=""nofollow noreferrer"">ipywidgets</a>, but only on Jupyter notebooks / lab environment. That is, exporting the widgets+figure to a html file renders all elements, but since the python backend will be lacking for the widgets (in the standalone html file), they won’t interact with the figure’s layout.</p>

<p>However, my application IS running on a python process, so I have the feeling this should be a solvable problem somehow... </p>

<p><a href=""https://github.com/jupyter/qtconsole"" rel=""nofollow noreferrer"">Qtconsole</a> won’t render ipywidgets, so I can’t use it to expose my figures in the GUI.</p>

<p><a href=""https://github.com/voila-dashboards/voila"" rel=""nofollow noreferrer"">Voila</a> renders Jupyter notebooks with interactive widgets, I’m not sure however if I could access it and incorporate it to the GUI. It says it can work both as a “standalone tornado application” or as a “server extension to notebook or jupyter_server”. </p>

<p>I’m aware there’s probably not a final solution to that, but I would appreciate any suggestions on how to approach this problem! Thanks!</p>
",1264,2,<python><pyqt5><jupyter><ipywidgets><plotly-python>,2019-10-04 09:43:11
58207239,Good way to whitelist ingress traffic for JHub on EKS (AWS kubernetes)?,"<p><strong>Context:</strong>
I have a EKS cluster (EKS is AWS' managed kubernetes service).
I deploy an application to this EKS cluster (JupyterHub) via helm.
I have a VPN server.
Users of my application (JupyterHub on EKS) must connect to the VPN server first before they access the application.
I enforce this by removing the 0.0.0.0/0 ""allow all"" ingress rule on the elastic load balancer, and adding an ingress rule that allows traffic from the VPN server only.
The elastic load balancer referenced above is created implicitly by the JupyterHub application that gets deployed to EKS via helm.</p>

<p><strong>Problem:</strong>
When I deploy changes to the running JuypyterHub application in EKS, sometimes [depending on the changes] the ELB gets deleted and re-created.
This causes the security group associated with the ELB to also get re-created, along with the ingress rules.
This is not ideal because it is easy to overlook this when deploying changes to JupyterHub/EKS, and a developer might forget to verify the security group rules are still present.</p>

<p><strong>Question:</strong>
Is there a more robust place I can enforce this ingress network rule (only allow traffic from VPN server) ?</p>

<p>Two thoughts I had, but are not ideal:</p>

<ul>
<li>Use a NACL. This won't work really, because it adds a lot of overhead managing the CIDRs due to the fact NACL is stateful and operates at subnet level.</li>
<li>I thought to add my ingress rules to the security group associated with the EKS worker nodes instead, but this won't work due to the same problem. When you delpoy an update to Jupyterhub/EKS, and if the ELB gets replaced, a ""allow all traffic"" ingress rule is implicitly added to the EKS worker node security group (allowing all traffic from the ELB). This would override my ingress rule.</li>
</ul>
",543,1,<amazon-web-services><networking><kubernetes><jupyterhub><amazon-eks>,2019-10-02 18:22:41
58204831,access jupyterhub on docker from external network,"<p>Docker is fairly new to me, I'm creating a jupyterhub container like that</p>

<pre><code>FROM ubuntu:18.04
LABEL maintainer=""Jupyter Project &lt;jupyter@googlegroups.com&gt;""

# install nodejs, utf8 locale, set CDN because default httpredir is unreliable
ENV DEBIAN_FRONTEND noninteractive
RUN apt-get -y update &amp;&amp; \
apt-get -y upgrade &amp;&amp; \
apt-get -y install wget git bzip2 &amp;&amp; \
apt-get purge &amp;&amp; \
apt-get clean &amp;&amp; \
rm -rf /var/lib/apt/lists/*
ENV LANG C.UTF-8

# install Python + NodeJS with conda
RUN wget -q https://repo.continuum.io/miniconda/Miniconda3-4.5.11-Linux-x86_64.sh -O /tmp/miniconda.sh  &amp;&amp; \
echo 'e1045ee415162f944b6aebfe560b8fee */tmp/miniconda.sh' | md5sum -c - &amp;&amp; \
bash /tmp/miniconda.sh -f -b -p /opt/conda &amp;&amp; \
/opt/conda/bin/conda install --yes -c conda-forge \
  python=3.6 sqlalchemy tornado jinja2 traitlets requests pip pycurl \
  nodejs configurable-http-proxy &amp;&amp; \
/opt/conda/bin/pip install --upgrade pip &amp;&amp; \
rm /tmp/miniconda.sh
ENV PATH=/opt/conda/bin:$PATH

ADD . /src/jupyterhub
WORKDIR /src/jupyterhub

RUN npm install -g configurable-http-proxy
RUN python3 -m pip install jupyterhub
RUN python3 -m pip install dockerspawner 

WORKDIR /srv/jupyterhub/
EXPOSE 8000

COPY jupyterhub_config.py /srv/jupyterhub/jupyterhub_config.py

LABEL org.jupyter.service=""jupyterhub""

CMD [""jupyterhub""]
</code></pre>

<p>with the following configuration file, base on <a href=""https://github.com/jupyter/docker-stacks/issues/187"" rel=""nofollow noreferrer"">this discussion</a></p>

<pre><code># launch with docker
c.JupyterHub.spawner_class = 'dockerspawner.DockerSpawner'

# we need the hub to listen on all ips when it is in a container
c.JupyterHub.hub_ip = '0.0.0.0'
c.JupyterHub.port = 8000
c.DockerSpawner.extra_host_config = {'network_mode': 'host'}
c.DockerSpawner.use_internal_ip = True
c.DockerSpawner.network_name = 'host'
</code></pre>

<p>Then I do:</p>

<p><code>docker run -i -p 8000:8000 --name jupyterhub jupyterhub:latest jupyterhub -f jupyterhub_config.py</code></p>

<p>It works as expected on my internal network, but I can't access it externally. If I do:</p>

<p><code>my_ip:8000</code></p>

<p>I can't connect.</p>

<p>For my Flask apps running on docker, all I do is to run the app in a <code>0.0.0.0</code> ip and it works, I'm confused here on how to configure the network. Any help would be welcome.</p>

<p>Thanks.  </p>
",713,4,<docker><jupyter><jupyterhub>,2019-10-02 15:37:48
58161247,updating hist2d plot via ipywidgets.interact is not working,"<p>Edit: I put in the required dataframe so that the issue is reproducible.</p>

<p>Sorry for the long excerpt of code, this is what I have on jupyter.
You can scroll to the very bottom and look for <code>draw_plots()</code> which works fine, and draws a matrix of <code>hist2d</code> s.
Later as you can see I run <code>modify_color('Hc', 'q', 0, 30)</code>, that also works fine and modifies the corresponding plot and its colormap update with the new limits given <code>(0-30)</code>.
Problem is: the last line, when I try to run <code>modify_color</code> through interactive widgets, it appears to run fine, I get good print statements which I put for debugging, but the plot and the colorbar do not update.</p>

<p>How can I get the plot and its colorbar to update?</p>

<pre><code>merged =pd.DataFrame( {'Hc': {10000: 45.0,
  10001: 68.0,
  10002: 70.0,
  10003: 58.0,
  10004: 40.0,
  10005: 40.0,
  10006: 51.0,
  10007: 70.0,
  10008: 69.0,
  10009: 70.0},
 'SONUCNO': {10000: 1.0,
  10001: 2.0,
  10002: 3.0,
  10003: 4.0,
  10004: 5.0,
  10005: 6.0,
  10006: 7.0,
  10007: 8.0,
  10008: 9.0,
  10009: 10.0},
 'SONUCNORM': {10000: 0.07692307692307693,
  10001: 0.15384615384615385,
  10002: 0.2307692307692308,
  10003: 0.3076923076923077,
  10004: 0.38461538461538464,
  10005: 0.4615384615384616,
  10006: 0.5384615384615384,
  10007: 0.6153846153846154,
  10008: 0.6923076923076923,
  10009: 0.7692307692307693},
 'n_HJPair': {10000: 3,
  10001: 0,
  10002: 2,
  10003: 0,
  10004: 4,
  10005: 0,
  10006: 0,
  10007: 2,
  10008: 0,
  10009: 0},
 'q': {10000: 0.029980572858854998,
  10001: 0.13087877831873412,
  10002: 0.13350577945847913,
  10003: 0.1865475118001965,
  10004: 0.2053608670014144,
  10005: 0.24318638969823925,
  10006: 0.3040225082331678,
  10007: 0.459925865474959,
  10008: 0.5381321066914233,
  10009: 0.5919278296001834}})
from ipywidgets import interact
inp = ['Hc', 'n_HJPair']
out = ['SONUCNO', 'SONUCNORM', 'q']
global axs
global h2d
def draw_plots(in_props=inp, out_props=out):
  global axs
  global h2d


  n_in = len(in_props)
  n_out = len(out_props)
  h2d={}
  %matplotlib inline
  plt.rcParams['figure.figsize'] = [10*n_out, 5*n_in]
  fig, axs = plt.subplots(nrows=n_in,ncols=n_out)
  for index,inprop in enumerate(in_props):
    for index_2, outprop in enumerate(out_props):
      mask = (~((merged[inprop].isna()) | (merged[outprop].isna()))) 
      v_max = mask.sum()/40/20*5

      h2d[inprop+outprop] = (axs[index, index_2].hist2d(merged[mask][inprop],merged[mask][outprop], vmin=00, vmax=v_max, bins=[45,15], cmap='gist_rainbow'))
      axs[index, index_2].set_xlabel(inprop)
      axs[index, index_2].set_ylabel(outprop)
      fig.colorbar(h2d[inprop+outprop][3], ax=axs[index, index_2])

draw_plots()
def modify_color(ip,op,min=0,max=0):
  global h2d
  print(""I am running with: "",ip,op,min,max)
  h2d[ip+op][3].set_clim(min,max)

modify_color('Hc', 'q', 0, 30)
interact(modify_color, ip=inp,op=out,min=0.0,max=100.0)
</code></pre>
",107,0,<python><pandas><matplotlib><jupyter><ipywidgets>,2019-09-30 03:40:42
58158779,How to upload a large file using the ipywidgets fileupload?,"<p>There is a server with Jupyterhub. It has remote access via a browser (IP address ONLY). User can upload large files (several GB) using the ipywidgets.fileupload. But I can't normally upload files more 100MB: Files abouts 200MB upload ~10 minutes. (scp command - less 2 minutes.). Files more 250MB - ending with kernel error (but jupyterhub with ""--debug"" doesn't show anything).</p>

<p><strong>Browser console error:</strong></p>

<pre><code>API request failed (0): error
:8000/user/aleksandr/api/contents/Untitled1.ipynb:1 Failed to load resource: net::ERR_EMPTY_RESPONSE
main.min.js?v=eef572336006937e9a017afbdebc65fe:24805 Uncaught (in promise) XhrError: error
    at wrap_ajax_error (http://192.168.1.49:8000/user/aleksandr/static/notebook/js/main.min.js?v=eef572336006937e9a017afbdebc65fe:24805:29)
    at Object.settings.error (http://192.168.1.49:8000/user/aleksandr/static/notebook/js/main.min.js?v=eef572336006937e9a017afbdebc65fe:24861:24)
    at u (http://192.168.1.49:8000/user/aleksandr/static/notebook/js/main.min.js?v=eef572336006937e9a017afbdebc65fe:2:27457)
    at Object.fireWith [as rejectWith] (http://192.168.1.49:8000/user/aleksandr/static/notebook/js/main.min.js?v=eef572336006937e9a017afbdebc65fe:2:28202)
    at k (http://192.168.1.49:8000/user/aleksandr/static/notebook/js/main.min.js?v=eef572336006937e9a017afbdebc65fe:2:77676)
    at XMLHttpRequest.&lt;anonymous&gt; (http://192.168.1.49:8000/user/aleksandr/static/notebook/js/main.min.js?v=eef572336006937e9a017afbdebc65fe:2:79882)
wrap_ajax_error @ main.min.js?v=eef572336006937e9a017afbdebc65fe:24805
settings.error @ main.min.js?v=eef572336006937e9a017afbdebc65fe:24861
u @ main.min.js?v=eef572336006937e9a017afbdebc65fe:2
fireWith @ main.min.js?v=eef572336006937e9a017afbdebc65fe:2
k @ main.min.js?v=eef572336006937e9a017afbdebc65fe:2
(anonymous) @ main.min.js?v=eef572336006937e9a017afbdebc65fe:2
</code></pre>

<p><strong>Some source code:</strong></p>

<pre><code>import ipywidgets as widgets

def ff(b):
    s.style.button_color = ""yellow""
    for elem in b.new.values():
        print(elem['metadata']['name'])
        with open(elem['metadata']['name'], 'wb') as file:
            file.write( elem['content'])
        print(""Done"")
    s.style.button_color = ""lightgreen""

s = widgets.FileUpload(
    accept='',  # Accepted file extension e.g. '.txt', '.pdf', 'image/*', 'image/*,.pdf'
    multiple=True  # True to accept multiple files upload else False
)
s.style.button_color = ""lightgreen""
s.observe(ff, names='value')
s
</code></pre>

<p>When freezing, the ""ff"" function is not executed.</p>

<p><strong>I use:</strong></p>

<ul>
<li>python: 3.7.3</li>
<li>jupyter core:4.5.0 </li>
<li>jupyter-notebook: 6.0.0</li>
<li>ipython: 7.6.1</li>
<li>ipykernel: 5.1.1</li>
<li>ipywidgets: 7.5.0</li>
<li>jupyterhub: 1.0.0</li>
</ul>

<p><strong>Some action:</strong></p>

<p>According this: <a href=""https://github.com/jupyter-widgets/ipywidgets/issues/2522"" rel=""noreferrer"">https://github.com/jupyter-widgets/ipywidgets/issues/2522</a>, I changed in jupyer_config.py:</p>

<pre><code>c.Spawner.args=['--SingleUserNotebookApp.tornado_settings = {""websocket_max_message_size"": 1073741824}']
</code></pre>

<p>Execution at startup of a user's notebook. And:</p>

<pre><code>c.JupyterHub.tornado_settings= {""websocket_max_message_size"": 1073741824}}
</code></pre>

<p>In general, changing these fields did not affect the state of the problem.</p>

<p>Is it possible to upload large files with normal speed through the ipywidgets.fileupload?</p>
",3148,6,<python><jupyter><ipywidgets><jupyterhub>,2019-09-29 20:05:26
58137638,ipysheet question about update cell attribute,"<p>My code here</p>

<pre><code>import ipysheet
mysheet = ipysheet.sheet(rows=2, columns=2)
mysheet
c = cell(0,0,1, background_color = 'red')
</code></pre>

<p>I want to change <code>background_color</code>, I expect to do something like this</p>

<pre><code>c.background_color = 'yellow'
</code></pre>

<p>Or later</p>

<pre><code>mysheet[0, 0].background_color = 'yellow'
</code></pre>

<p>instead of construct a new object</p>

<pre><code>c = cell(c.row_start, c.column_start, c.value, background_color = 'yellow')
</code></pre>

<p>Excuse me if I make a <em>read-doc-for-me</em> issue. But I didn't find method I expect. If there isn't, could anyone explain? Thanks</p>
",843,0,<python><ipywidgets>,2019-09-27 15:39:37
58129874,How to merge Dynamic Dataframes,"<p>I'm looking for help to add two dynamically generated dataframes.
Both DataFrames have a column computed on input from an intslider ipywidget. 
the third Dataframe should update dynamically on changes of any of above Dataframes</p>

<pre class=""lang-py prettyprint-override""><code>import pandas as pd
from ipywidgets import interact
</code></pre>

<pre class=""lang-py prettyprint-override""><code>@interact(x=(0,1000,10))
def df_draw_one(x):
    data = {""A"":[1,2,3,4,5]}
    df_one = pd.DataFrame(data)
    df_one['B'] = df_one['A']*x
    print(df_one)
</code></pre>

<pre class=""lang-py prettyprint-override""><code>@interact(x=(0,1000,10))
def df_draw_two(x):
    data = {""A"":[6,7,8,9,10]}
    df_two = pd.DataFrame(data)
    df_two['B'] = df_two['A']*x
    print(df_two)
</code></pre>

<pre class=""lang-py prettyprint-override""><code>df_res = df_one+df_two
</code></pre>

<p>I understand with the current code, df_one and two are local and hence result in:</p>

<blockquote>
  <p>NameError: name 'df_one' is not defined</p>
</blockquote>

<p>but I'm at loss on how to make them accessible. 
Any pointer would be appreciated</p>
",90,0,<python><pandas><jupyter-notebook><ipywidgets>,2019-09-27 07:32:29
58116316,IPywidgets not displaying,"<p><a href=""https://i.stack.imgur.com/arpbQ.png"" rel=""nofollow noreferrer"">Pls look at this screenshot</a></p>

<p>Hi, unable to view ipywidgets/ charts inline in the Jupyter Notebook with PySpark 3 kernel.</p>

<pre><code>from IPython.display import HTML

HTML('''&lt;script&gt;
code_show=true; 
function code_toggle() {
 if (code_show){
 $('div.input').hide();
 } else {
 $('div.input').show();
 }
 code_show = !code_show
} 
$( document ).ready(code_toggle);
&lt;/script&gt;
&lt;form action=""javascript:code_toggle()""&gt;&lt;input type=""submit"" value=""Click here to toggle on/off the raw code.""&gt;&lt;/form&gt;''')
</code></pre>

<p>Here I'm trying to toggle on/off raw code.
But this is the output I'm getting</p>

<pre><code>&lt;IPython.core.display.HTML object&gt;
</code></pre>
",194,1,<jupyter-notebook><jupyter><ipywidgets>,2019-09-26 11:55:58
58080898,How to skip specific cells while converting a notebook to python script?,"<p>I am trying to convert a Jupyter notebook to a python file using <a href=""https://nbconvert.readthedocs.io/en/latest/usage.html"" rel=""nofollow noreferrer"">nbconvert</a> command. There is a cell having Python code which I want it to skip while converting. I tried few solutions including adding remove_cell tag to the one that has to be skipped:</p>

<pre><code>""jupyter nbconvert &lt;notebook_path&gt; --TagRemovePreprocessor.enabled=True --TagRemovePreprocessor.remove_cell_tags=\""['remove_cell']\"" --to script
</code></pre>

<p>But it did not work. Please let me know if this can be done through nbconvert. </p>
",629,0,<python><jupyter-notebook><jupyter><jupyterhub><nbconvert>,2019-09-24 12:59:51
58075460,Jupyter Notebook Cannot Run without Root,"<p>Have been using jupyter notebook with python3 for almost a year, never had this issue. All of a sudden, I cannot run jupyter notebook without a being a root user. This is how the error I face looks like </p>

<pre><code>OSError: [Errno 13] Permission denied: '/usr/local/lib/python2.7/dist-packages/watchdog-0.8.3-py2.7.egg-info'
</code></pre>

<p>I tried multiple uninstall/reinstall of pip3, jupyter, ipykernel etc. but nothing helped. I read somewhere it has something to do with directory permissions at my home, and hence I changed the owner of my home directory to myself as a user (not root) recursively. Still no luck. </p>

<p>If it helps, here are some extra details. </p>

<p>This is the output of <code>jupyter kernelspec list</code></p>

<pre><code>[ListKernelSpecs] WARNING | Native kernel (python2) is not available
[ListKernelSpecs] WARNING | Native kernel (python2) is not available
Available kernels:
  pyspark3kernel    /usr/local/share/jupyter/kernels/pyspark3kernel
  pysparkkernel     /usr/local/share/jupyter/kernels/pysparkkernel
  python3           /usr/local/share/jupyter/kernels/python3
  sparkkernel       /usr/local/share/jupyter/kernels/sparkkernel
</code></pre>

<p>This is the <code>/usr/local/share/jupyter/kernels/python3/kernel.json</code> file</p>

<pre><code>{
""display_name"": ""Python 3"",
""language"": ""python"",
""argv"": [
""/usr/bin/python3"",
""-m"",
""ipykernel_launcher"",
""-f"",
""{connection_file}""
]
}
</code></pre>

<p>Finally, this is the <code>uname --all</code> output.</p>

<pre><code>Linux hn0-ciabdp 4.4.0-150-generic #176-Ubuntu SMP Wed May 29 18:56:26 UTC 2019 x86_64 x86_64 x86_64 GNU/Linux
</code></pre>

<p>Any help will be appreciated. Better still, some reference materials to understand the inner workings of how jupyter connects to python interpreter and what do these settings mean. </p>
",296,0,<python-3.x><jupyter-notebook><ubuntu-16.04><kernel-module><jupyter-irkernel>,2019-09-24 07:48:05
58064711,How to build a simple widget or app in jupyter notebook/lab to interactively extract a substring from text?,"<p>I want iterate over a list of string, output the string as plain text in jupyter lab then interactively highlight a substring to get easily the start index of the substring and the length. The goal is to do a quick annotation of text and get the coordinates of the substring. </p>

<p>Is it easy or even possible to do something like this with jupyter notebook (lab)? If then How?</p>

<p>I had a look at ipywidgets but couldn't find something for this use case. </p>
",157,0,<jupyter-notebook><jupyter><jupyter-lab><ipywidgets>,2019-09-23 14:32:28
58010742,interactive plot with two parameters and interdependent data using ipywidget,"<p>I would like to create a jupyter-notebook cell showing an interactive plot with matplotlib to illustrate smoothing of a noisy signal. In the example below I am using the gaussian filter from scikit-image. I would like the level of the noise as well as the degree of smoothing to be adjustable by sliders. For this purpose I was using ipywidgets</p>

<p>Initially I tried the following</p>

<pre class=""lang-py prettyprint-override""><code>import ipywidgets as widgets
import matplotlib.pyplot as plt
import numpy as np
import skimage
%matplotlib inline

def plot_noise_filter(signal,cnts,sigma):
    s = signal/np.sum(signal)*cnts  #normalize the signal to have cnts counts
    noise = np.random.poisson(s)    #randomly generate poissonian noise
    filtered = skimage.filters.gaussian(noise,sigma)   #filter noisy signal with gauss filter
    f,ax = plt.subplots()                              #plot
    ax.plot(noise/np.max(noise))
    ax.plot(filtered/np.max(filtered))

c_slide = widgets.IntSlider(min=100,max=10000,step=10,description='counts')
s_slide = widgets.IntSlider(min=1,max=100,description='smoothing')

sig = np.heaviside(np.linspace(-1,1,100),1)+1
widgets.interact(plot_noise_filter,signal=widgets.fixed(sig),cnts=c_slide,sigma=s_slide)

</code></pre>

<p>In principle this gives me the desired plot but now each time I use the slider <code>s_slide</code>, the function is called and a new random signal is generated even though the counts have not changed. I would like the noisy signal in the plot to change only when the corresponding slider is moved. </p>

<p>The only workaround I could come up with, was to compute and store the noisy signals beforehand in an array and pick elements of that array according to the slider but this is not very elegant and may become very memory consuming.</p>

<p>My current installation is using conda and python 3.7.3</p>

<pre><code>ipywidgets                7.5.1
matplotlib                3.1.1
jupyter                   1.0.0
jupyter_client            5.3.1
jupyter_console           6.0.0
jupyter_core              4.4.0
notebook                  6.0.1
numpy                     1.17.2
</code></pre>

<p>Any help is welcome. Thanks in advance!</p>
",589,1,<python><matplotlib><jupyter-notebook><ipywidgets>,2019-09-19 12:11:33
57966037,I could not access jupyterhub locally,"<p>I have a docker image (jupyterhub)running locally.
when I try in browser localhost:8000 i get site can't reach issue.</p>

<p>docker ps shows;</p>

<p>Here is teh jupyterhub dockerimages' logs;</p>

<blockquote>
  <p>ratha$ docker run -p 8000:8000 856b48323ac4</p>
</blockquote>

<pre><code>I 2019-09-17 00:40:38.690 JupyterHub app:2120] Using Authenticator: jupyterhub.auth.PAMAuthenticator-1.0.0
[I 2019-09-17 00:40:38.691 JupyterHub app:2120] Using Spawner: jupyterhub.spawner.LocalProcessSpawner-1.0.0
[I 2019-09-17 00:40:38.709 JupyterHub app:1257] Loading cookie_secret from /srv/jupyterhub/jupyterhub_cookie_secret
[I 2019-09-17 00:40:38.755 JupyterHub proxy:460] Generating new CONFIGPROXY_AUTH_TOKEN
[W 2019-09-17 00:40:38.756 JupyterHub app:1532] No admin users, admin interface will be unavailable.
[W 2019-09-17 00:40:38.757 JupyterHub app:1534] Add any administrative users to `c.Authenticator.admin_users` in config.
[I 2019-09-17 00:40:38.757 JupyterHub app:1563] Not using whitelist. Any authenticated user will be allowed.
[W 2019-09-17 00:40:38.804 JupyterHub app:1898] admin appears to have stopped while the Hub was down
[I 2019-09-17 00:40:38.816 JupyterHub app:2337] Hub API listening on http://127.0.0.1:8081/hub/
[W 2019-09-17 00:40:38.817 JupyterHub proxy:516] Found proxy pid file: /srv/jupyterhub/jupyterhub-proxy.pid
[W 2019-09-17 00:40:38.817 JupyterHub proxy:528] Proxy no longer running at pid=11
[W 2019-09-17 00:40:38.819 JupyterHub proxy:642] Running JupyterHub without SSL.  I hope there is SSL termination happening somewhere else...
[I 2019-09-17 00:40:38.819 JupyterHub proxy:645] Starting proxy @ http://:8000
00:40:39.475 - info: [ConfigProxy] Proxying http://*:8000 to (no default)
00:40:39.481 - info: [ConfigProxy] Proxy API at http://127.0.0.1:8001/api/routes
[I 2019-09-17 00:40:39.649 JupyterHub proxy:319] Checking routes
[I 2019-09-17 00:40:39.650 JupyterHub proxy:399] Adding default route for Hub: / =&gt; http://127.0.0.1:8081
[I 2019-09-17 00:40:39.654 JupyterHub app:2422] JupyterHub is now running at http://:8000

[I 2019-09-17 00:45:39.659 JupyterHub proxy:319] Checking routes
[I 2019-09-17 00:50:39.656 JupyterHub proxy:319] Checking routes
</code></pre>

<p>What is wrong, Same image running for others. Im trying it in docker  terminal in my MAC.</p>
",305,0,<docker><jupyter><jupyterhub>,2019-09-17 00:55:38
57925662,How to install a nbextension with python and js components as a labextension,"<p>I created a nb extension following <a href=""http://kazuar.github.io/jupyter-widget-tutorial/"" rel=""nofollow noreferrer"">this link</a>!. The extension works correctly when ran from:</p>

<pre><code>jupyter notebook
</code></pre>

<p>When I ran the same extension from</p>

<pre><code>jupyter lab
</code></pre>

<p>The extension does not work and gives me an error:</p>

<pre><code>Error displaying widget: model not found
</code></pre>

<p>Here is the error on console:</p>

<pre><code>Could not instantiate widget
(anonymous) @ manager-base.js:273

09:27:26.891 default.js:127 Error: Module test_pp, semver range 1.2.0 is not registered as a widget module
    at WidgetManager.loadClass (manager.js:251)
</code></pre>

<p>test_pp is the extension module I am trying to run.</p>

<p>Following are the commands that make the extension work in notebok:</p>

<pre><code>python setup.py build
pip install -e .
jupyter nbextension install --py test_pp
jupyter nbextension enable --py test_pp
jupyter notebook
</code></pre>

<p>Folder structure of notebook extension:</p>

<pre><code>test_pp
  js
    lib
      embed.js
      extension.js
      index.js
      labplugin.js
      test_pp.js &lt;------ The javascript part of extension
    node_modules
    package.json
    webpack.config.js
  test_pp
    static
    __init__.py
    _version.py
    test_pp.py &lt;-------- The extension server side python
</code></pre>

<p>Looking thru several tutorials and blogs I found some commands that I could run that should make it but, but they did not help:</p>

<pre><code>pip install ipywidgets
jupyter nbextension enable --py widgetsnbextension
jupyter labextension install @jupyter-widgets/jupyterlab-manager
cd jupyter_lab_src/test_pp
jupyter labextension install . &lt;----- Fails, not a valid npm package

cd js &lt;----- as that folder has package.json
jupyter labextension install . &lt;---- installs successfully
jupyter lab
</code></pre>

<p>Open a notebook from lab, call the same commands that work in jupyter notebook:</p>

<pre><code>from test_pp import test_pp
pp = test_pp.PostProcessor()
pp.initWidget()
data = 1
pp.set_data(data)
pp
</code></pre>

<p>Gives the error I described above. Ran a command to see the extensions:</p>

<pre><code>(base) C:\data\OnScale_Jupyter\jupyterlab\test_pp&gt;jupyter labextension list
JupyterLab v1.1.3
Known labextensions:
   app dir: c:\users\anils\miniconda3\share\jupyter\lab
        @jupyter-widgets/jupyterlab-manager v1.0.2 enabled  ok
        test_pp v0.1.0 enabled  ok* &lt;----- why is there a star

   local extensions:
        test_pp: C:\data\OnScale_Jupyter\jupyterlab\test_pp\js
</code></pre>

<p>I see an error on the conda command console as well:</p>

<pre><code>[W 10:22:31.781 LabApp] Failed to fetch package metadata for 'test_pp': &lt;HTTPError 404: 'Not Found'&gt;
</code></pre>

<p>I believe, in essence, I am unsure of how to launch a nbextension as a labextension?
Any help would be appreciated?</p>
",1516,0,<jupyter-notebook><jupyter-lab><ipywidgets>,2019-09-13 14:35:54
57921550,Jupyterhub K8s - Issue with Changing User from Jovyan to NB_USER,"<pre><code>Everything works well until we wanted to set the NB_USER to the logged in user. When changed the config to run as root and start.sh as default cmd, getting the below error in the log and the container is failing to start. Any help is highly appreciated
</code></pre>

<p>After running the container as root, getting the below log for the error:<br>
Set username to: user1
Relocating home dir to /home/user1
mv: cannot move '/home/jovyan' to '/home/user1': Device or resource busy</p>

<pre><code>Here is the config.yaml
singleuser:
defaultUrl: ""/lab""
uid: 0
fsGid: 0
hub:
extraConfig: |
c.KubeSpawner.args = ['--allow-root']
c.Spawner.cmd = ['start.sh','jupyterhub-singleuser']
def notebook_dir_hook(spawner):
spawner.environment = {'NB_USER':spawner.user.name, 'NB_UID':'1500'}
c.Spawner.pre_spawn_hook = notebook_dir_hook
from kubernetes import client
def modify_pod_hook(spawner, pod):
pod.spec.containers[0].security_context = client.V1SecurityContext(
privileged=True,
capabilities=client.V1Capabilities(
add=['SYS_ADMIN']
)
)`enter code here`
return pod
c.KubeSpawner.modify_pod_hook = modify_pod_hook
</code></pre>
",783,1,<jupyter-notebook><jupyter><jupyterhub>,2019-09-13 10:05:38
57898543,Coding r in Jupyter Lab (irkernel) - Using stringr package: The str_view() function fails,"<p>Can anyone use the str_view() function in Jupyter Lab?  </p>

<p>Whenever the str_view() function is used, the output returns only a partial white screen and the function returns no values.  No other stringr functions have any noticeable issues. This str_view() function does perform as expected in R studio.</p>

<p>Tried a work-around using that nifty Jupyter feature, ""Create New View for Outputs""  in attempts to output that partial failed-display But then things get really screwy.   That New View window grows continuously larger, becomes unmanageable,  becomes unstable, then crashes Jupyter.</p>

<pre><code>library(dplyr)
library(stringr)
med &lt;- as.matrix(read.csv(""med.csv""))
med

str_length(med)
str_match(med, ""Pill"")

str_view(med, ""Pill"")
</code></pre>

<p>To the best of my knowledge, this is a standard install and configuration of python, Jupyter, and the Irkernel. </p>

<p>Therefore it would be nice to know if others are having a similar issue when using the str_view() function with the Irkernel, or whether it's the setup on this particular PC.</p>

<p>Screen print is below.</p>

<p><a href=""https://i.stack.imgur.com/od0Kd.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/od0Kd.png"" alt=""enter image description here""></a></p>
",129,0,<r><stringr><jupyter-irkernel>,2019-09-12 01:17:10
57851368,Assigning variable while clicking on an ipywidgets button. button.on_click event,"<p>I'm trying to code a simple app that takes all the xml files from the folder, and then scraps all the needed from the files. I wanted to make the program usable for those who can not code in python. </p>

<p>I want to run the files_in_folder_path function after applicable button is clicked, and store the values returned by files_in_folder_path in variables. </p>

<p>and there is the problem, i can not find a way to assign the returned values to the variables(i will need these variables later in program) when the function is being run with a button. </p>

<p>There is the files_in_folder_path func:</p>

<pre class=""lang-py prettyprint-override""><code>def files_in_folder_path(b):

    folder_path = filedialog.askdirectory()
    files_in_folder = [f for f in listdir(folder_path) if isfile(join(folder_path, f))]
    return files_in_folder,folder_path
</code></pre>

<p>and there is how i try to run it</p>

<pre class=""lang-py prettyprint-override""><code>button_path = widgets.Button(description=""Click Me!"")
display(button_path)
button_path.on_click(files_in_folder_path)
</code></pre>

<p>is there any way to store the values returned by files_in_folder_path in a variables while the function is being triggered with the button?</p>

<p>Regards!</p>
",2326,1,<python><python-3.x><jupyter-notebook><ipywidgets>,2019-09-09 09:35:25
57847467,Table flickering when using ipywidgets interactive,"<p>I'm trying to make an interactive table which fetches data from csv file. But the table keeps flickering when updates from the server.</p>

<p>I had tried this, but it doesn't work.
<a href=""https://ipywidgets.readthedocs.io/en/latest/examples/Using%20Interact.html?highlight=flickering#Flickering-and-jumping-output"" rel=""nofollow noreferrer"">https://ipywidgets.readthedocs.io/en/latest/examples/Using%20Interact.html?highlight=flickering#Flickering-and-jumping-output</a></p>

<p>Here is demo code. You could see the flickering in Jupyter notebook.</p>

<pre class=""lang-py prettyprint-override""><code>import pandas as pd
import plotly.graph_objects as go
import ipywidgets as widgets
from IPython.display import display
from ipywidgets import interact, interactive

def demo_table(row):
    fig = go.Figure(data=[
        go.Table(
            header=dict(values=['Column1', 'Column2', 'Column3'],
                line = dict(color='#7D7F80'),
                fill = dict(color='#a1c3d1'),
                align = ['left'] * 5),
            cells=dict(values=[[1, 2],[3, 4],[5, 6]],
                line = dict(color='#7D7F80'),
                fill = dict(color='#EDFAFF'),
                align = ['left'] * 5)
        )
    ])
    fig.show()

play = widgets.Play(
    interval=1000,
    value=0,
    min=0,
    max=100,
    step=1,
    description=""Press play"",
    disabled=False
)

slider = widgets.IntSlider()
widgets.jslink((play, 'value'), (slider, 'value'))
display(widgets.HBox([play]))

interactive_plot=interactive(demo_table, row=slider)
output = interactive_plot.children[-1]
output.layout.height = '350px'
interactive_plot
</code></pre>

<p>Thanks.</p>
",416,2,<jupyter-notebook><ipywidgets><plotly-python>,2019-09-09 03:16:59
57838556,Using buttons with @interact,"<p>EDIT: Re-written for clarity Sept. 8 2019 1330 UTC</p>
<p>In a Jupyter notebook, I want to explore dates chosen by a date picker widget. The way of doing this I already knew was to use <code>@interact</code> and make the datepicker widget an argument to the interact function, like this:</p>
<pre><code>def explore_dates(d1=widgets.DatePicker(value=pd.to_datetime('2018-07-10', format='%Y-%m-%d'), description='Date')):
</code></pre>
<p>But I need buttons &quot;Next Holiday&quot; and &quot;Previous Holiday&quot; to move from the selected date to the next holiday. I already have an array of holidays stored as datetime.datetime objects.</p>
<p>So I tried adding the button objects to the arguments to the <code>@interact</code> function, like this:</p>
<pre><code>@interact

def explore_dates(d1=widgets.DatePicker(value=pd.to_datetime('2018-07-10', format='%Y-%m-%d'), description='Date'),
                 prev_button = widgets.Button(description=&quot;Prev Holiday&quot;),
                 next_button = widgets.Button(description=&quot;Next Holiday&quot;)):
</code></pre>
<p>That didn't work. Error says the line with the button widget &quot;cannot be transformed into a widget&quot;. Hmm, I thought it already was a widget...</p>
<p>My next thought was to put the button code inside the function, rather than as an argument:</p>
<pre><code>def explore_dates(d1=widgets.DatePicker(value=pd.to_datetime('2018-07-10', format='%Y-%m-%d'), description='Date')):

prev_button = widgets.Button(description=&quot;Prev Holiday&quot;)
next_button = widgets.Button(description=&quot;Next Holiday&quot;)
prev_button.on_click(prev_holiday_callback)
next_button.on_click(next_holiday_callback)
box=widgets.HBox([prev_button,next_button])
display(box)
</code></pre>
<p>That got the buttons on the screen and I can push them and my callback routines run. But when the datepicker is set up (per above) as an argument to <code>@interact</code>, it appears that it is no longer possible to reset its date using its .value attribute. (See code above) trying to set d1.value results in an error.</p>
<p>I suppose I could get rid of <code>@interact</code> entirely, and just put the datepicker and both buttons into the mainline code. <strong>But I don't know how to reproduce the function of <code>@interact</code> at that point</strong>. Short of an infinite loop that waits for a click or observe event to come from one of the widgets, other than <code>@interact</code>, I don't know how to tell Python/Jupyter &quot;hey, just chill out until a widget event causes a callback to wake up the code&quot;.</p>
<p>In case it's helpful, here are my callback routines for the buttons.</p>
<pre><code>def button_click_common():
    global button_flag
    global button_date
    global holidays
    
    for i in range(len(holidays)):
        if(holidays[i]&lt;button_date): # haven't passed the prior holiday yet
            continue
        
        # Now holidays[i] has to either be same as or after button_date
        
        prior_holiday = i-1 # prior holiday is the one we just passed that was prior
        next_holiday = i    # assume at first we are between dates
        if holidays[i]==button_date:
            next_holiday +=1        # if we were already on a holiday date, next becomes the following one
        return prior_holiday, next_holiday

def prev_holiday_callback(_):
    global button_flag
    global button_date
    global holidays
    
    prior_holiday,_ = button_click_common()
    
    button_date = holidays[prior_holiday]
    button_flag = True
    
def next_holiday_callback(_):
    global button_flag
    global button_date
    global holidays
    
    _,next_holiday = button_click_common()
    
    button_date = holidays[next_holiday]    
    button_flag = True  
</code></pre>
<p>The idea here is that the callback updates button_date to the date of the next holiday, and sets the flag button_flag. Then code (not shown) in the explore_dates function was going to test the flag. But I can't figure out how to update the datepicker widget with the new date when it is defined as an argument to the <code>@interact</code> function.</p>
<p>Feels like I'm going about this wrong. Any advice or guidance welcome...</p>
<p>Thanks in advance!</p>
",2095,1,<python><jupyter-notebook><ipywidgets>,2019-09-08 01:31:28
57831977,dockerized java application access a monetdb database which has been deploied on a jupyterhub via docker,"<p>There is a monetdb docker deployed on the jupyterhub, I'm developing a Java application which will use the data from the database on the jupyterhub.</p>

<p>Is there a way to write in the code to make the access to the database via internet, so that users can get and write records in runtime?</p>

<p>Thank you!</p>
",36,0,<java><docker><monetdb><jupyterhub>,2019-09-07 08:23:36
57822745,Jupyterhub unable to add modules directory,"<p>I need to add custom directory for Jupyterhub so the users can import python modules installed using pip.</p>

<p>We have an offline server running Jupyterhub. I loaded new docker image onto this server (docker image contains new python packages installed using pip in Dockerfile on another machine).</p>

<p>I found out, that Jupyter notebook has different PYTHONPATH than Docker image.
The problem is that modules can be imported without any problem inside Docker but they can not be found inside Jupyter notebook.</p>

<p>I found out that when opening new notebook and appending the folder I found the modules are actually in inside the first cell:</p>

<pre><code>import sys
sys.path.append('/opt/conda/lib/python3.7/site-packages')
</code></pre>

<p>works just fine and modules can be used without any problem.</p>

<p>I do not want users to have append the path every time they create a new notebook.</p>

<p>I changed Jupyterhub config file and added following to 'PYTHONPATH':</p>

<pre><code>:/opt/conda/lib/python3.7/site-packages/
</code></pre>

<p>When I restart the Jupyterhub service and open the new Python3 notebook, following kernel error occurs:</p>

<pre><code>Traceback (most recent call last):
  File ""/opt/conda/lib/python3.7/site-packages/tornado/web.py"", line 1699, in _execute
    result = await result
  File ""/opt/conda/lib/python3.7/site-packages/tornado/gen.py"", line 742, in run
    yielded = self.gen.send(value)
  File ""/opt/conda/lib/python3.7/site-packages/notebook/services/sessions/handlers.py"", line 67, in post
    model = yield gen.maybe_future(sm.get_session(path=path))
  File ""/opt/conda/lib/python3.7/site-packages/notebook/services/sessions/sessionmanager.py"", line 170, in get_session
    return self.row_to_model(row)
  File ""/opt/conda/lib/python3.7/site-packages/notebook/services/sessions/sessionmanager.py"", line 209, in row_to_model
    raise KeyError
KeyError
</code></pre>

<p>Another problem appeared after appending the path in the notebook:</p>

<pre><code>---------------------------------------------------------------------------
ModuleNotFoundError                       Traceback (most recent call last)
&lt;ipython-input-26-31ba9e12ccc0&gt; in &lt;module&gt;()
      1 import sys
----&gt; 2 import bitarray

/opt/conda/lib/python3.7/site-packages/bitarray/__init__.py in &lt;module&gt;()
      9 Author: Ilan Schnell
     10 """"""
---&gt; 11 from bitarray._bitarray import _bitarray, bitdiff, bits2bytes, _sysinfo
     12 
     13 __version__ = '0.9.0'

ModuleNotFoundError: No module named 'bitarray._bitarray'
</code></pre>

<p>Any help is greatly appreciated!</p>
",223,0,<python><module><kernel><jupyterhub>,2019-09-06 13:13:39
57814620,How to have multiple widget buttons perform different actions in Jupyter Notebook?,"<p>I am trying to make a series of buttons that take samples from a data set based on some scenario. I have a 3x2 group of buttons, each describing a different scenario. I can't seem to get them to perform their separate actions. </p>

<p>I think I understand how to connect the action of clicking a button to its response. However, I don't understand how to do the same for multiple buttons.</p>

<p>Here's my code that worked to get a single, standalone button to work:</p>

<pre class=""lang-py prettyprint-override""><code>button = widgets.Button(description='Generate message!')
out = widgets.Output()
def on_button_clicked(_):
    samp_text = raw_data.sample(1).column(1)
    # ""linking function with output""
    with out:
      # what happens when we press the button
      print(samp_text)
# linking button and function together using a button's method
button.on_click(on_button_clicked)
# displaying button and its output together
widgets.VBox([button,out])
</code></pre>

<p>Now what I'm trying to do is take different kinds of samples given various situations. So I have functions written for each type of sampling method that returns a table of proportions:</p>

<pre><code>1    47.739362
2    44.680851
3     4.920213
9     2.659574
Name: vote, dtype: float64
</code></pre>

<p>However the same method in the first example with just one button doesn't work the same with multiple. How do I use widgets.Output() and how do I connect it so that clicking the button outputs the corresponding sample summary?</p>

<p>I expect for a clicked button to output its sample summary as shown above.</p>
",3441,2,<python><jupyter-notebook><jupyter><ipywidgets>,2019-09-06 01:20:55
57802247,"Jupyter notebook with detachable, floating and draggable widget?","<p>Using Jupyter Notebook (v. 6.0.0) via Anaconda (Navigator v. 1.9.7) on Windows 10. Consider a situation where I have a <code>ipywidgets</code> slider on top, then a whole lotta text in between, then a graph on the botton that responds to the slider. Here is an image of such a webpage in Firefox, zoomed out so that it can be shown in full:</p>

<p><a href=""https://i.stack.imgur.com/3N1eW.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/3N1eW.png"" alt=""jupyter_long_output.png""></a></p>

<p>Clearly, this is difficult to use - and what I would prefer in this case, is to ""detach"" the widget that contains the slider, and drag it down to approx where the graph is, then manipulate the slider; in that case, I also would not have to use the webpage rendering zoomed out. Then when done manipulating, I'd like to click a button, and have the widget reattached to where it was.</p>

<p>However, I am not sure, how could I implement this in Jupyter notebook with <code>ipywidgets</code>? The only thing close to this I've found is <a href=""https://github.com/jupyter-widgets/ipywidgets/issues/2520"" rel=""nofollow noreferrer"">[Question] Maintain position of floating widget when browser tab is closed · Issue #2520 · jupyter-widgets/ipywidgets</a>, which seems to imply that intervention in JavaScript is needed.</p>

<p>Here is the code to recreate the screenshot (there is already a ""Detach"" button in the widget containing the slider, except it does nothing else but change its text):</p>

<p>Cell 1 - Python 3:</p>

<pre class=""lang-python prettyprint-override""><code>import plotly.graph_objs as go
import numpy as np
from ipywidgets import widgets, Layout
from IPython.display import display
from IPython.display import Markdown as md

inSlider = widgets.FloatSlider(
    value=1.0,
    min=0.0,
    max=10.0,
    step=0.01,
    description='In:',
    continuous_update=True
)
output2 = widgets.Output()

def on_detButton_click(b):
    if b.description == ""Detach"": b.description = ""Attach""
    else: b.description = ""Detach""

detButton = widgets.Button(description=""Detach"")
detButton.on_click(on_detButton_click)

myctlwidget = widgets.VBox([widgets.HBox([inSlider, detButton]), output2])
display(myctlwidget)
</code></pre>

<p>Cell 2 is Markdown - pasted at end of this post;</p>

<p>Cell 3 - Python 3:</p>

<pre class=""lang-python prettyprint-override""><code>fig = go.FigureWidget( layout=go.Layout() )
fig.add_trace(go.Scatter(x=[0,10], y=[0,10],
                    mode='lines',
                    name='Test plot'))
# set range to prevent autoranging when slider sets a new value
fig.update_yaxes(range=[0, 11])

def update_graph(change):
    with fig.batch_update():
        curval = inSlider.value
        fig.data[0].y=[0, curval]

inSlider.observe(update_graph, names=""value"")

widgets.VBox([fig])
</code></pre>

<p>Cell 2 - Markdown (note two spaces at end of each first line, to introduce a line break)</p>

<pre class=""lang-none prettyprint-override""><code>Test paragraph 0  
Some text 0, 0.... some text 0

Test paragraph 1  
Some text 1, 1.... some text 1

Test paragraph 2  
Some text 2, 2.... some text 2

Test paragraph 3  
Some text 3, 3.... some text 3

Test paragraph 4  
Some text 4, 4.... some text 4

Test paragraph 5  
Some text 5, 5.... some text 5

Test paragraph 6  
Some text 6, 6.... some text 6

Test paragraph 7  
Some text 7, 7.... some text 7

Test paragraph 8  
Some text 8, 8.... some text 8

Test paragraph 9  
Some text 9, 9.... some text 9

Test paragraph 10  
Some text 10, 10.... some text 10

Test paragraph 11  
Some text 11, 11.... some text 11

Test paragraph 12  
Some text 12, 12.... some text 12

Test paragraph 13  
Some text 13, 13.... some text 13

Test paragraph 14  
Some text 14, 14.... some text 14

Test paragraph 15  
Some text 15, 15.... some text 15

Test paragraph 16  
Some text 16, 16.... some text 16

Test paragraph 17  
Some text 17, 17.... some text 17

Test paragraph 18  
Some text 18, 18.... some text 18

Test paragraph 19  
Some text 19, 19.... some text 19

Test paragraph 20  
Some text 20, 20.... some text 20

Test paragraph 21  
Some text 21, 21.... some text 21

Test paragraph 22  
Some text 22, 22.... some text 22

Test paragraph 23  
Some text 23, 23.... some text 23

Test paragraph 24  
Some text 24, 24.... some text 24

Test paragraph 25  
Some text 25, 25.... some text 25

Test paragraph 26  
Some text 26, 26.... some text 26

Test paragraph 27  
Some text 27, 27.... some text 27

Test paragraph 28  
Some text 28, 28.... some text 28

Test paragraph 29  
Some text 29, 29.... some text 29

Test paragraph 30  
Some text 30, 30.... some text 30
</code></pre>
",1322,2,<jupyter-notebook><ipywidgets>,2019-09-05 09:19:47
57795913,Interrupting a forever while-loop asynchronously with an input widget in Jupyter notebook,"<p>I want to interrupt a forever while-loop asynchronously with user input. To simulate this, I have written two functions. The first <code>myCounter()</code> counts down from a number, say 9. This could be a large number or while loop that runs forever. The other function takes a user input and terminates the first function's execution.</p>

<p>To get asynchronous behavior, I run each function in its own thread with a shared messaging queue between them. When the user signals termination, the second function puts the message on the queue and exits. The first function picks up the message in its next iteration and terminates execution.</p>

<p>This works with user input using Python's <code>input()</code> function but the same behavior is not achieved using an interactive input widget in Jupyter notebook. I am at a loss to understand why. The functions and code are below.</p>

<pre><code>def myCounter(progressBar, q):
    for i in reversed(range(9)):
        ans = 0        # Initialize
        time.sleep(1)
        progressBar.value = (9-i)/9
        try:
            ans = q.get(block=False)
        except:
            q.put(-7)  # So queue isn't empty   
        if ans == 1:
            break      # Terminate this thread
    q.put(1)           # Let the other thread know

def mySemaphore(checkBox, q):
    while True:
        #ans = int(input(""Tell me yes or no [1/0]: ""))   # Works!
        ans = int(checkBox.value)                        # Doesn't :(
        print(""Interrupt has {}"".format(ans))
        if ans == 1:
            q.put(1)   # Signal termination ..
            break      # .. and exit.
        elif q.get() == 1:
            break      # Quit!
</code></pre>

<p>Run with:</p>

<pre><code>dummy = -7
q = queue.LifoQueue()
q.put(dummy)

progressBar = widgets.FloatProgress(value=0.0, min=0.0, max=1.0)
checkBox = widgets.Checkbox(value=False, description=""Continue?"", disabled=False)

myFirstThread = threading.Thread(target=myCounter, args=(progressBar, q))
myNextThread = threading.Thread(target=mySemaphore, args=(checkBox, q))

display(progressBar)
display(checkBox)

myFirstThread.start()
myNextThread.start()

myFirstThread.join()
myNextThread.join()
</code></pre>

<p>The first function's progress is shown by a progress bar and the checkbox value is printed out. The value doesn't change when the checkbox is checked. I have tried using input widgets other than checkbox and making the checkbox local to the second function but none of these have worked. I appreciate any help.</p>

<p><a href=""https://i.stack.imgur.com/hQpUQ.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/hQpUQ.png"" alt=""enter image description here""></a></p>
",585,1,<python-3.x><multithreading><jupyter-notebook><queue><ipywidgets>,2019-09-04 21:39:16
57775907,IPython nbwidgets: Toggle Visiblity by button click,"<p>I'm using the <a href=""https://ipywidgets.readthedocs.io/en/latest/examples/Widget%20List.html#ToggleButton"" rel=""nofollow noreferrer"">ToggleButton</a> and want to link it's value to the visilbiity of another widget.</p>

<p>I've come accross the <a href=""https://ipywidgets.readthedocs.io/en/latest/examples/Widget%20Events.html"" rel=""nofollow noreferrer"">Widget Events</a>, but it is unclear to me how to bind the style property of the other widget to the value of the ToggleButton.</p>

<p>Has anyone done something similar?</p>
",678,0,<python><jupyter-notebook><toggle><ipywidgets>,2019-09-03 16:52:41
57727693,Populating user home directory in JupyterHub,"<p>I'm trying to populate the home directory of the user on JupyterHub. I've followed the Zero to JupyterHub with Kubernetes guide and have a working cluster. I have the folders I want to copy in the container but I'm not sure how to copy them so that they're available to the user.</p>

<pre><code>lifecycleHooks:
  postStart:
  exec:
    command: [""cp"", ""-a"", ""mydir"", ""/home/jovyan/mydir""]
</code></pre>

<p>When I get a shell in my container the folders are there in <code>/home/jovyan</code> but when the exec hook runs these folders can't be found. I know I'm missing something simple here.</p>
",366,0,<jupyter><jupyterhub>,2019-08-30 13:28:36
57723884,ipywidgets.VBox not showing once part of function,"<p>I try to create an interactive dashboard using ipywidgets. (ipywidgets version 7.5.0, python version 3.7.2) </p>

<p>In a single batch of code, the <code>widgets.VBox()</code> shows automatically. But once I outsource the statement to a function, the <code>widgets.VBox()</code> does not show unless I explicitly wrap it in a <code>display()</code> statement. Here is a simple piece of code that works. It shows the slider on top and the number chosen times 5 at the bottom.  </p>

<pre><code>import ipywidgets as widgets
from IPython.display import display

def fa(a,b):
    display(a*b)

a = widgets.IntSlider(10)
out = widgets.interactive_output(fa,{'a':a,'b':widgets.fixed(5)})
widgets.VBox([a,out])
</code></pre>

<p>Once I put the VBox into an output function, nothing is displayed, not even an error message: </p>

<pre><code>def fa(a,b):
    display(a*b)

def db(a,b):
   widgets.VBox([a,b])

a = widgets.IntSlider(10)
out = widgets.interactive_output(fa,{'a':a,'b':widgets.fixed(5)})
db(a,out)
</code></pre>

<p>But once I replace <code>widgets.VBox([a,b])</code> in the db() function with <code>display(widgets.VBox([a,b]))</code> everything is back to normal. </p>

<p>Sorry, may be a basic question, but what is the system behind this behaviour?</p>
",1263,0,<python><ipython><ipywidgets>,2019-08-30 09:16:53
57717562,Delete/hide HBox and children widgets using Button inside HBox,"<p>I am trying to make an input widget for a module i have made (<a href=""https://stackoverflow.com/questions/57681671/add-hbox-to-vbox-using-button-after-creation/57682464#57682464"">see this SO question</a>).</p>

<p>The input widget should have a title bar and a variable number of input lines below. I had in mind to have an delete button at the end of each input line.</p>

<p>The delete button should ideally delete the container widget and all the children widgets, but hiding the container widget and children would also be acceptable.</p>

<p>I have not been able to find a useful recipe to this problem.</p>

<p>Currently i got this code, but i have no clue less as how to solve the problem.</p>

<pre class=""lang-py prettyprint-override""><code>import ipywidgets as w
​
def add_btn_clicked(b):
    input_box.children = (input_box.children[0], line()) + input_box.children[1:]
​
def delete_btn_clicked(b):
    # ???
    with output:
        print(b.keys)
    return None

add = w.Button(icon=""plus-circle"")
add.on_click(add_btn_clicked)
​
title = w.HBox([w.Label(value=str(i)) for i in range(3)]+[add])
​
def line():
    delete = w.Button(icon=""trash"")
    delete.on_click(delete_btn_clicked)
    return w.HBox([w.FloatText(value=i) for i in range(3)]+[delete])
​
input_box = w.VBox([title,line()])
output = w.Output()
​
display(input_box)
display(output)
</code></pre>

<p>Is there a way to tell what the parent element is from the button click or another way to achieve what I am attempting?</p>
",932,1,<python><ipywidgets>,2019-08-29 20:48:22
57681671,Add HBox to VBox using Button after creation,"<p>I am trying to make an input widget for a module i have made.</p>

<p>The input widget should have a title bar and a variable number of input lines below. I had in mind to have an add button which should add a line directly below the title line.</p>

<p>I have tried following this <a href=""https://stackoverflow.com/questions/44986451/how-to-add-widgets-to-container-widget-in-ipython-jupyter"">stackoverflow question</a> and <a href=""https://github.com/jupyter-widgets/ipywidgets/issues/1764"" rel=""nofollow noreferrer"">this issue</a> on github. But these suggestions only add a widget to the bottom of the VBox.</p>

<p>I have made the following dummy example.</p>

<pre class=""lang-py prettyprint-override""><code>import ipywidgets as w

def add_button_clicked(b):
    #This adds new line at bottom
    #input_box.children += (line(),)
    #This is intended to add line below title but does not work
    input_box.children = (input_box.children[0], line(), input_box.children[1:])

add = w.Button(icon=""plus-circle"")
add.on_click(add_button_clicked)

title = w.HBox([w.Label(value=str(i)) for i in range(3)]+[add])

def line():
    delete = w.Button(icon=""trash"")
    return w.HBox([w.FloatText(value=i) for i in range(3)]+[delete])

input_box = w.VBox([title,line()])
display(input_box)
</code></pre>

<p>However this does not produce a new line as expected.
Unfortunately clicking the button does not throw an error.</p>
",713,0,<python><ipywidgets>,2019-08-27 20:13:42
57631700,Why is my ipywidget observe being call multiple times on a single state change?,"<p>I have some code in a cell in Jupyter notebook using both a radio button and a slider. I have a method which I want called only when the selection is changed (in the case of the radio button); and only when the slider is released (in the case of the slider). </p>

<p>However, using the 'observe' method is triggering multiple times when a radio button is only changed once (it fires 3 times I believe). And the slider observe method fires when the mouse-down and mouse-up occurs. </p>

<p>Can this be changed so that it only is called once or do I need to use something other than observe?</p>

<p>[EDIT] Here is updated example using a radio button along with the output printed when an option is selected once:</p>

<pre><code>import ipywidgets as widgets

    def radio_called(sender):
        print('radio_called')
        print(sender)

    radio = widgets.RadioButtons(options=['option 1', 'option2', 'option3'])
    radio.observe(radio_called)
    display(radio)
</code></pre>

<p>Printed output when an option is clicked once:
radio_called</p>

<pre><code>{'name': '_property_lock', 'old': traitlets.Undefined, 'new': {'index': 1}, 'owner': RadioButtons(options=('option 1', 'option2', 'option3'), value='option 1'), 'type': 'change'}
radio_called
{'name': 'label', 'old': 'option 1', 'new': 'option2', 'owner': RadioButtons(index=1, options=('option 1', 'option2', 'option3'), value='option 1'), 'type': 'change'}
radio_called
{'name': 'value', 'old': 'option 1', 'new': 'option2', 'owner': RadioButtons(index=1, options=('option 1', 'option2', 'option3'), value='option2'), 'type': 'change'}
radio_called
{'name': 'index', 'old': 0, 'new': 1, 'owner': RadioButtons(index=1, options=('option 1', 'option2', 'option3'), value='option2'), 'type': 'change'}
radio_called
{'name': '_property_lock', 'old': {'index': 1}, 'new': {}, 'owner': RadioButtons(index=1, options=('option 1', 'option2', 'option3'), value='option2'), 'type': 'change'}
</code></pre>
",4370,8,<python><python-3.x><widget><jupyter><ipywidgets>,2019-08-23 18:59:29
57601333,pre-commit run The path python3.6 (from --python=python3.6) does not exist,"<p>I am trying to follow the <a href=""https://github.com/jupyterhub/jupyterhub/blob/master/CONTRIBUTING.md"" rel=""nofollow noreferrer"">contributing docs for JupyterHub</a> and am getting an error when I run <code>pre-commit run</code></p>

<p>The error is related to my python version. It's expecting <code>3.6</code> for some reason even though everything was installed with Python <code>3.7.3</code>. Here is the output running the command:</p>

<pre><code>(.hub)  {~/jupyter/jupyterhub} (master %)$  pre-commit run
[INFO] Initializing environment for https://github.com/asottile/reorder_python_imports.
[INFO] Initializing environment for https://github.com/ambv/black.
[INFO] Initializing environment for https://github.com/pre-commit/pre-commit-hooks.
[INFO] Installing environment for https://github.com/asottile/reorder_python_imports.
[INFO] Once installed this environment will be reused.
[INFO] This may take a few minutes...
An unexpected error has occurred: CalledProcessError: Command: ('/Users/nicholasbrady/jupyter/jupyterhub/.hub/bin/python3', '-mvirtualenv', '/Users/nicholasbrady/.cache/pre-commit/repo5hv9ofak/py_env-python3.6', '-p', 'python3.6')
Return code: 3
Expected return code: 0
Output: 
    The path python3.6 (from --python=python3.6) does not exist

Errors: (none)

Check the log at /Users/nicholasbrady/.cache/pre-commit/pre-commit.log
</code></pre>

<p>If I check the logs, this is what it says:</p>

<pre><code>(.hub)  {~/jupyter/jupyterhub} (master %)$  cat /Users/nicholasbrady/.cache/pre-commit/pre-commit.log
An unexpected error has occurred: CalledProcessError: Command: ('/Users/nicholasbrady/jupyter/jupyterhub/.hub/bin/python3', '-mvirtualenv', '/Users/nicholasbrady/.cache/pre-commit/repo5hv9ofak/py_env-python3.6', '-p', 'python3.6')
Return code: 3
Expected return code: 0
Output: 
    The path python3.6 (from --python=python3.6) does not exist

Errors: (none)

Traceback (most recent call last):
  File ""/Users/nicholasbrady/jupyter/jupyterhub/.hub/lib/python3.7/site-packages/pre_commit/error_handler.py"", line 46, in error_handler
    yield
  File ""/Users/nicholasbrady/jupyter/jupyterhub/.hub/lib/python3.7/site-packages/pre_commit/main.py"", line 316, in main
    return run(args.config, store, args)
  File ""/Users/nicholasbrady/jupyter/jupyterhub/.hub/lib/python3.7/site-packages/pre_commit/commands/run.py"", line 295, in run
    install_hook_envs(hooks, store)
  File ""/Users/nicholasbrady/jupyter/jupyterhub/.hub/lib/python3.7/site-packages/pre_commit/repository.py"", line 215, in install_hook_envs
    hook.install()
  File ""/Users/nicholasbrady/jupyter/jupyterhub/.hub/lib/python3.7/site-packages/pre_commit/repository.py"", line 93, in install
    self.prefix, self.language_version, self.additional_dependencies,
  File ""/Users/nicholasbrady/jupyter/jupyterhub/.hub/lib/python3.7/site-packages/pre_commit/languages/python.py"", line 168, in install_environment
    _make_venv(env_dir, python)
  File ""/Users/nicholasbrady/jupyter/jupyterhub/.hub/lib/python3.7/site-packages/pre_commit/languages/python.py"", line 180, in make_venv
    cmd_output(*cmd, env=env, cwd='/')
  File ""/Users/nicholasbrady/jupyter/jupyterhub/.hub/lib/python3.7/site-packages/pre_commit/util.py"", line 153, in cmd_output
    returncode, cmd, retcode, output=(stdout, stderr),
pre_commit.util.CalledProcessError: Command: ('/Users/nicholasbrady/jupyter/jupyterhub/.hub/bin/python3', '-mvirtualenv', '/Users/nicholasbrady/.cache/pre-commit/repo5hv9ofak/py_env-python3.6', '-p', 'python3.6')
Return code: 3
Expected return code: 0
Output: 
    The path python3.6 (from --python=python3.6) does not exist

Errors: (none)


</code></pre>

<p>I tried to clear the cache since it looked like it was referring to a cache that might have existed when I had python 3.6</p>

<pre><code>(.hub)  {~/jupyter/jupyterhub} (master %)$  pre-commit clean
Cleaned /Users/nicholasbrady/.cache/pre-commit.
</code></pre>

<p>but it didn't change the error at all, or the log.</p>

<p>Anyone know what this is? If not, hopefully I'll figure out soon and will add an answer when I do... :)</p>
",5453,3,<jupyterhub><pre-commit.com>,2019-08-22 02:33:17
57574000,JupyterHub - how to create a new username and set password?,"<p>I just installed JupyterHub on Linux RHEL 7 and once started (with root) a JupyterHub - it ask for user/pass.</p>

<p>What are correct steps to set some user and password for it?</p>

<p>Thanks.</p>
",2005,0,<python><python-3.x><jupyter><jupyterhub>,2019-08-20 12:44:56
57545589,How do I add selected items from combo box to a table in Jupyter widgets?,"<p>I have been trying to add items to my table using the selected item on combo box when I press the add button. Also the way I do it right now gives a faulty result that is being upside/down.. </p>

<p>I tried multiple things but none worked. I can link the selected item from combo box to table and whenever I press to the ""Add"" button it links both but does not add. </p>

<pre class=""lang-py prettyprint-override""><code>from ipywidgets import Layout, interact, interact_manual, fixed
import ipywidgets as widgets
from IPython.display import display
import matplotlib.pyplot as plt
import numpy as np
Arr=['Weight','Power', '10s-Peak Power','Volume']

Combo=widgets.Dropdown(options=[Arr[0],Arr[1],Arr[2],Arr[3]],description='Requirement')

Table2=widgets.SelectMultiple(index=(0,), options = [''], rows=10,description='Desired Requirements',
    disabled=False,layout=Layout(width ='450px'))

button = widgets.Button(description=""Add"",icon='check')

output = widgets.Output()

def on_button_clicked(b):
    with output:
        d=widgets.link((Combo,'value'),(Table2,'options'))
        d.unlink()

button.on_click(on_button_clicked)

display(button,Combo,Table2)
</code></pre>

<p>I want my table to be filled with the context inside combo box as the ""Add"" button is being pressed. Doing so, combo box's specific item should be removed from the combo box list and added to the table.</p>
",522,0,<python><jupyter-notebook><widget><ipywidgets>,2019-08-18 14:40:33
57508496,How can I run a flask in an account in the jupyter hub?,"<p>I want to use flask in jupyter hub.</p>

<p>So when I looked at the relationship between jupyter hub and flask, I found something that I had to set up separately.</p>

<p><a href=""https://github.com/jupyterhub/jupyterhub/blob/master/examples/service-whoami-flask/whoami-flask.py"" rel=""nofollow noreferrer"">https://github.com/jupyterhub/jupyterhub/blob/master/examples/service-whoami-flask/whoami-flask.py</a></p>

<p>Is there any way to use flask other than this?</p>

<p>For example</p>

<p>I used to use it like this.</p>

<p>app.run(host = ""xxx.xx.xxx.xxxx"" , port = 12345)</p>

<p>But it didn't work for me, even if it didn't work.</p>

<p>Please help me.</p>
",429,0,<python><flask><jupyterhub>,2019-08-15 10:47:43
57502139,Python Traitlets error in validate_elements running JupyterHub,"<p>After making seemingly unrelated changes and redeploying JupyterHub to OpenShift, I'm seeing a new error in the log from the pod, which blocks JupyterHub from spawning a notebook.</p>

<p>The configuration file did not change. The curious thing about the error is that it seems to be saying that the issue is that it is expecting a trait to be a 'tuple' but it got a type of 'tuple'.</p>

<p>The core part of the error log:</p>

<pre><code>File ""/opt/app-root/lib/python3.6/site-packages/traitlets/traitlets.py"", line 2254, in validate_elements
self.element_error(obj, v, self._trait)
File ""/opt/app-root/lib/python3.6/site-packages/traitlets/traitlets.py"", line 2233, in element_error
raise TraitError(e)
traitlets.traitlets.TraitError: Element of the 'profiles' trait of a ProfilesSpawner instance must be a tuple, but a value of ('Jupyter Project - Minimal Notebook', 'minimal-notebook', 'kubespawner.KubeSpawner', {'singleuser_image_spec': 'minimal-notebook:3.6'}) &lt;class 'tuple'&gt; was specified.
</code></pre>
",301,0,<python-3.x><jupyter><jupyterhub>,2019-08-14 21:13:32
57499224,User-specific default spawner URL on JupyterHub,"<p>I recently set up JupyterLab on our university server and will now let other users access the hub. Is there a possibility to configure, which is the default Jupyter application (<strong>notebook</strong>, <strong>lab</strong>, <strong>voila</strong> etc.) by user?</p>

<p>In jupyterhub_config.py which is in /etc/jupyter/, there is only a global option which URL to use as default:</p>

<pre><code>c.Spawner.default_url = '/lab'
</code></pre>

<p>How can I differentiate the behaviour by user? Is it possible to only allow certain users the use of <strong>lab</strong> and <strong>notebook</strong> and limit other users to using <strong>voila</strong>?</p>
",165,1,<jupyter><jupyter-lab><jupyterhub>,2019-08-14 17:12:23
57428356,jupyter kernelspec no such file or directory /lib/libstdc++.so.6.0.21,"<p>I'm trying to flesh out the workflow for a JupyterHub server in the case where a user creates an environment and wants to share it with another user. I want to test out one of the two methods.</p>

<p>I am trying to create an environment in a public path, and then have another user add the conda environment as a kernel. So far it looks like this.</p>

<pre><code># How the environment is created
jupyter@ip:~$ conda create -p /home/envs/test --clone root

# Current setup
nick {~}$ jupyter kernelspec list
Available kernels:
  python3    /opt/conda/share/jupyter/kernels/python3
nick {~}$ conda env list
# conda environments:
#
test                     /home/envs/test
nenv                     /home/nick/.conda/envs/nenv
base                  *  /opt/conda

nick {~}$ cat .condarc
envs_dirs:
  - /home/envs
</code></pre>

<p>My problem is I get an error when I try and install the kernel <code>libstdc++.so.6.0.21</code> does not exist. What is <code>libstdc++.so.6.0.21</code>?</p>

<pre><code># error when trying to install kernel
nick {~}$ jupyter kernelspec install --user /home/envs/test
[InstallKernelSpec] Removing existing kernelspec in /home/nick/.local/share/jupyter/kernels/test
Traceback (most recent call last):
  File ""/opt/conda/bin/jupyter-kernelspec"", line 11, in &lt;module&gt;
    sys.exit(KernelSpecApp.launch_instance())
  File ""/opt/conda/lib/python3.7/site-packages/traitlets/config/application.py"", line 658, in launch_instance
    app.start()
  File ""/opt/conda/lib/python3.7/site-packages/jupyter_client/kernelspecapp.py"", line 273, in start
    return self.subapp.start()
  File ""/opt/conda/lib/python3.7/site-packages/jupyter_client/kernelspecapp.py"", line 143, in start
    replace=self.replace,
  File ""/opt/conda/lib/python3.7/site-packages/jupyter_client/kernelspec.py"", line 346, in install_kernel_spec
    shutil.copytree(source_dir, destination)
  File ""/opt/conda/lib/python3.7/shutil.py"", line 365, in copytree
    raise Error(errors)
shutil.Error: [('/home/envs/test/lib/libstdc++.so.6.0.21', '/home/nick/.local/share/jupyter/kernels/test/lib/libstdc++.so.6.0.21', ""[Errno 2] No such file or directory: '/home/envs/test/lib/libstdc++.so.6.0.21'"")]
</code></pre>

<hr />

<p>Note: <a href=""https://stackoverflow.com/questions/48453497/anaconda-libstdc-so-6-version-glibcxx-3-4-20-not-found"">I found this question which is similar</a>; however, <a href=""https://github.com/ContinuumIO/anaconda-issues/issues/7052#issuecomment-341352165"" rel=""nofollow noreferrer"">I found through this github thread</a> why <code>gcc</code> had to be removed, and I already verified that it didn't exist in my environment with:</p>

<pre><code>nick {~}$ conda list --name test | grep 'gcc'
_libgcc_mutex             0.1                        main  
libgcc                    7.2.0                h69d50b8_2  
libgcc-ng                 8.2.0                hdf63c60_1
</code></pre>

<p>I already have <code>libgcc</code> installed at a higher version as you can see above so I didn't think the other answer would do too much good either.</p>

<hr />

<p>filename shows up as red with this, so I believe the link is broken.</p>

<pre><code>(test) nick {~}$ ls -al /home/envs/test/lib/libstdc++.so.6.0.21
lrwxrwxrwx 1 jupyter jupyter 19 Aug  9 09:42 /home/envs/test/lib/libstdc++.so.6.0.21 -&gt; libstdc++.so.6.0.24
</code></pre>
",539,3,<jupyter><conda><libstdc++><jupyterhub>,2019-08-09 10:40:06
57419698,Enable multi-file downloads from jupyterhub notebook server?,"<p>I am running <a href=""https://zero-to-jupyterhub.readthedocs.io/en/latest/"" rel=""nofollow noreferrer"">JupyterHub</a> 0.8.2 on AWS EKS cluster.</p>

<p><strong>The question is quite simple, I want to know if it is possible to configure JupyterHub to enable multi select of files in a notebook server and download them all?</strong> </p>

<p>Or, is it possible to do this with some sort of extension/modification?</p>

<p>My use case is that a user is exporting a lot of data, too much for one single file. There will be 100+ files. </p>

<p>To download the 100+ files, they will need to select each of them individually and press download. This is because the download button is disabled when you select more than 1 file</p>

<p>With 1 file selected:
<a href=""https://i.stack.imgur.com/czFZN.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/czFZN.png"" alt=""enter image description here""></a></p>

<p>With >1 file selected, <strong><em>Download button is gone</em></strong>:
<a href=""https://i.stack.imgur.com/2ZSNs.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/2ZSNs.png"" alt=""enter image description here""></a></p>
",54,1,<python><jupyter-notebook><jupyterhub>,2019-08-08 19:50:51
57416704,Adding SAML to JupyterHub Kubernetes deployment with custom docker image,"<p>I need to use SAML to authenticate users to JupyterHub however I don't know how to modify the jupyterhub/k8s-hub docker image to do so. </p>

<p>I know that I need to open the docker image, modify the config then create a new image. Then host this image in a container registry like ECR, pass the URI to the helm chart and upgrade my deployment. However, when I open the jupyterhub/k8s-hub image it immediately shuts down because it can't find the proxy and the rest of the deployment so I can't modify it in any way. Does anyone have experience with JupyterHub in EKS that could help? Many thanks!</p>
",168,0,<kubernetes><kubernetes-helm><jupyterhub><amazon-eks>,2019-08-08 16:05:19
57414642,Using FloatRangeSlider widget in interactive mode,"<p>i just tried some features of ipywidgets lately by following this tutorial <a href=""https://www.youtube.com/watch?v=SN0Bflf14C4&amp;t=937s&amp;pbjreload=10"" rel=""nofollow noreferrer"">https://www.youtube.com/watch?v=SN0Bflf14C4&amp;t=937s&amp;pbjreload=10</a>. In the tutorial he shows how to use interact to interactively update a sine function graph.</p>

<p>I was just wondering if i can use FloatRangeSlider in interactive mode to dynamically change the x axis input range. Here is the script that i've tried to</p>

<pre><code>amp = widgets.FloatSlider(min=1,max=10,value=1,description=""Amp"")
phase = widgets.FloatSlider(min=0,max=5,value=0,description=""Phase"")
freq = widgets.FloatSlider(min=1,max=10,value=0,description=""Freq"")
x = widgets.FloatRangeSlider(min=0,max=1)

f,ax = plt.subplots(1,figsize=(7,4))
ax.set_ylim([-10,10])
plt.suptitle(""Sine Wave"")

def update_plot(x,amp,phase,freq):

    ax.clear()
    y = amp*np.sin(2*np.pi*(freq*x+phase))
    ax.plot(x,y)
    ax.set_ylim([-10,10])
    ax.set_xlim([0,1])
    ax.grid()
    plt.show()

widgets.interactive(update_plot,x=x,amp=amp,phase=phase,freq=freq)
</code></pre>

<p>I want to control the range of the curve based on the floatrangeslider, but apparently the widget returns tuple, and i've tried to unpack the tuple and creating a linspace object in the range of <code>FloatRangeSlider.value[0]</code> to </p>

<p><code>FloatRangeSlider.value[1]</code>, but error message appeared </p>

<pre><code>def update_plot(x,amp,phase,freq):
---&gt; 13     x1 = x.value[0]
     14     x2 = x.value[1]
     15     xt = np.linspace(x1,x2,50)
            ax.clear()
            y = amp*np.sin(2*np.pi*(freq*xt+phase))
            ax.plot(x,y)
            ax.set_ylim([-10,10])
            ax.set_xlim([0,1])
            ax.grid()
            plt.show()

AttributeError: 'tuple' object has no attribute 'value'
</code></pre>

<p>but i can still unpack the tuple from FloatRangeSlider when i tried it in different cell</p>

<pre><code>x = widgets.FloatRangeSlider(min=0,max=1)
x1=(x.value[0])
x2=(x.value[1])
xt = np.linspace(x1,x2,100)
print(x1,x2,xt)

0.25 0.75 [0.25       0.25505051 ...0.75      ]
</code></pre>

<p>Thanks for any help</p>
",877,1,<python><jupyter-notebook><ipywidgets>,2019-08-08 14:13:07
57407407,Jupyter notebook cells doesn't stretch to fit multiple plots,"<p>I am using matplotlib charts and ipywidgets to display plots in the ipynb. However When plotting multiple plots, the cells do not stretch to fit all the plots. Instead a scrollbar on the side shows. How can one enable the plots to stretch and fit on the cells?</p>

<pre><code>with output:        
    clear_output()
    plot_a()
    plot_a()
    plot_a()

def plot_a():
    plt.bar(x, y)    
    plt.show()
</code></pre>
",289,1,<matplotlib><jupyter-notebook><ipywidgets>,2019-08-08 07:32:22
57399534,Interactive function with SelectMultiple widgets arranged in a HBox,"<p>I would like to build an interactive app with a Jupyter notebook and I do not have much experience with widgets yet.</p>

<p>In my code, I define 2 SelectMultiple widgets (see definition in code below).</p>

<p>I combine the 2 widgets in a certain layout using for example 'HBox' (see code).</p>

<p>I have also defined a function that based on the values of these 2 widgets searches in a database and returns an integer equal to the number of selected elements in the database (see code below).</p>

<p>I would like to print the output of the function ""No_selected"" so that it changes interactively when I choose a different input in one of the 2 SelectMultiple widgets displayed in the HBox layout.</p>

<p>I have tried to read the documentation for the widgets (<a href=""https://ipywidgets.readthedocs.io/en/stable/user_guide.html"" rel=""nofollow noreferrer"">https://ipywidgets.readthedocs.io/en/stable/user_guide.html</a>). </p>

<p>I have tried to use the Interact decorator '@ Interact' before the function but when I do it Jupyter displays two extra widgets for W1 and W2 instead of allowing me to run the function by using the two widgets in the HBox.</p>

<p>Example of widget definition for W1 (and similar for W2):</p>

<pre class=""lang-py prettyprint-override""><code>W1 = widgets.SelectMultiple(
    options=['Apples', 'Oranges', 'Pears'],
    value=['Oranges'],
    #rows=10,
    description='Fruits',
    disabled=False
)
</code></pre>

<p>Example of layout:</p>

<pre class=""lang-py prettyprint-override""><code>Wboth = widgets.HBox([W1, W2])
</code></pre>

<p>Example of function definition:</p>

<pre class=""lang-py prettyprint-override""><code>def SELECTION(W1=('Apples'), W2=('Apples')):
    ...
    ...
    ...
    return No_selected
</code></pre>

<p>Can you please suggest me how to do this?</p>
",2841,2,<python-3.x><jupyter><interactive><ipywidgets>,2019-08-07 17:27:04
57385396,Get current notebook/user context from JupyterHub notebook server?,"<p>I'm running JupyterHub 0.8.2 on AWS EKS cluster.</p>

<p>I would like to know if it is possible to retrieve the owner of the current notebook server.</p>

<p>E.g.
Let's assume I navigate to <code>myjupyterhubhost.com/user/john-doe/notebooks/SampleNotebook.ipynb</code></p>

<p>In python, I want to do this:</p>

<pre><code>user = get_current_context().get_notebook_user_owner()
print(f""The user who owns this notebook server: {user}"")

# Output:
# The user who owns this notebook server: john-doe
</code></pre>

<p>Is there any such function available in the python environment?</p>
",1356,0,<python><amazon-web-services><jupyter-notebook><jupyterhub>,2019-08-07 00:06:58
57365220,Get URL from access logs for AWS classic ELB that listens over TCP?,"<p>I am running an application with a client and server component in AWS. The client talks to the server over a classic ELB. </p>

<p>Specifically, I am running <a href=""https://jupyterhub.readthedocs.io/en/stable/"" rel=""nofollow noreferrer"">JupyterHub</a> that is deployed to a managed kubernetes cluster (EKS).</p>

<p><strong>My requirement: get HTTP logs that show the request URL.</strong></p>

<p>Currently, I cannot do this because:</p>

<p>The ELB listens for secure traffic over TCP (on 443), and ELB access logs for load balancers that listen over TCP don't include a URL. (Only a load balancer that listens over HTTP will show URL.)</p>

<p>The ELB needs to listen over TCP because some parts of the application uses websocket communication. Since the secure TCP (websocket) traffic and the https traffic both go over port 443, and you can only listen on one protocol for a single port, I can't listen to the http traffic, and therefore can't get HTTP elb access logs that show URL.</p>

<p>For the sake of this question let's assume the application is a black box and not configurable. With the current setup described above, is there any way for me to get HTTP request logs that will show the URL? </p>

<p>I'm framing this question as an AWS configuration question (to keep the scope of the question simple and narrow) -- however I'm also open to a solution that let's me configure which port jupyterhub notebook servers use for the websocket communication to the <code>/api/kernel</code> endpoint. If I could configure the port to be something other than 443, then I could have two listeners on my ELB.</p>
",268,0,<amazon-web-services><kubernetes><jupyter-notebook><amazon-elb><jupyterhub>,2019-08-05 19:49:44
57297987,JupyterHub kernel connection returns HTTP504 GATEWAY_TIMEOUT,"<p>I am deploying <a href=""https://i.stack.imgur.com/0jCMZ.png"" rel=""nofollow noreferrer"">JupyterHub</a> 0.8.2 to kubernetes (EKS on AWS, v1.13).</p>

<p>When I deploy the JupyterHub application to EKS via helm, everything deploys and starts fine. However, when I spawn a notebook server and create a python notebook, the kernel hangs when trying to connect. (See screenshots at the bottom)</p>

<p>I saw a similar issue posted here: <a href=""https://github.com/jupyter/notebook/issues/2664"" rel=""nofollow noreferrer"">https://github.com/jupyter/notebook/issues/2664</a>, it seems there was a regression in tornado python package. However, I tried downgrading to 5.1.1 and that did not fix the issue...</p>

<p>What are the next troubleshooting steps I can try? Where can I find diagnostic info / logs for python kernel?</p>

<p><a href=""https://i.stack.imgur.com/Ul0i6.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/Ul0i6.png"" alt=""enter image description here""></a></p>

<p><a href=""https://i.stack.imgur.com/0jCMZ.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/0jCMZ.png"" alt=""enter image description here""></a></p>

<p><strong>Update:</strong> one of our existing clusters that was running fine for about 2 months, started experiencing this kernel issue just today. This makes me wonder if this is some sort of regression, however how would this affect a jupyterhub deployment that has not been modified? Does jupyterhub update libraries/packages by itself, without consent?</p>

<p><strong>Update 2:</strong> I inspected network traffic in browser, and discovered that the request to <code>https://&lt;&lt;JUPYTERHUB_DOMAIN&gt;&gt;/user/me/api/kernels/&lt;&lt;KERNEL_ID&gt;&gt;/channels?session_id=&lt;&lt;SESSION_ID&gt;&gt;</code> is returning <code>HTTP 504 GATEWAY_TIMEOUT</code></p>

<p>Detailed HTTP request:</p>

<pre><code>GET wss://&lt;&lt;MY_JHUB_DOMAIN&gt;&gt;/user/me/api/kernels/eaf397d3-36da-473c-8342-c4d4d3ad5256/channels?session_id=fa79dc80238648b8b1ea4c3982cb0612 HTTP/1.1
Host: &lt;&lt;MY_JHUB_DOMAIN&gt;&gt;
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
Upgrade: websocket
Origin: https://&lt;&lt;MY_JHUB_DOMAIN&gt;&gt;
Sec-WebSocket-Version: 13
User-Agent: redacted
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Cookie: redacted
Sec-WebSocket-Key:redacted
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
</code></pre>

<p>Detailed HTTP response:</p>

<pre><code>HTTP/1.1 504 GATEWAY_TIMEOUT
Content-Length: 0
Connection: keep-alive

data:undefined,
</code></pre>
",1548,4,<python><amazon-web-services><jupyter-notebook><jupyterhub><amazon-eks>,2019-07-31 19:52:24
57286737,Jupyter Hub the littlest : The server is shutting down often,"<p>I have installed Jupiter-hub-the-littlest with the tutorial on a google cloud compute engine. However, when I work for more than 1 or 2 hours on it, the server is shutting down and I have to reconnect and relaunch the server. Is there an option that I should set up to avoid this. I don't see anything very clear in the logs. Thanks for your help</p>
",84,1,<jupyter-notebook><jupyterhub>,2019-07-31 08:48:42
57285733,Output widget appears outside tab widget when using nbconvert on jupyter notebook with ipywidgets,"<p>I created a notebook which should display plots in a tab widget. As far as I understand, to include something like plots in the tab widget, I need to wrap it in the output widget. In the notebook itself it works but when I convert it to html via nbconvert it produces the wrong output.</p>

<p>Widgets like sliders, buttons or text appear within the tab widget where they should, but when I use the output widget to catch the plot (or even some text from a print() function) it appears before the tab environment which itself is then empty.</p>

<p>This is the how it shoud look with one plot per tab (works in the notebook):
<a href=""https://i.stack.imgur.com/L2B3m.png"" rel=""noreferrer"">Plots in tabs within notebook</a></p>

<p>And this is how it looks after nbconvert (in html). The plots appear before the tab envorinment:
<a href=""https://i.stack.imgur.com/4CiYw.pngr"" rel=""noreferrer"">Plots before tabs in html</a></p>

<p>Please note that nbconvert includes other widgets fine and also tabs with other content.</p>

<p>This is the used code:</p>

<pre class=""lang-py prettyprint-override""><code># Import libraries
import pandas as pd
import matplotlib.pyplot as plt
import ipywidgets as widgets
import numpy as np

# Generated data for plotting
data = pd.DataFrame()
for i in range(5):
    data[i] = np.random.normal(size = 50)
</code></pre>

<p>Now this part works in the notebook but not in the html, but as you will see it seems to be related to the output widget, as I does not work with plots or printed text.</p>

<pre class=""lang-py prettyprint-override""><code># This does not work with plots
children = []
for i in range(data.shape[1]):
    out = widgets.Output()
    with out:
        fig, axes = plt.subplots()
        data[i].hist(ax = axes)
        plt.show()
    children.append(out)
tab = widgets.Tab()
tab.children = children
for i in range(len(children)):
    tab.set_title(i, ""Plot "" + str(i))
tab

# And this does not work with printed output
children = []
for i in range(5):
    out = widgets.Output()
    with out:
        print(""This is text"", i)
    children.append(out)
tab = widgets.Tab()
tab.children = children
for i in range(len(children)):
    tab.set_title(i, ""Text "" + str(i))
tab
</code></pre>

<p>However, if I use a different widget type (e.g. Text) it is displayed correctly in the notebook and the html output from nbconvert.</p>

<pre class=""lang-py prettyprint-override""><code># This works with the Text widget
children = []
for i in range(5):
    out = widgets.Text(description=""P""+str(i))
    children.append(out)
tab = widgets.Tab()
tab.children = children
for i in range(len(children)):
    tab.set_title(i, ""Text "" + str(i))
tab
</code></pre>

<p>So, is there something I can change to make this actually work? What I need in the end is a way to display N plots in N tabs...</p>
",1247,10,<python><html><jupyter-notebook><ipywidgets><nbconvert>,2019-07-31 07:47:54
57285179,Upgrading JupyterLab in Jupyterhub,"<p>I want to upgrade JupyterLab within JupyterHub. I've installed JupyterHub yesterday and noticed today, that the version of JupyterLab is <code>0.35.4</code>.</p>

<p>I tried to upgrade JupyterLab using the terminal in JupyterLab as well as standard ssh. The installed pip package is now <code>jupyterlab==1.0.4</code>. However, after a reboot JupyterLab still starts as version 0.35.4.</p>

<p>How can I upgrade the JupyterLab used by JupyterHub?</p>

<p><strong>Edit</strong>: JupyterHub was installed using <em>The Littlest JupyterHub</em> on bare metal.</p>
",978,1,<jupyter-lab><jupyterhub>,2019-07-31 07:12:54
57274489,How to call a function with parameter by multiple buttons,"<p>I create many buttons in my script. 
I need to call a function by these buttons. 
But the function is working only in the very last button. 
What is wrong?</p>

<pre><code>import ipywidgets as widgets
from IPython.core.display import display, HTML

def fn(b):
    print(b.description+"" clicked."")

for i in range(10):
    btn= widgets.Button(
    description='Button '+str(i),
    disabled=False,
    button_style='info', # 'success', 'info', 'warning', 'danger' or ''
    tooltip='Delete')
    display(btn)

btn.on_click(fn)
</code></pre>
",162,0,<python><ipywidgets>,2019-07-30 14:50:21
57260169,How do I close pyplot windows and display new ones when a widget button is pressed?,"<p>I have some code that generates an interactive display.  One plot is seen in a ""magnified display,"" and several other plots are seen below:</p>

<p><a href=""https://i.stack.imgur.com/eydU7.png"" rel=""nofollow noreferrer"">https://i.stack.imgur.com/eydU7.png</a></p>

<p>When I press the ""apply to all"" button, I want to update the graphs in the lower row to reflect the parameters selected by the widgets.  My function for this works, but the original graphs aren't cleared and the new ones are displayed under them.  No amount of using <code>plt.close()</code>, <code>plt.clf()</code>, or any related functions has been able to solve this issue.</p>

<p>The graphs are generated using the interactive_output feature of the <code>ipywidgets</code> package, so a function runs every time one of the widgets is updated.  This function includes a <code>plt.close()</code> call to remove the current figure and subsequently defines a new one.  However, this doesn't happen and the new one is just plotted on top of the old one.</p>

<p>How do I remove the old graphs from the display when the new ones are generated?</p>
",82,0,<python><matplotlib><jupyter-notebook><ipywidgets>,2019-07-29 19:17:51
57220263,Jupyter with ipywidgets and plotly v4?,"<p>Using Jupyter from Anaconda install on Windows 10; also installed <code>conda install -c plotly plotly</code>, and apparently got Plotly v4.</p>

<p>I just want to start with a simple example - and use ipywidget sliders instead of Plotly ones. So, I've found:</p>

<p><a href=""https://moderndata.plot.ly/widgets-in-ipython-notebook-and-plotly/"" rel=""nofollow noreferrer"">https://moderndata.plot.ly/widgets-in-ipython-notebook-and-plotly/</a></p>

<blockquote>
  <p>EXAMPLE 3: interact</p>
  
  <p>A simple example of using the interact decorator from ipywidgets to create a simple set of widgets to control the parameters of a plot.</p>
  
  <p><a href=""https://github.com/jonmmease/plotly_ipywidget_notebooks/blob/master/notebooks/Interact.ipynb"" rel=""nofollow noreferrer"">Link to IPython notebook</a></p>
</blockquote>

<p>Right - so I went to that link, and reorganized the code there into this:</p>

<pre><code>import plotly.graph_objs as go
import numpy as np
from ipywidgets import interact

fig = go.FigureWidget()
scatt = fig.add_scatter()

xs=np.linspace(0, 6, 100)
fig.show()

@interact(a=(1.0, 4.0, 0.01), b=(0, 10.0, 0.01), color=['red', 'green', 'blue'])
def update(a=3.6, b=4.3, color='blue'):
    with fig.batch_update():
        scatt.x=xs
        scatt.y=np.sin(a*xs-b)
        scatt.line.color=color
</code></pre>

<p>... and when I run this cell, it draws an empty plot:</p>

<p><a href=""https://i.stack.imgur.com/hKKEW.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/hKKEW.png"" alt=""jupyter_plotly_fail.png""></a></p>

<p>... and fails with:</p>

<pre><code>---------------------------------------------------------------------------
AttributeError                            Traceback (most recent call last)
C:\ProgramData\Anaconda3\lib\site-packages\ipywidgets\widgets\interaction.py in update(self, *args)
    254                     value = widget.get_interact_value()
    255                     self.kwargs[widget._kwarg] = value
--&gt; 256                 self.result = self.f(**self.kwargs)
    257                 show_inline_matplotlib_plots()
    258                 if self.auto_display and self.result is not None:

&lt;ipython-input-21-7dcd6b5f2be1&gt; in update(a, b, color)
     12 def update(a=3.6, b=4.3, color='blue'):
     13     with fig.batch_update():
---&gt; 14         scatt.x=xs
     15         scatt.y=np.sin(a*xs-b)
     16         scatt.line.color=color

C:\ProgramData\Anaconda3\lib\site-packages\plotly\basedatatypes.py in __setattr__(self, prop, value)
    349         else:
    350             # Raise error on unknown public properties
--&gt; 351             raise AttributeError(prop)
    352 
    353     def __getitem__(self, prop):

AttributeError: x
</code></pre>

<p>Apparently, this is because there were enough changes in Plotly v4 to warrant a <a href=""https://plot.ly/python/v4-migration/"" rel=""nofollow noreferrer"">Version 4 migration guide | plotly</a>; browsing through that, I tried modifying the code like so:</p>

<pre><code>import plotly.graph_objs as go
import numpy as np
from ipywidgets import interact

fig = go.FigureWidget()
scattf = fig.add_scatter()
scatt = scattf.data[-1]

xs=np.linspace(0, 6, 100)
scattf.show()

@interact(a=(1.0, 4.0, 0.01), b=(0, 10.0, 0.01), color=['red', 'green', 'blue'])
def update(a=3.6, b=4.3, color='blue'):
    with fig.batch_update():
        scatt.x=xs
        scatt.y=np.sin(a*xs-b)
        scatt.line.color=color
</code></pre>

<p>... and now I don't get the error anymore - but the plot remains empty, and does not update when I drag the sliders.</p>

<p>Can someone let me know, how can I get this example working, so that a plot is drawn, and updated/redrawn when I drag the slider?</p>

<hr>

<p>EDIT: messed a bit more, and now I have this code:</p>

<pre><code>import plotly.graph_objs as go
import numpy as np
from ipywidgets import interact

fig = go.FigureWidget()
scattf = fig.add_scatter()
scatt = scattf.data[-1]

xs=np.linspace(0, 6, 100)
#scattf.show() # adds extra plot, if there is scattf.show() in update()!

@interact(a=(1.0, 4.0, 0.01), b=(0, 10.0, 0.01), color=['red', 'green', 'blue'])
def update(a=3.6, b=4.3, color='blue'):
    with fig.batch_update():
        scatt.x=xs
        scatt.y=np.sin(a*xs-b)
        scatt.line.color=color
        scattf.show()

update() # update once; so we don't get empty plot at start? not really - still getting empty plot at start, and another one after which is updated
</code></pre>

<p>Two problems here:</p>

<ul>
<li>After running the cell, there is first drawn plot empty, and another one plotted - how can I get it to plot only one plot with the default values? (Without the last <code>update()</code>, there is only one plot, but empty at start - and have to drag a slider to have it start drawing)</li>
<li>Plot now changes when dragging the sliders - but it flickers a lot; any way to reduce the flicker?</li>
</ul>
",2826,2,<python><jupyter-notebook><plotly><ipywidgets>,2019-07-26 12:38:25
57219796,ipywidgets dynamic creation of checkboxes and selection of data,"<p>I want to create a list of checkboxes so users can select from a list of data. I've created checkboxes for each piece of data and I'd now like the ticking of these checkboxes to add data to a list.</p>

<pre class=""lang-py prettyprint-override""><code>import ipywidgets as widgets

data = [""data1"", ""data2"", ""data3"", ""data4""]

selected_data = []

checkboxes = [widgets.Checkbox(value=False, description=label) for label in data]

widgets.VBox(children=checkboxes)
</code></pre>

<p>I'd like to do something along the lines of</p>

<pre class=""lang-py prettyprint-override""><code>def add_to_selected(d):
    selected_data.append(d)

checkboxes[0].observe(add_to_selected)
</code></pre>

<p>Where this would add a value to the <code>selected_data</code> list. I don't know how to get the checkboxes in the VBox to behave like this.</p>
",6742,2,<python><jupyter-notebook><ipython><ipywidgets>,2019-07-26 12:10:06
57165831,Widgets don't work in the Jupyter notebook,"<p>ipywidgets are not working in my Jupyter notebook. 
Everything else is working fine.</p>

<pre><code>import ipywidgets as wg
from IPython.display import display 

myName = wg.Text(value='Name')
myAge = wg.IntSlider(description='Age:')
display(myName,myAge)
</code></pre>

<p>Instead of having parsed text field and slider I am getting:</p>

<pre><code>Text(value='Name')
IntSlider(value=0, description='Age:')
</code></pre>

<p>Can you help?</p>
",502,2,<python><jupyter-notebook><ipywidgets>,2019-07-23 13:57:17
57100485,Why cant I pass a python variable to a jupyter magic function?,"<p>I am trying to create a widget button that will collect the values of other widgets and then use %run to execute another notebook with those values.  I am using %store to pass the values but it does not recognize the python variable with the value to pass and gives an error.</p>

<pre class=""lang-py prettyprint-override""><code>import ipywidgets as widgets
from IPython import get_ipython
ipython = get_ipython()

def on_button_clicked(_):
    path=srch_loc.value
    with out:            
        path= srch_loc.value #returns the value typed into widget srch_loc
        print('Something happens!')
        print(path)
        ipython.magic(""store path"")

button.on_click(on_button_clicked)
</code></pre>

<p>When I click the button these are the results:</p>

<pre><code>Something happens!
/san-data/users/$USER/
UsageError: Unknown variable 'path'
</code></pre>

<p>The print function recognizes path as a variable but the next line of code doesnt</p>

<p>I expect to not get an unknown variable message and if I run %store to see path listed with the correct value from srch_loc.value</p>
",532,0,<ipython><jupyter><jupyter-lab><ipywidgets>,2019-07-18 18:15:04
57078311,Load StanfordNLP model Locally,"<p>I'm trying to load the English model for StanfordNLP (python) from my local machine, but am unable to find the proper import statements to do so. What commands can be used? Is there a pip installation available to load the english model? </p>

<p>I have tried using the download command to do so, however my machine requires all files to be added locally. I downloaded the english jar files from <a href=""https://stanfordnlp.github.io/CoreNLP/"" rel=""nofollow noreferrer"">https://stanfordnlp.github.io/CoreNLP/</a> but am unsure if I need both the English and the English KBP version. </p>
",1540,2,<python><pip><stanford-nlp><jupyterhub>,2019-07-17 14:30:58
57067651,What is the difference between JupyterLab and JupyterHub?,"<p>What is the difference between <code>JupyterLab</code> and <code>JupyterHub</code>? How should I decide which one to deploy for users?</p>
",15337,19,<jupyter><jupyter-lab><jupyterhub>,2019-07-17 02:13:44
57052502,Controlling figure height when using interactive plots in jupyter lab,"<p>I'm trying to use a combination of JupyterLab and the latest ipywidgets to have a basic graphic interface to explore some data. However, I cannot find a way to set up the figure height for the interactive plot</p>

<p>The notebook loads some file, then the user has the ability to pass some input using widgets (in the code below a text box). Finally, by pressing a button the graph is generated and passed to an Output widget.</p>

<p>This is the example code:</p>

<pre><code>
import pandas as pd
import matplotlib.pyplot as plt
from IPython.display import clear_output, display
import ipywidgets as widgets

data = pd.read_csv('data.csv')

def show_results(input):
    if 'fig' in locals():
        del fig

    with out:
        clear_output(True)
        fig, ax = plt.subplots(1, 1)
        ax.axis('equal')
        data.loc[input.value].plot(cmap='inferno_r', column='probability', ax=ax, legend=True)
        plt.show()


input = widgets.Text(placeholder='input field', description='Input:')

showMe = widgets.Button(
    description='Show me the results',
    tooltip='Show me',
)
out = widgets.Output(layout = {
            'width': '100%',
            'height': '900px',
            'border': '1px solid black'
        })


showMe.on_click(show_results)

display(input)
display(showMe)
display(out)
</code></pre>

<p>The problem is that the graph automatically resizes no matter how large is the Output widget, and no matter of the figsize parameter passed.
I would expect one of the two to control the output size particularly because there is no more the option to resize the graph manually.</p>

<p>As an additional info the HTML div dealing with the graph inside the Output widget is always 500px height no matter what I do</p>
",3547,8,<matplotlib><jupyter-lab><ipywidgets>,2019-07-16 07:52:21
57007558,How do I link a set of Button objects to an Image output to form a image slideshow?,"<p>I wanted to make use of <code>ipywidgets</code> to build a simple app for data entry. To do that I started to make use of the <code>Button</code> class defined in <code>ipywidgets</code>. The intended result is an image viewer with buttons for accessing the next image and previous image. </p>

<p>I searched through the documentation, but I am unable to link the images to the buttons as described above.</p>

<pre><code>btn = widgets.Button(layout=Layout(width='auto', height='auto'))
prev_image = widgets.Button(layout=Layout(width='auto', height='auto'),
                            description='Prev',
                            icon='backward')
next_image = widgets.Button(layout=Layout(width='auto', height='auto'),
                            description='Next',
                            icon='forward')

out = widgets.Output()
list_of_images = os.listdir('images/')

def on_button_clicked(_):
    global list_of_images
    # ""linking function with output""
    with out:
        # what happens when we press the button
        clear_output()
        print('Something happens!')


# linking button and function together using a button's method
prev_image.on_click(on_button_clicked)

def show_images(file=os.listdir(fdir):
    display(Image(fdir + file))

img = interactive(show_images) # store it as an interactive widget


grid = GridspecLayout(2, 2)
grid[0, :] = img
grid[1, 0] = prev_image
grid[1, 1] = next_image
grid #display the grid
</code></pre>

<p>Here, I guess that making use of the <code>interactive()</code> method might be causing the issue by making it incompatible. But I honestly don't know how to go about it. I guess that I could make use of <code>show_images()</code> to pass buttons as parameters. But again, I am unsure about how to move forward.  </p>

<p>I expect the output to come out like <a href=""https://cdn-images-1.medium.com/max/800/1*YQrJiSx2g6GfhkIqK24RUw.png"" rel=""nofollow noreferrer"">this</a> but the buttons lie below the image instead of using a dropdown menu for iterating through the images, I would like to make use of the <code>prev_image</code> and <code>next_image</code> to iterate through the images.</p>
",267,2,<jupyter-notebook><ipywidgets>,2019-07-12 13:01:19
56953612,ImportError: cannot import name 'AppLayout' from 'ipywidgets',"<p>While importing <code>AppLayout</code> I'm getting the following error. I am using Jupyter and have installed <code>ipywidgets</code>. The same error is being raised when importing <code>GridspecLayout</code>. Can anyone help me with this? </p>

<p>All other imports from <code>ipywidgets</code> are working properly, atleast the ones I have imported.</p>

<p><code>ImportError: cannot import name 'AppLayout' from 'ipywidgets' (C:\Appl\Anaconda3\lib\site-packages\ipywidgets\__init__.py)</code></p>
",4078,3,<python-3.x><ipywidgets>,2019-07-09 13:21:51
56949504,How to lazify output in Tabbed Layout in jupyter notebook?,"<p>I want to create a tabbed layout in jupyter notebook using <code>ipywidgets</code>. I want to process the output of a particular tab only when it is clicked. In other words, lazify the output.</p>

<pre class=""lang-py prettyprint-override""><code>from ipywidgets import widgets

out1 = widgets.Output()
with out1:
    get_output_1()

out2 = widgets.Output()
with out2:
    get_output_2()

out = widgets.Tab([out1, out2])
out.set_title(0, 'out1')
out.set_title(1, 'out2')

display(out)
</code></pre>

<p>I want the functions <code>get_output_1()</code> and <code>get_output_2()</code> to be called only when the corresponding tab is clicked.</p>

<p>Please help me out.</p>
",1926,2,<python><jupyter-notebook><ipywidgets>,2019-07-09 09:30:47
56938415,Using system level functions in a notebook server container,"<p>I'm attempting to deploy JupyterHub using this repository as a starting place: <a href=""https://github.com/jupyterhub/jupyterhub-deploy-docker"" rel=""nofollow noreferrer"">https://github.com/jupyterhub/jupyterhub-deploy-docker</a> </p>

<p>The good news is that I am able to successfully deploy JupyterHub, login, and start spawning notebook servers for users. Additionally these notebook server are functioning as expected. </p>

<p>The next step was to customize the notebook image to better suit my use case. To do this, I modified the 'Dockerfile' found inside of the 'singleuser' directory. It now looks like this:</p>

<pre><code>FROM jupyter/datascience-notebook
USER root
RUN python3 -m pip install --no-cache requests fastapi pydantic pytest six pymlconf authlib python-dotenv multiping ping3
</code></pre>

<p>After booting up JupyterHub once again, the goal was to use the ping3 library to try and ping some services in our lab. However, this fails with a permission error as shown below.</p>

<p>Code in Jupyter Notebook:</p>

<pre class=""lang-py prettyprint-override""><code>from ping3 import ping, verbose_ping
ping('google.com', unit='ms')
</code></pre>

<p>Error message:</p>

<pre class=""lang-py prettyprint-override""><code>---------------------------------------------------------------------------
PermissionError                           Traceback (most recent call last)
&lt;ipython-input-1-3ca020a44cd6&gt; in &lt;module&gt;
      1 from ping3 import ping, verbose_ping
----&gt; 2 ping('google.com', unit='ms')

/opt/conda/lib/python3.7/site-packages/ping3.py in ping(dest_addr, timeout, unit, src_addr, ttl, seq, size)
    163         PingError: Any PingError will raise again if `ping3.EXCEPTIONS` is True.
    164     """"""
--&gt; 165     with socket.socket(socket.AF_INET, socket.SOCK_RAW, socket.IPPROTO_ICMP) as sock:
    166         sock.setsockopt(socket.SOL_IP, socket.IP_TTL, ttl)
    167         if src_addr:

/opt/conda/lib/python3.7/socket.py in __init__(self, family, type, proto, fileno)
    149             if proto == -1:
    150                 proto = 0
--&gt; 151         _socket.socket.__init__(self, family, type, proto, fileno)
    152         self._io_refs = 0
    153         self._closed = False

PermissionError: [Errno 1] Operation not permitted
</code></pre>

<p>Any suggestions or guidance is much appreciated, thanks!</p>
",124,2,<python><docker><jupyter-notebook><jupyter><jupyterhub>,2019-07-08 15:43:21
56935760,How to get dropdown widget output as a dataframe?,"<p>Here is the code to filter a dataframe based on field and wellname using two dropdowns. The filter is applied to pandas dataframe and I want filtered output (common_filter) also to be a type of pandas dataframe. Currently, when the is of widgets type. Is there any way of getting it as dataframe?</p>

<p>The code below is taken from TowardsDataScience and modified a bit.</p>

<p>""unique_sorted_values"" function simply returns a list of unique sorted values of passed array, in this case FieldID and WellnameID</p>

<pre><code>import ipywidgets as widgets

# dummy data
df = pd.DataFrame({'FieldID': ['A', 'A', 'A', 'B', 'B', 'B', 'B'],
                        'WellnameID':['1_A', '1_A', '2_A', '1_B', '1_B', '2_B', '2_B'],
                        'value': [1, 2, 3, 4, 5, 6, 7]})

output = widgets.Output()

dropdown_field = widgets.Dropdown(options = unique_sorted_values(df.FieldID))
dropdown_wellname = widgets.Dropdown(options = unique_sorted_values(df[df.FieldID==dropdown_field.value].WellnameID))

def common_filtering(field, wellname):
    output.clear_output()

    common_filter = df[(df.FieldID == field) &amp; (df.WellnameID == wellname)]

    with output:
        display(common_filter)

def dropdown_field_eventhandler(change):
    common_filtering(change.new, dropdown_wellname.value)
def dropdown_wellname_eventhandler(change):
    common_filtering(dropdown_field.value, change.new)

dropdown_field.observe(dropdown_field_eventhandler, names='value')
dropdown_wellname.observe(dropdown_wellname_eventhandler, names='value')

input_widgets = widgets.HBox([dropdown_field, dropdown_wellname])
display(input_widgets)

display(output)

</code></pre>
",3222,2,<python><ipywidgets>,2019-07-08 13:15:07
56927851,Converting matplotlib chart to interactive chart in Jupyter,"<p>I have a Matplotlib stacked bar plot - </p>

<pre><code>df.groupby(['date', 'flavor'])['minutes'].sum().unstack().plot(kind='bar', stacked=True)
</code></pre>

<p>I would like to convert this to an interactive plot using <code>interact</code> from <code>ipywidgets</code>. But, when I try this - </p>

<pre><code>@interact
df.groupby(['date', 'flavor'])['minutes'].sum().unstack().iplot(kind='bar', stacked=True)
</code></pre>

<p>It gives me an <code>Exception: Invalid keyword : 'stacked'</code>. Can someone tell me the right syntax for this kind of interactive chart with <code>ipywidgets</code>?</p>

<p>Thanks! </p>
",56,0,<python-3.x><pandas><matplotlib><ipywidgets>,2019-07-08 02:52:55
56902664,Keycloak JupyterHub auto signon using JWT token,"<p>We have managed to setup our jupyterhub environment (z2jh) to use Keycloak as an authentication server and users are given a enter password screen when they try and access the jupyterhub website. The configuration used for this is below.</p>

<p>The question we have is how do we auto sign in users to the jupyterhub server from another website.  We are not using keycloak to authenticate on the other website.  So the login process we assume would be along the following lines</p>

<ul>
<li>User logs into primary website (no keycloak)</li>
<li>The user goes to a webpage where we should a link to the jupyterhub notebook</li>
<li>We generate a JWT token using a post request to keycloak server.</li>
<li>We somehow use the token to sign the user into the jupyterhub server.</li>
</ul>

<p>We have managed to successfully create a web token using postman to make a post request using the client_id, secret, username and password.</p>

<p>Our question is how do we use this token to log the user in?</p>

<p>We can see during the manual login process the call back but we are unsure how to we generate the 'state'.
We assume something has been set in the my-jhub cookie but any feedback or links to guide us would be much appreciated.</p>

<p><a href=""https://my-jhub.xxx.net/hub/api/oauth2/authorize?client_id=jupyterhub-user-user_a&amp;redirect_uri=%2Fuser%2Fuser_a%2Foauth_callback&amp;response_type=code&amp;state=eyJ1dwLkIjogImU2ZWY3ZDYyZWMzZTQ3ZmY5Nzg4ODJkOTkxMTcxYjdmIiwgIm5leHRfdXJsIjogIi91c2oyL3BhZHJhaWMvdHJlZT9yZWRpcmVjdHM9MSJ9"" rel=""nofollow noreferrer"">https://my-jhub.xxx.net/hub/api/oauth2/authorize?client_id=jupyterhub-user-user_a&amp;redirect_uri=%2Fuser%2Fuser_a%2Foauth_callback&amp;response_type=code&amp;state=eyJ1dwLkIjogImU2ZWY3ZDYyZWMzZTQ3ZmY5Nzg4ODJkOTkxMTcxYjdmIiwgIm5leHRfdXJsIjogIi91c2oyL3BhZHJhaWMvdHJlZT9yZWRpcmVjdHM9MSJ9</a></p>

<pre><code>  auth:
       type: custom
  className: oauthenticator.generic.GenericOAuthenticator
  config:
    login_service: 'keycloak'
    client_id: 'kubernetes-cluster-dev'
    client_secret: 'yyyyyyyy-yyyy-yyyy-yyyy-yyyyyyyyyyyy'
    token_url: https://keycloak.xxx.net/auth/realms/test_realm/protocol/openid-connect/token
    userdata_url: https://keycloak.xxx.net/auth/realms/test_realm/protocol/openid-connect/userinfo
    userdata_method: GET
    userdata_params: {‘state’: ‘state’}
    username_key: preferred_username
</code></pre>

<pre><code>hub
  extraEnv: 
    OAUTH2_AUTHORIZE_URL: https://keycloak.xxx.net/auth/realms/test_realm/protocol/openid-connect/auth
    OAUTH2_TOKEN_URL: https://keycloak.xxx.net/auth/realms/test_realm/protocol/openid-connect/token
    OAUTH_CALLBACK_URL: http://my-jhub.xxx.net/hub/oauth_callback
</code></pre>
",1713,3,<jupyter-notebook><jwt><single-sign-on><keycloak><jupyterhub>,2019-07-05 12:00:08
56900188,Using interact from ipywidgets with a dataframe,"<p>i am new to <code>ipywidgets</code> and trying to use the <code>interact</code>from this library in combination with a dataframe. My dataframe is:</p>

<pre><code>df
KundenNR    Kundengruppe    Wertpapierart   Erlös   Kosten A    Kosten B
1   1   A   100     30  10
1   1   B   200     30  15
1   1   C   300     30  20
</code></pre>

<p>As far I did the following:</p>

<pre><code>from ipywidgets import widgets, interact, interactive, fixed, interact_manual
from IPython.display import display
def f(x):
    df1 = df.copy()
    df1['Kosten A'] = x
    y = x*x
    print(df1, y)

interact(f, x=(10,50,5))
</code></pre>

<p>Which succesfully gives me the desired outcome, which means that I see the datframe and the column <code>Kosten A</code> is changed with the interaction button:
<a href=""https://i.stack.imgur.com/S5ioy.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/S5ioy.png"" alt=""enter image description here""></a></p>

<p>I really wonder how can I pass the dataframe directly to the function, instead creating a copy out of it. Is there a solution for it?</p>
",3926,3,<python><ipython><ipywidgets>,2019-07-05 09:22:02
56887140,How to put legend outside interactive mode plot in Jupyter Notebook,"<p>I created interactive plot in Jupyter Notebook by using Ipywidgets.</p>

<pre><code>from ipywidgets import interact, interactive, fixed, interact_manual
import ipywidgets as widgets

drop_down1=widgets.Dropdown(
options=data.columns.values,
value='Age',
description='First Column:',
disabled=False,
 )

drop_down2=widgets.Dropdown(
options=data.columns.values,
value='Gender',
description='Second Column:',
disabled=False,
 )

def update_barchart(column1, column2):
return data.groupby([column1, 
column2]).size().unstack().plot(kind='bar',stacked=True)

interactive(update_barchart, column1=drop_down1,column2=drop_down2)
</code></pre>

<p>It creates bar plot. But the problem is that it shows the legend inside the plot. 
pyplot.legend method is tried to handle legend but is not working in ipywidgets/interactive plot.   </p>

<p>How a legend can be put outside plot in interactive mode in jupyter notebook??</p>
",553,1,<python><matplotlib><seaborn><legend><ipywidgets>,2019-07-04 11:38:12
56874204,WidgetRegistry object has no attribute values,"<p>When I am using Python Widgets with the following code as described in the documentation <a href=""https://test-widgets.readthedocs.io/en/latest/examples/Widget%20List.html"" rel=""nofollow noreferrer"">https://test-widgets.readthedocs.io/en/latest/examples/Widget%20List.html</a>:</p>

<pre><code>import ipywidgets as widgets
widgets.Widget.widget_types.values()
</code></pre>

<p>Then the following error is thrown:</p>

<pre><code>AttributeError: 'WidgetRegistry' object has no attribute 'values'
</code></pre>
",441,0,<python><ipywidgets>,2019-07-03 16:07:56
56872707,Query result won't display as pandas dataframe but can be displayed with print()?,"<p>I want to create a search box that will get input from user, put it into an SQL query, and return matching records from the queried database.</p>

<p>Everything seems to work just fine - except I can't display my query results as a Pandas dataframe. The script just does when it should display the object. However, when I use print(), my result is displayed. </p>

<p>When I do it like this, nothing happens:</p>

<pre class=""lang-py prettyprint-override""><code>query = pd.read_sql(sql_string, connection)
query
</code></pre>

<p>But this works just fine:</p>

<pre class=""lang-py prettyprint-override""><code>query = pd.read_sql(sql_string, connection)
print(query)
</code></pre>

<p>This is my code:</p>

<pre class=""lang-py prettyprint-override""><code>import qgrid
from ipywidgets import widgets
from IPython.display import display

connection = 'connection:details'
text = widgets.Text()
display(text)

def handle_submit(a):
    user_input = text.value
    sp_char = ""%""
    sql_string = ""SELECT a FROM my_database WHERE UPPER(a) LIKE UPPER('%s%s%s') % (sp_char,user_input,sp_char)
    query = pd.read_sql(sql_string, connection)
    query

text.on_submit(handle_submit)
</code></pre>

<p>I'm pretty sure I'm doing something wrong with the way that variables are moved inside and outside of the <strong>def</strong> but I'm not really sure where to go from here. </p>

<p>EDIT:</p>

<p>Solved with ipywidget function <code>display()</code></p>

<pre class=""lang-py prettyprint-override""><code>    query = pd.read_sql(sql_string, connection)
    display(qgrid.show_grid(query))
</code></pre>

<p>This is all I needed :)</p>
",638,0,<python><pandas><jupyter-notebook><ipywidgets>,2019-07-03 14:46:33
56870734,How to create interactive plot in Jupyter Notebook and Python,"<p>I have a following dataframe.</p>

<pre><code>CustID| Age |Gender|Smoking_history |Alcohol_history

1 |18-24| M | Non-smoker | &lt;21 units per week

2 |43-48| F | Non-smoker | &lt;21 units per week

3 |37-42| M | Unknown | &lt;21 units per week

4 |18-24| F | Unknown | Unknown

5 |43-48| M | Previous smoker | &lt;21 units per week
</code></pre>

<p>I created bar plot and used the following code:</p>

<blockquote>
  <p>df.groupby(['Smoking
  history','Age']).size().unstack().plot(kind='bar',stacked=True)
  plt.show()</p>
</blockquote>

<p>It is noted that Age is a numeric range value, and ""Smoking history"" is string value.</p>

<p>It creates stacked bar plot in Jupyter Notebook and shows number of persons in different age groups based on smoking history.</p>

<p>I want to make it interactive, so that I can select columns from drop down list.</p>

<p>How can I do it by using ipywidgets in Jupyter Notebook? </p>

<p>** Is there any way to use non-numeric columns in plot? </p>
",1696,1,<python><plot><jupyter-notebook><ipywidgets>,2019-07-03 13:00:42
56861440,How to reach the key object in a defined dropdown menu in IPywidgets,"<p>Currently I am working on a pretty major data project. I use the database query to reach for all the important data. I am using one of the tables to create a dropdown menu which would allow me to further process and visualize. The widget itself is already created and working just fine. But there is a problem reaching the key.</p>

<p>I have tried to reach the 'widgets.Dropdown.value' with success, but I am having problem reaching aforementioned respective key that was selected in the dropdown menu.</p>

<p>The code is as follows:</p>

<pre><code>widget_frame = query_all_players(session)
widget_frame = widget_frame.set_index('nick')['id'].to_dict()
dropdown_menu = widgets.Dropdown(options=widget_frame, description='Choose a player')
</code></pre>

<p>All of this results in a perfectly working widget:</p>

<p>(No 10 reputation no image I guess - Cheers)</p>

<p>The result I am aiming for is reaching the key in a string format. I'd like to re-use it in some calculation functions.</p>
",426,0,<python-3.x><drop-down-menu><jupyter-notebook><ipywidgets>,2019-07-03 00:16:59
56856505,Using ray with Jupyterhub on kubernetes cluster,"<p>I am building Kubernetes cluster with Jupyterhub and Ray and want users to access Jupyterhub and use Ray cluster on k8s. My plan was conencting Ray cluster using Ray API from Jupyterhub notebook ""<a href=""https://ray.readthedocs.io/en/latest/api.html"" rel=""nofollow noreferrer"">https://ray.readthedocs.io/en/latest/api.html</a>""</p>

<pre><code>kubectl get svc
NAME         TYPE        CLUSTER-IP     EXTERNAL-IP   PORT(S)                                          AGE
kubernetes   ClusterIP   10.96.0.1      &lt;none&gt;        443/TCP                                          6d19h
ray-head     ClusterIP   10.100.19.93   &lt;none&gt;        6379/TCP,6380/TCP,6381/TCP,12345/TCP,12346/TCP   4d21h
</code></pre>

<p>However, when I ran </p>

<pre><code>import ray
ray.init(redis_address=""10.100.19.93:6379"")
</code></pre>

<pre><code>---------------------------------------------------------------------------
ValueError                                Traceback (most recent call last)
&lt;ipython-input-3-f25708b1f128&gt; in &lt;module&gt;
----&gt; 1 ray.init(redis_address=""10.100.19.93:6379"")

/opt/conda/lib/python3.7/site-packages/ray/worker.py in init(redis_address, num_cpus, num_gpus, resources, object_store_memory, redis_max_memory, log_to_driver, node_ip_address, object_id_seed, local_mode, redirect_worker_output, redirect_output, ignore_reinit_error, num_redis_shards, redis_max_clients, redis_password, plasma_directory, huge_pages, include_webui, driver_id, configure_logging, logging_level, logging_format, plasma_store_socket_name, raylet_socket_name, temp_dir, load_code_from_local, _internal_config)
   1434             load_code_from_local=load_code_from_local)
   1435         _global_node = ray.node.Node(
-&gt; 1436             ray_params, head=False, shutdown_at_exit=False, connect_only=True)
   1437 
   1438     connect(

/opt/conda/lib/python3.7/site-packages/ray/node.py in __init__(self, ray_params, head, shutdown_at_exit, connect_only)
    100             redis_client = self.create_redis_client()
    101             self.session_name = ray.utils.decode(
--&gt; 102                 redis_client.get(""session_name""))
    103 
    104         self._init_temp(redis_client)

/opt/conda/lib/python3.7/site-packages/ray/utils.py in decode(byte_str, allow_none)
    175     if not isinstance(byte_str, bytes):
    176         raise ValueError(
--&gt; 177             ""The argument {} must be a bytes object."".format(byte_str))
    178     if sys.version_info &gt;= (3, 0):
    179         return byte_str.decode(""ascii"")

ValueError: The argument None must be a bytes object.
</code></pre>

<p>I was wondering if my approach is the right way to do and how to fix the eror.</p>
",333,2,<kubernetes><jupyterhub><ray>,2019-07-02 16:16:18
56855877,Create interactive plot by IPywidgets in Jupyter notebook,"<p>I am trying to create an interactive bar plot.
I have the following dataframe:</p>

<p>CustID| Age    |Gender|Smoking_history        |Alcohol_history</p>

<hr>

<p>1    |18-24|    M   |  Non-smoker      |     &lt;21 units per week</p>

<p>2    |43-48|    F   |  Non-smoker      |     &lt;21 units per week</p>

<p>3    |37-42|    M   |  Unknown         |     &lt;21 units per week</p>

<p>4    |18-24|    F   |  Unknown         |     Unknown</p>

<p>5    |43-48|    M   |  Previous smoker |     &lt;21 units per week</p>

<p>I want to create an interactive plot where I can select columns and it can create a bar plot based on group by of the selected columns, i.e. total numbers by counting rows based on the group.</p>

<p>It shows two drop-down lists where the desired columns can be selected. </p>

<pre><code> from plotly.offline import iplot, init_notebook_mode
 import plotly.graph_objs as go
 init_notebook_mode()
 import plotly 


@interact
def bar_plot(x=list([['Age', 'Gender', 'Smoking history', 'Alcohol 
history']]), y=list(df[['Gender', 'Smoking history', 'Alcohol 
history']])):

df.iplot(kind='bar', x=x, y=y,  
         xTitle=x.title(), yTitle=y.title(),             
         title=f'{y.title()} vs {x.title()}')
</code></pre>

<p>But it does not create any output. Instead it shows the error:</p>

<pre><code>""C:\ProgramData\Anaconda3\lib\site-packages\IPython\core\display.py:689: 
</code></pre>

<p>UserWarning:</p>

<pre><code>Consider using IPython.display.IFrame instead""
</code></pre>

<p>Any idea to resolve it?</p>
",200,0,<python><pandas><jupyter-notebook><plotly><ipywidgets>,2019-07-02 15:36:51
56843578,Jupyter notebook download button,"<p>I'm trying to implement a download button in jupyter notebook (<code>IPython</code>). I know that button widget do exists in jupyter like below.</p>

<pre><code>from ipywidgets import Button

...

btn_download = widgets.Button(
    description='Download',
    button_style='', # 'success', 'info', 'warning', 'danger' or ''
    tooltip='Download',
    icon='download',
    layout=button_layout )

# Then implement download in on_click 
def on_button_download_clicked(b):
    # Handle download using urlopen
    filedata = urllib.request.urlopen(r'file://' + filepath)
    datatowrite = filedata.read()
    with open(""download.fid"", 'wb') as f:  
        f.write(datatowrite)

# Register callback
btn_download.on_click(on_button_download_clicked)
</code></pre>

<p>However, this does not seem to work. I have tried few other methods like using <code>urlretrieve</code> and still won't work.</p>

<p>I am also aware that solution such as using <code>ipython.display.FileLink</code> exists, but I want to have it in form of button.</p>

<p>Is there any workaround in this?</p>
",1152,2,<python><jupyter-notebook><ipython><ipywidgets>,2019-07-01 23:26:17
56821807,"Cannot install the ""ipywidgets"" Jupyter Lab Extension on AWS sagemaker","<p>To install Jupyter Lab Extension on AWS sagemaker, You need to follow <a href=""https://github.com/aws-samples/amazon-sagemaker-notebook-instance-lifecycle-config-samples/tree/master/scripts"" rel=""nofollow noreferrer"">https://github.com/aws-samples/amazon-sagemaker-notebook-instance-lifecycle-config-samples/tree/master/scripts</a>. And then create the lifecycle configuration accordingly.</p>

<p>I did it and this is my <code>on-start.sh</code> file.</p>

<pre class=""lang-sh prettyprint-override""><code>#!/bin/bash

set -e

# OVERVIEW
# This script installs a jupyterlab extension package in SageMaker Notebook Instance

sudo -u ec2-user -i &lt;&lt;'EOF'
# PARAMETERS
EXTENSION_NAME=@jupyter-widgets/jupyterlab-manager
source /home/ec2-user/anaconda3/bin/activate JupyterSystemEnv
jupyter labextension install $EXTENSION_NAME
source /home/ec2-user/anaconda3/bin/deactivate
EOF
</code></pre>

<p>Everything should went smooth except for this extension it raises an error.</p>

<p>This is the error log from cloud watch.</p>

<pre><code>/bin/bash: /tmp/OnStart_2019-06-26-23-3260vo0j6p: /bin/bash^M: bad interpreter: No such file or directory
</code></pre>

<p>This one is the error message shown in the sagemaker console.</p>

<pre><code>Failure reason
Notebook Instance Lifecycle Config 'arn:aws:sagemaker:ap-southeast-1:658055165324:notebook-instance-lifecycle-config/jupyter-widgets-for-jupyterlab-copy' for Notebook Instance 'arn:aws:sagemaker:ap-southeast-1:658055165324:notebook-instance/test' took longer than 5 minutes. Please check your CloudWatch logs for more details if your Notebook Instance has Internet access.
</code></pre>

<p>I had done several attempts to locate the bug in the script file and the setup file of <code>ipywidgets</code> concerning <a href=""https://stackoverflow.com/questions/14219092/bash-my-script-bin-bashm-bad-interpreter-no-such-file-or-directory"">the 'bad interpreter' error</a>. I cannot find any traces of error in both.</p>

<p>I tried to upgrade my instance to T2 largest instance just in case the error came from the timeout. </p>

<p>The weirdest thing is that I am able to install it via the terminal from the terminal on jupyterlab. I measured the total time it takes to install and found it is around <code>4 mins</code> just enough time(AWS should allow more time since this is only one extension install). Noted that this installation was performed under the T2 medium instance(the cheapest instance type you could get). If you install it this way to have to reboot the jupyter lab to make it work, then you reboot your instance and everything reverts back to the not-yet-install state. This suggests that there is no way to install jupyter lab extension rather than using the lifecycle cycle configurations which will lead you back to the error.</p>

<p>At this point, I gave up and use the jupyter notebook instead if I really want to use the <code>ipywidgets</code>.</p>

<hr>

<p>Normally, this should be raised as technical support on AWS, but I have the basic plan so I decided to file it in StackOverflow for others that might encounter the same thing.</p>
",2171,4,<bash><amazon-web-services><amazon-sagemaker><jupyter-lab><ipywidgets>,2019-06-30 01:15:35
56821640,How can I alter the style of the Jupyter ipywidgets DatePicker widget?,"<p>I am using <code>ipywidgets</code> in a Jupyter Notebook, in particular, the DatePicker widget, and would like to know if there's a way to dig into the guts of the widget to alter its appearance. For example, the DatePicker widget comes wrapped in a box that appears to be 300px wide and 28px high (determined by using ""inspect element"" in Firefox on the displayed DatePicker widget). I'd like the ability to control the properties of this box. Where is this style determined? </p>

<p>Internet searching consistently leads to <a href=""https://ipywidgets.readthedocs.io/en/stable/examples/Widget%20Styling.html"" rel=""noreferrer"">this page</a>, but the information contained there seems pretty generic and I cannot seem to find the specific kind of information I'm after.</p>

<p>Similarly (at least I find) looking through the source code located at, for example, lib/python3.6/site-packages/ipywidgets/widgets/widgets_date.py not very enlightening.</p>

<p>I have tried what I thought might be the obvious things to do:</p>

<pre class=""lang-py prettyprint-override""><code>from ipywidgets import widgets
dp = widgets.DatePicker()
display(dp)

#Now try to set border style to red, for example.

dp.layout.border = 'solid 1px #ff0000'
display(dp)

#No change. :( Or rather, I should say, this adds yet another border,
#but leaves the original unchanged.
</code></pre>

<p>Has anyone had some experience in understanding where this display style is getting set or how to customize it?</p>

<p>An update: I followed the guidelines at <a href=""https://test-widgets.readthedocs.io/en/latest/examples/Widget%20Custom.html"" rel=""noreferrer"">this page</a> to set up a custom date picker widget (see below where I make the box a little bit bigger and color the background red just because) and I guess now that the properties of the DatePicker widget are getting set by some <code>Javscript</code> somewhere. I'd still like to know if these properties can be modified without having to reinvent the wheel. The <code>ipywidgets</code> DatePicker widget already exists, it seems like a waste to write my own just because I want to customize the look of it.</p>

<pre class=""lang-py prettyprint-override""><code>from __future__ import print_function
import ipywidgets as widgets
from traitlets import Unicode, validate

class DateWidget(widgets.DOMWidget):
    _view_name = Unicode('DatePickerView').tag(sync=True)
    _view_module = Unicode('datepicker').tag(sync=True)
    value = Unicode().tag(sync=True)

%%javascript
requirejs.undef('datepicker');

define('datepicker',[""jupyter-js-widgets""],function(widgets){

    var DatePickerView = widgets.DOMWidgetView.extend({
        render:function(){
            this.date = document.createElement('input');
            this.date.setAttribute('type','date');
            this.date.style.width = '350px';
            this.date.style.height = '45px';
            this.date.backgroundColor = '#ff0000';
            this.el.appendChild(this.date);
            this.update();
        },

        update:function(){
            this.date.value = this.model.get('value');
            return DatePickerView.__super__.update.apply(this);
        },

        events:{
            ""change"":""handle_date_change""
        },

        handle_date_change:function(event){
            this.model.set('value',this.date.value);
            this.touch();
        },
    });

    return{
        DatePickerView:DatePickerView
    };
});

dp=DateWidget()
dp
</code></pre>
",1983,5,<javascript><python><datepicker><jupyter-notebook><ipywidgets>,2019-06-30 00:17:11
56816015,How do I interact a JupyterLab extension with Python kernel?,"<p>Is there a way to create an extension for Jupyter Lab that I can manipulate through the Python cells in my notebook?</p>

<p>In Jupyter Notebook, this could be achieved via an IPywidget, which had a Python backend and Javascript front-end. These two could interact, and so I could send instructions to the javascript front-end via Python, and vice-versa.</p>

<p>From what I understand, this is no longer possible in Jupyter Lab, since they disabled the feature to execute javascript via IPython. The recommendation is to create jupyterlab extensions. Is it possible to control such an extension via Python code, and if so how?</p>

<p>In a simple example, I want a sidebar (like the TOC extension) that contains a textbox whose text I can set via Python.</p>
",883,6,<python><jupyter-notebook><jupyter><jupyter-lab><ipywidgets>,2019-06-29 08:03:43
56775761,ipywidgets compatible with Jupyter Lab version 1.0+?,"<p>I want to use the pre-release Jupyter Lab version 1.0+. I have a <code>Pipfile</code> that looks like this:</p>

<pre><code>[[source]]
name = ""pypi""
url = ""https://pypi.org/simple""
verify_ssl = true

[packages]
ipywidgets = ""*""
jupyterlab = ""&gt;=1.0.0a0""
...

[requires]
python_version = ""3.7""

[pipenv]
allow_prereleases = true
</code></pre>

<p>which installs the following versions:</p>

<ul>
<li><code>jupyterlab==1.0.0rc0</code></li>
<li><code>ipywidgets==7.4.2</code></li>
<li><code>notebook==5.7.8</code></li>
<li><code>widgetsnbextension==3.4.2</code></li>
</ul>

<p>I then run the command <code>jupyter labextension install @jupyter-widgets/jupyterlab-manager</code>. It installs the labextension:</p>

<ul>
<li><code>@jupyter-widgets/jupyterlab-manager v0.39.1</code>.</li>
</ul>

<p>I can't get the widgets to appear in the notebook.</p>

<p><a href=""https://i.stack.imgur.com/pHgza.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/pHgza.png"" alt=""enter image description here""></a></p>

<p>I know it can cause problems to have mismatched Jupyter Lab &amp; Jupyter Widgets versions. Is there a version of Jupyter Widgets compatible with version 1.0 of Jupyter Lab?</p>
",664,3,<python><jupyter-notebook><jupyter><jupyter-lab><ipywidgets>,2019-06-26 14:58:46
56774259,JupyterHub server is unable start in Terraformed EMR cluster running in private subnet,"<p>I'm creating an EMR cluster (emr-5.24.0) with Terraform, deployed into a private subnet, that includes Spark, Hive and JupyterHub.</p>

<p>I've added an additional configuration JSON to the deployment, which should add persistency for the Jupiter notebooks into S3 (instead of locally on disk).</p>

<p>The overall architecture includes a VPC endpoint to S3 and I'm able to access the bucket I'm trying to write the notebooks to.</p>

<p>When the cluster is provisioned, the JupyterHub server is unable to start.</p>

<p>Logging into the master node and trying to start/restart the docker container for the jupyterhub does not help.</p>

<p>The configuration for this persistency looks like this:</p>

<pre><code>[
    {
        ""Classification"": ""jupyter-s3-conf"",
        ""Properties"": {
            ""s3.persistence.enabled"": ""true"",
            ""s3.persistence.bucket"": ""${project}-${suffix}""
        }
    },
  {
     ""Classification"": ""spark-env"",
     ""Configurations"": [
       {
         ""Classification"": ""export"",
         ""Properties"": {
            ""PYSPARK_PYTHON"": ""/usr/bin/python3""
          }
       }
    ]
  }
]
</code></pre>

<p>In the terraform EMR resource definition, this is then referenced:</p>

<pre><code>configurations         = ""${data.template_file.configuration.rendered}""
</code></pre>

<p>This is read from:</p>

<pre><code>data ""template_file"" ""configuration"" {
  template = ""${file(""${path.module}/templates/cluster_configuration.json.tpl"")}""

  vars = {
    project  = ""${var.project_name}""
    suffix   = ""bucket""
  }
}
</code></pre>

<p>When I don't use persistency on the notebooks, everything works fine and I am able to log into JupyterHub.</p>

<p>I'm fairly certain it's not a IAM policy issue since the EMR cluster role policy Allow action is defined as ""s3:*"".</p>

<p>Are there any additional steps that need to be taken in order for this to function ?</p>

<p>/K</p>
",650,0,<amazon-s3><terraform><amazon-emr><terraform-provider-aws><jupyterhub>,2019-06-26 13:40:43
56725291,How to set a specific port for single-user Jupyterhub server REST API calls?,"<p>I have setup Spark SQL on Jypterhub using Apache Toree SQL kernel. I wrote a Python function to update Spark configuration options in the kernel.json file for my team to change configuration based on their queries and cluster configuration. But I have to shutdown the running notebook and re-open or restart the kernel after running Python function. In this way, I'm forcing the Toree kernel to read the JSON file to pick up the new configuration.</p>

<p>I thought of implementing this shutdown and restart of kernel in a programmatic way. I got to know about the Jupyterhub REST API documentation and am able implement it by invoking related API's. But the problem is, the single user server API port is set randomly by the Spawner object of Jupyterhub and it keeps changing every time I spin up a cluster. I want this to be fixed before launching the Jupyterhub service.</p>

<p>Here is a solution I tried based on Jupyterhub docs:</p>

<p><code>sudo echo ""c.Spawner.port = 35289
c.Spawner.ip = '127.0.0.1'"" &gt;&gt; /etc/jupyterhub/jupyterhub_config.py</code></p>

<p>But this did not work as the port was again set by the Spawner randomly. I think there is a way to fix this. Any help on this would be greatly appreciated. Thanks </p>
",181,0,<apache-spark-sql><jupyter-notebook><jupyter><jupyterhub><apache-toree>,2019-06-23 15:24:46
56694897,Using interact in ipywidgets?,"<p>Consider the function below:</p>

<pre class=""lang-py prettyprint-override""><code>def f(x,y):
   return x * y
</code></pre>

<p>Using interact I could write the following:</p>

<pre class=""lang-py prettyprint-override""><code>interact(f, x = fixed(2), y = (1,20))
</code></pre>

<p>and this would fix x at 2 and allow me to vary y between 1 and 20.</p>

<p>But, what if I wanted the interact part to be called automatically when I ran the function?
Hi,
So if I were to write:</p>

<pre class=""lang-py prettyprint-override""><code>f(2)
</code></pre>

<p>it would automatically make x equal to 2 and then allow the user to vary the y value from 1 to 20.</p>

<p>How could I do this?
Thanks</p>
",56,1,<python><jupyter-notebook><jupyter><interactive><ipywidgets>,2019-06-20 23:04:01
56689278,How to create a toogle button to show and clear output using ipywidgets?,"<p>I want to create a toggle button to display some output and clear it when switched in jupyter notebook using <code>ipywidget</code>.</p>

<p>I tried to do it using <code>widgets.Output()</code>. This however displays empty lines as I click more and more times.</p>

<p>Please help me out.</p>

<pre class=""lang-py prettyprint-override""><code>import ipywidgets as w
toggle = w.ToggleButton(description='click me')

out = w.Output()

def fun(obj):
    global out
    with out:
        display('asd')
    if obj['new']:  
        display(out)
    else:
        out.clear_output()
        out = w.Output()

toggle.observe(fun, 'value')
display(toggle)

</code></pre>
",5275,3,<python><jupyter-notebook><ipywidgets>,2019-06-20 15:26:06
56678428,"Read/write Jupyter notebook for myself, read-only for others","<p>I have just setup TLJH (The Littlest JupyterHub) and am planning to use it to have read/write access for my (admin) notebooks and read-only access with other (non-admin) users.</p>

<p>I have tried to follow this guide: <a href=""https://tljh.jupyter.org/en/latest/howto/content/share-data.html"" rel=""nofollow noreferrer"">https://tljh.jupyter.org/en/latest/howto/content/share-data.html</a></p>

<p>I am logged in as an Admin user and performed the following:</p>

<ol>
<li><p>Created a shared folder 
<code>sudo mkdir -p /srv/sharedFolder</code></p></li>
<li><p>cd into skeleton directory
<code>cd /etc/skel</code></p></li>
<li><p>Add symbolic link for new users to access the folder
<code>sudo ln -s /srv/sharedfolder sharedFolder</code></p></li>
<li><p>Create Jupyter notebook in my home directory <code>/home/myUserName/myNotebook.ipynb</code></p></li>
<li><p>Copy into <code>/srv/sharedFolder</code> <code>cp /home/myUserName/myNotebook.ipynb /srv/sharedFolder</code></p></li>
<li><p>Create new user from control panel</p></li>
<li><p>Log in as new user</p></li>
</ol>

<p>The new user has read-only access to <code>myNotebook.ipynb</code>.</p>

<p>However, I (admin) am unable to edit the notebook as it resides in <code>/srv/sharedFolder</code> which belongs to root.</p>

<p>I would like to avoid manually removing <code>rm</code> and copying <code>cp</code> the notebook to the shared folder every time I make any changes.</p>

<p>I have thought of:</p>

<ol>
<li>Create shared folder without sudo in current user directory <code>mkdir -p ~/myUserName/sharedFolder</code> </li>
<li>cd into skeleton directory
<code>cd /etc/skel</code></li>
<li>Add symbolic link
<code>sudo ln -s ~/myUserName/sharedFolder sharedFolder</code></li>
</ol>

<p>The new user cannot see the <code>myNotebook.ipynb</code>.</p>

<p>I have also tried changing the notebook's permissions with <code>sudo chmod 644 myNotebook.ipynb</code>.</p>

<p>Would appreciate any help possible, thank you</p>
",587,1,<jupyterhub>,2019-06-20 03:07:21
56659218,Fix broken display of SVG using ipywidgets DOMWidget in Jupyter Notebook,"<h2>Summary</h2>

<p>Please see <a href=""https://notebooks.azure.com/rickteachey/projects/geoselector/html/broken_example_svg_child.ipynb"" rel=""nofollow noreferrer"">this example notebook</a>, which isn't working as expected. The third cell in the notebook <em>should</em> show an SVG window containing a simple green box. Example output is shown in cell 4*.</p>

<h2>Details</h2>

<p>After running the notebook, a tooltip popup is displayed when I hover over the element in the console. Because of this popup I believe the SVG container and box (which is a PATH element) are definitely being created, they just aren't being displayed. The popup says they are being rendered at size 0x0.</p>

<p>How can I get this to work as expected, so that the contents of the SVG window show up in the output cell (cell #3)?</p>

<h2>Code</h2>

<p>Here is the cell by cell code for convenience.</p>

<p>Cell #1</p>

<pre class=""lang-py prettyprint-override""><code>import ipywidgets.widgets as widgets
from traitlets import Unicode


class Test(widgets.DOMWidget):
    _view_name = Unicode('TestView').tag(sync=True)
    _view_module = Unicode('test').tag(sync=True)
    _view_module_version = Unicode('0.1.0').tag(sync=True)
</code></pre>

<p>Cell #2</p>

<pre><code>%%javascript

require.undef('test');

define('test', [""@jupyter-widgets/base""], function(widgets) {
    var TestView = widgets.DOMWidgetView.extend({

        render: function() {
            TestView.__super__.render.apply(this, arguments);
            var svg = document.createElement('svg');
            svg.innerHTML = '&lt;path fill-rule=""evenodd"" fill=""#66cc99"" stroke=""#555555"" stroke-width=""2.0"" opacity=""0.6"" d=""M 0.0,0.0 L 50.0,0.0 L 50.0,50.0 L 0.0,50.0 L 0.0,0.0 z"" /&gt;';
            this.el.appendChild(svg);
            console.log(svg);  // when you hover over this line in the console, you can see the SVG has been created...
        },
    });

    return {
        TestView : TestView,
    };

});
</code></pre>

<p>Cell #3</p>

<pre class=""lang-py prettyprint-override""><code>Test()  # this cell should output a green box
</code></pre>

<p>Cell #4: Example Output</p>

<pre class=""lang-html prettyprint-override""><code>%%html
&lt;svg&gt;
&lt;path fill-rule=""evenodd"" fill=""#66cc99"" stroke=""#555555"" stroke-width=""2.0"" opacity=""0.6"" d=""M 0.0,0.0 L 50.0,0.0 L 50.0,50.0 L 0.0,50.0 L 0.0,0.0 z"" /&gt;
&lt;/svg&gt;
</code></pre>

<hr>

<p>* NOTE: clone and run notebook to show the expected output at the bottom.</p>
",368,2,<javascript><python><svg><jupyter-notebook><ipywidgets>,2019-06-19 02:21:35
56657759,Text not displaying in ggplot2 plot using rpy2 magic,"<p>When I generate any ggplot2 plot using R magic in Jupyter Notebook, all text in the plot is rendered as little empty boxes. </p>

<p>My environment is running the notebook via Jupyter Hub on Ubuntu server. R magic is working great in general, with the goal of re-using some existing R code I have to output a Word Cloud via wordcloud package. However, when I generate any plot using ggplot2 any text is missing and all I see are small empty boxes. </p>

<pre class=""lang-r prettyprint-override""><code>library(ggplot2)
ggplot(mtcars, aes(x = drat, y = mpg)) +
    geom_point()
</code></pre>

<p><a href=""https://i.stack.imgur.com/zdcjH.jpg"" rel=""nofollow noreferrer"">see image here</a></p>

<p>The plot should show text on the axis labels but no text is displayed, just empty boxes. </p>

<p>Generating the same plot when running R from ssh terminal and saving it to disk (it's on a headless server) looks fine. Generating plot via pandas data frame in a different cell looks fine. So it seems related to rpy2? I'm stumped.</p>

<p>[EDIT]: in fact I see the same behavior using R kernel on this server, so it seems to not be specific to rpy2 / R magic. </p>
",120,2,<r><ggplot2><ipython><rpy2><jupyter-irkernel>,2019-06-18 22:18:41
56655741,Container as tooltip doesn't show contents,"<p>I'm creating a scatterplot and want to show some information in a tooltip.</p>

<p>The following works perfectly:</p>

<pre><code>import bqplot as bqp
import ipywidgets as ipw

xSc = bqp.LinearScale()
ySc = bqp.LinearScale()

tt = ipw.Label(""A"")
def hover_handler(self, content):
    tt.value = str(content)

s = bqp.Scatter(x=[0, 1, 2], y=[1, 2, 3], scales=dict(x=xSc, y=ySc),
                tooltip=tt)
s.on_hover(hover_handler)
bqp.Figure(marks=[s])
</code></pre>

<p>(there's no axes and whatnot to keep the code short)</p>

<p>Hovering over each point shows its <code>content</code> just fine.</p>

<p><a href=""https://i.stack.imgur.com/L2UNq.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/L2UNq.png"" alt=""enter image description here""></a></p>

<p>However, I don't want to simply show the raw content. Instead, I want to show it in tabular form (but the default <code>bqp.Tooltip</code> isn't sufficient for my needs).</p>

<p>However, if I wrap the label in a <code>ipw.VBox</code>, the tooltip becomes a tiny vertical sliver. Adding a <code>min_width</code> and <code>min_height</code> increases the size of the tooltip, but there's no content (even though <code>tt</code> was created with a default value). If I make a separate call to display the VBox alone, that version appears normally (even without defining the layout) and even updates when moving the mouse over the points.</p>

<pre><code>import bqplot as bqp
import ipywidgets as ipw
from IPython.display import display

xSc = bqp.LinearScale()
ySc = bqp.LinearScale()

tt = ipw.Label(""A"")
vb = ipw.VBox(children=[tt], layout=ipw.Layout(min_width='100px', min_height='100px'))
display(vb)
def hover_handler(self, content):
    tt.value = str(content)

s = bqp.Scatter(x=[0, 1, 2], y=[1, 2, 3], scales=dict(x=xSc, y=ySc),
                tooltip=vb)
s.on_hover(hover_handler)
bqp.Figure(marks=[s])
</code></pre>

<p><a href=""https://i.stack.imgur.com/C90IT.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/C90IT.png"" alt=""enter image description here""></a></p>

<p>What do I need to do for the tooltip to appear correctly?</p>
",648,1,<python><ipywidgets><bqplot>,2019-06-18 19:22:45
56654025,JupyterHub unreachable: Running on http://8000,"<p>I am trying to get JupyterHub running on RHEL7.</p>

<p>I am getting a log output stating that the server is available on <a href=""http://:8000"" rel=""nofollow noreferrer"">http://:8000</a> which seems a bit strange.  I have tried from another maching to connect to the ""<a href=""http://fully_qualified_host_name:8000"" rel=""nofollow noreferrer"">http://fully_qualified_host_name:8000</a>"" but this isn't working.</p>

<p>It all seemed so simple here:  <a href=""https://jupyterhub.readthedocs.io/en/latest/quickstart.html"" rel=""nofollow noreferrer"">https://jupyterhub.readthedocs.io/en/latest/quickstart.html</a></p>

<p>Log output:</p>

<pre><code>[I 2019-06-18 18:03:31.020 JupyterHub app:2120] Using Authenticator: jupyterhub.auth.PAMAuthenticator-1.0.0
[I 2019-06-18 18:03:31.020 JupyterHub app:2120] Using Spawner: jupyterhub.spawner.LocalProcessSpawner-1.0.0
[I 2019-06-18 18:03:31.023 JupyterHub app:1257] Loading cookie_secret from /opt/anaconda3/bin/jupyterhub_cookie_secret
[I 2019-06-18 18:03:31.038 JupyterHub proxy:460] Generating new CONFIGPROXY_AUTH_TOKEN
[W 2019-06-18 18:03:31.039 JupyterHub app:1532] No admin users, admin interface will be unavailable.
[W 2019-06-18 18:03:31.039 JupyterHub app:1534] Add any administrative users to `c.Authenticator.admin_users` in config.
[I 2019-06-18 18:03:31.039 JupyterHub app:1563] Not using whitelist. Any authenticated user will be allowed.
[I 2019-06-18 18:03:31.067 JupyterHub app:2337] Hub API listening on http://127.0.0.1:8081/hub/
[W 2019-06-18 18:03:31.068 JupyterHub proxy:642] Running JupyterHub without SSL.  I hope there is SSL termination happening somewhere else...
[I 2019-06-18 18:03:31.068 JupyterHub proxy:645] Starting proxy @ http://:8000
18:03:31.596 [ConfigProxy] info: Proxying http://*:8000 to (no default)
18:03:31.598 [ConfigProxy] info: Proxy API at http://127.0.0.1:8001/api/routes
18:03:32.178 [ConfigProxy] info: 200 GET /api/routes
[I 2019-06-18 18:03:32.178 JupyterHub proxy:319] Checking routes
[I 2019-06-18 18:03:32.178 JupyterHub proxy:399] Adding default route for Hub: / =&gt; http://127.0.0.1:8081
18:03:32.180 [ConfigProxy] info: Adding route / -&gt; http://127.0.0.1:8081
18:03:32.180 [ConfigProxy] info: Route added / -&gt; http://127.0.0.1:8081
18:03:32.182 [ConfigProxy] info: 201 POST /api/routes/
[I 2019-06-18 18:03:32.182 JupyterHub app:2422] JupyterHub is now running at http://:8000
^C[C 2019-06-18 18:03:36.370 JupyterHub app:2448] Received signal SIGINT, initiating shutdown...
[I 2019-06-18 18:03:36.371 JupyterHub app:2155] Cleaning up single-user servers...
[I 2019-06-18 18:03:36.371 JupyterHub proxy:705] Cleaning up proxy[19254]...
[I 2019-06-18 18:03:36.371 JupyterHub app:2187] ...done
(base) [knkb670@iecdalpptalpp01 bin]$ mysudo jupyterhub
[I 2019-06-18 18:03:41.038 JupyterHub app:2120] Using Authenticator: jupyterhub.auth.PAMAuthenticator-1.0.0
[I 2019-06-18 18:03:41.038 JupyterHub app:2120] Using Spawner: jupyterhub.spawner.LocalProcessSpawner-1.0.0
[I 2019-06-18 18:03:41.041 JupyterHub app:1257] Loading cookie_secret from /opt/anaconda3/bin/jupyterhub_cookie_secret
[I 2019-06-18 18:03:41.056 JupyterHub proxy:460] Generating new CONFIGPROXY_AUTH_TOKEN
[W 2019-06-18 18:03:41.057 JupyterHub app:1532] No admin users, admin interface will be unavailable.
[W 2019-06-18 18:03:41.057 JupyterHub app:1534] Add any administrative users to `c.Authenticator.admin_users` in config.
[I 2019-06-18 18:03:41.057 JupyterHub app:1563] Not using whitelist. Any authenticated user will be allowed.
[I 2019-06-18 18:03:41.086 JupyterHub app:2337] Hub API listening on http://127.0.0.1:8081/hub/
[W 2019-06-18 18:03:41.086 JupyterHub proxy:642] Running JupyterHub without SSL.  I hope there is SSL termination happening somewhere else...
[I 2019-06-18 18:03:41.087 JupyterHub proxy:645] Starting proxy @ http://:8000
18:03:41.616 [ConfigProxy] info: Proxying http://*:8000 to (no default)
18:03:41.618 [ConfigProxy] info: Proxy API at http://127.0.0.1:8001/api/routes
18:03:41.791 [ConfigProxy] info: 200 GET /api/routes
[I 2019-06-18 18:03:41.792 JupyterHub proxy:319] Checking routes
[I 2019-06-18 18:03:41.792 JupyterHub proxy:399] Adding default route for Hub: / =&gt; http://127.0.0.1:8081
18:03:41.793 [ConfigProxy] info: Adding route / -&gt; http://127.0.0.1:8081
18:03:41.795 [ConfigProxy] info: Route added / -&gt; http://127.0.0.1:8081
18:03:41.795 [ConfigProxy] info: 201 POST /api/routes/
[I 2019-06-18 18:03:41.795 JupyterHub app:2422] JupyterHub is now running at http://:8000
^C[C 2019-06-18 18:04:41.706 JupyterHub app:2448] Received signal SIGINT, initiating shutdown...
[I 2019-06-18 18:04:41.706 JupyterHub app:2155] Cleaning up single-user servers...
[I 2019-06-18 18:04:41.706 JupyterHub proxy:705] Cleaning up proxy[19283]...
[I 2019-06-18 18:04:41.707 JupyterHub app:2187] ...done
</code></pre>

<p>I am assuming I can connect to this remotely (the whole point of the Hub) from a different client.  The server is bash only.  Not sure where the config files are stored to do some digging, have tried to read the docs.</p>

<p>Not an expert in proxying.  I did consider just installing the Littlest JupyterHub, it may be simpler to get going - not sure if they can co-exist.</p>
",436,2,<python><jupyterhub>,2019-06-18 17:11:09
56624707,Jupyter notebook ipywidgets with buttons AND dropdowns in the SAME cell,"<p>In jupyter, I just want to display a dropdown with a list of consecutive integers AND also allow the associated integer variable to be incremented/decremented with inc and dec buttons (like a fwd/rev nav system). But no matter what I try it wont work. I either get no buttons or only buttons and no dropdowns.</p>

<p>I can use multiple drop downs using a select function and interactive statement:</p>

<p>widgets.interactive(select, time_sel = time_combo, LR_sel = LR_combo)</p>

<p>but I can't add buttons partly because I don't know how to add buttons via an interactive command.</p>

<pre class=""lang-py prettyprint-override""><code>def select(time_sel = time_combo, LR_sel = LR_combo, FB_sel = FB_combo):
    . . . 

def bminus_onclick()
    . . .

def bplus_onclick()
    . . .

bminus = widgets.Button(
    description='&lt;',
    disabled=False,
    button_style='',
    tooltip='NEXT hour')

bplus = widgets.Button(
    description='&gt;',
    disabled=False,
    button_style='',
    tooltip='PREVIOUS hour')

time_combo = widgets.Dropdown(
    options = list(range(1,int(duration_inhours + 1))),
    value = 1,
    description='Time:', 
    disabled=False,)

LR_combo = widgets.Dropdown(
    options = ['BOTH','L','R'],
    value = 'BOTH',
    description = 'Side:',
    disabled = False,)

widgets.interactive(select, time_sel = time_combo, LR_sel = LR_combo)
</code></pre>

<p>I want to add the buttons, their event handlers and have the event handlers inc/dec the dropdown and/or the time_sel variable.</p>
",186,1,<python><jupyter-notebook><ipywidgets>,2019-06-17 04:27:01
56604679,Loop for graph just selected items,"<p>I want to make an @interact function which makes a graph of just selected items in checkbox but can't figure out how to write it in the loop.</p>
<p>The code I wrote works &quot;fine&quot; but is not scalable if I change the variables</p>
<pre class=""lang-py prettyprint-override""><code>
col_list = list(df.columns.values)[0:][1:]
print(col_list)
lista = []

@interact(a=True, b=True, c=True, d=True, e=True, f=True,  g=True, h=True, i=True)
def g(a,b,c,d,e,f,g,h,i):
           
    if col_list[0] not in lista and a == True:
        lista.append(col_list[0])
    
    elif col_list[0] in lista and a == False:
        lista.remove(col_list[0])
        
    elif col_list[1] not in lista and b == True:
        lista.append(col_list[1])
    
    elif col_list[1] in lista and b == False:
        lista.remove(col_list[1])
        
    elif col_list[2] not in lista and c == True:
        lista.append(col_list[2])
    
    elif col_list[2] in lista and c == False:
        lista.remove(col_list[2])
        
    elif col_list[3] not in lista and d == True:
        lista.append(col_list[3])
    
    elif col_list[3] in lista and d == False:
        lista.remove(col_list[3])
        
    elif col_list[4] not in lista and e == True:
        lista.append(col_list[3])
    
    elif col_list[4] in lista and e == False:
        lista.remove(col_list[3])
                 
    @interact
    def sscale_of_graph(Escala_Tiempo={'y','d','q','sm','m','w'}):
        to_graphic = df[lista].resample(Escala_Tiempo).max().plot()
</code></pre>
<p>Then I've tried this way that doesn't work:</p>
<pre class=""lang-py prettyprint-override""><code>col_list = list(df.columns.values)[0:][1:]
##print(col_list)
lista = []

number = [0,1,2,3,4,5,6,7,8]
alpha = ['a','b','c','d','e','f','g','h','i']

@interact(a=True, b=True, c=True, d=True, e=True, f=True,  g=True, h=True, i=True)
def g(a,b,c,d,e,f,g,h,i):

    for i,j in zip(number, alpha):          
        if col_list[i] not in lista and j == True:
            lista.append(col_list[i])
        elif col_list[i] in lista and j == False:
            lista.remove(col_list[i])
        
        return lista

        print(lista)
    

                 
    @interact
    def sscale_of_graph(Escala_Tiempo={'y','d','q','sm','m','w'}):
        to_graphic = df[lista].resample(Escala_Tiempo).max().plot()

</code></pre>
",65,2,<python><python-3.x><anaconda><jupyter-lab><ipywidgets>,2019-06-14 20:20:26
56600783,"How to modify matplotlib fig, ax objects through interact wrapped function?","<p>I would like to create fig, ax objects outside of a function, then modify the ax from within the function. This approach works fine when my function is a typical python function, but fails when the function is decorated with the @interact or is wrapped by interact from ipywidgets. I'm curious why the wrapping with interact affects ability to pass ax through.</p>

<pre class=""lang-py prettyprint-override""><code>from ipywidgets import interact
from matplotlib import pyplot as plt
import numpy as np

fig, ax = plt.subplots(1)
def mod_ax(n=10):
    x,y = np.random.rand(n), np.random.rand(n)
    ax.scatter(x,y)
    return

# The interact wrapped function will not modify ax
interact(mod_ax, n=20)
# However, the below line works fine to modify ax; 
# comment out the interact line and comment in below line to see modified plot
# mod_ax(n=50)
plt.show()
</code></pre>

<p>When you use the interact wrapped function, it doesn't modify ax. I've tried passing the ax around as an argument, but still no luck. It works if you create fig, ax inside of the wrapped function, or just use <em>plt.plot</em> instead of <em>ax.plot</em>, but I want to be able to create the fig, ax outside of the wrapped function and then only modify the content inside to speed up the render time on changes to the interact slider. Any advice would be appreciated.</p>
",163,1,<python><matplotlib><ipywidgets>,2019-06-14 15:02:07
56560944,How to start and stop a while-loop with an ipywidget interactive Checkbox?,"<p>i try to start and stop a while-loop with a simple checkbox. But i don't know how i am able to update the checkbox-state in the while loop.</p>

<p>Below you can see what i have, but when i uncheck the box, the while loop won't recognize it. </p>

<p>I searched through the interactive functions but have not found any function to get the updated state of the checkbox.</p>

<p>Hope you guys can help me out :)</p>

<pre><code>import ipywidgets
import time

def f(x):
    while x==True:
        print(""!"")
        time.sleep(1)

c=ipywidgets.interactive(f,x=False)
c
</code></pre>
",1316,2,<python><python-3.x><checkbox><interactive><ipywidgets>,2019-06-12 11:18:52
56559847,How to handle 2 widget events to control a dataframe?,"<p>I am trying to use 2 ipywidgets to control a dataframe and refresh as a change the 2 ipywidgets. </p>

<p>Create a new column (Check_value) that shifts down the Values column by the value in widget A </p>

<p>Filter and show only the rows where the Check_value is bigger than the Value column by the value in widget B </p>

<p>The dataframe :</p>

<p>Dates    |  Values 
Day 1    |  5 
Day 2    |  9 
Day 3    |  14 
Day 4    |  40 
Day 5    |  80</p>

<pre><code>## Widget A 
A = widgets.IntSlider(
value=1,
min=1,
max=30,
step=1)

## Widget B

B = widgets.IntSlider(
value=1,
min=1,
max=30,
step=1)

out = widgets.Output()  

## Processing 
def common_processing(period, filters):
  out.clear_output()

  with out:
    df = pd.read_csv(data.csv)
    df['Dates'] = pd.to_datetime(df['Dates'])
    df['check_value'] = df['Value'].shift(-period)
    df['delta'] = df['check_value'] - df['Value']
    display(df[df['delta'] &gt; filters])   

def A_eventhandler(change):
  common_processing(change.new, B.value)

def B_eventhandler(change):
  common_processing(A.value, change.new)

A.observe(A_eventhandler, names='value')
B.observe(B_eventhandler, names='value')

display(A)
display(B)
</code></pre>

<p>The data frame displayed does not change with changes in the widget values.</p>
",128,1,<python><pandas><ipywidgets>,2019-06-12 10:20:14
56550942,Assigning a checkbox to each row in a pandas df using ipywidgets,"<p>I have a pandas df and I am trying to assign a separate checkbox using ipywidgets to each row of the dataframe. I am creating a jupyterlab UI and my end goal is for a user to be able to look through the table, select true or false on the records they want, hit submit and then a backend operation will be performed using the data from the records whose checkbox is selected.</p>

<p>I am fairly new to ipywidgets so I haven't been able to get far. If there is an easier way to do this outside of using a pandas df, I'm open to that as well. I actually get the data in JSON format before turning it into a df so if that would be easier to use in this scenario, I'm open to it.</p>
",1317,0,<python><pandas><jupyter-lab><ipywidgets>,2019-06-11 19:58:38
56537918,irkernel extremely slow on easy command with large dataframe,"<p>I have installed irkernel following standard instruction. When trying to work on a large dataset (9M rows * 70 cols), it takes forever to run an easy command such as print(db[1,1]) or head(db) in jupyter-notebook irkernel.</p>

<p>I could run these commands in seconds on rstudio.</p>

<p>Is there anything I could improve in order to work on this dataset efficiently through jupyter-notebook? What could be the potential problem?</p>

<p>Thanks a lot.</p>
",235,1,<r><jupyter-notebook><jupyter-irkernel>,2019-06-11 06:41:09
56529093,Unable to connect JupyterHub on EMR,"<p>I have created EMR cluster (5.23.0) with JupyterHub. I create ssh tunnel to 9443 on master node. However, I am not able to connect to JupyterHub, the page does not resolve.Any ideas what is missing?</p>
",687,0,<amazon-web-services><jupyter><amazon-emr><jupyterhub>,2019-06-10 15:17:12
56477875,Child widget creation in ipywidgets produces an error using ViewList and create_child_view,"<h2>Summary</h2>

<p>See the toy example Azure notebook <a href=""https://notebooks.azure.com/rickteachey/projects/geoselector/html/broken_example_simple.ipynb"" rel=""nofollow noreferrer"">hosted at this link</a>. The notebook can be cloned and run, or downloaded and run locally, from there, but all of the code is also below for convenience.</p>

<p>When all the cells are run, the javascript console reports these errors (abbreviated) in the final cell, and the final expected line of output does not render:</p>

<pre><code>Error: Could not create a view for model id 91700d0eb745433eaee98bca2d9f3fc8
    at promiseRejection (utils.js:119)
Error: Could not create view
    at promiseRejection (utils.js:119)
Uncaught (in promise) TypeError: Cannot read property 'then' of undefined
Uncaught (in promise) TypeError: Cannot read property 'then' of undefined
</code></pre>

<p>Not sure where I am going wrong.</p>

<p>UPDATE:</p>

<p>As it currently exists, the code sends a string instance (rather than a <code>DOMWidgetModel</code> instance) to the <code>create_child_view</code> method. The string contains <code>""IPY_MODEL_""</code> appended by the model id. This seems like it might be the root of the problem. That string instance is being received by the client from the server side Backbone <code>children</code> model array items (<code>this.model.get('children')</code>).</p>

<p>I am wondering if the problem is related to the [de]serialization of  widgets discussed in the <a href=""https://ipywidgets.readthedocs.io/en/stable/examples/Widget%20Low%20Level.html#Serialization-of-widget-attributes"" rel=""nofollow noreferrer"">low-level widget tutorial</a>. But I'm not sure how to use that to fix this problem, since I need access to the sub widget model itself and not just an attribute. And I believe I am correctly passing the <code>**widgets.widget_serialization</code> as the tutorial specifies.</p>

<hr>

<h2>Details</h2>

<p>The notebook contains python and javascript code, and utilizes the <a href=""https://ipywidgets.readthedocs.io/en/stable/"" rel=""nofollow noreferrer""><code>ipywidgets</code></a> library, which relies heavily on Backbone. The back end code (python, cell #1) creates a <code>ipywidgets.DOMWidget</code> subclass widget, <code>Test</code> (a Backbone model mirrored in the front end). The front end code (javascript, cell #2) creates a <code>ipywidgets.DOMWidgetView</code> subclass, <code>TestView</code>, which is instantiated by the widget when it is rendered to the page.</p>

<p>The <code>Test</code> model widget has a <code>children</code> member made up of multiple ""sub-widgets"" (which are also models). These widgets are instances of the python class <code>Sub</code>. When a view of <code>Test</code> is rendered, I want to instantiate and render the views of the children widgets and attach them to the view of the parent <code>Test</code> widget (note: that final part hasn't been implemented yet below).</p>

<p>The problem is that when I try to follow the <code>ipywidgets</code> API to create children views, populating the <code>ViewList</code> array by instantiating the children views using the <code>create_child_view</code> method on each child model is not working.</p>

<p>The API for this kind of thing isn't particularly well documented, so I'm doing my best to follow various similar examples of how to instantiate sub-views using child models from within a parent view, such as the parent widgets <a href=""https://github.com/jupyter-widgets/ipywidgets/blob/1f93ad39802d3ee4a6b88bc13064f93f8f796374/packages/controls/src/widget_selectioncontainer.ts#L196-L210"" rel=""nofollow noreferrer"">in <code>ipywidgets</code> itself</a> and <a href=""https://github.com/jupyter-widgets/ipyleaflet/blob/b6d2c1573fbb00cd1511df26244e65d2159c11c0/js/src/layers/LayerGroup.js#L20-L40"" rel=""nofollow noreferrer"">in <code>ipyleaflet</code></a>. But nothing I do seems to get the creation of children views working.</p>

<p>Note that I am able to render a view of each <code>Sub</code> widget <em>individually</em> without any problem. It is only when I try to use the <code>create_child_view</code> method to create a view from within the parent <code>Test</code> widget that we run into problems.</p>

<hr>

<h2>Code</h2>

<p><strong>Cell 1</strong> (server side jupyter python kernel)</p>

<pre class=""lang-py prettyprint-override""><code>import ipywidgets.widgets as widgets
from traitlets import Unicode, List, Instance
from IPython.display import display


class Sub(widgets.DOMWidget):
    """"""Widget intended to be part of the view of another widget.""""""
    _view_name = Unicode('SubView').tag(sync=True)
    _view_module = Unicode('test').tag(sync=True)
    _view_module_version = Unicode('0.1.0').tag(sync=True)


class Test(widgets.DOMWidget):
    """"""A parent widget intended to be made up of child widgets.""""""
    _view_name = Unicode('TestView').tag(sync=True)
    _view_module = Unicode('test').tag(sync=True)
    _view_module_version = Unicode('0.1.0').tag(sync=True)
    children = List(Instance(widgets.Widget)).tag(sync=True, 
                                        **widgets.widget_serialization)

    def __init__(self, subs):
        super().__init__()
        self.children = list(subs)
</code></pre>

<p><strong>Cell 2</strong> (front end jupyter notebook code)</p>

<pre><code>%%javascript

require.undef('test');

define('test', [""@jupyter-widgets/base""], function(widgets) {

    var SubView = widgets.DOMWidgetView.extend({

        initialize: function() {
            console.log('init SubView');
            SubView.__super__.initialize.apply(this, arguments);
        },

        render: function() {
            this.el.textContent = ""subview rendering"";
        },

    });

    var TestView = widgets.DOMWidgetView.extend({

        initialize: function() {
            console.log('init TestView');
            TestView.__super__.initialize.apply(this, arguments);
            this.views = new widgets.ViewList(this.add_view, null, this);
            this.listenTo(this.model, 'change:children', function(model, value) {
                this.views.update(value);
            }, this);
            console.log('init TestView complete');
        },

        add_view: function (child_model) {
            // error occurs on this line:
            return this.create_child_view(child_model);
        },

        render: function() {
            this.views.update(this.model.get('children'));
            this.el.textContent = 'rendered test_view';
        },
    });

    return {
        SubView : SubView,
        TestView : TestView,
    };

});
</code></pre>

<p><strong>Cell 3</strong> (python code for testing)</p>

<pre class=""lang-py prettyprint-override""><code>models=[Sub() for _ in range(4)]
for m in models:
    # view each Sub object individually
    display(m)  # output: 'subview rendering'
t=Test(models)
t  # output: 'rendered test_view'  &lt;-- broken; see console log
</code></pre>

<hr>

<h2>Output</h2>

<p>Current output:</p>

<pre><code>subview rendering  

subview rendering  

subview rendering  

subview rendering
</code></pre>

<p>Expected output:</p>

<pre><code>subview rendering  

subview rendering  

subview rendering  

subview rendering  

rendered test_view
</code></pre>

<p>More specific information about the actual project I am working on is at <a href=""https://github.com/jupyter-widgets/ipywidgets/issues/2420#issuecomment-496681171"" rel=""nofollow noreferrer"">this github issue</a> if anyone is interested.</p>
",1413,5,<javascript><python><backbone.js><jupyter-notebook><ipywidgets>,2019-06-06 12:43:46
56441563,JupyterHub Spawn error first installation,"<p>I'm new to this kind of things. In my company we have a unix remote server with python/anaconda installed and we would like to switch from jupyter-lab to jupyterhub to be able to let many users login and use jupyter at the same time.</p>

<p>I'm trying to get used to the installation using my account (taht is not admin and is accessed through cyberark).
I installed with conda jupyterhub, create the config file and set the ip address (JupyterHub.ip) and port (JupyterHub.port) so to be able to connect via web browser from the user client.
I have opened the firewall route to this port correctly.</p>

<p>Just to try i have set the authenticator to dummy so to be able to connect using whatever username and pwd.</p>

<p>Using my account i run</p>

<pre><code>jupyterhub
</code></pre>

<p>this is the ouput</p>

<pre><code>[pas.datascience_dev@devrmdatasci01 .jupyter]$ jupyterhub [I 2019-06-04 11:43:05.522 JupyterHub app:2120] Using Authenticator: jupyterhub.auth.DummyAuthenticator-1.0.0 [I 2019-06-04 11:43:05.522 JupyterHub app:2120] Using Spawner: jupyterhub.spawner.LocalProcessSpawner-1.0.0 [I 2019-06-04 11:43:05.526 JupyterHub app:1257] Loading cookie_secret from /home/pas.datascience_dev/.jupyter/jupyterhub_cookie_secret [I 2019-06-04 11:43:05.557 JupyterHub proxy:460] Generating new CONFIGPROXY_AUTH_TOKEN [W 2019-06-04 11:43:05.559 JupyterHub app:1532] No admin users, admin interface will be unavailable. [W 2019-06-04 11:43:05.559 JupyterHub app:1534] Add any administrative users to c.Authenticator.admin_users in config. [I 2019-06-04 11:43:05.559 JupyterHub app:1563] Not using whitelist. Any authenticated user will be allowed. [I 2019-06-04 11:43:05.611 JupyterHub app:2337] Hub API listening on http://127.0.0.1:8081/hub/ [W 2019-06-04 11:43:05.613 JupyterHub proxy:642] Running JupyterHub without SSL. I hope there is SSL termination happening somewhere else... [I 2019-06-04 11:43:05.613 JupyterHub proxy:645] Starting proxy @ http://10.207.2.10:8689/ 11:43:06.217 - info: [ConfigProxy] Proxying http://10.207.2.10:8689 to (no default) 11:43:06.220 - info: [ConfigProxy] Proxy API at http://127.0.0.1:8001/api/routes [I 2019-06-04 11:43:06.684 JupyterHub proxy:319] Checking routes [I 2019-06-04 11:43:06.685 JupyterHub proxy:399] Adding default route for Hub: / =&gt; http://127.0.0.1:8081 [I 2019-06-04 11:43:06.688 JupyterHub app:2422] JupyterHub is now running at http://10.207.2.10:8689/
</code></pre>

<p>I copy the url and paste it to my local desktop browser and correctly get the login page.
I insert user: ""aaa"" and pwd ""abc"" (i'm using the dummy auth so it should be accepted) but i get spqwn failed with this log:</p>

<pre><code>[I 2019-06-04 11:46:11.157 JupyterHub base:663] User logged in: aaa [I 2019-06-04 11:46:11.160 JupyterHub log:174] 302 POST /hub/login?next= -&gt; /hub/spawn (aaa@127.0.0.1) 10.15ms [E 2019-06-04 11:46:11.243 JupyterHub user:626] Unhandled error starting aaa's server: 'getpwnam(): name not found: aaa' [I 2019-06-04 11:46:11.261 JupyterHub log:174] 302 GET /hub/spawn -&gt; /hub/spawn-pending/aaa (aaa@127.0.0.1) 56.58ms ERROR:asyncio:Task exception was never retrieved future: &lt;Task finished coro=&lt;BaseHandler.spawn_single_user() done, defined at /data/pyconda36/lib/python3.6/site-packages/jupyterhub/handlers/base.py:697&gt; exception=KeyError('getpwnam(): name not found: aaa',)&gt; Traceback (most recent call last): File ""/data/pyconda36/lib/python3.6/site-packages/jupyterhub/handlers/base.py"", line 889, in spawn_single_user timedelta(seconds=self.slow_spawn_timeout), finish_spawn_future File ""/data/pyconda36/lib/python3.6/site-packages/jupyterhub/handlers/base.py"", line 807, in finish_user_spawn await spawn_future File ""/data/pyconda36/lib/python3.6/site-packages/jupyterhub/user.py"", line 642, in spawn raise e File ""/data/pyconda36/lib/python3.6/site-packages/jupyterhub/user.py"", line 546, in spawn url = await gen.with_timeout(timedelta(seconds=spawner.start_timeout), f) File ""/data/pyconda36/lib/python3.6/site-packages/jupyterhub/spawner.py"", line 1377, in start env = self.get_env() File ""/data/pyconda36/lib/python3.6/site-packages/jupyterhub/spawner.py"", line 1326, in get_env env = self.user_env(env) File ""/data/pyconda36/lib/python3.6/site-packages/jupyterhub/spawner.py"", line 1313, in user_env home = pwd.getpwnam(self.user.name).pw_dir KeyError: 'getpwnam(): name not found: aaa' [E 2019-06-04 11:46:11.344 JupyterHub pages:284] Previous spawn for aaa failed: 'getpwnam(): name not found: aaa' [E 2019-06-04 11:46:11.350 JupyterHub log:166] { ""Cookie"": ""jupyterhub-hub-login=[secret]; user-id=[secret]; csrf-token=[secret]; _xsrf=[secret]; username-10-207-2-10-8687=[secret]; username-10-207-2-10-8686=[secret]; jupyterhub-session-id=[secret]"", ""Accept-Language"": ""it-IT,it;q=0.9,en-US;q=0.8,en;q=0.7"", ""Accept-Encoding"": ""gzip, deflate"", ""Referer"": ""http://10.207.2.10:8689/hub/login"", ""Accept"": ""text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8"", ""User-Agent"": ""Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/64.0.3282.186 Safari/537.36"", ""Upgrade-Insecure-Requests"": ""1"", ""Cache-Control"": ""max-age=0"", ""Connection"": ""close"", ""Host"": ""10.207.2.10:8689"" } [E 2019-06-04 11:46:11.350 JupyterHub log:174] 500 GET /hub/spawn-pending/aaa (aaa@127.0.0.1) 12.16ms
</code></pre>

<p>If i try to login using the username from which i'm launching the jupyterhub so user = ""pas.datascience_dev"" and use random pwd i get to a charging bar but then spawn failed with this error</p>

<pre><code>Spawn failed: Server at http://127.0.0.1:55345/user/pas.datascience_dev/ didn't respond in 30 seconds
</code></pre>

<p>and this log</p>

<pre><code>[I 2019-06-04 11:47:16.755 JupyterHub base:663] User logged in: pas.datascience_dev
[I 2019-06-04 11:47:16.757 JupyterHub log:174] 302 POST /hub/login?next= -&gt; /hub/spawn (pas.datascience_dev@127.0.0.1) 8.06ms
[I 2019-06-04 11:47:16.822 JupyterHub spawner:1387] Spawning jupyterhub-singleuser --port=55345
Failed to set groups [Errno 1] Operation not permitted
Traceback (most recent call last):
File ""/data/pyconda36/bin/jupyterhub-singleuser"", line 8, in 
from jupyterhub.singleuser import main
File ""/data/pyconda36/lib/python3.6/site-packages/jupyterhub/singleuser.py"", line 41, in 
from notebook.notebookapp import (
File ""/data/pyconda36/lib/python3.6/site-packages/notebook/notebookapp.py"", line 40, in 
ioloop.install()
File ""/data/pyconda36/lib/python3.6/site-packages/zmq/eventloop/ioloop.py"", line 210, in install
assert (not ioloop.IOLoop.initialized()) or 
AttributeError: type object 'IOLoop' has no attribute 'initialized'
[I 2019-06-04 11:47:17.801 JupyterHub log:174] 302 GET /hub/spawn -&gt; /hub/spawn-pending/pas.datascience_dev (pas.datascience_dev@127.0.0.1) 1008.91ms
ERROR:asyncio:Task exception was never retrieved
future: &lt;Task finished coro=&lt;BaseHandler.spawn_single_user() done, defined at /data/pyconda36/lib/python3.6/site-packages/jupyterhub/handlers/base.py:697&gt; exception=HTTPError()&gt;
Traceback (most recent call last):
File ""/data/pyconda36/lib/python3.6/site-packages/jupyterhub/handlers/base.py"", line 889, in spawn_single_user
timedelta(seconds=self.slow_spawn_timeout), finish_spawn_future
tornado.util.TimeoutError: Timeout

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
File ""/data/pyconda36/lib/python3.6/site-packages/jupyterhub/handlers/base.py"", line 922, in spawn_single_user
% (status, spawner._log_name),
tornado.web.HTTPError: HTTP 500: Internal Server Error (Spawner failed to start [status=1]. The logs for pas.datascience_dev may contain details.)
[W 2019-06-04 11:47:48.040 JupyterHub user:678] pas.datascience_dev's server never showed up at http://127.0.0.1:55345/user/pas.datascience_dev/ after 30 seconds. Giving up
[E 2019-06-04 11:47:48.055 JupyterHub gen:974] Exception in Future &lt;Task finished coro=&lt;BaseHandler.spawn_single_user..finish_user_spawn() done, defined at /data/pyconda36/lib/python3.6/site-packages/jupyterhub/handlers/base.py:800&gt; exception=TimeoutError(""Server at http://127.0.0.1:55345/user/pas.datascience_dev/ didn't respond in 30 seconds"",)&gt; after timeout
Traceback (most recent call last):
File ""/data/pyconda36/lib/python3.6/site-packages/tornado/gen.py"", line 970, in error_callback
future.result()
File ""/data/pyconda36/lib/python3.6/site-packages/jupyterhub/handlers/base.py"", line 807, in finish_user_spawn
await spawn_future
File ""/data/pyconda36/lib/python3.6/site-packages/jupyterhub/user.py"", line 654, in spawn
await self._wait_up(spawner)
File ""/data/pyconda36/lib/python3.6/site-packages/jupyterhub/user.py"", line 701, in _wait_up
raise e
File ""/data/pyconda36/lib/python3.6/site-packages/jupyterhub/user.py"", line 669, in _wait_up
http=True, timeout=spawner.http_timeout, ssl_context=ssl_context
File ""/data/pyconda36/lib/python3.6/site-packages/jupyterhub/utils.py"", line 234, in wait_for_http_server
timeout=timeout,
File ""/data/pyconda36/lib/python3.6/site-packages/jupyterhub/utils.py"", line 177, in exponential_backoff
raise TimeoutError(fail_message)
TimeoutError: Server at http://127.0.0.1:55345/user/pas.datascience_dev/ didn't respond in 30 seconds

[I 2019-06-04 11:47:48.058 JupyterHub log:174] 200 GET /hub/api/users/pas.datascience_dev/server/progress (pas.datascience_dev@127.0.0.1) 30176.86ms
</code></pre>

<p>What I'm missing or doing wrong ?</p>

<p>After i'll be able to use this i will give the whole package to systems admin and make them install it as root so to be able to manage multiple users</p>
",3496,1,<jupyter><jupyterhub>,2019-06-04 09:56:14
56440354,Jupyterhub for local network users,"<p>I am new to the jupyterhub framework so I would appreciate some help with how to go about this - 
I have a script running on my local machine on some data (also stored locally). </p>

<p>Example case: sales forecasts for different stores. 
I use jupyter notebook to display the visualizations using some widgets. These visualizations are interactive and the user can choose the store and timeperiod for which they want to compare the actual sales and forecasts. </p>

<p>Can/how do I achieve this using jupyterhub? 
Is it possible to host the notebook through my local machine?
The people who want to view the visualizations are not tech-people so can they access the notebook without having to install the dependencies- jupyterhub/python/jupyter notebook?</p>

<p>Also, as per the tutorials I browsed <a href=""https://github.com/minrk/jupyterhub-pydata-2016/blob/master/JupyterHub.pdf"" rel=""nofollow noreferrer"">here</a> ""Jupyterhub spawns single-user notebook servers"" - but what does that mean? 
Do the servers come with a copy of the sales data uploaded or that they have access to the data stored on my local machine.</p>
",71,0,<python><jupyter-notebook><jupyter><jupyterhub>,2019-06-04 08:44:54
56403663,ipywidgets widgets values not changing,"<p>I am trying to get output from my ipywidgets widgets in Microsoft Azure Notebooks running Jupyter Notebooks in Python 3.6. However, it does not return new values when I get them. This also applies to the event handlers/interact never being called for other widgets. </p>

<p>I have tried putting in different initial values, using different types of widgets (<code>Text</code>, <code>Textarea</code>, <code>Checkbox</code>, <code>Button</code>, <code>ToggleButton</code>). I have tried getting the <code>w.value</code>, <code>ipywidgets.interact</code>, <code>w.observe</code>, and <code>w.on_click</code> on Buttons.</p>

<p>A test that I did:</p>

<pre><code>import time
import ipywidgets as widgets
from IPython.display import display

w = widgets.Text(disabled=False)
display(w)

while True:
    print(w.value)
    time.sleep(1)
</code></pre>

<p>I expect that when I enter something into the <code>Text</code> field, that it will output that text, but instead it continues printing out what it started with. There are no errors. So, for the above example, regardless of what I input into the resultant Text field, all that is printed is empty lines.</p>
",2549,5,<python><jupyter-notebook><ipywidgets><azure-notebooks>,2019-06-01 03:34:10
56364035,Configure base url in Zero to JupyterHub with Kubernetes,"<p>I want to change the base url of my JupyterHub, how can I do this with the <a href=""https://zero-to-jupyterhub.readthedocs.io/en/latest/index.html#"" rel=""nofollow noreferrer"">Zero to Jupyterhub with Kubernetes project</a>?</p>

<p>I know it is possible to change the hub's base url, it is stated on the bottom of this page: <a href=""https://jupyterhub.readthedocs.io/en/stable/getting-started/networking-basics.html"" rel=""nofollow noreferrer"">https://jupyterhub.readthedocs.io/en/stable/getting-started/networking-basics.html</a>. But I can't find it as config parameter in the <a href=""https://zero-to-jupyterhub.readthedocs.io/en/latest/reference.html"" rel=""nofollow noreferrer"">Configuration Reference</a>.</p>
",567,1,<kubernetes><jupyter-notebook><kubernetes-helm><jupyterhub>,2019-05-29 15:30:16
56341227,How to start a notebook server in Jupyter Hub using its REST APIs?,"<p>I want to start a notebook server on my Jupyter Hub as described <a href=""https://jupyterhub.readthedocs.io/en/stable/_static/rest-api/index.html#path--users--name--server"" rel=""nofollow noreferrer"">here</a> and to get started, even the basic command that I am following is not working. I want to make a normal request using my token as mentioned <a href=""https://jupyterhub.readthedocs.io/en/stable/_static/rest-api/index.html#path--users--name--server"" rel=""nofollow noreferrer"">here</a>. 
My code is:</p>

<pre><code>import requests
token = ""aa36d53a8cb5473a9e7ee07b1f3d8a49""
api_url = 'http://&lt;some_no&gt;.ap-south-1.elb.amazonaws.com/hub/api'
r = requests.get(api_url + '/users', headers={ 'Authorization': 'token %s' % token, } )
r.raise_for_status()
</code></pre>

<p>I, then, face an error, traceback of which is:</p>

<pre><code>Traceback (most recent call last):
  File ""&lt;stdin&gt;"", line 1, in &lt;module&gt;
  File ""/usr/local/lib/python3.7/site-packages/requests/models.py"", line 940, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: http://&lt;some_no&gt;.ap-south-1.elb.amazonaws.com/hub/api/users
</code></pre>

<p>Note: I have generated the token as described in the <a href=""https://github.com/jupyterhub/jupyterhub/blob/master/docs/source/reference/rest.md#create-an-api-token"" rel=""nofollow noreferrer"">official doc</a>. I also added the same in my config.yaml file that Jupyter Hub states every now and then.</p>

<p>I am unable to figure out the correct way in such ill-mannered documentation.</p>
",257,0,<python><python-requests><jupyter-notebook><jupyter><jupyterhub>,2019-05-28 11:29:43
56338857,How to get an authorization token from JuPyter hub using its REST APIs?,"<p>I want to start a notebook server as described <a href=""https://jupyterhub.readthedocs.io/en/stable/_static/rest-api/index.html#operation--users--name--server-post"" rel=""nofollow noreferrer"">here</a>. I learnt that I need to get an auth token from this and so wanted to get the same, I have to use the api as described <a href=""https://jupyterhub.readthedocs.io/en/stable/_static/rest-api/index.html#path--authorizations-token"" rel=""nofollow noreferrer"">here</a>. It always states ""Method not allowed, 405"". I am unable to figure out what is the right way to do this.</p>

<p>I tried the following post requests:</p>

<pre><code>http://MY_JHUB_ON_K8S_SERVER.com/authorizations/token
</code></pre>

<p>with the body of <code>JSON/Application</code>:</p>

<pre><code>{
    ""username"": ""aviral"",
    ""password"": ""aviral"",
}
</code></pre>

<p>The headers are:</p>

<pre><code>[{""key"":""Content-Type"",""name"":""Content-Type"",""value"":""application/json"",""description"":"""",""type"":""text""}]
</code></pre>

<p>In <a href=""https://www.getpostman.com/"" rel=""nofollow noreferrer"">Postman</a>, I had tried basic auth as well as no auth. In the basic auth, I pasted the username and password, while when there was no auth, I put the same in the <code>json body</code></p>

<p>I expect to get the token so that I can start a server. Right now, regardless of the permutation and combination, I am getting 405.</p>
",431,2,<json><rest><jupyter-notebook><jupyter><jupyterhub>,2019-05-28 09:19:26
56326398,Unable to launch a single user using REST api,"<p>I am using <strong>JuPyter</strong> hub on <strong>K8s</strong>. I went through the documentation and had a look at the APIs. Now, I want to use one to start a pod. However, I am unable to start one using <a href=""https://jupyterhub.readthedocs.io/en/stable/_static/rest-api/index.html#operation--users--name--server-post"" rel=""nofollow noreferrer"">this</a> post.</p>

<p>What would be the curl request for this <strong>POST</strong> request?</p>

<p>I have tried with the given command and it does not work:</p>

<pre class=""lang-sh prettyprint-override""><code>curl -XPOST http://some_ip.ap-south-1.elb.amazonaws.com/users/adwait/server

405 : Method Not Allowed
</code></pre>
",32,0,<rest><python-requests><jupyterhub>,2019-05-27 12:45:25
56238157,How to reuse widgets without doubling the code?,"<p>I am writing a Python application within jupyter notebook 5.7.8 (using ipywidgets 7.4.2 and pytables 3.5.1) and have the problem of generating several visually identical ui controls (grouped together to several dropdowns, sliders and buttons), which interact with different user data per ui control group.</p>

<p>To avoid writing the same code 18 times (for 18 ui control groups), I wonder how to solve this problem in a generical way, that means writing the code once (like a 'blueprint'), and build up the 18 different ui control groups from that 'blueprint'...?</p>

<p>Here is the code, I have:</p>

<pre><code>import pandas as pd
import ipywidgets as widgets
from ipywidgets import Layout, HBox, VBox
from IPython.display import clear_output

data_df = pd.DataFrame({
           'SUBJECT': [1,2], 
           'SIDE': ['left', 'right'], 
           'ACTIVITY': [1,2], 
           'DATA': [1,2], 
           'ABS_TIME': [1,2], 
           'REL_TIME': [1,2], 
           'VAL1': [1,2],
           'VAL2': [1,2], 
           'VAL3': [1,2]})


subject_ui_values  = [''] + data_df['SUBJECT'].unique().tolist()
side_ui_values     = [''] + data_df['SIDE'].unique().tolist()
activity_ui_values = [''] + data_df['ACTIVITY'].unique().tolist()
userdata_ui_values = [''] + data_df['DATA'].unique().tolist()
axis_ui_values     = ['', 'ABS_TIME', 'REL_TIME', 'VAL1', 'VAL2', 'VAL3']

# Flag whether to plot data or not
plot_data = True


def update_sample_range_plt1(args):
    # Update value range of slider 'sample_plt1_sldr', if (not empty) values were specified at dropdowns:
    #   'SUBJECT' and 'SIDE' and 'ACTIVITY' and 'USERDATA'
    if ((subject_plt1_drpdwn.value != """") and (side_plt1_drpdwn.value != """") and 
        (activity_plt1_drpdwn.value != """") and (userdata_plt1_drpdwn.value != """")):

        ##### SET / GET UI CONTROL PROPERTIES (SLIDER DESCRIPTION, SLIDER VALUE, ...) #####
        print("""")

    else: # If any values in dropdowns 'SUBJECT' and 'SIDE' and 'ACTIVITY' and 'USERDATA' are empty

        ##### SET / GET UI CONTROL PROPERTIES (SLIDER DESCRIPTION, SLIDER VALUE, ...) #####
        print("""")


def update_sample_range_plt2(args):
    # Update value range of slider 'sample_plt2_sldr', if (not empty) values were specified at dropdowns:
    #   'SUBJECT' and 'SIDE' and 'ACTIVITY' and 'USERDATA'
    if ((subject_plt2_drpdwn.value != """") and (side_plt2_drpdwn.value != """") and 
        (activity_plt2_drpdwn.value != """") and (userdata_plt2_drpdwn.value != """")):

        ##### SET / GET UI CONTROL PROPERTIES (SLIDER DESCRIPTION, SLIDER VALUE, ...) #####
        print("""")

    else: # If any values in dropdowns 'SUBJECT' and 'SIDE' and 'ACTIVITY' and 'USERDATA' are empty

        ##### SET / GET UI CONTROL PROPERTIES (SLIDER DESCRIPTION, SLIDER VALUE, ...) #####
        print("""")



def filter_data_df_plt1(_):

    with output1:
        def aux_filter_df(ui_element_value, label_num, data_df, df_column):

            ##### GET / SET UI CONTROL VALUES AND MAKE A QUERY ON A PANDAS DATAFRAME 'data_df'
            print("""")

        # Clear output of ipywidget
        clear_output()

        # Display filtered results in jupyter cell (output1)
        display(filtered_data_df_1)


def filter_data_df_plt2(_):

    with output1:
        def aux_filter_df(ui_element_value, label_num, data_df, df_column):

            ##### GET / SET UI CONTROL VALUES AND MAKE A QUERY ON A PANDAS DATAFRAME 'data_df'
            print("""")

        # Clear output of ipywidget
        clear_output()

        # Display filtered results in jupyter cell (output1)
        display(filtered_data_df_2)



def plot_filtered_data_plt1():

    ##### PLOT DATA USING VISDOM #####
    print("""")


def plot_filtered_data_plt2():

    ##### PLOT DATA USING VISDOM #####
    print("""")



def clear_plot_plt1(_):

    ##### CLEAR PLOT IN VISDOM #####
    print("""")


def clear_plot_plt2(_):

    ##### CLEAR PLOT IN VISDOM #####
    print("""")


# Set output1 of ipywidget 
output1 = widgets.Output()
output2 = widgets.Output()


if plot_data:
    query_plt1_btn_description = 'Query and Plot 1'
    query_plt2_btn_description = 'Query and Plot 2'
else:
    query_plt1_btn_description = 'Query 1'
    query_plt2_btn_description = 'Query 2'


# Define new button ui controls 'query_plt1_btn', 'clear_plt1_btn'
query_plt1_btn  = widgets.Button(description=query_plt1_btn_description)
query_plt2_btn  = widgets.Button(description=query_plt2_btn_description)

clear_plt1_btn  = widgets.Button(description='Clear Plot 1', disabled=True)
clear_plt2_btn  = widgets.Button(description='Clear Plot 2', disabled=True)


# Define new dropdown ui controls
subject_plt1_drpdwn     = widgets.Dropdown(options=subject_ui_values, value='', description='Subject 1:')
side_plt1_drpdwn        = widgets.Dropdown(options=side_ui_values, value='', description='Side 1:')
activity_plt1_drpdwn    = widgets.Dropdown(options=activity_ui_values, value='', description='Activity 1:')
userdata_plt1_drpdwn      = widgets.Dropdown(options=userdata_ui_values, value='', description='User Data 1:')
x_axis_plt1_drpdwn      = widgets.Dropdown(options=axis_ui_values, value='', description='Plot 1 (X):', 
                                           disabled=(not plot_data))
y_axis_plt1_drpdwn      = widgets.Dropdown(options=axis_ui_values, value='', description='Plot 1 (Y):',
                                           disabled=(not plot_data))

subject_plt2_drpdwn     = widgets.Dropdown(options=subject_ui_values, value='', description='Subject 2:')
side_plt2_drpdwn        = widgets.Dropdown(options=side_ui_values, value='', description='Side 2:')
activity_plt2_drpdwn    = widgets.Dropdown(options=activity_ui_values, value='', description='Activity 2:')
userdata_plt2_drpdwn      = widgets.Dropdown(options=userdata_ui_values, value='', description='User Data 2:')
x_axis_plt2_drpdwn      = widgets.Dropdown(options=axis_ui_values, value='', description='Plot 2 (X):', 
                                           disabled=(not plot_data))
y_axis_plt2_drpdwn      = widgets.Dropdown(options=axis_ui_values, value='', description='Plot 2 (Y):',
                                           disabled=(not plot_data))


# Define new slider ui control
sample_plt1_sldr     = widgets.IntRangeSlider(min=1, max=1, value=[1,1], step=1, description='Sample 1:', 
                                         disabled=True, continuous_update=False, orientation='horizontal', 
                                         layout=Layout(width='62%'))

sample_plt2_sldr     = widgets.IntRangeSlider(min=1, max=1, value=[1,1], step=1, description='Sample 2:', 
                                         disabled=True, continuous_update=False, orientation='horizontal', 
                                         layout=Layout(width='62%'))


# Execute function 'filter_data_df_plt1', if 'filter_data_df_plt2' was clicked
query_plt1_btn.on_click(filter_data_df_plt1)
query_plt2_btn.on_click(filter_data_df_plt2)


# Execute function 'clear_plot_plt1', if 'clear_plt2_btn' was clicked
clear_plt1_btn.on_click(clear_plot_plt1)
clear_plt2_btn.on_click(clear_plot_plt2)


# Monitor values of dropdowns, and execute function 'update_sample_range_plt1', if value changed
subject_plt1_drpdwn.observe(update_sample_range_plt1, 'value')
side_plt1_drpdwn.observe(update_sample_range_plt1, 'value')
activity_plt1_drpdwn.observe(update_sample_range_plt1, 'value')
userdata_plt1_drpdwn.observe(update_sample_range_plt1, 'value')

subject_plt2_drpdwn.observe(update_sample_range_plt2, 'value')
side_plt2_drpdwn.observe(update_sample_range_plt2, 'value')
activity_plt2_drpdwn.observe(update_sample_range_plt2, 'value')
userdata_plt2_drpdwn.observe(update_sample_range_plt2, 'value')


# Define layout of ui controls
ui_elements1 = VBox([widgets.VBox([HBox([subject_plt1_drpdwn, side_plt1_drpdwn, activity_plt1_drpdwn]), 
                                  HBox([userdata_plt1_drpdwn, sample_plt1_sldr]),
                                  HBox([x_axis_plt1_drpdwn, y_axis_plt1_drpdwn, clear_plt1_btn]),
                                  HBox([query_plt1_btn])])])

ui_elements2 = VBox([widgets.VBox([HBox([subject_plt2_drpdwn, side_plt2_drpdwn, activity_plt2_drpdwn]), 
                                  HBox([userdata_plt2_drpdwn, sample_plt2_sldr]),
                                  HBox([x_axis_plt2_drpdwn, y_axis_plt2_drpdwn, clear_plt2_btn]),
                                  HBox([query_plt2_btn])])])

# Display ui controls as well as the output1
display(widgets.VBox([ui_elements1, ui_elements2, output1, output2]))
</code></pre>

<p><a href=""https://i.stack.imgur.com/T09AB.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/T09AB.png"" alt=""Screenshot""></a></p>

<p>It would be great, if you would provide me with a simple example</p>
",168,1,<python><jupyter-notebook><ipywidgets>,2019-05-21 12:19:44
56234314,How to pass argument for a configuration file in JuPyterhub's deployment?,"<p>I want to install <code>envkey</code> in my docker image which requires a <code>key-value</code> pair. I have the <code>key-value</code> pair with me but I am unable to figure out as to how do I install it in my docker image using those arguments and then deploy the same on <code>jupyterhub</code>.</p>

<p>I tried reading other deployments of mine which use <code>envkey</code>. Here is how it goes:
1. I have a <code>Makefile</code> and I run the command <code>sudo make dev config=aviral.cfg</code>
2. The dev command in the Makefile is as follows:</p>

<pre><code>dev:
    docker build -t $(IMAGE) -f Dockerfile.dev . &amp;&amp; docker tag $(IMAGE) $(ALIAS)
    @echo ""\nCreate docker container..""
    CONFIG=$(config) IMAGE=$(IMAGE) docker-compose -f docker-compose.yml up -d --scale test=0 --scale airflow_worker=0
    @echo ""\n$(GREEN)Done.$(NO_COLOR)\n""
    @echo ""Try airflow at http://localhost:8080.""
    @echo ""and flower at http://localhost:5555.""

</code></pre>

<ol start=""3"">
<li>The <code>docker-compose</code> file is:</li>
</ol>

<pre><code>airflow_worker:
        image: ${IMAGE}:latest
        restart: always
        depends_on:
            - airflow_scheduler
        # ports:
        #     - 8793:8793
        # environment:
            # - GOOGLE_APPLICATION_CREDENTIALS=/gcloud/cloud.json
        env_file:
            - ${CONFIG}
        command: worker

</code></pre>

<p>As you can see, the env_file is passed on.</p>

<p>I am unable to deduce how to do this same in the JuPyterHub.</p>

<p>The helm chart is here(<a href=""https://jupyterhub.github.io/helm-chart/jupyterhub-0.8.2.tgz"" rel=""nofollow noreferrer"">https://jupyterhub.github.io/helm-chart/jupyterhub-0.8.2.tgz</a>). And my config is:</p>

<pre><code>proxy:
  secretToken: ""yada_yada""
singleuser:
  image:
    name: yada_yada.dkr.ecr.ap-south-1.amazonaws.com/demo
    tag: 12h
  lifecycleHooks:
    postStart:
      exec:
        command: [""/bin/sh"", ""-c"", 'ipython profile create; cd ~/.ipython/profile_default/startup; echo ''run_id = ""sample"" ''&gt; aviral.py']
  imagePullSecret:
    enabled: true
    registry: yada_yada.dkr.ecr.ap-south-1.amazonaws.com
    username: aws
    email: aviral@yada_yada.com
    password: yada_yada
</code></pre>

<p>In my config file, I pass variables as:</p>

<pre><code>ENVKEY=my_personal_envkey
</code></pre>

<p>I expect to have my configs passed in the docker, or perhaps I write a proper Makefile for this stuff, as of now, I am facing this error:</p>

<pre><code>Step 19/32 : RUN     curl -s https://raw.githubusercontent.com/envkey/envkey-source/master/install.sh | bash
 ---&gt; Running in 35bc1cf0e1c8
envkey-source 1.2.9 Quick Install
Copyright (c) 2019 Envkey Inc. - MIT License
https://github.com/envkey/envkey-source

Downloading envkey-source binary for linux-amd64
Downloading tarball from https://github.com/envkey/envkey-source/releases/download/v1.2.9/envkey-source_1.2.9_linux_amd64.tar.gz
envkey-source is installed in /usr/local/bin
Installation complete. Info:

bash: line 97:    29 Segmentation fault      envkey-source -h
The command '/bin/sh -c curl -s https://raw.githubusercontent.com/envkey/envkey-source/master/install.sh | bash' returned a non-zero code: 139
</code></pre>

<p>Although this question alone should be good enough to give you the picture but for the sake of context(if), here are some of the questions:
1. <a href=""https://stackoverflow.com/questions/56182317/how-do-i-make-jupyter-hub-access-my-private-docker-image-repository"">How do I make jupyter-hub access my private docker image repository?</a>
2. <a href=""https://stackoverflow.com/questions/56170284/unable-to-run-a-lifecycle-command-from-config-yaml-while-deploying-jupyterhub"">Unable to run a lifecycle command from config.yaml while deploying jupyterhub</a>
3. <a href=""https://stackoverflow.com/questions/56161350/how-to-have-file-written-automatically-in-the-startup-folder-when-a-new-user-sig"">How to have file written automatically in the startup folder when a new user signs up/in on JuPyter hub?</a></p>
",202,0,<docker><kubernetes><docker-compose><kubernetes-helm><jupyterhub>,2019-05-21 08:36:44
56185790,Unable to deduce why one imagePuller pod of JuPyterhub fails while the rest three are successfully created,"<p>I am deploying jupyterhub on a kubernetes cluster. In the config.yaml file, I am specifying a registry and the image tag. 
While 3 pods are successfully created, one is not.</p>

<p>I could not find much content pertaining to jupyter-hub.</p>

<p>The helm chart can be found here(<a href=""https://jupyterhub.github.io/helm-chart/jupyterhub-0.8.2.tgz"" rel=""nofollow noreferrer"">https://jupyterhub.github.io/helm-chart/jupyterhub-0.8.2.tgz</a>).</p>

<p>My config for values.yaml is:</p>

<pre><code>proxy:
  secretToken: ""some token""
singleuser:
  image:
    name: acc_id.dkr.ecr.ap-south-1.amazonaws.com/demo
    tag: 12c
  lifecycleHooks:
    postStart:
      exec:
        command: [""/bin/sh"", ""-c"", 'ipython profile create; cd ~/.ipython/profile_default/startup; echo ''run_id = ""sample"" ''&gt; aviral.py']
  imagePullSecret:
    enabled: true
    registry: acc_id.dkr.ecr.ap-south-1.amazonaws.com
    username: aws
    email: aviral@abcd.com
    password: &lt;my pw&gt;
</code></pre>

<p>When I describe the pods:</p>

<pre><code>➜  jupyterhub kubectl get pods -n jhub
NAME                       READY   STATUS                  RESTARTS   AGE
hook-image-awaiter-2xxfx   1/1     Running                 0          13m
hook-image-puller-4f9mk    1/1     Running                 0          13m
hook-image-puller-jshlk    1/1     Running                 0          13m
hook-image-puller-wj8r6    1/1     Running                 0          13m
hook-image-puller-wlgnh    0/1     Init:ImagePullBackOff   0          13m
hub-6766fc7586-zdf9n       1/1     Running                 0          35m
proxy-65f559ff89-md7r5     1/1     Running                 0          20h
</code></pre>

<p>As you can see, the pod named <code>hook-image-puller-wlgnh</code> is in Init:ImagePullBackOff mode.</p>

<p>While describing it, under the <code>events</code> section, I get:</p>

<pre><code>Failed to pull image ""acc_id.dkr.ecr.ap-south-1.amazonaws.com/demo:12c"": [rpc error: code = Unknown desc = Error response from daemon: unauthorized: authentication required, rpc error: code = Canceled desc = context canceled]
</code></pre>

<p>However, the other 3 pods are running and they were able to pull the same image.</p>
",864,0,<kubernetes><jupyter-notebook><jupyter><kubernetes-helm><jupyterhub>,2019-05-17 11:46:51
56161350,How to have file written automatically in the startup folder when a new user signs up/in on JuPyter hub?,"<p>I am using JuPyter hub on k8s. It has a persistent volume claim. I want to have my users use a variable <code>run_id = ""sample""</code>every time they use jupyter notebook.</p>

<p>Doing so requires making a file <code>aviral.py</code> in the path <code>/home/jovyan/.ipython/profile_default/startup</code> with the content <code>run_id = ""sample""</code>.</p>

<p>I have to do this manually and would want this to be done as soon as the new user's pod is created for the first time i.e. the file gets written there itself.</p>

<p>Is there any way to automate this?</p>

<p>Everything mentioned here is taken off the shelf, as described here:</p>

<p><a href=""https://zero-to-jupyterhub.readthedocs.io/en/latest/setup-jupyterhub.html"" rel=""nofollow noreferrer"">https://zero-to-jupyterhub.readthedocs.io/en/latest/setup-jupyterhub.html</a></p>
",291,0,<python><kubernetes><jupyter-notebook><jupyter><jupyterhub>,2019-05-16 05:21:56
56149931,How do I set parameters for each notebook on JuPyterHub running on K8s,"<p>I want to set some parameters as defined here(<a href=""https://github.com/nteract/papermill#python-version-support"" rel=""nofollow noreferrer"">https://github.com/nteract/papermill#python-version-support</a>). The catch is, I want to be able to do this via UI. I have a JHub installed on my cluster and while opening it, I want certain parameters to be set by default. </p>

<p>Also, when I pass the parameters via papermill(the above script gets saved somewhere and then I will run it via papermill), I want the latter to override the former.</p>

<p>I tried looking into several topics in pure JuPyter notebooks but in vain.</p>
",331,0,<jupyter-notebook><jupyter><jupyterhub><papermill>,2019-05-15 12:57:01
56135713,Why does the my function called by ipywidget button not return an output?,"<p>I'm using a button to call a function, but the output of the function doesn't seem to be saved. </p>

<p>I'm creating an interactive jupyter notebook which is design to execute functions when a buttons are clicked. For example, the first button called ""<code>Get data</code>"", which would create new variables. Then a second button, ""<code>Analyze data</code>"" would do some analysis on the variables. The problem is that the output of ""<code>Get data</code>"" is not being saved outside the function.</p>

<pre class=""lang-py prettyprint-override""><code># GET DATA
get_data_button = widgets.Button(description='Get Data')

def get_data(b):

    data = 10
    print(data)

    return data

# DISPLAY BUTTON
get_data_button.on_click(get_data)
display(get_data_button)
</code></pre>

<p>I'm expecting that after the function I could do </p>

<pre class=""lang-py prettyprint-override""><code>print(data)
</code></pre>

<p>and return 10</p>

<p>instead it says:</p>

<blockquote>
  <p>name 'data' is not defined</p>
</blockquote>
",3031,1,<python><function><button><jupyter-notebook><ipywidgets>,2019-05-14 17:31:51
56116687,Juptyer Notebooks Authentication,"<p>I'm very new to Jupyter notebooks and recently setup a dev instance with a basic password for external access. While this works fine, I need to tie it into LDAP or PAM authentication on my RHEL server.</p>

<p>As I started reading about this, it appears JupyterHub is the way to go with but I'm running into some issues with that setup. I did some basic configuration and I can login fine via PAM, but it says ""Spawn failed"" after the login page.</p>

<p>Ideally I'd like to stick with just notebooks + LDAP auth if possible to make things simpler. If that is not possible, can anyone help me out with what type of configuration I need for hub to frontend notebooks and just forward to the existing setup I have?</p>

<ul>
<li>Hub is currently running on :8000</li>
<li>Notebooks is currently running on :8888</li>
<li>I also have custom themes on Notebooks that I want to keep, even if I have to use Hub.</li>
</ul>

<p>Any help would be greatly appreciated.</p>
",292,0,<jupyter-notebook><jupyter><jupyterhub>,2019-05-13 16:48:32
56082569,Mount a shared volume to Kubernetes cluster so that all users can access same storage and share files,"<p>I am following <a href=""https://zero-to-jupyterhub.readthedocs.io/en/latest/"" rel=""nofollow noreferrer"">Zero to JupyterHub with Kubernetes</a> to create a jupyterHub environment for my team to use. </p>

<p>Using Google Kubernetes Engine and every user gets his/her own storage and files are stored - this setup works fine.</p>

<p>I am having trouble as how should I create a volume or shared database so that everyone in team can see each other's notebooks, share file's and data.</p>

<p>To explain more, in desired setup - when a user signs in and goes to his/her jupyter image - every user sees the same folder ""shared"" and one can create individual folders for themselves inside that folder but are able to reuse code that someone else has already written.</p>

<p>I looked into NFS with Firestore but that seems very expensive.</p>
",323,0,<kubernetes><google-kubernetes-engine><jupyterhub>,2019-05-10 17:50:17
56064860,Failed to get AWS Cloud Provider. GetCloudProvider returned <nil> instead,"<p>I have a hand-built Kubernets cluster 1.11.4 using CentOS running as AWS ec2 instances, 1 master and 1 minion.  The cluster is very stable.  I'm want to deploy JupyterHub into the cluster.  The doc <a href=""https://zero-to-jupyterhub.readthedocs.io/en/latest/amazon/efs_storage.html#amazon-efs"" rel=""nofollow noreferrer""> here</a> and <a href=""https://zero-to-jupyterhub.readthedocs.io/en/latest/user-storage.html#user-storage"" rel=""nofollow noreferrer"">here</a> call out some details for provisioning EFS.  I elected to go with EBS.</p>

<p>The pvc fails with:    </p>

<pre><code>Failed to get AWS Cloud Provider. GetCloudProvider returned &lt;nil&gt; instead
Mounted By:  hub-76ffd7d94b-dmj8l
</code></pre>

<p>Below is the StorageClass definition:</p>

<pre><code>kind: StorageClass
apiVersion: storage.k8s.io/v1
metadata:
  name: gp2
  annotations:
    storageclass.kubernetes.io/is-default-class: ""true""
provisioner: kubernetes.io/aws-ebs
parameters:
  type: gp2
  fsType: ext4
</code></pre>

<p>The pv yaml:</p>

<pre><code>kind: PersistentVolume
apiVersion: v1
metadata:
  name: jupyterhub-pv
  labels:
    type: amazonEBS
spec:
  capacity:
    storage: 30Gi
  accessModes:
    - ReadWriteMany
  awsElasticBlockStore:
    volumeID: vol-0ddb700735db435c7
    fsType: ext4
</code></pre>

<p>The pvc yaml:</p>

<pre><code>kind: PersistentVolumeClaim
apiVersion: v1
metadata:
  name: jupyterhub-pvc
  labels:
    type: amazonEBS
spec:
  accessModes:
    - ReadWriteOnce
  resources:
    requests:
      storage: 5Gi
</code></pre>

<pre><code>$ kubectl -n jhub describe pvc hub-db-dir
</code></pre>

<p>returns:</p>

<pre><code>Name:          hub-db-dir
Namespace:     jhub
StorageClass:  standard  &lt;========from an earlier try
Status:        Pending
Volume:
Labels:        app=jupyterhub
               chart=jupyterhub-0.8.2
               component=hub
               heritage=Tiller
               release=jhub
Annotations:   volume.beta.kubernetes.io/storage-provisioner: kubernetes.io/aws-ebs
Finalizers:    [kubernetes.io/pvc-protection]
Capacity:
Access Modes:
VolumeMode:    Filesystem
Events:
  Type       Reason              Age                     From                         Message
  ----       ------              ----                    ----                         -------
  Warning    ProvisioningFailed  110s (x106 over 3h43m)  persistentvolume-controller  Failed to provision volume with StorageClass ""standard"": Failed to get AWS Cloud Provider. GetCloudProvider returned &lt;nil&gt; instead
Mounted By:  hub-76ffd7d94b-dmj8l
</code></pre>

<p>To me, this looks like an attempt by the pod to mount the storage, but fails.  And isolating this error has been a challenge.  I tried patching the pvc to update the storageclass to <code>gp2</code>, which is now marked as default, but was not at the time I deployed the pvc policy.  Patching failed:</p>

<pre><code>$ kubectl -n jhub patch pvc hub-db-dir -p '{""spec"":{""StorageClass"":""gp2""}}'
persistentvolumeclaim/hub-db-dir patched (no change)
</code></pre>

<pre><code>$ kubectl -n jhub describe pvc hub-db-dir
Name:          hub-db-dir
Namespace:     jhub
StorageClass:  standard  &lt;====== Not changed
Status:        Pending
Volume:
Labels:        app=jupyterhub
               chart=jupyterhub-0.8.2
               component=hub
               heritage=Tiller
               release=jhub
Annotations:   volume.beta.kubernetes.io/storage-provisioner: kubernetes.io/aws-ebs
Finalizers:    [kubernetes.io/pvc-protection]
Capacity:
Access Modes:
VolumeMode:    Filesystem
Events:
  Type       Reason              Age                      From                         Message
  ----       ------              ----                     ----                         -------
  Warning    ProvisioningFailed  2m26s (x108 over 3h48m)  persistentvolume-controller  Failed to provision volume with StorageClass ""standard"": Failed to get AWS Cloud Provider. GetCloudProvider returned &lt;nil&gt; instead
Mounted By:  hub-76ffd7d94b-dmj8l
</code></pre>

<p>JupyterHub deployment is managed by Helm/tiller, so when any changes are made, I use the following to update the pods:</p>

<pre><code>$ helm upgrade jhub jupyterhub/jupyterhub --version=0.8.2 -f config.yaml
</code></pre>

<p>The relevant section in the config.yaml file to allocate user storage is:</p>

<pre><code>proxy:
  secretToken: ""&lt;random value&gt;""
singleuser:
  cloudMetadata:
    enabled: true
singleuser:
  storage:
    dynamic:
      storageClass: gp2
singleuser:
  storage:
    extraVolumes:
      - name: jupyterhub-pv
        persistentVolumeClaim:
          claimName: jupyterhub-pvc
    extraVolumeMounts:
      - name: jupyterhub-pv
        mountPath: /home/shared
</code></pre>

<p>Part of the troubleshooting has also focused on letting the cluster know that its resources are provisioned by AWS.  To that end, I have in the kubernets config file:</p>

<pre><code>/usr/lib/systemd/system/kubelet.service.d/10-kubeadm.conf
</code></pre>

<p>the line:</p>

<pre><code>Environment=""KUBELET_EXTRA_ARGS=--cloud-provider=aws --cloud-config=/etc/kubernetes/cloud-config.conf
</code></pre>

<p>where: <code>/etc/kubernetes/cloud-config.conf</code> contains:</p>

<pre><code>[Global]
KubernetesClusterTag=kubernetes
KubernetesClusterID=kubernetes
</code></pre>

<p>In the files <code>kube-controller-manager.yaml</code> and <code>kube-apiserver.yaml</code> I added the line:</p>

<pre><code>- --cloud-provider=aws
</code></pre>

<p>I have not yet tagged any AWS resources, but will start doing it based on <a href=""https://stackoverflow.com/questions/34458753/kubernetes-on-aws-cloud-provider"">this</a>.</p>

<p>What are my next next steps for troubleshooting?</p>

<p>Thanks!</p>
",4477,3,<amazon-web-services><amazon-ec2><jupyterhub><amazon-ebs><amazon-efs>,2019-05-09 17:42:37
56062907,How to deploy a release after changing the configurations?,"<p>I have had jhub released in my cluster successfully. I then changed the config to pull another docker image as stated in the <a href=""https://zero-to-jupyterhub.readthedocs.io/en/latest/setup-jupyterhub.html"" rel=""noreferrer"">documentation</a>.</p>

<p>This time, while running the same old command: </p>

<pre><code># Suggested values: advanced users of Kubernetes and Helm should feel
# free to use different values.
RELEASE=jhub
NAMESPACE=jhub

helm upgrade --install $RELEASE jupyterhub/jupyterhub \
  --namespace $NAMESPACE  \
  --version=0.8.2 \
  --values jupyter-hub-config.yaml
</code></pre>

<p>where the <code>jupyter-hub-config.yaml</code> file is:</p>

<pre><code>proxy:
  secretToken: ""&lt;a secret token&gt;""
singleuser:
  image:
    # Get the latest image tag at:
    # https://hub.docker.com/r/jupyter/datascience-notebook/tags/
    # Inspect the Dockerfile at:
    # https://github.com/jupyter/docker-stacks/tree/master/datascience-notebook/Dockerfile
    name: jupyter/datascience-notebook
    tag: 177037d09156
</code></pre>

<p>I get the following problem:</p>

<pre><code>UPGRADE FAILED
ROLLING BACK
Error: ""jhub"" has no deployed releases
Error: UPGRADE FAILED: ""jhub"" has no deployed releases
</code></pre>

<p>I then deleted the namespace via <code>kubectl delete ns/jhub</code> and the release via <code>helm delete --purge jhub</code>. Again tried this command in vain, again the same error.</p>

<p>I read few GH issues and found that either the YAML file was invalid or that the <code>--force</code> flag worked. However, in my case, none of these two are valid.</p>

<p>I expect to make this release and also learn how to edit the current releases.</p>

<p>Note: As you would find in the aforementioned documentation, there is a pvc created.</p>
",1607,5,<kubernetes><jupyter><devops><kubernetes-helm><jupyterhub>,2019-05-09 15:31:11
56058800,"How do I resolve persistentvolumeclaims ""hub-db-dir"" is forbidden error while deploying jupyter hub on kubernetes?","<p>I want to deploy jupyter notebook on a kubernetes cluster. Following the official documentation(<a href=""https://zero-to-jupyterhub.readthedocs.io/en/latest/setup-jupyterhub.html"" rel=""nofollow noreferrer"">https://zero-to-jupyterhub.readthedocs.io/en/latest/setup-jupyterhub.html</a>), I ran the following command:</p>

<pre><code># Suggested values: advanced users of Kubernetes and Helm should feel
# free to use different values.
RELEASE=jhub
NAMESPACE=jhub

helm upgrade --install $RELEASE jupyterhub/jupyterhub \
  --namespace $NAMESPACE  \
  --version=0.8.2 \
  --values jupyter-hub-config.yaml
</code></pre>

<p>Where <code>jupyter-hub-config.yaml</code> is a config file as mentioned in the doc, containing a token generated by the command <code>openssl rand -hex 32
</code>.</p>

<p>While running the aforementioned command, I get the following error:</p>

<pre><code>Error: release jhub failed: persistentvolumeclaims ""hub-db-dir"" is forbidden: Internal error occurred: 8 default StorageClasses were found
</code></pre>

<p>I tried looking into various methods of installing <code>jhub</code> but none could point me to any difference in this approach that I would consider causing error here.</p>

<p>The o/p of the command <code>kubectl get storageclass</code> is:</p>

<pre><code>NAME                                     PROVISIONER             AGE
aviral-worker-volume (default)           kubernetes.io/aws-ebs   14d
default (default)                        kubernetes.io/aws-ebs   14d
es-ebs-storage (default)                 kubernetes.io/aws-ebs   7d
gp2 (default)                            kubernetes.io/aws-ebs   14d
prometheus-monitoring-volume (default)   kubernetes.io/aws-ebs   8d
replicated (default)                     kubernetes.io/aws-ebs   14d
replicated-premkit (default)             kubernetes.io/aws-ebs   14d
replicated-statsd (default)              kubernetes.io/aws-ebs   14d
</code></pre>
",2563,1,<kubernetes><jupyter><kubernetes-helm><kubectl><jupyterhub>,2019-05-09 11:50:55
56056732,How do I make a table with clickable cells in jupyter notebook?,"<p>I have a table and a plot below, I need to make the plot to be updated whenever a table cell is clicked.</p>

<p><code>ipywidgets</code> library doesn't have a dedicated table widget.</p>

<p><a href=""https://github.com/quantopian/qgrid"" rel=""nofollow noreferrer""><code>qgrid</code></a> doesn't have a callback for cell selection, only for row selection (I suspect I could hack it to react to cell clicks, but I guess the efforts required are comparable to making a raw html table clickable).</p>

<p><code>pivottablejs</code> is cool, but it is an overkill for my task.</p>

<p><code>bokeh</code> <a href=""http://bokeh.pydata.org/en/latest/docs/reference/models/widgets.tables.html"" rel=""nofollow noreferrer"">DataTable</a> appears to have no callbacks at all.</p>
",3860,3,<python><jupyter-notebook><bokeh><ipywidgets><qgrid>,2019-05-09 09:49:20
56040663,How do I clone a private repo to my single user notebook server?,"<p>I'm deploying jupyterhub on a Google Kubernetes cluster<br>
and I want the single user spawner to clone a private repo when being initialized.</p>

<p>I've tried to use a personal token from github using the repo scope.
and modified my postStart command to:</p>

<pre><code>command: [""gitpuller"", ""https://&lt;username&gt;:&lt;token&gt;@github.com/&lt;organization&gt;/&lt;repo&gt;.git"", ""master"", ""MyRepo""]
</code></pre>

<p>I get the following error:</p>

<p><a href=""https://i.stack.imgur.com/i8hGB.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/i8hGB.jpg"" alt=""enter image description here""></a></p>
",192,2,<jupyter-notebook><jupyterhub>,2019-05-08 12:19:44
55984137,running a python script in atom,"<p>I have been using <code>atom 1.36.1</code> to run <code>python3</code> (3.7.3) code</p>

<p>I suddenly got the following error message</p>

<pre><code>Traceback (most recent call last): 
File ""/usr/local/Cellar/python/3.7.3/Frameworks/Python.framework/Versions/3.7/lib/python3.7/runpy.py"", line 193, in _run_module_as_main ""main"", mod_spec) 
File ""/usr/local/Cellar/python/3.7.3/Frameworks/Python.framework/Versions/3.7/lib/python3.7/runpy.py"", line 85, in _run_code exec(code, run_globals) 
File ""/usr/local/lib/python3.7/site-packages/ipykernel_launcher.py"", line 15, in from ipykernel import kernelapp as app File ""/usr/local/lib/python3.7/site-packages/ipykernel/init.py"", line 2, in from .connect import * 
File ""/usr/local/lib/python3.7/site-packages/ipykernel/connect.py"", line 13, in from IPython.core.profiledir import ProfileDir 
File ""/usr/local/lib/python3.7/site-packages/IPython/init.py"", line 54, in from .core.application import Application 
File ""/usr/local/lib/python3.7/site-packages/IPython/core/application.py"", line 18, in import logging
File ""/usr/local/Cellar/python/3.7.3/Frameworks/Python.framework/Versions/3.7/lib/python3.7/logging/init.py"", line 28, in from string import Template ImportError: cannot import name 'Template' from 'string' (/Users/mymac/Downloads/string.py)
</code></pre>

<p>This is the content of the jupyter kernel json file: </p>

<pre><code>{
 ""argv"": [
  ""/usr/local/Cellar/python/3.7.3/bin/python3"",
  ""-m"",
  ""ipykernel_launcher"",
  ""-f"",
  ""{connection_file}""
 ],
 ""display_name"": ""Python 3"",
 ""language"": ""python""
}
</code></pre>

<p>what am I doing wrong?</p>
",129,0,<python-3.x><jupyter-notebook><atom-editor><jupyter-irkernel>,2019-05-04 15:38:39
55957369,How can I get the values of my widget items to display in a TextArea and convert the values to dictionary,"<p>I am creating a post form that will send my input as dictionary to a server. I planned to display the user entered input in a TextArea with my first display button click. This display button sets the next button (Send) to be visible. The Send button then convert or saves the values to a dictionary (key/value pair).</p>

<p>In my code, i followed the example in the ipywidget documentation (<a href=""https://ipywidgets.readthedocs.io/en/latest/examples/Widget%20Styling.html"" rel=""nofollow noreferrer"">https://ipywidgets.readthedocs.io/en/latest/examples/Widget%20Styling.html</a> [cell 12])  by adding all my widgets in a list. I am have difficulty in calling the values of the widget items to display in the Text area</p>

<p>I have tried to access the values using children[0].values but get error each time. AttributeError: 'Button' object has no attribute 'values'. I will appreciate anyone's help to do this form. If i can get my inputs as a dictionary, that will be very helpful </p>

<pre><code>
from ipywidgets import Layout, Button, Box, FloatText, Textarea, Dropdown, Label, IntSlider, Text

#Form item layout
form_item_layout = Layout(
    display='flex',
    flex_flow='row',
    justify_content='space-between'
)


#form container
form_items = [
    Box([
        Label(value='Name'),
        Text(value='John')
        ], layout=form_item_layout),


   Box([
       Label(value='Collection UUID'),
        Dropdown(options=['theme', 'play', 'character'])
       ], layout=form_item_layout),

    Box([Label(value='Result'),
          Textarea(rows = 20)], layout=form_item_layout),

    Button(description=""display""), 
    Button(description=""Send"", button_style='success')

]


#box layout that holds the forms
box_lyt = Layout(
    display='flex',
    flex_flow='column',
    border='solid 2px',
    align_items='stretch',
    width='50%'
)

form = Box(children=form_items, layout=box_lyt)
display(form)
form.children[4].layout.visibility = 'hidden'



def show(b):
    form.children[4].layout.visibility = 'visible'
    form.children[2] = c.children[0] + c.children[1] + c.children[2]





#Convert textarea values to dictionary
def list_children(c):
    return c.children[2].to_dict()

form.children[3].on_click(show)
form.children[4].on_click(list_children )

</code></pre>

<p>I expect a widget displaying: Name, ID, result and display button. Clicking the display should show the values in the result TextArea and make the button (send) visible. Clicking the Send button should accept these values from result and save as dictionary. The widget displays but is not responsive<a href=""https://i.stack.imgur.com/GWfyu.png"" rel=""nofollow noreferrer"">enter image description here</a></p>
",1160,0,<python-3.x><jupyter-notebook><ipywidgets>,2019-05-02 17:19:33
55921138,AWS EMR JupyterHub set up LDAP but not launching notebooks,"<p>Ive launched a EMR cluster with jupyterhub included and set up LDAP following the guide below:</p>

<p><a href=""https://docs.aws.amazon.com/emr/latest/ReleaseGuide/emr-jupyterhub-ldap-users.html"" rel=""nofollow noreferrer"">https://docs.aws.amazon.com/emr/latest/ReleaseGuide/emr-jupyterhub-ldap-users.html</a></p>

<p>I can log into jupyterhub using LDAP but it doesnt launch the notebook server and throws a error:</p>

<pre><code>500 : Internal Server Error

Spawner failed to start [status=1]. The logs for joe.blogg may contain 
details.

You can try restarting your server from the home page.
</code></pre>

<p>Checking the jupyterhub logs i find the following error:</p>

<pre><code>[I 2019-04-30 12:24:11.590 JupyterHub log:122] 302 GET / → /hub (@::ffff:172.31.150.206) 0.75ms
[I 2019-04-30 12:24:11.629 JupyterHub log:122] 302 GET /hub → /hub/home (joe.blogg@::ffff:172.31.150.206) 2.22ms
[I 2019-04-30 12:24:11.685 JupyterHub log:122] 200 GET /hub/home (joe.blogg@::ffff:172.31.150.206) 26.51ms
[I 2019-04-30 12:24:13.741 JupyterHub log:122] 302 GET /hub/spawn → /user/joe.blogg/ (joe.blogg@::ffff:172.31.150.206) 3.70ms
[I 2019-04-30 12:24:13.769 JupyterHub log:122] 302 GET /user/joe.blogg/ → /hub/user/joe.blogg/ (@::ffff:172.31.150.206) 0.51ms
[I 2019-04-30 12:24:13.847 JupyterHub spawner:978] Spawning jupyterhub-singleuser --port=46821 --debug
[D 2019-04-30 12:24:14.255 SingleUserNotebookApp application:177] Searching ['/home', '/home/users/joe.blogg/.jupyter', '/opt/conda/etc/jupyter', '/usr/local/etc/jupyter', '/etc/jupyter'] for config files
[D 2019-04-30 12:24:14.256 SingleUserNotebookApp application:555] Looking for jupyter_config in /etc/jupyter
[D 2019-04-30 12:24:14.256 SingleUserNotebookApp application:555] Looking for jupyter_config in /usr/local/etc/jupyter
[D 2019-04-30 12:24:14.256 SingleUserNotebookApp application:555] Looking for jupyter_config in /opt/conda/etc/jupyter
[D 2019-04-30 12:24:14.256 SingleUserNotebookApp application:555] Looking for jupyter_config in /home/users/joe.blogg/.jupyter
[D 2019-04-30 12:24:14.256 SingleUserNotebookApp application:555] Looking for jupyter_config in /home
[D 2019-04-30 12:24:14.257 SingleUserNotebookApp application:555] Looking for jupyter_notebook_config in /etc/jupyter
[D 2019-04-30 12:24:14.257 SingleUserNotebookApp application:577] Loaded config file: /etc/jupyter/jupyter_notebook_config.py
[D 2019-04-30 12:24:14.258 SingleUserNotebookApp application:555] Looking for jupyter_notebook_config in /usr/local/etc/jupyter
[D 2019-04-30 12:24:14.258 SingleUserNotebookApp application:555] Looking for jupyter_notebook_config in /opt/conda/etc/jupyter
[D 2019-04-30 12:24:14.258 SingleUserNotebookApp application:577] Loaded config file: /opt/conda/etc/jupyter/jupyter_notebook_config.json
[D 2019-04-30 12:24:14.258 SingleUserNotebookApp application:555] Looking for jupyter_notebook_config in /home/users/joe.blogg/.jupyter
[D 2019-04-30 12:24:14.258 SingleUserNotebookApp application:555] Looking for jupyter_notebook_config in /home
Traceback (most recent call last):
  File ""/opt/conda/lib/python3.6/site-packages/traitlets/traitlets.py"", line 528, in get
    value = obj._trait_values[self.name]
KeyError: 'runtime_dir'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/opt/conda/bin/jupyterhub-singleuser"", line 6, in &lt;module&gt;
    main()
  File ""/opt/conda/lib/python3.6/site-packages/jupyterhub/singleuser.py"", line 455, in main
    return SingleUserNotebookApp.launch_instance(argv)
  File ""/opt/conda/lib/python3.6/site-packages/jupyter_core/application.py"", line 266, in launch_instance
    return super(JupyterApp, cls).launch_instance(argv=argv, **kwargs)
  File ""/opt/conda/lib/python3.6/site-packages/traitlets/config/application.py"", line 657, in launch_instance
    app.initialize(argv)
  File ""&lt;decorator-gen-7&gt;"", line 2, in initialize
  File ""/opt/conda/lib/python3.6/site-packages/traitlets/config/application.py"", line 87, in catch_config_error
    return method(app, *args, **kwargs)
  File ""/opt/conda/lib/python3.6/site-packages/notebook/notebookapp.py"", line 1366, in initialize
    self.init_configurables()
  File ""/opt/conda/lib/python3.6/site-packages/notebook/notebookapp.py"", line 1100, in init_configurables
    connection_dir=self.runtime_dir,
  File ""/opt/conda/lib/python3.6/site-packages/traitlets/traitlets.py"", line 556, in __get__
    return self.get(obj, cls)
  File ""/opt/conda/lib/python3.6/site-packages/traitlets/traitlets.py"", line 535, in get
    value = self._validate(obj, dynamic_default())
  File ""/opt/conda/lib/python3.6/site-packages/jupyter_core/application.py"", line 99, in _runtime_dir_default
    ensure_dir_exists(rd, mode=0o700)
  File ""/opt/conda/lib/python3.6/site-packages/jupyter_core/utils/__init__.py"", line 13, in ensure_dir_exists
    os.makedirs(path, mode=mode)
  File ""/opt/conda/lib/python3.6/os.py"", line 210, in makedirs
    makedirs(head, mode, exist_ok)
  File ""/opt/conda/lib/python3.6/os.py"", line 210, in makedirs
    makedirs(head, mode, exist_ok)
  File ""/opt/conda/lib/python3.6/os.py"", line 210, in makedirs
    makedirs(head, mode, exist_ok)
  [Previous line repeated 1 more times]
  File ""/opt/conda/lib/python3.6/os.py"", line 220, in makedirs
    mkdir(name, mode)
PermissionError: [Errno 13] Permission denied: '/home/users'
[W 2019-04-30 12:24:23.874 JupyterHub web:1588] 500 GET /hub/user/joe.blogg/ (::ffff:172.31.150.206): Spawner failed to start [status=1]. The logs for joe.blogg may contain details.
[E 2019-04-30 12:24:23.886 JupyterHub log:114] {
      ""X-Forwarded-Host"": ""ip-172-31-150-206.eu-west-1.compute.internal:9443"",
      ""X-Forwarded-Proto"": ""https"",
      ""X-Forwarded-Port"": ""9443"",
      ""X-Forwarded-For"": ""::ffff:172.31.150.206"",
      ""Upgrade-Insecure-Requests"": ""1"",
      ""Cookie"": ""jupyter-hub-token=\""2|1:0|10:1556624768|17:jupyter-hub-token|44:ZThlOTZkYWM0NzRiNDRkMDlmYzdkNDUwOTUzMTNjYjA=|12a53077b8d92723bba01fc9273eb64050911e22317385f96c1c4f52ff5253a8\""; _xsrf=2|5370034d|137cc417d37f89a6aed65c0ec72ad572|1556623914"",
      ""Connection"": ""close"",
      ""Referer"": ""https://ip-172-31-150-206.eu-west-1.compute.internal:9443/hub/home"",
      ""Accept-Encoding"": ""gzip, deflate, br"",
      ""Accept-Language"": ""en-US,en;q=0.5"",
      ""Accept"": ""text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8"",
      ""User-Agent"": ""Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:66.0) Gecko/20100101 Firefox/66.0"",
      ""Host"": ""ip-172-31-150-206.eu-west-1.compute.internal:9443""
    }
[E 2019-04-30 12:24:23.886 JupyterHub log:122] 500 GET /hub/user/joe.blogg/ (joe.blogg@::ffff:172.31.150.206) 10088.04ms
[W 2019-04-30 12:24:42.370 JupyterHub user:458] joe.blogg's server never showed up at http://127.0.0.1:46821/user/joe.blogg/ after 30 seconds. Giving up
[E 2019-04-30 12:24:42.380 JupyterHub gen:914] Exception in Future &lt;tornado.concurrent.Future object at 0x7f53b1b9ce10&gt; after timeout
    Traceback (most recent call last):
      File ""/opt/conda/lib/python3.6/site-packages/tornado/gen.py"", line 910, in error_callback
        future.result()
      File ""/opt/conda/lib/python3.6/site-packages/jupyterhub/handlers/base.py"", line 445, in finish_user_spawn
        yield spawn_future
      File ""/opt/conda/lib/python3.6/site-packages/jupyterhub/user.py"", line 476, in spawn
        raise e
      File ""/opt/conda/lib/python3.6/site-packages/jupyterhub/user.py"", line 450, in spawn
        resp = yield server.wait_up(http=True, timeout=spawner.http_timeout)
      File ""/opt/conda/lib/python3.6/site-packages/jupyterhub/utils.py"", line 180, in wait_for_http_server
        timeout=timeout
      File ""/opt/conda/lib/python3.6/site-packages/jupyterhub/utils.py"", line 135, in exponential_backoff
        raise TimeoutError(fail_message)
    TimeoutError: Server at http://127.0.0.1:46821/user/joe.blogg/ didn't respond in 30 seconds


</code></pre>

<p>The  /etc/jupyter/conf/jupyterhub_conf file looks like the following after following aws guide:</p>

<pre><code># Configuration file for jupyterhub.

import os
notebook_dir = os.environ.get('DOCKER_NOTEBOOK_DIR')
network_name='jupyterhub-network'

c.Spawner.debug = True
c.Spawner.environment = {'SPARKMAGIC_CONF_DIR':'/etc/jupyter/conf'}

c.JupyterHub.hub_ip = '0.0.0.0'
c.JupyterHub.admin_access = True
c.JupyterHub.ssl_key = '/etc/jupyter/conf/server.key'
c.JupyterHub.ssl_cert = '/etc/jupyter/conf/server.crt'
c.JupyterHub.port = 9443


c.Authenticator.admin_users = {'jovyan'}

c.JupyterHub.authenticator_class = 'ldapauthenticator.LDAPAuthenticator'
c.LDAPAuthenticator.use_ssl = False
c.LDAPAuthenticator.server_address = 'openldap.companyx.com'
c.LDAPAuthenticator.bind_dn_template = 'cn={username},ou=Users,dc=openldap,dc=companyx,dc=com'
</code></pre>

<p>Has anyone else managed to setup multi user access on AWS EMR jupyterHub please.</p>
",604,0,<ldap><amazon-emr><openldap><jupyterhub>,2019-04-30 12:36:39
55918584,How to use my own hub image when deploying a jupyterhub on google kubernetes engine?,"<p>I'm trying to deploy JupyterHub on Google Kubernetes engine.<br>
I managed to deploy it by following the <a href=""https://z2jh.jupyter.org/en/latest/index.html"" rel=""nofollow noreferrer"">Zero to JupyterHub with Kubernetes</a> tutorial.<br>
My next step is to deploy JupyterHub using my own hub image but I keep getting an error message (from the proxy apparently).</p>

<p>So I created a repository on <a href=""https://hub.docker.com"" rel=""nofollow noreferrer"">Docker Hub</a> registry and tried to modify my helm config file so it will pull the image (I used the helm <a href=""https://zero-to-jupyterhub.readthedocs.io/en/latest/reference.html"" rel=""nofollow noreferrer"">Configuration Reference</a>).  </p>

<p>I updated the deploy with the following command:</p>

<pre><code>helm upgrade --install $RELEASE jupyterhub/jupyterhub --namespace $NAMESPACE --version=0.8.2 --values config.yaml 
</code></pre>

<p>As a result, I get a ""Service Unavailable"" message (The pods are all running).</p>

<p>The proxy pod log:  </p>

<blockquote>
  <p>09:14:24.370 - info: [ConfigProxy] Adding route / ->
  <a href=""http://10.47.249.21:8081"" rel=""nofollow noreferrer"">http://10.47.249.21:8081</a> 09:14:24.380 - info: [ConfigProxy] Proxying
  <a href=""http://0.0.0.0:8000"" rel=""nofollow noreferrer"">http://0.0.0.0:8000</a> to <a href=""http://10.47.249.21:8081"" rel=""nofollow noreferrer"">http://10.47.249.21:8081</a><br>
  09:14:24.381 - info:
  [ConfigProxy] Proxy API at <a href=""http://0.0.0.0:8001/api/routes"" rel=""nofollow noreferrer"">http://0.0.0.0:8001/api/routes</a> 09:16:01.434
  - error: [ConfigProxy] 503 GET /hub/admin connect ECONNREFUSED 10.47.249.21:8081 09:16:01.438 - error: [ConfigProxy] Failed to get custom error page Error: connect ECONNREFUSED 10.47.249.21:8081<br>
      at Object.exports._errnoException (util.js:1020:11)<br>
      at exports._exceptionWithHostPort (util.js:1043:20)<br>
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1086:14)  </p>
</blockquote>

<p>Hub image Dockerfile:  </p>

<pre><code>FROM jupyterhub/jupyterhub:0.9.6

USER root

COPY MZ_logo.jpg /usr/local/share/jupyter/hub/static/images/MZ-logo.jpg

USER ${NB_USER}
</code></pre>

<p>Helm config.yaml file:</p>

<pre><code>proxy:
  secretToken: ""&lt;TOKEN&gt;""

auth:
  admin:
    users:
      - admin1
      - admin2

  whitelist:
    users:
      - user1
      - user2

hub:
  imagePullPolicy: 'Always'

  imagePullSecret:
    enabled: true
    username: &lt;DOCKER_HUB_USERNAME&gt;
    password: &lt;DOCKER_HUB_PASSWORD&gt;

  image:
    name: &lt;DOCKER_HUB_USERNAME&gt;/&lt;DOCKER_HUB_REPO&gt;
    tag: latest

  extraConfig: |
    c.JupyterHub.logo_file = '/usr/local/share/jupyter/hub/static/images/MZ-logo.jpg'

</code></pre>
",422,2,<kubernetes><google-kubernetes-engine><kubernetes-helm><jupyterhub>,2019-04-30 10:04:54
55879883,How do I interactively update a markdown cell in jupyter notebook by an IPython widget?,"<p>I am using Jupyter notebook with Python 3 kernel. I have a computation which bases on user input by an IPython widget.
The result of the computation needs to be shown in a markdown cell. For this I use the Python Markdown nbextension. The Question now is: How do I update the markdown cell on user interaction?</p>

<p>I tried to run the markdown cell from python using a Javascript call.
As a minimal example, the following two cells may serve. (First normal python cell, second markdown cell)</p>

<pre class=""lang-py prettyprint-override""><code>from IPython.display import Javascript
import ipywidgets

def update_md_cell(slider_value):
    Javascript(""Jupyter.notebook.execute_cells([1])"")

t_slider = ipywidgets.IntSlider(min = 0, max = 10,  value = 10)
ipywidgets.interactive(update_md_cell, slider_value = t_slider)
</code></pre>

<pre><code>... The value of number is {{t_slider.value}}. ...
</code></pre>

<p>But this seems to work only outside of functions.</p>

<pre class=""lang-py prettyprint-override""><code>Javascript(""Jupyter.notebook.execute_cells ([1])"")
</code></pre>

<p>reloads the markdown cell.</p>

<pre class=""lang-py prettyprint-override""><code>def update_md_cell():
    Javascript(""Jupyter.notebook.execute_cells ([1])"")
update_md_cell()
</code></pre>

<p>does nothing.</p>

<p>Is there another way to connect the inputs (through the IPython widget) to the output (in the Markdown cell)?</p>

<hr>

<p>Update: Like mentioned in the comment to Suraj Potnuru's answer, my basic problem is the gotcha from <a href=""https://stackoverflow.com/questions/55773592/why-cannot-python-call-javascript-from-within-a-python-function?noredirect=1&amp;lq=1"">here</a>:</p>

<blockquote>
  <p>A big gotcha: something somewhere needs to return Javascript as its output, otherwise it doesn’t get executed in the notebook.</p>
</blockquote>

<p>But it's even worse, a return in the via ipywidgets.interactive() binded function is not enough to fix the gotcha, e.g.:</p>

<pre class=""lang-py prettyprint-override""><code>def update_md_cell():
    return Javascript(""Jupyter.notebook.execute_cells ([1])"")
update_md_cell()
</code></pre>

<p>works.</p>

<pre class=""lang-py prettyprint-override""><code>from IPython.core.display import Javascript
from IPython.display import display
import ipywidgets

def update_md_cell(slider_value):
    return Javascript(""Jupyter.notebook.execute_cells ([1])"")

t_slider = ipywidgets.IntSlider(min = 0, max = 10,  value = 10)
ipywidgets.interactive(update_md_cell, slider_value = t_slider)
</code></pre>

<p>doesn't work.</p>

<p>How do I get the second to work?</p>
",1368,0,<python-3.x><jupyter-notebook><interactive><ipywidgets><python-markdown>,2019-04-27 11:03:36
55786972,How could define index or number of clicked row in pandas dataframe output?,"<p>I want to make some form on ipywidgets, which show values of particular row of pandas dataframe in its inputs.</p>

<p>To make row selection and displaying in form more interactive I need to handle somehow clicking in displayed dataframe. Virtually, I want to be able to identify index or number of last clicked row of dataframe.</p>

<p><br>
PS<br>
I've seen tools like ipysheet and the others, but I think they still too nascent, though ipysheet could be very powerful in future.
So those tools don't applicable to this task.</p>
",899,2,<javascript><pandas><jupyter-notebook><ipython><ipywidgets>,2019-04-21 21:35:27
55763382,Get ipywidget button within a class to access class parameters through self?,"<p>I am writing a class that I want to include multiple widgets that can be displayed in a Jupyter notebook.  These widgets should calls class methods that update class parameters. A function that I connect to an ipywidget's events need access to the class instance, I think through self, but I can't figure out how to get this communication to work.</p>

<p>Here's a minimal example:</p>

<pre class=""lang-py prettyprint-override""><code>import numpy as np
import ipywidgets as widgets

class Test(object):
    def __init__(self):
        self.val = np.random.rand()
        display(self._random_button)

    _random_button = widgets.Button(
        description='randomize self.val'
    )

    def update_random(self):
        self.val = np.random.rand()
        print(self.val)

    def button_pressed(self):
        self.update_random()

    _random_button.on_click(button_pressed)
</code></pre>

<p>I see how the <code>button_pressed()</code> function sees the Button instance as <code>self</code>, giving ""AttributeError: 'Button' object has no attribute 'update_random'"".</p>

<p>Is there a way that I can access methods of the class Test through a button that belongs to the class, or is there a better way that I should be structuring this code to ease communication between these components?</p>
",2431,0,<python><ipywidgets>,2019-04-19 14:27:16
55735900,How to use FabricJS in Jupyter Notebook widget,"<p>I'm trying to build a widget in Jupyter Notebook that uses Fabric.js (<a href=""http://fabricjs.com/"" rel=""nofollow noreferrer"">http://fabricjs.com/</a>), however I'm getting an error that is a blocker for me. The most basic solution I need is just to make the widget output a canvas with an interactive red rectangle, like what you find on the Fabric.js homepage:</p>

<p><a href=""https://i.stack.imgur.com/x0YC6s.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/x0YC6s.png"" alt=""enter image description here""></a></p>

<p><strong>What I've tried so far:</strong> </p>

<p>I started from the basic ""Hello World"" tutorial (<a href=""https://ipywidgets.readthedocs.io/en/stable/examples/Widget%20Custom.html"" rel=""nofollow noreferrer"">https://ipywidgets.readthedocs.io/en/stable/examples/Widget%20Custom.html</a>) which is the basis for the four cells below, and I tried to add a simple example from the fabric node webpage to create a red rectangle. Here are the cells I have in Jupyter notebook:</p>

<p>Cell 1:</p>

<pre><code>%%HTML
&lt;script src=""https://cdnjs.cloudflare.com/ajax/libs/fabric.js/2.7.0/fabric.min.js"" type=""text/javascript""&gt;&lt;/script&gt;
</code></pre>

<p>Cell 2:</p>

<pre><code>import ipywidgets as widgets
from traitlets import Unicode, validate

class HelloWidget(widgets.DOMWidget):
    _view_name = Unicode('HelloView').tag(sync=True)
    _view_module = Unicode('hello').tag(sync=True)
    _view_module_version = Unicode('0.1.0').tag(sync=True)
</code></pre>

<p>Cell 3:</p>

<pre><code>%%javascript
require.undef('hello');

define('hello', [""@jupyter-widgets/base""], function(widgets) {

var HelloView = widgets.DOMWidgetView.extend({

    render: function() {
        var canvas = document.createElement('canvas');
        canvas.id = 'canvas';
        canvas.width = 1000;
        canvas.height = 500;
        var ctx = canvas.getContext(""2d"");
        ctx.fillStyle = ""blue"";
        ctx.fillRect(0, 0, canvas.width, canvas.height);
        this.el.appendChild(canvas);

        var fabricCanvas = new fabric.Canvas(canvas);

        var rect = new fabric.Rect({
            top : 100,
            left : 100,
            width : 60,
            height : 70,
            fill : 'red'
        });

        fabricCanvas.add(rect);             
    },
});

return {
    HelloView : HelloView
};
});
</code></pre>

<p>Cell 4:</p>

<pre><code>HelloWidget()
</code></pre>

<p>However, I unfortunately get the following error in the JS console and it doesn't make the red square:</p>

<p><a href=""https://i.stack.imgur.com/5ifOB.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/5ifOB.png"" alt=""JS console error""></a></p>

<p>Please help me fix the code to make it work!</p>
",171,0,<jupyter-notebook><requirejs><fabricjs><ipywidgets>,2019-04-17 21:01:08
55732037,Trying to plot plotyly graphs using value from dropdown menu in jupyter notebook,"<p>So I have stock prices of 5 companies. What I am trying to do is use a dropdown menu to select the company and create a line plot using data for the company selected from the dropdown menu. The code I have so far is as below :</p>

<pre><code>import pandas as pd

intel = pd.read_csv(r'C:\Users\PC\Desktop\INTEL.csv')
nvidia = pd.read_csv(r'C:\Users\PC\Desktop\NVIDIA.csv')
amd = pd.read_csv(r'C:\Users\PC\Desktop\AMD.csv')
gigabyte = pd.read_csv(r'C:\Users\PC\Desktop\GIGABYTE.csv')
msi= pd.read_csv(r'C:\Users\PC\Desktop\MSI.csv')


stocks= widgets.Dropdown(
description='Stocks:   ',
options=['','Intel','Nvidia','AMD','Gigabyte','MSI']
)

name = stock.value


def response(name):
if name=='Intel' :
    Intel_chart = go.Line(x=Intel['Date'],y=Intel['Close'])
    Intel_data = [Intel_chart]
    iplot(Intel_data)

elif name=='Nvidia' :
    Nvidia_chart = go.Line(x=Nvidia['Date'],y=Nvidia['Close'])
    Nvidia_data = [Nvidia_chart]
    iplot(Nvidia_data)

elif name=='AMD' :
    AMD_chart = go.Line(x=AMD['Date'],y=AMD['Close'])
    AMD_data = [AMD_chart]
    iplot(AMD_data)

elif name=='Gigabyte' :
    Gigabyte_chart = go.Line(x=Gigabyte['Date'],y=Gigabyte['Close'])
    Gigabyte_data = [Gigabyte_chart]
    iplot(Gigabyte_data)

elif name=='MSI' :
    MSI_chart = go.Line(x=MSI['Date'],y=MSI['Close'])
    MSI_data = [MSI_chart]
    iplot(MSI_data)
</code></pre>

<p>However, the plots are not showing up when I choose the a value from the dropdown menu. What am i doing wrong? I have used Plotly before to plot the charts but I am new to ipywidgets and so any and all help will be appreciated.</p>

<p>Thanks in advance</p>
",1382,0,<python><ipywidgets>,2019-04-17 16:17:12
55710378,How to mount NFS share to spawned containers in JupyterHub?,"<p>I'm trying to configure JupyterHub server on the DockerSwarm. I can not mount NFS folder straight to the container spawned by JupyterHub service. </p>

<p>I tried to mount it using docker-compose to JupyterHub service and then mount it at locally mounted folder to spawned containers and it works, but now we have a bottle neck at this service because everytime containers need to work with files it go first to JupyterHub service and then to NFS share. I want to make it go right to NFS share from spawned container, but it doesn't seem like an easy job to do.</p>

<p>To mount nfs right to the container I used the next code in jupyterhub_config.py</p>

<pre><code>mounts = [
    {
        'type': 'volume',
        'target': USER_WORKDIR,
        'source': 'jhub-user-{username}',
        'driver_config': {
            'name': 'local',
            'options': {
                'type': 'nfs',
                'o': NFS_IP + ',rw',
                'device': ':/opt/nfs/share'
            }
        }
    }
]

c.SwarmSpawner.extra_container_spec = {'mounts': mounts}
</code></pre>

<p>In that case I can login to the container but the volume for user doesn't creating.</p>

<p>Another way I tried is to put this code to <code>pre_spawn_hook</code> so it looks like this</p>

<pre><code>def pre_spawn_hook(spawner):
    username = spawner.user.name

    mounts = [
        {
            'type': 'volume',
            'target': USER_WORKDIR,
            'source': 'jhub-user-{username}',
            'driver_config': {
                'name': 'local',
                'options': {
                    'type': 'nfs',
                    'o': NFS_IP + ',rw',
                    'device': ':/opt/nfs/share'
                }
            }
        }
    ]

    spawner.extra_container_spec = {'mounts': mounts}

c.SwarmSpawner.pre_spawn_hook = pre_spawn_hook
</code></pre>

<p>In that case it creates for each user on login its own volume but those volumes don't have access to NFS folder for some reason.</p>

<p>Also, just <code>exec</code> to a spawned container and run <code>mount</code> command doesn't work.</p>

<p>Thanks.</p>
",912,3,<python><docker><jupyter-notebook><docker-swarm><jupyterhub>,2019-04-16 14:18:08
55682470,How to display image from API response in Jupyter Notebook?,"<p>I have an Azure Maps API call in a Jupyter Notebook that returns a map tile in .png format. The call works great, but I can't figure out how to display it as an image rather than as binary text. </p>

<p><strong>- API Call:</strong></p>

<pre><code>import requests
from ipywidgets import Image

url = ""https://atlas.microsoft.com/map/static/png""

querystring = {
    ""api-version"":""1.0"",
    ""subscription-key"":""&lt;myRedactedAPIkey&gt;"",
    ""layer"":""basic"",
    ""zoom"":""5"",
    ""center"":""-122.3950336,47.566848"",
    ""height"":""600"",
    ""width"":""600"",
    ""pins"":""default||-121.95066667 45.9135|-121.062 46.707"",
    ""format"":""png"",
    ""path"":""ra300||-122.3950336 47.566848""
}

payload = """"
headers = {
    'cache-control': ""no-cache""
    }

response = requests.request(""GET"", url, data=payload, headers=headers, params=querystring)

print(response.text)
</code></pre>

<p><strong>Results in:</strong></p>

<pre><code>�PNG

IHDRX�f��sRGB���gAMA���a    pHYs���o�d��IDATx^��wt,K~�  �2ÕYqGg4+�iGsVgGg5Z�ќ]IT�Rs9\J䈤4r$r%�a���nv������}��wͻ������{[�By�20U\�6��@T""
��
�A�E��ֵ���|�%۶��O�N�#���dX��F��Y�p����y�l3�T�8;�Y�p�O҉#�վ8���yf����+5.����@0���q���Jތ�k��(�5�О���u���gBl�=�E���@�J����m=f�k&amp;h��^��Z��Ms��̊\�J���if��C��:2_ &lt;etc.&gt;
</code></pre>

<p><strong>Want:</strong> </p>

<p><a href=""https://i.stack.imgur.com/oTG0w.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/oTG0w.png"" alt=""enter image description here""></a></p>

<p>Any advice? Thank you.</p>

<p><strong>EDIT2:</strong> Here is the query that works. Thanks for your assistance everyone.</p>

<pre><code>import requests
from IPython.display import Image, display

url = ""https://atlas.microsoft.com/map/static/png""
payload = """"
querystring = {
        ""api-version"":""1.0"",
        ""subscription-key"":""&lt;myApiKeyRedacted&gt;"",
        ""format"":""png"",
        ""layer"":""basic"",
        ""zoom"":""5"",
        ""center"":""-122.3950336,47.566848"",
        ""height"":""600"",
        ""width"":""600"",
        ""pins"":""default||-121.95066667 45.9135|-121.062 46.707"",
        ""path"":""ra300000||-122.3950336 47.566848""
    }
headers = {
    'cache-control': ""no-cache""
    }

r = requests.get(url,data=payload, headers=headers, params=querystring, stream=all)

display(Image(r.content))
</code></pre>
",2722,1,<image><jupyter-notebook><png><ipywidgets><azure-maps>,2019-04-15 04:06:05
55675739,How to install R-magic in jupyter-notebook?,"<p>I created a new environment in jupyter called ""rpy2"" and try to use <code>%%R</code> magic but the installation is failed.</p>

<p>QN: How to use %%R magic in jupyter-notebook ?</p>

<p>Platform: MacOS High Sierra</p>

<p><strong>Steps</strong></p>

<pre><code>jupyter kernelspec list
conda create -n rpy2 python=3.7
source activate rpy2
which pip
/Users/poudel/miniconda3/envs/rpy2/bin/pip install rpy2
conda install ipykernel
python -m ipykernel install --user --name rpy2 --display-name ""Py37rpy2""
jupyter-notebook
</code></pre>

<p><strong>Issues</strong></p>

<pre><code># Now 
import rpy2 shows no error
import rpy2.rinterface  # gives error
</code></pre>

<p><strong>Note</strong></p>

<pre><code># I have checked all the files given in error log, all of them exist
  492  ls /Users/poudel/miniconda3/lib/R/lib/libR.dylib
  493  ls /usr/lib/libiconv.2.dylib
  494  ls /Users/poudel/miniconda3/lib/R/lib/libR.dylib
  495  /Users/poudel/miniconda3/lib/R/lib/libR.dylib
  496  ls /Users/poudel/miniconda3/lib/R/lib/libR.dylib

All shows given file, and none is missing.
</code></pre>

<p><strong>Error</strong></p>

<p>OSError: cannot load library '/Users/poudel/miniconda3/lib/R/lib/libR.dylib': dlopen(/Users/poudel/miniconda3/lib/R/lib/libR.dylib, 2): Symbol not found: _libiconv
      Referenced from: /Users/poudel/miniconda3/lib/R/lib/libR.dylib
      Expected in: /usr/lib/libiconv.2.dylib
     in /Users/poudel/miniconda3/lib/R/lib/libR.dylib</p>

<p><strong>Update</strong>
As suggested by @akrun, I tried using <code>pyper</code> but it takes infinite time to load a libary and when stopped shows that it has broken pipe.</p>

<p><code>pip install pyper</code>.</p>

<p><a href=""https://i.stack.imgur.com/klFPe.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/klFPe.png"" alt=""enter image description here""></a></p>
",872,0,<r><jupyter-notebook><jupyter-irkernel>,2019-04-14 13:20:31
55603908,How to create dependent dropdowns using Jupyter Widgets to get data from dict?,"<p>I am trying to assign two variables with values using Jupyter Dropdowns where the first dropdown is a data center, and the second is a site available within this data center so that I can use these variables further in the code.</p>

<p>I tried multiple examples from different articles, but I cannot find what I am missing. </p>

<p>I have the following Dict:</p>

<pre><code>data_center_environments = {
    'US': {
        'data_center': 'us..com',
        'api_keys': {
            'sandbox' : '3_EV',
            'dev_parent' : '3_hK',
            'stage' :'3_GE',
            'prod' : '3_NL',
        }
    },
    'RU': {
        'data_center': 'ru..com',
        'api_keys': {
            'stage_parent' : '3_sN',
            'prod_parent' : '3_R9',
        }
    },
    'CN': {
        'data_center': 'cn..cn',
        'api_keys': {
            'stage_parent' : '3_3k',
            'prod_parent' : '3_MH',
        }
    },
    'EU': {
        'data_center': 'eu..com',
        'api_keys': {
            'sandbox' : '3_7h',
        }
    },
}
</code></pre>

<p>I created two functions to get datacenter and site:</p>

<pre><code>def get_dc(dc_select=None):
    dc = data_center_environments.get(dc_select)['data_center']
    return dc

def get_site_api_key(dc_select=None, site_select=None):
    site_api_key = data_center_environments[dc_select]['api_keys'][site_select]
    return site_api_key
</code></pre>

<p>Here I describe two dropdowns:</p>

<pre><code>dc_s = widgets.Dropdown(
    options = data_center_environments.keys(),
    description = 'Data Center:',
    disabled = False,
)

site_s = widgets.Dropdown(
    options=list(data_center_environments[dc_s.value]['api_keys']),
    description = 'API Key:',
    disabled = False,
)


def on_value_change(change):
    dc = change.new
    site_s.options = data_center_environments[dc_s.value]['api_keys']

dc_s.observe(on_value_change, 'value')
</code></pre>

<p>This is how I invoke them on a Jupyter Notebook page:</p>

<pre><code>domain = interactive(get_dc, dc_select = dc_s)
site = interactive(get_site_api_key, dc_select = dc_s, site_select = site_s)
display(domain)
display(site)
</code></pre>

<p>Issues:
0. I have 3 dropdowns instead of two
1. I am getting an exception when I change datacenter value
2. When I am trying to print ""domain"", ""domain.value"" I am getting ""None"" as an output</p>

<p>What I am trying to achieve:
In: 
domain = 
site = 
print(domain, site)</p>

<p>Out: 
Select Datacenter [Drop Down: 'US', 'CN', 'RU', etc] -> pick 'US'
Select Site [Dropdown 'US': 'prod', 'stage', 'dev_parent', 'sandbox'] -> select 'prod'</p>

<p>'us..com' , '3_NL'</p>

<p>What am I doing wrong? How to change my code to make it work?
Thank you!</p>
",2935,4,<python><python-3.x><jupyter-notebook><ipywidgets>,2019-04-10 02:32:22
55503830,Non-blocking cell execution in Jupyter,"<p>In Jupyter with an ipython kernel, is there a canonical way to execute cells in a non-blocking fashion?</p>

<p>Ideally I'd like to be able to run a cell</p>

<pre><code>%%background
time.sleep(10)
print(""hello"")
</code></pre>

<p>such that I can start editing and running the next cells and in 10 seconds see ""hello"" appear in the output of the original cell.</p>

<hr>

<p>I have tried two approaches, but haven't been happy with either. </p>

<p>(1) Create a thread by hand:</p>

<pre><code>def foo():
    time.sleep(10)
    print(""hello"")
threading.Thread(target=foo).start()
</code></pre>

<p>The problem with this is that ""hello"" is printed in whatever cell is active in 10 seconds, not necessarily in the cell where the thread was started.</p>

<p>(2) Use a <code>ipywidget.Output</code> widget. </p>

<pre><code>def foo(out):
    time.sleep(10)
    out.append_stdout(""hello"")
out = ipywidgets.Output()
display(out)
threading.Thread(target=foo,args=(out,)).start()
</code></pre>

<p>This works, but there are problems when I want to update the output (think of monitoring something like memory consumption):</p>

<pre><code>def foo(out):
    while True:
        time.sleep(1)
        out.clear_output()
        out.append_stdout(str(datetime.datetime.now()))
out = ipywidgets.Output()
display(out)
threading.Thread(target=foo,args=(out,)).start()
</code></pre>

<p>The output now constantly switches between 0 and 1 lines in size, which results in flickering of the entire notebook.</p>

<p>This should be solvable <code>wait=True</code> in the call to <code>clear_output</code>. Alas, for me it results in the output never showing anything. </p>

<p>I could have asked about that issue, which seems to be a bug, specifically, but I wondered whether there is maybe another solution that doesn't require me doing all of this by hand. </p>
",1308,4,<jupyter-notebook><ipython><ipywidgets>,2019-04-03 20:34:02
55440894,"Command ""python setup.py egg_info"" failed with error code 1 in /tmp/pip-install-EC5FHz/tornado/","<p>I am trying to install ipywidgets  from here [<a href=""https://pypi.org/project/ipywidgets/]"" rel=""nofollow noreferrer"">https://pypi.org/project/ipywidgets/]</a> but output:</p>

<pre><code>Cannot uninstall 'ipython'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.
</code></pre>

<p>I get some solution here [<a href=""https://stackoverflow.com/questions/50421287/pip-cannot-uninstall-ipython-it-is-a-distutils-installed-project-and-thus-w]"">PIP: &quot;Cannot uninstall &#39;ipython&#39;. It is a distutils installed project and thus we cannot accurately determine...&quot;</a>
I used:</p>

<pre><code>sudo pip install ipywidgets --ignore-installed -U ipython
</code></pre>

<p>unfortunately, I got another issue:</p>

<pre><code>Command ""python setup.py egg_info"" failed with error code 1 in /tmp/pip-install-J1GUY8/tornado/
</code></pre>

<p>I tried to fix it from here [<a href=""https://stackoverflow.com/questions/51000512/import-error-tornado-requires-an-updated-ssl-module-on-ubuntu-14-04]"">Import Error - Tornado requires an updated SSL module on ubuntu 14.04</a>, but I can't</p>

<p>please help me or any suggestion </p>

<p>thank you in advance</p>
",1703,2,<python-2.7><ubuntu-14.04><ipywidgets>,2019-03-31 12:27:36
55420017,List only all subdir´s with png´s inside in python with os.walk,"<p>i need some tips and help with my problem.
I want so make a dropdown menu in jupyter notebooks over a directory. Inside this directory are dir´s with png´s, and some dir´s with subdir´s with png´s. Now i wanna get a list of all dir´s with png´s inside. But not the dir´s with dir´s inside. ATM i get every dir, but thats wrong cause i just can use dir´s with png´s inside. Thats my code atm:</p>

<pre><code>dir_path = 'Learning set/Calanus hyp/Chyp 1/'
path = 'Learning set/'   

for root, dirs, files in os.walk(path):
    for name in dirs:
        if ([os.path.isfile(os.path.join(path, f)) for f in os.listdir(path)]) == True:
            namelist += [os.path.join(root,name)]

def get_and_plot(b):
    clear_output()
    global dir_path
    dir_path_new=test.value+""/""
    dir_path=dir_path_new
    global counter
    counter=0
    execute()

test.observe(get_and_plot, names='value')
</code></pre>

<p>As an example:
I have the directory ""Learing Set"" and wanna get a dropdown. But the dropdown menu shows me the dir´s Bubble, Bubble1, Bubble2 etc. The dir´s BubbleX have pngs inside. Thats correct. But the Bubble dir just implements the other BubbleX dir´s. What can i do, to get a list of all last subdir´s?</p>
",262,1,<python><jupyter-notebook><directory-structure><os.walk><ipywidgets>,2019-03-29 14:49:21
55402083,custom widgets using ipywidgets in jupyter notebook,"<p>I am using ipywidgets for creating a forms in jupyter notebooks which takes input from users and stores in database. While creating this forms I don't have all required widgets in ipywidgets so thought of creating a custom widgets and I am going through tutorial when I am trying this block of code but encountering an error. Don't know what's going wrong. Thanks in advance.</p>

<p>I am following this link :
<a href=""https://ipywidgets.readthedocs.io/en/stable/examples/Widget%20Custom.html"" rel=""nofollow noreferrer"">https://ipywidgets.readthedocs.io/en/stable/examples/Widget%20Custom.html</a></p>

<pre><code>import ipywidgets as widgets
from traitlets import Unicode, validate
</code></pre>

<pre><code>class HelloWidget(widgets.DOMWidget):
    _view_name = Unicode('HelloView').tag(sync=True)
    _view_module = Unicode('hello').tag(sync=True)
    _view_module_version = Unicode('0.1.0').tag(sync=True)
</code></pre>

<pre><code>%%javascript

require.undef('hello');

define('hello', [""@jupyter-widgets/base""], function(widgets) {

    var HelloView = widgets.DOMWidgetView.extend({

        // Render the view.
        render: function() {
            this.el.textContent = 'Hello World!';
        },
    });

    return {
        HelloView: HelloView
    };
});
</code></pre>

<p>Those three are three different cells When I run the third cell the error encountered is</p>

<p><code>Javascript Error: require is not defined</code></p>
",344,2,<python><jupyter-notebook><jupyter><ipywidgets>,2019-03-28 16:02:03
55396365,Convert a list to dataframe in python jupyter notebook,"<p>I have a lists name 'val' which is below:</p>

<pre><code>[       x  y
0      0.0 A
1      1.0 B
2      2.0 C
3      3.0 D
4      4.0 E
5      5.0 F]
</code></pre>

<p>I need to convert this to a pandas dataframe where i'm failing.</p>

<p>the code i used is:</p>

<p>df = pd.DataFrame(val)</p>

<p>The output which i'm getting is:</p>

<pre><code>0
x y 0.0 A 1.0 B 2.0 C 3.0 D 4.0 E 5.0 F
</code></pre>

<p>The Expected output:</p>

<pre><code> x   y
0.0  A
1.0  B
2.0  C
3.0  D
4.0  E
5.0  F
</code></pre>

<p>Can someone help me in resolving this issue?</p>
",848,1,<python-3.x><pandas><jupyter-notebook><jupyterhub>,2019-03-28 11:22:38
55353422,How to access individual style of ToggleButtons?,"<p>I'm trying to temporarily change the color of a button in a ipywidgets.ToggleButtons' list, but I can't access the individual elements in a ToggleButtons' instance.</p>

<p>Hence I'm missing a <code>def get_child_of()</code> kind of function</p>

<pre class=""lang-py prettyprint-override""><code>from IPython.display import display
import ipywidgets as widgets


# Create ToggleButtons
class_buttons = widgets.ToggleButtons(
    options=['blender', 'boiling-water', 'book'],
    description='Classes:')

# Create clickable Button
next_button = widgets.Button(
    description='Next')

@next_button.on_click
def next_audio(b):    
    # TODO: Somehow get the desired child
    child = get_child_of(class_buttons, 'blender')
    child.style.button_color = 'lightgreen'

# Create VBox
tab = widgets.VBox(children=[class_buttons,
                     next_button])

# Display everything
display(tab)
</code></pre>
",756,4,<python><jupyter-notebook><ipywidgets>,2019-03-26 09:14:08
55336771,Align ipywidget button to center,"<p>I´m looking to align to the center a button object from the ipywidget function. Here´s a sample of the code I´m using</p>

<pre><code>bt = widgets.Button(layout=Layout(width='180px'),style = 
    {'description_width': '25%'})
b_config_save = widgets.Button(
    description=""Save"",
    layout=bt.layout,
    style=bt.style,
    button_style='primary'
)
</code></pre>
",5694,3,<python><ipywidgets>,2019-03-25 11:27:17
55305925,Custom formatting for ipywidgets IntSlider,"<p>I'm working on an interactive graph. One of the options is to select the number of rooms for a house. Right now, if you input any number above 5 in the <code>n_rooms</code> argument, the graph will always show data for houses that have 5 or more rooms. So I constructed this</p>

<pre><code>n_rooms = widgets.IntSlider(
    min=1,
    max=5,
    description='number of rooms:',
    layout=Layout(width='30%'),
    style=style,
    disabled=False)
</code></pre>

<p>The thing is, this will show a slider that goes from 1 to 5. The only thing I want to change is that instead of showing '5', it shows '5 or more'. Is there any way to do this?
Thanks</p>
",836,0,<python><jupyter-notebook><ipywidgets>,2019-03-22 18:38:02
55274960,JupyterHub does not connect to its public port,"<p>JupyterHub not working on public port 8000. It only works on port 8081.
Everywhere I read, everyone got their issues magically solved without any solutions.</p>

<p><a href=""https://github.com/jupyterhub/jupyterhub/issues/742"" rel=""nofollow noreferrer"">https://github.com/jupyterhub/jupyterhub/issues/742</a></p>

<pre><code>jupyterhub_config.py

from oauthenticator.gitlab import GitLabOAuthenticator
c.JupyterHub.authenticator_class = GitLabOAuthenticator
c.GitLabOAuthenticator.oauth_callback_url = 'http://localhost:8000/hub/oauth_callback'
c.GitLabOAuthenticator.client_id =  '...'
c.GitLabOAuthenticator.client_secret = '...'
c.ConfigurableHTTPProxy.debug = True
c.JupyterHub.hub_ip = '127.0.0.1'
c.JupyterHub.hub_port = 8081
c.JupyterHub.ip = '127.0.0.1'
c.JupyterHub.port = 8000
c.JupyterHub.spawner_class = 'simplespawner.SimpleLocalProcessSpawner'
c.JupyterHub.ssl_cert = '/srv/jupyterhub/jupyterhub.crt'
c.JupyterHub.ssl_key = '/srv/jupyterhub/jupyterhub.key'
</code></pre>

<p>Using GitLab as the authenticator and simplespawner as the spawner. Not using Docker.</p>

<p>JupyterHub -V 0.9.4</p>

<p>Configurable-HTTP-Proxy -V 4.0.1</p>

<p>Running Ubuntu 18.04 on VirtualBox.</p>
",275,0,<python><proxy><jupyterhub>,2019-03-21 06:34:34
55267122,How to use widgets.Datetime() from ipywidgets in jupyter Notebook,"<pre><code>import ipywidgets as widgets
widgets.Datetime()
</code></pre>

<p>When i run above code in Jupyter Notebook i get 
output as <code>&lt;ipywidgets.widgets.trait_types.Datetime at 0x7f7b86459e48&gt;</code></p>

<p>What is the correct way of using <code>widgets.Datetime()
</code></p>
",2459,1,<python><jupyter-notebook><ipywidgets>,2019-03-20 17:44:27
55252254,No such file or directory: .../part.0.parquet,"<p>After uploading a parquet file to my kubernetes cluster for processing with Dask, I get a FileNotFoundError when trying to read </p>

<pre class=""lang-py prettyprint-override""><code>df=dd.read_parquet('home/jovyan/foo.parquet')
df.head()
</code></pre>

<p>Here is the full error:</p>

<pre class=""lang-py prettyprint-override""><code>FileNotFoundError: [Errno 2] No such file or directory: '/home/jovyan/user_engagement_anon.parquet/part.0.parquet'
</code></pre>

<p>I can see that the file does indeed exist, and relative to the working directory of my jupyter notebook instance, it's in the expected location.</p>

<p>I'm not sure if it matters, but to start the dask client on my kubernetes cluster, I used the following code:</p>

<pre class=""lang-py prettyprint-override""><code>from dask.distributed import Client, progress

client=Client('dask-scheduler:8786', processes=False, threads_per_worker=4, n_workers=1, memory_limit='1GB')
client
</code></pre>

<p>Furthermore, the same operation works fine on my local machine with the same parquet file</p>
",881,1,<python><kubernetes><dask><jupyterhub>,2019-03-20 01:22:40
55244865,"Pause Jupyter Notebook widgets, waiting for user input","<p>I have the same issue as TheInterestedOne asked <a href=""https://stackoverflow.com/questions/54629964/how-to-pause-jupyter-notebook-widgets-waiting-for-user-input"">here</a>. </p>

<p>I need to create two buttons for the user, and suggest that the user clicks one of the two buttons in the loop; so that the next iteration of the loop occurs only after the user's choice. </p>

<p>I read <a href=""https://ipywidgets.readthedocs.io/en/stable/examples/Widget%20Asynchronous.html"" rel=""noreferrer"">this source</a>, but I can't make it work for buttons. I don't understand, how the widget attribute changes in the case of using buttons.</p>

<pre><code>from functools import wraps
def yield_for_change(widget, attribute):
    def f(iterator):
        @wraps(iterator)
        def inner():
            i = iterator()
            def next_i(change):
                try:
                    i.send(change.new)
                except StopIteration as e:
                    widget.unobserve(next_i, attribute)
            widget.observe(next_i, attribute) //**button.on_click(on_button_clicked) 
                                                                may be?**
            # start the generator
            next(i)
        return inner
    return f


from ipywidgets import Button
button=Button()


def on_button_clicked():
    print(""Button clicked."")


@yield_for_change(button, 'value')
def f():
    for i in range(10):
        print('did work %s'%i)
        x = yield
        button.on_click(on_button_clicked)
</code></pre>
",8833,7,<python><button><widget><jupyter-notebook><ipywidgets>,2019-03-19 15:42:54
55233830,Add modules to Jupyterhub,"<p>I would like to make use some of my own python modules in a notebook that's sitting on a remote jupyterhub server.</p>

<p>How can I go about uploading the module onto the remote server? And if necessary, configure the import scope?</p>

<p>EDIT:
For some more clarity:
I would like to have my packages to be uploaded and stored in a user environment, eg: '/usr/local/lib/python3.6/my-packages/'
and access them via imports in the notebook.</p>
",129,0,<python><jupyterhub>,2019-03-19 04:48:24
55232179,tweak layout for jupyter widget output,"<p>The code below enables a user to interactively display successive plots.</p>

<p>I wish to hide the title ""Figure 1"" and its gray box from this figure.
I read <a href=""https://ipywidgets.readthedocs.io/en/stable/examples/Widget%20Styling.html"" rel=""nofollow noreferrer"">this guide</a> but doesn't find the answer.</p>

<p><a href=""https://i.stack.imgur.com/4SIHu.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/4SIHu.jpg"" alt=""enter image description here""></a></p>

<pre><code>import ipywidgets as widgets
from IPython.display import display, clear_output
from traitlets import CInt, link

class Counter(widgets.DOMWidget):
    value = CInt(0, sync=True)


counter = Counter()
def button_plus(name):
    if counter.value != passage_list[-1]  :
        counter.value = passage_list[passage_list.index(counter.value)+1] 
    else :
        print(""last passage from the list"")

def button_minus(name):
    if passage_list.index(counter.value) != 0  :
        counter.value = passage_list[passage_list.index(counter.value)+1] 
    else : 
        print(""first passage from the list"")


# 1 step forward button
wplus = widgets.Button(description='&gt; Next passage')

# 1 step backward button
wminus = widgets.Button(description='Previous passage &lt;')

# dropdown widget with passages timestamp
wpick = widgets.Dropdown(
    options=passage_list,
    value=passage_list[0],
    description='Passage:',
    disabled=False,
)
wplus.on_click(button_plus)
wminus.on_click(button_minus)

link((wpick, 'value'), (counter, 'value'));

#display(wminus, wpick,wplus)
ui = widgets.HBox([wminus, wpick,wplus])

out = widgets.interactive_output(plot2_passage, {'passage': wpick})

display(ui, out)
</code></pre>
",290,0,<jupyter-notebook><ipywidgets>,2019-03-19 00:56:12
55217325,How to setup JupyterHub with Django?,"<p>I'm trying to build a Django web application that will have Jupyter notebook through the JupyterHub server embedded within the app, where users could login via the app and can access the notebook once they are in. I'm trying to use OAuth2 where JupyterHub verifies the authenticated users that Django provides.</p>

<p>I am using <code>django-oauth-toolkit</code> for the authentication service and linking it using <code>DjangoOAuthentication</code>.</p>

<p>I have the <code>DjangoOAuthenticator.oauth_callback_url</code> linked to '<a href=""http://localhost:8081/hub/oauth_callback"" rel=""nofollow noreferrer"">http://localhost:8081/hub/oauth_callback</a>'</p>

<p>I have the Redirect URIs (on Django) linked to '<a href=""http://localhost:8081/hub/oauth_callback"" rel=""nofollow noreferrer"">http://localhost:8081/hub/oauth_callback</a>'</p>

<p>I get:</p>

<blockquote>
  <p><strong>404 : Not Found</strong> Jupyter has lots of moons, but this is not one...</p>
</blockquote>

<pre><code>[I 2019-03-18 16:28:54.195 JupyterHub oauth2:82] OAuth redirect: 'http://localhost:8081/hub/oauth_callback'
[I 2019-03-18 16:28:54.198 JupyterHub log:158] 302 GET /hub/oauth_login?next= -&gt; localhost/oauth2/authorize?client_id=zkn2mFYhhNcs3bDTnwIWK0mDuLBdLAe2eMENE5Xa&amp;response_type=code&amp;state=[secret]&amp;redirect_uri=http%3A%2F%2Flocalhost%3A8081%2Fhub%2Foauth_callback (@127.0.0.1) 3.94ms
[W 2019-03-18 16:28:54.230 JupyterHub log:158] 404 GET /hub/localhost/oauth2/authorize?client_id=zkn2mFYhhNcs3bDTnwIWK0mDuLBdLAe2eMENE5Xa&amp;response_type=code&amp;state=[secret]&amp;redirect_uri=http%3A%2F%2Flocalhost%3A8081%2Fhub%2Foauth_callback (@127.0.0.1) 17.81ms
</code></pre>

<p>The URL it goes to:</p>

<pre><code>http://localhost:8081/hub/localhost/oauth2/authorize?client_id=zkn2mFYhhNcs3bDTnwIWK0mDuLBdLAe2eMENE5Xa&amp;response_type=code&amp;state=eyJzdGF0ZV9pZCI6ICJlZTA0MmRiYmU4YTY0ZmIxYTk0ODU0MjFiMzhhMWYwOCIsICJuZXh0X3VybCI6ICIifQ%3D%3D&amp;redirect_uri=http%3A%2F%2Flocalhost%3A8081%2Fhub%2Foauth_callback
</code></pre>

<p>I believe I have either the <code>oauth_callback_url</code> or the <code>redirect_uri</code> on Django  wrong.</p>

<p>Note: <em>My question is not a duplicate of <a href=""https://stackoverflow.com/questions/48175325/use-django-oauth2-provider-with-jupyterhub"">Use Django OAuth2 provider with JupyterHub</a>. We have different errors.</em></p>
",567,1,<python><django><oauth-2.0><jupyterhub>,2019-03-18 08:34:05
55171412,Is it possible to use iPython widgets in Flask?,"<p>I've been using iPython widgets in a Jupyter notebook, but the extension I was depending on to enable App Mode is not working, so I've decided to try to rewrite it all to Python/Flask, but I have no idea how, or if it's at all possible, to use iPython widgets in Flask views (especially interactive)?</p>

<pre><code>import ipywidgets as widgets

items_layout = widgets.Layout(flex='1 1 auto',
                      width='400px', height='200px')

box_layout = widgets.Layout(display='flex',
                    flex_flow='row',
                    align_items='stretch',
                    width='100%')

instruction = widgets.Textarea(description=""Command"",
                               value = """",
                               layout = items_layout)

code = widgets.Textarea(description=""Code"",  
                        value = """",
                        layout = items_layout)

interactive_plot = widgets.interactive(run_code, trigger = instruction)

items = [interactive_plot, code]
box = widgets.Box(children=items, layout=box_layout)
display(box)
</code></pre>
",1470,0,<python><flask><ipython><ipywidgets>,2019-03-14 20:26:20
55166431,Unable to start server after Jupyterhub upgrade to 0.8.1,"<p>I have recently upgraded jupyterhub from 0.7 to 0.8.1. After upgrade, i have upgraded the sqllite database as well as mentioned in the upgrade documents. I'm able to start the jupyterhub service but after login, i'm unable to start the server with below error. My server is AD integrated for login. This was working perfectly before upgrade. Any idea how this can be resolved?</p>

<pre><code>[I 2019-03-14 15:21:57.698 JupyterHub base:346] User logged in: test
[E 2019-03-14 15:21:57.746 JupyterHub user:427] Unhandled error starting test's server: 'getpwnam(): name not found: test'
[E 2019-03-14 15:21:57.755 JupyterHub web:1590] Uncaught exception POST /hub/login?next= (192.168.0.24)
    HTTPServerRequest(protocol='https', host='jupyter2.testing.com', method='POST', uri='/hub/login?next=', version='HTTP/1.1', remote_ip='192.168.0.24', headers={'Content-Type': 'application/x-www-form-urlencoded', 'Accept-Language': 'en-GB,en-US;q=0.9,en;q=0.8', 'Cookie': '_xsrf=2|e7c2dfb6|2e7d6377e8446061ff8be0e64f86210f|1551259887', 'Upgrade-Insecure-Requests': '1', 'Host': 'jupyter2.testing.com', 'X-Forwarded-Proto': 'https', 'Origin': 'https://jupyter2.testing.com', 'X-Real-Ip': '192.168.0.24', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8', 'Accept-Encoding': 'gzip, deflate, br', 'Content-Length': '42', 'Cache-Control': 'max-age=0', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.80 Safari/537.36', 'X-Forwarded-Port': '443', 'Referer': 'https://jupyter2.testing.com/hub/login', 'X-Forwarded-Host': 'jupyter2.testing.com', 'X-Forwarded-For': '192.168.0.24,127.0.0.1', 'Connection': 'close', 'X-Nginx-Proxy': 'true'})
    Traceback (most recent call last):
      File ""/usr/local/python3/lib/python3.4/site-packages/tornado/web.py"", line 1511, in _execute
        result = yield result
      File ""/usr/local/python3/lib/python3.4/site-packages/jupyterhub/handlers/login.py"", line 94, in post
        yield self.spawn_single_user(user)
      File ""/usr/local/python3/lib/python3.4/site-packages/jupyterhub/handlers/base.py"", line 475, in spawn_single_user
        yield gen.with_timeout(timedelta(seconds=self.slow_spawn_timeout), finish_spawn_future)
      File ""/usr/local/python3/lib/python3.4/site-packages/jupyterhub/handlers/base.py"", line 445, in finish_user_spawn
        yield spawn_future
      File ""/usr/local/python3/lib/python3.4/site-packages/jupyterhub/user.py"", line 439, in spawn
        raise e
      File ""/usr/local/python3/lib/python3.4/site-packages/jupyterhub/user.py"", line 378, in spawn
        ip_port = yield gen.with_timeout(timedelta(seconds=spawner.start_timeout), f)
      File ""/usr/local/python3/lib/python3.4/site-packages/jupyterhub/spawner.py"", line 968, in start
        env = self.get_env()
      File ""/usr/local/python3/lib/python3.4/site-packages/jupyterhub/spawner.py"", line 960, in get_env
        env = self.user_env(env)
      File ""/usr/local/python3/lib/python3.4/site-packages/jupyterhub/spawner.py"", line 947, in user_env
        home = pwd.getpwnam(self.user.name).pw_dir
    KeyError: 'getpwnam(): name not found: test'

[E 2019-03-14 15:21:57.756 JupyterHub log:114] {
      ""Content-Type"": ""application/x-www-form-urlencoded"",
      ""Accept-Language"": ""en-GB,en-US;q=0.9,en;q=0.8"",
      ""Cookie"": ""_xsrf=2|e7c2dfb6|2e7d6377e8446061ff8be0e64f86210f|1551259887"",
      ""Upgrade-Insecure-Requests"": ""1"",
      ""Host"": ""jupyter2.testing.com"",
      ""X-Forwarded-Proto"": ""https"",
      ""Origin"": ""https://jupyter2.testing.com"",
      ""X-Real-Ip"": ""192.168.0.24"",
      ""Accept"": ""text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8"",
      ""Accept-Encoding"": ""gzip, deflate, br"",
      ""Content-Length"": ""42"",
      ""Cache-Control"": ""max-age=0"",
      ""User-Agent"": ""Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.80 Safari/537.36"",
      ""X-Forwarded-Port"": ""443"",
      ""Referer"": ""https://jupyter2.testing.com/hub/login"",
      ""X-Forwarded-Host"": ""jupyter2.testing.com"",
      ""X-Forwarded-For"": ""192.168.0.24,127.0.0.1"",
      ""Connection"": ""close"",
      ""X-Nginx-Proxy"": ""true""
    }
[E 2019-03-14 15:21:57.757 JupyterHub log:122] 500 POST /hub/login?next= (@192.168.0.24) 199.65ms
</code></pre>
",199,0,<jupyter-notebook><python-3.4><rhel6><jupyterhub><getpwnam>,2019-03-14 15:31:26
55135327,Trying to Implement Jupyterhub on Kubernetes,"<p>I am trying to implement Jupyterhub on a set of 8 unclustered completely identical computers in my school. My instructions were first to cluster the 8 systems (all running Ubuntu 18.04 LTS) and to implement Jupyterhub on that cluster.</p>

<p>After searching the net, these are the instructions that I followed-</p>

<ol>
<li>Installed docker on both systems using this <a href=""https://docs.docker.com/install/linux/docker-ce/ubuntu/"" rel=""nofollow noreferrer"">instructions</a> </li>
<li>(Tried) Implemented a Kubernetes cluster using this <a href=""https://kubernetes.io/docs/setup/independent/install-kubeadm/"" rel=""nofollow noreferrer"">instructions</a>  and <a href=""https://kubernetes.io/docs/setup/independent/create-cluster-kubeadm/"" rel=""nofollow noreferrer"">this</a></li>
<li>Implement Jupyterhub using zero-to-jupyterhub <a href=""https://zero-to-jupyterhub.readthedocs.io/en/latest/"" rel=""nofollow noreferrer"">instructions</a> </li>
</ol>

<p>Using the instructions I managed to do steps 1 and 2 already. But after installing helm using the instructions of zero-to-jupyterhub, I came across the error when doing step 2 of Installing Jupyterhub section in this <a href=""https://zero-to-jupyterhub.readthedocs.io/en/latest/setup-jupyterhub.html"" rel=""nofollow noreferrer"">webpage</a>.</p>

<p>My exact error is:</p>

<pre><code>Error: Get https://10.96.0.1:443/api/v1/namespaces/kube-system/configmaps?labelSelector=NAME%D(MISSING)jhub%!(MISSING)OWNER%D(MISSING)TILLER%!D(MISSING)DEPLOYED: dial tcp 10.96.0.1:443: i/o timeout
Error: UPGRADE FAILED : Get https://10.96.0.1:443/api/v1/namespaces/kube-system/configmaps?labelSelector=NAME%D(MISSING)jhub%!(MISSING)OWNER%D(MISSING)TILLER%!D(MISSING)DEPLOYED: dial tcp 10.96.0.1:443: i/o timeout
</code></pre>

<p>then when I view the link I get this: [<a href=""https://10.96.0.1:443/api/v1/namespaces/...]"" rel=""nofollow noreferrer"">https://10.96.0.1:443/api/v1/namespaces/...]</a></p>

<pre><code>{
  ""kind"": ""Status"",
  ""apiVersion"": ""v1"",
  ""metadata"": {

  },
  ""status"": ""Failure"",
  ""message"": ""configmaps is forbidden: User \""system:anonymous\"" cannot list resource \""configmaps\"" in API group \""\"" in the namespace \""kube-system\"""",
  ""reason"": ""Forbidden"",
  ""details"": {
    ""kind"": ""configmaps""
  },
  ""code"": 403
}
</code></pre>

<p>Has anyone encountered this problem? What did you do?
Thank you for anyone that would answer...</p>

<p>Also, feel free to tell me I'm wrong in the implementation as I am open to new Ideas. If you have any better way to this please leave instructions on how to implement it. Thank you very much.</p>
",561,0,<docker><kubernetes><jupyterhub><kubernetes-helm>,2019-03-13 05:58:34
55098343,"Spark/k8s: How do I install Spark 2.4 on an existing kubernetes cluster, in client mode?","<p>I want to install Apache Spark <strong>v2.4</strong> on my Kubernetes cluster, but there does not seem to be a stable helm chart for this version. An older/stable chart (for v1.5.1) exists at</p>

<p><a href=""https://github.com/helm/charts/tree/master/stable/spark"" rel=""nofollow noreferrer"">https://github.com/helm/charts/tree/master/stable/spark</a></p>

<p>How can I create/find a v2.4 chart?</p>

<p>Then: The reason for needing v2.4 is to enable client-mode, because I would like to be able to submit (PySpark/Jupyter notebook) jobs to the cluster from my laptop's dev environment. What extra steps are required to enable client-mode (including exposing the service)?</p>

<p>The closest attempt so far (but for Spark v2.0.0) that I have found, but which I haven't yet got working, is at</p>

<p><a href=""https://github.com/Uninett/kubernetes-apps/tree/master/spark"" rel=""nofollow noreferrer"">https://github.com/Uninett/kubernetes-apps/tree/master/spark</a></p>

<p>At <a href=""https://github.com/phatak-dev/kubernetes-spark"" rel=""nofollow noreferrer"">https://github.com/phatak-dev/kubernetes-spark</a> (also two years old), there is nothing about jupyter deployment.</p>

<p>Pangeo-specific: <a href=""https://discourse.jupyter.org/t/spark-integration-documentation/243"" rel=""nofollow noreferrer"">https://discourse.jupyter.org/t/spark-integration-documentation/243</a></p>

<p>SO thread: <a href=""https://github.com/jupyterhub/zero-to-jupyterhub-k8s/issues/1030"" rel=""nofollow noreferrer"">https://github.com/jupyterhub/zero-to-jupyterhub-k8s/issues/1030</a></p>

<p>I have searched for up-to-date resources on this but have found nothing that has everything in one place. I will update this question with other relevant links if and when people are able to point them out to me. Hopefully it will be possible to cobble together an answer.</p>

<p>As ever, huge thanks in advance.</p>

<p><strong>Update:</strong></p>

<p><a href=""https://github.com/SnappyDataInc/spark-on-k8s"" rel=""nofollow noreferrer"">https://github.com/SnappyDataInc/spark-on-k8s</a> for v2.2 is <em>extremely</em> easy to deploy - looks promising...</p>
",698,2,<apache-spark><kubernetes><pyspark><jupyter><jupyterhub>,2019-03-11 09:03:43
55060753,How do I set a default umask in JupyterHub,"<p>How do I set a default umask (other than the standard 0022) for individual notebooks/users in JupyterHub?</p>

<hr>

<p>Use case: I'm using the <code>SystemUserSpawner</code>, which spawns a Docker container for a user, but hooked into the underlying (virtual machine) system users: their notebook home directory matches that of the underlying OS. I've added a small option so that not just users, but also groups match.</p>

<p>I've  mounted the base home directory (<code>/home/</code> usually) to a separate <code>_users</code> folder in the notebook (read-only), so that users can browse each other's home directories for sharing scripts. By default, however, I'd like to have the permissions by group, not world-readable (obviously, users can change that if they'd like), so that different groups can read &amp; share within their group, but not automatically with everyone.</p>

<p>Using an <code>umask</code> setting of 0027 seems to be practical for this, but I can't seem to set it (systemwide): none of the standard OS practices (OS of the Docker container, Ubuntu 18.04) appear to work.</p>

<p>How do I set up a default umask for 0027 for each notebook user?</p>
",1320,2,<jupyter><jupyterhub><umask>,2019-03-08 09:59:00
55041179,Ipywidget Accordion default behaviour,"<p><strong>Ipywidget accordion</strong> is expanded by default when the notebook is executed for the first time. How to make the accordion collapsed by default ? </p>

<p>Thanks in Advance.</p>
",2810,5,<jupyter-notebook><ipywidgets>,2019-03-07 10:12:51
54997155,How to display the full text in the button ipywidget?,"<p>I am creating an <code>ipywidget</code> button with some text. But the full text is not shown in the button:</p>

<p><a href=""https://i.stack.imgur.com/ObqU9.png"" rel=""noreferrer""><img src=""https://i.stack.imgur.com/ObqU9.png"" alt=""enter image description here""></a> </p>

<p>The code I have used is as follows:</p>

<pre><code>import ipywidgets as widgets
from IPython.display import display
button = widgets.Button(
    description='Test button with some text.',
    disabled=False,
    display='flex',
    flex_flow='column',
    align_items='stretch'
)        
display(button)
</code></pre>

<p>What options to use so the full text is shown in the button (i.e. to make the button width increase so the full text is shown)?</p>
",13102,16,<python><ipywidgets>,2019-03-05 07:05:52
54980490,JupyterLab: increase input code cell maximum height and disable vertical scrolling,"<p><strong>How do I increase the maximum default cell height or disable individual vertical scrolling for code (input) cells?</strong> </p>

<p>By default, input code cells in JupyterLab have a limited height. Once the maximum height is exceeded, the scrollbar is added. This resulted in two scrollbars - one for the whole notebook and another one for long cells, resulting in poor user experience. </p>

<p>For the record, long cells are rendered as is in the classical Jupyter Notebooks and therefore are easier to navigate.</p>

<p>P.S. Making cells smaller is not a viable option when you work with embedded SQL text and in general is not preferred. I also like to merge cells (with utility functions) together, to minimize out-of-order execution, that is a curse of interactive programming.</p>

<p><a href=""https://i.stack.imgur.com/7YQ7x.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/7YQ7x.png"" alt=""enter image description here""></a></p>
",1039,1,<jupyter-notebook><jupyter-lab><jupyterhub>,2019-03-04 09:44:58
54927176,Is it possible connect Jupyter-Kernel-Gatewy with JupyterHub or Jupyter?,"<p>I was playing with Jupyter, JupyterHub and Jupyter-Kernel-Gateway. I made some Notebooks and Kernels in Jupyter and i can connect to them by JupyterHub.
For another try, i want to connect them from the Kernel-Gateway. Is this possible?</p>
",129,0,<jupyter-notebook><jupyter><jupyterhub>,2019-02-28 13:45:02
54922318,IRKernel upgrade R not recognized,"<p>I have anaconda installed and use their version of jupyter notebook. I installed R 
 and IRKernel to make use of R in jupyter. </p>

<p>I can install packages on this version of R (3.5.1) and use them in jupyter.</p>

<p>I have installed a new version of R (3.5.2) using upgradeR() without problems.</p>

<p>To add this version to Jupyter I tried  IRkernel::installspec(name = 'ir52', displayname = 'R 5.2') in R but this doesn't work. </p>

<p>I did this using R in jupyter notebook and this gave no errors and I can select the new kernel. </p>

<p>But when I select the R 5.2 kernel and do 'version' this gives the 5.1 kernel. What have I done wrong?</p>
",177,1,<r><anaconda><jupyter-notebook><jupyter-irkernel>,2019-02-28 09:30:04
54916420,Interupt widget1_handler using widget2 (ipywidgets),"<p>The following piece of code is meant to be representative of the problem I'm working on:</p>

<pre><code>import ipywidgets as widgets
from IPython.display import display

a = widgets.ToggleButton(
    value=False,
    description='start',
    disabled=False,
    icon=''
)

b = widgets.ToggleButton(
    value=False,
    description='stop',
    disabled=True,
    icon=''
)

def func1(change):
    if change['new'] is True:
        a.disabled = True
        b.disabled = False
        for i in range(1000000):
            if b.value is False:
                print(i)
            elif b.value is True:
                break

a.observe(func1, 'value')

display(widgets.VBox([a, b]))
</code></pre>

<p>What I want to do is break out of the for loop that's initiated upon clicking <code>a</code>, by clicking <code>b</code>. The above code does not work, and I can't seem to find a similar problem/solution elsewhere. It seems like <code>b.value</code> does not get updated for the for loop even upon clicking <code>b</code>.</p>

<p>Is there something I'm missing? Is there another way around this? Any help is appreciated!</p>
",74,1,<python><jupyter-notebook><ipywidgets>,2019-02-28 00:03:38
54903667,Unable to create PMMLPipeline,"<p>I am currently trying to export a logistic regression model (built in my Jupyterhub on a Python3 kernel) into a PMML format.</p>

<p>My dataframe is called balanced_data
The predictors for the model are: </p>

<blockquote>
  <p>type, amount, oldbalanceOrig, newbalanceOrig, oldbalanceDest</p>
</blockquote>

<p>While the target variable is:</p>

<blockquote>
  <p>isFraud</p>
</blockquote>

<p>I tried using the following syntax to achieve my PMML file:</p>

<pre><code>pipeline = PMMLPipeline(""mapper"", DataFrameMapper([(balanced_data.type, None), 
                                               (balanced_data.amount, None), 
                                               (balanced_data.oldbalanceOrig, None), 
                                               (balanced_data.newbalanceOrig, None),
                                               (balanced_data.oldbalanceDest, None), 
                                               [(balanced_data.isFraud, None)]]),
                    (""classifier"", skl.LogisticRegression(penalty=""l2"",
                                                          dual=False,
                                                          tol=0.0001,
                                                          C=1.0,
                                                          fit_intercept=True,
                                                          intercept_scaling=1, 
                                                          random_state=12345, 
                                                          solver=""lbfgs"",
                                                          max_iter=100,
                                                          multi_class=""ovr"", 
                                                          verbose=0, 
                                                          warm_start=False,
                                                          n_jobs=-1)
                     )
                   )
</code></pre>

<p>But I am encountering the following error.</p>

<blockquote>
  <p>ValueError: not enough values to unpack (expected 2, got 1)</p>
</blockquote>

<p>I have never used sklearn2pmml &amp; DataFrameMapper before. Could anyone please advise what went wrong and how to resolve this error?</p>

<hr>

<h2>EDIT:</h2>

<p>I have removed the pair of square brackets to obtain the following but I still encounter the same error.</p>

<pre><code>pipeline = PMMLPipeline(""mapper"", DataFrameMapper([(balanced_data.type, None), 
                                               (balanced_data.amount, None), 
                                               (balanced_data.oldbalanceOrig, None), 
                                               (balanced_data.newbalanceOrig, None),
                                               (balanced_data.oldbalanceDest, None), 
                                               (balanced_data.isFraud, None)]),
                    (""classifier"", skl.LogisticRegression(penalty=""l2"",
                                                          dual=False,
                                                          tol=0.0001,
                                                          C=1.0,
                                                          fit_intercept=True,
                                                          intercept_scaling=1, 
                                                          random_state=12345, 
                                                          solver=""lbfgs"",
                                                          max_iter=100,
                                                          multi_class=""ovr"", 
                                                          verbose=0, 
                                                          warm_start=False,
                                                          n_jobs=-1)
                     )
                   )
</code></pre>
",161,1,<python><python-3.x><sklearn-pandas><jupyterhub><pmml>,2019-02-27 10:46:20
54893075,JupyterHub with multi user and GPU for kubernetes,"<p>I need an image with JupyterHub configured to multiple users and GPU with tensorFlow 10.1 or 11, any help, please?</p>
",1036,-1,<tensorflow><gpu><jupyterhub>,2019-02-26 19:53:24
54889805,JupyterHub with SystemUserSpawner fails,"<p>I'm trying to run a JupyterHub on a virtual machine, using the <code>dockerspawner.SystemUserSpawner</code>, spawning Jupyter Lab instances.</p>

<p>My jupyterhub_config.py has the following (extra) lines:</p>

<pre><code>c.Spawner.default_url = '/lab'
c.Spawner.cmd = ['jupyter', 'labhub']
c.JupyterHub.spawner_class = 'dockerspawner.SystemUserSpawner'
</code></pre>

<p>(plus lines for the <code>bind_url</code> and <code>hub_ip</code>). Everything else should be the default.</p>

<p>Upon running (<code>jupyterhub -f /etc/jupyterhub/jupyterhub_config.py</code>) and logging in in the browser, I run into a 500 error. The log on the command line looks as follows:</p>

<pre><code>[D 2019-02-26 16:55:37.869 JupyterHub dockerspawner:644] Getting container 'jupyter-testuser'
[D 2019-02-26 16:55:37.873 JupyterHub dockerspawner:629] Container 8bf627d status: {'Dead': False,
     'Error': '',
     'ExitCode': 1,
     'FinishedAt': '2019-02-26T15:55:29.518823812Z',
     'OOMKilled': False,
     'Paused': False,
     'Pid': 0,
     'Restarting': False,
     'Running': False,
     'StartedAt': '2019-02-26T15:55:28.446881243Z',
     'Status': 'exited'}
[W 2019-02-26 16:55:37.874 JupyterHub web:1667] 500 GET /hub/user/testuser/ (www.xxx.yyy.zzz): Spawner failed to start [status=ExitCode=1, Error='', FinishedAt=2019-02-26T15:55:29.518823812Z]. The logs for testuser may contain details.
[D 2019-02-26 16:55:37.875 JupyterHub base:880] No template for 500
</code></pre>

<p>JupyterHub itself then gets stuck in a (endless?) loop trying to spawn the container every 10 seconds.</p>

<p>Ignoring the missing 500 template, I was little the wiser from the container status message, but <code>docker logs jupyter-testuser</code> shows:</p>

<pre><code>....
[C 2019-02-26 15:55:29.360 SingleUserLabApp notebookapp:1707] Running as root is not recommended. Use --allow-root to bypass.
[D 2019-02-26 15:55:29.360 SingleUserLabApp application:647] Exiting application: jupyter-notebook
</code></pre>

<p>When I change <code>jupyterhub_config.py</code> to include</p>

<pre><code>c.Spawner.cmd = ['jupyter', 'labhub', '--allow-root']
c.DockerSpawner.remove = True
</code></pre>

<p>things do work, but with an unwanted caveat: I'm now root in the container, and any file I create in the home directory is not owned by <code>testuser</code>, but by the (Docker container) <code>root</code>. Inside the VM itself, <code>testuser</code> can't, for example, delete those files.</p>

<p>(note on <code>c.DockerSpawner.remove = True</code>: if I don't include that, JupyterHub gets stuck on the previous container which didn't have <code>--allow-root</code>)</p>

<p>The documentation suggests the initial configuration should be correct, and <code>--allow-root</code> is not necessary for a standard docker stack (I'm obviously using the default one here, <code>jupyterhub/singleuser:0.9</code>). </p>

<p>For comparison, using the <code>dockerspawner.DockerSpawner</code> works fine.</p>

<p>I don't see what I'm missing, or where to look for more debugging options. Any suggestions are therefore welcome.</p>

<p>Jupyter(Hub) version 0.9.4 on Ubuntu 18.04.2</p>
",2608,1,<jupyterhub>,2019-02-26 16:15:00
54873660,How to Create Heat Map from confidence values in a column Objects inside a JSON file ? (go through the image link),"<p><code>[{""pageName"":""visitutah"", ""extPostId"":1967170976682576484, ""rawText"":""#SaltLakeCity is a major production hub for some of your favorite flicks like The Sandlot and #Sundance cult classic SLC Punk. #VisitUtah #TheStoryisUtah ?\n?\nPhotos: @jaydashphotography, @20thcenturyfox, @sonypictures"",
    ""extCreatedAt"":""2019-01-29T01:24:36.000Z"",""postLink"":""https://instagram.com/p/BtMy5Stn4pk"",
    ""metadata"":{
      ""language"":""en"",
      ""keywords"":[""production"",""favorite"",""slc"",""classic"",""punk"",""cult"",""hub"",""flicks"",""sandlot"",""major"",""photos""],
      ""hashtags"":[""saltlakecity"",""sundance"",""visitutah"",""thestoryisutah""],
      ""imgWidth"":1064,""imgHeight"":800,""imageColors"":[
        {""value"":""#483d8b"",""confidence"":0.15739377611845315,""color"":""DarkSlateBlue""},
        {""value"":""#4682b4"",""confidence"":0.1250121974502026,""color"":""SteelBlue""},
        {""value"":""#556b2f"",""confidence"":0.08467575995418002,""color"":""DarkOliveGreen""}
      ],
      ""imageTags"":[
        {""value"":""Cityscape"",""confidence"":0.9921912550926208},
        {""value"":""Metropolitan area"",""confidence"":0.990021288394928},
        {""value"":""City"",""confidence"":0.9872371554374696},
        {""value"":""Urban area"",""confidence"":0.9839804172515868},
        {""value"":""Metropolis"",""confidence"":0.9772381782531738},
        {""value"":""Skyline"",""confidence"":0.9565803408622742},
        {""value"":""Aerial photography"",""confidence"":0.9396143555641174},
        {""value"":""Skyscraper"",""confidence"":0.9393568634986876},
        {""value"":""Human settlement"",""confidence"":0.9386814832687378},
        {""value"":""Daytime"",""confidence"":0.9368680119514464}
      ],
      ""imageObjects"":[
        {""name"":""Skyscraper"",""conf"":0.7262023091316223,""vertexes"":[
          {""x"":500,""y"":348},{""x"":612,""y"":348},{""x"":612,""y"":505},{""x"":500,""y"":505}]},
        {""name"":""Skyscraper"",""conf"":0.6854296326637268,""vertexes"":[
          {""x"":642,""y"":363},{""x"":724,""y"":363},{""x"":724,""y"":512},{""x"":642,""y"":512}]},
        {""name"":""Skyscraper"",""conf"":0.6445878148078918,""vertexes"":[
          {""x"":705,""y"":282},{""x"":795,""y"":282},{""x"":795,""y"":430},{""x"":705,""y"":430}]},
        {""name"":""Tree"",""conf"":0.6393409371376038,""vertexes"":[
          {""x"":659,""y"":516},{""x"":782,""y"":516},{""x"":782,""y"":603},{""x"":659,""y"":603}]},
        {""name"":""Tower"",""conf"":0.630145251750946,""vertexes"":[
          {""x"":379,""y"":301},{""x"":483,""y"":301},{""x"":483,""y"":423},{""x"":379,""y"":423}]},
        {""name"":""Skyscraper"",""conf"":0.621281623840332,""vertexes"":[
          {""x"":928,""y"":308},{""x"":1035,""y"":308},{""x"":1035,""y"":603},{""x"":928,""y"":603}]},
        {""name"":""Skyscraper"",""conf"":0.591198742389679,""vertexes"":[
          {""x"":252,""y"":314},{""x"":327,""y"":314},{""x"":327,""y"":419},{""x"":252,""y"":419}]},
        {""name"":""Skyscraper"",""conf"":0.5170044302940369,""vertexes"":[
          {""x"":71,""y"":288},{""x"":205,""y"":288},{""x"":205,""y"":512},{""x"":71,""y"":512}]},
        {""name"":""Building"",""conf"":0.4679428040981293,""vertexes"":[
          {""x"":2,""y"":575},{""x"":72,""y"":575},{""x"":72,""y"":648},{""x"":2,""y"":648}]},
        {""name"":""Tower"",""conf"":0.46002140641212463,""vertexes"":[
          {""x"":75,""y"":280},{""x"":206,""y"":280},{""x"":206,""y"":513},{""x"":75,""y"":513}]},
        {""name"":""Skyscraper"",""conf"":0.4523395895957947,""vertexes"":[
          {""x"":458,""y"":299},{""x"":505,""y"":299},{""x"":505,""y"":415},{""x"":458,""y"":415}]},
        {""name"":""Tower"",""conf"":0.4486623704433441,""vertexes"":[
          {""x"":254,""y"":312},{""x"":322,""y"":312},{""x"":322,""y"":414},{""x"":254,""y"":414}]},
        {""name"":""Skyscraper"",""conf"":0.4317977726459503,""vertexes"":[
          {""x"":370,""y"":302},{""x"":492,""y"":302},{""x"":492,""y"":430},{""x"":370,""y"":430}]},
        {""name"":""Tower"",""conf"":0.4043044149875641,""vertexes"":[
          {""x"":926,""y"":308},{""x"":1033,""y"":308},{""x"":1033,""y"":585},{""x"":926,""y"":585}]},
        {""name"":""Skyscraper"",""conf"":0.3842355906963349,""vertexes"":[
          {""x"":901,""y"":281},{""x"":947,""y"":281},{""x"":947,""y"":353},{""x"":901,""y"":353}]},
        {""name"":""Tower"",""conf"":0.3708430230617523,""vertexes"":[
          {""x"":506,""y"":350},{""x"":608,""y"":350},{""x"":608,""y"":497},{""x"":506,""y"":497}]},
        {""name"":""Skyscraper"",""conf"":0.3536655306816101,""vertexes"":[
          {""x"":850,""y"":296},{""x"":889,""y"":296},{""x"":889,""y"":374},{""x"":850,""y"":374}]},
        {""name"":""Tower"",""conf"":0.2946276068687439,""vertexes"":[
          {""x"":706,""y"":278},{""x"":788,""y"":278},{""x"":788,""y"":421},{""x"":706,""y"":421}]},
        {""name"":""Skyscraper"",""conf"":0.25367069244384766,""vertexes"":[
          {""x"":0,""y"":239},{""x"":752,""y"":239},{""x"":752,""y"":800},{""x"":0,""y"":800}]}
      ],
      ""imagePHash"":-2256780375582496922},""nFollowers"":86200,""nComments"":18,""nLikes"":1927},
{""pageName"":""visitutah"",""extPostId"":1965520773869116669,""rawText"":""Winter relaxation at another level. #VisitUtah?\n?\nPhoto: @michellemayfield, #SpanishFork"",
    ""extCreatedAt"":""2019-01-26T18:45:56.000Z"",""postLink"":""https://instagram.com/p/BtG7rrlHpz9"",
    ""metadata"":{
      ""language"":""en"",
      ""keywords"":[""winter"",""relaxation"",""level"",""photo""],
      ""hashtags"":[""visitutah"",""spanishfork""],
      ""imgWidth"":1080,""imgHeight"":1350,""imageColors"":[
        {""value"":""#2f4f4f"",""confidence"":0.12358215657201124,""color"":""DarkSlateGray""},
        {""value"":""#008080"",""confidence"":0.0777761666658871,""color"":""Teal""},
        {""value"":""#b0c4de"",""confidence"":0.06802374259213351,""color"":""LightSteelBlue""}
      ],
      ""imageTags"":[
        {""value"":""Water"",""confidence"":0.8073040843009949},
        {""value"":""Art"",""confidence"":0.502187192440033}],
      ""imageObjects"":[
        {""name"":""Tree"",""conf"":0.7405981421470642,""vertexes"":[
          {""x"":16,""y"":56},{""x"":965,""y"":56},{""x"":965,""y"":1350},{""x"":16,""y"":1350}]},
          {""name"":""Tree"",""conf"":0.5986928939819336,""vertexes"":[
            {""x"":953,""y"":236},{""x"":1077,""y"":236},{""x"":1077,""y"":434},{""x"":953,""y"":434}]}
          ],
          ""imagePHash"":-9063616246493099103},""nFollowers"":85978,""nComments"":160,""nLikes"":14462},
{""pageName"":""visitutah"",""extPostId"":1964829982460857211,""rawText"":""The 2019 #Sundance Film Festival is here! Follow along as we highlight Utah's iconic film locations throughout the Festival</code><a href=""https://i.stack.imgur.com/C6Rlm.jpg"" rel=""nofollow noreferrer"">Visit Utah Dataset</a></p>

<p>Guys, There is a JSON File which I am trying to read in Jupyter Hub(Python Environment). I posted earlier but I guess my question was unclear. What I need to do is find a way to isolate the confidence values inside the Column Object and then create a heat correlation map. Could this be done? Could someone just help me isolate the confidence values? Go through the embedded image link. Any kind of suggestions are welcome - numPy or pandas </p>

<p>Thanks.</p>
",154,0,<python><json><pandas><heatmap><jupyterhub>,2019-02-25 19:50:11
54860338,Pricing problem regarding running Jupyterhub with Kubernetes on Google Cloud,"<p>I am hosting a jupyterhub with kubernetes on my google cloud account. I noticed that google cloud charges me for the runtime that the jupyterhub instance is running. <br/>
I am wondering if I can sorta shut down the jupyterhub instance or the kubernetes when we are not using the jupyterhub to save money? <br/>
If I restart the instance, will the data be whiped out? I want to do a experiment on this but I am afraid of doing something inreversible.<br/>
Also, where can I learn more about the adminstration tips about using google cloud?
Thanks!</p>
",52,2,<kubernetes><google-cloud-platform><google-kubernetes-engine><jupyterhub>,2019-02-25 06:03:32
54834289,observe method of ipywidget slider doesn't work,"<p>I am trying to call function on slider change, while it is changing with animation. And it does not work, it calles function only when I change manually by mouse. Here is my code:</p>
<pre class=""lang-py prettyprint-override""><code>import ipywidgets as widgets
    
play = widgets.Play(
    value=0,
    min=0,
    max=100,
    step=1,
    description=&quot;Press play&quot;,
    disabled=False)

slider = widgets.IntSlider(description=&quot;Slides&quot;)
   
def on_value_change(change):
    print(change['new'])
        
slider.observe(on_value_change, names='value') 
widgets.jslink((play, 'value'), (slider, 'value'))
widgets.HBox([play, slider])
</code></pre>
<p>Could you help me to manage it, please?</p>
",3988,3,<jupyter-notebook><ipywidgets>,2019-02-22 19:58:30
54813069,Python onclick button widget return object,"<p>I am trying to build a file/data selector in jupyter notebooks with python. The idea is that I select some files and data channels in the files with the multipleSelect widget and then with a button return a dataFrame.</p>

<p>How can I access the df_object?</p>

<pre><code>#stack example
from ipywidgets import widgets
from IPython.display import display
from IPython.display import clear_output
import pandas as pd
import numpy as np
filenames = [""file1"", ""file2""]
file_dict = {
    ""file1"":pd.DataFrame(np.arange(5)),
    ""file2"":pd.DataFrame(np.arange(10,15))
}

def data_selection():
    sel_file = widgets.SelectMultiple(description=""Files"",
    options=filenames)
    display(sel_file)

    button = widgets.Button(description=""OK"")
    display(button)            

    def on_button_clicked(button):
        clear_output(wait=True) #clears the previous output
        display(sel_file) #displays new selection window
        display(button) #displays new button
        for f in sel_file.value:
            print (f)
            display (file_dict[f])
            #global df_object #would be a solution but not recommended for sure
            df_object = file_dict[f]
            return df_object #doesn't work
    button.on_click(on_button_clicked)

data_selection()    
</code></pre>
",5154,2,<python><ipywidgets>,2019-02-21 17:35:26
54776010,JupyterHub Auto HTTPS Letsencrypt: Kubernetes Ingress Controller Fake Certificate,"<p>I'm trying to deploy JupyterHub on a private Kubernetes cluster and want to setup the automatic HTTPS using letsencrypt. Based on the documents, I just need to provide host and email address, but everytime I try the url I'm getting this:</p>

<pre><code>Your connection is not private
Attackers might be trying to steal your information from &lt;my-domain&gt; (for example, passwords, messages, or credit cards). Learn more

NET::ERR_CERT_AUTHORITY_INVALID
Subject: Kubernetes Ingress Controller Fake Certificate

Issuer: Kubernetes Ingress Controller Fake Certificate

Expires on: Feb 19, 2020

Current date: Feb 19, 2019

PEM encoded chain:
-----BEGIN CERTIFICATE-----
......
-----END CERTIFICATE-----
</code></pre>

<p>What does it mean?
Any help is appreciated.
Thanks,</p>
",351,-1,<https><kubernetes><lets-encrypt><jupyterhub>,2019-02-19 22:37:14
54736999,Get Jupyterhub username in spawned container,"<p>I am using a Jupyterhub deployment with <a href=""https://github.com/jupyterhub/dockerspawner"" rel=""nofollow noreferrer"">DockerSpawner</a>.
When I enter a spawned container, I have the following URL pattern: </p>

<pre><code>https://&lt;hostname&gt;/user/&lt;user-name&gt;/lab?
</code></pre>

<p>I would like to get the value of <code>&lt;user-name&gt;</code> within the spawned notebook container.
Is there any possibility to either access it or forward it from Jupyterhub into the container?</p>

<p>Thank you,
Max</p>
",795,0,<jupyterhub>,2019-02-17 19:47:46
54735499,java.io.IOException: Could not read footer for file FileStatus when trying to read parquet file from Spark cluster from IBM Cloud Object Storage,"<p>I have created a Spark Cluster with 3 workers on Kubernetes and a JupyterHub deployment to attach to it so I can run huge queries.</p>

<p>My parquet files are stored into IBM Cloud Object Storage (COS) and when I run a simple code to read from COS, I'm getting the following error:</p>

<blockquote>
  <p>Could not read footer: java.io.IOException: Could not read footer for file FileStatus{path=file:/path/myfile.parquet/_common_metadata; isDirectory=false; length=413; replication=0; blocksize=0; modification_time=0; access_time=0; owner=; group=; permission=rw-rw-rw-; isSymlink=false} at parquet.hadoop.ParquetFileReader.readAllFootersInParallel</p>
</blockquote>

<p>I have added all the required libraries to the <code>/jars</code> directory on SPARK_HOME directory in the driver.</p>

<p>This is the code I'm using to connect:</p>

<pre><code># Initial Setup - Once
import os

from pyspark import SparkConf, SparkContext
from pyspark.sql import SparkSession

spark_session = SparkSession(sc)


credentials_staging_parquet = {
  'bucket_dm':'mybucket1',
  'bucket_eid':'bucket2',
  'secret_key':'XXXXXXXX',
  'iam_url':'https://iam.ng.bluemix.net/oidc/token',
  'api_key':'XXXXXXXX',
  'resource_instance_id':'crn:v1:bluemix:public:cloud-object-storage:global:a/XXXXX:XXXXX::',
  'access_key':'XXXXX',
  'url':'https://s3-api.us-geo.objectstorage.softlayer.net'
}

conf = {
    'fs.cos.service.access.key': credentials_staging_parquet.get('access_key'),
    'fs.cos.service.endpoint': credentials_staging_parquet.get('url'),
    'fs.cos.service.secret.key': credentials_staging_parquet.get('secret_key'),
    'fs.cos.service.iam.endpoint': credentials_staging_parquet.get('iam_url'),
    'fs.cos.service.iam.service.id': credentials_staging_parquet.get('resource_instance_id'),
    'fs.stocator.scheme.list': 'cos',
    'fs.cos.impl': 'com.ibm.stocator.fs.ObjectStoreFileSystem',
    'fs.stocator.cos.impl': 'com.ibm.stocator.fs.cos.COSAPIClient',
    'fs.stocator.cos.scheme': 'cos',
    'fs.cos.client.execution.timeout': '18000000',
    'fs.stocator.glob.bracket.support': 'true'
}

hadoop_conf = sc._jsc.hadoopConfiguration()
for key in conf:
    hadoop_conf.set(key, conf.get(key))

parquet_path = 'store/MY_FILE/*'
cos_url = 'cos://{bucket}.service/{parquet_path}'.format(bucket=credentials_staging_parquet.get('bucket_eid'), parquet_path=parquet_path)

df2 = spark_session.read.parquet(cos_url)
</code></pre>
",7560,4,<java><python><apache-spark><jupyter><jupyterhub>,2019-02-17 16:59:57
54707149,JupyterHub Hub Pod stuck in pending - pod has unbound immediate PersistentVolumeClaims,"<p>I am having issues deploying juypterhub on kubernetes cluster. The issue I am getting is that the hub pod is stuck in pending. </p>

<p>Stack:
kubeadm
flannel
weave
helm
jupyterhub</p>

<p>Runbook:</p>

<pre><code>$kubeadm init --pod-network-cidr=""10.244.0.0/16"" 
$sudo cp /etc/kubernetes/admin.conf $HOME/ &amp;&amp; sudo chown $(id -u):$(id -g) $HOME/admin.conf &amp;&amp; export KUBECONFIG=$HOME/admin.conf
$kubectl create -f pvc.yml
$kubectl create -f https://raw.githubusercontent.com/coreos/flannel/master/Documentation/kube-flannel-aliyun.yml
$kubectl apply --filename https://git.io/weave-kube-1.6
$kubectl taint nodes --all node-role.kubernetes.io/master-
</code></pre>

<p>Helm installations as per <a href=""https://zero-to-jupyterhub.readthedocs.io/en/latest/setup-helm.html"" rel=""nofollow noreferrer"">https://zero-to-jupyterhub.readthedocs.io/en/latest/setup-helm.html</a></p>

<p>Jupyter installations as per <a href=""https://zero-to-jupyterhub.readthedocs.io/en/latest/setup-jupyterhub.html"" rel=""nofollow noreferrer"">https://zero-to-jupyterhub.readthedocs.io/en/latest/setup-jupyterhub.html</a></p>

<p><strong>config.yml</strong></p>

<pre><code>proxy:
  secretToken: ""asdf""
singleuser:
  storage:
    dynamic:
      storageClass: local-storage
</code></pre>

<p><strong>pvc.yml</strong></p>

<pre><code>apiVersion: v1
kind: PersistentVolume
metadata:
  name: standard
spec:
  capacity:
    storage: 100Gi
  # volumeMode field requires BlockVolume Alpha feature gate to be enabled.
  volumeMode: Filesystem
  accessModes:
  - ReadWriteOnce
  persistentVolumeReclaimPolicy: Delete
  storageClassName: local-storage
  local:
    path: /dev/vdb
  nodeAffinity:
    required:
      nodeSelectorTerms:
      - matchExpressions:
        - key: kubernetes.io/hostname
          operator: In
          values:
          - example-node
---
kind: PersistentVolumeClaim
apiVersion: v1
metadata:
  name: standard
spec:
  storageClassName: local-storage
  accessModes:
    - ReadWriteOnce
  resources:
    requests:
      storage: 3Gi
---
kind: StorageClass
apiVersion: storage.k8s.io/v1
metadata:
  name: local-storage
provisioner: kubernetes.io/no-provisioner
volumeBindingMode: WaitForFirstConsumer
</code></pre>

<p>The warning is:</p>

<pre><code>$kubectl --namespace=jhub get pod

NAME                     READY   STATUS    RESTARTS   AGE
hub-fb48dfc4f-mqf4c      0/1     Pending   0          3m33s
proxy-86977cf9f7-fqf8d   1/1     Running   0          3m33s

$kubectl --namespace=jhub describe pod hub

Events:
  Type     Reason            Age                From               Message
  ----     ------            ----               ----               -------
  Warning  FailedScheduling  35s (x3 over 35s)  default-scheduler  pod has unbound immediate PersistentVolumeClaims



$kubectl --namespace=jhub describe pv

Name:            standard
Labels:          type=local
Annotations:     pv.kubernetes.io/bound-by-controller: yes
Finalizers:      [kubernetes.io/pv-protection]
StorageClass:    manual
Status:          Bound
Claim:           default/standard
Reclaim Policy:  Retain
Access Modes:    RWO
VolumeMode:      Filesystem
Capacity:        10Gi
Node Affinity:   &lt;none&gt;
Message:
Source:
    Type:          HostPath (bare host directory volume)
    Path:          /dev/vdb
    HostPathType:
Events:            &lt;none&gt;


$kubectl --namespace=kube-system describe pvc

Name:          hub-db-dir
Namespace:     jhub
StorageClass:
Status:        Pending
Volume:
Labels:        app=jupyterhub
               chart=jupyterhub-0.8.0-beta.1
               component=hub
               heritage=Tiller
               release=jhub
Annotations:   &lt;none&gt;
Finalizers:    [kubernetes.io/pvc-protection]
Capacity:
Access Modes:
VolumeMode:    Filesystem
Events:
  Type       Reason         Age                From                         Message
  ----       ------         ----               ----                         -------
  Normal     FailedBinding  13s (x7 over 85s)  persistentvolume-controller  no persistent volumes available for this claim and no storage class is set
Mounted By:  hub-fb48dfc4f-mqf4c
</code></pre>

<p>I tried my best to follow the localstorage volume configuration on the official kubernetes website, but with no luck</p>

<p>-G</p>
",3075,1,<kubernetes><kubeadm><jupyterhub><flannel>,2019-02-15 10:19:50
54674018,Adding additional host to Juypterhub DockerSpawner,"<p>I am using Jupyterhub 0.9.4 with DockerSpawner.
My goal is to pass every container spawned by the Spawner an additional host name, so make an additional entry in <code>/etc/hosts</code>.</p>

<p>I first tried via my <code>docker-compose.yml</code> file, which does not work, as the container are created by Jupyterhub.</p>

<p>I also tried it in the <code>Dockerfile</code> itself, but there it got overwritten.</p>

<p>I further tried it with changes in the <code>jupyterhub_config.py</code> file, by adding:
<code>c.DockerSpawner.extra_create_kwargs.update({'command': '--add-host=""&lt;ip-address&gt; &lt;hostname&gt;""'})</code></p>

<p>Still I do not see an entry in the <code>/etc/hosts</code> file in the container.</p>

<p>Anyone has a clue where I have to add it?</p>

<p>Thanks,
Max</p>
",321,4,<docker><jupyterhub>,2019-02-13 15:40:07
54636656,How do I use Google IAP for authenticating to JupyterHub?,"<p>I have Google's <a href=""https://cloud.google.com/iap/"" rel=""nofollow noreferrer"">Identity-Aware Proxy</a> configured for my JupyterHub application, and would like to use it to authenticate my users. How do I accomplish this?</p>
",491,1,<jwt><jupyterhub><google-iap>,2019-02-11 18:13:14
54629964,"How to pause Jupyter Notebook widgets, waiting for user input","<p>In my notebook I've a loop in which I want to ask the user to binary ""Yes"" or ""No"". On this choice the algorithm is suppposed to continue.</p>

<pre><code>for i in range(n_total):
    display.clear_output(wait=True)
    waiting_for_scoring = True
    print(""True or False?"")
    display.display(widgets.HBox((true_button, false_button)))
    a = true_button.on_click(on_true_button)
    a = false_button.on_click(on_false_button)
    while waiting_for_scoring == True:
        #waiting for user input
        pass
</code></pre>

<p>How can I make the loop to wait, after the widgets HBox creation, and wait for user input (button click) to continue with the new value answered?</p>

<p>Here's my two functions for the buttons:</p>

<pre><code>def on_true_button(x):
    global waiting_for_scoring
    print('NO!!!!')
    y_new = 1
    waiting_for_scoring = False
    return y_new

def on_false_button(x):
    global waiting_for_scoring
    print('YES')
    y_new = 0
    waiting_for_scoring = False
    return y_new
</code></pre>

<p>Could you help me to stop the loop until the user presses the button and then use this input? Thank you in advance</p>
",2120,8,<python><asynchronous><button><jupyter-notebook><ipywidgets>,2019-02-11 11:48:49
54624321,Jupyter Play widget skipping steps,"<p><strong>Update:</strong> I've simplified my original question quite a bit.</p>

<p>I want to create an animated plot but my implementation is skipping frames.</p>

<pre class=""lang-py prettyprint-override""><code>x = np.arange(0,5,0.1)
y = np.cos(3*x)

def f(i):
    plt.plot(x[:i],y[:i]);
    plt.gca().axis([0,5,-1,1])
    plt.gca().set_title(f'{i}')

interactive(f, i=Play(value=0, min=0, max=50, step=1))
</code></pre>

<p><a href=""https://i.stack.imgur.com/BucrO.gif"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/BucrO.gif"" alt=""enter image description here""></a></p>

<p>Instead of my desired step size (1), it plays at about 5 steps per frame. </p>

<p>The bahavior happens on both the notebook and jupyterlab, and on both the inline and notebook frontends (<code>%matplotlib notebook</code>)</p>
",450,1,<matplotlib><jupyter-notebook><jupyter><jupyter-lab><ipywidgets>,2019-02-11 05:15:30
54606164,Custom css file for jupyter notebook,"<p>I would like to use custom .css style file for my jupyter notebook inside jupyterHub. I placed the <code>custom.css</code> file inside <code>~.jupyter/custom/custom.css</code> and <code>/opt/conda/lib/python3.6/site-packages/notebook/static/custom</code> and neither of them works. Any idea how to force custom css style when using DockerSpawner?</p>
",2266,1,<jupyter><jupyterhub>,2019-02-09 12:21:51
54549908,ipywidgets doesn't show plot before interaction,"<p>Unless the user interacts with widget, ipywidgets doesn't show the plot. How can I solve this? Perhaps if I could update a slider value using some code, the plot would show. I think this issue only arises when the Layout configuration method is used. </p>

<pre><code>import numpy as np
from matplotlib import pyplot as plt
from ipywidgets import interactive, fixed, FloatSlider, HBox, Layout
from IPython.display import display

ts = np.arange(0.0, 5.0, 0.01)

def plotFunc(omega):
    plt.plot(ts, np.cos(omega*ts))

w = interactive(plotFunc, omega = FloatSlider(min = 0, max = 12, step = 1, value = 6, orientation = 'vertical'))
box_layout = Layout(display = 'flex', flex_flow = 'row', justify_content = 'center', align_items = 'center')
display(HBox([w.children[-1], w.children[0]], layout = box_layout))
</code></pre>
",695,3,<jupyter-notebook><ipywidgets>,2019-02-06 09:04:52
54548376,Jupyterhub Not Reading Config File,"<p>I have installed Jupyterhub on Ubuntu 16.04 with conda install. Next, I made it use oAuthenticator by adding the following in jupyterhub_config.py</p>

<pre><code>from oauthenticator.github import GitHubOAuthenticator
c.JupyterHub.authenticator_class = GitHubOAuthenticator
c.GitHubOAuthenticator.create_system_users = True
</code></pre>

<p>I also added the following in ~/.bashrc and sourced it</p>

<pre><code>#For OAuthentication
export GITHUB_CLIENT_ID=id
export GITHUB_CLIENT_SECRET=secret
export OAUTH_CALLBACK_URL=http://xyz:8000/hub/oauth_callback
export GIT_REPO_NAME=mmf
export GIT_BRANCH_NAME=master
export GITHUB_ACCESS_TOKEN= mytoken
</code></pre>

<p>After starting jupyterhub, I was able to get the ""login with git"" page.
Now, I have configured jupyterhub to run as a service by creating <code>/etc/systemd/system/jupyterhub.service</code> and adding the following to it</p>

<pre><code>[Unit]
Description=Starts JupyterHub as Daemon
After=syslog.target network.target

[Service]
User=root
Environment=”PATH=/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/etc/Applications/Anaconda3/bin”
ExecStart=/etc/Applications/Anaconda3/bin/jupyterhub –f /etc/Applications/JupyterHub/jupyterhub_config.py

[Install]
WantedBy=multi-user.target
</code></pre>

<p>Now, I started it using <code>systemctl start jupyterhub</code>, but now I get the regular login page as opposed to the git login.</p>

<p>It's probably because it isn't reading the <code>jupyterhub_config.py</code>. I checked all the directories mentioned in <code>jupyterhub.service</code> and they all check out.</p>

<p>Anaconda installation directory : /etc/Applications/Anaconda3/</p>

<p>Jupyterhub config file directory : /etc/Applications/JupyterHub/jupyterhub_config.py</p>

<p>Can anyone help me with this?</p>
",504,0,<jupyterhub>,2019-02-06 07:14:27
54540313,JupyterHub use logout does not stop docker container,"<p>I successfully configured jupyterhub on google cloud using very basic DummyAuthenticator and Docker Spawner following this tutorial: <a href=""https://github.com/jupyterhub/jupyterhub-deploy-docker"" rel=""nofollow noreferrer"">https://github.com/jupyterhub/jupyterhub-deploy-docker</a>
Everything is ok, but when the user logouts its docker container is still running. I was expecting that the container will be stopped when it is unused. It is a waste of resources for my taste. Is there any chance to trigger that behavior?</p>
",1332,0,<docker><jupyter-notebook><jupyterhub>,2019-02-05 17:51:38
54525890,How to update ipyvolume shapes immediately without intermediate views,"<p>Given jupyter notebook with a scene rendered with ipyvolume and sliders that updates the x,y,z traits of a shape on the scene, the 3D renderer has a scene change animation which draws intermediate views of the shape that do not correspond to views on the slider.</p>

<p>How do I force ipyvolume to render only the final scene on update, without the scene change animation?</p>

<p>For example, run the following in a jupyter notebook and drag theta/phi: </p>

<pre><code>import numpy as np
from numpy import pi, sin, cos, radians
import ipyvolume as ipv
import ipywidgets as widgets

def transform_xyz(theta, phi, x, y, z):
    x, y, z = [np.asarray(v) for v in (x, y, z)]
    shape = x.shape
    points = np.matrix([x.flatten(), y.flatten(), z.flatten()])
    Ry_theta = [[+cos(theta), 0, +sin(theta)],
                [0, 1, 0],
                [-sin(theta), 0, +cos(theta)]]
    Rz_phi = [[+cos(phi), -sin(phi), 0],
              [+sin(phi), +cos(phi), 0],
              [0, 0, 1]]
    points = np.matrix(Rz_phi)*np.matrix(Ry_theta)*points
    x, y, z = [np.array(v).reshape(shape) for v in points]
    return x, y, z

def torus(R=100, r=10, Rsteps=100, rsteps=100):
    u = np.linspace(0, 2*pi, rsteps) # tube
    v = np.linspace(0, 2*pi, Rsteps) # ring
    U, V = np.meshgrid(u, v)
    x = (R + r*cos(U))*cos(V)
    y = (R + r*cos(U))*sin(V)
    z = r*sin(U)
    return x, y, z

class Scene:
    def __init__(self, view=(0, 0, 0), hkl=(1,1,1)):
        self.view = view
        self.figure = ipv.figure()
        R = 100.
        r = R/30.
        ipv.xlim(-R, R)
        ipv.ylim(-R, R)
        ipv.zlim(-R, R)
        ipv.style.box_off()
        self.torus_xyz = torus(R=R, r=R/10)
        self.torus = ipv.plot_surface(*self.torus_xyz)
        ipv.show()
        self.ui = widgets.interact(self.update, theta=(-90.,90.), phi=(-180., 180.))
        #self.ui.widget.children[0].continuous_update = False
        #self.ui.widget.children[1].continuous_update = False

    def update(self, theta, phi):
        print(""update with"", theta, phi)
        x, y, z = transform_xyz(radians(theta), radians(phi), *self.torus_xyz)
        self.torus.x = x.flatten()
        self.torus.y = y.flatten()
        self.torus.z = z.flatten()

scene = Scene()
</code></pre>

<p><a href=""https://i.stack.imgur.com/612lG.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/612lG.png"" alt=""enter image description here""></a></p>
",450,2,<python><three.js><jupyter-notebook><ipywidgets>,2019-02-04 23:36:35
54484504,Issue Running Jupyterhub on Https:RuntimeError: Proxy failed to start with exit code 1,"<p>Hi I have installed jupyterhub on my machine and i have configured certificate and key path in jupyterhub_config.py file but i am getting the following error.</p>

<pre><code>Error: error:0906A068:PEM routines:PEM_do_header:bad password read
at Error (native)
at Object.createSecureContext (_tls_common.js:85:17)
at Server (_tls_wrap.js:775:25)
at new Server (https.js:26:14)
at Object.exports.createServer (https.js:47:10)
at new ConfigurableProxy (/usr/lib/node_modules/configurable-http-proxy/lib/configproxy.js:222:32)
at Object. (/usr/lib/node_modules/configurable-http-proxy/bin/configurable-http-proxy:296:13)
at Module._compile (module.js:577:32)
at Object.Module._extensions..js (module.js:586:10)
at Module.load (module.js:494:32)
[C 2019-01-30 16:39:49.697 JupyterHub app:1867] Failed to start proxy
Traceback (most recent call last):
File ""/usr/local/lib/python3.5/site-packages/jupyterhub/app.py"", line 1865, in start
await self.proxy.start()
File ""/usr/local/lib/python3.5/site-packages/jupyterhub/proxy.py"", line 594, in start
_check_process()
File ""/usr/local/lib/python3.5/site-packages/jupyterhub/proxy.py"", line 590, in _check_process
raise e from None
RuntimeError: Proxy failed to start with exit code 1
</code></pre>
",644,2,<python><node.js><https><proxy><jupyterhub>,2019-02-01 17:38:07
54484376,Is there a file selection widget for ipywidgets that works remotely?,"<p>I found this beautiful implementation of a Qt <a href=""https://codereview.stackexchange.com/questions/162920/file-selection-button-for-jupyter-notebook"">here</a>
Unfortunately, that does not work when the notebook is not local. I wonder whether anyone knows an implementation that works also in remote notebooks.</p>
",4193,1,<jupyter-notebook><ipywidgets>,2019-02-01 17:30:11
54471862,Monospace in ipywidgets.Textarea?,"<p>how could I get my widgets to use monospace fonts?</p>

<pre><code>from ipywidgets import Textarea
Textarea('The world is bigger than you.')
</code></pre>

<p>I want to show some table style data.</p>
",676,0,<python><ipywidgets>,2019-02-01 02:01:23
54428958,"Visual Studio Code new feature connect to Jupyter Notebook, it is possible to connect to JupyterHub as well?","<p>Looking at this article: <a href=""https://code.visualstudio.com/docs/python/jupyter-support#_connect-to-a-remote-jupyter-server"" rel=""nofollow noreferrer"">Visual Studio Working with remote Jupyter Notebook</a>, wondering and trying with JupyterHub API but was not able to make a connection from Visual Studio Code.</p>

<p>It is possible to open a remote session in a JupyterHub server?</p>
",1055,3,<python><visual-studio-code><jupyter-notebook><jupyterhub>,2019-01-29 20:16:44
54427801,Blocking pip install in JupyterHub,"<p>Is it possible to block pip installs on JupyterHub instances? Is there a certain port pip runs through that I can block?</p>
",505,0,<python><kubernetes><pip><jupyter><jupyterhub>,2019-01-29 18:49:04
54412449,ipywidgets: Automatically update variable and run code after altering widget value,"<p>I have been trying to automatically update a variable and run a code snippet after altering a ipywidget.</p>

<p>So far the only partial solution I have found is to declare a global variable kind of following the example on the github (<a href=""https://github.com/jupyter-widgets/ipywidgets/issues/1947"" rel=""nofollow noreferrer"">here</a>):</p>

<pre><code>import ipywidgets as widgets
from IPython.display import display
x = 5
slider = widgets.IntSlider()
slider.value = x
def on_change(v):
   global x
   x = v['new'] 
slider.observe(on_change, names='value')
display(slider)
</code></pre>

<p>Ideally what I am trying to achieve is to automatically change the x value after altering the widget without the use of global variables and also change some previously defined variables. It would be something like this:</p>

<pre><code>x = 5
y = []
slider = widgets.IntSlider()
slider.value = x
def on_change(v):
   x = v['new']
   y.append(x)
slider.observe(on_change, names='value')
display(slider)
</code></pre>
",3497,3,<jupyter-notebook><ipython><ipywidgets>,2019-01-29 00:58:54
54406953,How to copy home directory file into new persistent volume with Kubernetes?,"<p>I've got a JupyterHub Kubernetes deployment.</p>

<p>When I create and attach a persistent volume (PV) it wipes out the home directory that is part of my image. It replaces it with an empty home directory where anything is written will be persisted as expected (that is fine).</p>

<p>How can I get the files from my image's home folder into the PV home folder?</p>

<p>Here is an <a href=""https://zero-to-jupyterhub.readthedocs.io/en/latest/user-environment.html"" rel=""noreferrer"">example from the docs</a> that unfortunately seems to only copy from the new PV (not the image):</p>

<pre><code>singleuser:
  lifecycleHooks:
    postStart:
      exec:
        command: [""cp"", ""-a"", ""src"", ""target""]
</code></pre>

<p>Here is my singleuser configuration:</p>

<pre><code>singleuser:
  image:
    name: myimage
    tag: latest
    pullPolicy: Always
  storage:
    capacity: 10Gi
    dynamic:
      storageClass: standard
</code></pre>
",4788,5,<docker><kubernetes><jupyterhub><persistent-volumes>,2019-01-28 17:05:28
54395165,Jupyter Notebook theme changed my version of python,"<p>I just changed my theme in jupyter notebook. However even though it's showing python 3. I input() does not work. Only raw_input().</p>

<p>Has anyone come across this before? It does say Python 3 in the top right.</p>

<p>I changed the theme back and still the same problem...</p>
",54,0,<python><python-3.x><jupyter-notebook><jupyter-irkernel><jupyter-console>,2019-01-28 03:25:08
54393001,Set Volume Permissions in Multi-Tenant Kubernetes Cluster,"<p>Situation:<br>
- users A, B, C, D<br>
- team 1: user A, user B<br>
- team 2: user C, user D  </p>

<p>Desired:<br>
- each user has private volume<br>
- each team has a shared volume --> users in team can see shared volume<br>
- some users, based on permission, can see <em>both</em> shared volumes</p>

<p>Searched for quite some time now, do not see a solution in the Docs.</p>

<p>Ideas:<br>
- Use Namespaces! problem --> can no longer see shared volume of other Namespace</p>
",375,1,<kubernetes><kubernetes-helm><jupyterhub><kubernetes-pvc>,2019-01-27 21:23:17
54330673,how to fix - error: bad escape \u at position 0,"<p>Hello I'm trying to export a gmap html using ipywidgets in jupyter notebook but am encountering the following error: - error: bad escape \u at position 0. </p>

<p>I'm new to programing and could use help fixing whatever is causing this error to occur. If there is any easier way to go about exporting the html file I'm happy to change approaches. </p>

<p>Thanks</p>

<hr>

<p>Here is a snippet of the code: I can add the entire thing if its helpful. </p>

<pre><code>import pandas as pd
import gmaps
from ipywidgets.embed import embed_minimal_html
from ipywidgets import IntSlider
gmaps.configure(api_key='XXXX')
pd.options.mode.chained_assignment = None  # default='warn'


file2 = '005 lat:long.csv'
state2 = pd.read_csv(file2)
state2 = state2.rename(columns={'Address1': 'address', 'City':'city', 
                                'State':'state', 'Zip': 'zip'})

storenumbs = state2['Store'].str.split('#', expand=True)
state2 = state2.join(storenumbs)
state2 = state2.drop(['Store', 0], axis=1)
state2 = state2.rename(columns={1: 'store_#'})
state2['store_#'] = state2['store_#'].astype(int)

fig = gmaps.figure(center=(42.5, -71.4), map_type='TERRAIN', zoom_level=9.8)
scale = 4
one_layer = (gmaps.symbol_layer(low_points_lat_long, fill_color='red', stroke_color='red', scale= scale))
two_layer = (gmaps.symbol_layer(low_med_points_lat_long, fill_color='red', stroke_color='yellow', scale= scale))
three_layer = (gmaps.symbol_layer(med_high_points_lat_long, fill_color='yellow', stroke_color='green', scale= scale))
four_layer = (gmaps.symbol_layer(high_points_lat_long, fill_color='green', stroke_color='green', scale= scale))


fig.add_layer(one_layer)
fig.add_layer(two_layer)
fig.add_layer(three_layer)
fig.add_layer(four_layer)

fig
embed_minimal_html('export.html', views=[fig]
</code></pre>

<p>Long Form Error Bellow</p>

<hr>

<pre><code>)

KeyError                                  Traceback (most recent call last)
~/miniconda3/lib/python3.7/sre_parse.py in parse_template(source, pattern)
   1020                 try:
-&gt; 1021                     this = chr(ESCAPES[this][1])
   1022                 except KeyError:

KeyError: '\\u'

During handling of the above exception, another exception occurred:

error                                     Traceback (most recent call last)
&lt;ipython-input-7-c096ac365396&gt; in &lt;module&gt;
     20 
     21 slider = IntSlider(value=40)
---&gt; 22 embed_minimal_html('export.html', views=[slider], title='Widgets export')

~/miniconda3/lib/python3.7/site-packages/ipywidgets/embed.py in embed_minimal_html(fp, views, title, template, **kwargs)
    300     {embed_kwargs}
    301     """"""
--&gt; 302     snippet = embed_snippet(views, **kwargs)
    303 
    304     values = {

~/miniconda3/lib/python3.7/site-packages/ipywidgets/embed.py in embed_snippet(views, drop_defaults, state, indent, embed_url, requirejs, cors)
    266     widget_views = u'\n'.join(
    267         widget_view_template.format(view_spec=escape_script(json.dumps(view_spec)))
--&gt; 268         for view_spec in data['view_specs']
    269     )
    270 

~/miniconda3/lib/python3.7/site-packages/ipywidgets/embed.py in &lt;genexpr&gt;(.0)
    266     widget_views = u'\n'.join(
    267         widget_view_template.format(view_spec=escape_script(json.dumps(view_spec)))
--&gt; 268         for view_spec in data['view_specs']
    269     )
    270 

~/miniconda3/lib/python3.7/site-packages/ipywidgets/embed.py in escape_script(s)
    239     involving `&lt;` is readable.
    240     """"""
--&gt; 241     return script_escape_re.sub(r'\u003c\1', s)
    242 
    243 @doc_subst(_doc_snippets)

~/miniconda3/lib/python3.7/re.py in _subx(pattern, template)
    307 def _subx(pattern, template):
    308     # internal: Pattern.sub/subn implementation helper
--&gt; 309     template = _compile_repl(template, pattern)
    310     if not template[0] and len(template[1]) == 1:
    311         # literal replacement

~/miniconda3/lib/python3.7/re.py in _compile_repl(repl, pattern)
    298 def _compile_repl(repl, pattern):
    299     # internal: compile replacement pattern
--&gt; 300     return sre_parse.parse_template(repl, pattern)
    301 
    302 def _expand(pattern, match, template):

~/miniconda3/lib/python3.7/sre_parse.py in parse_template(source, pattern)
   1022                 except KeyError:
   1023                     if c in ASCIILETTERS:
-&gt; 1024                         raise s.error('bad escape %s' % this, len(this))
   1025                 lappend(this)
   1026         else:

error: bad escape \u at position 0 
</code></pre>
",32630,9,<python><google-maps><jupyter-notebook><ipywidgets>,2019-01-23 15:33:25
54315200,How to add parameter sliders to differential equation plots in python?,"<p>I'm using Python to plot the system of differential equations </p>

<pre><code>dldt = a*l - b*l*p
dpdt = -c*p + d*l*p
</code></pre>

<p>in Jupyter Notebook. How do I add interactive sliders to the plot to allow adjustment of constant parameters in the differential equations?</p>

<p>I've tried adding interactive sliders as per this Jupyter Notebook: <a href=""https://ipywidgets.readthedocs.io/en/stable/examples/Lorenz%20Differential%20Equations.html"" rel=""nofollow noreferrer"">https://ipywidgets.readthedocs.io/en/stable/examples/Lorenz%20Differential%20Equations.html</a>, but not being familiar with solving and plotting differential equations in Python, I don't know how to modify it to be able to interact with the parameters a, b, c, and d. The best I could get was a static plot per the code below.</p>

<pre><code>from scipy.integrate import odeint
import matplotlib.pyplot as plt
from IPython.html.widgets import *
import ipywidgets as wg
from IPython.display import display 
from numpy import pi

def f(s, t):

    a = 1
    b = 1
    c = 1
    d = 0.5
    l = s[0]
    p = s[1]
    dldt = a*l - b*l*p
    dpdt = -c*p + d*l*p
    return [dldt, dpdt]

t = np.arange(0,10*pi,0.01)
s0=[0.1,5]

s = odeint(f, s0, t)

plt.plot(t,s[:,0],'r-', linewidth=2.0)
plt.plot(t,s[:,1],'b-', linewidth=2.0)
plt.xlabel(""day in menstrual cycle"")
plt.ylabel(""concentration (ng/mL)"")
plt.legend([""LH"",""P""])
plt.show()
</code></pre>

<p>What I desire is a graph that starts out like the static graph, but also has sliders for parameters a, b, c, and d that allows you to change the graph as you change their values.</p>
",1026,1,<python><matplotlib><differential-equations><ipywidgets>,2019-01-22 19:30:31
54298019,Set spawner environment variables in custom Jupyterhub authenticator,"<p>I'm trying to use the remote authentication plugin for Jupyterhub, but also use it to save data into the <code>auth_state</code> property for the generated user.</p>
<p>Based heavily on the <a href=""https://github.com/cwaldbieser/jhub_remote_user_authenticator/blob/master/jhub_remote_user_authenticator/remote_user_auth.py"" rel=""nofollow noreferrer"">Remote User Authenticator</a>, I have it working such that I create a user and create a session by reading a query parameter.</p>
<pre><code>import os
import pprint
from jupyterhub.handlers import BaseHandler
from jupyterhub.auth import Authenticator
from jupyterhub.utils import url_path_join
from tornado import gen, web
from traitlets import Unicode

class InkspotUserLoginHandler(BaseHandler):

def get(self):
    inkspot_user = self.get_argument('user', None, True)
    inkspot_study = self.get_argument('studyFolder', None, True)
    if inkspot_user == &quot;&quot;:
        raise web.HTTPError(401)
    if inkspot_study == &quot;&quot;:
        raise web.HTTPError(401)

    user = self.user_from_username(inkspot_user)
    self.set_login_cookie(user)
    
    next_url = self.get_next_url(user)
    self.redirect(next_url)


class InkspotUserAuthenticator(Authenticator):
&quot;&quot;&quot;
Accept the authenticated user name from the user query parameter.
&quot;&quot;&quot;

def get_handlers(self, app):
    return [
        (r'/login', InkspotUserLoginHandler),
    ]

@gen.coroutine
def authenticate(self, handler, data):
    raise NotImplementedError()
</code></pre>
<p>However, I need to set environment variables in the spawner based on other query parameters sent to the authenticator. I've seen a <a href=""https://jupyterhub.readthedocs.io/en/stable/reference/authenticators.html#using-auth-state"" rel=""nofollow noreferrer"">code example</a> in the documentation on using <code>auth_state</code> as a way of storing data that be accessed by the <code>pre_spawn_start</code> hook, but can't see how that would work with the code I have. The code from the documentation looks like this:</p>
<pre><code>class MyAuthenticator(Authenticator):
@gen.coroutine
def authenticate(self, handler, data=None):
    username = yield identify_user(handler, data)
    upstream_token = yield token_for_user(username)
    return {
        'name': username,
        'auth_state': {
            'upstream_token': upstream_token,
        },
    }

@gen.coroutine
def pre_spawn_start(self, user, spawner):
    &quot;&quot;&quot;Pass upstream_token to spawner via environment variable&quot;&quot;&quot;
    auth_state = yield user.get_auth_state()
    if not auth_state:
        # auth_state not enabled
        return
    spawner.environment['UPSTREAM_TOKEN'] = auth_state['upstream_token']
</code></pre>
<p>My custom handler doesn't return anything, it redirects - which is probably why the authenticate method returns a <code>NotImplementedError</code>.</p>
<p>What am I missing that would allow me to use the <code>pre_spawn_start</code> hook in my existing code?</p>
",1042,0,<python><python-3.x><jupyter-lab><jupyterhub>,2019-01-21 21:30:17
54289834,JupyterHub - how to debug UI issues?,"<p>We use jupyterhub cluster and without any noticeable change on our side, the notebook cells' height turned huge and static (attached a picture)</p>

<p>Tried to fix the issue looking at - <a href=""https://stackoverflow.com/questions/21971449/how-do-i-increase-the-cell-width-of-the-jupyter-ipython-notebook-in-my-browser"">How do I increase the cell width of the Jupyter/ipython notebook in my browser?</a></p>

<p>Managed to decrease the cells size but it's still static.</p>

<p>Any suggestion what has might caused the change? And how to fix this?</p>

<p>This is how our cells look today - </p>

<p><a href=""https://i.stack.imgur.com/UB825.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/UB825.png"" alt=""enter image description here""></a></p>
",147,0,<jupyter-notebook><jupyter><jupyterhub>,2019-01-21 12:18:50
54227239,How do I separate model and view in ipywidgets?,"<p>Consider the example of a simple foreign exchange calculator app.</p>

<p>I can define my model using <code>traitlets</code>:</p>

<pre><code>from traitlets import HasTraits, Float, observe, Enum
import math

class FXModel(HasTraits):
    domestic_qty = Float()
    foreign_qty = Float()
    fx_rate  = Float(float('nan')) # in units of domestic_qty/foreign_qty
    lock = Enum(['domestic', 'foreign'], default_value='domestic')
    _calculating = Enum([None, 'domestic', 'foreign'], default_value=None)

    def calc_foreign(self):
        if not math.isnan(self.fx_rate):
            self._calculating = 'foreign'
            self.foreign_qty = self.domestic_qty / self.fx_rate
            self._calculating = None

    def calc_domestic(self):
        if not math.isnan(self.fx_rate):
            self._calculating = 'domestic'
            self.domestic_qty = self.foreign_qty * self.fx_rate
            self._calculating = None

    @observe('domestic_qty')
    def on_domestic(self, change):
        if self._calculating is None:
            self.calc_foreign()

    @observe('foreign_qty')
    def on_foreign(self, change):
        if self._calculating is None:
            self.calc_domestic()

    @observe('fx_rate')
    def on_fxrate(self, change):
        if self.lock == 'domestic':
            self.calc_foreign()
        else:
            self.calc_domestic()
</code></pre>

<p>And a corresponding simple ""print"" based view:</p>

<pre><code>class FXView:
    def __init__(self, model):
        self.model = model

    def show(self):
        print(""""""
        domestic_qty: {:.4g}
        foreign_qty:  {:.4g}
        fx_rate:      {:.4g}
        lock:         {}"""""".format(
            self.model.domestic_qty,
            self.model.foreign_qty,
            self.model.fx_rate,
            self.model.lock
        ))
</code></pre>

<p>Here's how it works:</p>

<pre><code>&gt;&gt; fx_model = FXModel(domestic_qty = 100., fx_rate = 200.)
&gt;&gt; fx_view = FXView(fx_model)
&gt;&gt; fx_view.show()
    domestic_qty: 100
    foreign_qty:  0.5
    fx_rate:      200
    lock:         domestic
&gt;&gt; fx_model.fx_rate = 195.
&gt;&gt; fx_view.show()
    domestic_qty: 100
    foreign_qty:  0.5128
    fx_rate:      195
    lock:         domestic
</code></pre>

<p>I have also created a view using ipywidgets:</p>

<pre><code>import ipywidgets as widgets
domestic_label = widgets.Label(""Domestic quantity"")
domestic_field = widgets.FloatText()

foreign_label = widgets.Label(""Foreign quantity"")
foreign_field = widgets.FloatText()

fx_label = widgets.Label(""Exchange rate (domestic/foreign)"")
fx_field = widgets.FloatText()

lock_label = widgets.Label(""If rates change, keep "")
lock_field = widgets.Dropdown(options=[""domestic"", ""foreign""])
lock_label_post = widgets.Label('fixed')

ipyview = widgets.HBox([widgets.VBox([domestic_label, foreign_label, fx_label, lock_label]),
              widgets.VBox([domestic_field, foreign_field, fx_field, widgets.HBox([lock_field, lock_label_post])])])
</code></pre>

<p>It looks really good:</p>

<p><a href=""https://i.stack.imgur.com/PnuN5.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/PnuN5.png"" alt=""enter image description here""></a></p>

<p>My question is; how can I ""bind"" my model and my ipyview together? I have some experience with <code>enaml</code> where this is possible via the operator <code>:=</code> and friends.</p>

<p>What's the best way of doing this with <code>ipywidgets</code>?</p>
",617,1,<python><model-view-controller><ipywidgets><enaml>,2019-01-17 00:07:13
54211364,How to copy files from jupyter lab to Google drive,"<p>I'm trying to copy jupyter lab files to Google drive location, But I'm not able to copy files to google drive location by using copy options.</p>

<p>So How I can copy these files. Can you suggest any solutions to solve this problem?</p>
",1042,0,<google-drive-api><jupyter-notebook><jupyter-lab><jupyterhub><jupyter-irkernel>,2019-01-16 06:15:12
54175307,custom DatePicker in ipywidgets,"<p>I am using a DatePicker widget for selecting dates based on which I have to do some tasks in Jupyter notebook procedures. 
The DatePicker widget is created using ipywidget library. </p>

<p>The problem which I am facing now is that it shows all the dates of month and years. </p>

<p>Is there any way by which I can disable the dates which are not present in a list containing all the valid dates for my application. </p>

<p>For instance lets say I have a list of dates which has 2018-12-25, 2019-01-09 and 2019-01-13. So now, I want only these days to be enabled in the DatePicker widget and rest of the dates should be disabled. </p>

<p>Please suggest and help.!!! </p>
",2194,4,<python><python-3.x><jupyter-notebook><ipython><ipywidgets>,2019-01-14 03:06:06
54173067,How can I create working buttons next to (and not below or above) a matplotlib plot in Jupyter Notebook using Python?,"<p>I have 2 buttons and a plot, below each other. The code:</p>

<pre><code>from IPython.display import display
import matplotlib.pyplot as plt

button1 = widgets.Button(description=""Yes"")
display(button1)
button2 = widgets.Button(description=""No"")
display(button2)

def logyes(b):
    print(""yes"")

def logno(b):
    print(""no"")

button1.on_click(logyes)
button2.on_click(logno)

plt.figure(figsize=(3,3))
plt.plot([1,2],[3,4])
</code></pre>

<p>The result in Jupyter Notebook:</p>

<p><a href=""https://i.stack.imgur.com/f0Bfe.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/f0Bfe.png"" alt=""enter image description here""></a></p>

<p>I would like the plot to be placed next to the buttons, not below the buttons. I tried using <a href=""https://matplotlib.org/gallery/widgets/buttons.html"" rel=""nofollow noreferrer"">this example</a>, and changed the lines beginning with <code>axprev</code> and <code>axnext</code> to:</p>

<pre><code>axprev = plt.axes([-0.2, 0.75, 0.2, 0.1])
axnext = plt.axes([-0.2, 0.65, 0.2, 0.1])
</code></pre>

<p>Getting the result:</p>

<p><a href=""https://i.stack.imgur.com/zrq3S.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/zrq3S.png"" alt=""enter image description here""></a></p>

<p>This is the right orientation (plot next to buttons, not below buttons), but these buttons (<code>Previous</code>, <code>Next</code>) are not working in Jupyter Notebook, as they are not IPython widgets.</p>

<p>How can I create working buttons next to a plot in Jupyter Notebook?</p>
",2332,1,<python><matplotlib><button><widget><ipywidgets>,2019-01-13 20:47:17
54166556,Adding libraries to PySpark kernel on Jupyter/JupiterHub on EMR,"<p>I'm trying to use Matplotlib with PySpark3 with JupyterHub (0.9.4) running on a docker on an AWS EMR (5.20). There are 4 kernels preinstalled on that JupyterHub: Python, PySpark, PySpark3, and Spark.
There was no problem importing Matplotlib with the Python kernel. However, when I tried ""import matplotlib as plt"" with either PySpark or PySpark3 kernel, I got back the message ""matplotlib not found"". Have been trying to find a guy on that but no luck.</p>

<p>Could you please help?</p>

<p>Thanks and regards,
Averell</p>
",1285,2,<libraries><amazon-emr><jupyterhub>,2019-01-13 06:22:05
54112562,How to deploy jupyterHub by kubeflow,"<p>when i 'ks apply default -c jupyter' to deploy a jupyterHub, it always response following errors:</p>

<blockquote>
  <p>[I 2019-01-09 14:28:52.866 JupyterHub app:871] Writing cookie_secret
  to /jupyterhub_cookie_secret [I 2019-01-09 14:28:52.880
  alembic.runtime.migration migration:117] Context impl SQLiteImpl. [I
  2019-01-09 14:28:52.880 alembic.runtime.migration migration:122] Will
  assume non-transactional DDL. [I 2019-01-09 14:28:52.895
  alembic.runtime.migration migration:327] Running stamp_revision  ->
  3ec6993fe20c [W 2019-01-09 14:28:53.034 JupyterHub app:955] No admin
  users, admin interface will be unavailable. [W 2019-01-09 14:28:53.034
  JupyterHub app:956] Add any administrative users to
  <code>c.Authenticator.admin_users</code> in config. [I 2019-01-09 14:28:53.034
  JupyterHub app:983] Not using whitelist. Any authenticated user will
  be allowed. [I 2019-01-09 14:28:53.059 JupyterHub app:1528] Hub API
  listening on <a href=""http://0.0.0.0:8081/hub/"" rel=""nofollow noreferrer"">http://0.0.0.0:8081/hub/</a> [W 2019-01-09 14:28:53.060
  JupyterHub proxy:415] 
      Generating CONFIGPROXY_AUTH_TOKEN. Restarting the Hub will require restarting the proxy.
      Set CONFIGPROXY_AUTH_TOKEN env or JupyterHub.proxy_auth_token config to avoid this message. [W 2019-01-09 14:28:53.060 JupyterHub
  proxy:456] Running JupyterHub without SSL.</p>
</blockquote>

<p>I hope there is SSL termination happening somewhere else...</p>

<blockquote>
  <p>[I 2019-01-09 14:28:53.061 JupyterHub proxy:458] Starting proxy @
  <a href=""http://0.0.0.0:8000/"" rel=""nofollow noreferrer"">http://0.0.0.0:8000/</a> [E 2019-01-09 14:28:53.064 JupyterHub proxy:467]
  Failed to find proxy ['configurable-http-proxy']
      The proxy can be installed with <code>npm install -g configurable-http-proxy</code> [C 2019-01-09 14:28:53.065 JupyterHub
  app:1535] Failed to start proxy
      Traceback (most recent call last):
        File ""/usr/local/lib/python3.6/site-packages/jupyterhub/app.py"", line 1533, in start
          yield self.proxy.start()
        File ""/usr/local/lib/python3.6/site-packages/jupyterhub/proxy.py"", line
  462, in start
          self.proxy_process = Popen(cmd, env=env, start_new_session=True, shell=shell)
        File ""/usr/local/lib/python3.6/subprocess.py"", line 709, in <strong>init</strong>
          restore_signals, start_new_session)
        File ""/usr/local/lib/python3.6/subprocess.py"", line 1344, in _execute_child
          raise child_exception_type(errno_num, err_msg, err_filename)
      FileNotFoundError: [Errno 2] No such file or directory: 'configurable-http-proxy': 'configurable-http-proxy'</p>
</blockquote>
",172,-1,<jupyter><jupyterhub><kubeflow>,2019-01-09 14:40:12
54093955,ipywidgets use checkbox to display or hide other widgets,"<p>I am using <a href=""https://ipywidgets.readthedocs.io/en/stable/examples/Widget%20Basics.html"" rel=""nofollow noreferrer"">ipywidgets</a> to create a short form, showing two fields, the expected width and the height of an image.</p>

<p>I want to add a checkbox so that if the box is checked, the information is loaded from a file instead.</p>

<p>If the box is checked, a text area (or file selector) should appear and a button to load the file read it and fill the text boxes. </p>

<p>Should I do this by observing the checkbox event? is there a way to hide a widget?</p>
",3640,2,<python><widget><jupyter-notebook><ipywidgets>,2019-01-08 14:30:44
54068238,Accessing an internal loadBalancer (dask-scheduler) from outside GCP,"<p>Our structure is as follows:</p>

<ul>
<li>Project A - Defines and manages a shared VPC, which all projects are members of</li>
<li>Project B - Running Jupyterhub on GKE</li>
<li>Project C/D/E ... - Running dask on GKE</li>
</ul>

<p>Jupyterhub and dask have been deployed on the clusters using Helm, with the majority of the modifications being applied e via Helm values charts. </p>

<p>Now usually, with Jupyter and dask on the same cluster, it's very easy to utilise the dask scheduler. It is also easy to then view the dask's Bokeh diagnostics view by visiting the EXTERNAL-IP of the scheduler with a web browser. </p>

<p>In our case, the cluster sits in a different project (within the same VPC), so to allow usage of the scheduler (Project C) from Jupyterhub (Project B), we needed to modify the dask-scheduler to act as an <strong>internal</strong> load balancer with the following command:</p>

<p><code>kubectl annotate svc dask-scheduler cloud.google.com/load-balancer-type=Internal</code></p>

<p>We are now able to utilise the dask-scheduler from project B, great! However, the problem is that now we cannot view the dask-scheduler's Bokeh, because the EXTERNAL-IP (that we would usually view Bokeh with) has been replaced by this special internal IP.</p>

<p>I feel like I should be able to expose an external IP and forward it to the scheduler, but I've not had any luck after a couple of days worth of experimentation. It's also worth noting that JupyterLab's (as opposed to JupyterHub) dask bokeh plugin does not work, which seems strange to me since we're allowing traffic within the VPC, and usually simply supplying the scheduler IP to this plugin works (the notebook is evidently able to speak to dask-scheduler, it just cannot see the bokeh panel). </p>

<p>Current firewall rules allow communication between the GKE IP ranges on all ports and all protocols (this was key in allowing Jupyterhub to utilise the dask-scheduler).</p>

<p>I can provide more info if needed, I'm still learning a lot of these concepts so let me know if anything is unclear. </p>

<p>Thanks! </p>
",228,0,<kubernetes><google-cloud-platform><dask><jupyterhub><kubernetes-helm>,2019-01-07 03:27:54
54062733,How to install Julia kernel for Jupyterhub,"<p>I'm trying to make julia language available through jupyterhub on an ubuntu server.
I already have installed and configured the jupyterhub. Its working fine with python3.5.
And the authentication method is Regular Unix users and PAM.</p>

<p>I installed the julia language in <code>/usr/local/julia-1.0.2/</code> and it is available for all users globally. </p>

<p>then with the root user I set the <code>JULIA_DEPOT_PATH=""/usr/share/juliapackages/</code> 
then again with the root user, I run the julia and run the<br>
<code>using Pkg
Pkg.add(""IJulia"")
</code> 
it installs the IJulia in the specified path.</p>

<p>from this point, I didn't find any further useful instructions on the internet over the subject of installing julia kernel for jupyterhub, so I don't know how to proceed.
does anybody have a good step by step document to find the solution?</p>

<p>I followed the instruction proposed <a href=""https://discourse.julialang.org/t/julia-kernel-on-jupyterhub-system-wide-ldap/14809"" rel=""nofollow noreferrer"">here</a> but it seems doesn't work for me.</p>
",1066,1,<julia><jupyterhub>,2019-01-06 14:55:06
54029719,Jupyter Ipywidgets - How to clear cell output before re-printing the output,"<p>Using Python 3.7 in a Jupyter notebook, the code below shows a text entry field that triggers the handle_submit function to print out some output.
In this example 40 repetitions of the input.</p>

<pre><code>from ipywidgets import widgets
from IPython.display import display

text = widgets.Text()
display(text)

def handle_submit(sender):
    print('\n'.join([text.value] * 40 ))   

text.on_submit(handle_submit)
</code></pre>

<p>Running this code displays a text box.</p>

<p>If you enter text in the box and press Enter, the handle_submit function is run and the ""result"" is printed.</p>

<p>This can be used multiple times, but all old output is kept. So after using the entry field a couple of times you need to scroll endlessly to get to the new result.</p>

<p>Is there a command to clear the cell output before printing new output from the handle_submit function? Unlike this example, the output length is not fixed, so the solution should handle differently sized outputs.</p>
",5430,4,<python><python-3.x><jupyter-notebook><ipywidgets>,2019-01-03 20:59:38
53904416,How to isolate the spark session for each user on jupyterhub?,"<p>I have an AD plugin connected to my JupyterHub installation so that users will be authenticated on JupyterHub via AD connector. </p>

<p>The issue is if different users submit their Spark job through Jupyter Notebook on JupyterHub to the shared underlying Spark engine, is there a way that each user will have their isolated Spark session instead of the shared one?</p>

<p>Thanks very much in advance!</p>
",231,1,<apache-spark><jupyter><jupyterhub>,2018-12-23 14:29:37
53898905,"Using pip or pip3 to install packages in Anaconda, Python, Jupyter","<p>I have always been under the belief that <code>pip</code> manages packages for one's python2, and <code>pip3</code> for one's python 3. On a JupyterHub server that I run, I have the habit of installing packages that our team uses as root. Doing <code>sudo -i</code> and then <code>pip3 install &lt;package-name&gt;</code>. Sometimes, this makes <code>import &lt;package-name&gt;</code> work from a python3 notebook in Jupyter. But often not. Then, if I instead do <code>pip</code> install , the package is accessible from notebooks (python3 ones, all of them) on the server. Why is this?</p>

<p>This is what I have:</p>

<pre><code>~# which python 
/anaconda3/bin/python

~# which python3 
/anaconda3/bin/python3

~# which pip 
/anaconda3/bin/pip

~# which pip3 
/anaconda3/bin/pip3

~# which jupyter 
/anaconda3/bin/jupyter
</code></pre>
",9395,2,<python><pip><anaconda><jupyter-notebook><jupyterhub>,2018-12-22 19:58:14
53888208,How to use a string as a function parameter in Python and have variable number of parameters,"<p>I have a function called filter that accepts a number of parameters in the format name=value. I have 2 lists: names and values (let's call them x and y), I need to be able to pass these into the function.</p>

<p>When I just pass in the string as in the below example, it gives me an error:</p>

<pre><code>x = ['t', 't2']
y = [w, w2]
filter(x[0]=y[0], x[1]=y[1])
</code></pre>

<p>SyntaxError: keyword can't be an expression</p>

<p>I would also need to be able to pass in an arbitrary amount, for the size of the lists. How can I go about making this work?</p>
",1365,0,<python><ipywidgets>,2018-12-21 16:42:41
53838155,passing data wtih ajax using python's tornado in jupyterhub,"<p>I am attempting to do something very simple. There is a modal on my page designed to show up whenever a button is clicked. The buttons are a cell in a  in my page's table. The button should launch the modal, and display data inside of that modal based on the rest of the row data. Specifically, one cell: the ID. I am using the python backend to grab a set of data from my DB based on the ID of the click. I have tried as hard as I can to make progress on this on my own. </p>

<p>I am using jquery to handle the click, and all of this is running inside of a jupyterhub server. </p>

<p>Here is the api method to fetch the id from the page:</p>

<pre><code>JHAPI.prototype.api_request = function (path, options) {
    options = options || {};
    options = ajax_defaults(options || {});
    var url = utils.url_path_join(
        this.base_url,
        'api',
        utils.encode_uri_components(path)
    );
    $.ajax(url, options);
};

JHAPI.prototype.get_sg = function (sg_id, options) {
    console.log(sg_id);
    options = options || {};
    this.api_request(
        utils.url_path_join('securitygroup', sg_id),
        options
    );
};
</code></pre>

<p>Here is the jquery on the page that calls it:</p>

<pre><code> $("".rules"").click(function () {
      var el = $(this);
      var id = $(this).closest(""tr"").find("".sgid"").text();
      var dialog = $(""#rules-dialog"");
      dialog.find("".rules-sg"").text(id);
      console.log(api.get_sg(id, {}));
      dialog.modal();
  })
</code></pre>

<p>and finally the python: </p>

<pre><code>  class SecurityGroupAPIHandler(APIHandler):
  async def get(self, sg_id):
      data = [""test""]
      self.write(json.dumps(data))

  default_handlers = [
  (r""/api/user"", SelfAPIHandler),
  (r""/api/securitygroup/([^/]+)"", SecurityGroupAPIHandler),
  (r""/api/users"", UserListAPIHandler), ...]
</code></pre>

<p>As you can see im not actually doing any of the DB fetching yet, im just trying to get the <code>console.log(get_sg(...)</code> to actually sucessfully log <em>something</em>. Currently it's returning undefined. However, the <code>console.log</code> inside of the <code>get_sg</code> function is being called successfully and printing the correct id, so I'm 99% sure this is happening on the python side. Thanks so much for your help!</p>
",94,1,<javascript><jquery><python-3.x><tornado><jupyterhub>,2018-12-18 17:23:52
53825302,How to set PAM auth for jupyterhub on Kubernetes cluster?,"<p>I have been trying to deploy JupyterHub on my Kubernetes cluster (on 3 virtualbox nodes) and willing to use PAM authentication but unfortunately there is nothing in the documents. 
I would appreciate if somebody explain the steps briefly, or at least give me some hint to follow.</p>

<p>I'll give more information if needed.</p>

<p>Thanks,  </p>
",731,1,<authentication><kubernetes><pam><jupyterhub>,2018-12-18 01:46:47
53818492,Generic class for jupyter widgets,"<p>I'm attempting to create a class to easily create and generate jupyter widgets for dashboards in my notebooks. This class so far has an add_row and display method. I'm having trouble finding a way to easily pass parameters to the widget object as different widgets require different things (instead of using a 100 if statements for each widget). It works fine for TextBox at the moment but I want to extend it to get it to work with all widgets.</p>

<p>Here's a sample of the add_row method:</p>

<pre><code># types: Type of widgets ex: ['Text', 'Text', 'Text']
# labels: Label names ['A', 'B', 'C']
# values: Default values ['', '', '']

for i in range(len(labels)):
    w = getattr(widgets, types[i])

    row.append(w(description=labels[i], value=values[i]))

self.rows.append(widgets.HBox(row))
</code></pre>
",272,0,<python><jupyter-notebook><ipywidgets>,2018-12-17 15:42:31
53731265,How to change Jupyter kernel and conda environment from within Jupyter?,"<p>Use Case:</p>

<p>The cluster at my University has a JupyterHub instance. I have my own conda environments I like to use. Is there a way, after my Jupyter notebook has launched, for me to specify a conda environment and kernel?</p>
",390,0,<jupyter-notebook><jupyter><conda><jupyterhub>,2018-12-11 19:43:38
53550184,Jupyter Hub with MariaDB instead of SQLite,"<p>I try to replace SQLite by MariaDB on Jupyter Hub.
In the Jupyter Hub configuration file I changed:</p>

<p><code>#c.JupyterHub.db_url = 'sqlite:///jupyterhub.sqlite'</code></p>

<p>by</p>

<p><code>c.JupyterHub.db_url = 'mysql+pymysql://{}:{}@{}/{}{}'.format(""username"",""pwd"",""localhost"",""jupyterhub"","""")</code></p>

<p>I've created an empty database ""jupyterhub"" with PhpMyAdmin, but when I launch Jupyter Hub, I have the following error message :</p>

<p><code>Failed to connect to db: mysql+pymysql://username:pwd@localhost/jupyterhub</code></p>

<p>""Username"" and ""pwd"" are good, they work with PhpMyAmdin.</p>

<p>I've tried several things but no luck. Any idea ?</p>
",737,0,<sqlite><jupyter-notebook><mariadb><jupyter><jupyterhub>,2018-11-30 02:01:56
53465429,Jupyter Lab Extension installation warning (ipywidgets),"<blockquote>
  <p>warning css-loader > cssnano > autoprefixer > browserslist@1.7.7:
  Browserslist 2 could fail on reading Browserslist >3.0 config used in
  other tools.<br>
  .. SNIP...<br>
   warning ""@jupyterlab/vdom-extension >
  @nteract/transform-vdom@1.1.1"" has incorrect peer dependency
  ""react@^15.6.1"".<br>
   .. SNIP...<br>
  warning Your current version of Yarn is out of date. The latest version is ""1.12.3"", while you're on ""1.9.4"".1  </p>
</blockquote>

<p>Installed Jupyter Lab extension as per the official docs.</p>

<p><a href=""https://ipywidgets.readthedocs.io/en/stable/user_install.html#installing-the-jupyterlab-extension"" rel=""nofollow noreferrer"">jupyter labextension install @jupyter-widgets/jupyterlab-manager</a></p>

<p>Should I worry about these ? (for working with Jupyter Lab) and I don't even have Yarn installed. I use Minoconda and using conda-forge channel</p>

<p><strong>NOTE:</strong> Nodejs is installed in the <em>primary</em> environment while these warning came when I was installing Jupyter Lab Extensions in an environment named <em>geospatial</em>, and <em>geospatial</em> does not have Nodejs. Both don't have Yarn.</p>
",562,0,<node.js><miniconda><jupyter-lab><ipywidgets>,2018-11-25 07:13:53
53457000,MIME type warning when plotting data with R in a Jupyter notebook,"<p>I can't figure this one out. Every time I plot data with R (IRKernel) into a Jupyter notebook I get a warning message that says ""No renderer could be found for output. It has the following MIME types:"" I'm using Chrome to display my notebooks using Jupyter Lab.</p>

<p>Thing is, the plots are perfectly displayed, so I don't quite understand why I'm getting this message. I tried changing the MIME type to png and svg+xml in the corresponding cells, but I keep getting the warning we both.</p>

<p>Any ideas? Thanks!</p>
",863,2,<r><jupyter-notebook><mime-types><jupyter-lab><jupyter-irkernel>,2018-11-24 09:52:13
53423555,jupyter notebook with R cannot display specific Kanji (multibyte characters),"<p>I am using jupyter notebook, but R kernel(IRkernel) sometimes die when inputting Kanji(japanese multibyte chars).<br>
I've tried a few Kanji, and found that IRkernel dies when using specific Kanji characters. For example, '十', '能', '表', etc.  </p>

<p><a href=""https://i.stack.imgur.com/Y0X6X.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/Y0X6X.png"" alt=""enter image description here""></a></p>

<p>Above image is R concole. Below is Python console.<br>
It doesen't work with R kernel only.</p>

<p><a href=""https://i.stack.imgur.com/0WBEI.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/0WBEI.png"" alt=""enter image description here""></a>
　　</p>

<pre><code>[I 12:44:58.387 LabApp] Kernel started: 9bbe39ea-ef5a-40c3-ae71-fa071874fc79
-- Attaching packages --------------------------------------- tidyverse 1.2.1 --
 tibble  1.4.2      purrr   0.2.5
 tidyr   0.8.2      dplyr   0.7.8
 readr   1.1.1      forcats 0.3.0
-- Conflicts ------------------------------------------ tidyverse_conflicts() --
x dplyr::between()    masks data.table::between()
x readr::col_factor() masks scales::col_factor()
x purrr::discard()    masks scales::discard()
x dplyr::first()      masks data.table::first()
x dplyr::last()       masks data.table::last()
x purrr::transpose()  masks data.table::transpose()
[I 12:45:00.626 LabApp] Adapting to protocol v5.0 for kernel 9bbe39ea-ef5a-40c3-ae71-fa071874fc79
[E 12:45:09.377 LabApp] Uncaught exception in ZMQStream callback
    Traceback (most recent call last):
      File ""C:\ProgramData\Anaconda3\lib\site-packages\zmq\eventloop\zmqstream.py"", line 432, in _run_callback
        callback(*args, **kwargs)
      File ""C:\ProgramData\Anaconda3\lib\site-packages\tornado\stack_context.py"", line 276, in null_wrapper
        return fn(*args, **kwargs)
      File ""C:\ProgramData\Anaconda3\lib\site-packages\notebook\services\kernels\kernelmanager.py"", line 376, in record_activity
        msg = session.deserialize(fed_msg_list)
      File ""C:\ProgramData\Anaconda3\lib\site-packages\jupyter_client\session.py"", line 933, in deserialize
        message['content'] = self.unpack(msg_list[4])
      File ""C:\ProgramData\Anaconda3\lib\site-packages\jupyter_client\session.py"", line 105, in &lt;lambda&gt;
        json_unpacker = lambda s: jsonapi.loads(s)
      File ""C:\ProgramData\Anaconda3\lib\site-packages\zmq\utils\jsonapi.py"", line 56, in loads
        return jsonmod.loads(s, **kwargs)
      File ""C:\ProgramData\Anaconda3\lib\json\__init__.py"", line 354, in loads
        return _default_decoder.decode(s)
      File ""C:\ProgramData\Anaconda3\lib\json\decoder.py"", line 339, in decode
        obj, end = self.raw_decode(s, idx=_w(s, 0).end())
      File ""C:\ProgramData\Anaconda3\lib\json\decoder.py"", line 355, in raw_decode
        obj, end = self.scan_once(s, idx)
    json.decoder.JSONDecodeError: Invalid \escape: line 1 column 25 (char 24)
[E 12:45:09.377 LabApp] Uncaught exception in zmqstream callback
    Traceback (most recent call last):
      File ""C:\ProgramData\Anaconda3\lib\site-packages\zmq\eventloop\zmqstream.py"", line 450, in _handle_events
        self._handle_recv()
      File ""C:\ProgramData\Anaconda3\lib\site-packages\zmq\eventloop\zmqstream.py"", line 480, in _handle_recv
        self._run_callback(callback, msg)
      File ""C:\ProgramData\Anaconda3\lib\site-packages\zmq\eventloop\zmqstream.py"", line 432, in _run_callback
        callback(*args, **kwargs)
      File ""C:\ProgramData\Anaconda3\lib\site-packages\tornado\stack_context.py"", line 276, in null_wrapper
        return fn(*args, **kwargs)
      File ""C:\ProgramData\Anaconda3\lib\site-packages\notebook\services\kernels\kernelmanager.py"", line 376, in record_activity
        msg = session.deserialize(fed_msg_list)
      File ""C:\ProgramData\Anaconda3\lib\site-packages\jupyter_client\session.py"", line 933, in deserialize
        message['content'] = self.unpack(msg_list[4])
      File ""C:\ProgramData\Anaconda3\lib\site-packages\jupyter_client\session.py"", line 105, in &lt;lambda&gt;
        json_unpacker = lambda s: jsonapi.loads(s)
      File ""C:\ProgramData\Anaconda3\lib\site-packages\zmq\utils\jsonapi.py"", line 56, in loads
        return jsonmod.loads(s, **kwargs)
      File ""C:\ProgramData\Anaconda3\lib\json\__init__.py"", line 354, in loads
        return _default_decoder.decode(s)
      File ""C:\ProgramData\Anaconda3\lib\json\decoder.py"", line 339, in decode
        obj, end = self.raw_decode(s, idx=_w(s, 0).end())
      File ""C:\ProgramData\Anaconda3\lib\json\decoder.py"", line 355, in raw_decode
        obj, end = self.scan_once(s, idx)
    json.decoder.JSONDecodeError: Invalid \escape: line 1 column 25 (char 24)
Exception in callback BaseAsyncIOLoop._handle_events(1596, 1)
handle: &lt;Handle BaseAsyncIOLoop._handle_events(1596, 1)&gt;
Traceback (most recent call last):
  File ""C:\ProgramData\Anaconda3\lib\asyncio\events.py"", line 145, in _run
    self._callback(*self._args)
  File ""C:\ProgramData\Anaconda3\lib\site-packages\tornado\platform\asyncio.py"", line 117, in _handle_events
    handler_func(fileobj, events)
  File ""C:\ProgramData\Anaconda3\lib\site-packages\tornado\stack_context.py"", line 276, in null_wrapper
    return fn(*args, **kwargs)
  File ""C:\ProgramData\Anaconda3\lib\site-packages\zmq\eventloop\zmqstream.py"", line 450, in _handle_events
    self._handle_recv()
  File ""C:\ProgramData\Anaconda3\lib\site-packages\zmq\eventloop\zmqstream.py"", line 480, in _handle_recv
    self._run_callback(callback, msg)
  File ""C:\ProgramData\Anaconda3\lib\site-packages\zmq\eventloop\zmqstream.py"", line 432, in _run_callback
    callback(*args, **kwargs)
  File ""C:\ProgramData\Anaconda3\lib\site-packages\tornado\stack_context.py"", line 276, in null_wrapper
    return fn(*args, **kwargs)
  File ""C:\ProgramData\Anaconda3\lib\site-packages\notebook\services\kernels\kernelmanager.py"", line 376, in record_activity
    msg = session.deserialize(fed_msg_list)
  File ""C:\ProgramData\Anaconda3\lib\site-packages\jupyter_client\session.py"", line 933, in deserialize
    message['content'] = self.unpack(msg_list[4])
  File ""C:\ProgramData\Anaconda3\lib\site-packages\jupyter_client\session.py"", line 105, in &lt;lambda&gt;
    json_unpacker = lambda s: jsonapi.loads(s)
  File ""C:\ProgramData\Anaconda3\lib\site-packages\zmq\utils\jsonapi.py"", line 56, in loads
    return jsonmod.loads(s, **kwargs)
  File ""C:\ProgramData\Anaconda3\lib\json\__init__.py"", line 354, in loads
    return _default_decoder.decode(s)
  File ""C:\ProgramData\Anaconda3\lib\json\decoder.py"", line 339, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File ""C:\ProgramData\Anaconda3\lib\json\decoder.py"", line 355, in raw_decode
    obj, end = self.scan_once(s, idx)
json.decoder.JSONDecodeError: Invalid \escape: line 1 column 25 (char 24)
[E 12:45:09.377 LabApp] Uncaught exception GET /api/kernels/9bbe39ea-ef5a-40c3-ae71-fa071874fc79/channels?session_id=89b50480637cb8ce56024a508a3e4c34 (::1)
    HTTPServerRequest(protocol='http', host='localhost:9999', method='GET', uri='/api/kernels/9bbe39ea-ef5a-40c3-ae71-fa071874fc79/channels?session_id=89b50480637cb8ce56024a508a3e4c34', version='HTTP/1.1', remote_ip='::1')
    Traceback (most recent call last):
      File ""C:\ProgramData\Anaconda3\lib\site-packages\tornado\web.py"", line 1499, in _stack_context_handle_exception
        raise_exc_info((type, value, traceback))
      File ""&lt;string&gt;"", line 4, in raise_exc_info
      File ""C:\ProgramData\Anaconda3\lib\site-packages\tornado\stack_context.py"", line 315, in wrapped
        ret = fn(*args, **kwargs)
      File ""C:\ProgramData\Anaconda3\lib\site-packages\zmq\eventloop\zmqstream.py"", line 196, in &lt;lambda&gt;
        self.on_recv(lambda msg: callback(self, msg), copy=copy)
      File ""C:\ProgramData\Anaconda3\lib\site-packages\notebook\services\kernels\handlers.py"", line 313, in _on_zmq_reply
        msg = self.session.deserialize(fed_msg_list)
      File ""C:\ProgramData\Anaconda3\lib\site-packages\jupyter_client\session.py"", line 933, in deserialize
        message['content'] = self.unpack(msg_list[4])
      File ""C:\ProgramData\Anaconda3\lib\site-packages\jupyter_client\session.py"", line 105, in &lt;lambda&gt;
        json_unpacker = lambda s: jsonapi.loads(s)
      File ""C:\ProgramData\Anaconda3\lib\site-packages\zmq\utils\jsonapi.py"", line 56, in loads
        return jsonmod.loads(s, **kwargs)
      File ""C:\ProgramData\Anaconda3\lib\json\__init__.py"", line 354, in loads
        return _default_decoder.decode(s)
      File ""C:\ProgramData\Anaconda3\lib\json\decoder.py"", line 339, in decode
        obj, end = self.raw_decode(s, idx=_w(s, 0).end())
      File ""C:\ProgramData\Anaconda3\lib\json\decoder.py"", line 355, in raw_decode
        obj, end = self.scan_once(s, idx)
    json.decoder.JSONDecodeError: Invalid \escape: line 1 column 25 (char 24)
</code></pre>

<p>And this code works on native R environment fine, so I think this is IRkernel problem.<br>
Thanks.  </p>

<p>*Version<br>
OS:Win 10<br>
jupyter-lab:0.32.1<br>
IRkernel:'0.8.14.9000'</p>
",181,1,<python><r><jupyter-notebook><jupyter-irkernel>,2018-11-22 03:40:43
53410645,Show maintenance message on all JupyterHub notebooks,"<p>I manage a JupyterHub instance for the data-scientists in our company. Is there a way to show a maintenance message on all the notebooks of the users to inform them of upcoming downtime?</p>
",319,2,<jupyterhub>,2018-11-21 10:58:53
53405143,JupyterHub with Public Key authentication,"<p>I am currently install Jupyterhub using sudo spawner. However, it gets into error on PAM authentication because we are using public key authentication.</p>

<p>How can we install JupyterHub with Public Key authentication?</p>
",225,1,<python><authentication><public-key><jupyterhub>,2018-11-21 04:10:40
53379949,Storing outputs of a function based on an interactive argument value,"<p>What I'm trying to do is the following. I have some function f(m) that I want to explore interactively for different values of m (for example using ipywidgets). For specific values of m, I'd like to store some string containing for example m in a list. However, I don't know beforehand which values those will be; I want to plot f(m), and if I like the result, either choose something like True or False, or select Reject or Approve from a dropdown list, and only then have the value be stored. Clicking A or R on the keyboard would also be fine. Is this something I can do? The best I could come up with was using something like ipywidgets:</p>

<pre><code>%matplotlib inline
from ipywidgets import interactive
import matplotlib.pyplot as plt
import numpy as np

def f(m):
    plt.figure(2)
    x = np.linspace(-10, 10, num=1000)
    ID = str(m)
    plt.plot(x, m * x)
    plt.ylim(-5, 5)
    plt.show()

interactive_plot = interactive(f, m=(-2.0, 2.0))
output = interactive_plot.children[-1]
output.layout.height = '350px'
interactive_plot
</code></pre>

<p>In this case, <code>ID</code> is the object I would like to store. I could add an extra argument <code>evaluation</code> which is either <code>Accept</code> or <code>Reject</code> or something like that, and add an if statement to the function that appends a list of values, but that seems like a poor choice. Because changing m won't change the value of evaluation, so varying m would just add the ID to the list for every m as long as <code>evaluation</code> is set to <code>Accept</code>. So then for every value I'd need to set <code>evaluation</code> to <code>Accept</code> or <code>Reject</code>, and then set it back to some value that doesn't do anything like <code>Undetermined</code>, which is a lot of clicks. I am sure there would be a better way of doing so; could someone point me in that direction?</p>
",88,0,<python><interactive><ipywidgets><holoviews>,2018-11-19 17:36:59
53379680,Reset an argument when varying another argument using interact,"<p>I was wondering if ipywidgets supports resetting one of the arguments to a default value whenever you manipulate/vary/slide/change one of the other interactive arguments. Taking a basic example from their <a href=""https://ipywidgets.readthedocs.io/en/stable/examples/Using%20Interact.html"" rel=""nofollow noreferrer"">documentation</a> </p>

<pre><code>%matplotlib inline
from ipywidgets import interactive
import matplotlib.pyplot as plt
import numpy as np

def f(m, b):
    plt.figure(2)
    x = np.linspace(-10, 10, num=1000)
    plt.plot(x, m * x + b)
    plt.ylim(-5, 5)
    plt.show()

interactive_plot = interactive(f, m=(-2.0, 2.0), b=(-3, 3, 0.5))
output = interactive_plot.children[-1]
output.layout.height = '350px'
interactive_plot
</code></pre>

<p>What I would be looking for is a way to reset argument b to some default value whenever I change m. Is this supported, and if not, would someone be able to think of a clever way to do it anyway? I personally can't.</p>
",31,1,<python><ipywidgets>,2018-11-19 17:17:41
53378635,How to show a video on a Jupyter widget on a Jupyter Notebook,"<p>Assume I have a folder with 4 video files (named like ""movie1.mp4"", ""movie2.mp4"" etc.)</p>

<p>I want to use ipywidgets to let the user control which video he desires to see. Like this:</p>

<pre><code>import ipywidgets as wd
from IPython.display import HTML

def showvideo(i):
    HTML(""""""&lt;video width=""100"" height=""100"" controls&gt;&lt;source src=""movie{}.mp4"" type=""video/mp4""&gt;&lt;/video&gt;"""""".format(i))

wd.interact(showvideo, video_number = [1, 2, 3, 4]);
</code></pre>

<p>This doesn't work.
but simply calling</p>

<pre><code>from IPython.display import HTML

HTML(""""""&lt;video width=""100"" height=""100"" controls&gt;&lt;source src=""movie1.mp4"" type=""video/mp4""&gt;&lt;/video&gt;"""""")
</code></pre>

<p>works</p>

<p>Is there some python magic that I need to call?</p>
",3810,2,<html><jupyter-notebook><ipywidgets>,2018-11-19 16:10:54
53370035,JupyterLab output hyperlink to execute additional code in kernel?,"<p>I'm working with JupyterLab (v. 0.33.6 in Python 3.6), and I'm developing a wrapper kernel someone else wrote based on the IPython kernel. I'd like to be able to output a link or button that, when clicked, executes specific code in the kernel. Something like ""You can plot this data"" that enables the user to quickly run the code and have the output appear below the current output. </p>

<p>In the old Jupyter notebook (not in Jupyter lab), it was possible to do this using something like <code>Jupyter.notebook.kernel.execute('doPlot()')</code>, but now there is no <code>Jupyter</code> object accessible. Is there anyway to do this? It seems like writing a custom ipywidget might be a way to accomplish this, but that might be a lot of work for a fairly simple task. I'm a novice at Javascript, any pointers or suggestions would be very helpful!</p>
",164,1,<python><jupyter-notebook><jupyter><jupyter-lab><ipywidgets>,2018-11-19 07:25:06
53332350,How to auto login to jupyterhub in ubuntu machine,"<p>I am new to python and jupyterhub, I have installed juputerhub ubuntu machine in the cloud. I want to access the jupyterhub without login from anywhere. can anyone please help me to resolve this issue.</p>

<p>I tried below configuration in <code>jupyterhub_config.py</code></p>

<pre><code>c.Authenticator.auto_login = True
</code></pre>

<p>my problem is not resolving from this</p>

<p>please help me to solve this problem</p>
",968,1,<python><ubuntu><jupyterhub>,2018-11-16 06:09:24
53263213,Jupyterhub not accessible using Azure Cloud,"<p>I have two Azure cloud machines running and trying to use jupyterhub on them. One is a 'standard' ubuntu server, and one is a machine learning version where jupyterhub is already installed and running.
With both I encounter the same issue that I cannot access/use the jupyterhub. Every time I try to go to the website via a browser I get a time out.
I got the network settings set to allow incoming traffic via http, https, ssh. I tried to access it from my phone (using my LTE network not my WI-FI), yet nothing seems to give me access. All I get is a blank page...
On the 'standard machine' I instantly get a 'connection refused' error, on the 'machine learning vm' after a looooooong time I get: 'internal error - server connection terminated'</p>

<p>Does any one know, what could possibly be the problem here? I'm googling my way around for the last two hours but cannot find a solution....</p>

<p>Thanks,
Anja</p>
",64,0,<azure><virtual-machine><jupyterhub>,2018-11-12 13:28:32
53234480,pandas.read_clipboard from cloud-hosted jupyter?,"<p>I am running a Data8 instance of JupyterHub running JupyterLab on a server, and <code>pd.read_clipboard()</code> does not seem to work. I see the same problem in google colab.</p>

<pre><code>import pandas as pd
pd.read_clipboard()
</code></pre>

<p>errors out like so:</p>

<pre><code>---------------------------------------------------------------------------
PyperclipException                        Traceback (most recent call last)
&lt;ipython-input-2-8cbad928c47b&gt; in &lt;module&gt;()
----&gt; 1 pd.read_clipboard()

/opt/conda/lib/python3.6/site-packages/pandas/io/clipboards.py in read_clipboard(sep, **kwargs)
     29     from pandas.io.clipboard import clipboard_get
     30     from pandas.io.parsers import read_table
---&gt; 31     text = clipboard_get()
     32 
     33     # try to decode (if needed on PY3)

/opt/conda/lib/python3.6/site-packages/pandas/io/clipboard/clipboards.py in __call__(self, *args, **kwargs)
    125 
    126         def __call__(self, *args, **kwargs):
--&gt; 127             raise PyperclipException(EXCEPT_MSG)
    128 
    129         if PY2:

PyperclipException: 
    Pyperclip could not find a copy/paste mechanism for your system.
    For more information, please visit https://pyperclip.readthedocs.org
</code></pre>

<p>Is there a way to get this working?</p>
",1710,9,<pandas><jupyter><google-colaboratory><jupyter-lab><jupyterhub>,2018-11-09 23:19:07
53232196,How to link opposite values of two buttons using ipywidgets in Python 3?,"<p>How do I link the value of two buttons to be opposite of one another? The widgets.jslink() function only seems to link the value to be the same, not the opposite. I know that I could use widgets.ToggleButtons() to link two buttons, but I want the success button to be green and the fail button to be red. ToggleButtons() does not appear to allow different coloring for each button. If it does, I'm open to that as a solution, as well. Here is the code I have so far (FYI: I'm running this code in JupyterLab using ipywidgets and node.js):</p>

<pre><code>button_y= widgets.Button(
    description='Success',
    disabled=False,
    button_style='success'
    tooltip='Click me',
    icon='check'
)

button_n= widgets.Button(
    description='Failure',
    disabled=False,
    button_style='danger'
    tooltip='Click me',
    icon='check'
)

display(widgets.HBox((button_y, button_n)))
</code></pre>

<p>Output:</p>

<p><a href=""https://i.stack.imgur.com/yUzLd.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/yUzLd.png"" alt=""two buttons output""></a></p>
",272,1,<python><python-3.x><ipywidgets>,2018-11-09 19:31:35
53215010,How to install JupyterHub with Docker on a local machine and in a sub domain,"<p>I will run JupyterHub in a sub domain. Here is the Dockerfile, jupyterhub_config.py, .gitlab-ci.yml. 
My first question is how to configure the jupyter_config.py. How can I load the jupyterhub_config.py on the build in the container?</p>

<p>How do I start Jupyterhub in the .gitlab-ci.yml for tests and how do I copy the application in the sub domain? I wrote a README.md. I need a little help for the JupyterHub. If all works fine, I will write a complete HOWTO Install JupyterHub on a local machine and in a sub domain by a provider. </p>

<pre><code>FROM continuumio/miniconda3

# Updating packages
RUN apt-get update -y \
    &amp;&amp; apt-get install -y --no-install-recommends \
       git \
       nano \
       unzip \
    &amp;&amp; apt-get clean \
    &amp;&amp; rm -rf /var/lib/apt/lists/*

# Install conda and Jupyter
RUN conda update -y conda
RUN conda install -c conda-forge jupyter_nbextensions_configurator \
    jupyterhub \
    jupyterlab \
    matplotlib \
    pandas \
    scipy

# Setup application
EXPOSE 8000

CMD [""jupyterhub"", ""--ip='*'"", ""--port=8000"", ""--no-browser"", ""--allow-root""]
</code></pre>

<p>The .gitlab-ci.yml</p>

<pre><code>image: docker:latest

variables:
  CONTAINER_IMAGE: registry.gitlab.com/joklein
  DOCKER_IMAGE: jupyterhub
  TAG: 0.1.0

services:
  - docker:dind

stages:
  - build
  - test
  - release
  - deploy

before_script:
  - echo ""$GITLAB_PASSWORD"" | docker login registry.gitlab.com --username $GITLAB_USER --password-stdin

build:
  stage: build
  script:
    - docker build -t $CONTAINER_IMAGE/$DOCKER_IMAGE .
    - docker push $CONTAINER_IMAGE/$DOCKER_IMAGE

test:
  stage: test
  script:
    - docker pull $CONTAINER_IMAGE/$DOCKER_IMAGE
      #    - docker run $CONTAINER_IMAGE/$DOCKER_IMAGE -dt -p 8000:8000 --name $DOCKER_IMAGE

release:
  stage: release
  script:
    - docker pull $CONTAINER_IMAGE/$DOCKER_IMAGE
    - docker tag  $CONTAINER_IMAGE/$DOCKER_IMAGE:latest $CONTAINER_IMAGE/$DOCKER_IMAGE:$TAG
    - docker push $CONTAINER_IMAGE/$DOCKER_IMAGE:$TAG
  only:
    - master

deploy:
  stage: deploy
  image: alpine:latest
  before_script:
    - apk update &amp;&amp; apk add git openssh-client rsync
  script:
    - mkdir .public
    - cp -r * .public
    - mv .public public
    - mkdir ""${HOME}/.ssh""
    - echo ""${SSH_HOST_KEY}"" &gt; ""${HOME}/.ssh/known_hosts""
    - echo ""${SSH_PRIVATE_KEY}"" &gt; ""${HOME}/.ssh/id_rsa""
    - chmod 700 ""${HOME}/.ssh/id_rsa""
    - rsync -hrvz --delete --exclude=_ public/ user@example.com:www/jupyter/
  only:
    - master
</code></pre>

<p>The jupyterhub_config.py</p>

<pre><code>c = get_config()
# Letsencrypt (https://letsencrypt.org/) to obtain a free, trusted SSL
# certificate.
c.JupyterHub.ssl_key = '/etc/letsencrypt/live/example.com/privkey.pem'
c.JupyterHub.ssl_cert = '/etc/letsencrypt/live/example.com/fullchain.pem'
c.JupyterHub.port = 443
#
# Change from JupyterHub to JupyterLab
c.Spawner.default_url = '/lab'
c.Spawner.debug = True
#
# # Specify users and admin
c.Authenticator.whitelist = {""systemuser""}
c.Authenticator.admin_users = {""systemuser""}
</code></pre>

<h1>Docker base image of JupyterHub and JupyterLab</h1>

<p>JupyterHub is a multi-user server for Jupyter notebooks. JupyterLab is the
next-generation web-based user interface for the Jupyter Project. This
JupyterHub is a <a href=""https://docker.com"" rel=""nofollow noreferrer"">Docker</a> base image for <a href=""https://jupyterhub.readthedocs.io/en/stable"" rel=""nofollow noreferrer"">JupyterHub</a> and <a href=""https://jupyterlab.readthedocs.io/en/stable"" rel=""nofollow noreferrer"">JupyterLab</a>
that works as a stand-alone application and in a (sub) domain.</p>

<p>Images derived from this image can either run as a stand-alone server, or
function as a volume image for your server. You can also use them in a CI/CD
system such as GitLab CI to build your content prior to bundling it into a
standalone server container.</p>

<h2>Building your JupyterHub image</h2>

<p>Based on this structure, you can easily build an image for your needs. There are two options for using the image you generated:</p>

<ul>
<li>as a stand-alone image</li>
<li>as a volume image for your webserver</li>
</ul>

<p>The simplest way to build your own image is to use a Dockerfile. This is only an example. If you need more software packages you can install them with this
Dockerfile and conda.</p>

<h3>Build the container</h3>

<p><code>docker build -t juypterhub .</code></p>

<p>Your JupyterHub with JupyterLab is automatically generated during this build.</p>

<h3>Run the container</h3>

<p><code>docker run -p 8000:8000 -d --name jupyterhub jupyterhub jupyterhub</code></p>

<ul>
<li><code>-p</code> is used to map your <code>local port 8000</code> to the <code>container port 8000</code></li>
<li><code>-d</code> is used to run the container in background. JupyterHub will just write
logs so no need to output them in your terminal unless you want to troubleshoot a server error.</li>
<li><code>-- name jupyterhub</code> names your container jupyterhub</li>
<li><code>jupyterhub</code> the image</li>
<li><code>jupyterhub</code> is the last command used to start the jupyterhub server</li>
</ul>

<p>and your <code>JupyterHub</code> with <code>Jupyterlab</code> is now available of <code>http://localhost:8000</code>.</p>

<h3>Start / Stop JupyterHub</h3>

<p><code>docker start / stop juyterhub</code></p>

<h2>Configure JupyterHub</h2>

<h3>Let's encrypt certificates for JupyterHub</h3>

<p>To enable HTTPS on your website, you need to get a certificate (a type of file) from a Certificate Authority (CA). Let’s Encrypt is a CA. In order to get a certificate for your website’s domain from Let’s Encrypt, you have to
demonstrate control over the domain. With Let’s Encrypt, you do this using
software that uses the ACME protocol, which typically runs on your web host.</p>

<p>Change to <a href=""https://zerossl.com"" rel=""nofollow noreferrer"">zerossl.com</a> and generate a certificate for your domain. As the
result you get four files, <strong>domain-key.txt</strong>, <strong>domain-crt.txt</strong>, domain-csr.txt, account-key.txt. This files uses base 64, which is readable in
ASCII, not binary format. The certificates are already in PEM format. Just
change the extension to *.pem.</p>

<p>For JupyterHub only the files domain-key.txt and domain-crt are needed.</p>

<p><code>cp domain-crt.txt fullchain.pem</code><br>
<code>cp domain-key.txt privkey.pem</code></p>

<h3>Add a System user in the container</h3>

<p>By default JupyterHub searches for users on the server. In order to be able to
log in to our new JupyterHub server we need to connect to the JupyterHub docker
container and create a new system user with a password.</p>

<p><code>docker exec -it jupyterhub bash</code><br>
<code>useradd --create-home systemuser</code><br>
<code>passwd systemuser</code><br>
<code>exit</code></p>

<p>The command <code>docker exec -it jupyterhub bash</code> will spawn a root shell in your
docker container. <strong>You can use the root shell to create system users in the
container</strong>. These accounts will be used for authentication in JupyterHub's
default configuration.</p>

<p>The first command useradd creates a new user named systemuser. The second will
ask you for a password.</p>
",6998,4,<jupyter-notebook><jupyter-lab><jupyterhub><jupyter-console>,2018-11-08 19:41:39
53179473,Connecting a widget to a plot,"<p>I'm trying to use ipywidget play to create an animation that changes with the slider. However, it is only passing the initial value and not updating, how do I fix this?</p>

<pre><code>from matplotlib import pyplot as plt
import numpy as np
import mpl_toolkits.mplot3d.axes3d as p3
from matplotlib import animation
import mpl_toolkits.mplot3d.art3d as art3d
%config InlineBackend.figure_format = 'svg'
%matplotlib notebook
import ipywidgets as widgets
from ipywidgets import HBox, VBox, interact, interactive, fixed, 
interact_manual
from IPython.display import display

play = widgets.Play(
   interval=10,
   value= 0,
   min=0,
   max=100,
   step=1,
   description=""Press play"",
   disabled=False
)

slider = widgets.IntSlider()
widgets.jslink((play, 'value'), (slider, 'value'))
widgets.HBox([play, slider])

display(play, slider)

fig = plt.figure()
ax = p3.Axes3D(fig)

x = np.linspace(-1,1,100)     
y = np.linspace(-1,1,100)
ax.plot(x, y, x*y * slider.value, lw = '2')
plt.show()
</code></pre>
",759,1,<python><matplotlib><ipywidgets>,2018-11-06 20:24:50
53159674,"Jupyter-Notebooks stuck at ""Kernel starting,please wait"" (R Kernel)","<p>I'm new to Jupyter Notebooks and whenever I try to create a new notebook i'm unable to run any code because the R Kernel doesn't start. 
The window shows a message that reads ""Kernel starting, please wait"" and then changes to ""Reconeccting"".</p>

<p>So far i've tried with Chrome , Mozilla and Edge but none works i ran jupyter kernelspec list on the anaconda prompt and i can see i have the ir kernel installed.</p>

<p>Thanks in advance!</p>
",1695,3,<r><kernel><jupyter-notebook><jupyter-irkernel><jupyter-kernel>,2018-11-05 17:54:10
53116245,Calling a web server inside Jupyterhub without connection failed,"<p>My question is : How this Shiny R code mini web server in JupyterHub could work outside this server (i.e. &lt;> localhost) ?</p>

<pre><code>ui &lt;- fluidPage(
    textInput(""caption"", ""Caption"", ""Data Summary""),
    verbatimTextOutput(""value"")
)

server &lt;- function(input, output) {
    output$value &lt;- renderText({ input$caption })
}

shinyApp(ui, server)
Listening on http://127.0.0.1:4844
</code></pre>

<p>It works on the local server (127.0.0.1:4844) , but I doesn't work on <a href=""http://192.168.x.x:4844"" rel=""nofollow noreferrer"">http://192.168.x.x:4844</a></p>

<p>For information. I've installed Jupyter and Jupyter Hub, with R Kernel, on Ubuntu 16.04 xenial. I've also installed Shiny Server and RStudio Server. Everything works fine. My firewall is off and I have Apache2.</p>

<p>I've seen this error on an other mini web server called from Jupyterhub in other mean that Shiny. The same code works in Rstudio Server IDE.</p>

<p>The problem is in the configuration of Jupyter Hub or Shiny Server or in Apache 2 or elsewhere ? </p>

<p>""You are using Jupyter notebook. The version of the notebook server is: 5.4.0
The server is running on this version of Python: Python 3.6.4 |Anaconda, Inc.| (default, Jan 16 2018, 18:10:19)  [GCC 7.2.0])"".</p>

<p>Thanks in advance.</p>
",694,0,<r><apache><http><shiny><jupyterhub>,2018-11-02 09:53:29
53108261,Installing jupyterhub in minikube on a linux machine,"<p>I'm using the instructions from <a href=""https://zero-to-jupyterhub.readthedocs.io/en/stable/"" rel=""nofollow noreferrer"">Zero to jupyterhub with kubernetes</a> to install a jupyterhub in a minikube:</p>

<p>When I run the  command in step 2 shown below:</p>

<pre><code>RELEASE=jhub   
NAMESPACE=jhub

~/minik$ helm upgrade --install $RELEASE jupyterhub/jupyterhub   --namespace $NAMESPACE    --version 0.7.0   --values config.yaml  --debug --dry-run
</code></pre>

<p>I get this error:</p>

<pre><code>[debug] Created tunnel using local port: '42995'

[debug] SERVER: ""127.0.0.1:42995""

[debug] Fetched jupyterhub/jupyterhub to
 /home1/chrisj/.helm/cache/archive/jupyterhub-0.7.0.tgz

Release ""jhub"" does not exist. Installing it now.
[debug] CHART PATH: /home1/chrisj/.helm/cache/archive/jupyterhub-0.7.0.tgz

Error: render error in ""jupyterhub/templates/proxy/autohttps/service.yaml"": template: jupyterhub/templates/proxy/autohttps/service.yaml:1:26: executing ""jupyterhub/templates/proxy/autohttps/service.yaml"" at &lt;.Values.proxy.https....&gt;: can't evaluate field https in type interface {}
</code></pre>
",1042,1,<kubernetes><minikube><jupyterhub>,2018-11-01 19:37:39
53101645,"Cannot get IRkernel::installspec() to work, jupyter-client not visible","<p>I am still in progress to get Jupyter-Notebook and R working together on Windows 10 machine. After solving the <a href=""https://stackoverflow.com/questions/53086530/cannot-install-irkernel-with-install-github-git-not-installed"">problem with install_github()</a> I am now facing just another issue. I am still following the official <a href=""https://irkernel.github.io/installation/"" rel=""nofollow noreferrer"">installation guide</a>, I am stuck at step 2:</p>

<p>Every time I get this error - I have tried this in R GUI and RStudio, the same:</p>

<pre><code>&gt; IRkernel::installspec()
Error in IRkernel::installspec() : 
  jupyter-client has to be installed but “jupyter kernelspec --version” exited with code 127.
In addition: Warning message:
In system2(""jupyter"", c(""kernelspec"", ""--version""), FALSE, FALSE) :
  '""jupyter""' not found
</code></pre>

<p>My attempts so far: It was suggested <a href=""https://stackoverflow.com/questions/44056164/jupyter-client-has-to-be-installed-but-jupyter-kernelspec-version-exited-wit"">here</a> and <a href=""https://datadrivenperspectives.com/installing-r-on-jupyter-725a4643983b"" rel=""nofollow noreferrer"">here</a>, that this could be a problem with the PATH variable setting, so I have added Anaconda to the PATH enviroment. I also installed the jupyter-client via the Anaconda console. No change so far. Any ideas? </p>
",4430,4,<r><jupyter-notebook><jupyter-irkernel>,2018-11-01 12:51:01
53090785,ipywidgets.embed missing dependencies? Key error when run in venv,"<p>I am writing a script that simply asks the google api for the latitudes and longitudes for a list of addresses read in from a csv file and outputs an html with the googlemap widget embedded.  Further I hoped to run pyinstaller in order to make this into a .exe.</p>

<p>Running the code on my original conda environment it works fine however the .exe that pyinstaller creates is <em>massive</em> for such a small script (<em>over 300mb</em>).  As such, I created a new virtual environment in which to work and have installed what I believe to be the bare minimum packages necessary and have rewritten the code to use as few packages as I am able which for the currently working portion of the code dropped it down considerably to just over 10 mb.  (<em>No numpy or pandas for me... ah well</em>).</p>

<p>The code again works fine up until the final step:</p>

<pre><code>from ipywidgets.embed import embed_minimal_html
embed_minimal_html(""exporttest.html"", None)
</code></pre>

<p>The above line should take any widgets, in particular the figure created from </p>

<pre><code>fig = gmaps.figure(layout=figure_layout)
markers = gmaps.marker_layer(coordinates)
fig.add_layer(markers)
fig
</code></pre>

<p>Running the currently modified version in my original conda environment with all my of my usual packages installed this runs as expected without errors.  Running on the virtual environment however on the mentioned lines I get the following key error:</p>

<pre><code>KeyError                                  Traceback (most recent call last)
c:\programdata\anaconda3\envs\synod_environ\lib\sre_parse.py in 
parse_template(source, pattern)
   1020                 try:
-&gt; 1021                     this = chr(ESCAPES[this][1])
   1022                 except KeyError:

KeyError: '\\u'

During handling of the above exception, another exception occurred:

error                                     Traceback (most recent call last)
&lt;ipython-input-5-3359941239ab&gt; in &lt;module&gt;
      1 from ipywidgets.embed import embed_minimal_html
      2 
----&gt; 3 embed_minimal_html(""exporttest.html"", None)

...

error: bad escape \u at position 0
</code></pre>

<p>(<em>For clarification, key error has two slashes before the u, some frustration in getting this to post correctly</em>)</p>

<p>As the code runs correctly in the one environment but not the other, I can only assume that I'm missing a package somewhere that ipywidgets requires, but running <code>pip check</code> doesn't notify me of anything missing.</p>

<p><code>pip list</code> returns the following packages:</p>

<pre>altgraph           0.16.1
backcall           0.1.0
bleach             3.0.2
certifi            2018.10.15
chardet            3.0.4
colorama           0.4.0
decorator          4.3.0
defusedxml         0.5.0
entrypoints        0.2.3
future             0.17.1
geojson            2.4.1
gmaps              0.8.2
idna               2.7
ipykernel          5.1.0
ipython            7.1.1
ipython-genutils   0.2.0
ipywidgets         7.4.2
jedi               0.13.1
Jinja2             2.10
jsonschema         2.6.0
jupyter            1.0.0
jupyter-client     5.2.3
jupyter-console    6.0.0
jupyter-core       4.4.0
macholib           1.11
MarkupSafe         1.0
mistune            0.8.4
nbconvert          5.4.0
nbformat           4.4.0
notebook           5.7.0
pandocfilters      1.4.2
parso              0.3.1
pefile             2018.8.8
pickleshare        0.7.5
pip                10.0.1
prometheus-client  0.4.2
prompt-toolkit     2.0.7
Pygments           2.2.0
PyInstaller        3.4
python-dateutil    2.7.5
pywin32-ctypes     0.2.0
pywinpty           0.5.4
pyzmq              17.1.2
qtconsole          4.4.2
requests           2.20.0
Send2Trash         1.5.0
setuptools         40.4.3
six                1.11.0
terminado          0.8.1
testpath           0.4.2
tornado            5.1.1
traitlets          4.3.2
urllib3            1.24
wcwidth            0.1.7
webencodings       0.5.1
wheel              0.32.2
widgetsnbextension 3.4.2
wincertstore       0.2
</pre>

<p>Any thoughts on how to further identify what went wrong, what package might be missing or how to fix the issue, and/or alternate ways to save a googlemaps output?</p>
",568,0,<python><google-maps><ipywidgets>,2018-10-31 19:36:51
53084948,Decimal seprarator is changed by ggplot2 in R Kernel of jupyter,"<p>I am using jupyter and R with ggplot for some data analysis. Everything seems to work fine, however as soon as I am trying to show a ggplot file the decimal separator afterwards is changed to comma instead of point (ie showing 0,5 instead of 0.5) The comma is used in Germany for decimals but I really need the decimal point. </p>

<p>Jupyter QtConsole 4.4.2</p>

<p>R version 3.5.1 (2018-07-02)</p>

<p>In <a href=""https://github.com/JenniferHemmerich/ggplot2_jupyter/blob/master/Error_ggplot2.ipynb"" rel=""nofollow noreferrer"">1</a>: library('ggplot2')</p>

<p>In [2]: a &lt;- c(0.5,0.6)</p>

<p>...: a</p>

<p><a href=""https://github.com/JenniferHemmerich/ggplot2_jupyter/blob/master/Error_ggplot2.ipynb"" rel=""nofollow noreferrer"">1</a> 0.5 0.6</p>

<p>In [3]: pl &lt;- ggplot()+
   ...: geom_line(aes(x=c(0,1),y=c(1,0)))</p>

<p>In [4]: a</p>

<p><a href=""https://github.com/JenniferHemmerich/ggplot2_jupyter/blob/master/Error_ggplot2.ipynb"" rel=""nofollow noreferrer"">1</a> 0.5 0.6</p>

<p>In [5]: pl &lt;- ggplot()+</p>

<p>...: geom_line(aes(x=c(0,1),y=c(1,0)))</p>

<p>...: pl</p>

<p>[5] #""Plot shown here""</p>

<p>In [6]: a</p>

<p><a href=""https://github.com/JenniferHemmerich/ggplot2_jupyter/blob/master/Error_ggplot2.ipynb"" rel=""nofollow noreferrer"">1</a> 0,5 0,6</p>

<p>Here is the original file: <a href=""https://github.com/JenniferHemmerich/ggplot2_jupyter/blob/master/Error_ggplot2.ipynb"" rel=""nofollow noreferrer"">gist</a></p>

<p>It would be great to get feedback on whats going on here. Did I forget to set an option for inline plotting? </p>
",91,0,<r><ggplot2><jupyter-notebook><jupyter><jupyter-irkernel>,2018-10-31 13:47:56
53073807,Can I disable (via configuration) export to PDF in Jupyter Hub?,"<p>The subject pretty much says it all. In Jupyter Hub (and also the previous notebook server), there is an option under the file menu to export to PDF. If you don't have xetex or similar installed, it will break. I would like to disable this menu entry in a standard way (i.e., not by forking the codebase!).</p>

<p>Can I do this? If so, how? If not, how hard would it be to implement a patch for this?</p>
",87,2,<jupyter-notebook><jupyter><jupyterhub>,2018-10-30 22:32:01
53053015,Set up Okta authentication for jupyterhub,"<p>I have set up an internal deployment of jupyterhub using the zero-to-jupyterhub guide. I'd like to have it authenticated via Okta, but I don't see okta listed on the authentication documentation page. Has anyone successfully gotten jupyterhub authenticating via Okta?</p>
",232,2,<okta><jupyterhub>,2018-10-29 20:03:56
53049437,"jupyterlab/hub-extension@0.12.0"" is not compatible with the current JupyterLab","<p>I want to install the littlest jupyterhub via .gitlab-ci.yml in a subdomain.
Here is my .gitlab-ci.yml. I get this error message. I need a little help to fix this error message. I know the littlest jupyterhub is still in beta.
Is it possible to add packages like pandas, mathplotlib to install with a shell script?</p>

<pre><code>$ curl https://raw.githubusercontent.com/jupyterhub/the-littlest-jupyterhub/master/bootstrap/bootstrap.py | sudo python3 - --admin klein
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
100  2682  100  2682    0     0  24381      0 --:--:-- --:--:-- --:--:-- 24381
Checking if TLJH is already installed...
Setting up hub environment
Installed python &amp; virtual environment
Set up hub virtual environment
Setting up TLJH installer...
Setup tljh package
Starting TLJH installer...
&gt; /usr/bin/npm pack @jupyterlab/hub-extension
Incompatible extension:

""@jupyterlab/hub-extension@0.12.0"" is not compatible with the current JupyterLab
Conflicting Dependencies:
JupyterLab              Extension        Package
&gt;=0.18.3 &lt;0.19.0        &gt;=0.19.1 &lt;0.20.0 @jupyterlab/application
&gt;=0.18.3 &lt;0.19.0        &gt;=0.19.1 &lt;0.20.0 @jupyterlab/apputils

Found compatible version: 0.11.0
&gt; /usr/bin/npm pack @jupyterlab/hub-extension@0.11.0
&gt; node /opt/tljh/user/lib/python3.6/site-packages/jupyterlab/staging/yarn.js install
&gt; node /opt/tljh/user/lib/python3.6/site-packages/jupyterlab/staging/yarn.js run build
System has not been booted with systemd as init system (PID 1). Can't operate.
Traceback (most recent call last):
  File ""/usr/lib/python3.6/runpy.py"", line 193, in _run_module_as_main
    ""__main__"", mod_spec)
  File ""/usr/lib/python3.6/runpy.py"", line 85, in _run_code
    exec(code, run_globals)
  File ""/opt/tljh/hub/lib/python3.6/site-packages/tljh/installer.py"", line 447, in &lt;module&gt;
    main()
  File ""/opt/tljh/hub/lib/python3.6/site-packages/tljh/installer.py"", line 436, in main
    ensure_jupyterhub_service(HUB_ENV_PREFIX)
  File ""/opt/tljh/hub/lib/python3.6/site-packages/tljh/installer.py"", line 141, in ensure_jupyterhub_service
    systemd.reload_daemon()
  File ""/opt/tljh/hub/lib/python3.6/site-packages/tljh/systemd.py"", line 19, in reload_daemon
    ], check=True)
  File ""/usr/lib/python3.6/subprocess.py"", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['systemctl', 'daemon-reload']' returned non-zero exit status 1.
Downloading traefik 1.6.5...
ERROR: Job failed: exit code 1



image: ubuntu:latest

before_script:
  - apt-get update
  - apt-get install -y curl git ssh python3 rsync sudo
  - git submodule update --init --recursive

stages:
    - test
    - deploy

test_job:
  stage: test
  script:
    - curl
    https://raw.githubusercontent.com/jupyterhub/the-littlest-jupyterhub/master/bootstrap/bootstrap.py | sudo python3 - --admin admin

deploy:
  stage: deploy
  script:
    - curl
    https://raw.githubusercontent.com/jupyterhub/the-littlest jupyterhub/master/bootstrap/bootstrap.py | sudo python3 - --admin adminn
    - mkdir .public
    - cp  -r * .public
    - mv .public public
    - mkdir ""${HOME}/.ssh""
    - echo ""${SSH_HOST_KEY}"" &gt; ""${HOME}/.ssh/known_hosts""
    - echo ""${SSH_PRIVATE_KEY}"" &gt; ""${HOME}/.ssh/id_rsa""
    - chmod 700 ""${HOME}/.ssh/id_rsa""
    - rsync -hrvz --delete --exclude=_ public/ user@example.com:www/jupyter/
  artifacts:
    paths:
    - public
  only:
  - master
</code></pre>
",497,2,<jupyter><jupyterhub><jupyter-lab><jupyter-console>,2018-10-29 16:02:28
53041417,Docker Entrypoint not running as root on jupyterhub,"<p>We are trying to run a docker entrypoint as root in a docker image used by our jupyterhub for the single user servers. We need root to add a host to access an internal git registry from within a single user jupyter notebook server on a jupyterhub running on K8S by it's domain.</p>

<p>We already tried adding the domain to the <code>/etc/hosts</code> file in the docker image which is loaded for the single user servers by our jupyterhub in a docker-entrypoint script (code can be seen at the bottom).</p>

<p>However we get a permission denied when trying to add the host.
The printouts also show why:</p>

<p>Locally, the first whoami shows <code>root</code> , as we expected.
On the jupyter notebook started in a pod by our jupyterhub (running on K8s) however, the first printout already shows <code>jovyan</code>.</p>

<p>The same effect can be seen when directly printing out whoami in the entrypoint in the Dockerfile like this:</p>

<pre><code>ENTRYPOINT [""sh"", ""-c"", ""echo $(whoami)""]
</code></pre>

<p>Meaning that it is the whole entrypoint, that does not get executed as root but the user is somehow switched beforehand.</p>

<p>Can we prevent this behaviour or is there a good workaround?</p>

<p>Any help appreciated, thank you in advance!
PS:
Additionally, when we try to run <code>exec su - ""jovyan""</code> in the entrypoint-script on the jupyterhub, we are getting the error, that the su command has to be run from a terminal. Locally it works without problems.
<br/><br/><br/><br/></p>

<hr>

<p>Code of docker-entrypoint script (just for reference):</p>

<p><strong>Dockerfile:</strong></p>

<pre><code>FROM jupyter/datascience-notebook:1145fb1198b2
WORKDIR /usr/src/app

USER root

...

COPY aai-entrypoint.sh /usr/src/app/aai-entrypoint.sh
RUN chmod +x /usr/src/app/aai-entrypoint.sh

ENTRYPOINT [""sh"", ""/usr/src/app/my-entrypoint.sh""]
CMD """"
</code></pre>

<p>We added the empty CMD to overwrite the CMD of the jupyter base-notebook</p>

<p><strong>my-entrypoint.sh:</strong></p>

<pre><code>#!/bin/bash
echo $(whoami)
echo ""xx.xxx.xxx   our.domain.com"" &gt;&gt; /etc/hosts
echo ""test""
exec su - ""jovyan""
echo $(whoami)

# to not overwrite the entrypoint of the jupyter/base-notebook
# see https://github.com/jupyter/docker-stacks/blob/master/base-notebook/Dockerfile
exec tini -g -- ""start-notebook.sh""
</code></pre>
",1508,1,<docker><jupyter-notebook><dockerfile><jupyter><jupyterhub>,2018-10-29 08:24:47
52980565,Arranging widgets in ipywidgets interactive,"<p>I have this interactive graph code using ipywidgets; but not sure how to arragne the each variable inside the interactive function in widgets. the default layout is vertical. But I want to arrange them in horizontal way. </p>

<pre><code>import matplotlib.pyplot as plt
import numpy as np
import pandas as pd
plt.style.use('seaborn')
%config InlineBackend.figure_format = 'svg'
from ipywidgets import interactive,interact
#function to plot the different curves
def plot_function(u=1,v=2,w=3,x=4,y=5,z=6):
    time=np.arange(0,1,0.01)
    df=pd.DataFrame({""Y1"":np.sin(time*u*2*np.pi),""y2"":np.sin(time*v*2*np.pi),""y3"":np.sin(time*w*2*np.pi),
                    ""y4"":np.sin(time*x*2*np.pi),""y5"":np.sin(time*y*2*np.pi),""y6"":np.sin(time*z*2*np.pi)})
    df.plot()
widget=interactive(plot_function,u=1,v=2,w=3,x=4,y=5,z=6)
widget
</code></pre>

<p><img src=""https://i.stack.imgur.com/z3dDi.png"" alt=""Output""></p>
",6416,8,<python-3.x><jupyter-notebook><interactive><ipywidgets>,2018-10-25 02:42:42
52967458,Jupyter Lab Interactive plot: unsupported operand type(s) for *: 'FloatSlider' and 'float',"<p>I am following a video to learn how to use plotly to generate interactive plots, but I kept getting the error: unsupported operand type(s) for *: 'FloatSlider' and 'float'. </p>

<p>I am pretty sure that the other parts are correct, the original tutor ran it well, yet on my jupyter lab, it runs into problem.</p>

<p>Here are the codes:</p>

<pre><code>import plotly as py
import plotly.graph_objs as go
import ipywidgets as widgets
import numpy as np
from scipy import special

py.offline.init_notebook_mode(connected=True)
x = np.linspace(0, np.pi, 1000)

# Then layout the graph object in plotly
# Every object starts in a new line in the layout of plotly graph_objs
layout = go.Layout(
    # The title of the layout
    title = ""Simple Example of Plotly"",
    # Y axis, everything goes into a dict type, same of X axis
    yaxis = dict(
        title = ""volts""
    ),
    xaxis = dict(
        title = ""nanoseconds""
    )
)

# Now get a function with widgets using signals and frequency
# Put the trace into the function
def update_plot(signals, frequency):

    # Get a data list to put all traces in
    data = []
    for s in signals:
        # Put traces inside the function's loop
        trace1 = go.Scatter(
            x = x,
            n = freq * x,
            # Update y value using scipy's special's bessel functions
            y = special.jv(s, n),
            # Scatter has three modes, marker, lines, marker+lines
            mode = ""lines"",
            # Set a name
            name = ""bessel {}"".format(s),
            # Set up the interpolation, how the dots are connected with lines
            # line is going to be a dict
            line = dict(
                shape = ""spline""
            )
        )
        data.append(trace1)

        # Plotting also goes in the function
        fig = go.Figure(data = data, layout=layout)
        # Finally show it
        py.offline.iplot(fig)

# Once the function is done, we create the widget
# Value in signals should be a tuple
signals = widgets.SelectMultiple(options = list(range(6)), value = (0,), 
description=""Bessel Order"")

# Make a freq
freq = widgets.FloatSlider(min = 1, max = 20, value = 1, description=""Freq"")

# Finally make the interaction
widgets.interactive(update_plot, signals = signals, frequency = freq)
</code></pre>

<p>Does anyone know how to solve it? It seems that the special.jv(x,y) function doesn't accept operand *? But even I created another variable n = freq * x, it still reports error. Thanks a lot.</p>
",833,1,<python><scipy><plotly><ipywidgets>,2018-10-24 11:09:54
52868644,Jupyterhub create user and home at login,"<p>I have set up a jupyterhub Server with an LDAP Authentification. 
The Server and the authentication work fine. 
But my problem is, that I need to create the user I want to login with manually on the Server else he doesn't have a home and I get this error. </p>

<pre><code>[I 2018-10-18 09:01:56.869 JupyterHub base:499] User logged in: t1
[I 2018-10-18 09:01:56.871 JupyterHub log:158] 302 POST /hub/login?next= -&gt; /user/t1/ (t1@::ffff:192.168.3.47) 296.81ms
[I 2018-10-18 09:01:56.882 JupyterHub log:158] 302 GET /user/t1/ -&gt; /hub/user/t1/ (@::ffff:192.168.3.47) 1.30ms
[E 2018-10-18 09:01:56.938 JupyterHub user:477] Unhandled error starting t1's server: 'getpwnam(): name not found: t1'
[E 2018-10-18 09:01:56.957 JupyterHub web:1670] Uncaught exception GET /hub/user/t1/ (::ffff:192.168.3.47)
    HTTPServerRequest(protocol='http', host='192.168.3.41:8000', method='GET', uri='/hub/user/t1/', version='HTTP/1.1', remote_ip='::ffff:192.168.3.47')
    Traceback (most recent call last):
      File ""/usr/local/lib/python3.6/dist-packages/tornado/web.py"", line 1592, in _execute
        result = yield result
      File ""/usr/local/lib/python3.6/dist-packages/jupyterhub/handlers/base.py"", line 1052, in get
        await self.spawn_single_user(user)
      File ""/usr/local/lib/python3.6/dist-packages/jupyterhub/handlers/base.py"", line 705, in spawn_single_user
        timedelta(seconds=self.slow_spawn_timeout), finish_spawn_future
      File ""/usr/local/lib/python3.6/dist-packages/jupyterhub/handlers/base.py"", line 626, in finish_user_spawn
        await spawn_future
      File ""/usr/local/lib/python3.6/dist-packages/jupyterhub/user.py"", line 489, in spawn
        raise e
      File ""/usr/local/lib/python3.6/dist-packages/jupyterhub/user.py"", line 409, in spawn
        url = await gen.with_timeout(timedelta(seconds=spawner.start_timeout), f)
      File ""/usr/local/lib/python3.6/dist-packages/jupyterhub/spawner.py"", line 1090, in start
        env = self.get_env()
      File ""/usr/local/lib/python3.6/dist-packages/jupyterhub/spawner.py"", line 1083, in get_env
        env = self.user_env(env)
      File ""/usr/local/lib/python3.6/dist-packages/jupyterhub/spawner.py"", line 1070, in user_env
        home = pwd.getpwnam(self.user.name).pw_dir
    KeyError: 'getpwnam(): name not found: t1'

[E 2018-10-18 09:01:56.973 JupyterHub log:150] {
      ""X-Forwarded-Host"": ""192.168.3.41:8000"",
      ""X-Forwarded-Proto"": ""http"",
      ""X-Forwarded-Port"": ""8000"",
      ""X-Forwarded-For"": ""::ffff:192.168.3.47"",
      ""Cookie"": ""jupyterhub-hub-login=\""2|1:0|10:1539846116|20:jupyterhub-hub-login|44:NTc5OTcxZmQyNGU4NDA5NTk2MDQ1ZDU2MTNjYmI0YWQ=|a8fc650edf529f207cbf9516a0d710abcce7f123599701e4733f463773828e59\""; _xsrf=2|483ee87a|5bb8426d0014f212a146a53135b9aba9|1538554955; jupyterhub-session-id=90e264b21f9b4993ba65735c9e390adb"",
      ""Accept-Language"": ""de-DE,de;q=0.9,en-US;q=0.8,en;q=0.7"",
      ""Accept-Encoding"": ""gzip, deflate"",
      ""Referer"": ""http://192.168.3.41:8000/hub/login"",
      ""Accept"": ""text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8"",
      ""User-Agent"": ""Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36"",
      ""Upgrade-Insecure-Requests"": ""1"",
      ""Cache-Control"": ""max-age=0"",
      ""Connection"": ""close"",
      ""Host"": ""192.168.3.41:8000""
    }
[E 2018-10-18 09:01:56.975 JupyterHub log:158] 500 GET /hub/user/t1/ (t1@::ffff:192.168.3.47) 82.51ms
</code></pre>

<p>Is there a way to create the user and the home if the credentials are correct. 
Thanks </p>

<p>Edit:
Now I updated the jupyterhub-ldap-authenticator to version 0.3.0. There the automated home directory creator is directly supported. </p>

<p>My current configuration of the LDAP Part in the jupyterhub_config.py file looks like this: </p>

<pre><code>c.JupyterHub.authenticator_class = 'ldapauthenticator.LDAPAuthenticator'
c.LDAPAuthenticator.server_hosts =  ['ldap://ldap.example.com:389']
c.LDAPAuthenticator.bind_user_dn = 'uid=binduser,cn=users,dc=ldap,dc=example,dc=com'
c.LDAPAuthenticator.bind_user_password = 'Password'
c.LDAPAuthenticator.user_search_base = 'cn=users,dc=ldap,dc=example,dc=com'
c.LDAPAuthenticator.user_search_filter = '(&amp;(objectClass=posixAccount)(uid={username}))'
c.LDAPAuthenticator.username_pattern = '[a-zA-Z0-9_.][a-zA-Z0-9_.-]{0,252}[a-zA-Z0-9_.$-]?'
c.LDAPAuthenticator.create_user_home_dir = True
c.LDAPAuthenticator.create_user_home_dir_cmd = ['mkhomedir_helper']
</code></pre>

<p>But I have now the problem, that i get the following error. </p>

<pre><code>500 : Internal Server Error
</code></pre>

<p>This is the output of the Log. </p>

<pre><code>[I 2018-11-13 10:40:03.183 JupyterHub log:158] 302 GET /hub/ -&gt; /hub/login (@::ffff:192.168.3.47) 1.19ms
[I 2018-11-13 10:40:03.245 JupyterHub log:158] 200 GET /hub/login (@::ffff:192.168.3.47) 47.94ms
[I 2018-11-13 10:40:11.116 JupyterHub ldapauthenticator:586] User 't1' sucessfully authenticated against ldap server ['ldap://ldap.example.com:389'].
[I 2018-11-13 10:40:11.128 JupyterHub ldapauthenticator:290] Creating 't1' user home directory using command 'mkhomedir_helper t1'
[E 2018-11-13 10:40:11.133 JupyterHub web:1670] Uncaught exception POST /hub/login?next= (::ffff:192.168.3.47)
    HTTPServerRequest(protocol='http', host='192.168.3.49:8000', method='POST', uri='/hub/login?next=', version='HTTP/1.1', remote_ip='::ffff:192.168.3.47')
    Traceback (most recent call last):
      File ""/usr/local/lib/python3.6/dist-packages/tornado/web.py"", line 1592, in _execute
        result = yield result
      File ""/usr/local/lib/python3.6/dist-packages/jupyterhub/handlers/login.py"", line 81, in post
        user = await self.login_user(data)
      File ""/usr/local/lib/python3.6/dist-packages/jupyterhub/handlers/base.py"", line 483, in login_user
        await maybe_future(self.authenticator.add_user(user))
      File ""/usr/local/lib/python3.6/dist-packages/ldapauthenticator/ldapauthenticator.py"", line 269, in add_user
        yield gen.maybe_future(self.add_user_home_dir(username))
      File ""/usr/local/lib/python3.6/dist-packages/ldapauthenticator/ldapauthenticator.py"", line 295, in add_user_home_dir
        raise RuntimeError(""Failed to create system user %s: %s"" % (username, err))
    RuntimeError: Failed to create system user t1: 

[E 2018-11-13 10:40:11.146 JupyterHub log:150] {
      ""X-Forwarded-Host"": ""192.168.3.49:8000"",
      ""X-Forwarded-Proto"": ""http"",
      ""X-Forwarded-Port"": ""8000"",
      ""X-Forwarded-For"": ""::ffff:192.168.3.47"",
      ""Accept-Language"": ""de-DE,de;q=0.9,en-US;q=0.8,en;q=0.7"",
      ""Accept-Encoding"": ""gzip, deflate"",
      ""Referer"": ""http://192.168.3.49:8000/hub/login"",
      ""Accept"": ""text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8"",
      ""User-Agent"": ""Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.77 Safari/537.36"",
      ""Content-Type"": ""application/x-www-form-urlencoded"",
      ""Upgrade-Insecure-Requests"": ""1"",
      ""Origin"": ""http://192.168.3.49:8000"",
      ""Cache-Control"": ""max-age=0"",
      ""Content-Length"": ""29"",
      ""Connection"": ""close"",
      ""Host"": ""192.168.3.49:8000""
    }
[E 2018-11-13 10:40:11.147 JupyterHub log:158] 500 POST /hub/login?next= (@::ffff:192.168.3.47) 603.82ms
</code></pre>

<p>Thanks for any help. </p>
",3354,3,<jupyter-notebook><jupyterhub>,2018-10-18 07:03:48
52839140,ipywidgets.interact giving following error <function __main__.update(f)> despite having recent versions of packages. Detailed breakdown given,"<p><strong><em>Note: for anyone are experiencing the same issue, a temporary work around I am using is found here <a href=""https://stackoverflow.com/questions/41147984/bokeh-how-to-change-column-used-for-glyph-colors-with-customjs-callbacks"">Bokeh, how to change column used for glyph colors with CustomJS callbacks?</a> although this is not sufficient as the interact feature is needed</em></strong></p>

<p>Any help and suggestions are appreciated! :) However, do keep in mind I may be restricted due to the setup of our systems. I have provided as extensive help information as I could, do let me know if any other information will help.</p>

<p>I am creating a template for my company with Jupyter notebook and Bokeh. I have been successful so far until this particular issue. The 'interact' method which would allow for a user to change e.g. the colour of the datapoints via a dropdown menu does not load. I have tried many solutions, most of which are consistent with the following:</p>

<pre><code>jupyter nbextension enable --py widgetsnbextension
jupyter nbextension enable --py --sys-prefix widgetsnbextension
</code></pre>

<p>Furthermore, I have also tried solutions requested on the following url all the way through but had no luck:
<a href=""https://github.com/jupyter-widgets/ipywidgets/issues/1745"" rel=""nofollow noreferrer"">https://github.com/jupyter-widgets/ipywidgets/issues/1745</a></p>

<p>Code that errors:</p>

<pre><code>import pandas as pd
import numpy as np
#import exmaple dataset
from sklearn import datasets
#import clustering methods
from sklearn.cluster import KMeans
from sklearn.cluster import SpectralClustering

#import Bokeh
import bokeh
from bokeh.plotting import figure 
from bokeh.io import output_notebook, show
from bokeh.layouts import widgetbox, gridplot
from bokeh.models import Select, CustomJS, ColumnDataSource
from bokeh.models.widgets import Dropdown
from ipywidgets import interact
from bokeh.io import push_notebook
#Initialise Bokeh into the notebook to display graphs with interactive toolbar
output_notebook()
p3 = figure(title=""test"", plot_height=300, plot_width=600)
colors = [colormap[x] for x in y]
p3.circle(f1, f2, size=10, color=colors)

h = show(p3, notebook_handle=True)

def update(f):#f=[""Actual"", ""Kmeans"", ""Spectral""]
    colormap = {1: 'red', 2: 'green', 0: 'blue'}
    if f == ""Actual"":
        the_x = np.array(list(zip(f1, f2)))
        the_y = y
        colors = [colormap[x] for x in the_y]
    elif f == ""Kmeans"":
        the_x = np.array(list(zip(f1, f2)))
        kmeans = KMeans(n_clusters=3)
        # Fitting the input data
        kmeans = kmeans.fit(the_x)
        # Getting the cluster labels
        the_y = kmeans.predict(the_x)
        colors = [colormap[x] for x in the_y]
    elif f == ""Spectral"":
        the_x = np.array(list(zip(f1, f2)))
        clustering = SpectralClustering(n_clusters=3, assign_labels=""discretize"", random_state=0).fit(the_x)
        the_y = clustering.labels_
        colors = [colormap[x] for x in the_y]
    #p3.circle(f1, f2, size=10, color=colors)
    push_notebook(handle=h)

interact(update, f=[""Actual"", ""Kmeans"", ""Spectral""])#this line here
</code></pre>

<p>Error displayed:</p>

<pre><code>&lt;function __main__.update(f)&gt;
</code></pre>

<h2>Versions Information</h2>

<pre><code>conda --version
conda 4.5.4
</code></pre>

<hr>

<pre><code>conda info
     active environment : bokeh_test_2_1
    active env location : /home/xxxxxxx/.conda/envs/bokeh_test_2_1
            shell level : 1
       user config file : /home/xxxxxxx/.condarc
 populated config files : /home/xxxxxxx/.condarc
          conda version : 4.5.4
    conda-build version : 3.0.27
         python version : 2.7.14.final.0
       base environment : /opt/cloudera/parcels/Anaconda  (read only)
           channel URLs : xxxxxxx/current/anaconda-suite/pkgs/linux-64
                          xxxxxxx/current/anaconda-suite/pkgs/noarch
          package cache : /opt/cloudera/parcels/Anaconda/pkgs
                          /home/xxxxxxx/.conda/pkgs
       envs directories : /home/xxxxxxx/.conda/envs
                          /opt/cloudera/parcels/Anaconda/envs
               platform : linux-64
             user-agent : conda/4.5.4 requests/2.18.4 CPython/2.7.14 Linux/3.10.0-862.11.6.el7.x86_64 rhel/7.5 glibc/2.17
                UID:GID : xxxxxxx
             netrc file : None
           offline mode : False
</code></pre>

<hr>

<pre><code>jupyter nbextension list
Known nbextensions:
  config dir: /home/xxxxxxxx/.conda/envs/bokeh_test_2_1/etc/jupyter/nbconfig
    notebook section
      jupyter-js-widgets/extension  enabled 
      - Validating: OK
</code></pre>

<hr>

<pre><code>jupyter --paths
config:
    /home/xxxxxxxx/.jupyter
    /home/xxxxxxxx/.conda/envs/bokeh_test_2_1/etc/jupyter
    /usr/local/etc/jupyter
    /etc/jupyter
data:
    /home/xxxxxxxx/.local/share/jupyter
    /home/xxxxxxxx/.conda/envs/bokeh_test_2_1/share/jupyter
    /usr/local/share/jupyter
    /usr/share/jupyter
runtime:
    /home/xxxxxxxx/.local/share/jupyter/runtime
</code></pre>

<hr>

<pre><code>(bokeh_test_2_1) xxxx@xxxx-xxxxxxxxx $ conda list
# packages in environment at /home/xxxxxxxx/.conda/envs/bokeh_test_2_1:
#
# Name                    Version   
_tflow_180_select         3.0
absl-py                   0.2.2    
astor                     0.6.2                          
backcall                  0.1.0                          
blas                      1.0       
bleach                    1.5.0                          
bokeh                     0.12.16                        
ca-certificates           2018.03.07        
certifi                   2018.4.16                      
dbus                      1.13.2                     
decorator                 4.3.0                          
entrypoints               0.2.3                  
expat                     2.2.5                     
fontconfig                2.12.6                    
freetype                  2.8                        
gast                      0.2.0                          
glib                      2.56.1                     
gmp                       6.1.2                      
grpcio                    1.11.0                 
gst-plugins-base          1.14.0                     
gstreamer                 1.14.0                     
h5py                      2.8.0                  
hdf5                      1.10.2                     
html5lib                  0.9999999                      
icu                       58.2                       
intel-openmp              2018.0.0     
ipykernel                 4.8.2                          
ipython                   6.4.0                          
ipython_genutils          0.2.0                  
ipywidgets                7.2.1                          
jedi                      0.12.0                         
jinja2                    2.10                   
jpeg                      9b                    
jsonschema                2.6.0                  
jupyter                   1.0.0                     
jupyter_client            5.2.3                          
jupyter_console           5.2.0             
jupyter_core              4.4.0             
keras                     2.1.6                          
libedit                   3.1.20170329          
libffi                    3.2.1                 
libgcc-ng                 7.2.0                 
libgfortran-ng            7.2.0                 
libpng                    1.6.34                
libprotobuf               3.5.2                 
libsodium                 1.0.16                
libstdcxx-ng              7.2.0                 
libxcb                    1.13                  
libxml2                   2.9.8                 
markdown                  2.6.11                         
markupsafe                1.0               
mistune                   0.8.3             
mkl                       2018.0.2        
mkl_fft                   1.0.1             
mkl_random                1.0.1                  
nbconvert                 5.3.1             
nbformat                  4.4.0             
ncurses                   6.1                   
notebook                  5.5.0                          
numpy                     1.14.3            
numpy-base                1.14.3            
openssl                   1.0.2o                
packaging                 17.1                           
pandas                    0.23.0            
pandoc                    1.19.2.1              
pandocfilters             1.4.2             
parso                     0.2.0                          
pcre                      8.42                  
pexpect                   4.5.0                          
pickleshare               0.7.4             
pip                       10.0.1                         
prompt_toolkit            1.0.15            
protobuf                  3.5.2                  
ptyprocess                0.5.2             
py4j                      0.10.6            
pygments                  2.2.0             
pyparsing                 2.2.0             
pyqt                      5.9.2             
pyspark                   2.3.0                          
python                    3.6.5                 
python-dateutil           2.7.3                          
pytz                      2018.4                         
pyyaml                    3.12              
pyzmq                     17.0.0            
qt                        5.9.5                 
qtconsole                 4.3.1             
readline                  7.0                   
scikit-learn              0.19.1            
scipy                     1.1.0             
send2trash                1.5.0                          
setuptools                39.2.0                         
simplegeneric             0.8.1                     
sip                       4.19.8                 
six                       1.11.0            
sqlite                    3.23.1                
tensorboard               1.8.0                  
tensorflow                1.8.0                 
tensorflow-base           1.8.0             
termcolor                 1.1.0                          
terminado                 0.8.1                          
testpath                  0.3.1             
tk                        8.6.7                 
tornado                   5.0.2                          
traitlets                 4.3.2             
wcwidth                   0.1.7             
werkzeug                  0.14.1                         
wheel                     0.31.1                         
widgetsnbextension        3.2.1                          
xz                        5.2.4                 
yaml                      0.1.7                 
zeromq                    4.2.5                 
zlib                      1.2.11
</code></pre>
",1245,0,<python><jupyter-notebook><ipython><ipywidgets>,2018-10-16 15:34:59
52795559,How can I embed a JUPYTERHUB into iframe?,"<p>I tried all solutions on github, but none of these works</p>

<p>this is my current <a href=""https://i.stack.imgur.com/glduf.png"" rel=""nofollow noreferrer"">config</a>.
<code>
&lt;iframe src=""http://xxx:8000/""&gt;&lt;/iframe&gt;</code></p>

<p><strong>Update</strong></p>

<p>enter code here</p>

<p>It's jupyterhub config file.</p>

<pre><code>`
c.Authenticator.whitelist = {'user'}
c.Authenticator.admin_users = {'admin'}
c.JupyterHub.tornado_settings = {
    'headers': {
        'Content-Security-Policy': 'frame-ancestors self http://localhost:8080',
    }
}
c.JupyterHub.tornado_settings = {'headers': {'X-Frame-Options': 'ALLOW-FROM http://localhost:8080/'}}
`
</code></pre>

<p>It's jupyter notebook config file</p>

<pre><code>`
c.NotebookApp.open_browser = True
c.NotebookApp.tornado_settings = {
    'headers': {
        'Content-Security-Policy': ""frame-ancestors http://localhost:8080/ 'self' ""
    }
}
c.NotebookApp.tornado_settings = {'headers': {'X-Frame-Options': 'ALLOW- FROM http://localhost:8080/'}}
`
</code></pre>
",667,0,<javascript><python><html><jupyterhub>,2018-10-13 17:33:17
52699818,Notebook and terminal launch wrong python version,"<p>I don't know why but after half day using my kernel 'geomatic' in jupyterhub, something crash. My notebook doesn't work anymore... After some researches, I understand that issue comes from python version used by notebook or console. It's a bad one python: 3.6.3 whereas in my kernel terminal (source activate geomatic) I have python 3.6.6. I don't know why but this difference makes crash my scripts and I can't import geopandas in a notebook for example.</p>
",61,-1,<python><jupyter-notebook><jupyterhub><jupyter-console>,2018-10-08 10:00:36
52686106,jupyterhub - How to install packages persistently?,"<p>I have installed the JupyterHub docker image on my server, which automatically creates and launches jupyter notebook containers for each user who logs in: <a href=""https://github.com/jupyterhub/jupyterhub"" rel=""nofollow noreferrer"">https://github.com/jupyterhub/jupyterhub</a></p>

<p>Inside this personal container, I can use pip/conda to install extra packages. However, whenever the host machine reboots, the container has to be recreated and the installed packages are lost.</p>

<p>Is there a good solution for making this persistent? I suppose the installed packages could be mounted as some kind of persistent volume (like the user data already is), but with little Docker experience I wouldn't know how to set that up.</p>
",1427,2,<docker><jupyterhub>,2018-10-07 06:43:16
52622358,jupyter python notebook showing kernel error,"<p>I am accessing jupyterhub notebook through browser as it is running on a remote server(using nginx so that jupyterhub is accessible to client machines).When I access the notebook a kernel error is shown at the top of the screen. Jupyterhub and jupyter notebook is running on a kubernetes cluster and the jupyter notebook is a custom built docker image suitable for python programming. I am very new into python/jupyter hub/notebook, please suggest how to resolve the kernel error.<a href=""https://i.stack.imgur.com/T3HCj.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/T3HCj.png"" alt=""enter image description here""></a></p>
",1553,1,<python><jupyter-notebook><jupyter><jupyterhub>,2018-10-03 07:56:50
52602484,How to solve the ModuleNotFoundError: No module named 'prompt_toolkit.formatted_text' in Jupyter Notebook inside the Pycharm IDE?,"<p>I am using Pycharm 2018.2 version in ubuntu 18.04 and I am trying to use the <em>JupyterNoteBook</em> inside the pycharm it's been loading and creating a new notebook. But the cell in the Jupyter always shows busy and it throws some error like <em>ModuleNotFoundError: No module named 'prompt_toolkit.formatted_text'</em>. Eventhough, I restarted the kernel again and again it throws the same error. Even I uninstalled and after the re-installation it throws the same error.
<a href=""https://i.stack.imgur.com/5MyEm.png"" rel=""nofollow noreferrer"">Error it throws</a></p>
<p>Can aynone please help me to resolve this error?</p>
<p>Thanks in advance !</p>
",18831,12,<python><jupyter-notebook><pycharm><jupyter><jupyter-irkernel>,2018-10-02 05:27:32
52597178,Using Jupyter notebook server to execute Python code on the browser?,"<p>Is it possible to run a Jupyter notebook server and run Python code (not a script, dynamic code based on actions in a webpage)?</p>

<p>My idea is to run Jupyter notebook server on a localhost, and leverage the Python data science stack for the analysis part.</p>
",267,0,<python><jupyter-notebook><jupyter><jupyterhub><jupyter-lab>,2018-10-01 18:50:26
52591679,JUpyterLab Rstudio Installation and configuration,"<p>I was trying to Install Rstdio with JupyterHUb and it works fine. But when I am switching to JupYterLab and I am not able to launch the RStudio sessions. Anybody has a quick forx or working solution for the same.</p>

<p>Best</p>
",204,0,<rstudio-server><jupyterhub><jupyter-lab>,2018-10-01 12:56:45
52510674,Issues with inline plots and widgets after Anaconda installation on windows 7 workstation,"<p>I can't get inline plots or widgets to show properly on either Jupyter (5.5.0) notebook {<a href=""https://i.stack.imgur.com/gJsd6.png"" rel=""nofollow noreferrer"">Issues withing Jupyter Notebook</a>} on Internet Explorer, or using the QtConsole(4.3.1) {<a href=""https://i.stack.imgur.com/B3oi1.png"" rel=""nofollow noreferrer"">Issue within QtConsole</a>}. I have installed Anaconda (Navigator 1.8.7) on a Windows 7 machine. This a shared high-performance workstation PC. </p>

<p>I initially thought that it was a file access/reference issue given that there are multiple user accounts on the PC and mine isn't the admin account (although I do have admin access), and so I uninstalled my first installation of Anaconda (same version 1.8.7) for my individual account and reinstalled it for all users. However, this didn't solve the problem. </p>

<p>The Matplotlib plots do show up correctly when I use spyder, if that helps with debugging. But I would really like it if it worked on Jupyter.</p>

<p>Apologies if there isn't enough information here. Will update as suggested. Appreciate the help.</p>

<p>Here's some additional information about the conda version: <a href=""https://i.stack.imgur.com/ihV8t.png"" rel=""nofollow noreferrer"">Conda Info</a></p>
",41,1,<matplotlib><windows-7><anaconda><jupyter-notebook><ipywidgets>,2018-09-26 05:42:41
52502187,How to get a Jupyter Notebook file in a custom extension,"<p>I am trying to write a Jupyter Notebook extension in which I also have to create a submit button which should post the current notebook file to the external server.</p>

<p>The trouble I am facing is how can I get the notebook file object and then post it. I am not sure if there is a way to get the orginal ipynb file and post it.</p>

<p>I can get a browser URL for example ""<a href=""http://localhost:8888/notebooks/Untitled.ipynb"" rel=""nofollow noreferrer"">http://localhost:8888/notebooks/Untitled.ipynb</a>"", so I figured I could send a get request to this URL and then post it but the get request obviously sends an HTML file of a notebook which is opened in the browser.</p>

<p>Here is my code</p>

<pre><code>var that = Jupyter.menubar;
var browserURL = Jupyter.notebook.container[0].baseURI;
var request = new XMLHttpRequest();
request.open('GET', browserURL, true); // Send get request to browser URL
request.onload = function() {    
    var reader = new FileReader();    
    reader.readAsDataURL(request.response);
    reader.onload =  function(e){
        var notebookFile = e.target.result; // returned File
        $.ajax({
            url : 'http://example.com/hello.php',
            type : ""POST"",
            dataType: ""json"",
            crossDomain: true,
            data: {
                'file': notebookFile,
                'msg': ""Hello""
            },
            success: function(data) {
                console.log(""Success"");
            },
            error: function(xhr, status, error) {
                console.log(""error"");
            }
        });
    };
};
request.send();
</code></pre>

<p>My question is that how can I get the notebook file that I am working on, so I can post it to the server.</p>

<p>Thank you</p>
",471,0,<javascript><python><jupyter-notebook><jupyter><jupyterhub>,2018-09-25 15:49:28
52490136,Are docker version and docker engine version the same? How to check them separately?,"<p><code>docker version</code> returns:</p>
<blockquote>
<p>Client:</p>
<p>Version:   17.12.1-ce</p>
<p>API version:   1.35</p>
<p>Go version:    go1.9.4</p>
<p>Git commit:    7390fc6</p>
<p>Built: Tue Feb 27 22:17:40 2018</p>
<p>OS/Arch:   linux/amd64</p>
<p>Server</p>
<p>Engine:</p>
<p>Version:   17.12.1-ce</p>
<p>API version:   1.35 (minimum version 1.12)</p>
<p>Go version:    go1.9.4</p>
<p>Git commit:    7390fc6</p>
<p>Built: Tue Feb 27 22:16:13 2018</p>
<p>OS/Arch:   linux/amd64</p>
<p>Experimental:  false</p>
</blockquote>
<p>I want to install jupyterhub which requires docker engine <code>1.12.0</code>, but I doubt that <code> Version    17.12.1</code> is not the the engine version. How can I get the engine version?</p>
",11648,10,<docker><jupyterhub>,2018-09-25 03:24:55
52472327,Conditional Button-press-event in matplotlib,"<p>I'm trying to write a piece of code that will only run a button-click-event if a checkbox is checked.</p>

<p>In more detail, the button-press-event records the mouse click coordinates and plots a vertical red line on the plot at the clicked coordinates. However, I only want this to run if the check box 'On' is checked.</p>

<p>Can anyone help me fix the following code?</p>

<pre><code>import numpy as np
import matplotlib.pyplot as plt
from matplotlib.widgets import CheckButtons
import ipywidgets as widgets
from ipywidgets import interactive

#mouse click function to store coordinates and plot vertical red line
def onclick(event):
    if event == 'On':
        global ix,iy
        ix, iy = event.xdata, event.ydata

        global click_count
        click_count.append((ix,iy))

        #plotting lines where clicks occur
        if len(click_count) &gt; 1:
            ax1.axvline(x=ix, ymin=0, ymax=1, color = ""red"")

        # assign global variable to access outside of function
        global coords3
        coords3.append((ix, iy))


        # Disconnect after 12 clicks
        if len(coords3) == 12:
            fig.canvas.mpl_disconnect(cid)
            plt.close(1)
        return

#check box function
def func(label):
    if label == 'On':
        return 'On'

#plots the graph

x = range(0,10)
y = range(0,10)

fig = plt.figure(1)
ax1 = fig.add_subplot(111)
ax1.plot(x,y, color = ""blue"")
ax1.set_title('This is my graph')

#create the check box
ax2 = plt.axes([0.7, 0.05, 0.1, 0.075])
check_box= CheckButtons(ax2, ('On', 'Off'), (False, False))

#define check box function
check = check_box.on_clicked(func)

# calling out the click coordinates to a variable
coords3 = []
click_count = []


# Call click func
cid = fig.canvas.mpl_connect('button_press_event', onclick(check))

plt.show(1)
</code></pre>
",3841,1,<python-3.x><matplotlib><buttonclick><ipywidgets>,2018-09-24 03:27:51
52434375,ipywidgets not rendering with nbconvert using jupyter/scipy-notebook docker image,"<p>When I convert a notebook containing an ipywidget, the widget doesn't render, only the label is printed. Is it possible to get nbconvert to render the ipywidget when converting to html or pdf? I don't need interactivity, just a static image.</p>

<p>Here is the notebook defining a slider widget</p>

<p><a href=""https://i.stack.imgur.com/pB53i.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/pB53i.png"" alt=""enter image description here""></a></p>

<p>And here is the output after running <code>nbconvert --to pdf widget-test.ipynb</code></p>

<p><a href=""https://i.stack.imgur.com/88aJI.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/88aJI.png"" alt=""enter image description here""></a></p>

<p>I went through the process of saving the notebook widget state according to the <a href=""https://ipywidgets.readthedocs.io/en/stable/embedding.html#save-notebook-widget-state"" rel=""nofollow noreferrer"">official instructions</a> before converting the notebook.</p>

<p>I am using the latest <a href=""https://github.com/jupyter/docker-stacks/tree/master/scipy-notebook"" rel=""nofollow noreferrer"">jupyter/scipy-notebook</a> docker image.</p>
",559,4,<jupyter-notebook><ipywidgets><nbconvert>,2018-09-20 22:51:14
52413038,AWS JupyterHub pyspark notebook to use pandas module,"<p>I have a docker container with JupyterHub installed, running on AWS cluster, as described here <a href=""https://docs.aws.amazon.com/emr/latest/ReleaseGuide/emr-jupyterhub.html"" rel=""nofollow noreferrer"">https://docs.aws.amazon.com/emr/latest/ReleaseGuide/emr-jupyterhub.html</a>. It has Python 3 kernel, PySpark 3, PySpark, SparkR, and Spark kernels, and inside the container there are installed conda and many other python packages, but no spark. The problem is that when I run pyspark or pyspark3 kernel, it connects to spark, installed on main node (outside the docker container), and all the internal modules are not available for this notebook any more (they are visible to python kernel though, but then spark is not visible in this case).</p>

<p>So question is how to make modules installed inside the docker to be available and visible to the pyspark/pyspark3 notebook? I think there is something in the settings I'm missing.</p>

<p>I'm pretty much looking for the way to use docker's internally installed modules WITH the externally installed spark in one notebook. </p>

<p>So far I can get only one or another. </p>
",1205,4,<amazon-web-services><docker><apache-spark><pyspark><jupyterhub>,2018-09-19 19:32:05
52402437,multi-user authentication on jupyterhub,"<p>My JupyterHub deployment uses Okta for user authentication. I have a custom Authenticator which validates the user against Okta, but then returns a specific user <code>someUser</code> regardless of the user actually is. This was done to avoid handling system permissions, and to allow easy sharing of notebooks and live kernels across users.</p>

<p>Now I'd like to know who the authenticated user is, for usability matters rather than security ones. I saw on the <a href=""https://jupyterhub.readthedocs.io/en/stable/reference/authenticators.html"" rel=""nofollow noreferrer"">docs</a> that it can be done via <code>auth_state</code>. I added some keys to the <code>auth_state</code>, similar to what's in the example:</p>

<pre class=""lang-or-tag-here prettyprint-override""><code>class MyAuthenticator(Authenticator):
    @gen.coroutine
    def authenticate(self, handler, data=None):
        username = ...
        return {
            'name': 'someUser',
            'auth_state': {
                'user': username,
            },
        }

    @gen.coroutine
    def pre_spawn_start(self, user, spawner):
        """"""Pass upstream_token to spawner via environment variable""""""
        auth_state = yield user.get_auth_state()
        if not auth_state:
            # auth_state not enabled
            return
        spawner.environment['OKTA_USER'] = auth_state['user']
</code></pre>

<p>At first this yielded an empty auth_state; I then saw there were some configurations to be applied, so I added <code>c.Authenticator.enable_auth_state = True</code> to the JupyterHub config file, and <code>export JUPYTERHUB_CRYPT_KEY=$(openssl rand -hex 32)</code> for the JupyterHub process.</p>

<p>However, when I try restarting my JupyterHub service after this, it doesn't load properly. The logs show it keeps trying to do:</p>

<p><code>Loading cookie_secret from ....../jupyterhub_cookie_secret</code></p>

<p>but there is no proper error message I could find anywhere.</p>

<p>If I comment out the <code>c.Authenticator.enable_auth_state</code> configuration, it loads up fine, with this cookie loading line only appearing once in the log.</p>

<p>In the <a href=""https://github.com/jupyterhub/jupyterhub/blob/master/jupyterhub/auth.py#L50"" rel=""nofollow noreferrer"">code</a>, it's mentioned <code>cryptography</code> must be installed, so I made sure it is. I also tried changing the code's default for the <code>enable_auth_state</code> parameter rather than doing it via config, but got the same results.</p>

<p>My main question is, what am I doing wrong and how can I get <code>auth_state</code> to work as expected?</p>

<p>Alternatively, am I simply going about it all wrong, and should simply stop using <code>someUser</code>, and enable easy kernel sharing some other way?</p>
",649,1,<ipython><jupyter-notebook><jupyter><jupyterhub>,2018-09-19 09:22:14
52395284,What is the relationship between `.Random.seed` and `ls()`?,"<p>When doing <code>load(""files.RData""); ls()</code> the output printed to the console is:</p>

<pre><code>'File1'   'File2'   'File3'
</code></pre>

<p>When doing <code>(load(""files.RData""))</code> (the point of the parentheses around <code>load()</code> being to indicate to R to print the output of that line) the output printed to the console is:</p>

<pre><code>'.Random.seed'   'File1'   'File2'   'File3'
</code></pre>

<p><strong>Question:</strong> What is the reason for this difference?</p>

<p><strong>Note:</strong> This might be specific to IRkernel since this code is being run in a Jupyter notebook.</p>
",182,0,<r><jupyter-irkernel>,2018-09-18 22:13:43
52388908,Jupyterhub deployed via docker: Connect with a samba drive,"<p>So I have set up a Jupyterhub deployed with docker. As described <a href=""https://github.com/jupyterhub/jupyterhub-deploy-docker"" rel=""nofollow noreferrer"">here.</a></p>

<p>The users would like to connect to a samba share from within their notebooks. In order for this to work, I wanted to write a small bash script. The scripts asks the user for their credentials to connect to the samba share drive. So here are my questions:</p>

<ol>
<li>I have to open port 445 and 139 of the notebook server container, direct them through the jupyterhub container to the system's ports 445 and 139. Where and how can I achieve this in the docker deployed Jupyterhub framework that I have?</li>
<li>I have to grant the users SYS_ADMIN and DAC_READ_SEARCH capabilities. Suppose I don't trust the users. Do you think this is a good idea? What is the worst case scenario... please scare me. :D</li>
<li>Is there a safer way like some service running in an extra container that handles the sambashare request, creates a docker volume and mounts it during the runtime of the user's container to that same user's container?</li>
</ol>
",225,1,<docker><docker-compose><jupyter-notebook><samba><jupyterhub>,2018-09-18 14:30:51
52372996,create table with serial primary key,"<p>My question is about running CREATE TABLE with a SERIAL PRIMARY KEY, but keep getting errors.  Even after I correct the code based on the errors. the errors persist.  Any help is appreciated.</p>

<pre><code>DROP TABLE IF EXISTS nm_land_grants;
CREATE TABLE nm_land_grants (
    ID SERIAL, land_grant INT,  
    area REAL, perimeter REAL,
    grant_name VARCHAR(255), 
    land_grant INT, land_gra_1 INT,
    survey_app DATE, grant_conf DATE
    CONSTRAINT pk_nm_land_grants
    PRIMARY KEY (ID)
);
</code></pre>

<p>The error I'm getting is as follows:</p>

<pre><code>Done.
(psycopg2.ProgrammingError) syntax error at or near ""(""
LINE 6:     PRIMARY KEY (ID)
                    ^
 [SQL: 'CREATE TABLE nm_land_grants (\n    ID SERIAL, land_grant INT,  area 
REAL, perimeter REAL,\n    grant_name VARCHAR(255), land_grant INT, 
land_gra_1 INT,\n    survey_app DATE, grant_conf DATE\n    CONSTRAINT 
pk_nm_land_grants\n    PRIMARY KEY (ID)\n);']
</code></pre>
",161,0,<postgresql><primary-key><create-table><jupyterhub>,2018-09-17 17:30:39
52355727,Using modules in juypter lab with nbimport - Can Jupyter Lab can be used comfortably with modules?,"<p>My file structure:</p>

<pre><code>app
- Main.ipynb
- Merger.ipynb
- Utils/common.ipynb
</code></pre>

<p>Main.ipynb:</p>

<pre><code>import nbimporter
import Merger
Merger.merge(data)
</code></pre>

<p>Merger.ipynb:</p>

<pre><code>import nbimporter
from Utils.common import parse_date
</code></pre>

<p>common.ipynb:</p>

<pre><code>def parse_date(date_str):
bla
</code></pre>

<p>When typing 'Merger' the import is working and I can see the Merger's functions.
When I run <code>Merger.merge(data)</code>, i'm receving: </p>

<pre><code>name 'parse_date' is not defined
</code></pre>

<p>However, when typing ""parse_date"" at Merger.ipynb, it recognizes it:</p>

<pre><code>&lt;function Utils.common.parse_date(date_str)&gt;
</code></pre>

<p>​It seems like the imports doesn't go from file to file. </p>

<p>In addition, I need to restart the kernel from time to time for it to work.</p>

<p>How can I solve it?</p>

<p>Is it possible to use the Jupyter Lab like an IDE in a comfortable way?</p>
",141,1,<python><jupyter-notebook><jupyter><jupyterhub><jupyter-lab>,2018-09-16 15:39:45
52324367,Panda's Interact and IntSlider (ipywidgets) not displaying slider in jupyter,"<p>Please help me. </p>

<p>I am following this Lynda tutorial - <a href=""https://www.lynda.com/Python-tutorials/power-visualization/711826/765276-4.html?autoplay=true"" rel=""nofollow noreferrer"">Python Statistics Essential Training</a> - Chapter 3, The power of visualization.</p>

<p>and the slider isn't showing up in Jupyter, it's not interactive as it's supposed to be. I run the ""end"" file, and it also has that issue. I have ipywidgets installed and json.   <a href=""https://i.stack.imgur.com/JIU1v.png"" rel=""nofollow noreferrer"">image of the end result</a></p>

<pre><code>interact(plotyear,year=widgets.IntSlider(min=1950,max=2015,step=1,value=1965))
</code></pre>

<p>Thank you for reading my question. Looking forward to finding a solution. </p>
",1078,1,<jupyter><ipywidgets>,2018-09-14 02:57:52
52303178,How to run isolated jupyterhub notebooks,"<p>I'm running a jupyterhub using sudospawner on CentOS7 server. The purpose of jupyterhub is twofold</p>

<ol>
<li>Ensure everyone has the exact same conda packages when we run production code</li>
<li><strong>Allow people to use multiple instances of the same notebook (where we keep all our visualization tools) and not edit each other's local versions.</strong></li>
</ol>

<p>Initially when I was installing jupyterhub, someone told me that different users would be able to run isolated versions of the same notebook. In other words, if person A were to change a parameter in a master notebook from ""foo"" to ""bar"" this wouldn't cause B's single-user notebook to change, since each person is spawning a separate server. </p>

<p>However, now that it's actually installed, I find out that this is not the case. As long as I have the right permissions, I can change anyone's notebook, and this change is reflected across anyone who has the notebook open. This defeats point #2. I want persons A, B, C to all use the same notebook N without changes being reflected on each person's local machine.</p>

<p>Now I have thought of a solution where we keep a git repo of the master notebook and run some code to automatically pull the repo into each person's local dir upon logging in. However, is there a simpler way or more accepted way to accomplish the same thing with just jupyterhub configuration commands?</p>
",334,2,<python><jupyter-notebook><jupyterhub>,2018-09-12 20:41:49
52275923,How to use GlueMetaStore with spark.sql in JupyterHub,"<p>I want to use the GlueMetaStore with spark.sql.</p>

<p>For that I configured the EMR-Cluster (5.16) and set the following configurations:</p>

<pre><code>{
    ""Classification"":""hive-site"",
    ""ConfigurationProperties"":
    {
        ""hive.metastore.client.factory.class"":""com.amazonaws.glue.catalog.metastore.AWSGlueDataCatalogHiveClientFactory""
    },
    ""Configurations"":[]
},
{
    ""Classification"":""spark-hive-site"",
    ""ConfigurationProperties"":
    {
            ""hive.metastore.client.factory.class"":""com.amazonaws.glue.catalog.metastore.AWSGlueDataCatalogHiveClientFactory""
    },
    ""Configurations"":[]
}
</code></pre>

<p>I used the spark-core to query the databases in JupyterHub, but I just get the default database which is empty. There should be a lot of more database when it works.</p>

<p>Do I need to enbaleHiveSupport or something simular to get the connection working, if yes how can I set it in JupterHub, because the context is already loaded? </p>
",296,0,<apache-spark-sql><amazon-emr><aws-glue><jupyterhub>,2018-09-11 12:27:43
52268613,How can I interactively update a latex equation using values set by a user with ipywidgets UI controls in Juypter?,"<p>I'm trying to display a multiline equation using values from a ipywidgets FloatBox input controls in a Jupyter Notebook. I want to be able to have the equation update either whenever the Floatbox controls are updated, or when the user presses a button to update the equation.</p>

<p>First of all, I can display the equation in a Code box using the Markdown function:</p>

<pre><code>x=3
y=4
Markdown(""""""
$$
\\begin{{align}}
\\begin{{split}}
z &amp; =x \\times y \\\\
 &amp; = {x} \\times {y} \\\\
 &amp; = {z}
\end{{split}}
\end{{align}}
$$
"""""".format(x=x,y=y,z=x*y))
</code></pre>

<p>I can also follow instructions on the ipywidgets readthedocs to take input from a slider and output it, as plain text rather than as an equation:</p>

<pre><code>a = widgets.IntSlider(description='a')
b = widgets.IntSlider(description='b')
c = widgets.IntSlider(description='c')

def f(a, b, c):
    print('{}*{}*{}={}'.format(a, b, c, a*b*c))

out = widgets.interactive_output(f, {'a': a, 'b': b, 'c': c})

widgets.HBox([widgets.VBox([a, b, c]), out])
</code></pre>

<p>However, when putting the two together, the Markdown either simply shows a string representation of the Markdown rather than a rendering itself ('<code>&lt;IPython.core.display.Markdown object&gt;</code>') or doesn't display at all (if I don't enclose the Markdown command in a print statement).</p>

<p>Here is the combination of the two together - I have used a simpler equation than the one shown above.</p>

<pre><code>Markdown('$${}\\times{}\\times{}={}$$'.format(a.value, b.value, c.value, a.value*b.value*c.value)) #outputs fine

a = widgets.IntSlider(description='a')
b = widgets.IntSlider(description='b')
c = widgets.IntSlider(description='c')


def f(a, b, c):
    print('{}*{}*{}={}'.format(a, b, c, a*b*c))

def f2(a, b, c):
   print(Markdown('${}\\times{}\\times{}={}$'.format(a, b, c, a*b*c)))

out = widgets.interactive_output(f2, {'a': a, 'b': b, 'c': c})

widgets.HBox([widgets.VBox([a, b, c]), out]) #no output.
</code></pre>

<p>Any ideas?</p>
",424,0,<python><latex><jupyter-notebook><mathjax><ipywidgets>,2018-09-11 04:22:29
52264767,Jupyterhub Custom Authenticator,"<p>I am a little stuck with writing a custom authenticator for jupyterhub. Most probably because I do not understand the inner workings of the available <a href=""https://github.com/cwaldbieser/jhub_remote_user_authenticator/blob/master/jhub_remote_user_authenticator/remote_user_auth.py"" rel=""nofollow noreferrer"">REMOTE_USER authenticator.</a> I am not sure if it is applicable in my case... anyhow... this is what I'd like to do:</p>

<p><strong>My general idea:</strong> I have a server that authenticates a user with his or her institutional login. After logging into the institution server/website, the users' data are encoded -- only some details to identify the user. They are then redirected to a the jupyterhub domain in the following way
<code>https://&lt;mydomain&gt;/hub/login?data=&lt;here go the encrypted data&gt;</code></p>

<p>Now, if a request gets sent like this to my jupyterhub-domain, I'd like to decrypt the submitted data, and authenticate the user.</p>

<p><strong>My trial:</strong>
I tried it with the following code. But it seems I am too nooby... :D 
So please, pedantic comments are welcome :D</p>

<pre><code>from tornado import gen
from jupyterhub.auth import Authenticator

class MyAuthenticator(Authenticator):
    login_service = ""my service""
    authenticator_login_url=""authentication url""
    @gen.coroutine
    def authenticate(self,handler,data=None):
        # some verifications go here
        # if data is verified the username is returned
</code></pre>

<p>My first problem... clicking the button on the login page, doesn't redirect me to my Authentication URL... it seems the variable <code>authenticator_login_url</code> from the login template is set somewhere else...</p>

<p>Second problem... a request made to .../hub/login?data=... is not evaluated by the authenticator (it seems...)</p>

<p>So: Has somebody any hints for me how to go about this? </p>

<p>As you see I followed the tutorials here: 
<a href=""https://universe-docs.readthedocs.io/en/latest/authenticators.html"" rel=""nofollow noreferrer"">https://universe-docs.readthedocs.io/en/latest/authenticators.html</a></p>
",1868,0,<python><jupyterhub><authenticator>,2018-09-10 20:06:51
52238567,Have 2 Ipywidgets acting on one matplotlib plot in Jupyter - Python,"<p>The following code simulates a machine learning, linear regression process.</p>

<p>It is meant to allow the user to do the regression manually and visually in a Jupyter notebook to get a better feel for the linear regression process.</p>

<p>The first section (x,y) of the function generates a plot to perform the regression on.</p>

<p>The next section (a,b) generates the line to play with, for the simulated regression.</p>

<p>I want to be able to change the slope slider without the scatter plot being regenerated.</p>

<p>Any guidance will be very helpful and welcome. :-) </p>

<pre><code>import numpy as np
import ipywidgets as widgets
from ipywidgets import interactive
import matplotlib.pyplot as plt    

def scatterplt(rand=3, num_points=20, slope=1):

    x = np.linspace(3, 9, num_points)
    y = np.linspace(3, 9, num_points)

    #add randomness to scatter
    pcent_rand = rand
    pcent_decimal = pcent_rand/100
    x = [n*np.random.uniform(low=1-pcent_decimal, high=1+ pcent_decimal) for n in x]
    y = [n*np.random.uniform(low=1-pcent_decimal, high=1+ pcent_decimal) for n in y]

    #plot regression line
    a = np.linspace(0, 9, num_points)
    b = [(slope * n) for n in a]

    #format &amp; plot the figure
    plt.figure(figsize=(9, 9), dpi=80)
    plt.ylim(ymax=max(x)+1)
    plt.xlim(xmax=max(x)+1)

    plt.scatter(x, y)

    plt.plot(a, b)

    plt.show()


#WIDGETS    

interactive_plot = interactive(scatterplt, 
                 rand = widgets.FloatSlider(
                                value=3,
                                min=0,
                                max=50,
                                step=3,
                                description='Randomness:', num_points=(10, 50, 5)
                                ),
                 num_points = widgets.IntSlider(
                                value=20,
                                min=10,
                                max=50,
                                step=5,
                                description='Number of points:'
                                ),
                 slope=widgets.FloatSlider(
                                value=1,
                                min=-1,
                                max=5,
                                step=0.1,
                                description='Slope'
                                )

                )

interactive_plot
</code></pre>
",2318,2,<python><numpy><matplotlib><jupyter><ipywidgets>,2018-09-08 19:13:48
52185268,Add environment variable from k8s secret to notebook in Jupyterhub,"<p>I'm using the <a href=""https://zero-to-jupyterhub.readthedocs.io/en/latest/index.html"" rel=""nofollow noreferrer"">Zero to Jupyterhub</a> Helm package in order to deploy Jupyterhub into our kubernetes cluster. The individual notebook images need some extra environment variables (database connection information, mainly), and I'd like them to draw the values from an existing secret in the k8s namespace. How do I do this?</p>

<p>The naive approach of using the following config doesn't work:</p>

<pre><code>singleuser:
  extraEnv:
    SECURE_ENVIRONMENT_VARIABLE: 
      valueFrom:
        secretKeyRef:
          name: secret
          value: key
</code></pre>

<p>It results in <code>SECURE_ENVIRONMENT_VARIABLE</code> being set to <code>map[valueFrom:map[secretKeyRef:map[name:secret value:key]]]</code>.</p>

<p>I've also tried using <code>singleuser.extraConfig</code> to set <code>c.KubeSpawner.extra_container_config</code> as per the <a href=""https://jupyterhub-kubespawner.readthedocs.io/en/latest/spawner.html"" rel=""nofollow noreferrer"">KubeSpawner config docs</a>, but if you use that to set <code>env</code> it apparently overwrites the existing environment variables, which breaks the system:</p>

<pre><code>extraConfig: |
    c.KubeSpawner.extra_container_config = {
      ""env"": [
        {
          ""name"": ""SECURE_ENVIRONMENT_VARIABLE"",
          ""value"": ""test"" # even a hardcoded value results in the container failing 
        }
      ]
    }
</code></pre>

<p>For the record, I'd be fine with creating the deployment .yaml via <code>helm upgrade --debug --dry-run</code> and editing that manually if necessary, I just can't figure out how to get this information onto the dynamically spawned pods.</p>
",1145,3,<jupyterhub>,2018-09-05 12:34:46
52162213,Get Keyboard Events on Jupyter Widgets,"<p>I have a text box in Jupyter likes the following:</p>

<pre><code>import ipywidgets as widgets
from IPython.display import display, clear_outpu
tagInput = widgets.Text()
</code></pre>

<p>And try to get keyboard events like <code>Enter</code> using the following code:</p>

<pre><code>tagInput.observe(handle_process_text_submit,names='value')
</code></pre>

<p>But, it catches just the value changes. what supposed to do to solve the issue?</p>
",2461,2,<python><jupyter-notebook><ipywidgets>,2018-09-04 08:40:50
52151906,display unicode in Html Widget of iPyWidgets,"<p>I want to show Unicode text (Persian text) in Jupiter. Currently, I use from HTML widget to show the text likes the following:</p>

<pre><code># title is unicode
title_value = widgets.HTML(value = title)
</code></pre>

<p>But, I've gotten the following error:</p>

<blockquote>
  <p>TraitError: Could not decode '\xd9\xbe\xda\x98\xd9\x88 405 \xd9\x85\xd8\xb4\xda\xa9\xdb\x8c \xd9\x81\xd8\xb1\xd9\x88\xd8\xb4 90 91' for unicode trait 'value' of a HTML instance.</p>
</blockquote>

<p>Anyhow, when <code>print</code> the title the result would be in Persian.
What supposed to resolve the issue?</p>

<p>I should have mentioned that <code>encode(""utf-8"")</code> does not work properly, as I want to show the Unicode text!</p>
",263,0,<python><python-2.7><unicode><jupyter><ipywidgets>,2018-09-03 14:41:02
52097414,ipywidget interactive plot in Html presentations ipython notebook,"<p>I would like to use the interactive function from ipywidget in an ipython notebook to make a presentation in notebook.</p>

<p>I have stored my data in a pickle file and what I want is to change the parameters interactively so that I can see my plot.</p>

<p>My code is like this.</p>

<pre><code>def spin(model, power):
    with open(path_cluster1+'SSHFS/Model'+str(model)+'/'+str(power)+'/spinpython2.pickle','rb') as f:
        spin = pickle.load(f)
    plt.plot(spin)          
    plt.title('Power'+str(power*0.1))
interactive(spin, model=(1,4,1), power=(70,101,1))
</code></pre>

<p>My collaborators are unfamiliar with python so in principle I would like to make the life easier for them to see my data just by changing a parameter in a html page.  Maybe I have to save all the data in a pickle file but the question is if this can work in a html without running python.</p>

<p>Is something like this possible? </p>
",515,2,<jupyter-notebook><ipywidgets>,2018-08-30 12:43:56
52091793,set jupyterhub notebook_dir to s3 on emr 5.16,"<p>is there a way to redirect the <strong>notebook-dir</strong> to <strong>s3</strong> in the JSON configuration file of an EMR-Cluster befor start the cluster. I used the following classification: ""jupyter-notebook-conf"" and set the following option:
c.NotebookApp.notebook_dir ""s3://[bucket]/path""</p>

<p>That creates the config file:
""/etc/jupyter/jupyter_notebook_config.py""
with the given entry, but with no success.</p>

<p>Earlier I could use the option <strong>--notebook-dir</strong> when I installed the jupyterhub  manually, but now I try to use the preinstalled jupyterhub service of the EMR-Cluster
(see: <a href=""https://aws.amazon.com/de/blogs/big-data/running-jupyter-notebook-and-jupyterhub-on-amazon-emr/"" rel=""nofollow noreferrer"">Run Jupyter Notebook and JupyterHub on Amazon EMR</a>)</p>
",918,0,<amazon-web-services><amazon-s3><amazon-emr><jupyterhub>,2018-08-30 07:49:35
52085973,Creating and using a custom Anaconda environment on Azure DSVM,"<p>I want to use a specific Python environment with specific libraries (Keras, TensorFlow) on an Azure Linux data science virtual machine (DSVM) to move some of my local work to the cloud.</p>

<p>I created the environment in the terminal using Keras v2.1.6. Also, I can see the environment in the Jupyter environment. However, when I switch my kernel to my new environment and run:</p>

<pre><code>import keras
keras.__version__
# output: 2.1.2.
</code></pre>

<p>This should be 2.1.6.</p>

<p>Any help would be appreciated!</p>
",1227,1,<azure><anaconda><jupyterhub><azure-dsvm>,2018-08-29 20:57:23
52084549,use ipywidget interactive() with option manual=True,"<p>I am updating a jupyter notebooks with interactive widgets to a more recent version (ipywidgets 7.2.1).</p>

<p>It used to have <code>interactive()</code> functions that were executed manually by clicking on a button (feature <code>__manual=True</code>). However now I cannot reproduce the same behavior.</p>

<p>Here is a minimal example:
</p>

<pre><code>from ipywidgets import interactive, interact_manual
import ipywidgets as widgets

def do_sth(x):
    #do sth with the argument passed
    print(""done ""+str(x))

nb = widgets.BoundedIntText(description='Number:')

#Interaction in accordion nested in a tab
tab = widgets.Tab()
tab.set_title(0, 'Page 1')

#old method 
#problem: it is not manual anymore
w = interactive(do_sth, x=nb, __manual=True)

#new solution 1
#problem: the widget appears also outside the tab/accordion
w1 = interact_manual(do_sth, x=nb)
w1.widget.children[1].description = 'do sth' #seems a bit of a hack

#new solution 2
w2 = interactive(do_sth, x=nb, manual=True) #does no pass the manual option
#if I set it manually with:
#w2.manual = True 
#It generates an error (AttributeError: 'interactive' object has no attribute 'manual_button')

accordion = widgets.Accordion(children=[w, w1.widget, w2])
accordion.set_title(0, 'old interaction 0')
accordion.set_title(1, 'new interaction 1')
accordion.set_title(2, 'new interaction 2')

tab.children = [accordion]

tab
</code></pre>

<p>Is it possible to use solution 1 and prevent the widget from appearing twice? Otherwise, is there another way to do this?</p>
",1458,5,<jupyter-notebook><ipywidgets>,2018-08-29 19:10:02
52043128,Redirect from http port (80) to https port(443) on Kubernetes,"<p>i'm new to this,</p>

<p>How can I redirect from http port(80) to https port(443) on the same domain(service) in Kubernetes.</p>

<p>I've tried putting nginx on same pod(container) and redirecting from http to https but it didn't work.</p>

<p><strong>I tried this way on same pod</strong></p>

<pre><code>  //nginx
    server {
        listen         80;
        server_name    example.com;
        return         301 https://$server_name$request_uri;
        }
</code></pre>

<p><strong>Kubernetes example deployment file.</strong></p>

<pre><code>//Jupyterhub is running on port 8000.
    spec:
      ports:
      - port: 443
        name: https
        protocol: TCP
        targetPort: 8000
      - port: 80
        name: http
        protocol: TCP
        targetPort: 433
</code></pre>

<p>Is there a default way within kubernetes?</p>

<p>Any help is much appreciated.</p>
",4545,0,<kubernetes><google-cloud-platform><jupyter-notebook><jupyterhub>,2018-08-27 16:06:08
51987363,Identify variables that are lists of strings in the caller scope,"<p>I would like to identify all the lists of strings that the user has defined in their interactive shell.</p>

<pre><code>def lists_of_strings():
    d = dict(globals(), **locals())
    d = {k:v for (k, v) in d.items() if not k.startswith(""_"") and k != 'In'}
    res = {}
    for k, v in d.items():
        if isinstance(v, list):
            if all(map(lambda x: isinstance(x, str), v)):
                res[k] = v
    return res
</code></pre>

<p>When I define this function in my current shell, it works:</p>

<pre><code>&gt;&gt;&gt; lists_of_strings()
{}
&gt;&gt;&gt; mylist = [""a"", ""b""]
&gt;&gt;&gt; lists_of_strings()
{""mylist"": [""a"", ""b""]}
</code></pre>

<p>Now if I move this function in a module <code>mymodule</code> and import it:</p>

<pre><code>&gt;&gt;&gt; from mymodule import lists_of_strings
&gt;&gt;&gt; lists_of_strings()
{}
&gt;&gt;&gt; mylist = [""a"", ""b""]
&gt;&gt;&gt; lists_of_strings()
{}
</code></pre>

<p>The function always returns an empty dictionary. Why is that, <strong>and more importantly, can I fix it</strong>?</p>

<p>Some context: I am trying to write a helper in my module to identify suitable variables defined by the user in the current jupyter notebook. My goal would be to ask the user if they want to use those variables as an argument of some pre-defined function.</p>
",49,1,<python><module><jupyter-notebook><ipywidgets>,2018-08-23 13:47:35
51921530,Using multiple sliders to manipulate curves in a single graph,"<p>I created the following Jupyter Notebook. Here three functions are shifted using three sliders. In the future I would like to generalise it to an arbitrary number of curves (i.e. n-curves). However, right now, the graph updating procedure is very slow and the graph itself doesn't seem to be fixed in the corrispective cell . I didn't receive any error message but I'm pretty sure that there is a mistake in the update function. 
Here is the the code</p>

<pre><code>from ipywidgets import interact
import ipywidgets as widgets
import numpy as np
import pandas as pd
import matplotlib.pyplot as plt
from IPython.display import display


x = np.linspace(0, 2*np.pi, 2000)
y1=np.exp(0.3*x)*np.sin(5*x)
y2=5*np.exp(-x**2)*np.sin(20*x)
y3=np.sin(2*x)

m=[y1,y2,y3]

num_curve=3


def shift(v_X):
    v_T=v_X
    vector=np.transpose(m)
    print(' ')
    print(v_T)
    print(' ')
    curve=vector+v_T
    return curve

controls=[]
o='vertical'
for i in range(num_curve):
    title=""x%i"" % (i%num_curve+1)
    sl=widgets.FloatSlider(description=title,min=-2.0, max=2.0, step=0.1,orientation=o)
    controls.append(sl)
Dict = {} 
for c in controls:
    Dict[c.description] = c  
uif = widgets.HBox(tuple(controls))


def update_N(**xvalor):
    xvalor=[]
    for i in range(num_curve):
        xvalor.append(controls[i].value)
    curve=shift(xvalor)
    new_curve=pd.DataFrame(curve)
    new_curve.plot()
    plt.show()

outf = widgets.interactive_output(update_N,Dict)
display(uif, outf)
</code></pre>
",633,0,<pandas><matplotlib><slider><jupyter-notebook><ipywidgets>,2018-08-19 20:22:07
51899881,Data selection using a button,"<p>I would like to create a button on a Jupyter Notebook in order to replace the if statement used in the following code:</p>

<pre><code>from ipywidgets import interact
import ipywidgets as widgets
import numpy as np
import pandas as pd
import matplotlib.pyplot as plt
from IPython.display import display
import scipy as sci

# I create two dataset
x = np.linspace(0, 2*np.pi, 2000)
y1=np.sin(2*x)
y2=np.sin(4*x)
y3=np.sin(8*x)

f1=np.exp(-x**2)
f2=np.exp(-2*x**2)
f3=np.exp(-3*x**2)

ms=[y1,y2,y3]
mt=[f1,f2,f3]
ms=np.transpose(ms)
mt=np.transpose(mt)
dataset_1=pd.DataFrame(ms)
dataset_2=pd.DataFrame(mt)

control=1 # Selection parameter used in the if condition


# This is the condition that I want to replace by a button
if control==1: 
    data=dataset_1
    data.plot()
    plt.show()

elif control==0:
    data=dataset_2
    data.plot()
    plt.show() 
</code></pre>

<p>Here I created two dataset composed by three sines and gaussians respectively.
I wonder if it is possible to use a radio-button like this:</p>

<pre><code>widgets.RadioButtons(
options=['dataset 1', 'dataset 2'],
description='Switching:',
disabled=False
)
</code></pre>
",1198,0,<python><pandas><radio-button><jupyter-notebook><ipywidgets>,2018-08-17 16:53:49
51831834,List output from function on ipywidgets,"<p>I constructed a function linked to MySQL which returns a list of children for a given parent id. I would like to output this list of children using ipywidgets.</p>

<p>I am having trouble linking the function to ipywidgets. So far I have:</p>

<pre><code>&gt; from ipywidgets import widgets
&gt; 
&gt; text1 = widgets.Text() 
&gt; text2 = widgets.Text() 
&gt; button = widgets.Button(description = 'Run')

&gt; display(text1) 
&gt; display(button) display(text2)
&gt; 
&gt; idnum = text1.value 
&gt; text2.value= list_children(idnum)    
&gt; 
&gt; button.on_click(list_children)
</code></pre>

<p>The function is the following:</p>

<pre><code>&gt; def list_children(parentid):
&gt;     value = parentid
&gt;     parent_80 = session.query(Parent).get(value) 
&gt;     parent_80_children= parent_80.children
&gt;     childrenlist=[] 
&gt;     
&gt;     for i in parent_80_children:
&gt;         childrenlist.append(i.UWI)
&gt;         
&gt;     return childrenlist
</code></pre>

<p>I keep getting the following error:</p>

<blockquote>
  <p>AttributeError: 'NoneType' object has no attribute 'children' </p>
</blockquote>

<p>as it breaks in this line:</p>

<blockquote>
<pre><code>parent_80_children= parent_80.children
</code></pre>
</blockquote>

<p>The function is correct if I run the python cell so I know it's working, but it breaks when I try to click the widget box ""Run"". Somehow there is no link between the function and the widget box.</p>

<p>I would like to have the output upon clicking the ""Run"" widget button as the following:</p>

<ul>
<li>1771860100     </li>
<li>1771860200</li>
<li>1771860300</li>
</ul>

<p>minus the bullet points.</p>

<p>Any input is appreciated. </p>
",1077,1,<function><user-interface><button><display><ipywidgets>,2018-08-13 23:27:24
51757968,"How to display full output in Jupyter, not only last result--for R kernels","<p>The answer to <a href=""https://stackoverflow.com/questions/36786722/how-to-display-full-output-in-jupyter-not-only-last-result"">this question</a> is to install a python package.</p>

<p>What can one do if running an R kernel? R does not have Python magics.</p>
",232,1,<jupyter-notebook><jupyter><jupyter-irkernel>,2018-08-09 02:25:24
51725985,How to give Jupyterhub access to hive tables through spark in EMR,"<p>The default installation of JupytherHub in EMR has no access to the Hive context in  Spark. How can I fix this?</p>
",708,1,<apache-spark><hive><jupyter><amazon-emr><jupyterhub>,2018-08-07 11:43:15
51717719,Jupyterhub: Permission denied (Zero to Jupyterhub),"<p>I am working on creating a Jupyterhub using Kubernetes and followed the instructions provided in <a href=""https://zero-to-jupyterhub.readthedocs.io/en/latest/"" rel=""nofollow noreferrer"">Zero to Jupyterhub</a> documentation. The basic installation of jupyterhub worked fine and I was even able to use the jupyterhub. Later on, when I created my own docker container using a <a href=""https://github.com/vishwesh5/OpenCV-Docker/blob/master/Dockerfile"" rel=""nofollow noreferrer"">Dockerfile</a> that I wrote, the jupyter-test pod crashes. After checking the logs, I found out that it is crashing because of a permission issue. Now, I know that in docker every command is run as sudo, so why is this issue present? I tried installing jupyterhub with --user flag but then the jupyterhub-singleuser is not found in PATH.</p>

<p>Please find below the outputs of some commands I ran for debugging:</p>

<pre><code>kubectl describe pod jupyter-test

Name:         jupyter-test
Namespace:    test-cv4faces-jupyterhub
Node:         gke-test-cv4faces-cluste-default-pool-7198f95e-hrkp/10.128.0.2
Start Time:   Mon, 06 Aug 2018 12:53:37 +0000
Labels:       app=jupyterhub
              component=singleuser-server
              heritage=jupyterhub
Annotations:  hub.jupyter.org/username=test
Status:       Running
IP:           10.48.2.11
Init Containers:
  block-cloud-metadata:
    Container ID:  docker://50123375a6748a03d93a4d441901ea5bdcb3d660b8c254224826d491f5a16221
    Image:         jupyterhub/k8s-network-tools:v0.6
    Image ID:      docker-pullable://jupyterhub/k8s-network-tools@sha256:271e7f7c9b4aa319788ca1bbce3428cad7b9da852a8c3af49178abcc2cc45b28
    Port:          &lt;none&gt;
    Command:
      iptables
      -A
      OUTPUT
      -d
      169.254.169.254
      -j
      DROP
    State:          Terminated
      Reason:       Completed
      Exit Code:    0
      Started:      Mon, 06 Aug 2018 12:53:55 +0000
      Finished:     Mon, 06 Aug 2018 12:53:55 +0000
    Ready:          True
    Restart Count:  0
    Environment:    &lt;none&gt;
    Mounts:         &lt;none&gt;
Containers:
  notebook:
    Container ID:  docker://5efb329f6e91d31b71a941281fecf873433abdaf290e71354ee88a0877e62a5d
    Image:         gcr.io/eng-spot-212108/test-cv4faces-image:version2
    Image ID:      docker-pullable://gcr.io/eng-spot-212108/test-cv4faces-image@sha256:e7baf466e96c4865f50b442b49ca91fcb00f3de59c02a43c756e291ffd69161b
    Port:          8888/TCP
    Args:
      jupyterhub-singleuser
      --ip=""0.0.0.0""
      --port=8888
    State:          Terminated
      Reason:       Error
      Exit Code:    1
      Started:      Mon, 06 Aug 2018 12:56:50 +0000
      Finished:     Mon, 06 Aug 2018 12:56:50 +0000
    Last State:     Terminated
      Reason:       Error
      Exit Code:    1
      Started:      Mon, 06 Aug 2018 12:55:29 +0000
      Finished:     Mon, 06 Aug 2018 12:55:29 +0000
    Ready:          False
    Restart Count:  5
    Requests:
      memory:  1073741824
    Environment:
      EMAIL:                          test@local
      GIT_AUTHOR_NAME:                test
      GIT_COMMITTER_NAME:             test
      JUPYTERHUB_API_TOKEN:           284ac1090eac420f850f94a0a64b79db
      JPY_API_TOKEN:                  284ac1090eac420f850f94a0a64b79db
      JUPYTERHUB_ADMIN_ACCESS:        1
      JUPYTERHUB_CLIENT_ID:           user-test
      JUPYTERHUB_HOST:                
      JUPYTERHUB_OAUTH_CALLBACK_URL:  /user/test/oauth_callback
      JUPYTERHUB_USER:                test
      JUPYTERHUB_API_URL:             http://10.51.246.119:8081/hub/api
      JUPYTERHUB_BASE_URL:            /
      JUPYTERHUB_SERVICE_PREFIX:      /user/test/
      MEM_GUARANTEE:                  1073741824
    Mounts:
      /home/jovyan from volume-test (rw)
      /var/run/secrets/kubernetes.io/serviceaccount from no-api-access-please (ro)
Conditions:
  Type           Status
  Initialized    True 
  Ready          False 
  PodScheduled   True 
Volumes:
  volume-test:
    Type:       PersistentVolumeClaim (a reference to a PersistentVolumeClaim in the same namespace)
    ClaimName:  claim-test
    ReadOnly:   false
  no-api-access-please:
    Type:        EmptyDir (a temporary directory that shares a pod's lifetime)
    Medium:      
QoS Class:       Burstable
Node-Selectors:  &lt;none&gt;
Tolerations:     node.kubernetes.io/not-ready:NoExecute for 300s
                 node.kubernetes.io/unreachable:NoExecute for 300s
Events:
  Type     Reason                 Age              From                                                          Message
  ----     ------                 ----             ----                                                          -------
  Normal   Scheduled              3m               default-scheduler                                             Successfully assigned jupyter-test to gke-test-cv4faces-cluste-default-pool-7198f95e-hrkp
  Normal   SuccessfulMountVolume  3m               kubelet, gke-test-cv4faces-cluste-default-pool-7198f95e-hrkp  MountVolume.SetUp succeeded for volume ""no-api-access-please""
  Normal   SuccessfulMountVolume  3m               kubelet, gke-test-cv4faces-cluste-default-pool-7198f95e-hrkp  MountVolume.SetUp succeeded for volume ""pvc-01c3a951-9976-11e8-b54e-42010a800122""
  Normal   Pulled                 3m               kubelet, gke-test-cv4faces-cluste-default-pool-7198f95e-hrkp  Container image ""jupyterhub/k8s-network-tools:v0.6"" already present on machine
  Normal   Created                3m               kubelet, gke-test-cv4faces-cluste-default-pool-7198f95e-hrkp  Created container
  Normal   Started                3m               kubelet, gke-test-cv4faces-cluste-default-pool-7198f95e-hrkp  Started container
  Normal   Pulled                 2m (x4 over 3m)  kubelet, gke-test-cv4faces-cluste-default-pool-7198f95e-hrkp  Container image ""gcr.io/eng-spot-212108/test-cv4faces-image:version2"" already present on machine
  Normal   Created                2m (x4 over 3m)  kubelet, gke-test-cv4faces-cluste-default-pool-7198f95e-hrkp  Created container
  Normal   Started                2m (x4 over 3m)  kubelet, gke-test-cv4faces-cluste-default-pool-7198f95e-hrkp  Started container
  Warning  BackOff                1m (x8 over 3m)  kubelet, gke-test-cv4faces-cluste-default-pool-7198f95e-hrkp  Back-off restarting failed container

kubectl logs jupyter-test

Traceback (most recent call last):
  File ""/usr/local/lib/python3.5/dist-packages/traitlets/traitlets.py"", line 528, in get
    value = obj._trait_values[self.name]
KeyError: 'runtime_dir'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/usr/local/bin/jupyterhub-singleuser"", line 6, in &lt;module&gt;
    main()
  File ""/usr/local/lib/python3.5/dist-packages/jupyterhub/singleuser.py"", line 455, in main
    return SingleUserNotebookApp.launch_instance(argv)
  File ""/usr/local/lib/python3.5/dist-packages/jupyter_core/application.py"", line 266, in launch_instance
    return super(JupyterApp, cls).launch_instance(argv=argv, **kwargs)
  File ""/usr/local/lib/python3.5/dist-packages/traitlets/config/application.py"", line 657, in launch_instance
    app.initialize(argv)
  File ""&lt;decorator-gen-7&gt;"", line 2, in initialize
  File ""/usr/local/lib/python3.5/dist-packages/traitlets/config/application.py"", line 87, in catch_config_error
    return method(app, *args, **kwargs)
  File ""/usr/local/lib/python3.5/dist-packages/notebook/notebookapp.py"", line 1600, in initialize
    self.init_configurables()
  File ""/usr/local/lib/python3.5/dist-packages/notebook/notebookapp.py"", line 1293, in init_configurables
    connection_dir=self.runtime_dir,
  File ""/usr/local/lib/python3.5/dist-packages/traitlets/traitlets.py"", line 556, in __get__
    return self.get(obj, cls)
  File ""/usr/local/lib/python3.5/dist-packages/traitlets/traitlets.py"", line 535, in get
    value = self._validate(obj, dynamic_default())
  File ""/usr/local/lib/python3.5/dist-packages/jupyter_core/application.py"", line 99, in _runtime_dir_default
    ensure_dir_exists(rd, mode=0o700)
  File ""/usr/local/lib/python3.5/dist-packages/jupyter_core/utils/__init__.py"", line 13, in ensure_dir_exists
    os.makedirs(path, mode=mode)
  File ""/usr/lib/python3.5/os.py"", line 231, in makedirs
    makedirs(head, mode, exist_ok)
  File ""/usr/lib/python3.5/os.py"", line 231, in makedirs
    makedirs(head, mode, exist_ok)
  File ""/usr/lib/python3.5/os.py"", line 231, in makedirs
    makedirs(head, mode, exist_ok)
  File ""/usr/lib/python3.5/os.py"", line 241, in makedirs
    mkdir(name, mode)
PermissionError: [Errno 13] Permission denied: '/.local'
</code></pre>

<p>I would really appreciate any help regarding this.</p>

<p>Thanks in advance</p>

<p>Vishwesh</p>
",3420,3,<docker><google-kubernetes-engine><jupyterhub>,2018-08-07 01:47:55
51601061,Jupyter Notebook: duplicated scatter plot using when using ipywidgets,"<p>I'm trying to control the display of a scatter plot with a checkbox. When I built it using the interact function it worked as expected. The plot was shown or hidden based on the value in the checkbox.</p>

<pre><code>import matplotlib.pyplot as plt
from ipywidgets import interact, widgets
%matplotlib inline

def on_change(Display):
    if Display == True:
        plt.scatter(x,y)
        plt.show()  
    return Display

interact(on_change, Display=False);
</code></pre>

<p>When I tried to do the same thing using the observe function every time I clicked on the checkbox I get an additional plot displayed below. What do I need to do to get it to redraw the same plot so it works like the example above?</p>

<p>I suppose something in the interact example is clearing the display but it's not clear how to do this manually.</p>

<pre><code>import matplotlib.pyplot as plt
from ipywidgets import interact, widgets
%matplotlib inline

x = [1,2,3,4,5,6,7,8]
y = [5,2,4,2,1,4,5,2]

def on_change(change):
    if change['new'] == True:
        scat = plt.scatter(x,y)
        plt.show()   

cb = widgets.Checkbox(False, description = ""Display"")
cb.observe(on_change, names='value')
display(cb)
</code></pre>
",1323,3,<python><matplotlib><jupyter-notebook><ipywidgets>,2018-07-30 19:32:13
51561442,Change button name on ipywidgets,"<p>Is there a way to easily change the button name in the ipywidgets module? I am using the decorator, but cannot find in the documentation how to change the name to something other than ""Run Interact"". I believe I need to use the decorator since my function needs to be run on demand and depends on multiple inputs from different widgets, but I'm open to other ways of doing so as well. </p>

<pre><code>import ipywidgets as widgets
from IPython.display import display

@widgets.interact_manual(number1 = widgets.Dropdown(
                                            options=[1,2],
                                            description='select a number'),
                         number2 = widgets.Dropdown(
                                            options=[3,4],
                                            description='select another number'))
def add_numbers(number1,number2):
    return number1+number2
</code></pre>
",1808,5,<widget><jupyter-notebook><ipywidgets>,2018-07-27 15:49:04
51544577,ipywidgets with seaborn PairGrid plots,"<p>In a Jupyter Notebook I am visualizing the Iris dataset with seaborn in combination with ipywidgets. That works fine, except that is not that fast because the plots have to be rendered every time you select a new combination of the species 'versicolor', 'virginica' and 'setosa'. See first code block.</p>

<p>So I tried to speed up the interaction by pre-processing the plots for each combination of species and storing them in a dictionary. See second code block.
The dictionary seems to contain all plots, but they don't show.</p>

<p>Any suggestions how to fix this?</p>

<p>First code block:</p>

<pre><code>import pandas as pd
import seaborn as sns
import matplotlib.pyplot as plt
from ipywidgets import *

sns.set(style=""white"")
iris = sns.load_dataset(""iris"")

def iris_pg(species):
    g = sns.PairGrid(iris[iris.species.isin(species)], diag_sharey=False)
    g.map_lower(sns.kdeplot)
    g.map_upper(sns.scatterplot)
    g.map_diag(sns.kdeplot, lw=3)
    return plt.show()

interact(iris_pg,
         species = widgets.SelectMultiple(options=iris.species.unique(),
                                          value=tuple(iris.species.unique()[-2:]),
                                          rows=len(iris.species.unique()),
                                          description='species',
                                          disabled=False))
</code></pre>

<p>Second code block:</p>

<pre><code>import pandas as pd
import seaborn as sns
import matplotlib.pyplot as plt
from ipywidgets import *
from itertools import combinations

sns.set(style=""white"")
iris = sns.load_dataset(""iris"")

all_combinations = list()
for i in range(1, len(iris.species.unique()) + 1):
    for combi in combinations(iris.species.unique(), i):
        all_combinations.append(combi)

all_plots = dict()
for i in all_combinations:
    all_plots[i] = sns.PairGrid(iris[iris.species.isin(i)], diag_sharey=False)
    all_plots[i].map_lower(sns.kdeplot)
    all_plots[i].map_upper(sns.scatterplot)
    all_plots[i].map_diag(sns.kdeplot, lw=3)

def iris_pg(species):
    all_plots[species]
    return plt.show()

options = iris.species.unique()
value = tuple(iris.species.unique()[-2:])
rows = len(iris.species.unique())

interact(iris_pg,
         species = widgets.SelectMultiple(options=options,
                                          value=value,
                                          rows=rows,
                                          description='species',
                                          disabled=False))
</code></pre>
",1139,3,<python><seaborn><ipywidgets>,2018-07-26 17:36:06
51526969,Use Plotly and ipywidgets,"<p>I'm using plotly offline with ipywidgets and can't figure it out why the code below is not working:</p>
<pre><code>op=widgets.Output()

with op:
     iplot([{&quot;x&quot;: [1,2,3],&quot;y&quot;: [3,1,6]}])    

box=widgets.VBox([widget1,op]
display(box)
</code></pre>
<p>If I call display(op) alone it works but I can't figure it out why the plot is not displayed when I call display(box)...</p>
<p>Do you have any idea?</p>
",2699,0,<python><python-3.x><plotly><ipywidgets><vbox>,2018-07-25 20:12:44
51491343,Jupyterhub does not run through plist,"<p>I have been running <strong>jupyterhub 0.91</strong>. in a MacOS Sierra (Version 10.12.6) successfully and could access the notebook from any client connected to this MacOS network. I attempted to make <strong>jupyterhub</strong> as a service. Towards this, I created the <strong>org.xyz.jupyter.plist</strong> file in <strong>/Users/xyz/Library/LaunchAgents</strong> (<strong>xyz</strong> is my user ID) with the following contents (standard header and footer info omitted for brevity):</p>

<pre><code>&lt;dict&gt;
    &lt;key&gt;KeepAlive&lt;/key&gt;
    &lt;true/&gt;
    &lt;key&gt;Label&lt;/key&gt;
    &lt;string&gt;org.xyz.jupyter&lt;/string&gt;
    &lt;key&gt;ProgramArguments&lt;/key&gt;
    &lt;array&gt;
        &lt;string&gt;/Users/xyz/Library/LaunchAgents/jupyterhub.sh&lt;/string&gt;
    &lt;/array&gt;
    &lt;key&gt;RunAtLoad&lt;/key&gt;
    &lt;true/&gt;
    &lt;key&gt;StandardErrorPath&lt;/key&gt;
    &lt;string&gt;/Users/Shared/jupyterhub.err&lt;/string&gt;
    &lt;key&gt;StandardOutPath&lt;/key&gt;
    &lt;string&gt;/Users/Shared/jupyterhub.out&lt;/string&gt;
    &lt;key&gt;KeepAlive&lt;/key&gt;
    &lt;true/&gt;
&lt;/dict&gt;
</code></pre>

<p>And, the contents of <strong>/Users/xyz/Library/LaunchAgents/jupyterhub.sh</strong> are:</p>

<pre><code>PID=$(pgrep -f jupyterhub)
if [ ""x$PID"" = ""x"" ]; then # Ensure only one jupyterhub instance is running
    sudo /opt/anaconda/anaconda3/bin/jupyterhub -f /Users/Shared/jupyterhub_config.py
fi
</code></pre>

<p>I ran the above shell script independently and <strong>jupyterhub</strong> started without posing any problems. However, when I restarted my Mac to auto start the hub, I got the following error (excerpts):</p>

<pre><code>  File ""/opt/anaconda/anaconda3/lib/python3.6/subprocess.py"", line 1344, in _execute_child
    raise child_exception_type(errno_num, err_msg, err_filename)
FileNotFoundError: [Errno 2] No such file or directory: 'configurable-http-proxy': 'configurable-http-proxy'
</code></pre>

<p>I checked the location <strong>/opt/anaconda/anaconda3/bin/</strong> from where <strong>jupyterhub</strong> is executed and found the file <strong>configurable-http-proxy</strong>. Then, I copied it to: <strong>/opt/anaconda/anaconda3/lib/python3.6</strong> from where the subprocess.py is executing and reporting the absence of <strong>configurable-http-proxy</strong>. Still, the error remains the same. Any help, please?</p>
",118,1,<macos><http-proxy><jupyterhub>,2018-07-24 05:51:47
51482598,Traitlets List won't run callback if the list is modified in-place,"<p>I have a class with a list trait that I'd like to use to call a function any time the list is modified.</p>

<pre><code>class MyClass(traitlets.HasTraits):
    MyTrait = traitlets.List([0]*8, minlen=8, maxlen=8)


Foo = MyClass()


def Bar(change):
    print(change['new'])


Foo.observe(Bar, names='MyTrait')
</code></pre>

<p>The problem I have is that if I do something like the following, <code>Bar</code> doesn't get called:  </p>

<pre><code>Foo.MyTrait[0] = 5
</code></pre>

<p>If I want <code>Bar</code> to get called, I have to do something like this:</p>

<pre><code>MyTraitCopy = Foo.MyTrait.copy()
MyTraitCopy[0] = 5
Foo.MyTrait = MyTraitCopy
</code></pre>

<p>This doesn't seem like the right way to do this. Is there a better way to register a callback to a change in a member of a List trait?</p>
",353,1,<python><jupyter-notebook><jupyter><ipywidgets>,2018-07-23 15:40:06
51480428,I cannot open Anaconda and Jupyter has 0 active kernels,"<p>Firstly, I re-installed Anaconda, but I cannot open Anaconda. When I click it, it has no response. When I am trying to open Anaconda at the command line using the following:</p>

<pre><code>anaconda-navigator
</code></pre>

<p>I got an error as follows:</p>

<pre><code>from PySide import __version__ as PYSIDE_VERSION  # analysis:ignore
ModuleNotFoundError: No module named 'PySide'  
</code></pre>

<p>But I actually have piped pyqt5. I do not know how to solve it, I cannot open Anaconda.</p>

<p>Secondly，as I am not able to open Anaconda, I am trying to open Jupyter at the command line using <code>jupyter notebook</code>, but I got error as <code>0 active kernels</code>. When I get into the Jupyter notebook, I can't do anything. I cannot build a new file as follows: when I click the new button, no response.</p>

<p><img src=""https://i.stack.imgur.com/IgfNR.png"" alt=""image""></p>

<p>I've tried to re-install Python and Anaconda many times, but I still get the error. Can anyone help me to figure out what's wrong with it?</p>
",207,1,<python><anaconda><jupyter-notebook><jupyter><jupyter-irkernel>,2018-07-23 13:49:36
51346765,How do I change a button label created with 'interact_manual' from 'ipywidgets'? and how do I change the size and color of that button?,"<p>How do I change a button label created with 'interact_manual' from 'ipywidgets'? and how do I change the size and colour of that button?</p>

<p>Here is what I wrote</p>

<pre><code>from ipywidgets import interact,interact_manual
def HDI_vs_CrimeRate():
    #do some thing here
interact_manual(HDI_vs_CrimeRate)
</code></pre>

<p>and here is how the button looks like:
<a href=""https://i.stack.imgur.com/ClLVi.png"" rel=""noreferrer"">1</a>
Thanks for your help</p>
",5581,7,<python><button><jupyter-notebook><ipywidgets>,2018-07-15 08:47:16
51330356,jupyterhub in docker container not able to connect to external directory,"<p>I am setting up a jupyterhub for users in our group to be able to run scripts using our python package on common data without having to install the environment on their computers.
The system is based on jupyterhub-deploy-docker (<a href=""https://github.com/jupyterhub/jupyterhub-deploy-docker/"" rel=""nofollow noreferrer"">https://github.com/jupyterhub/jupyterhub-deploy-docker/</a>) with the modifications for running on a localhost (<a href=""https://github.com/PHI-Toolkit/jupyterhub-deploy-docker-localhost"" rel=""nofollow noreferrer"">https://github.com/PHI-Toolkit/jupyterhub-deploy-docker-localhost</a>) which spawns Docker Containers with single user jupyter notebook instances from a dockerized jupyterhub. The idea is to mount a local host directory (or that of a data server) into the jupyterhub container and from there feed it through to the single user instances, to be used as notebook_dir. Then, ipynbs can access the data on the server and be saved there.</p>

<p>The whole approach works well when not dockerized (for testing, authentifying with DummyAuthenticator and spawning with SimpleLocalProcessSpawner), but I can't get the docker containers to see the host directory.
My approach is to additionally bind the path on the host machine and specify the used DOCKER_NOTEBOOK_DIR as a target.
Therefore, in docker-compose.yml I alter the volumes section</p>

<pre><code>volumes:
  # Bind Docker socket on the host so we can connect to the daemon from
  # within the container
  - ""/var/run/docker.sock:/var/run/docker.sock:rw""
  # Bind Docker volume on host for JupyterHub database and cookie secrets
  - ""data:${DATA_VOLUME_CONTAINER}""
  - ""/path/on/host:${DOCKER_NOTEBOOK_DIR}""
</code></pre>

<p>this is used in jupyterhub_config.py as the notebook_dir of the spawner:</p>

<pre><code>notebook_dir = os.environ.get('DOCKER_NOTEBOOK_DIR') or '/home/jovyan/work'
c.DockerSpawner.notebook_dir = notebook_dir
# c.DockerSpawner.volumes = {
#     'jupyterhub-user-{username}': notebook_dir,
#     'jupyter-shared': '/home/jovyan/work/shared/',
#     'jupyter-geoserver': '/home/jovyan/work/geoserver',
#     'jupyter-modules': '/home/jovyan/work/modules'
#}
c.DockerSpawner.volumes = { 'jupyter-serverdata': notebook_dir,
    'jupyter-shared': '/home/jovyan/work/shared/',
}
</code></pre>

<p>I would think that then the ipython notebook should access the contents of /path/on/host, but I still get the same directories as in the standard configuration (with the same content, even though I removed the jupyterhub containers and images).
As I suspect this is due to the DockerSpawner, I tried to use the SimpleLocalProcessSpawner, but still running jupyterhub in its docker container. However I couldn't get this to run (spawning results in error 500).</p>

<p>Any help on how to feed an external path (host path) through a jupyterhub running in a docker container into a jupyter notebook instance would be greatly appreciated.</p>
",1853,1,<python><docker-compose><jupyterhub>,2018-07-13 17:43:30
51292852,How to use sink() to save R output in Jupyter notebook?,"<p>Normally, I can use the <code>sink()</code> function to redirect R output to a file. For example:</p>

<p><code>sink(""test.txt"")
 cat(""Hello World"")
 sink()</code></p>

<p>However, in Jupyter Notebook (R kernel), using <code>sink()</code> did not redirect the printed output and I got nothing in the <code>test.txt</code> file. I know that specify filename in <code>cat(""Hello World"", file = ""test.txt"")</code> can save output and avoid using <code>sink()</code> altogether. The problem is that I have hundreds of lines written using <code>cat()</code> without specifying filename. </p>

<p>Anyone knows why <code>sink()</code> did not work in Jupyter? Is there other alternative way to store output printed in R?</p>
",892,3,<r><jupyter-notebook><jupyter-irkernel>,2018-07-11 19:22:28
51287958,How to access current user/auth_state from notebook,"<p>I am using JupyterHub with custom authenticator.
It sets auth_state with access token, which then can be copied into environment inside <code>pre_spawn_start</code> method like in the example:</p>

<pre><code>class MyAuthenticator(Authenticator):
    @gen.coroutine
    def authenticate(self, handler, data=None):
        username = yield identify_user(handler, data)
        upstream_token = yield token_for_user(username)
        return {
            'name': username,
            'auth_state': {
                'upstream_token': upstream_token,
            },
        }

@gen.coroutine
def pre_spawn_start(self, user, spawner):
    """"""Pass upstream_token to spawner via environment variable""""""
    auth_state = yield user.get_auth_state()
    if not auth_state:
        # auth_state not enabled
        return
    spawner.environment['UPSTREAM_TOKEN'] = auth_state['upstream_token']
</code></pre>

<p>However, it happens only once per user. If I logout and login again, the <code>pre_spawn_start</code> is not called again and old token is still present in the environment variable. </p>

<p>Is it possible to access <code>user.get_auth_state()</code> directly from the notebook so I can be sure to use the current token, rather then previously set and stored in the environment?</p>

<p>Otherwise, is it possible to force spawner stop on logout so the subsequent login will trigger the <code>pre_spawn_start</code>?</p>
",1134,6,<jupyter-notebook><jupyterhub>,2018-07-11 14:21:42
51245094,Confusion about plotly offline and updating a graph in jupyter notebook,"<p>My question is related to this <a href=""https://stackoverflow.com/questions/43820691/using-ipywidgets-with-plotly-in-jupyter-notebook?rq=1"">SO post</a>. However, I do not want to use interact but rather I would like to call iplot with a button. Unfortunately, the plot is shown multiple times in the same cell. Any ideas how to avoid that ?</p>

<pre><code>#%matplotlib inline
from matplotlib import pyplot as plt
import numpy as np

import ipywidgets as widgets

import plotly.plotly as ply
import plotly.graph_objs as go
from plotly.widgets import GraphWidget
from plotly.offline import init_notebook_mode, iplot, plot

init_notebook_mode(connected=True)

#%%
def plotly_kin(x, y, color_list):
    """""" A generic plot function for x,y line plots
    """"""
    # pop the first item from the colormap
    try:
        color = color_list.pop(0)
    except AttributeError:
        # reameke the colormap
        color_list = list(plt.cm.tab10.colors)
        color = color_list.pop(0)

    # create a line object
    line = go.Scatter(x=x, y=y, mode='scatter', name='test')
    # make a data object
    traces.append(line)
    iplot(traces, show_link=False)

#%%
traces = []

#%% this part works just fine
x = np.arange(0,10)
y = np.random.normal(size=len(x))

plotly_kin(x, y, 'a')
</code></pre>

<p>The output is always in the same graph:
<a href=""https://i.stack.imgur.com/5Lvqh.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/5Lvqh.png"" alt=""enter image description here""></a></p>

<p>However, this part does not work because the figure is appended to the cells output:</p>

<pre><code>def test_plot(message):
    x = np.arange(0,10)
    y = np.random.normal(size=len(x))
    plotly_kin(x, y, 'a')

button_test = widgets.Button(description='test')
button_test.on_click(test_plot)
display(button_test)
</code></pre>

<p><a href=""https://i.stack.imgur.com/WvSIZ.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/WvSIZ.png"" alt=""enter image description here""></a></p>
",682,1,<python><jupyter-notebook><plotly><ipywidgets>,2018-07-09 12:01:09
51214139,Unable to connect to JupyterHub with Ngnix on Ubuntu vm,"<p>I'm trying to get JupyterHub running on Azure with Nginx on a subdomain but am unable to connect to the Hub. I'm getting a 502 Bad Gateway error with the current set posted below. In other configurations that I tried, connecting to the host just hangs. Any ideas?</p>

<p>I'm using Ubuntu on Azure with 2 vcpus and 7 GB of memory </p>

<pre><code>~$ lsb_release -a

No LSB modules are available.
Distributor ID: Ubuntu
Description:    Ubuntu 16.04.4 LTS
Release:    16.04
Codename:   xenial
</code></pre>

<hr>

<pre><code>~$ jupyterhub -f /etc/jupyterhub/jupyterhub_config.py --debug

[D 2018-07-06 15:31:16.748 JupyterHub application:555] Looking for /etc/jupyterhub/jupyterhub_config in /home/devmoxie
[D 2018-07-06 15:31:16.749 JupyterHub application:577] Loaded config file: /etc/jupyterhub/jupyterhub_config.py
[I 2018-07-06 15:31:16.751 JupyterHub app:1656] Using Authenticator: jupyterhub.auth.PAMAuthenticator-0.9.0
[I 2018-07-06 15:31:16.751 JupyterHub app:1656] Using Spawner: jupyterhub.spawner.LocalProcessSpawner-0.9.0
[I 2018-07-06 15:31:16.755 JupyterHub app:1014] Loading cookie_secret from /home/devmoxie/jupyterhub_cookie_secret
[D 2018-07-06 15:31:16.756 JupyterHub app:1069] Connecting to db: sqlite:///jupyterhub.sqlite
[D 2018-07-06 15:31:16.779 JupyterHub orm:685] database schema version found: 896818069c98
[I 2018-07-06 15:31:16.785 JupyterHub proxy:429] Generating new CONFIGPROXY_AUTH_TOKEN
[W 2018-07-06 15:31:16.787 JupyterHub app:1160] No admin users, admin interface will be unavailable.
[W 2018-07-06 15:31:16.787 JupyterHub app:1161] Add any administrative users to `c.Authenticator.admin_users` in config.
[I 2018-07-06 15:31:16.787 JupyterHub app:1188] Not using whitelist. Any authenticated user will be allowed.
[E 2018-07-06 15:31:16.827 JupyterHub app:1209] Error adding user adam already in db
    Traceback (most recent call last):
      File ""/home/devmoxie/anaconda3/lib/python3.6/site-packages/jupyterhub/app.py"", line 1207, in init_users
        await maybe_future(self.authenticator.add_user(user))
      File ""/home/devmoxie/anaconda3/lib/python3.6/site-packages/jupyterhub/auth.py"", line 525, in add_user
        raise KeyError(""User %s does not exist."" % user.name)
    KeyError: 'User adam does not exist.'

[W 2018-07-06 15:31:16.829 JupyterHub app:1221]
    You can set
        c.Authenticator.delete_invalid_users = True
    to automatically delete users from the Hub database that no longer pass
    Authenticator validation,
    such as when user accounts are deleted from the external system
    without notifying JupyterHub.

[D 2018-07-06 15:31:16.838 JupyterHub app:1460] Loading state for devmoxie from db
[D 2018-07-06 15:31:16.840 JupyterHub app:1460] Loading state for adam from db
[D 2018-07-06 15:31:16.841 JupyterHub app:1476] Loaded users:
    devmoxie admin
        adam
[I 2018-07-06 15:31:16.855 JupyterHub app:1838] Hub API listening on http://127.0.0.1:8081/jupyterhub/hub/
[W 2018-07-06 15:31:16.856 JupyterHub proxy:481] Running JupyterHub without SSL.  I hope there is SSL termination happening somewhere else...
[I 2018-07-06 15:31:16.856 JupyterHub proxy:483] Starting proxy @ http://127.0.0.1:8000/jupyterhub/
[D 2018-07-06 15:31:16.857 JupyterHub proxy:484] Proxy cmd: ['configurable-http-proxy', '--ip', '127.0.0.1', '--port', '8000', '--api-ip', '127.0.0.1', '--api-port', '8001', '--error-target', 'http://127.0.0.1:8081/jupyterhub/hub/error']
15:31:17.501 - info: [ConfigProxy] Proxying http://127.0.0.1:8000 to (no default)
15:31:17.505 - info: [ConfigProxy] Proxy API at http://127.0.0.1:8001/api/routes
[D 2018-07-06 15:31:17.863 JupyterHub proxy:517] Proxy started and appears to be up
[D 2018-07-06 15:31:17.863 JupyterHub proxy:294] Fetching routes to check
[D 2018-07-06 15:31:17.865 JupyterHub proxy:593] Proxy: Fetching GET http://127.0.0.1:8001/api/routes
15:31:17.882 - info: [ConfigProxy] 200 GET /api/routes
[I 2018-07-06 15:31:17.882 JupyterHub proxy:299] Checking routes
[I 2018-07-06 15:31:17.882 JupyterHub proxy:368] Adding default route for Hub: / =&gt; http://127.0.0.1:8081
[D 2018-07-06 15:31:17.883 JupyterHub proxy:593] Proxy: Fetching POST http://127.0.0.1:8001/api/routes/
15:31:17.886 - info: [ConfigProxy] Adding route / -&gt; http://127.0.0.1:8081
15:31:17.887 - info: [ConfigProxy] 201 POST /api/routes/
[I 2018-07-06 15:31:17.887 JupyterHub app:1895] JupyterHub is now running at http://127.0.0.1:8000/jupyterhub/
</code></pre>

<hr>

<pre><code>~$ cat /etc/jupyterhub/jupyterhub_config.py

c.JupyterHub.ip = '127.0.0.1'
c.JupyterHub.base_url = u'/jupyterhub'
c.Authenticator.whitelist = {'devmoxie', 'Adam'}
c.Authenticator.admin_users = {'devmoxie'}    
</code></pre>

<hr>

<pre><code>~ cat /etc/nginx/sites-available/default

server {
    listen 80 default_server;
    listen [::]:80 default_server;
    server_name 40.###.###.###;
    rewrite ^ https://$host$request_uri? permanent;
}

server {

    # SSL configuration

    listen 443 ssl default_server;
    listen [::]:443 ssl default_server;
    include snippets/self-signed.conf;
    include snippets/ssl-params.conf;

    root /var/www/html;

    # Add index.php to the list if you are using PHP
    index index.html index.htm index.nginx-debian.html;

    server_name _;

    location / {
        # First attempt to serve request as file, then
        # as directory, then fall back to displaying a 404.
        try_files $uri $uri/ =404;
    }
}
</code></pre>

<hr>

<pre><code>~$ cat /etc/nginx/sites-enabled/jupyterhub.conf

# top-level http config for websocket headers
# If Upgrade is defined, Connection = upgrade
# If Upgrade is empty, Connection = close
map $http_upgrade $connection_upgrade {
    default upgrade;
    ''      close;
}

# HTTP server to redirect all 80 traffic to SSL/HTTPS
server {
    listen 80;
    server_name 40.###.###.###;

    # Tell all requests to port 80 to be 302 redirected to HTTPS
    return 302 https://$host$request_uri;
}

# HTTPS server to handle JupyterHub
server {
    listen 443;
    ssl on;

    server_name 40.###.###.###;

    ssl_certificate /etc/ssl/certs/nginx-selfsigned.crt;
    ssl_certificate_key /etc/ssl/private/nginx-selfsigned.key;

    ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
    ssl_prefer_server_ciphers on;
    ssl_dhparam /etc/ssl/certs/dhparam.pem;
    ssl_ciphers 'ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES256-GCM-SHA384:DHE-RSA-AES128-GCM-SHA256:DHE-DSS-AES128-GCM-SHA256:kEDH+AESGCM:ECDHE-RSA-AES128-SHA256:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA:ECDHE-ECDSA-AES128-SHA:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA:ECDHE-ECDSA-AES256-SHA:DHE-RSA-AES128-SHA256:DHE-RSA-AES128-SHA:DHE-DSS-AES128-SHA256:DHE-RSA-AES256-SHA256:DHE-DSS-AES256-SHA:DHE-RSA-AES256-SHA:AES128-GCM-SHA256:AES256-GCM-SHA384:AES128-SHA256:AES256-SHA256:AES128-SHA:AES256-SHA:AES:CAMELLIA:DES-CBC3-SHA:!aNULL:!eNULL:!EXPORT:!DES:!RC4:!MD5:!PSK:!aECDH:!EDH-DSS-DES-CBC3-SHA:!EDH-RSA-DES-CBC3-SHA:!KRB5-DES-CBC3-SHA';
    ssl_session_timeout 1d;
    #ssl_session_cache shared:SSL:50m;
    #ssl_stapling on;
    ssl_stapling off;
    #ssl_stapling_verify on;
    ssl_stapling_verify off;
    add_header Strict-Transport-Security max-age=15768000;

    # Managing literal requests to the JupyterHub front end
    location /jupyterhub/ {
        proxy_pass https://127.0.0.1:8000;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header Host $host;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;

        # websocket headers
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection $connection_upgrade;
    }

    # Managing requests to verify letsencrypt host
    location ~ /.well-known {
        allow all;
    }
}
</code></pre>
",474,0,<python-3.x><azure><nginx><reverse-proxy><jupyterhub>,2018-07-06 16:07:19
51200043,Jupyterhub Unable to connect to Kernel from Web Browser,"<p>We have Jupyterhub installed on a Ubuntu server. Our firewall ports are not open in general, so we opened ports like 8000, 8081 and 8888 to allow the web browser reach jupyterhub. I do not know too much of administration work. </p>

<p>While Jupyterhub is loading, yet when we try to connect the kernel - it shows an error stating </p>

<blockquote>
  <p>A connection to the notebook server could not be established. The notebook will continue trying to reconnect. Check your network connection or notebook server configuration.*</p>
</blockquote>

<p>Jupyterhub Version - 0.8.0
Also we are forcing it to on a specific IP</p>

<p>Our logs show something like below - I am not sure what to do with that.</p>

<p>""shell_port"": 55029,
  ""iopub_port"": 36663,
  ""stdin_port"": 42650,
  ""control_port"": 38954,
  ""hb_port"": 58009,</p>

<p>For the ip: 127.0.0.1 </p>

<p>Anyone faced similar kind of error or anything </p>
",199,1,<python><kernel><jupyter><jupyterhub>,2018-07-05 21:18:23
51199982,Access credential for EMR Jupyter Notebook,"<p>I just set up an EMR cluster with built-in Spark, JupyterHub and so on. I am able to access the Jupyter Notebook at <a href=""http://__master_hostname__:9443/hub/login"" rel=""noreferrer"">http://<strong>master_hostname</strong>:9443/hub/login</a> but I have no idea what credential I can use to log in or where I can set this up in the EMR.</p>

<p>Thank you in advance! </p>
",3645,7,<amazon-emr><jupyterhub>,2018-07-05 21:12:46
51199033,Bypassing login and passing env variables as url param in Jupyterhub kubernetes google cloud deployment,"<p>Let me tell you about my application.</p>

<p>WHAT I WANT TO DO :</p>

<ul>
<li>My frontend make a get request to some URL with some url params like <a href=""http://x.x.x.x/?notebook-name=normalisation_script.ipynb&amp;open-type=open_extisting_notebook&amp;project-id=1111&amp;user=user_one&amp;token=345678654567890989765435hbgt654567yt"" rel=""nofollow noreferrer"">http://x.x.x.x/?notebook-name=normalisation_script.ipynb&amp;open-type=open_extisting_notebook&amp;project-id=1111&amp;user=user_one&amp;token=345678654567890989765435hbgt654567yt</a></li>
<li>My pod which get the above request and tell kubernetes to start the user pod should set the URL params as an environment variables for in docker container.</li>
<li>Docker entry-point script uses those env variables to select which task to run.  </li>
</ul>

<p>I have to open my notebook in iframe so it should just bypass all the steps like login and start the server.</p>

<p>I am using docker-stack/datascience-notebook image after updating its entry-point.</p>

<p>WHAT I HAVE DONE TILL NOW :</p>

<ul>
<li>By following zero-to-jupyterhub-with-kubernetes documentation i was able to host jupyterhub server on google cloud platform (zero-to-jupyterhub-with-kubernetes documentation use jupyterhub/jupyterhub helm chart to deploy the application on kubernetes).</li>
<li>I am bypassing login and start of the server using TmpAuthentication.
For now, I am defining my env variables in extraEnv for helm-chart config.yaml file.</li>
</ul>

<p>My helm chart config file looks like this.</p>

<pre><code>hub:
    cookieSecret: ""xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx""
    extraConfig: |
        import tmpauthenticator
        c.JupyterHub.authenticator_class = tmpauthenticator.TmpAuthenticator
        c.Authenticator.auto_login = True
proxy:
    secretToken: ""xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx""
cull:
    timeout: 60
    every: 30
singleuser:
  storage:
    type: none
  image:
    name: kushalgupta/datascience-notebook
    tag: '0.35'
  extraEnv:
    POLLY_FUNC: ""open_new_notebook""
    POLLY_NOTEBOOK_NAME: ""my-notebook-custom-on-gcloud""
    POLLY_PROJECT_ID: 1172
    POLLY_TYPE: ""http://testpolly.elucidata.io""
</code></pre>

<p>NEED HELP IN :</p>

<ul>
<li>Open notebook in browser just by hitting the URL like this <a href=""http://x.x.x.x/?notebook-name=normalisation_script.ipynb&amp;open-type=open_extisting_notebook&amp;project-id=1111&amp;user=user_one&amp;token=345678654567890989765435hbgt654567yt"" rel=""nofollow noreferrer"">http://x.x.x.x/?notebook-name=normalisation_script.ipynb&amp;open-type=open_extisting_notebook&amp;project-id=1111&amp;user=user_one&amp;token=345678654567890989765435hbgt654567yt</a></li>
<li>Set those URL params as env variables in a docker container.</li>
</ul>

<p>I am new to the backend technologies and don't know how to this.
Can anyone knows or have some idea how can I achieve this.
Thanks.</p>
",217,3,<docker><kubernetes><google-cloud-platform><kubernetes-helm><jupyterhub>,2018-07-05 20:01:50
51197004,How to prevent changing second ipwidget to call interactive function twice?,"<p>When I update the second slider whenever the first slider changes, then the function <code>f</code> is called twice</p>

<p>I understand why this is happening, but it causes some unwanted flicker in the output since it takes a bit to calculate what I actually want to show. </p>

<h2>Minimal Working Example</h2>

<pre><code>import ipywidgets as widgets
ncalls =0
caption = widgets.Label(value='N Calls: ' + str(ncalls))
a = widgets.IntSlider(min=-5, max=5, value=1, description='a')
b = widgets.IntSlider(min=-5, max=5, value=1, description='b')

def handle_slider_change(change):
    b.value = change[""new""] - change[""old""] + b.value 

def f(a, b):
    global ncalls
    ncalls +=1
    caption.value = 'N Calls: ' + str(ncalls)
    print(a,b)

a.observe(handle_slider_change, names='value')
out = widgets.interactive_output(f, {""a"":a, ""b"":b})
widgets.VBox([caption,a,b,out])
</code></pre>
",153,0,<python><ipywidgets>,2018-07-05 17:30:01
51192483,ipywidgets: identify which widget is being observed,"<p>I need to create a variable number of widgets and then identify which widget is being observed when the user interacts with one of them. In the following example, <em>n</em> <code>IntSliders</code> are being created:</p>

<pre><code>import ipywidgets as wg
def obs(change):
    print(change)
def fun(n):
    l  = []
    for i in range(n):
        l.append(wg.IntSlider())
        l[i].observe(obs, names='value')
    display(wg.VBox(l))
fun(4)
</code></pre>

<p>When interacting with one of the sliders, the <code>change</code> variable only gives the values for <em>owner</em>, <em>old</em>, <em>new</em>, <em>type</em> and <em>name</em>. </p>

<pre><code>{'owner': IntSlider(value=1), 'new': 1, 'old': 0, 'type': 'change', 'name': 'value'}
</code></pre>

<p>I would like to ""tweak"" the content of <code>change</code> to include its position in the list <em>l</em>.</p>

<p><strong>Note:</strong> I cannot use existing <code>IntSlider</code> attributes like <em>description</em> because then it will be reflected in the widget appearance.</p>
",975,1,<python><widget><ipywidgets>,2018-07-05 13:23:00
51162394,Python Convert widget Box into pandas Dataframe,"<p>I am trying to assign interactive widgets box output to dataframe (in the code it is df2). I would like to have dataframe (df2) values change anytime inputs are changed in the box. Could you please advise how code should be modified?</p>

<p>Please note that code is detailed, because I would like that once user change one value in the box others would not change and thus user would have flexibility. If there is more succinct way then I would highly appreciate if you could advise it. Thank you in advance.</p>

<pre><code>table_style = {'description_width': 'initial'}
table_layout = {'width':'150px', 'min_width':'150px', 'height':'28px', 
'min_height':'28px'}
row_layout = {'width':'200px', 'min_width':'200px'}

style_label =  {'description_width': '150px'}
scenarios = ['Worst', 'Base', 'Best']



floatinput1 = BoundedFloatText(value=0, min = 0, max = 1, step = 0.001, 
description='Worst',disabled=False, layout=table_layout, 
style=table_style)
floatinput2 = BoundedFloatText(value=0, min = 0, max = 1, step = 0.001, 
description='',disabled=False, layout=table_layout, style=table_style)
floatinput3 = BoundedFloatText(value=0, min = 0, max = 1, step = 0.001, 
description='',disabled=False, layout=table_layout, style=table_style)
floatinput4 = BoundedFloatText(value=0, min = 0, max = 1, step = 0.001, 
description='',disabled=False, layout=table_layout, style=table_style)
floatinput5 = BoundedFloatText(value=0, min = 0, max = 1, step = 0.001, 
description='',disabled=False, layout=table_layout, style=table_style)

floatinput6 = BoundedFloatText(value=0, min = 0, max = 1, step = 0.001, 
description='Base',disabled=False, layout=table_layout, style=table_style)
floatinput7 = BoundedFloatText(value=0, min = 0, max = 1, step = 0.001, 
description='',disabled=False, layout=table_layout, style=table_style)
floatinput8 = BoundedFloatText(value=0, min = 0, max = 1, step = 0.001, 
description='',disabled=False, layout=table_layout, style=table_style)
floatinput9 = BoundedFloatText(value=0, min = 0, max = 1, step = 0.001, 
description='',disabled=False, layout=table_layout, style=table_style)
floatinput10 = BoundedFloatText(value=0, min = 0, max = 1, step = 0.001, 
description='',disabled=False, layout=table_layout, style=table_style)

floatinput11 = BoundedFloatText(value=0, min = 0, max = 1, step = 0.001, 
description='Best',disabled=False, layout=table_layout, style=table_style)
floatinput12 = BoundedFloatText(value=0, min = 0, max = 1, step = 0.001, 
description='',disabled=False, layout=table_layout, style=table_style)
floatinput13 = BoundedFloatText(value=0, min = 0, max = 1, step = 0.001, 
description='',disabled=False, layout=table_layout, style=table_style)
floatinput14 = BoundedFloatText(value=0, min = 0, max = 1, step = 0.001, 
description='',disabled=False, layout=table_layout, style=table_style)
floatinput15 = BoundedFloatText(value=0, min = 0, max = 1, step = 0.001, 
description='',disabled=False, layout=table_layout, style=table_style)

hbox1 = HBox(( floatinput1, floatinput2, floatinput3, floatinput4, 
floatinput5))
hbox2 = HBox(( floatinput6, floatinput7, floatinput8, floatinput9, 
floatinput10))
hbox3 = HBox(( floatinput11, floatinput12, floatinput13, floatinput14, 
floatinput15)) 


input_table  = VBox((hbox1, hbox2, hbox3))

input_table
df2 = pd.DataFrame(np.reshape([0]*15, (3,5)))
def process_table(fn1, fn2, fn3, fn4, fn5, fn6, fn7, fn8, fn9, fn10, fn11, 
fn12, fn13, fn14, fn15 ):

table_list = [fn1, fn2, fn3, fn4, fn5, fn6, fn7, fn8, fn9, fn10, fn11, 
fn12, fn13, fn14, fn15]

df = pd.DataFrame(np.reshape(table_list, (3,5)))
df.index = scenarios
df2 = df
print(df)

mapping = 
{'fn1':floatinput1,'fn2':floatinput2,'fn3':floatinput3,'fn4':floatinput4,'fn5':floatinput5,'fn6':floatinput6,'fn7':floatinput7,'fn8':floatinput8, 'fn9':floatinput9, 'fn9':floatinput9, 'fn10':floatinput10, 'fn11':floatinput11, 'fn12':floatinput12,'fn13':floatinput13, 'fn14':floatinput14, 'fn15':floatinput15}

interactive_bind = interactive_output(process_table, mapping )
display(input_table, interactive_bind )   

df2
</code></pre>
",566,0,<python><pandas><dataframe><ipywidgets>,2018-07-03 20:27:50
51161586,Interacting with Bokeh Server in JupyterHub,"<p>I've got a <a href=""https://gist.github.com/rsignell-usgs/dc4de1264b85ca762571e976f70b74e5"" rel=""nofollow noreferrer"">simple bokeh interaction notebook</a> that captures the coordinates  the user draws, and it works in Jupyter just fine:</p>

<p><img src=""https://user-images.githubusercontent.com/1872600/42234844-dd959764-7ec3-11e8-9284-1bf1717f10f8.png"" alt=""2018-07-03_6-52-18""></p>

<pre><code>import numpy as np

N = 500
x = np.linspace(0, 3, N)
y = np.linspace(0, 3, N)

xx, yy = np.meshgrid(x, y)
z = np.sin(xx) * np.cos(yy)

from bokeh import events
from bokeh.io import show, output_notebook
from bokeh.plotting import figure

output_notebook()

geom = {}
global geom

def print_event(attributes=[]):
    def python_callback(event):
        geom.update(event.__dict__['geometry'])
    return python_callback

def modify_doc(doc):
    p = figure(x_range=(0, 3), y_range=(0, 3), 
      tools='reset,box_select,lasso_select,poly_select', plot_height=300)
    p.image(image=[z], x=0, y=0, dw=3, dh=3, palette='Spectral11')
    p.on_event(events.SelectionGeometry, print_event(attributes=['geometry']))
    doc.add_root(p)

show(modify_doc)

print(geom)
</code></pre>

<p>but in JupyterHub the <code>show(modify_doc)</code> doesn't produce a plot, and the developer console shows that JS failed to load response data from this request:</p>

<pre><code>http://localhost:43474/autoload.js?bokeh-autoload-element=111c97fa-dbc8-437c-9770-471dc23fb13f&amp;bokeh-absolute-url=http://localhost:43474&amp;resources=none
</code></pre>

<p>Since I access the Dask Dashboard on my jupyterhub at </p>

<p><a href=""http://pangeo.esipfed.org/user/rsignell-usgs/proxy/8787"" rel=""nofollow noreferrer"">http://pangeo.esipfed.org/user/rsignell-usgs/proxy/8787</a></p>

<p>I though maybe something like this could work:</p>

<pre><code>show(modify_doc, notebook_url='pangeo.esipfed.org/user/rsignell-usgs/proxy')
</code></pre>

<p>but that generated this URL:</p>

<pre><code>http://pangeo.esipfed.org/user/rsignell-usgs/proxy:34560/autoload.js?bokeh-autoload-element=870004ec-7366-4b38-b20f-2119e2b52327&amp;bokeh-app-path=/user/rsignell-usgs/proxy:34560&amp;bokeh-absolute-url=http://pangeo.esipfed.org/user/rsignell-usgs/proxy:34560&amp;resources=none
</code></pre>

<p>that gave a <code>404</code> error. </p>

<p>I see there was a <a href=""https://github.com/bokeh/bokeh/pull/7686"" rel=""nofollow noreferrer"">Bokeh enhancement</a> a few months ago that should allow this sort of interaction to work, and I gather I should be able to specify <code>notebook_url</code> to be a function to make this work, but I can't figure it out.</p>

<p>Is it clear what I'm doing wrong, or does someone have an example of how this works?   </p>
",459,4,<python><bokeh><jupyterhub>,2018-07-03 19:18:00
51128512,JupyterHub Connection refused when access using curl,"<p>I had followed JupyterHub's <a href=""https://jupyterhub.readthedocs.io/en/latest/quickstart.html"" rel=""nofollow noreferrer"">QuickStart</a> to successfully install JupyterHub on Linux machine, and start the service by typing</p>

<pre><code>jupyterhub
</code></pre>

<p>and the output suggest that now the server is listening on port 8000:</p>

<pre><code>$ jupyterhub
[I 2018-07-02 02:32:25.756 JupyterHub app:1656] Using Authenticator: jupyterhub.auth.PAMAuthenticator-0.9.0
[I 2018-07-02 02:32:25.756 JupyterHub app:1656] Using Spawner: jupyterhub.spawner.LocalProcessSpawner-0.9.0
[I 2018-07-02 02:32:25.759 JupyterHub app:1014] Loading cookie_secret from /home/ec2-user/jupyterhub_cookie_secret
[I 2018-07-02 02:32:25.775 JupyterHub proxy:429] Generating new CONFIGPROXY_AUTH_TOKEN
[W 2018-07-02 02:32:25.776 JupyterHub app:1160] No admin users, admin interface will be unavailable.
[W 2018-07-02 02:32:25.776 JupyterHub app:1161] Add any administrative users to `c.Authenticator.admin_users` in config.
[I 2018-07-02 02:32:25.776 JupyterHub app:1188] Not using whitelist. Any authenticated user will be allowed.
[I 2018-07-02 02:32:25.810 JupyterHub app:1838] Hub API listening on http://127.0.0.1:8081/hub/
[W 2018-07-02 02:32:25.811 JupyterHub proxy:481] Running JupyterHub without SSL.  I hope there is SSL termination happening somewhere else...
[I 2018-07-02 02:32:25.811 JupyterHub proxy:483] Starting proxy @ http://:8000
02:32:26.221 - info: [ConfigProxy] Proxying http://*:8000 to (no default)
02:32:26.223 - info: [ConfigProxy] Proxy API at http://127.0.0.1:8001/api/routes
02:32:26.735 - info: [ConfigProxy] 200 GET /api/routes
[I 2018-07-02 02:32:26.735 JupyterHub proxy:299] Checking routes
[I 2018-07-02 02:32:26.736 JupyterHub proxy:368] Adding default route for Hub: / =&gt; http://127.0.0.1:8081
02:32:26.737 - info: [ConfigProxy] Adding route / -&gt; http://127.0.0.1:8081
02:32:26.738 - info: [ConfigProxy] 201 POST /api/routes/
[I 2018-07-02 02:32:26.739 JupyterHub app:1895] JupyterHub is now running at http://:8000
</code></pre>

<p>But when I try to access to the server by <code>curl</code>, it just showed that it's not available.</p>

<pre><code>$ curl localhost:8000
curl: (7) Failed to connect to localhost port 8000: Connection refused
</code></pre>

<p>Did anyone encounter the same problem? Any advice is highly appreciated!</p>
",1216,0,<jupyterhub>,2018-07-02 02:37:45
51120540,Jupyterhub with custom singleuser image raises 'no such file or directory' for '/home/jovyan/work',"<p>I tried to setup Jupyterhub to serve Jupyter pytorch notebook using this repo as image <code>https://github.com/stepankuzmin/pytorch-notebook</code>, which is also available as a Docker image on dockerhub as <code>https://hub.docker.com/r/stepankuzmin/pytorch-notebook/</code>.</p>

<p>This involves modifying the config.yml file to point to the image, e.g.:</p>

<p><code>
singleuser:
  image:
    name: stepankuzmin/pytorch-notebook
    tag: latest
</code></p>

<p>I am getting:</p>

<p><code>
oci runtime error: container_linux.go:247: starting container process caused \""chdir to cwd (\\\""/home/jovyan/work\\\"") set in config.json failed: no such file or directory
</code></p>
",843,0,<jupyter-notebook><jupyter><pytorch><jupyterhub>,2018-07-01 05:02:00
51110061,Connection reset when running Jupyterhub with Docker,"<p>I'm trying to run Jupyterhub in a Docker container (see <a href=""https://hub.docker.com/r/jupyterhub/jupyterhub/"" rel=""nofollow noreferrer"">this link</a>). I run the command listed under ""Docker"" and the container successfully runs but when I go to connect at <a href=""http://localhost:8000"" rel=""nofollow noreferrer"">http://localhost:8000</a>, I get a message saying ""The connection was reset.""<br>
I have also tried creating a Dockerfile that makes use of <code>jupyterhub/configurable-http-proxy</code> because I thought that might have been what was missing but I couldn't connect with that either. Additionally I tried adding a <code>jupyterhub_config.py</code> to the container with no luck.<br>
Is there a step I am missing or something else that I need to configure to get Jupyterhub running in a Docker container?  </p>
",241,0,<docker><jupyterhub>,2018-06-29 22:18:58
51103967,Executing JupyterLab non-python notebook from command line,"<p>I've been looking into <a href=""https://github.com/jupyter/nbconvert"" rel=""nofollow noreferrer"">nbconvert</a> as a possible way of programmatically executing notebooks, but it isn't clear to me that it will work with different Kernels.</p>

<p>I'm planning on using JupyterHub + JupyterLab for code development using a number of different kernels, but need to run the ""finished"" notebooks as executable scripts - are there any tools or techniques that already achieve this?</p>
",185,1,<jupyter><jupyterhub><jupyter-lab>,2018-06-29 14:28:26
51096500,jupyter notebook ipython widgets display as text,"<p>A colleague (and myself) are trying to write some python scripts to do some common calculation which will also need to be used by our other colleagues. In order to make these scripts easy to use we're creating a simple GUI using ipywidgets. However, these widgets aren't very stable, sometimes they display and work fine, but sometimes they don't show but display the object as text:</p>

<pre><code>ToggleButton(value=False, description='Design choice 1', icon='che…
ToggleButton(value=False, description='Design choice 2', icon='check', tooltip='Description')
Button(description='Continue to assign input values', icon='check', style=ButtonStyle(), tooltip='Click me' 
</code></pre>

<p>What we're trying to achieve is to setup an easy system such that our colleagues can easily use our scripts. To do so we'll ask them to install miniconda and after that run a batch file to install all the necessary software/packages (essentially using conda to install the list of packages from a file). However when I do this with my current setup this doesn't always work well.</p>

<p>In my notebook extensions:
<a href=""https://i.stack.imgur.com/LEOPP.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/LEOPP.png"" alt=""jupyter notebook""></a></p>

<p>Any idea how I can get a stable setup such that these extensions work well?</p>

<p>The current environment</p>

<pre><code># packages in environment at C:\Users\myuser\AppData\Local\Continuum\miniconda3\
envs\myenv:
#
# Name                    Version                   Build  Channel
alabaster                 0.7.11                   py36_0
asn1crypto                0.24.0                   py36_0
astroid                   1.6.5                    py36_0
babel                     2.6.0                    py36_0
backcall                  0.1.0                    py36_0
blas                      1.0                         mkl
bleach                    2.1.3                    py36_0
bzip2                     1.0.6                hfa6e2cd_5
ca-certificates           2018.03.07                    0
certifi                   2018.4.16                py36_0
cffi                      1.11.5           py36h945400d_0
cftime                    1.0.0b1          py36h452e1ab_0
chardet                   3.0.4            py36h420ce6e_1
cloudpickle               0.5.3                    py36_0
colorama                  0.3.9            py36h029ae33_0
cryptography              2.2.2            py36hfa6e2cd_0
curl                      7.60.0               h7602738_0
cycler                    0.10.0           py36h009560c_0
decorator                 4.3.0                    py36_0
docutils                  0.14             py36h6012d8f_0
entrypoints               0.2.3            py36hfd66bb0_2
freetype                  2.8                  h51f8f2c_1
hdf4                      4.2.13               h712560f_2
hdf5                      1.10.2               hac2f561_1
html5lib                  1.0.1            py36h047fa9f_0
icc_rt                    2017.0.4             h97af966_0
icu                       58.2                 ha66f8fd_1
idna                      2.7                      py36_0
imagesize                 1.0.0                    py36_0
intel-openmp              2018.0.3                      0
ipykernel                 4.7.0            py36h2f9c1c0_0
ipython                   6.2.1            py36h9cf0123_1
ipython_genutils          0.2.0            py36h3c5d0ee_0
ipywidgets                7.2.1                    py36_0
isort                     4.3.4                    py36_0
jedi                      0.12.0                   py36_1
jinja2                    2.10             py36h292fed1_0
jpeg                      9b                   hb83a4c4_2
jsonschema                2.6.0            py36h7636477_0
jupyter                   1.0.0                    py36_4
jupyter_client            5.1.0            py36h9902a9a_0
jupyter_console           5.2.0            py36h6d89b47_1
jupyter_contrib_core      0.3.3                    py36_1    conda-forge
jupyter_contrib_nbextensions 0.5.0                    py36_0    conda-forge
jupyter_core              4.4.0            py36h56e9d50_0
jupyter_highlight_selected_word 0.2.0                    py36_0    conda-forge
jupyter_latex_envs        1.4.4                    py36_0    conda-forge
jupyter_nbextensions_configurator 0.4.0                    py36_0    conda-forge

kiwisolver                1.0.1            py36h12c3424_0
lazy-object-proxy         1.3.1            py36hd1c21d2_0
libcurl                   7.60.0               hc4dcbb0_0
libiconv                  1.15                     vc14_0  [vc14]  conda-forge
libnetcdf                 4.6.1                h62daf8c_0
libpng                    1.6.34               h79bbb47_0
libsodium                 1.0.16               h9d3ae62_0
libssh2                   1.8.0                hd619d38_4
libtiff                   4.0.9                hb8ad9f9_1
libxml2                   2.9.8                    vc14_0  [vc14]  conda-forge
libxslt                   1.1.32                   vc14_0  [vc14]  conda-forge
lxml                      4.2.2            py36heafd4d3_0    conda-forge
m2w64-gcc-libgfortran     5.3.0                         6
m2w64-gcc-libs            5.3.0                         7
m2w64-gcc-libs-core       5.3.0                         7
m2w64-gmp                 6.1.0                         2
m2w64-libwinpthread-git   5.0.0.4634.697f757               2
markupsafe                1.0              py36h0e26971_1
matplotlib                2.1.1            py36h2062329_0
mccabe                    0.6.1            py36hb41005a_1
mistune                   0.8.3            py36hfa6e2cd_1
mkl                       2018.0.3                      1
mkl_fft                   1.0.1            py36h452e1ab_0
mkl_random                1.0.1            py36h9258bd6_0
msys2-conda-epoch         20160418                      1
nbconvert                 5.3.1            py36h8dc0fde_0
nbformat                  4.4.0            py36h3a5bc1b_0
netcdf4                   1.4.0            py36hbfe741f_1
notebook                  5.2.2            py36hc48260a_0
numpy                     1.14.5           py36h9fa60d3_0
numpy-base                1.14.5           py36h5c71026_0
numpydoc                  0.8.0                    py36_0
olefile                   0.45.1                   py36_0
openssl                   1.0.2o               h8ea7d77_0
packaging                 17.1                     py36_0
pandas                    0.23.1           py36h830ac7b_0
pandoc                    2.2.1                h1a437c5_0
pandocfilters             1.4.2            py36h3ef6317_1
parso                     0.2.1                    py36_0
pickleshare               0.7.4            py36h9de030f_0
pillow                    5.1.0            py36h0738816_0
pip                       10.0.1                   py36_0
prompt_toolkit            1.0.15           py36h60b8f86_0
psutil                    5.4.6            py36hfa6e2cd_0
pycodestyle               2.4.0                    py36_0
pycparser                 2.18             py36hd053e01_1
pyflakes                  2.0.0                    py36_0
pygments                  2.2.0            py36hb010967_0
pylint                    1.9.2                    py36_0
pyopenssl                 18.0.0                   py36_0
pyparsing                 2.2.0            py36h785a196_1
pyqt                      5.6.0                    py36_2
pysocks                   1.6.8                    py36_0
python                    3.6.5                h0c2934d_0
python-dateutil           2.7.3                    py36_0
pytz                      2018.4                   py36_0
pywinpty                  0.5.4                    py36_0
pyyaml                    3.12                     py36_1    conda-forge
pyzmq                     17.0.0           py36hfa6e2cd_1
qt                        5.6.2           vc14h6f8c307_12  [vc14]
qtawesome                 0.4.4            py36h5aa48f6_0
qtconsole                 4.3.1            py36h99a29a9_0
qtpy                      1.4.2                    py36_0
regex                     2018.06.21       py36hfa6e2cd_0
requests                  2.19.1                   py36_0
rope                      0.10.7           py36had63a69_0
scipy                     1.1.0            py36h672f292_0
send2trash                1.5.0                    py36_0
setuptools                39.2.0                   py36_0
simplegeneric             0.8.1                    py36_2
sip                       4.19.8           py36h6538335_0
six                       1.11.0           py36h4db2310_1
snowballstemmer           1.2.1            py36h763602f_0
sphinx                    1.7.5                    py36_0
sphinxcontrib             1.0              py36hbbac3d2_1
sphinxcontrib-websupport  1.1.0                    py36_1
sqlite                    3.24.0               h7602738_0
terminado                 0.8.1                    py36_1
testpath                  0.3.1            py36h2698cfe_0
tk                        8.6.7                hcb92d03_3
tornado                   4.5.2            py36h57f6048_0
traitlets                 4.3.2            py36h096827d_0
urllib3                   1.23                     py36_0
vc                        14                   h0510ff6_3
vs2015_runtime            14.0.25123                    3
wcwidth                   0.1.7            py36h3d5aa90_0
webencodings              0.5.1            py36h67c50ae_1
wheel                     0.31.1                   py36_0
widgetsnbextension        3.2.1                    py36_0
win_inet_pton             1.0.1            py36he67d7fd_1
wincertstore              0.2              py36h7fe50ca_0
winpty                    0.4.3                         4
wrapt                     1.10.11          py36he5f5981_0
xlrd                      1.1.0            py36h1cb58dc_1
xlwt                      1.3.0            py36h1a4751e_0
yaml                      0.1.7                    vc14_0  [vc14]  conda-forge
zeromq                    4.2.5                hc6251cf_0
zlib                      1.2.11               h8395fce_2
</code></pre>

<p>The nbextensions:</p>

<pre><code>python-markdown/main enabled 
  jupyter-js-widgets/extension enabled 
tree section
  nbextensions_configurator/tree_tab/main enabled 
config dir:
C:\Users\906994\AppData\Local\Continuum\miniconda3\envs\waterbouw2\etc\jupyter\nbconfig
notebook section
  nbextensions_configurator/config_menu/main enabled 
  contrib_nbextensions_help_item/main enabled 
  jupyter-js-widgets/extension enabled 
tree section
  nbextensions_configurator/tree_tab/main enabled 
</code></pre>

<p>config dir: C:\ProgramData\jupyter\nbconfig
    notebook section
      nbextensions_configurator/config_menu/main enabled 
      contrib_nbextensions_help_item/main enabled 
    tree section
      nbextensions_configurator/tree_tab/main enabled</p>

<p>Help is much appreciated.</p>
",1115,3,<python><user-interface><jupyter-notebook><ipywidgets>,2018-06-29 07:30:51
51067574,Larger drop down menu for ipywidgets interact,"<p>Is it possible to make the input form for the ipywidget interact larger? 
When I use the following code, for example, the field is to small for the title and it looks messy. </p>

<pre><code># python code to run in jupyter notebook
%pylab inline
from ipywidgets import interact
def f(x):
    plot(range(10))
    title(x)
interact(f, x=['AbCd'*10])
</code></pre>
",1508,3,<ipywidgets>,2018-06-27 16:31:39
51055729,Got ModuleNotFoundError for mysql while connecting mysql from JupyterHub,"<p>I got this error when using MySQL instead of SQLite for JupyterHub Session and Token store.</p>

<pre><code>[E 2018-06-27 06:04:36.542 JupyterHub app:1623]
jupyterhub4cc    |     Traceback (most recent call last):
jupyterhub4cc    |       File ""/usr/local/lib/python3.6/dist-packages/jupyterhub/app.py"", line 1620, in launch_instance_async
jupyterhub4cc    |         yield self.initialize(argv)
jupyterhub4cc    |       File ""/usr/lib/python3.6/types.py"", line 204, in __next__
jupyterhub4cc    |         return next(self.__wrapped)
jupyterhub4cc    |       File ""/usr/local/lib/python3.6/dist-packages/jupyterhub/app.py"", line 1373, in initialize
jupyterhub4cc    |         self.init_db()
jupyterhub4cc    |       File ""/usr/local/lib/python3.6/dist-packages/jupyterhub/app.py"", line 895, in init_db
jupyterhub4cc    |         **self.db_kwargs
jupyterhub4cc    |       File ""/usr/local/lib/python3.6/dist-packages/jupyterhub/orm.py"", line 526, in new_session_factory
jupyterhub4cc    |         engine = create_engine(url, **kwargs)
jupyterhub4cc    |       File ""/usr/local/lib/python3.6/dist-packages/sqlalchemy/engine/__init__.py"", line 424, in create_engine
jupyterhub4cc    |         return strategy.create(*args, **kwargs)
jupyterhub4cc    |       File ""/usr/local/lib/python3.6/dist-packages/sqlalchemy/engine/strategies.py"", line 81, in create
jupyterhub4cc    |         dbapi = dialect_cls.dbapi(**dbapi_args)
jupyterhub4cc    |       File ""/usr/local/lib/python3.6/dist-packages/sqlalchemy/dialects/mysql/mysqlconnector.py"", line 107, in dbapi
jupyterhub4cc    |         from mysql import connector
jupyterhub4cc    |     ModuleNotFoundError: No module named 'mysql'
</code></pre>

<p>I have used these three library inside JupyterHub container to connect with MySQL.</p>

<ul>
<li>MySQL-python</li>
<li>mysql-connector-python</li>
<li>pymysql</li>
</ul>

<p>And the config used is :</p>

<pre><code>c.JupyterHub.db_url = 'mysql+mysqlconnector://{}:{}@{}/{}{}'.format(""test"",""test"",""localhost"",""test"","""")
</code></pre>

<p>P.S. I have installed MySQL server locally and created a database <strong>'test'</strong> with username <strong>'test'</strong> and password <strong>'test'</strong>.</p>
",47,2,<mysql><jupyterhub>,2018-06-27 06:15:43
51042667,ipywidgets is not supporting in python terminal,"<p>I am trying to run below code using python terminal, it works completely fine when i run in jupyter notebook, but in ubuntu terminal it throws error. even tried running  <pre>jupyter nbextension enable --py --sys-prefix widgetsnbextension</pre> on the terminal still I receive same error</p>

<pre><code>import matplotlib as mp
from pylab import *
from sklearn import datasets
from ipywidgets import interact, widgets
from IPython.display import display, clear_output

faces = datasets.fetch_olivetti_faces()

class Trainer:
    def __init__(self):
        self.results = {}
        self.imgs = faces.images
        self.index = 0

    def increment_face(self):
        if self.index + 1 &gt;= len(self.imgs):
            return self.index
        else:
            while str(self.index) in self.results:
                print(self.index)
                self.index += 1
            return self.index

    def record_result(self, smile=True):
        self.results[str(self.index)] = smile

trainer = Trainer()

button_smile = widgets.Button(description='smile')
button_no_smile = widgets.Button(description='sad face')

def display_face(face):
    clear_output()
    imshow(face, cmap='gray')
    axis('off')
    show()

def update_smile(b):
    trainer.record_result(smile=True)
    trainer.increment_face()
    display_face(trainer.imgs[trainer.index])

def update_no_smile(b):
    trainer.record_result(smile=False)
    trainer.increment_face()
    display_face(trainer.imgs[trainer.index])

button_no_smile.on_click(update_no_smile)
button_smile.on_click(update_smile)

display(button_smile)
display(button_no_smile)
display_face(trainer.imgs[trainer.index])
</code></pre>

<p>Traceback error when I was running from python terminal</p>

<pre><code>Widget Javascript not detected.  It may not be installed properly. Did you enable the widgetsnbextension? If not, then run ""jupyter nbextension enable --py --sys-prefix widgetsnbextension""
---------------------------------------------------------------------------
AttributeError                            Traceback (most recent call last)
/home/harish/anaconda3/envs/facial_env/lib/python3.4/site-packages/IPython/core/formatters.py in __call__(self, obj)
    880             method = get_real_method(obj, self.print_method)
    881             if method is not None:
--&gt; 882                 method()
    883                 return True
    884 

/home/harish/anaconda3/envs/facial_env/lib/python3.4/site-packages/ipywidgets/widgets/widget.py in _ipython_display_(self, **kwargs)
    480                 loud_error('The installed widget Javascript is the wrong version.')
    481 
--&gt; 482             self._send({""method"": ""display""})
    483             self._handle_displayed(**kwargs)
    484 

/home/harish/anaconda3/envs/facial_env/lib/python3.4/site-packages/ipywidgets/widgets/widget.py in _send(self, msg, buffers)
    485     def _send(self, msg, buffers=None):
    486         """"""Sends a message to the model in the front-end.""""""
--&gt; 487         self.comm.send(data=msg, buffers=buffers)
    488 
    489 

/home/harish/anaconda3/envs/facial_env/lib/python3.4/site-packages/ipykernel/comm/comm.py in send(self, data, metadata, buffers)
    119         """"""Send a message to the frontend-side version of this comm""""""
    120         self._publish_msg('comm_msg',
--&gt; 121             data=data, metadata=metadata, buffers=buffers,
    122         )
    123 

/home/harish/anaconda3/envs/facial_env/lib/python3.4/site-packages/ipykernel/comm/comm.py in _publish_msg(self, msg_type, data, metadata, buffers, **keys)
     64         metadata = {} if metadata is None else metadata
     65         content = json_clean(dict(data=data, comm_id=self.comm_id, **keys))
---&gt; 66         self.kernel.session.send(self.kernel.iopub_socket, msg_type,
     67             content,
     68             metadata=json_clean(metadata),

AttributeError: 'NoneType' object has no attribute 'session'
&lt;ipywidgets.widgets.widget_button.Button at 0x7f0de5ebfb38&gt;
Widget Javascript not detected.  It may not be installed properly. Did you enable the widgetsnbextension? If not, then run ""jupyter nbextension enable --py --sys-prefix widgetsnbextension""
---------------------------------------------------------------------------
AttributeError                            Traceback (most recent call last)
/home/harish/anaconda3/envs/facial_env/lib/python3.4/site-packages/IPython/core/formatters.py in __call__(self, obj)
    880             method = get_real_method(obj, self.print_method)
    881             if method is not None:
--&gt; 882                 method()
    883                 return True
    884 

/home/harish/anaconda3/envs/facial_env/lib/python3.4/site-packages/ipywidgets/widgets/widget.py in _ipython_display_(self, **kwargs)
    480                 loud_error('The installed widget Javascript is the wrong version.')
    481 
--&gt; 482             self._send({""method"": ""display""})
    483             self._handle_displayed(**kwargs)
    484 

/home/harish/anaconda3/envs/facial_env/lib/python3.4/site-packages/ipywidgets/widgets/widget.py in _send(self, msg, buffers)
    485     def _send(self, msg, buffers=None):
    486         """"""Sends a message to the model in the front-end.""""""
--&gt; 487         self.comm.send(data=msg, buffers=buffers)
    488 
    489 

/home/harish/anaconda3/envs/facial_env/lib/python3.4/site-packages/ipykernel/comm/comm.py in send(self, data, metadata, buffers)
    119         """"""Send a message to the frontend-side version of this comm""""""
    120         self._publish_msg('comm_msg',
--&gt; 121             data=data, metadata=metadata, buffers=buffers,
    122         )
    123 

/home/harish/anaconda3/envs/facial_env/lib/python3.4/site-packages/ipykernel/comm/comm.py in _publish_msg(self, msg_type, data, metadata, buffers, **keys)
     64         metadata = {} if metadata is None else metadata
     65         content = json_clean(dict(data=data, comm_id=self.comm_id, **keys))
---&gt; 66         self.kernel.session.send(self.kernel.iopub_socket, msg_type,
     67             content,
     68             metadata=json_clean(metadata),

AttributeError: 'NoneType' object has no attribute 'session'
&lt;ipywidgets.widgets.widget_button.Button at 0x7f0ddadc2cc0&gt;
</code></pre>
",1312,1,<python-3.x><ipython><jupyter-notebook><ipywidgets>,2018-06-26 12:13:15
51037956,How can I use mysql as jupyterhub's database?,"<p>The default database for JupyterHub is a SQLite database. But I want to replace SQLite database with MySQL. I tried with the config variable in the config file.</p>

<pre><code>c.JupyterHub.db_url = 'jdbc:mysql://localhost:3306/test'
</code></pre>

<p>But when I run jupyterhub then it yields the error as :</p>

<pre><code>sqlalchemy.exc.ArgumentError: Could not parse rfc1738 URL from string 'jdbc:mysql://localhost:3306/test'
</code></pre>

<p>I searched and researched the official docs of jupyterhub but didn't find any thing related to my issue. Any solution to this problem?? Anyone ???</p>

<p>Thank you !</p>
",1460,1,<mysql><docker><jupyterhub>,2018-06-26 08:09:58
50944878,r graphs in jupyter - unable to start png() device,"<p>I am using R in Jupyter, but unable to plot graphs in the notebook itself. </p>

<p>Here is a reproducible example </p>

<pre><code>set.seed(123)
mat = as.matrix(x = rnorm(100), y = rnorm(100))
plot(mat)
</code></pre>

<p><strong>In Jupyter:</strong></p>

<pre><code>Error in png(tf, width, height, ""in"", pointsize, bg, res, antialias = antialias): unable to start png() device
Traceback:
</code></pre>

<p>If I use following, I can save the image in <em>png</em> format in current working directory. </p>

<pre><code>png('test.png')
plot(mat)
dev.off()
</code></pre>

<p>Edit:</p>

<pre><code>SessionInfo()
R version 3.4.4 (2018-03-15)
Platform: x86_64-w64-mingw32/x64 (64-bit)
Running under: Windows 10 x64 (build 16299)
</code></pre>

<p>I have gone through following but none of them solve my problem. </p>

<ol>
<li><a href=""https://stackoverflow.com/questions/30920380/displaying-ggplot2-graphs-from-r-in-jupyter"">Displaying ggplot2 graphs from R in Jupyter</a></li>
<li><a href=""https://github.com/jupyter/docker-stacks/issues/210"" rel=""noreferrer"">unable to plot in jupyter notebook using R kernel</a></li>
<li><a href=""https://github.com/jupyter/docker-stacks/issues/54"" rel=""noreferrer"">libXrender.so.1 is required to display R plots inline</a></li>
<li><a href=""https://stackoverflow.com/questions/17243648/cant-display-png?rq=1"">Can&#39;t display png</a></li>
<li><a href=""https://github.com/IRkernel/IRkernel/issues/145"" rel=""noreferrer"">Rendering of graphs in R kernel Notebooks on GitHub</a> (relevant to Github)</li>
</ol>
",3741,5,<r><png><jupyter-notebook><jupyter-irkernel>,2018-06-20 09:33:34
50867277,How to embed Jupyter live on a webpage?,"<p>How would I use an iframe to embed Jupyter, live (not converted to HTML), on a webpage? We are trying to embed live Jupyter notebooks from JupyterHub in programming tutorials. I believe that I will have to enable something to do with CORS? Thank you all for your time.</p>
",818,0,<python><jupyter-notebook><jupyter><jupyterhub>,2018-06-14 23:30:58
50862869,How do I install Jupyterhub,"<p>I'm using a MacOS, and I'm trying to run Jupyterhub but it's not working. When I type: ""sudo jupyterhub"", the following shows up: </p>

<pre><code>[I 2018-06-14 13:05:48.216 JupyterHub app:834] Loading cookie_secret from /Users/Robert/jupyterhub_cookie_secret
[W 2018-06-14 13:05:48.365 JupyterHub app:955] No admin users, admin interface will be unavailable.
[W 2018-06-14 13:05:48.365 JupyterHub app:956] Add any administrative users to `c.Authenticator.admin_users` in config.
[I 2018-06-14 13:05:48.366 JupyterHub app:983] Not using whitelist. Any authenticated user will be allowed.
[I 2018-06-14 13:05:48.403 JupyterHub app:1528] Hub API listening on http://127.0.0.1:8081/hub/
[W 2018-06-14 13:05:48.405 JupyterHub proxy:415] 
Generating CONFIGPROXY_AUTH_TOKEN. Restarting the Hub will require restarting the proxy.
    Set CONFIGPROXY_AUTH_TOKEN env or JupyterHub.proxy_auth_token config to avoid this message.

[W 2018-06-14 13:05:48.405 JupyterHub proxy:456] Running JupyterHub without SSL.  I hope there is SSL termination happening somewhere else...
[I 2018-06-14 13:05:48.405 JupyterHub proxy:458] Starting proxy @ http://*:8000/
[E 2018-06-14 13:05:48.419 JupyterHub utils:47] Unexpected error connecting to 34-36-3b-75-b6-de.**(CENSORED)** [Errno 8] nodename nor servname provided, or not known
[E 2018-06-14 13:05:48.452 JupyterHub utils:47] Unexpected error connecting to 34-36-3b-75-b6-de.**(CENSORED)** [Errno 8] nodename nor servname provided, or not known
[E 2018-06-14 13:05:48.784 JupyterHub utils:47] Unexpected error connecting to 34-36-3b-75-b6-de.**(CENSORED)** [Errno 8] nodename nor servname provided, or not known
13:05:49.178 - info: [ConfigProxy] Proxying http://*:8000 to (no default)
13:05:49.183 - info: [ConfigProxy] Proxy API at http://127.0.0.1:8001/api/routes
13:05:49.185 - error: [ConfigProxy] Uncaught Exception Error: listen EADDRINUSE :::8000
    at Object._errnoException (util.js:1022:11)
    at _exceptionWithHostPort (util.js:1044:20)
    at Server.setupListenHandle [as _listen2] (net.js:1367:14)
    at listenInCluster (net.js:1408:12)
    at Server.listen (net.js:1492:7)
    at Object.&lt;anonymous&gt; 
(/Users/Robert/anaconda3/lib/node_modules/configurable-http-proxy/bin/configurable-http-proxy:253:19)
    at Module._compile (module.js:652:30)
    at Object.Module._extensions..js (module.js:663:10)
    at Module.load (module.js:565:32)
    at tryModuleLoad (module.js:505:12)
13:05:49.187 - error: [ConfigProxy] Uncaught Exception Error: listen EADDRINUSE 127.0.0.1:8001
    at Object._errnoException (util.js:1022:11)
    at _exceptionWithHostPort (util.js:1044:20)
    at Server.setupListenHandle [as _listen2] (net.js:1367:14)
    at listenInCluster (net.js:1408:12)
    at doListen (net.js:1517:7)
    at _combinedTickCallback (internal/process/next_tick.js:141:11)
    at Immediate._tickCallback [as _onImmediate] 
(internal/process/next_tick.js:180:9)
    at runCallback (timers.js:794:20)
    at tryOnImmediate (timers.js:752:5)
    at processImmediate [as _immediateCallback] (timers.js:729:5)
[E 2018-06-14 13:05:49.377 JupyterHub utils:47] Unexpected error connecting to 34-36-3b-75-b6-de.**(CENSORED)** [Errno 8] nodename nor servname provided, or not known
[E 2018-06-14 13:05:49.481 JupyterHub utils:47] Unexpected error connecting to 34-36-3b-75-b6-de.**(CENSORED)** [Errno 8] nodename nor servname provided, or not known
    [C 2018-06-14 13:05:49.482 JupyterHub app:1535] Failed to start proxy
    Traceback (most recent call last):
  File ""/Users/Robert/anaconda3/lib/python3.6/site-packages/jupyterhub/app.py"", line 1533, in start
    yield self.proxy.start()
      File ""/Users/Robert/anaconda3/lib/python3.6/site-packages/jupyterhub/proxy.py"", line 482, in start
    _check_process()
      File ""/Users/Robert/anaconda3/lib/python3.6/site-packages/jupyterhub/proxy.py"", line 478, in _check_process
    raise e
    RuntimeError: Proxy failed to start with exit code 0
</code></pre>

<p>I'm not sure what's wrong. Did I forget to install a file? Am I not the admin? Plz help ;(</p>
",825,0,<jupyter><jupyterhub>,2018-06-14 17:22:17
50861477,basedir must be absolute: ?/.ivy2/local,"<p>I'm writing here in a full desperation state... </p>

<p>I have 2 users:</p>

<ul>
<li>1 local user, created in Linux. Works 100% fine, word count works perfectly. Kerberized Cluster. Valid ticket.</li>
<li>1 Active Directory user, can login, but pyspark instruction (same word count) fails. Same kdc ticket as the one above.</li>
</ul>

<blockquote>
  <p>Exception in thread ""main"" java.lang.IllegalArgumentException: basedir
  must be absolute: ?/.ivy2/local
      at org.apache.ivy.util.Checks.checkAbsolute(Checks.java:48)
      at org.apache.ivy.plugins.repository.file.FileRepository.setBaseDir(FileRepository.java:135)
      at org.apache.ivy.plugins.repository.file.FileRepository.(FileRepository.java:44)
      at org.apache.spark.deploy.SparkSubmitUtils$.createRepoResolvers(SparkSubmit.scala:943)
      at org.apache.spark.deploy.SparkSubmitUtils$.buildIvySettings(SparkSubmit.scala:1035)
      at org.apache.spark.deploy.SparkSubmit$$anonfun$2.apply(SparkSubmit.scala:295)
      at org.apache.spark.deploy.SparkSubmit$$anonfun$2.apply(SparkSubmit.scala:295)
      at scala.Option.getOrElse(Option.scala:121)
      at org.apache.spark.deploy.SparkSubmit$.prepareSubmitEnvironment(SparkSubmit.scala:294)
      at org.apache.spark.deploy.SparkSubmit$.submit(SparkSubmit.scala:153)
      at org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:119)
      at org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)</p>
</blockquote>

<p>The Code I'm running. Super simple.</p>

<pre><code>import findspark
findspark.init()
from pyspark import SparkConf, SparkContext
conf = SparkConf().setMaster(""yarn"")
sc = SparkContext(conf=conf)
</code></pre>

<p>It ends in error in the last instruction with the above error (see exception). </p>

<p><code>?/.ivy2/local</code> -> This is the problem but I have no idea what's going on :(.</p>

<p>With the Linux user it works perfectly... but with the AD user that doesn't exists in the local system, but has /home/userFolder ... I have this problem :(</p>

<p>Please help... I've reach the point of insanity... I've googled every corner of the internet but I haven't found any solution to this problem/mistake :( stackoverflow is my last resort heeeeeeeeeelp</p>
",8253,14,<apache-spark><pyspark><ivy><jupyterhub>,2018-06-14 15:51:00
50842160,How to display matplotlib plots in a Jupyter tab widget?,"<p>I am having trouble displaying plots inside of Jupyter tab widgets.  Consider the following snippet:</p>

<pre><code>import matplotlib.pyplot as plt
import pandas as pd
import ipywidgets as widgets
import numpy as np

out1 = widgets.Output()
out2 = widgets.Output()
data1 = pd.DataFrame(np.random.normal(size = 50))
data2 = pd.DataFrame(np.random.normal(size = 100))

with out1:
    fig1, axes1 = plt.subplots()
    data1.hist(ax = axes1)
    display(fig1)

with out2:
    fig2, axes2 = plt.subplots()
    data2.hist(ax = axes2)
    display(fig2)

tab = widgets.Tab(children = [out1, out2])
tab.set_title(0, 'First')
tab.set_title(1, 'Second')
display(tab)
</code></pre>

<p>(I am running Python 3.5.2, Jupyter 4.4.0, ipywidgets 7.2.1 on Ubuntu 16.04 inside a virtual environment.)</p>

<p>If I put this code on the first row of the notebook and run it, I see a tab widget with two tabs, each one of which displays a string, but not the plot:</p>

<p><a href=""https://i.stack.imgur.com/HEYRb.png"" rel=""noreferrer""><img src=""https://i.stack.imgur.com/HEYRb.png"" alt=""No plots""></a></p>

<p>If I run it for a second time, or if I rerun it putting everything after the import of <code>matplotlib</code> in a second cell, I see a tab widget with one plot on each tab, but I get the two plots displayed a second time outside of the tabs. </p>

<p><a href=""https://i.stack.imgur.com/8dder.png"" rel=""noreferrer""><img src=""https://i.stack.imgur.com/8dder.png"" alt=""Too many plots""></a></p>

<p>I can get rid of the additional displays by wrapping my code inside calls to <code>plt.ioff</code> and <code>plt.ion</code>, but <a href=""https://stackoverflow.com/questions/50821003/matplotlib-figure-not-showing-up-in-output-widget-in-first-cell-of-jupyter-noteb?noredirect=1#comment88659632_50821003"">it has been suggested to me</a> that this is a hack.  And in any case, it does not make matplotlib display the plots in the first cell.</p>

<p><strong>Question</strong>: What is the proper way of displaying plots inside tabs?</p>
",17209,19,<python><matplotlib><jupyter-notebook><ipywidgets>,2018-06-13 16:31:24
50834389,Change date format of ipywidgets.DatePicker,"<p>How to change format of dates for DatePicker from ipywidgets? Default format is 'mm/dd/yyyy' and I want to set it to 'yyyy-mm-dd'?</p>
",1808,8,<python><datepicker><ipywidgets>,2018-06-13 09:59:54
50811179,What is the process to start jupyterhub automatically?,"<p>I have installed a jupyterhub on my subdomain. Whenever I have to use jupyterhub I have to run a command <strong>jupyterhub</strong> on ubuntu terminal if it is closed we are not able to access it.</p>

<p>SO, is there any way to start jupyterhub automatically when system start?</p>

<p>Version:
 UBUNTU 16.4,
 anaconda 5.1.0,
 jupyter notebook --version 5.4.0,</p>
",897,1,<jupyter-notebook><ubuntu-16.04><jupyter><jupyterhub>,2018-06-12 07:07:59
50788663,Difference in bash using jupyter with ipython versus R (irkernel),"<p>I've got a jupyter/ipython notebook with the following bash script using %% magic that works to search a directory and apply a command to files matching a ""bam"" file extension</p>

<pre><code>%%bash
cd ../data/raw/Alignment_Files/
echo ""starting""
for file in *; do
    echo ""testing"" $file
    if [[ $file = *bam ]]; then
        echo ""Processing"" $file
        # do something interesting...
    fi
done
</code></pre>

<p>I'm trying to port it to another notebook using an R kernel (irkernel) and came up with this</p>

<pre><code>system('cd ../data/raw/Alignment_Files/
echo ""starting""
for file in *; do
    echo ""testing"" $file
    if [[ $file = *bam ]]; then
        echo ""Processing"" $file
        # do something interesting...
    fi
done',
intern=TRUE)
</code></pre>

<p>However the if/then loop doesn't work and I've tried a lot of variations with no success. The R version gives the ""starting"" and ""testing"" debug messages, but the if loop never executes. My guess would be that a character needs to be escaped but I can't figure it out.</p>
",180,0,<bash><ipython><jupyter-notebook><jupyter-irkernel>,2018-06-10 22:40:09
50739972,Screen flickering with matplotlib slider update,"<p>Have tried to implement multiple plots on shared x axis with a common slider . On slider update , there is too much screen flicker . How can this be avoided . Here is the code sample i have used.</p>

<pre><code>%matplotlib inline
from ipywidgets import interactive
import matplotlib.pyplot as plt
import numpy as np

''' 30% window size on the selected time on slider'''
data_size=round(M.Timestamp.size*0.30)
plt.close('all')

def f(m):
    plt.figure(2)
    x=M['Timestamp']
    y1=M['Value']
    '''define boundary limits for both axis'''
    min_x=0 if m-data_size &lt; 0 else m-data_size
    max_x=M.Timestamp.size if m+data_size &gt; M.Timestamp.size else m+data_size

    f, (ax1, ax2, ax3) = plt.subplots(3, sharex=True, sharey=True)
    ax1.plot(x[min_x:max_x],y1[min_x:max_x],color='r')
    ax1.set_title('Sharing both axes')
    ax2.plot(x[min_x:max_x],y1[min_x:max_x],color='b')
    ax3.plot(x[min_x:max_x],y1[min_x:max_x],color='g')
    plt.xticks(rotation=30)

interactive(f, m=(0, M.Timestamp.size))
</code></pre>

<p>When tried to update the xlimit on slider movement the graph is blank , hence used the subset of data to update on plots</p>
",1011,1,<python-3.x><matplotlib><jupyter-notebook><ipywidgets>,2018-06-07 11:23:01
50729977,create_system_users = True doesn't work,"<p>the error points to following line in source code</p>

<pre><code>    if not user_exists:
        if self.create_system_users:
            await maybe_future(self.add_system_user(user))
        else:
            raise KeyError(""User %s does not exist."" % user.name)

    await maybe_future(super().add_user(user))
</code></pre>

<p>which means the error can only be thrown when self.create_system_users = False (which is default)</p>

<p>but I have already set that to True in jupyterhub_config.py</p>

<pre><code>c.LocalGitHubAuthenticator.create_system_users = True
</code></pre>

<p>the logs</p>

<pre><code>[D 2018-06-06 21:28:51.993 JupyterHub app:866] Generating new cookie_secret
[I 2018-06-06 21:28:51.994 JupyterHub app:871] Writing cookie_secret to /srv/jupyterhub/jupyterhub_cookie_secret
[D 2018-06-06 21:28:51.995 JupyterHub app:886] Connecting to db: sqlite:///jupyterhub.sqlite
[D 2018-06-06 21:28:52.011 JupyterHub orm:475] Stamping empty database with alembic revision 3ec6993fe20c
[I 2018-06-06 21:28:52.017 alembic.runtime.migration migration:117] Context impl SQLiteImpl.
[I 2018-06-06 21:28:52.018 alembic.runtime.migration migration:122] Will assume non-transactional DDL.
[I 2018-06-06 21:28:52.025 alembic.runtime.migration migration:327] Running stamp_revision  -&gt; 3ec6993fe20c
[D 2018-06-06 21:28:52.026 alembic.runtime.migration migration:516] new branch insert 3ec6993fe20c
[W 2018-06-06 21:28:52.091 JupyterHub app:955] No admin users, admin interface will be unavailable.
[W 2018-06-06 21:28:52.091 JupyterHub app:956] Add any administrative users to `c.Authenticator.admin_users` in config.
[I 2018-06-06 21:28:52.092 JupyterHub app:983] Not using whitelist. Any authenticated user will be allowed.
[D 2018-06-06 21:28:52.114 JupyterHub app:1241] Loaded users:
[I 2018-06-06 21:28:52.120 JupyterHub app:1528] Hub API listening on http://127.0.0.1:8081/hub/
[W 2018-06-06 21:28:52.121 JupyterHub proxy:415]
    Generating CONFIGPROXY_AUTH_TOKEN. Restarting the Hub will require restarting the proxy.
    Set CONFIGPROXY_AUTH_TOKEN env or JupyterHub.proxy_auth_token config to avoid this message.

[I 2018-06-06 21:28:52.122 JupyterHub proxy:458] Starting proxy @ https://0.0.0.0:8000/
[D 2018-06-06 21:28:52.122 JupyterHub proxy:459] Proxy cmd: ['configurable-http-proxy', '--ip', '0.0.0.0', '--port', '8000', '--api-ip', '127.0.0.1', '--api-port', '8001', '--error-target', 'http://127.0.0.1:8081/hub/error', '--ssl-key', 'key.pem', '--ssl-cert', 'cert.pem']
21:28:52.574 - info: [ConfigProxy] Proxying https://0.0.0.0:8000 to (no default)
21:28:52.577 - info: [ConfigProxy] Proxy API at http://127.0.0.1:8001/api/routes
[D 2018-06-06 21:28:53.107 JupyterHub proxy:491] Proxy started and appears to be up
[D 2018-06-06 21:28:53.109 JupyterHub proxy:552] Proxy: Fetching GET http://127.0.0.1:8001/api/routes
[W 2018-06-06 21:28:53.124 JupyterHub proxy:304] Adding missing default route
[I 2018-06-06 21:28:53.124 JupyterHub proxy:370] Adding default route for Hub: / =&gt; http://127.0.0.1:8081
[D 2018-06-06 21:28:53.125 JupyterHub proxy:552] Proxy: Fetching POST http://127.0.0.1:8001/api/routes/
21:28:53.129 - info: [ConfigProxy] 200 GET /api/routes
21:28:53.132 - info: [ConfigProxy] Adding route / -&gt; http://127.0.0.1:8081
[I 2018-06-06 21:28:53.133 JupyterHub app:1581] JupyterHub is now running at https://0.0.0.0:8000/
21:28:53.134 - info: [ConfigProxy] 201 POST /api/routes/
[W 2018-06-06 21:29:04.588 JupyterHub base:202] Invalid or expired cookie token
[W 2018-06-06 21:29:04.590 JupyterHub base:202] Invalid or expired cookie token
[I 2018-06-06 21:29:04.590 JupyterHub log:122] 302 GET /hub/home → /hub/login?next=%2Fhub%2Fhome (@185.46.137.18) 1.87ms
[I 2018-06-06 21:29:04.884 JupyterHub log:122] 200 GET /hub/login?next=%2Fhub%2Fhome (@185.46.137.18) 32.02ms
[D 2018-06-06 21:29:05.258 JupyterHub log:122] 200 GET /hub/static/css/style.min.css?v=14dc0b5a8b791d573b687aa626aa2600 (@185.46.137.18) 3.36ms
[I 2018-06-06 21:29:09.932 JupyterHub log:122] 302 GET / → /hub (@185.46.137.18) 0.69ms
[I 2018-06-06 21:29:10.528 JupyterHub log:122] 302 GET / → /hub (@185.46.137.18) 0.58ms
[I 2018-06-06 21:29:10.580 JupyterHub log:122] 302 GET /hub → /hub/login (@185.46.137.18) 0.63ms
[I 2018-06-06 21:29:10.748 JupyterHub log:122] 302 GET /hub → /hub/login (@185.46.137.18) 0.62ms
[I 2018-06-06 21:29:10.751 JupyterHub log:122] 200 GET /hub/login (@185.46.137.18) 1.12ms
[I 2018-06-06 21:29:11.009 JupyterHub log:122] 200 GET /hub/login (@185.46.137.18) 1.48ms
[D 2018-06-06 21:29:11.014 JupyterHub log:122] 200 GET /hub/static/css/style.min.css?v=14dc0b5a8b791d573b687aa626aa2600 (@185.46.137.18) 1.30ms
[D 2018-06-06 21:29:11.376 JupyterHub log:122] 200 GET /hub/static/css/style.min.css?v=14dc0b5a8b791d573b687aa626aa2600 (@185.46.137.18) 1.44ms
[D 2018-06-06 21:29:11.383 JupyterHub log:122] 200 GET /hub/static/components/bootstrap/dist/js/bootstrap.min.js?v=5869c96cc8f19086aee625d670d741f9 (@185.46.137.18) 3.27ms
[D 2018-06-06 21:29:11.384 JupyterHub log:122] 200 GET /hub/static/components/requirejs/require.js?v=e7199843dfd445bb66ec816e98a03214 (@185.46.137.18) 5.83ms
[D 2018-06-06 21:29:11.385 JupyterHub log:122] 200 GET /hub/static/components/jquery/dist/jquery.min.js?v=c9f5aeeca3ad37bf2aa006139b935f0a (@185.46.137.18) 5.56ms
[D 2018-06-06 21:29:11.738 JupyterHub log:122] 200 GET /hub/logo (@185.46.137.18) 1.13ms
[D 2018-06-06 21:29:11.858 JupyterHub log:122] 200 GET /hub/static/components/requirejs/require.js?v=e7199843dfd445bb66ec816e98a03214 (@185.46.137.18) 1.34ms
[D 2018-06-06 21:29:12.286 JupyterHub log:122] 200 GET /hub/static/components/jquery/dist/jquery.min.js?v=c9f5aeeca3ad37bf2aa006139b935f0a (@185.46.137.18) 1.30ms
[D 2018-06-06 21:29:12.679 JupyterHub log:122] 200 GET /hub/static/components/bootstrap/dist/js/bootstrap.min.js?v=5869c96cc8f19086aee625d670d741f9 (@185.46.137.18) 1.10ms
[I 2018-06-06 21:29:13.090 JupyterHub oauth2:82] OAuth redirect: 'https://52.29.150.250/hub/oauth_callback'
[I 2018-06-06 21:29:13.092 JupyterHub log:122] 302 GET /hub/oauth_login?next= → https://github.com/login/oauth/authorize?redirect_uri=https%3A%2F%2F52.29.150.250%2Fhub%2Foauth_callback&amp;client_id=ea68e73f8ff48a925f1a&amp;response_type=code&amp;state=eyJzdGF0ZV9pZCI6ICJlYWFhM2M2ZTM2NmY0ZjljOWY5M2I5ZWEzMTA5NTI5MCIsICJuZXh0X3VybCI6ICIifQ%3D%3D (@185.46.137.18) 1.83ms
[D 2018-06-06 21:29:13.182 JupyterHub log:122] 200 GET /hub/logo (@185.46.137.18) 1.04ms
[D 2018-06-06 21:29:15.009 JupyterHub base:268] Setting cookie for wutianchen: jupyter-hub-token, {'httponly': True, 'secure': True}
[I 2018-06-06 21:29:15.009 JupyterHub base:346] User logged in: wutianchen
ERROR:asyncio:Future exception was never retrieved
future: &lt;Future finished exception=KeyError('User wutianchen does not exist.',)&gt;
Traceback (most recent call last):
  File ""/opt/conda/lib/python3.6/site-packages/tornado/gen.py"", line 1113, in run
    yielded = self.gen.send(value)
  File ""/opt/conda/lib/python3.6/site-packages/jupyterhub/auth.py"", line 489, in add_user
    raise KeyError(""User %s does not exist."" % user.name)
KeyError: 'User wutianchen does not exist.'
[D 2018-06-06 21:29:15.011 JupyterHub user:184] Creating &lt;class 'jupyterhub.spawner.LocalProcessSpawner'&gt; for wutianchen:
[I 2018-06-06 21:29:15.022 JupyterHub log:122] 302 GET /hub/oauth_callback?code=25e81552eb4f1864171d&amp;state=eyJzdGF0ZV9pZCI6ICJlYWFhM2M2ZTM2NmY0ZjljOWY5M2I5ZWEzMTA5NTI5MCIsICJuZXh0X3VybCI6ICIifQ%3D%3D → /hub/ (@185.46.137.18) 936.92ms
[D 2018-06-06 21:29:15.449 JupyterHub pages:54] User is not running: /hub/home
[I 2018-06-06 21:29:15.452 JupyterHub log:122] 302 GET /hub/ → /hub/home (wutianchen@185.46.137.18) 3.25ms
[I 2018-06-06 21:29:15.628 JupyterHub log:122] 200 GET /hub/home (wutianchen@185.46.137.18) 8.26ms
[D 2018-06-06 21:29:15.848 JupyterHub log:122] 200 GET /hub/static/css/style.min.css?v=14dc0b5a8b791d573b687aa626aa2600 (@185.46.137.18) 1.72ms
[D 2018-06-06 21:29:15.853 JupyterHub log:122] 304 GET /hub/logo (@185.46.137.18) 1.26ms
[D 2018-06-06 21:29:16.454 JupyterHub log:122] 200 GET /hub/static/components/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 (@185.46.137.18) 1.27ms
[D 2018-06-06 21:29:16.500 JupyterHub log:122] 200 GET /hub/static/js/home.js?v=(&amp; (@185.46.137.18) 1.05ms
[D 2018-06-06 21:29:16.797 JupyterHub log:122] 200 GET /hub/static/js/jhapi.js?v=(&amp; (@185.46.137.18) 1.07ms
[D 2018-06-06 21:29:17.087 JupyterHub log:122] 200 GET /hub/static/js/utils.js?v=(&amp; (@185.46.137.18) 1.07ms
[I 2018-06-06 21:29:19.549 JupyterHub log:122] 302 GET /hub/spawn → /user/wutianchen/ (wutianchen@185.46.137.18) 3.56ms
[I 2018-06-06 21:29:19.739 JupyterHub log:122] 302 GET /user/wutianchen/ → /hub/user/wutianchen/ (@185.46.137.18) 0.60ms
[D 2018-06-06 21:29:19.958 JupyterHub base:421] Initiating spawn for wutianchen
[E 2018-06-06 21:29:19.989 JupyterHub user:427] Unhandled error starting wutianchen's server: 'getpwnam(): name not found: wutianchen'
[D 2018-06-06 21:29:20.000 JupyterHub base:427] 0/100 concurrent spawns
[D 2018-06-06 21:29:20.000 JupyterHub base:430] 0 active servers
[E 2018-06-06 21:29:20.000 JupyterHub web:1621] Uncaught exception GET /hub/user/wutianchen/ (185.46.137.18)
    HTTPServerRequest(protocol='https', host='52.29.150.250', method='GET', uri='/hub/user/wutianchen/', version='HTTP/1.1', remote_ip='185.46.137.18')
    Traceback (most recent call last):
      File ""/opt/conda/lib/python3.6/site-packages/tornado/web.py"", line 1543, in _execute
        result = yield result
      File ""/opt/conda/lib/python3.6/site-packages/jupyterhub/handlers/base.py"", line 747, in get
        yield self.spawn_single_user(current_user)
      File ""/opt/conda/lib/python3.6/site-packages/jupyterhub/handlers/base.py"", line 475, in spawn_single_user
        yield gen.with_timeout(timedelta(seconds=self.slow_spawn_timeout), finish_spawn_future)
      File ""/opt/conda/lib/python3.6/site-packages/jupyterhub/handlers/base.py"", line 445, in finish_user_spawn
        yield spawn_future
      File ""/opt/conda/lib/python3.6/site-packages/jupyterhub/user.py"", line 439, in spawn
        raise e
      File ""/opt/conda/lib/python3.6/site-packages/jupyterhub/user.py"", line 378, in spawn
        ip_port = yield gen.with_timeout(timedelta(seconds=spawner.start_timeout), f)
      File ""/opt/conda/lib/python3.6/types.py"", line 248, in wrapped
        coro = func(*args, **kwargs)
      File ""/opt/conda/lib/python3.6/site-packages/jupyterhub/spawner.py"", line 968, in start
        env = self.get_env()
      File ""/opt/conda/lib/python3.6/site-packages/jupyterhub/spawner.py"", line 960, in get_env
        env = self.user_env(env)
      File ""/opt/conda/lib/python3.6/site-packages/jupyterhub/spawner.py"", line 947, in user_env
        home = pwd.getpwnam(self.user.name).pw_dir
    KeyError: 'getpwnam(): name not found: wutianchen'

[D 2018-06-06 21:29:20.005 JupyterHub base:633] No template for 500
[E 2018-06-06 21:29:20.015 JupyterHub log:114] {
      ""X-Forwarded-Host"": ""52.29.150.250"",
      ""X-Forwarded-Proto"": ""https"",
      ""X-Forwarded-Port"": ""443"",
      ""X-Forwarded-For"": ""185.46.137.18"",
      ""Cookie"": ""jupyterhub-hub-login=\""2|1:0|10:1528282009|20:jupyterhub-hub-login|44:NGExZmU5NTU4YzdmNGY5Njg3NjFmYmZlOWZkNjdmOTA=|e76a19da7857f3fdc9552808b870fedeac644f9f51713ce2da13c5da3230b2a3\""; jupyter-hub-token=\""2|1:0|10:1528320555|17:jupyter-hub-token|44:MmJkYTA2NGJlNzg5NDcwZTk5NzhiMTc4YzM4ZmVjMjY=|5b81b2163bbdd92985e4b3443094106505851f63dee2f349da07907b3508ff18\""; jupyterhub-session-id=5f3f608678df41cfa8520c56b7ef3677; _xsrf=2|85e4a0ae|a5a70783d2268cfd2b873c64eaba920e|1528282915"",
      ""Accept-Language"": ""en-US,en;q=0.9,zh-CN;q=0.8,zh;q=0.7,de;q=0.6"",
      ""Accept-Encoding"": ""gzip, deflate, br"",
      ""Referer"": ""https://52.29.150.250/hub/home"",
      ""Accept"": ""text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8"",
      ""User-Agent"": ""Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36"",
      ""Upgrade-Insecure-Requests"": ""1"",
      ""Connection"": ""close"",
      ""Host"": ""52.29.150.250""
    }
</code></pre>
",1359,3,<jupyterhub>,2018-06-06 21:36:26
50707896,Ports 80 and 443 Closed,"<p>I'm currently attempting to setup a jupyterhub instance on AWS using a Ubuntu 14.04 machine.</p>

<p>I have been using this tutorial <a href=""https://gist.github.com/widdowquinn/e91b9bb850ece8873bbd084944798fe2"" rel=""nofollow noreferrer"">https://gist.github.com/widdowquinn/e91b9bb850ece8873bbd084944798fe2</a> and for some reason when trying to access jupyter.uiuc-bdeep.org using a browser the connection is always refused/unable to connect. Further snooping has revealed using TCP scanning sites that ports 80 and 443 are closed. </p>

<p>I'm not sure what is going on due to my EC2 security group inbound rules being open to all connections on port 80 and 443. Please let me know what is possible to solve this issue.</p>

<p><a href=""https://i.stack.imgur.com/vk6xf.png"" rel=""nofollow noreferrer"">Snapshot of current security group configuration</a></p>
",296,0,<amazon-web-services><port><jupyterhub>,2018-06-05 19:50:17
50615278,How to deploy JupyterHub using Nginx?,"<p>I'm seriously stuck here. Definitely tech savvy, not a sys admin. <a href=""https://github.com/SeaDude/azure-jupyterhub/blob/testing/jupyterLabInstall.md"" rel=""nofollow noreferrer"">Here is what I've done so far to deploy JupyterHub on Azure</a>.
Overview: </p>

<ul>
<li>Create self-signed ssl cert using Azure keyvault</li>
<li>Deploy Ubuntu Server 17.10 VM on Azure</li>
<li>Install Anaconda in <code>/opt/anaconda/anaconda4</code></li>
<li>Install Jupyterhub via conda</li>
</ul>

<p>Here I am stuck. When running <code>jupyterhub</code> as root, I get: 
 - <code>JupyterHub is now running at http://:8000/</code>. </p>

<p>When running <code>jupyterhub --ip my.ip.address --port 443 --ssl-key /etc/nginx/ssl/mycert.prv --ssl-cert /etc/nginx/ssl/mycert.cert</code> as root, I get: 
 - `JupyterHub is now running at <a href=""https://my.ip.address:443/"" rel=""nofollow noreferrer"">https://my.ip.address:443/</a></p>

<p>Neither of which result in the jupyterhub UI. Just says ""Welcome to nginx"". I'm not sure where to go. Any advice is appreciate. </p>
",271,1,<proxy><azure-virtual-machine><azure-keyvault><jupyterhub><ubuntu-17.10>,2018-05-31 01:06:53
50605029,How to reduce the space occupied by an ipywidget checkbox below 100px?,"<p>No matter what I do, it seems the smallest width of an <code>ipywidgets.Checkbox</code> is 100px. Anything smaller and the widget doesn't show. It seems a waste of space when grouping with other widgets in an <code>ipywidgets.HBox</code></p>

<pre><code>import ipywidgets as ipyw
ly = dict(margin='0px', border='solid', max_width='100px')
w = ipyw.Checkbox(value=True, layout=ly)
display(w)
</code></pre>

<p>Also the widget is right-justified by default. I didn't figure out how to change the justification.</p>

<p>Has anyone come up with a way to decrease the occupying space?</p>
",1636,1,<checkbox><ipywidgets>,2018-05-30 12:43:44
50590175,How to create multiple plots with scrollable x axis with a single slider,"<p>I intend to create 2-3 plots shared on a common time axis that can interactively scrolled with a single slider . Also there is one constraint where in sampling frequency is different for each variable but have the same time window.</p>

<pre><code>x  - time
y1 - values sampled every 1 second
y2 - values sampled every 10 seconds
y3 - values sampled every 100 seconds 
</code></pre>

<p>How can we do this .</p>

<p>Have tried this sample code </p>

<pre><code>import matplotlib.pyplot as plt
from ipywidgets import interact
%matplotlib inline

def f(n):
    plt.plot([0,1,2],[0,1,n])
    plt.show()
interact(f,n=(0,10))
</code></pre>

<p>I want something similar to this , the only change being x and y axis data is constant and the slider widget is used to scroll the graph left and right (x axis here) with a certain time window on the graph display</p>
",1331,1,<python-3.x><matplotlib><jupyter-notebook><dashboard><ipywidgets>,2018-05-29 17:51:32
50586649,Cannot import Tensorflow on Jupyter notebook,"<p>I am having issues importing Tensorflow in JupyterLab. It gives an error:</p>

<pre><code>ImportError: libcublas.so.9.0: cannot open shared object file: No such file or directory
</code></pre>

<p>But if I try from the terminal then it loads fine. I have checked the <code>LD_LIBRARY_PATH</code> variable and it has PATH to the <code>libcublas.so.9.0</code> file: </p>

<p><code>/usr/local/cuda-9.0/lib64</code></p>

<p>The OS is Ubuntu 16.04 (Deep Learning AMI Ubuntu Version 9.0); I am using the pre-built python3 environment TensorFlow(+Keras2) with Python3 (CUDA 9/MKL)</p>

<p>JupyterLab is running on JupyterHub. How can I fix this issue?</p>

<p>Full error report:</p>

<pre><code>---------------------------------------------------------------------------
ImportError                               Traceback (most recent call last)
~/anaconda3/envs/tensorflow_p36_ak2/lib/python3.6/site-packages/tensorflow/python/pywrap_tensorflow.py in &lt;module&gt;()
     57 
---&gt; 58   from tensorflow.python.pywrap_tensorflow_internal import *
     59   from tensorflow.python.pywrap_tensorflow_internal import __version__

~/anaconda3/envs/tensorflow_p36_ak2/lib/python3.6/site-packages/tensorflow/python/pywrap_tensorflow_internal.py in &lt;module&gt;()
     27             return _mod
---&gt; 28     _pywrap_tensorflow_internal = swig_import_helper()
     29     del swig_import_helper

~/anaconda3/envs/tensorflow_p36_ak2/lib/python3.6/site-packages/tensorflow/python/pywrap_tensorflow_internal.py in swig_import_helper()
     23             try:
---&gt; 24                 _mod = imp.load_module('_pywrap_tensorflow_internal', fp, pathname, description)
     25             finally:

~/anaconda3/envs/tensorflow_p36_ak2/lib/python3.6/imp.py in load_module(name, file, filename, details)
    242         else:
--&gt; 243             return load_dynamic(name, filename, file)
    244     elif type_ == PKG_DIRECTORY:

~/anaconda3/envs/tensorflow_p36_ak2/lib/python3.6/imp.py in load_dynamic(name, path, file)
    342             name=name, loader=loader, origin=path)
--&gt; 343         return _load(spec)
    344 

ImportError: libcublas.so.9.0: cannot open shared object file: No such file or directory

During handling of the above exception, another exception occurred:

ImportError                               Traceback (most recent call last)
&lt;ipython-input-3-d6579f534729&gt; in &lt;module&gt;()
----&gt; 1 import tensorflow

~/anaconda3/envs/tensorflow_p36_ak2/lib/python3.6/site-packages/tensorflow/__init__.py in &lt;module&gt;()
     22 
     23 # pylint: disable=g-bad-import-order
---&gt; 24 from tensorflow.python import pywrap_tensorflow  # pylint: disable=unused-import
     25 # pylint: disable=wildcard-import
     26 from tensorflow.tools.api.generator.api import *  # pylint: disable=redefined-builtin

~/anaconda3/envs/tensorflow_p36_ak2/lib/python3.6/site-packages/tensorflow/python/__init__.py in &lt;module&gt;()
     47 import numpy as np
     48 
---&gt; 49 from tensorflow.python import pywrap_tensorflow
     50 
     51 # Protocol buffers

~/anaconda3/envs/tensorflow_p36_ak2/lib/python3.6/site-packages/tensorflow/python/pywrap_tensorflow.py in &lt;module&gt;()
     72 for some common reasons and solutions.  Include the entire stack trace
     73 above this error message when asking for help."""""" % traceback.format_exc()
---&gt; 74   raise ImportError(msg)
     75 
     76 # pylint: enable=wildcard-import,g-import-not-at-top,unused-import,line-too-long

ImportError: Traceback (most recent call last):
  File ""/home/ubuntu/anaconda3/envs/tensorflow_p36_ak2/lib/python3.6/site-packages/tensorflow/python/pywrap_tensorflow.py"", line 58, in &lt;module&gt;
    from tensorflow.python.pywrap_tensorflow_internal import *
  File ""/home/ubuntu/anaconda3/envs/tensorflow_p36_ak2/lib/python3.6/site-packages/tensorflow/python/pywrap_tensorflow_internal.py"", line 28, in &lt;module&gt;
    _pywrap_tensorflow_internal = swig_import_helper()
  File ""/home/ubuntu/anaconda3/envs/tensorflow_p36_ak2/lib/python3.6/site-packages/tensorflow/python/pywrap_tensorflow_internal.py"", line 24, in swig_import_helper
    _mod = imp.load_module('_pywrap_tensorflow_internal', fp, pathname, description)
  File ""/home/ubuntu/anaconda3/envs/tensorflow_p36_ak2/lib/python3.6/imp.py"", line 243, in load_module
    return load_dynamic(name, filename, file)
  File ""/home/ubuntu/anaconda3/envs/tensorflow_p36_ak2/lib/python3.6/imp.py"", line 343, in load_dynamic
    return _load(spec)
ImportError: libcublas.so.9.0: cannot open shared object file: No such file or directory


Failed to load the native TensorFlow runtime.

See https://www.tensorflow.org/install/install_sources#common_installation_problems

for some common reasons and solutions.  Include the entire stack trace
above this error message when asking for help.
</code></pre>
",633,2,<python-3.x><tensorflow><jupyter-notebook><jupyterhub>,2018-05-29 14:16:45
50575440,Can't call functions in ipywidgets.HTML,"<p>so I have been working with jupyter notebook using python3, and I ran into a problem that I have seaching the internet for so many hours trying to figure out.
The problem is why does this</p>

<pre><code>from ipywidgets import HTML

HTML('''&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;body&gt;

&lt;button onclick=""myFunction()""&gt;Try it&lt;/button&gt;

&lt;p id=""demo""&gt;&lt;/p&gt;

&lt;script&gt;
function myFunction() {
    document.getElementById(""demo"").innerHTML = ""Hello World!"";
}
&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;''')
</code></pre>

<p>produce an error in the console</p>

<blockquote>
  <p>Uncaught ReferenceError: myFunction is not defined
      at HTMLButtonElement.onclick (testing.ipynb:1)</p>
</blockquote>

<p>however it works fine whenever I inline the functions, as such</p>

<pre><code>from ipywidgets import HTML

HTML('''&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;body&gt;

&lt;button onclick='document.getElementById(""demo"").innerHTML = ""Hello World!"";'&gt;Try it&lt;/button&gt;

&lt;p id=""demo""&gt;&lt;/p&gt;

&lt;/body&gt;
&lt;/html&gt;''')
</code></pre>

<p>Is it just not work on my machine? Or does this somehow not work due to the wrapping that python does?<br>
Does anyone have any idea why this does not work? Thanks in advance.</p>
",217,0,<html><python-3.x><jupyter-notebook><ipywidgets>,2018-05-29 02:13:22
50557663,"Which VM directory is the SSL ""Key"" stored when using Azure KeyVault?","<p>I can see <code>mycert.cert</code> and <code>mycert.prv</code> but there is no ""SSL Key"" in the <code>/var/lib/waagent</code> directory of the VM I just created. </p>

<ul>
<li>Deployed an nginx webserver, with SSL cert, using cloud-init, on ubuntu 17.10 VM using Azure <strong>KeyVault</strong> per the <a href=""https://learn.microsoft.com/en-us/azure/virtual-machines/linux/tutorial-secure-web-server#generate-a-certificate-and-store-in-key-vault"" rel=""nofollow noreferrer"">official instructions here</a>. </li>
<li>Installed Jupyter Hub on the VM using the <a href=""https://jupyterhub.readthedocs.io/en/latest/quickstart.html#installation"" rel=""nofollow noreferrer"">official instructions here</a>.</li>
<li>Now I'd like to add the SSL <strong>key</strong> and <strong>cert</strong> to the Jupyter Hub config file <a href=""https://jupyterhub.readthedocs.io/en/latest/getting-started/config-basics.html?highlight=ssl#configure-using-command-line-options"" rel=""nofollow noreferrer"">per these instructions</a>. Its asking for this format: </li>
</ul>

<p><code>jupyterhub --ip x.x.x.x --port 443 --ssl-key my_ssl.key --ssl-cert my_ssl.cert</code></p>

<p>Where is this <code>ssl.key</code> file? </p>

<p>Any help is much appreciated. </p>
",135,0,<ssl><azure-keyvault><jupyterhub>,2018-05-28 00:16:37
50552000,Circle a region in Folium keeps changing,"<p>I am trying circle a region that is 1km from the centre of the CBD of Melbourne. Please see the code that i put in, as I zoom out the map, the circle is not changing accordingly to scale. Please help me out and see that problem.</p>

<p>Will I need to use geo.json? Please advice. Thank you so much. Your help will be appricated!</p>

<pre><code>map_distance_vs_price = folium.Map(location=[-37.81, 144.96],
                    tiles = ""Stamen Terrain"",
                    zoom_start = 12)

folium.CircleMarker([-37.81, 144.96],
                    radius=100,
                    popup='Price:',
                    color='#3186cc',
                    fill_color='#3186cc',
                   ).add_to(map_distance_vs_price)
</code></pre>

<p><a href=""https://i.stack.imgur.com/ankgZ.png"" rel=""nofollow noreferrer"">map image 1</a></p>

<p><a href=""https://i.stack.imgur.com/tymYh.png"" rel=""nofollow noreferrer"">map image 2</a></p>
",453,1,<jupyter-notebook><folium><jupyterhub>,2018-05-27 12:10:50
50520632,how to come back to function when ipywidgets button press,"<p>Im trying to do the next example. My problem is that when i press one button I need to go back to function ""index"" so i can continue with what i was doing (on the next line, i dont want to begin all again), and enter one of the conditions: <strong>if continues.on_click(clicked)</strong> . How can i go back to where i left after pressing a button ?</p>

<pre><code>import IPython.display 
import ipywidgets
import ipywidgets as widgets

def clicked(option):
    if option.description == ""continue"":
        print ('continue')
        return ('continue')
    elif option.description == ""finish"":
        print('finishhh')
        return ('finishhh')

def index():
    print ('hello')
    continues = ipywidgets.Button()
    finish = ipywidgets.Button()

    continues.description =  ""continue""
    finish.description =  ""finish""

    display(continues, finish)
    continues.on_click(clicked)
    finish.on_click(clicked)
    if continues.on_click(clicked) == ""continue"":
        print('here!')
    elif finish.on_click(clicked) == ""finish"":
        print('here2')

index()
</code></pre>

<p>Thanks. </p>
",310,1,<python><python-3.x><ipywidgets>,2018-05-25 02:26:27
50478973,object 'dbDriver' not found,"<p>the function dbDriver seems to not be present when I run R from the terminal. But it does work if I run it from RStudio.</p>

<p>At first I thought they could be running different installations of R and indeed <code>.libPaths()</code> revealed different paths. But by forcing both to run from the same path I still fail to get dbDriver to work on the terminal.</p>

<p>The error message I get is:</p>

<p><code>Error: object 'dbDriver' not  found
</code> </p>

<p>Obs: I have installed IRKernel. I don't know if the problem  came before or after this install, but I know that jupyter-kernels sometimes mess with the installations.</p>
",172,0,<r><jupyter-irkernel>,2018-05-23 02:30:52
50467766,In IRKernel::installspec(): jupyter kernelspec --version exits with code one,"<p>Trying to install the IRKernel for jupyter notebook, I am facing the following issue:</p>

<pre><code>IRkernel::installspec()
# Results in
# Error in IRkernel::installspec() : 
# jupyter-client has to be installed but “jupyter kernelspec --version” exited with code 1.
</code></pre>

<p>This is related to the fact that on Windows, a dash is needed. Indeed, this doesn't work:</p>

<pre><code>&gt; jupyter kernelspec --version
Error executing Jupyter command 'kernelspec': [Errno 'jupyter-kernelspec' not found] 2
</code></pre>

<p>While this works:</p>

<pre><code>&gt; jupyter-kernelspec --version
5.2.2
</code></pre>

<p>Is there any way around this? </p>

<p>My OS is</p>

<pre><code>&gt; ver
Microsoft Windows [Version 10.0.16299.431]
</code></pre>

<p>And my sessionInfo():</p>

<pre><code>R version 3.5.0 (2018-04-23)
Platform: x86_64-w64-mingw32/x64 (64-bit)
Running under: Windows &gt;= 8 x64 (build 9200)

Matrix products: default

locale:
[1] LC_COLLATE=French_France.1252  LC_CTYPE=French_France.1252    LC_MONETARY=French_France.1252
[4] LC_NUMERIC=C                   LC_TIME=French_France.1252    

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

loaded via a namespace (and not attached):
 [1] Rcpp_0.12.16         digest_0.6.15        crayon_1.3.4         IRdisplay_0.5.0      repr_0.15.0         
 [6] jsonlite_1.5         magrittr_1.5         evaluate_0.10.1      stringi_1.1.7        uuid_0.1-2          
[11] rstudioapi_0.7       IRkernel_0.8.12.9000 tools_3.5.0          stringr_1.3.1        yaml_2.1.19         
[16] compiler_3.5.0       base64enc_0.1-3      pbdZMQ_0.3-3         htmltools_0.3.6     
</code></pre>
",4026,1,<r><jupyter-notebook><jupyter><jupyter-irkernel>,2018-05-22 12:30:41
50376408,Observer pattern using a widget from ipywidgets,"<p>Trying to reproduce the example in <a href=""http://traitlets.readthedocs.io/en/stable/using_traitlets.html#observe"" rel=""nofollow noreferrer"">http://traitlets.readthedocs.io/en/stable/using_traitlets.html#observe</a>, but using a widget as a class property, the behavior changes and does not observe on changes</p>

<pre><code>from ipywidgets import Label
from traitlets import HasTraits, Unicode, observe
class Foo(HasTraits):
    bar = Label()
    baz = Unicode()

    @observe('bar')
    def _observe_bar(self, change):
        print(change['old'])
        print(change['new'])

f = Foo()
f.bar = Label('hello')  # No printing
</code></pre>
",1125,2,<python><ipython><jupyter-notebook><observer-pattern><ipywidgets>,2018-05-16 17:01:05
50346651,Jupyterhub service unavailable error and http :403 forbidden,"<p>I installed the jupyterhub server with use of Github account username and secret id. but i got service unavailable when I run jupyterhub service ( <a href=""https://my"" rel=""nofollow noreferrer"">https://my</a> system ip:8000).
I have python3.6 installed.
How to solve this problem??</p>

<pre><code>root@johnjesus-HCL-Desktop:~# jupyterhub
[W 2018-05-15 14:38:10.001 JupyterHub app:366] JupyterHub.proxy_cmd is deprecated in JupyterHub 0.8, use ConfigurableHTTPProxy.command
[I 2018-05-15 14:38:10.002 JupyterHub app:834] Loading cookie_secret from /home/johnjesus/jupyterhub_cookie_secret
[I 2018-05-15 14:38:10.077 JupyterHub app:1528] Hub API listening on http://127.0.0.1:8081/hub/
[W 2018-05-15 14:38:10.079 JupyterHub proxy:415] 
    Generating CONFIGPROXY_AUTH_TOKEN. Restarting the Hub will require restarting the proxy.
    Set CONFIGPROXY_AUTH_TOKEN env or JupyterHub.proxy_auth_token config to avoid this message.

[I 2018-05-15 14:38:10.079 JupyterHub proxy:458] Starting proxy @ https://*:8000/
[E 2018-05-15 14:38:10.094 JupyterHub app:1623]
    Traceback (most recent call last):
      File ""/usr/local/lib/python3.6/dist-packages/jupyterhub/app.py"", line 1621, in launch_instance_async
        yield self.start()
      File ""/usr/local/lib/python3.6/dist-packages/jupyterhub/app.py"", line 1569, in start
        yield self.proxy.check_routes(self.users, self._service_map)
      File ""/usr/local/lib/python3.6/dist-packages/jupyterhub/proxy.py"", line 294, in check_routes
        routes = yield self.get_all_routes()
      File ""/usr/local/lib/python3.6/dist-packages/jupyterhub/proxy.py"", line 589, in get_all_routes
        resp = yield self.api_request('', client=client)
    tornado.httpclient.HTTPError: HTTP 403: Forbidden

root@johnjesus-HCL-Desktop:~# 14:38:10.592 - info: [ConfigProxy] Proxying https://*:8000 to (no default)
14:38:10.595 - info: [ConfigProxy] Proxy API at http://127.0.0.1:8001/api/routes
14:38:10.597 - error: [ConfigProxy] Uncaught Exception Error: listen EADDRINUSE :::8000
    at Object._errnoException (util.js:1022:11)
    at _exceptionWithHostPort (util.js:1044:20)
    at Server.setupListenHandle [as _listen2] (net.js:1367:14)
    at listenInCluster (net.js:1408:12)
    at Server.listen (net.js:1492:7)
    at Object.&lt;anonymous&gt; (/usr/local/lib/node_modules/configurable-http-proxy/bin/configurable-http-proxy:253:19)
    at Module._compile (module.js:652:30)
    at Object.Module._extensions..js (module.js:663:10)
    at Module.load (module.js:565:32)
    at tryModuleLoad (module.js:505:12)
14:38:10.598 - error: [ConfigProxy] Uncaught Exception Error: listen EADDRINUSE 127.0.0.1:8001
    at Object._errnoException (util.js:1022:11)
    at _exceptionWithHostPort (util.js:1044:20)
    at Server.setupListenHandle [as _listen2] (net.js:1367:14)
    at listenInCluster (net.js:1408:12)
    at doListen (net.js:1517:7)
    at _combinedTickCallback (internal/process/next_tick.js:141:11)
    at Immediate._tickCallback [as _onImmediate] (internal/process/next_tick.js:180:9)
    at runCallback (timers.js:794:20)
    at tryOnImmediate (timers.js:752:5)
    at processImmediate [as _immediateCallback] (timers.js:729:5)





c.JupyterHub.authenticator_class = 'oauthenticator.GitHubOAuthenticator'
c.GitHubOAuthenticator.oauth_callback_url = 'https://172.16.8.174:8000/hub/oauth_callback'
c.GitHubOAuthenticator.client_id = 'id'
c.GitHubOAuthenticator.client_secret = 'secret'
# This is an application.
# create system users that don't exist yet
c.LocalAuthenticator.create_system_users = True
c.Authenticator.whitelist = {'ajohnpaulantony', 'bhuvana', 'arun'}
c.Authenticator.admin_users = {'ajohnpaulantony', 'bhuvana'}
c.Spawner.notebook_dir = '~/notebooks'
c.JupyterHub.ssl_cert = 'mycert.pem'
c.JupyterHub.ssl_key = 'mykey.key'
c.JupyterHub.cookie_secret_file = '/home/johnjesus/jupyterhub_cookie_secret'
c.JupyterHub.proxy_cmd = ['/usr/local/bin/configurable-http-proxy']
# Let the Systemctl aware of all the environment path
import os
for var in os.environ:
    c.Spawner.env_keep.append(var)
</code></pre>

<p>ajohnpaulantony -----> github username
johnjesus --------> root username</p>
",7390,2,<python-3.x><jupyter-notebook><jupyterhub><httpforbiddenhandler>,2018-05-15 09:24:46
50336267,how to two-way link between a python object and an ipywidget,"<p>Dear <code>ipywidgets</code> gurus,</p>

<p>I want to set up a link between the attribute of some python object and the value of some ipywidget:</p>

<pre><code>import ipywidgets as ipyw

w = ipyw.IntSlider(42)

class Foo(object):
    def __init__(self, i=0):
        self.i = i  # not a traitlet, just an integer
foo = Foo(w.value)

two_way_link((w, 'value'), (foo, 'i'))  # mimics ipyw.link()

foo.i = 5  # will move the slider of w
w.value = 8  # update foo.i
</code></pre>

<p>I thought of <code>two_way_link</code> instantiating a wrapper traitlet around foo.i and then use <code>ipyw.link</code> with this wrapper and <code>w.value</code>. Maybe someone can suggest and alternative method?</p>
",107,0,<events><traits><ipywidgets>,2018-05-14 17:52:16
50320535,update of dropdown widget (ipywidget),"<p>I'm using interactive ipywidget dropdown to filter a certain amount of datas and to plot graph with plotly.</p>

<p>My problem is on the update of the dropdown widget : here is a simplified example : </p>

<pre><code>    import ipywidgets as widgets
from ipywidgets import *
from IPython.display import display, clear_output, HTML

def update_drop2(*args):
    if Drop1.value=='R':
        Drop2.options = {'un':'1','trois':'3','quatre':'4'}
    if Drop1.value=='B':
        Drop2.options = {'un':'1','trois':'3','quatre':'4'}
    if Drop1.value=='G':
        Drop2.options = {'deux':'2','quatre':'4','trois':'3'}

def action(*args):
    print('action')


Drop1 = widgets.Dropdown(
        options = {'red':'R','blue':'B','green':'G'},
        value = 'R',
        description='Drop1 :',
        disabled=False,
        continuous_update=False,
        style = {'description_width': 'initial'}
        )

Drop2 = widgets.Dropdown(
        options = {'un':'1','deux':'2','trois':'3'},
        value = '3',
        description='Drop2 :',
        disabled=False,
        continuous_update=False,
        style = {'description_width': 'initial'}
        )

display(Drop1,Drop2)

Drop1.observe(update_drop2,'value')
Drop2.observe(action,'value')
</code></pre>

<p>drop1 changes the options of drop2. any change of drop1 (and drop2 should launch an action (here just a print for the exemple)</p>

<ul>
<li><p>when the list of options of drop2 is different and changed by drop1, drop2.value is automatically set up at the first value of the new list, even if the value chosen is already present in the previous list. Is there an option to keep this value if it's still available on the new list? (exemple : choose drop1 = R, drop2 = 'trois and then do drop1='G' : drop2 is automaticaly set up at'2'. Choose drop1 = R, drop2 = 3 and then do drop1='B' : drop2 remain at'3')</p></li>
<li><p>if i try to force drop2.value after the update of drop2.options, that make 2 changes of drop2 = 2 actions... i couldn't figure out a way to avoid it..so in addition, sometimes i have a repetition of the action and sometimes i have no actions...</p></li>
</ul>

<p>Thanks for your help</p>
",1510,4,<python><jupyter-notebook><ipywidgets>,2018-05-13 20:50:19
50303906,update chart with ipywidgets:,"<p>I'm using seaborn on jupyter notebook and would like a slider to update a chart. My code is as follows:</p>

<pre><code>from ipywidgets import interact, interactive, fixed, interact_manual
import numpy as np
import seaborn as sns
from IPython.display import clear_output

def f(var):
    print(var)
    clear_output(wait=True)
    sns.distplot(list(np.random.normal(1,var,1000)))

interact(f, var=10);
</code></pre>

<p>Problem: every time I move the slider, the graph is duplicated. How do I update the chart instead?</p>
",4130,3,<jupyter-notebook><seaborn><ipywidgets>,2018-05-12 07:31:45
50297667,What is the best way to set this working environment for my research group?,"<p>We recently got a supercomputer (I will call it the ""cluster"", it has 4 GPUs and 12-core processor with some decent storage and RAM) to our lab for machine learning research. A Linux distro (most possibly CentOS or Ubuntu depending on your suggestions of course) will be installed in the machine. We want to design the remote access in such a way that we have the following user hierarchy:</p>

<ol>
<li>Admin (1 person, the professor): This will be the only superuser of the cluster.</li>
<li>Privileged User (~3 people, PhD students): These guys will be the more tech-savvy or long-term researchers of the lab that will have a user defined for themselves at the cluster. They should be able to setup their own environment (through docker or conda), remote dev their projects and transfer files in and out of the cluster freely.</li>
<li>Regular User (~3 people, Master's students): We expect these kind of users to only interact with the cluster for its computing capabilities and the data it stores. They should not have their own user at the cluster. It is ok if they can only use Jupyter Notebooks. They should be able to access the read-only data in the cluster as the data we are working on will be too much for them to download it locally. However, they should not be able to change anything within the cluster and only be able to have their notebooks and a number of output files there which they should be able to download to their local system whenever necessary for reporting purposes.</li>
</ol>

<p>We also want to allocate only a certain portion of our computing capabilities for type 3 users. The others should be able to access all the capabilities when they need.</p>

<p>For all users, it should be easy to access the cluster from whatever OS they have on their personal computers. For type 1 and 2 I think PyCharm for remote developing .py files and tunneling for jupyter notebooks is the best option.</p>

<p>I did a lot of research on this but since I don't have an IT background I cannot be sure if the following approach would work. </p>

<ul>
<li>Set up JupyterHub for type 3 users. This way we don't have to have these guys to have a user at the cluster. However, I am not sure about the GPU support of this.  According to <a href=""http://jupyterhub.readthedocs.io/en/latest/api/spawner.html#spawner"" rel=""nofollow noreferrer"">here</a>, we can only limit CPU per user. Also, will they be able to access the data under Admin's home directory when we set up the hub or do we have to duplicate the data for that? We only want them to be able to access specific portions of data (the ones related to whatever project they are working on since they sign a confidentiality to only that project). Is this possible with JuptyterHub?</li>
<li>The rest (type-1 and type-2) will have their (sudo or not) users at the cluster. For this case, is there UI to workaround so that users can more easily transfer files from and to the cluster (that they don't have to use scp)? Is FileZilla an option for example?</li>
<li>Finally, if the type-2 users can resolve the issues type-3 users have so that they don't have refer to the professor each time they have a problem. But afaik, you have to be a superuser to control stuff at JupyterHub.</li>
</ul>

<p>If anyone had to setup this kind of an environment at their own lab and share their experiences I would be grateful.</p>
",62,3,<remote-access><jupyterhub><supercomputers>,2018-05-11 17:48:16
50287990,Getting Ipywidgets To Interact With Pandas Dataframe In Jupyter Notebook,"<p>Hi I'm trying to get a graph to function with ipywidgets in a Jupyter notebook but am having no such luck. I would like to get the widgets to update based on the dataframe when the update button is functioned. Does anybody know where I am going wrong?</p>

<pre><code>#Import Libraries
import pandas as pd
import folium
import geocoder
import numpy as np
import plotly.plotly as py
from plotly.graph_objs import *
import plotly.offline as py
from ipywidgets import widgets, HBox, Output, interactive

py.offline.init_notebook_mode(connected=False)

#Load Dataset
df = pd.read_excel('LOAS_Biography data (feb 2018).xlsx', sheetname='concerts')

#Rename Columns In DataFrame
df.columns = ['Date', 'City', 'Country', 'Venue', 'Capacity', 'Ticket', 'Tour', 'Event', 'Sold Out', 'Champion']

#Summarises Data by Summing Data Per Country
df = df.groupby('Country', as_index= False).sum()

df = df.head(10)

data = [Bar(x=df.Country,
            y=df.Ticket)]

#Make lists
list1 = list(df['Country'].unique())
#list2 = list(df['City'].unique())

#Create Dropdown Box Widget
w = widgets.Dropdown(
    options= list1,
    value= 'Australia',
    description='Country:',
    disabled=False,
)

#Create Text Box Widget
w1 = widgets.Text(
     value='',
     placeholder='Type something',
     description='Search by:',
     disabled=False
)

#Create Update Button For Widgets
w2 = widgets.Button(description=""Update"")

def update():
    display(HBox([w, w1, w2]))
    display(py.offline.iplot(data, filename='jupyter-basic_bar'))

def on_button_clicked(b):
    venue = (w.options, w1.value)
    clear_output()
    #print(venue)
    update()

w2.on_click(on_button_clicked)
update()
</code></pre>

<p>Thank you</p>
",7105,5,<python><pandas><jupyter><ipywidgets>,2018-05-11 08:16:37
50274978,Interactive Plotly Int Slider,"<p>Hi I'm fairly new to Python, Plotly and Jupyter Notebook. I would like to use a slider to select the number of days as the range in a query to which a graph is created from. My only issue is that I want the graph to automatically update on interaction with the slider, without having to re-run the query and graph creation. My code is below:</p>

<pre><code>slider = widgets.IntSlider()
display(slider)
sliderVal = slider.value

df = pd.read_sql(f""""""
SELECT CASE WHEN SiteID LIKE 3 THEN 'BLAH' 
        WHEN SiteID LIKE 4 THEN 'BLAHBLAH' 
        END AS Website, 
        COUNT(1) AS Count
FROM            viewName
WHERE        (TimeStamp &gt; DATEADD(DAY, -{sliderVal}, GETDATE()))
GROUP BY SiteId
ORDER BY Count DESC
           """""", conn)

data = [go.Bar(x=df.Website, y=df.Count)]
layout = go.Layout(
    xaxis=dict(
        title='Website'),
    yaxis=dict(
        title='Exception count'),
    title=f'Number of exceptions per user in the last {sliderVal} days')
chart = go.Figure(data=data, layout=layout, )
py.iplot(chart, filename='WebExceptions')
</code></pre>

<p>Thanks in advance!</p>
",1289,3,<python><plotly><jupyter><ipywidgets>,2018-05-10 14:14:14
50270616,jupyterhub new users with too many default example file and folder,"<p>i have an istance of Linux Data Science Virtual Machine on Azure and jupyterhub. It works very well, but when i create new users, jupyterhub create a lot of example file in his enviroment. I need to remove them/ substitute with own example... there is a file option where i can setup it?  </p>

<p><a href=""https://i.stack.imgur.com/4D0MY.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/4D0MY.png"" alt=""jupyterhub""></a></p>

<p>Thx a lot!</p>
",62,0,<azure><jupyterhub>,2018-05-10 10:19:00
50240992,Defining JupyterHub Kubernetes resources for each user,"<p>I was following the <a href=""http://zero-to-jupyterhub.readthedocs.io/en/latest/user-resources.html"" rel=""nofollow noreferrer"">zero to jupyterhub</a> tutorial on spawning a kubernetes cluster for managing Jupter Notebook, and it's not clear how to specify resources for a specific user.</p>

<p>On our current deployment, each user has an AWS machine associated with the Jupyter Notebook, and this can be customized in a per-user basis. How can I do the same thing using JupyterHub?</p>
",76,2,<kubernetes><jupyter-notebook><jupyter><jupyterhub>,2018-05-08 19:27:25
50213729,How to configure nginx-ingress controller for Github Authentication?,"<p>I set up a Kubernetes Cluster using kubeadm. </p>

<pre><code>[root@master fedora]# kubectl version
Client Version: version.Info{Major:""1"", Minor:""10"", GitVersion:""v1.10.2"", GitCommit:""81753b10df112992bf51bbc2c2f85208aad78335"", GitTreeState:""clean"", BuildDate:""2018-04-27T09:22:21Z"", GoVersion:""go1.9.3"", Compiler:""gc"", Platform:""linux/amd64""}
Server Version: version.Info{Major:""1"", Minor:""10"", GitVersion:""v1.10.2"", GitCommit:""81753b10df112992bf51bbc2c2f85208aad78335"", GitTreeState:""clean"", BuildDate:""2018-04-27T09:10:24Z"", GoVersion:""go1.9.3"", Compiler:""gc"", Platform:""linux/amd64""}
</code></pre>

<p>I installed <code>nginx-ingress</code> using <code>helm</code>.</p>

<pre><code>helm install stable/nginx-ingress --name=nginx --namespace=ingress-nginx -f nginx-values.yaml
</code></pre>

<p>The configuration file looks like <a href=""https://raw.githubusercontent.com/JBleher/nginx-values/master/nginx-values.yaml"" rel=""nofollow noreferrer"">this</a>.</p>

<p>I also installed Jupyterhub using helm with <a href=""https://raw.githubusercontent.com/JBleher/nginx-values/master/config.yaml"" rel=""nofollow noreferrer"">this configuration file</a>:</p>

<pre><code>helm version
Client: &amp;version.Version{SemVer:""v2.9.0"", GitCommit:""f6025bb9ee7daf9fee0026541c90a6f557a3e0bc"", GitTreeState:""clean""}
Server: &amp;version.Version{SemVer:""v2.9.0"", GitCommit:""f6025bb9ee7daf9fee0026541c90a6f557a3e0bc"", GitTreeState:""clean""}

helm install jupyterhub/jupyterhub --version=v0.7-fd73c61 --name=jh07 --namespace=jh07 -f config.yaml --timeout=14400 
</code></pre>

<p>Everything works fine, except the forwarding to the GitHub-Authentication service. <a href=""https://github.com/jupyterhub/oauthenticator/issues/77"" rel=""nofollow noreferrer"">I think it might have to do with this issue.</a></p>

<p>What settings do I have to change in the helm configuration files to make nginx forward the literal requests?</p>
",219,0,<nginx><github><kubernetes><kubernetes-helm><jupyterhub>,2018-05-07 11:59:43
50113995,How to run jupyterhub using sudo. Error: commad not found,"<p>I want to run <code>Jupyterhub</code> on my server.  I installed <code>Jupyterhub</code> from <a href=""http://jupyterhub.readthedocs.io/en/latest/quickstart.html"" rel=""nofollow noreferrer"">the instruction</a>.  I try it from both my computer and the server where both running on Ubuntu 16.04.  When I start Jupyterhub without sudo, everything is Ok on my computer, and I can log in with my user and It starts the jupyter server. But when I run  jupyterhub from the server after login I get error 500: Internal server error and it seems its because of permission error</p>
<p><code>PermissionError: [Errno 13] Permission denied </code></p>
<p>Then I tried to run jupyterhub using sudo: <code>sudo jupyterhub -f jc.py </code> where <code>jc.py</code> is my configuration file. And I see this error:</p>
<pre><code>sudo: jupyterhub: command not found
</code></pre>
<p>At first step, I don't know why sudo doesn't recognize jupyterhub command,
As the guide says, I install jupyterhub using conda.</p>
<p>To solve that problem I run jupyterhub from the path:</p>
<p><code>sudo anaconda3/bin/jupyterhub -f jc.py </code>
and this time I get this error:</p>
<pre><code>FileNotFoundError: [Errno 2] No such file or directory: 'configurable-http-proxy'
</code></pre>
<p>And absolutely I'm sure that I installed  <code>'configurable-http-proxy'</code> when I run <code>conda install -c conda-forge jupyterhub  # installs jupyterhub and proxy</code>.</p>
<p>Why <code>sudo</code> doesn't recognize <code>jupyterhub</code>?
How can I solve that <code>PermissionError</code>?</p>
",5813,2,<python><ubuntu><sudo><jupyterhub>,2018-05-01 09:15:47
50099923,JupyterHub - oauth_client_id not found,"<p>I am using Azure to run python notebook using Jupyterhub. After spinning up the VM, I was able to access the notebooks just by using my username and password (just like ssh). However, one day later when I switched to another network (I am not claiming that the network might have been a problem) I am unable to access the link. It gives me <code>The site can't be reached</code> error. </p>

<p>So I tried rerunning the process again, and since then I have been struggling to make it run again. I have searched for similar issues on GitHub, but they aren't helpful either.</p>

<p>After the kill the process using <code>kill pid</code> command, I tried running the jupyterhub through this command:</p>

<pre><code>/anaconda/envs/py35/bin/python /anaconda/envs/py35/bin/jupyterhub-singleuser --port=50387 --notebook-dir=""~/notebooks"" --config=/etc/jupyterhub/jupyterhub_config.py
</code></pre>

<p>And it gives me the error: </p>

<pre><code> JUPYTERHUB_API_TOKEN env is required to run jupyterhub-singleuser. Did you launch it manually?
</code></pre>

<p>So I searched through github issues similar to this. I tried generating token manually using:</p>

<pre><code> jupyterhub token username
</code></pre>

<p>And I added that token to JUPYTERHUB_API_TOKEN via <code>export JUPYTERHUB_API_TOKEN=token</code>. I also added token:username to c.Authenticator.tokens in jupyterhub_config.py. Now I get this error:</p>

<pre><code>Traceback (most recent call last):
  File ""/anaconda/envs/py35/lib/python3.5/site-packages/traitlets/traitlets.py"", line 528, in get
    value = obj._trait_values[self.name]
KeyError: 'oauth_client_id'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/anaconda/envs/py35/bin/jupyterhub-singleuser"", line 6, in &lt;module&gt;
    main()
  File ""/anaconda/envs/py35/lib/python3.5/site-packages/jupyterhub/singleuser.py"", line 455, in main
    return SingleUserNotebookApp.launch_instance(argv)
  File ""/anaconda/envs/py35/lib/python3.5/site-packages/jupyter_core/application.py"", line 267, in launch_instance
    return super(JupyterApp, cls).launch_instance(argv=argv, **kwargs)
  File ""/anaconda/envs/py35/lib/python3.5/site-packages/traitlets/config/application.py"", line 657, in launch_instance
    app.initialize(argv)
  File ""&lt;decorator-gen-7&gt;"", line 2, in initialize
  File ""/anaconda/envs/py35/lib/python3.5/site-packages/traitlets/config/application.py"", line 87, in catch_config_error
    return method(app, *args, **kwargs)
  File ""/anaconda/envs/py35/lib/python3.5/site-packages/notebook/notebookapp.py"", line 1296, in initialize
    self.init_webapp()
  File ""/anaconda/envs/py35/lib/python3.5/site-packages/jupyterhub/singleuser.py"", line 393, in init_webapp
    self.init_hub_auth()
  File ""/anaconda/envs/py35/lib/python3.5/site-packages/jupyterhub/singleuser.py"", line 388, in init_hub_auth
    if not self.hub_auth.oauth_client_id:
  File ""/anaconda/envs/py35/lib/python3.5/site-packages/traitlets/traitlets.py"", line 556, in __get__
    return self.get(obj, cls)
  File ""/anaconda/envs/py35/lib/python3.5/site-packages/traitlets/traitlets.py"", line 535, in get
    value = self._validate(obj, dynamic_default())
  File ""/anaconda/envs/py35/lib/python3.5/site-packages/traitlets/traitlets.py"", line 593, in _validate
    value = self._cross_validate(obj, value)
  File ""/anaconda/envs/py35/lib/python3.5/site-packages/traitlets/traitlets.py"", line 599, in _cross_validate
    value = obj._trait_validators[self.name](obj, proposal)
  File ""/anaconda/envs/py35/lib/python3.5/site-packages/traitlets/traitlets.py"", line 907, in __call__
    return self.func(*args, **kwargs)
  File ""/anaconda/envs/py35/lib/python3.5/site-packages/jupyterhub/services/auth.py"", line 439, in _ensure_not_empty
    raise ValueError(""%s cannot be empty."" % proposal.trait.name)
ValueError: oauth_client_id cannot be empty.
</code></pre>

<p>I am not sure where I went wrong in this process. Anybody familiar with this issue?</p>
",1104,2,<oauth><jupyterhub>,2018-04-30 11:49:11
50087533,How to open entire file in jupyter notebook,"<p>I tried to open python file (say model.py) in jupyter using </p>

<pre><code>! vi model.py
</code></pre>

<p>But I was able to view only 25 lines. How to view entire file. I want to view files in jupyter notebook.</p>
",1497,0,<jupyter-notebook><jupyter><jupyterhub>,2018-04-29 14:16:46
50010089,How to get a Python function to display an IPython widget,"<p>I want to call a function that displays a widget in a Jupyter notebook. </p>

<p>However if I do something like this:</p>

<pre class=""lang-python prettyprint-override""><code>import ipywidgets as widgets

def show_widget():
    progress = widgets.FloatProgress(value=0, min=0, max=100)
    display(progress)

show_widget()
</code></pre>

<p>The only output I get is <code>A jupyter widget.</code>... just that text, not the actual widget. Any ideas?</p>

<p><strong>Note:</strong> I can display widgets just fine if I create and display them outside of a function... just doesn't work when I call a function that's supposed to display them.</p>
",536,0,<python><ipywidgets>,2018-04-24 20:14:29
49996556,jupyterhub and Linux Data Science Virtual Machine on Azure.,"<p>i try with success Linux Data Science Virtual Machine on Azure and jupyterhub. It's start automatically the first time, but when restart jupyter doesn't start anymore. </p>

<p>what I could try to solve the problem? </p>

<p>thank you!</p>
",315,0,<azure><jupyterhub>,2018-04-24 08:11:39
49917018,Interactive jupyter plot using ipywidgets at its left side,"<p>I've lot of ipywidgets sliders connected to a graph and I'd like to have them on the left side of the layout. In addition to that, the output graph shall be on the right side in order to optimize space and increase usability.</p>

<p>The result without layering is like the following picture:</p>

<p><a href=""https://i.stack.imgur.com/ErPXn.png"" rel=""nofollow noreferrer"">result without layering</a></p>

<p>Do you have any solution to have sliders on the left side and the output on the right side?</p>

<p>I've already tried HBox + VBox using interactive:</p>

<pre><code>inter = wgt.interactive(f_arctan2,va=wgt.FloatSlider(min=-5.,max=5.,step=0.5,value=1.5),vb=wgt.FloatSlider(min=-6,max=6,step=0.5,value=0),
             va2= wgt.FloatSlider(min=-5.,max=5.,step=0.5,value=-1), vb2= wgt.FloatSlider(min=-5.,max=5.,step=0.5,value=-3) )

display(wgt.HBox(wgt.VBox(inter.children[:-1]),inter.children[-1]))
</code></pre>

<p>but there is a tuple error</p>

<blockquote>
  <p>TypeError: <strong>init</strong>() takes from 1 to 2 positional arguments but 3
  were given</p>
</blockquote>

<p>Using also inter.children.Output() as second parameter doesn't work.</p>
",861,0,<python><matplotlib><jupyter-notebook><ipywidgets><sliders>,2018-04-19 09:06:52
49863789,Setting background color of a box in ipywidgets,"<p>While creating a layout with ipywidgets I would like to have a <code>HBox</code> with a border and filled with a selected colour. The former is easy to set while the latter is a bit troublesome. I couldn't find a control option for the background fill in the doc. Is there any workaround?</p>

<pre class=""lang-py prettyprint-override""><code>from ipywidgets.widgets import Label, Layout, HBox

label1 = Label('Text1')
label2 = Label('Text2')
box1 = HBox([label1, label2], layout=Layout(border='solid 2px')) # background_color='red'?
display(box1)
</code></pre>
",4595,8,<python><ipywidgets>,2018-04-16 18:14:31
49863561,ipywidgets interact does not work,"<p>I am trying <code>ipywidgets.interact</code> <a href=""http://ipywidgets.readthedocs.io/en/latest/examples/Using%20Interact.html"" rel=""nofollow noreferrer"">hello world example</a> but the expected element does not show up.</p>

<p>This is the code:</p>

<pre><code> from __future__ import print_function
 from ipywidgets import interact, interactive, fixed, interact_manual
 import ipywidgets as widgets

 def f(x):
    return x

 interact(f, x= 'test')
</code></pre>

<p>These are the session parameters:</p>

<pre><code>CPython 2.7.14
IPython 5.6.0

ipywidgets 7.2.0

compiler   : GCC 4.2.1 Compatible Clang 4.0.1 (tags/RELEASE_401/final)
system     : Darwin
release    : 15.6.0
machine    : x86_64
processor  : i386
CPU cores  : 4
interpreter: 64bit
</code></pre>
",1209,2,<python><ipython><jupyter-notebook><ipywidgets>,2018-04-16 18:00:19
49656960,Using enums as the options values on ipywidgets,"<p>I want to make an interaction with an ipywidgets Dropdown which goes on to create a barchart. The bars of the barchart can be ordered in different ways.</p>

<p>I have an enum of the types of sorting I wish to give as options:</p>

<pre><code>class SORT_TYPE(Enum):
    ALPHABETICAL = 1
    ASCENDING = 2
    DESCENDING = 3
    UNSORTED = 4
</code></pre>

<p>I have a dropdown widget where the values use the enum above</p>

<pre><code>ordering_dropdown = widgets.Dropdown(
    options={'Alphabetical': SORT_TYPE.ALPHABETICAL, \
             'Ascending': SORT_TYPE.ASCENDING, \
             'Descending': SORT_TYPE.DESCENDING, \
             'Unsorted': SORT_TYPE.UNSORTED},
    value=SORT_TYPE.ALPHABETICAL,
    description='Ordering: ',
)
</code></pre>

<p>But when I go to use it in an interaction</p>

<pre><code>interactive(my_func, p1=p1, p2=p2, ordering=ordering_dropdown)
</code></pre>

<p>I get </p>

<pre><code>ValueError: &lt;SORT_TYPE.ALPHABETICAL: 1&gt; cannot be transformed to a widget
</code></pre>

<p>Do you know what I'm doing wrong?</p>

<p>Thanks in advance.</p>
",143,0,<python><matplotlib><interaction><ipywidgets>,2018-04-04 17:25:05
49603966,Can't reach Jupyter Notebooks on Azure Deep Learning Virtual Machine,"<p>I followed the instructions <a href=""https://learn.microsoft.com/en-us/azure/machine-learning/data-science-virtual-machine/linux-dsvm-intro#jupyter-notebook"" rel=""nofollow noreferrer"">here</a>.</p>

<p>I am on the Ubuntu VM via SSH. 
I tried to access IP:8000 but Chrome says the Site can't be reached. Port 8000 is indeed open by default as mentioned in the docs.</p>

<p>Instructions don't mention if I have to start <code>jupyterhub</code> so I tried that and got this error -</p>

<pre><code>username@fastai:~ $ jupyterhub
[I 2018-04-02 00:25:41.018 JupyterHub app:871] Writing cookie_secret to /home/username/jupyterhub_cookie_secret
[I 2018-04-02 00:25:41.036 alembic.runtime.migration migration:117] Context impl SQLiteImpl.
[I 2018-04-02 00:25:41.037 alembic.runtime.migration migration:122] Will assume non-transactional DDL.
[I 2018-04-02 00:25:41.067 alembic.runtime.migration migration:327] Running stamp_revision  -&gt; 3ec6993fe20c
[W 2018-04-02 00:25:41.388 JupyterHub app:955] No admin users, admin interface will be unavailable.
[W 2018-04-02 00:25:41.389 JupyterHub app:956] Add any administrative users to `c.Authenticator.admin_users` in config.
[I 2018-04-02 00:25:41.389 JupyterHub app:983] Not using whitelist. Any authenticated user will be allowed.
[E 2018-04-02 00:25:41.414 JupyterHub app:1525] Failed to bind hub to http://127.0.0.1:8081/hub/
[E 2018-04-02 00:25:41.414 JupyterHub app:1623]
    Traceback (most recent call last):
      File ""/anaconda/envs/py35/lib/python3.5/site-packages/jupyterhub/app.py"", line 1621, in launch_instance_async
        yield self.start()
      File ""/anaconda/envs/py35/lib/python3.5/site-packages/jupyterhub/app.py"", line 1523, in start
        self.http_server.listen(self.hub_port, address=self.hub_ip)
      File ""/anaconda/envs/py35/lib/python3.5/site-packages/tornado/tcpserver.py"", line 142, in listen
        sockets = bind_sockets(port, address=address)
      File ""/anaconda/envs/py35/lib/python3.5/site-packages/tornado/netutil.py"", line 197, in bind_sockets
        sock.bind(sockaddr)
    OSError: [Errno 98] Address already in use
</code></pre>

<p>Before I read about jupyterhub in the docs, I tried starting <code>jupyter notebook</code> which gave me this error.</p>

<pre><code>[C 04:00:12.963 NotebookApp] Bad config encountered during initialization:
[C 04:00:12.963 NotebookApp] No such notebook dir: ''/dsvm/Notebooks''
</code></pre>

<p>It seemed to run fine after generating a config file using <code>jupyter notebook --generate-config</code> and editing it but I still couldn't reach it via Chrome despite opening up all ports.</p>

<p><strong>UPDATE</strong><br>
Today I installed an X2Go client and found the <a href=""https://learn.microsoft.com/en-us/azure/machine-learning/data-science-virtual-machine/dsvm-ubuntu-intro#jupyter-notebook"" rel=""nofollow noreferrer"">jupyter notebook icon</a> on the desktop but starting that threw this error -
    Failed to run Jupyter.desktop
    Failed to parse the desktop file: Key file contains line '/anaconda/pkgs/notebook-5.4.0-py27_0/info/icon.png' which is not a key-value pair, group, or comment</p>

<p>Looks like that file calls jupyter notebook which throws the same error as before.</p>
",1208,1,<python><azure><jupyter-notebook><jupyterhub><azure-dsvm>,2018-04-02 00:38:33
49576406,How to make a color picker in Jupyter?,"<p>Jupyter notebooks support this color picking widget:</p>

<pre><code>widgets.ColorPicker(
    concise=False,
    description='Pick a color',
    value='blue',
    disabled=False
)
</code></pre>

<p>Which looks like this:</p>

<p><a href=""https://i.stack.imgur.com/xUeKC.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/xUeKC.png"" alt=""enter image description here""></a></p>

<p>But instead of this, I would like to chose colors dynamically with my mouse via a 2D pane of colors:</p>

<p><a href=""https://i.stack.imgur.com/ky4Gn.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/ky4Gn.png"" alt=""enter image description here""></a></p>
",1849,2,<ipython><jupyter-notebook><jupyter><ipywidgets><jupyter-lab>,2018-03-30 14:38:25
49542417,How to get ipywidgets working in Jupyter Lab?,"<p>In Jupyter Notebook, ipywidgets work fine, however they seem to not work in Jupyter Lab (which is supposedly better than Notebook).</p>

<p>I followed these <a href=""https://ipywidgets.readthedocs.io/en/latest/examples/Using%20Interact.html"" rel=""noreferrer"">directions</a>.</p>

<p><strong>Step 1:</strong> Installed Node.js  (<a href=""https://nodejs.org/en/"" rel=""noreferrer"">https://nodejs.org/en/</a>)</p>

<p><strong>Step 2:</strong> Installed requirements on Python 3 with conda:</p>

<pre><code>conda install -c conda-forge ipywidgets
jupyter labextension install @jupyter-widgets/jupyterlab-manager
</code></pre>

<p>Unfortunately, basic widgets do not work inside the jupyter lab notebook:</p>

<p><a href=""https://i.stack.imgur.com/lQvVa.png"" rel=""noreferrer""><img src=""https://i.stack.imgur.com/lQvVa.png"" alt=""enter image description here""></a></p>
",62231,72,<python><ipython><jupyter><ipywidgets><jupyter-lab>,2018-03-28 19:12:37
49499949,How to activate a Conda enviroment from inside JupyterHub?,"<p>I don't know if it is architecturally possible, but here is my problem.</p>

<p>I'm accessing a shared JupyterHub. I'd like to isolate some of my notebooks using different conda environment for each of them. </p>

<p>The main question is: </p>

<p>Can I activate a conda environment from a Jupyter Notebook that is already running in a JupyterHub? </p>

<p>Extra points if the answer also explains how would I create and initialize a conda environment from inside my already running Python kernel. </p>
",972,1,<conda><jupyterhub>,2018-03-26 20:19:24
49476229,Error code 127 when adding R kernal to Jupyter Notebook,"<p>I am aware that this question has been asked before but it was a long time ago and all of the advice in the thread didn't work for me. I have anaconda installed on my Windows 10 computer. Jupyter Notebook works fine but I want to add the R kernel. I have installed the <code>IRkernel</code> package and ran <code>IRkernel::installspec()</code> but I get the error message:</p>

<pre><code>Error in IRkernel::installspec() :
jupyter-client has to be installed but ""jupyter kernelspec --version"" exited with code 127.
In addition: Warning message:
running command '""jupyter"" kernelspec --version' had status 127
</code></pre>

<p>I ran this in the R console and I have added <code>C:\ProgramData\Anaconda3\Lib\site-packages\jupyter_client</code> and <code>C:\ProgramData\Anaconda3\Scripts</code> to the system PATH as advised in the old question but to no avail. Is there any advice specific to my setup (as the previous question was for an Ubuntu machine) that would fix this?</p>
",566,0,<r><windows><jupyter-notebook><jupyter-irkernel>,2018-03-25 13:12:23
49440087,Map keyboard shortcut to code snippet in Jupyter Lab,"<p>Does anyone know if there a way to bind a code snippet to a keyboard shortcut in Jupyter Lab? For example in R Studio you can use <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>M</kbd> to write the pipe operator (<code>%&gt;%</code>) quickly and I got used to that functionality so I would like to replicate it.</p>

<p>I looked at the Keyboard Shortcut menu under Settings but I'm not sure how to use the JSON schema to write such an Override (if it is even possible from there), and the documentation wasn't very clear.</p>
",1188,6,<jupyter-lab><jupyter-irkernel>,2018-03-22 23:28:27
49420533,How to use a kernel in another language (not the default) with jupyter_client?,"<p>I have a simple <code>jupyter_client</code> test case (below). I would like to know what I need to change or add to be able to use another kernel such as a <code>bash</code> shell or <code>IRkernel</code> for R.</p>

<pre><code>import queue
from jupyter_client.manager import start_new_kernel

kernel_manager, client = start_new_kernel()


def runCode(code):

    ### Execute the code
    client.execute(code)

    ### Get the execution status
    ### When the execution state is ""idle"" it is complete
    io_msg = client.get_iopub_msg(timeout=1)
    io_msg_content = io_msg['content']
    ### We're going to catch this here before we start polling
    if 'execution_state' in io_msg_content and io_msg_content['execution_state'] == 'idle':
        return ""no output""

    ### Continue polling for execution to complete
    ### which is indicated by having an execution state of ""idle""
    while True:
        ### Save the last message content. This will hold the solution.
        ### The next one has the idle execution state indicating the execution
        ###is complete, but not the stdout output
        temp = io_msg_content

        ### Poll the message
        try:
            io_msg = client.get_iopub_msg(timeout=1)
            io_msg_content = io_msg['content']
            if (
                    'execution_state' in io_msg_content
                    and io_msg_content['execution_state'] == 'idle'
                ):
                break
        except queue.Empty:
            print(""timeout get_iopub_msg"")
            break

    ### Check the message for various possibilities
    if 'data' in temp: # Indicates completed operation
        out = temp['data']['text/plain']
    elif 'name' in temp and temp['name'] == ""stdout"": # indicates output
        out = temp['text']
    elif 'traceback' in temp: # Indicates error
        print(""ERROR"")
        out = '\n'.join(temp['traceback']) # Put error into nice format
    else:
        out = ''

    return out



commands = \
[
    '!pwd',
    '!echo ""hello""',
    '!ls',
    '1+1',
    'a=5',
    'b=0',
    'print()',
    'b',
    'print()',
    'print(""hello there"")',
    'print(a*10)',
    'c=1/b'
]


for command in commands:
    print(""&gt;&gt;&gt;"" + command)
    out = runCode(command)
    print(out)
</code></pre>

<p><strong>Output:</strong></p>

<pre><code>&gt;&gt;&gt;!pwd

&gt;&gt;&gt;!echo ""hello""
""hello""

&gt;&gt;&gt;!ls

&gt;&gt;&gt;1+1
2
&gt;&gt;&gt;a=5

&gt;&gt;&gt;b=0

&gt;&gt;&gt;print()


&gt;&gt;&gt;b
0
&gt;&gt;&gt;print()


&gt;&gt;&gt;print(""hello there"")
hello there

&gt;&gt;&gt;print(a*10)
50

&gt;&gt;&gt;c=1/b
ERROR
---------------------------------------------------------------------------
ZeroDivisionError                         Traceback (most recent call last)
&lt;ipython-input-12-47a519732db5&gt; in &lt;module&gt;()
----&gt; 1 c=1/b

ZeroDivisionError: division by zero
</code></pre>
",67,0,<python><r><jupyter><jupyter-irkernel>,2018-03-22 04:24:31
49408285,Getting the current value of an IPython widget from within a loop,"<p>I'd like to get the values of the slider widgets within some loop. However, I would like these to update in real time. </p>

<p>For example see below. In the code pictured, I initialise some sliders, then run the loop below. Whilst the loop is running I move the sliders around. The printed values from the loop do not change from the initial value. When I execute the last cell, the updated slider values are shown.</p>

<p><a href=""https://i.stack.imgur.com/deUl5.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/deUl5.png"" alt=""enter image description here""></a></p>
",2101,1,<python><ipython><jupyter-notebook><ipywidgets>,2018-03-21 13:55:59
49368716,R is dead in Jupyter,"<p>I have instaled R in my jupyter through anaconda and It was working fine. Today I found this message when I opened R form Jupyter and I don't know what is the problem ?</p>

<blockquote>
  <p>The kernel has died, and the automatic restart has failed. It is possible the kernel cannot be restarted. If you are not able to restart the kernel, you will still be able to save the notebook, but running code will no longer work until the notebook is reopened.</p>
</blockquote>

<p>I'm using Mac OSX </p>
",901,-1,<macos><jupyter-notebook><jupyter-irkernel>,2018-03-19 17:12:42
49271206,Password for default system user created in JupyterHub,"<p>I am running Jupyter-Hub with default authenticator and default spawner. Logged in to Jupyter-Hub with system username (admin). I added a new user called user1 in JupyterHub web console. The user got created in both the machine and Jupyter-Hub server as I added c.Authenticator.create_system_users = True in the config file. When I checked the machine users, user1 is added because of the above property added in the config file. Can anyone tell me what is the password for user1 as there is no password option to be given in Jupyter-Hub? I tried with empty, user1, 12345 and 123456. </p>

<p>I was trying to switch user by using su command. i.e su user1. It asks for the password.  </p>

<p>when i cat /etc/shadow this is what i got,
user1:*:121212:0:99999:7:::</p>
",5620,2,<linux><jupyter-notebook><jupyter><jupyterhub>,2018-03-14 06:40:16
49244853,Embed Jupyter Notebook editor in webapp,"<p>Is there someone here to help me! 
I am working on a project in which my users must have their own space in oder to create, upload and run their notebook's script.I mean like I can do in my Jupyter notebook, I want give thema kind of code editor in which they will type or upload their code an I will run it in the background. I have seen that kaggle is doing soemthing like that and it seems they are using Jupyter?!
What I would like to know is that if I can come up with my problem with JupyterHub?
If yes can you give me more hints about it;;
If no, do you know, what kind of Techology can help me to achieve my goal?
Thank you</p>
",262,0,<jupyter-notebook><codemirror><jupyterhub><jupyter-irkernel><jupyter-lab>,2018-03-12 21:41:14
49176373,Pandas dataframe creating takes hours,"<p>I'm trying to create a dataframe panda object from a list of Schools objects that contain a row of information. The problem is that it is taking hours to complete. I'm running this on a Jupyter notebook and after hour of running it crashes.
I have an ordered list of School objects. The objects are as following:</p>

<pre><code>class School:
    def __init__(self, distance, row):
        self.distance_to_origin = distance
        self.row = row
        self.name = row['name']
        self.lat = row['lat']
        self.lon = row['lon']
    def get_distance(self):
        return self.distance_to_origin
    def get_lat_lon(self):
        return [self.lat, self.lat]
    def get_name(self):
        return self.name
    def get_row(self):
        return self.row
    def __str__(self):
        return str(self.distance_to_origin)
    def __repr__(self):
        return str(self.distance_to_origin)
</code></pre>

<p>I'm then trying to create a pandas dataframe from this list. The overall goal is to remove duplicate schools. A duplicate schools is one that is within a 1600 and has a similar name. </p>

<p>The code that removes schools is the following:</p>

<pre><code>def get_duplicates(ordered_list): 
    total_dups = 0;
    newDataFrame = pd.DataFrame()
    for i in trange(len(ordered_list)-1):
        newDataFrame = newDataFrame.append(ordered_list[i].get_row())
        ite = i+1    
        while( not (ite&gt;(len(ordered_list)-1)) and abs(ordered_list[i].get_distance()-ordered_list[ite].get_distance())&lt;1600):
            if(vincenty(ordered_list[i].get_lat_lon(),ordered_list[ite].get_lat_lon()).meters&lt;1600):
                if(fuzzy_match(ordered_list[i].get_name(), ordered_list[ite].get_name())): #it's a match, dont add
                    total_dups +=1

                else: # is within distane, name doesnt match
                    newDataFrame = newDataFrame.append(ordered_list[ite].get_row())
            else: # it is not within distance
                newDataFrame = newDataFrame.append(ordered_list[ite].get_row())
                #print(newlist[ite].get_name())
                    #print( newlist[ite].get_lat_lon())
            ite+=1
    print(total_dups)
    return newDataFrame
</code></pre>

<p><em>vincenty is from geopy.distance</em></p>

<p>fuzzy_match is:</p>

<pre><code>stemmer = stem.PorterStemmer()
def normalize(s):
    words = tokenize.wordpunct_tokenize(s.lower().strip())
    return ' '.join([stemmer.stem(w) for w in words])

def fuzzy_match(s1, s2, max_dist=3):
    return edit_distance(normalize(s1), normalize(s2)) &lt;= max_dist
</code></pre>

<p>edit_distance is from nltk.metrics </p>

<p>What am I doing wrong that is causing this to take hours? Is there a way to optimize this? Thanks!</p>
",50,0,<python><pandas><jupyter-notebook><jupyterhub>,2018-03-08 15:10:05
49167705,Is there any explanation for Token keyword in value of Authorization header?,"<p>Using jupyterhub 0.8.1. while making Rest-Api calls to Jupyterhub (for user/services and Servers management in Jupyterhub) we need to provide Authorization headers with Value </p>

<p>e.g. ""token e9f6bdea27b5e3d2bs906ad1de0d2739""</p>

<p>e.g. of header</p>

<pre><code>Authorization: token e9f6bdea27b5e3d2bs906ad1de0d2739
</code></pre>

<p>Is there any explanation for ""token"" keyword in value of header?</p>
",741,3,<python><rest><jupyter-notebook><tornado><jupyterhub>,2018-03-08 07:33:34
49154809,kernel crash after opening R in jupyter,"<p>I start using <code>R</code> in <code>jupyter</code>, and I tried to install the library <code>tidyverse</code> from anaconda prompt. since then whene ever I open <code>R</code> in <code>jupyter</code> the kernel crash. but python's kernel works.</p>
",83,1,<anaconda><jupyter-notebook><jupyter-irkernel>,2018-03-07 14:53:26
49143758,How can I prevent login box from including background image in modified JupyterHub?,"<p>I have deployed JupyterHub and am modifying the appearance. I have modified the login template <strong>(login.html)</strong> to display a background image. The problem is that the login box itself includes the background image.</p>

<h2>Looks like this:</h2>

<p><a href=""https://i.stack.imgur.com/WYtbN.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/WYtbN.jpg"" alt=""enter image description here""></a></p>

<h2>Login template code begins:</h2>

<pre><code>{% extends ""page.html"" %}

{% block login_widget %}

{% endblock %}

{% block main %}
{% block login %}
&lt;div id=""login-main"" class=""container""&gt;
{% if custom_html %}
{{ custom_html | safe }}
{% elif login_service %}
&lt;div class=""service-login""&gt;
  &lt;a role=""button"" class='btn btn-jupyter btn-lg' href='{{authenticator_login_url}}'&gt;
    Sign in with {{login_service}}
  &lt;/a&gt;
&lt;/div&gt;
{% else %}
</code></pre>

<h2>I insterted the following 6 lines:</h2>

<pre><code>&lt;style&gt;
body  {
    background-image: url(""static/images/login_back.jpg"");
    background-color: #cccccc;
}
&lt;/style&gt;
</code></pre>

<h2>Original template continues (much longer than what's included here):</h2>

<pre><code>&lt;form action=""{{login_url}}?next={{next}}"" method=""post"" role=""form""&gt;
  &lt;div class=""auth-form-header""&gt;
    iamdodge
  &lt;/div&gt;
  &lt;div class='auth-form-body'&gt;

    &lt;p id='insecure-login-warning' class='hidden'&gt;
    Warning: JupyterHub seems to be served over an unsecured HTTP connection.
    We strongly recommend enabling HTTPS for JupyterHub.
    &lt;/p&gt;
</code></pre>

<h2>Desired result:</h2>

<p>Again, my desired result is for the login box itself to <strong>not</strong> contain the background image. Ideally it would be a solid color. As you might guess the intent is to modify the colors of the login box to match the background, but that part I can handle.</p>

<p>Thanks for any advice. I'm happy to edit my question for clarity as needed.</p>
",157,0,<html><css><custom-controls><jupyterhub>,2018-03-07 03:44:48
49069121,Customising nbconvert with jupyterhub,"<p>I have a jupyter hubinstance running using the sudospawner to start individual notebook instances.  Mostly this is working very well.  However, I need to add various configuration commands to nbconvert so that html downloading from the notebook works correctly (hidden codecells, python markdown etc).</p>

<p>There appears to be no information about where the sudospawned jupyter instance picks up the nbconvert configuration from.  The <code>jupyterhub_config.py</code> file is in a directory <code>~jupyter/etc/jupyter</code> and so I have tried putting the <code>jupyter_nbconvert_config.py</code> and <code>jupyter_nbconvert_config.json</code> files there and they don't seem to be read.</p>

<p>Is there anything else I can try or can somebody point me to the right bit of the documentation?</p>
",121,0,<jupyterhub><nbconvert>,2018-03-02 12:24:45
49056028,Ipython Widgets (how to make a timer),"<p>I made this timer widget that works the way I want, but it locks up the notebook so I can't execute other code cells at the same time.</p>

<p>Here's an example of what I mean:</p>

<p><a href=""https://i.stack.imgur.com/1LYPf.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/1LYPf.png"" alt=""enter image description here""></a></p>

<p><strong>Any ideas for getting the widget to execute in the background?</strong></p>

<p>In case it helps, here is the code that makes the above widget:</p>

<pre class=""lang-python prettyprint-override""><code>import ipywidgets as widgets
from IPython.display import display, Javascript
from traitlets import Unicode, validate
import time

class Timer(widgets.DOMWidget):
    _view_name = Unicode('HelloView').tag(sync=True)
    _view_module = Unicode('hello').tag(sync=True)
    _view_module_version = Unicode('0.1.0').tag(sync=True)
    value = Unicode('00:00:00').tag(sync=True)

    def timeit(self, b, limit=180):
        #display(self)
        hours = 0
        mins = 0
        secs = 0
        for i in range(1,(limit*60+1)):
            if i%60 == 0:
                if i%3600 == 0:
                    secs = 0
                    mins = 0
                    hours += 1
                else:
                    secs = 0
                    mins += 1
            else:
                secs += 1
            time.sleep(1)
            self.value = '{hour:02}:{minute:02}:{second:02}'.format(hour=hours,minute=mins,second=secs)


def display_timer(timer):
    button = widgets.Button(description=""Start Timer"", button_style='info')
    display(button)
    display(timer)
    button.on_click(timer.timeit)
</code></pre>
",2174,0,<python><jupyter-notebook><ipython-parallel><ipywidgets>,2018-03-01 18:05:28
49037017,Make table columns width the same,"<p>I'm trying to make something like a table with ipywidgets.</p>

<p>Is it possible to make columns width the same?</p>

<p><img src=""https://user-images.githubusercontent.com/4003908/36807849-f897b8c2-1cd4-11e8-9620-d3c805df8eee.PNG"" alt=""1""></p>

<p>Also maybe there is better method to create table?</p>

<p>Here is the full code to reproduce:</p>

<pre><code>table_style = {'description_width': '150px'}
table_layout = {'width': '300px'}

table_header_1_widget = Text(
                            value='header 1',
                            placeholder='',
                            description='',
                            disabled=True,
                            layout=table_layout,
                            style=table_style
                            )
table_header_2_widget = Text(
                            value='header 2',
                            placeholder='',
                            description='',
                            disabled=True,
                            layout=table_layout,
                            style=table_style
                            )
table_header_3_widget = Text(
                            value='header 3',
                            placeholder='',
                            description='',
                            disabled=True,
                            layout=table_layout,
                            style=table_style
                            )

row_1_1_widget = BoundedFloatText(
                                        value=70.0,
                                        min=30.0,
                                        max=300.0,
                                        step=1.0,
                                        description='row 1:',
                                        layout=table_layout,
                                        style=table_style,
                                     )
row_1_2_widget = BoundedFloatText(
                                        value=80.0,
                                        min=30.0,
                                        max=300.0,
                                        step=1.0,
                                        description='',
                                        layout=table_layout,
                                        style=table_style
                                     )
row_1_3_widget = BoundedFloatText(
                                        value=90.0,
                                        min=30.0,
                                        max=300.0,
                                        step=1.0,
                                        description='',
                                        layout=table_layout,
                                        style=table_style
                                     )
row_2_1_widget = BoundedFloatText(
                                    value=20.0,
                                    min=1.0,
                                    max=100.0,
                                    step=1.0,
                                    description='row 2:',
                                    layout=table_layout,
                                    style=table_style
                                 )
row_2_2_widget = BoundedFloatText(
                                    value=30.0,
                                    min=1.0,
                                    max=100.0,
                                    step=1.0,
                                    description='',
                                    layout=table_layout,
                                    style=table_style
                                 )
row_2_3_widget = BoundedFloatText(
                                    value=40.0,
                                    min=1.0,
                                    max=100.0,
                                    step=1.0,
                                    description='',
                                    layout=table_layout,
                                    style=table_style
                                 )

hbox1 = HBox([table_header_1_widget, table_header_2_widget, table_header_3_widget])
hbox2 = HBox([row_1_1_widget, row_1_2_widget, row_1_3_widget])
hbox3 = HBox([row_2_1_widget, row_2_2_widget, row_2_3_widget])
ui = VBox([hbox1, hbox2, hbox3])

def func(p1,p2,p3,p4,p5,p6):
    print(p1,p2,p3,p4,p5,p6)

w = interactive_output(func,
                       { 
                         ""p1"":row_1_1_widget,
                         ""p2"":row_1_2_widget,
                         ""p3"":row_1_3_widget,
                         ""p4"":row_2_1_widget,
                         ""p5"":row_2_2_widget,
                         ""p6"":row_2_3_widget,
                       })

display(ui, w)
</code></pre>
",363,1,<jupyter-notebook><ipywidgets>,2018-02-28 19:19:15
48935736,Cannot import widget from IPython.html.widgets in Jupyter notebook,"<p>I am using Jupyter to run my code.</p>

<pre><code>from Ipython.html.widgets import interact, ButtonWidget
from IPython.display import display, clear_output
</code></pre>

<p>I am not getting the following error for that:</p>

<pre><code>ModuleNotFoundError                       Traceback (most recent call last)
&lt;ipython-input-6-3fa9b991f293&gt; in &lt;module&gt;()
----&gt; 1 from IPython.html.widgets import interact, ButtonWidget
  2 from IPython.display import display, clear_output

ModuleNotFoundError: No module named 'widgets'
</code></pre>

<p>I tried to replace <code>IPython.html.widgets</code> to <code>ipywidgets</code> and execute it. It threw me back:</p>

<pre><code>from ipywidgets import interact, ButtonWidget

ImportError: cannot import name ButtonWidget""
</code></pre>
",1990,2,<python><jupyter-notebook><jupyter><ipywidgets>,2018-02-22 19:30:52
48934114,ipywidgets widgets.IntRangeSlider text size,"<p>I'm doing some interactive plotting in jupyter notebook using <code>widgets.IntRangeSlider</code>, but text doesn't appear fully visible, how to set size of text area?</p>

<p>Here is a code sample:</p>

<pre><code>interactive_plot = interactive(plot_chart,
                                 val=widgets.IntRangeSlider(value=[0, 300], min=0, max=300, step=10,
                                                           description='Платеж, тыс. руб.',
                                                           continuous_update=False
                                                           )
                              )
</code></pre>
",1245,1,<jupyter-notebook><jupyter><ipywidgets>,2018-02-22 17:51:22
48857072,Jupyter Notebook JSON is invalid,"<p>I have installed Anaconda3 and am using an env called 'myenv'. In that env I have install ipywidgets</p>

<pre><code>conda install --name myenv -c conda-forge ipywidgets
</code></pre>

<p>I can see that ipywidgets is installed in this env</p>

<pre><code>ipywidgets                7.1.2                    py36_0    conda-forge
</code></pre>

<p>when I open a notebook however I get the following error each time:</p>

<pre><code>Notebook validation failed: 'execution_count' is a required property:
{
 ""data"": {
  ""text/html"": ""&lt;p&gt;Failed to display Jupyter Widget of type &lt;code&gt;HBox&lt;/code&gt;.&lt;/p&gt;\n&lt;p&gt;\n  If you're reading this message in the Jupyter Notebook or JupyterLab Notebook, it may mean\n  that the widgets JavaScript is still loading. If this message persists, it\n  likely means that the widgets JavaScript library is either not installed or\n  not enabled. See the &lt;a href=\""https://ipywidgets.readthedocs.io/en/stable/user_install.html\""&gt;Jupyter\n  Widgets Documentation&lt;/a&gt; for setup instructions.\n&lt;/p&gt;\n&lt;p&gt;\n  If you're reading this message in another frontend (for example, a static\n  rendering on GitHub or &lt;a href=\""https://nbviewer.jupyter.org/\""&gt;NBViewer&lt;/a&gt;),\n  it may mean that your frontend doesn't currently support widgets.\n&lt;/p&gt;\n"",
  ""text/plain"": ""HBox(children=(IntProgress(value=0, description='Epoch', max=2), HTML(value='')))""
 },
 ""metadata"": {},
 ""output_type"": ""execute_result""
}
</code></pre>

<p>And in the console:</p>

<pre><code>Notebook JSON is invalid: 'execution_count' is a required property
</code></pre>

<p>Any ideas on how to fix this</p>
",2062,0,<python><jupyter-notebook><ipywidgets>,2018-02-18 22:02:39
48844209,Pods on google kubernetes engine pending?,"<p>Trying to set up the jupyterhub server on Google Kubernetes following this <a href=""https://zero-to-jupyterhub.readthedocs.io/en/latest/create-k8s-cluster.html"" rel=""nofollow noreferrer"">tutorial</a>. Everything went through fine. But when I install jupyterhub/jupyterhub image with helm, it's always showing the pods are pending:</p>

<pre><code>kubectl --namespace=jupyter-server get pod

NAME                     READY     STATUS    RESTARTS   AGE
hub-6dbd4df8b8-nqvnf     0/1       Pending   0          17h
proxy-7bb666576c-fx726   0/2       Pending   0          17h
</code></pre>

<p>Even after 17 hours.</p>

<p>The <code>helm</code> version is <code>2.6.2</code> as suggested in the <a href=""https://zero-to-jupyterhub.readthedocs.io/en/latest/setup-helm.html"" rel=""nofollow noreferrer"">tutorial</a>. And I am using 3 <code>f1-micro</code> instances in the kubernetes cluster. Are these instances too small?  Thanks for any advice.</p>
",2989,1,<kubernetes><google-cloud-platform><jupyterhub>,2018-02-17 17:53:53
48686584,updating Bokeh scatter plots data source with ipython widgets,"<p>I am using an ipython widget to filter a pandas dataframe, and update the data source of some Bokeh scatter plots accordingly.</p>

<p>The code runs properly and there is no error, and still, changing filtering parameter values with the widget has not effect.</p>

<p>Can anyone tell me where the problem is? Thanks!</p>

<pre><code>TOOLS = ""box_select,lasso_select,help,hover""

source = ColumnDataSource(data=frame[['A',
                                   'B',
                                   'C'
                                  ]])

left = figure(tools=TOOLS,
          plot_width=300,
          plot_height=300)
left.circle('A', 'C', source=source, size=10)

right = figure(tools=TOOLS,
           plot_width=300,
           plot_height=300,
           title='A',
           x_axis_label = ""B"",
           y_axis_label = ""C"")
right.circle('B', 'C', source=source, size=10)

p = gridplot([[left, right]])

def update(tension):
    df = frame[frame['D']==tension]

source = ColumnDataSource(data=df[['A',
                                   'B',
                                   'C'
                                  ]])

left.circle('A', 'C', source=source, size=10)
right.circle('B', 'C', source=source, size=10)
p = gridplot([[left, right]])
print(df.shape, tension)
push_notebook()

show(p, notebook_handle=True)

interact(update, tension=frame.D.unique())
</code></pre>

<p>Selecting a value with the widget does change the value of ""tension"" and update the ""df"" dataframe, but has not impact on the plot.</p>
",1389,2,<pandas><jupyter-notebook><bokeh><ipywidgets>,2018-02-08 13:25:55
48639556,Installing packages in IRkernel on Jupyter Notebook,"<p>For the record, I have read the following threads and articles:</p>

<ul>
<li><a href=""https://www.anaconda.com/blog/developer-blog/conda-data-science/"" rel=""nofollow noreferrer"">Conda for Data Science</a></li>
<li><a href=""https://stackoverflow.com/questions/34705917/conda-how-to-install-r-packages-that-are-not-available-in-r-essentials"">How to install R packages that are not available in “R-essentials”?</a></li>
<li><a href=""https://stackoverflow.com/questions/42459423/cannot-install-r-packages-in-jupyter-notebook"">Cannot install R packages in Jupyter Notebook</a></li>
</ul>

<p>However, if I use typical R approach:</p>

<pre><code>.libPaths()
# '/home/ytu/anaconda3/lib/R/library'
install.packages(""RPostgreSQL"", lib = .libPaths(), repo = ""https://cloud.r-project.org/"")
</code></pre>

<p>It gives me:</p>

<blockquote>
  <p>Warning message in install.packages(""RPostgreSQL"", lib = .libPaths(), repo = ""<a href=""https://cloud.r-project.org/"" rel=""nofollow noreferrer"">https://cloud.r-project.org/</a>""):
    “installation of package ‘RPostgreSQL’ had non-zero exit status”Updating HTML index of packages in '.Library'
    Making 'packages.html' ... done</p>
</blockquote>

<p>I Googled for a while but cannot get around with this problem. I specified <em>both</em> library path and CRAN mirror link, but it still doesn't work for me.</p>

<p>If I follow instructions of conda approach from the webpage, Tracebacks just flush my terminal at the step of <code>conda build r-rpostgresql</code>:</p>

<blockquote>
  <p>Traceback (most recent call last):
    File ""/home/ytu/anaconda3/bin/conda-build"", line 11, in 
      sys.exit(main())
    File ""/home/ytu/anaconda3/lib/python3.6/site-packages/conda_build/cli/main_build.py"", line 413, in main
      execute(sys.argv[1:])
    File ""/home/ytu/anaconda3/lib/python3.6/site-packages/conda_build/cli/main_build.py"", line 404, in execute
      verify=args.verify)
    File ""/home/ytu/anaconda3/lib/python3.6/site-packages/conda_build/api.py"", line 193, in build
      need_source_download=need_source_download, config=config, variants=variants)
    File ""/home/ytu/anaconda3/lib/python3.6/site-packages/conda_build/build.py"", line 1944, in build_tree
      notest=notest,
    File ""/home/ytu/anaconda3/lib/python3.6/site-packages/conda_build/build.py"", line 1240, in build
      utils.check_call_env(cmd, env=env, cwd=src_dir)
    File ""/home/ytu/anaconda3/lib/python3.6/site-packages/conda_build/utils.py"", line 678, in check_call_env
      return _func_defaulting_env_to_os_environ(subprocess.check_call, *popenargs, **kwargs)
    File ""/home/ytu/anaconda3/lib/python3.6/site-packages/conda_build/utils.py"", line 674, in _func_defaulting_env_to_os_environ
      return func(_args, **kwargs)
    File ""/home/ytu/anaconda3/lib/python3.6/subprocess.py"", line 291, in check_call
      raise CalledProcessError(retcode, cmd)
  subprocess.CalledProcessError: Command '['/bin/bash', '-e', '/home/ytu/anaconda3/conda-bld/r-rpostgresql_1519543361442/work/conda_build.sh']' returned non-zero exit status 1.</p>
</blockquote>

<p>Can anyone give me some suggestions?</p>

<p>OS information by <code>uname -mrs</code>:</p>

<blockquote>
  <p>Linux 3.13.0-105-generic x86_64</p>
</blockquote>
",1408,2,<r><jupyter-notebook><package><jupyter-irkernel>,2018-02-06 09:27:00
48625893,Using bokeh server in jupyter notebook behind proxy / jupyterhub,"<p>I want to develop bokeh apps on a jupyter notebook instance that runs behind jupyterhub (AKA an authenticating proxy). I would like to have interactive bokeh apps calling back to the notebook kernel. I don't want to use the notebook widgets etc because I want to be able to export the notebook as a python file and have something I can serve with bokeh server. </p>

<p>The following code in my notebook gives an empty output with no errors:</p>

<pre><code>from bokeh.layouts import row
from bokeh.models.widgets import Button
from bokeh.io import show, output_notebook
from bokeh.application.handlers import FunctionHandler
from bokeh.application import Application
output_notebook()
# Create the Document Application
def modify_doc(doc):
    layout = row(Button(label=""Hello,""),Button(label=""world!""))
    doc.add_root(layout)

handler = FunctionHandler(modify_doc)
app = Application(handler)

# Output = BokehJS 0.12.10 successfully loaded.


# New cell
show(app, notebook_url=""my-jupyterhub-url.com:80"")

# Output = ""empty"" cell
</code></pre>

<p>Inspecting the cell a script tag has been added:</p>

<pre><code>&lt;script src=""http://my-jupyterhub-url.com:46249/autoload.js?bokeh-autoload-element=f8fa3bd0-9caf-473d-87a5-6c7b9680648b&amp;amp;bokeh-absolute-url=http://my-jupyterhub-url.com:46249"" id=""f8fa3bd0-9caf-473d-87a5-6c7b9680648b"" data-bokeh-model-id="""" data-bokeh-doc-id=""""&gt;&lt;/script&gt;
</code></pre>

<p>This will not work because port <code>46249</code> isn't open on the jupyterhub proxy. Also the path that routes to <strong>my</strong> jupyter instance is <code>my-jupyterhub-url.com/user/my-username/</code> so <code>my-jupyterhub-url.com/autoload.js</code> wouldn't route anywhere.</p>

<p>This <em>feels</em> like it could be a common requirement but a search hasn't revealed a solution to be yet.</p>

<p>Any ideas?</p>
",1539,3,<jupyter-notebook><jupyter><bokeh><jupyterhub>,2018-02-05 15:27:41
48476451,"Use ipython widgets to manipulate plots, that are constantly updated from within an infinite loop","<p>Within an ipython notebook, using Jupyter I try to do a calculation, thats running for an extended period of time in a while loop. I use pyplot to show the current status of my calculation and I would like to be able to communicate with the calculation and the plot via ipywidgets. For example this could be a stop button for the calculation, or a slider that adjusts the update rate of the plot. </p>

<p>Below I show a minimal example of a sin function, that is constantly plotted with different phase shifts. The start button starts the calculation, the stop button stops it and the slider should adjust the speed at which the whole thing is updated. The textbox shows the current phase shift. </p>

<pre><code>import numpy as np
import matplotlib.pyplot as plt
from ipywidgets import *
import IPython.display as display
import _thread
import time

%matplotlib nbagg

# set up widgets

buttons = widgets.ToggleButtons(
    options=['Stop', 'Start'],
    description='',
    disabled=False,
)

text = widgets.Text(
    value='0',
    placeholder='',
    description='Shift [rad]',
)

speed_slider = widgets.IntSlider(
    description = ""Speed"", 
    value = 100, 
    min = 10, 
    max = 500, 
    step = 10,
)

container = widgets.HBox(children = [buttons, speed_slider, text])

display.display(container)


# functions

def mySin(x, x0):
    return np.sin(x-x0)

def run_app(x, dx0):

    x0 = np.remainder(np.float(text.value), 2*np.pi)

    while buttons.value == buttons.options[1]:
        x0 = np.remainder(x0 + dx0, 2*np.pi)    
        line.set_ydata(mySin(x, x0))
        text.value = str(x0)
        time.sleep(speed_slider.value/1000)
        fig.canvas.draw()

# setup plot

N = 1000
x = np.linspace(0, 10*np.pi, N)
dx0 = 0.05*2*np.pi

fig, ax = plt.subplots(ncols = 1, nrows = 1, figsize = (8,3))
line    = ax.plot(x, mySin(x, np.float(text.value)))[0]

# act on button change

def buttons_on_changed(val):

    if buttons.value == buttons.options[1]:
        _thread.start_new_thread(run_app, (x, dx0))

buttons.observe(buttons_on_changed)
</code></pre>

<p>I try to run the function ""run_app"" in a new thread in order to make the interaction possible. I'm aware that _thread is deprecated, but I would like to know first, wether this is the right way to go. The example above works more or less, but the execution stops after a couple of seconds or when I do something else in the notebook (scrolling, clicking, ...). So my questions are the following:</p>

<ol>
<li>Is the Thread closing or just losing priority and why is it doing that?</li>
<li>Is that a good approach at all, or can that be achieved in an easier way. Unfortunately, I haven't found anything browsing the web.</li>
</ol>

<p>Thanks a lot,
Frank</p>
",424,3,<python-3.x><jupyter-notebook><ipython-parallel><ipywidgets>,2018-01-27 13:48:22
48439581,"Setting up jupyter-notebook ""Binder"" in Github","<p>I am trying to obtain the correct GitHub repo or URL from my GitHub repository for ""mybinder.org"" so that I can create a link in my repository to launch jupyter-notebook from within my repository. I seem to not be able to set things up correctly. </p>
",777,2,<python-3.x><jupyter-notebook><jupyterhub>,2018-01-25 09:31:04
48395428,Is Jupyter serverextension loaded when using Jupyterhub,"<p>I wrote a Jupyter servertextension. When I configured it use <code>jupyter serverextension enable --py my_module</code> and started Jupyter Notebook with <code>jupyter notebook</code>, the extension worked well. But when I configured it in the same way and then started Jupyter using <code>jupyterhub</code>, the serverextension would not be loaded. Is there anyone who knows well about jupyterhub configuring, please?</p>
",553,1,<jupyter-notebook><jupyter><jupyterhub>,2018-01-23 06:23:02
48394690,What exactly is the purpose of the JupyterLab extension of ipywidgets?,"<p>According to this: <a href=""https://ipywidgets.readthedocs.io/en/stable/user_install.html"" rel=""nofollow noreferrer"">https://ipywidgets.readthedocs.io/en/stable/user_install.html</a> , in order to use ipywidgets on a legacy Jupyter Notebook, one has to install the appropriate Jupyter Notebook extension like this:</p>

<pre><code>pip install ipywidgets
jupyter nbextension enable --py widgetsnbextension
</code></pre>

<p>Moreover, in order to use ipywidgets from a Notebook that runs through JupyterLab, one was to install the JupyterLab extension of ipywidgets using:</p>

<pre><code>jupyter labextension install @jupyter-widgets/jupyterlab-manager
</code></pre>

<p>Why is that the case? I was under the impression that the Notebook of JupyterLab is just a legacy Jupyter Notebook that is packed as an extension of JupyterLab. I tried to read through the code of the ipywidgets JupyterLab extension but I am not sure what is going on.</p>

<p>I would appreciate if someone could list the most important reasons as to why installing just the Jupyter Notebook extension of ipywidgets is not enough when running Notebooks through JupyterLab.</p>

<p>Thanks in advance.</p>
",2437,3,<jupyter-notebook><ipywidgets><jupyter-lab>,2018-01-23 05:16:50
48366017,Python ipywidgets: create a savefig button,"<p>I am trying to create a button from <code>ipywidgets.Button</code> instance that will save a specific figure once it's pressed. But using the following Ipython notebook leads to multiple file savings once the button has been hit:</p>

<pre><code>import numpy as np
from ipywidgets import interact, interactive,FloatSlider,IntSlider,Button
from IPython.display import display
import matplotlib.pylab as plt
%matplotlib inline
button = Button(description=""Savefig"")
display(button)
def plotfields(p,a):
    fig,ax = plt.subplots(1,2,figsize=(4*2,4),sharey=True)
    X,Y=np.meshgrid(np.linspace(0,100,100),np.linspace(0,100,100))
    b1 = np.sin(p*X)*np.cos(a*Y)
    b2 = np.sin(a*X)*np.cos(p*Y)
    ax[0].imshow(b1,aspect='auto')
    ax[1].imshow(b2,aspect='auto')
    ax[0].set_ylabel(r'$t$')
    ax[0].set_xlabel(r'$x$')
    ax[1].set_xlabel(r'$x$')
    plt.tight_layout()
    def on_button_clicked(b):
        fig.savefig(""test_p{:.3s}_a{:.3s}.eps"".format(str(int(100*p)),str(int(100*a))))
        fig.savefig(""test_p{:.3s}_a{:.3s}.png"".format(str(int(100*p)),str(int(100*a))))
    button.on_click(on_button_clicked)

p_w  = FloatSlider(min=0.01, max=1, step=0.01, value=0.01)
a_w  = FloatSlider(min=0.01, max=1, step=0.01, value=0.01)
interact(plotfields,p=p_w,a=a_w)
</code></pre>
",2157,1,<python><matplotlib><jupyter-notebook><ipywidgets>,2018-01-21 10:53:33
48301865,jupyterhub and conda environments,"<p>I'm a little bit confused about relations between conda environments and jupyterhub.</p>

<p>As jupyterhub documentation says it can be installed from conda. So it is possible to use some conda envirnment (for example environment ""root"") and do ""conda install jupyterhub"" from it.</p>

<p>In the same environment will ""live"" jupyter. And installation of nb_conda from in this environment gives ability to select kernels and other conda environments in notebooks.</p>

<p>My question is about software like nbextensions and ipywidgets. Where should they be? In the same environment as jupyterhub or in an environment correponds new notebook?</p>
",2364,2,<jupyter><ipywidgets><jupyterhub>,2018-01-17 13:03:35
48285124,Uncheck other checkbox on one checked,"<p>I wrote this code (actually using Jupyter-Notebook):</p>

<pre><code>import random
from ipywidgets import widgets


for ind in range(0,10):
    print('Some text'+str(ind))
    cb_inner = []
    a = random.randint(0,3)
    for el in range(0,3):
        cb_value = True if el == a else False
        A = widgets.Checkbox(value=cb_value, description='cb'+str(el))
        cb_inner.append(A)
    for_box_list = cb_inner
    box = widgets.HBox(for_box_list)
    display(box)
    print('---'*41)
</code></pre>

<p>Now I have text strings and line of chackboxes for each. Only one checkbox active at the time. If I check another checkbox both of them become checked.  What I want to do: if I check another checkbox, first one become disabled automatically (for group of checkboxes for every text message).</p>

<p>I suppose I need to create event for this. I found this:
<a href=""https://stackoverflow.com/questions/44667052/python-ipywidgets-checkbox-events"">Python ipywidgets checkbox events</a></p>

<p>But I can't understand how to implement it for all my boxes? </p>
",1001,0,<python><events><widget><jupyter-notebook><ipywidgets>,2018-01-16 15:51:30
48281492,jupyter setup i18n on exiting notebook,"<p>I have been trying to translate jupyter notebook interface with my native language, using existing i18n implementation. I have already created translation files just like readme advised and now i want to add it to jupyter.</p>

<p><a href=""https://github.com/jupyter/notebook/tree/master/notebook/i18n"" rel=""nofollow noreferrer"">https://github.com/jupyter/notebook/tree/master/notebook/i18n</a></p>

<p>but i can't find /notebook/i18n/ folder on my computer ( Ubuntu 16.04 ).Do i have to install jupyter one more time or can i just add translate files to already existing jupyter installation on my machine and run it?</p>
",312,0,<ipython><jupyter-notebook><jupyter><jupyterhub>,2018-01-16 12:38:21
48190027,unable to download nbextensions' javascript and css file,"<p>I am trying to install nbextensions to my jupyter notebook. When opening the notebook, I can see the tab for the nbextensions but is is empty. There is a reload button moving but nothing ever shows.
I went to command prompt and the following commands were executed successfully:</p>

<pre><code>pip install jupyter_contrib_nbextensions
pip install https://github.com/ipython-contrib/jupyter_contrib_nbextensions/tarball/master
conda install -c conda-forge jupyter_contrib_nbextensions
</code></pre>

<p>But when I try to execute</p>

<pre><code>jupyter contrib nbextension install --user
</code></pre>

<p>it seems like all extensions validate but when writing them there is a multitude of errors.</p>

<pre><code>[I 09:49:34 InstallContribNbextensionsApp] - Validating: ok
[I 09:49:34 InstallContribNbextensionsApp] Installing jupyter_contrib_nbextensions items to config in C:\Users\sammy\.jupyter
Enabling: jupyter_nbextensions_configurator
- Writing config: C:\Users\sammy\.jupyter
    - Validating...
      jupyter_nbextensions_configurator  ok
Enabling notebook nbextension nbextensions_configurator/config_menu/main...
Traceback (most recent call last):
  File ""C:\Users\sammy\Anaconda3\Scripts\jupyter-contrib-script.py"", line 5, in &lt;module&gt;
    sys.exit(jupyter_contrib_core.application.main())
  File ""C:\Users\sammy\Anaconda3\lib\site-packages\jupyter_core\application.py"", line 266, in launch_instance
    return super(JupyterApp, cls).launch_instance(argv=argv, **kwargs)
  File ""C:\Users\sammy\Anaconda3\lib\site-packages\traitlets\config\application.py"", line 658, in launch_instance
    app.start()
  File ""C:\Users\sammy\Anaconda3\lib\site-packages\jupyter_contrib_core\application.py"", line 50, in start
    super(JupyterContribApp, self).start()
  File ""C:\Users\sammy\Anaconda3\lib\site-packages\jupyter_core\application.py"", line 255, in start
    self.subapp.start()
  File ""C:\Users\sammy\Anaconda3\lib\site-packages\jupyter_contrib_nbextensions\application.py"", line 226, in start
    super(ContribNbextensionsApp, self).start()
  File ""C:\Users\sammy\Anaconda3\lib\site-packages\jupyter_core\application.py"", line 255, in start
    self.subapp.start()
  File ""C:\Users\sammy\Anaconda3\lib\site-packages\jupyter_contrib_nbextensions\application.py"", line 175, in start
    toggle_install_config(self._toggle_value, **kwargs)
  File ""C:\Users\sammy\Anaconda3\lib\site-packages\jupyter_contrib_nbextensions\install.py"", line 103, in toggle_install_config
    configurator_app.start()
  File ""C:\Users\sammy\Anaconda3\lib\site-packages\jupyter_nbextensions_configurator\application.py"", line 77, in start
    user=self.user, sys_prefix=self.sys_prefix)
  File ""C:\Users\sammy\Anaconda3\lib\site-packages\notebook\nbextensions.py"", line 351, in _set_nbextension_state
    cm.update(section, {""load_extensions"": {require: state}})
  File ""C:\Users\sammy\Anaconda3\lib\site-packages\traitlets\config\manager.py"", line 85, in update
    data = self.get(section_name)
  File ""C:\Users\sammy\Anaconda3\lib\site-packages\traitlets\config\manager.py"", line 63, in get
    return json.load(f)
  File ""C:\Users\sammy\Anaconda3\lib\json\__init__.py"", line 299, in load
    parse_constant=parse_constant, object_pairs_hook=object_pairs_hook, **kw)
  File ""C:\Users\sammy\Anaconda3\lib\json\__init__.py"", line 354, in loads
    return _default_decoder.decode(s)
  File ""C:\Users\sammy\Anaconda3\lib\json\decoder.py"", line 339, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File ""C:\Users\sammy\Anaconda3\lib\json\decoder.py"", line 357, in raw_decode
    raise JSONDecodeError(""Expecting value"", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 6 column 22 (char 137)
</code></pre>

<p>Any idea where the issue could be? Many thanks!</p>
",319,1,<python><jupyter-notebook><jupyter><jupyter-irkernel><jupyter-console>,2018-01-10 14:51:11
48189838,Disable external IP on GKE nodes,"<p>I'm using <a href=""http://zero-to-jupyterhub.readthedocs.io/en/latest/="" rel=""nofollow noreferrer"">Jupyterhub + Kubernetes</a> to provide a hosted development environment for a large programming class (>100 students). It's running on top of GKE with autoscaling enabled. As additional students log in, more nodes are dynamically added to the pool to handle the increased demand.</p>

<p>I'm running into an issue where the node pool is exhausting the project quota of external IPs, effectively limiting the size of the pool to 8 concurrent nodes. The exact error is <a href=""https://serverfault.com/questions/869418/google-cloud-in-use-addresses-quota-exceeded/869429"">this one</a>. The nodes sit behind a reverse proxy for communicating with end user; as far as I can tell, the only use of these public IPs is to enable direct SSH into each individual node. I don't need or even want this functionality, since it presents a unnecessary attack surface.</p>

<p>How can I disable the automatic assignment of ephemeral IPs to these worker nodes? There must be a way since the docs for GKE suggest that autoscaling can grow up to something like 1000 nodes. I don't see how this could be possible if they are all subject to the same tiny external IP quota.</p>
",3192,4,<kubernetes><jupyterhub><google-kubernetes-engine>,2018-01-10 14:41:10
48122744,How to download all files and folder hierarchy from Jupyter Notebook?,"<p>If I want to download all of the files and folder hierarchy from Jupyter Notebook as shown in the picture, do you know if there is anyway to do that by simple click other than go to every single file in every folder to open the file and click download hundreds of times?</p>

<p><a href=""https://i.stack.imgur.com/B83hD.jpg"" rel=""noreferrer""><img src=""https://i.stack.imgur.com/B83hD.jpg"" alt=""enter image description here""></a></p>

<p>Note: This Jupyter Notebook is created by the online course teacher, so it's not opened from my local Acaconda app but the online course webpage instead. Downloading is for future memory refreshing whenever needed.</p>
",19848,17,<jupyter-notebook><jupyter><file-management><jupyterhub>,2018-01-05 23:32:21
48071985,JupyterHub LocalAuthenticator does not work,"<p>I am trying to configure and understnad how the most common Jupyter authenticators work. However, I am having trouble understanding how <code>LocalAuthenticator</code> works and how it differs from <code>PAMAuthenticator</code>. The Jupyter documentation states the following: <code>The LocalAuthenticator is a special kind of authenticator that has the ability to manage users on the local system.</code>. Given that I am running everything locally, on my laptop, my uderstading is that I can use the same credentials I use to login to my Linux user. However this doesn't work. The JupyterHub server gives the following message: <code>Failed login for &lt;user&gt;</code>. </p>

<p>My JupyterHub configuration file only contains the following line:</p>

<p><code>c.JupyterHub.authenticator_class = 'jupyterhub.auth.LocalAuthenticator'</code>.</p>

<p>If I change the above line to:</p>

<p><code>c.JupyterHub.authenticator_class = 'jupyterhub.auth.PAMAuthenticator'</code></p>

<p>then everything works just fine and the login is succesfull.</p>

<p>Can someone explain me the differences of the two authenticators and why the <code>LocalAuthenticator</code> does not work in my case? The only difference I am aware of is that (according to the documentation) the <code>LocalAuthenticator</code> creates new users if they don't exist. However, after setting <code>c.LocalAuthenticator.create_system_users = True</code> and trying to login with a non-existent user, no new user is created.</p>

<p>Thank you.</p>

<p>PS: My OS is Debian Testing and I have installed JupyterHub using the instructions provided on its GitHub page.</p>
",1574,5,<authentication><pam><jupyterhub>,2018-01-03 06:02:10
48066866,Using Vi Keys in a Jupyter Console,"<p>I would like to know how to use vi-like key bindings in a Jupyter console -- not just with ipython, but with any kernel.  </p>

<p><a href=""https://stackoverflow.com/questions/10394302/how-do-i-use-vi-keys-in-ipython-under-nix#38329940"">Previous answers</a> show this is possible for ipython. So, perhaps there is some flag or config file where this can be specified. Jupyter does not appear to have an equivalent to <code>ipython profile</code> and giving the same flagged variables as in ipython does not work.</p>
",644,5,<vim><jupyter><vi><jupyter-irkernel><jupyter-console>,2018-01-02 19:41:59
48057252,how to make decision tree look nice in R and/or Jupyter?,"<p>I'm very new to R, and decision trees in general, so sorry if this is a dumb question.</p>

<p>I am trying to make a decision tree in R.  It's working, but when it does not look nice. It looks smushed.  I know it looks better when I expand the image, but it doesn't look good in Jupyter either.</p>

<p>Here's my code:</p>

<pre><code>library(titanic)
library(party)
data(""titanic_train"")
surv_tree &lt;- ctree(formula = as.factor(Survived) ~ as.factor(Pclass) + as.factor(Sex) + Age, data = titanic_train)
plot(surv_tree)
</code></pre>

<p>Here's a picture of what I mean:</p>

<p><a href=""https://imgur.com/a/UdPnE"" rel=""nofollow noreferrer"">https://imgur.com/a/UdPnE</a></p>

<p>I want to use rpart but it's not as accurate.  It's not treating ""Pclass"" as a categorical variable and it's annoying and inaccurate. </p>
",505,1,<r><jupyter-notebook><jupyter><decision-tree><jupyter-irkernel>,2018-01-02 07:37:54
48020345,"How to interactively update IPywidgets container (VBox, HBox)?","<p>When I try to update a container that contains other dynamically created container it doesn't change.
I tried different options but in the current one I defined the variables holding the containers before the update function and call this function whenever a change occurs:</p>

<pre><code>history_array = []
fig_array = []
history_vbox = widgets.VBox(history_array)
viz_vbox = widgets.VBox(fig_array)
left_box = widgets.HBox([])
gui = widgets.HBox([left_box, viz_vbox])

# updates the gui
def update_gui():
    global gui
    gui = widgets.HBox([left_box, viz_vbox])
    display(gui)
</code></pre>

<p>later in the script I change the containers globally like:</p>

<pre><code>left_box = widgets.VBox([input_box, eq_out0, eqchoice, history_vbox])
</code></pre>

<p>I tried to display the containers before the function only changed the container without display() and tried many other options but it still only shows an empty list.</p>

<p>I put the notebook on github IpySci.ipynb shows the current state with the describet probelm IpySci-Copy1.ipynb my earliest version that show that the basic function are working as intended. </p>

<p><a href=""https://github.com/PMK89/IpySci/"" rel=""nofollow noreferrer"">github.com/PMK89/IpySci/</a></p>
",867,4,<python><jupyter-notebook><ipython-notebook><ipywidgets>,2017-12-29 09:31:37
48003022,jupyter notebook and github.,"<p>I have made a jupyter notebook and want to commit and push on github. I have windows operating system and never worked on github. Can anyone please help me out about how can I do it from scratch?</p>
",19882,10,<git><github><jupyter-notebook><jupyter-irkernel>,2017-12-28 06:57:48
47980908,How to display interact() in tab in ipywidgets Python,"<p>I am trying to display an interact function in an ipywidget tab. The code below is my attempt to do this but I only see the dropdown list but the plot is not shown. I also included the interact() function in isolation to show the way it works out of the tab. Any help on this is much appreciated. Thank you.</p>

<pre><code>from ipywidgets import *
import seaborn.apionly as sns
df = sns.load_dataset('iris')

#plot
def plot_image(x):

    data = df

    if x != 'Select':
        xplot = data[x]
        sns.distplot(xplot)
        plt.show()

#define widgets
x = widgets.Dropdown(
        options=df_cols,
        value=df_cols[0],
        description='X'
    )

x.set_title  = 'x'

#assign widgets to tabs
tab_visualise = widgets.HBox([x])

#create tabs
tab_nest = widgets.Tab()
tab_nest.children = [tab_visualise]
tab_nest.set_title(0, 'Visualise')
tab_nest

#interact function in isolation
interact(plot_image, x = x)
</code></pre>
",4441,2,<python><tabs><widget><ipywidgets>,2017-12-26 15:57:45
47979746,Update ipywidget dropdown list from function in python,"<p>I am new to Python and I want to create an interactive dropdown list from an ipywidget. The main purpose is to update the dropdown list based on two other widgets. In the code below, the widget <strong>plotType</strong> will be updated based on the input from the widgets <strong>headers_x</strong> and <strong>headers_y</strong> (both refer to the dataframe columns selected for plotting). If both <strong>headers_x</strong> and <strong>headers_y</strong> have the <em>Select</em> option, then the <strong>plotType</strong> needs to show ""<em>Make selection</em>"". But if the <strong>headers_x</strong> and <strong>headers_y</strong> have other options selected (columns from the dataframe), then the <strong>plotType</strong> needs to change accordingly. If the <strong>headers_x</strong> and <strong>headers_y</strong> are both numeric, then the <strong>plotType</strong> needs to show: <em>numericVsNumeric</em>, but if <strong>headers_x</strong> is categorical and <strong>headers_y</strong> is numeric, then <strong>plotType</strong> needs to show '<em>catergoricalVsNumeric</em>' I have attempted my solution as follows, but the options in the plotType widget do not update. Any help is much appreciated. Thank you.</p>

<pre><code>from ipywidgets import *
import seaborn.apionly as sns
df = sns.load_dataset('iris')

#identifies the columns in the dataframe
df_cols = list(df.columns.values)
df_cols.insert(0, 'Select')
str_cols = list(df.select_dtypes(include=['object']).columns.values)
str_cols.insert(0, 'Select')

#plot function
def set_plot(headers_x, headers_y, plotType):
    data = df
    #plotting functions to be added

#function to specify the type of plot based on users input
def set_plotType():
    data = df
        #If no selection has been made
    if headers_x.value == 'Select' and headers_y.value == 'Select':
        init = list(['Make Selection'])
    else:
        #if x and y are both numeric
        if data[headers_x.value].dtype == np.float and data[headers_y.value].dtype == np.float:
            init = list(['NumericVsNumeric'])
            #if x is categorical and y is numeric
        elif data[headers_x.value].dtype == np.object and data[headers_y.value].dtype == np.float:
            init = list(['CategoricalVsNumeric'])

    return init


#define widgets
headers_x = widgets.Dropdown(
        options=df_cols,
        value=df_cols[0],
        description='X'
    )

headers_x.set_title  = 'headers_x'

headers_y = widgets.Dropdown(
        options=df_cols,
        value=df_cols[0],
        description='Y'
    )

headers_y.set_title  = 'headers_y'

plotType = widgets.Dropdown(
        options=set_plotType(),
        #value=df_cols[0],
        description='Plot Type'
    )

plotType.set_title  = 'plotType'


#interact function
interact(set_plot, headers_x = headers_x, headers_y = headers_y, plotType = plotType)
</code></pre>
",5456,3,<python><widget><dropdown><ipywidgets>,2017-12-26 14:09:21
47978586,How to config startup script for jupyterhub?,"<p>I have set up a jupyterhub python notebook server on ubuntu. I want to add some startup scripts so that when an user is logged into notebook server, some packages and modules will be automatically loaded. Is there any configure file where I can specify startup scripts? Thanks a lot for help!</p>
",1045,3,<python><jupyterhub>,2017-12-26 12:21:06
47944641,Python3 : Print returned values from the function in another file,"<p>I am working on a Jupyterhub project and beginner Python user. I would like to print returned values from the function in another <code>py</code> file for dubug. </p>

<p><code>a.py</code>:</p>

<pre><code>class TestSpawner(SlurmSpawner):
    def _options_form_default(self):
        return """"""
        &lt;label for=""queue""&gt;node type&lt;/label&gt;
        &lt;select name=""queue""&gt;
          &lt;option value=""standard""&gt;standard&lt;/option&gt;
          &lt;option value=""dev-test""&gt;TEST&lt;/option&gt;
        &lt;/select&gt;
        &lt;label for=""runtime""&gt;Job duration&lt;/label&gt;
        &lt;select name=""runtime""&gt;
          &lt;option value=""1:00:00""&gt;1 hour&lt;/option&gt;
          &lt;option value=""2:00:00""&gt;2 hours&lt;/option&gt;
        &lt;/select&gt;
        """"""
    def options_from_form(self, formdata):
        print ( formdata.get('queue', [''])[0].strip())
        options = {}
        options['queue'] = formdata.get('queue', [''])[0].strip()
        options['runtime'] = formdata.get('runtime', [''])[0].strip()
        print (options)
        return options
</code></pre>

<p><code>b.py</code>:</p>

<pre><code>import sys
from a import *
print (options)
print (queue)
</code></pre>

<p>I can see the queue and options values using <code>print (options)</code> in <code>a.py</code>, but I am not sure how I can print the values in <code>b.py</code> and make sure it gets correct values from <code>a.py</code>. Please help me and Thanks.</p>
",774,1,<python><python-3.x><jupyterhub>,2017-12-22 16:34:32
47878009,Jupyter: How to update plot on button click (ipywidgets),"<p>I am using Jupyter and trying to make my plots interactive.</p>

<p>So I have a plot. I have a ipywidgets button.</p>

<p>On button click I need to update plot, like interact do with sliders.</p>

<p>But I can't.</p>

<p>It works only if matplotlib uses 'notebook' backend, but it looks terrible. At same time interact works with any kind of plots. Are there any way to reproduce this, not using interact?</p>

<pre><code>#this works fine! But toolbar near the graph is terible
#%matplotlib notebook 

#this does not work
%matplotlib inline

from matplotlib.pyplot import *
button = ipywidgets.Button(description=""Button"")

def on_button_clicked(b):
    ax.plot([1,2],[2,1])

button.on_click(on_button_clicked)

display(button)

ax = gca()
ax.plot([1,2],[1,2])
show()
</code></pre>
",11658,6,<python><matplotlib><jupyter><ipywidgets>,2017-12-18 23:38:05
47877089,Jupyterhub using sudo without root: can't run sudospawner without pw,"<p>I'm struggling to fire up jupyterhub, running with limited sudo rights, without root privileges. If I understand correctly, this makes it possible to run notebook servers as real system users on a shared system without running the Hub itself as root.</p>

<p>I followed the <a href=""https://github.com/jupyterhub/jupyterhub/wiki/Using-sudo-to-run-JupyterHub-without-root-privileges"" rel=""nofollow noreferrer"">following steps</a>, but for someone reason the following command keeps giving me the error that my new user (rhea) is required to give password:</p>

<pre><code>sudo -u rhea sudo -n -u $USER /usr/local/bin/sudospawner --help
# sudo: a password is required
</code></pre>

<p>I added the following lines to <code>/etc/sudoers</code> (edited using <code>visudo</code>):</p>

<pre><code>Cmnd_Alias JUPYTER_CMD = /usr/local/bin/sudospawner
rhea ALL=(%jupyterhub) NOPASSWD:JUPYTER_CMD
</code></pre>

<p>And added a new user to the group jupyterhub:</p>

<pre><code>adduser -G jupyterhub newuser
</code></pre>

<p>I'm struggling to see why rhea is not allowed to run sudospawner. If I simply run <code>sudo /usr/local/bin/sudospawner --help</code> I do get the desired result.</p>

<p>Running on Ubuntu 16.04 EC2.</p>

<p>Help and advice on this is highly appreciated!</p>
",1606,1,<python><linux><ubuntu><jupyter-notebook><jupyterhub>,2017-12-18 22:04:04
47876691,"Jupyter: how to print to cell in function, called back from JavaScript?","<p>my question is about interactive Jupyter notebooks.</p>

<p>I want to display JavaScript button and print something to cell as result of button click.</p>

<p>We can do this easely with ipywidgets:</p>

<pre><code>def OnClick(b=None): print 'qq'
b = widgets.Button(description='Button')
b.on_click(OnClick)
display(b)
</code></pre>

<p>But when we jumps to pure JavaScript things goes wrong. I.e. I have JavaScript Button, in on_click() event handler I use kernel interaction like:</p>

<pre><code>var kernel = IPython.notebook.kernel;
kernel.execute('onClick()');         
</code></pre>

<p>Callback is called successfuly (I checked by beep), but print produce no output in cell, where by button is displayed. So I suppose there should be some magic (like everyting in Python world!) to acceess print area, could you please help me to cast it?</p>
",1673,1,<ipython><jupyter-notebook><ipython-notebook><jupyter><ipywidgets>,2017-12-18 21:30:52
47871403,How to let Jupyter pick a different IRkernel?,"<p>I had problems with the anaconda R (especially installing packages lately caused a problem I could not solve where any attempt to install a package led to non-zero exiting status). Installing a separate R distribution and let Rstudio pick that one and not the one given by anaconda solved all problems for the last months.</p>

<p>Now I want to work with Jupyter and also use nteract or hydrogen from Atom. However, Jupyter uses the R from anaconda and so does then nteract/hydrogen. Therefore, I have the problem again being unable to install 75% of the packages for unknown reasons. I could of course try to find the cause of that BUT I also invested hours into that so I think the easiest/fastest way is to let Jupyter pick the same R that Rstudio uses since I have a fully working environment there...</p>

<p>Can anybody please explain to me how I can make jupyter pick the IRkernel that I installed in Rstudio instead of the anaconda IRkernel? Just deleting the anaconda kernel did not work of course. I also tried <code>IRkernel::installspec()</code> as suggested by the docs.</p>
",183,0,<r><jupyter-notebook><jupyter-irkernel>,2017-12-18 15:20:30
47826117,"Really confused with Jupyter Notebook, Lab, extensions, and ipywidgets","<p>I want to create an interactive JupyterLab Notebook application, and I need to create a series of custom Widgets. So I started looking into this matter, and the more I look the more confused I become. To make things simple I will ask a bunch of simple questions:</p>

<ol>
<li>One of the most common ways to use widgets on Jupyter Notebooks is to use the ipywidgets library. Right?</li>
<li>Unlike the classic Notebook, the Notebook of JupyterLab cannot render JavaScript directly. As a result, the tutorials about custom widget creation in the ipywidgets docs are impossible to run on JupyterLab. Right?</li>
<li>If one wants to run JavaScript on the Notebook of JupyterLab she or he will have to do it through an extension. In case of ipywidgets, one will have to install @jupyter-widgets/jupyterlab-manager. Right?</li>
<li>If you want to write a custom widget using the ipywidgets library, there are two GitHub projects that you could use as a starting point: widget-cookiecutter and widget-ts-cookiecutter. To my understanding, the former is based on JavaScript while the latter on TypeScript. Also, the first appears to be inactive for quite some type, while the second is more active. Is the JupyterWidgets team planning to focus on TypeScript? Which one should I follow?</li>
<li>The cookiecutter projects do not really have a documentation. I am really confused and struggling to understand their code. Sure, I can copy-paste them and start messing around until I figure out how the whole thing works and what are the ""hooks"" or ""entry points"" in the code, but I would really appreciate if someone could give me some additional pointers.</li>
<li>Is the JupyterWidgets an ""official"" project of the Jupyter project? Given the very small number of members in the project I wonder how safe is to base my work on ipywidgets. Keep in mind that the ""DeclarativeWidgets"" project has abandoned long time ago.</li>
<li>Are there other libraries that implement more widgets than the ones found in ipywidgets and also run on JupyterLab?</li>
<li>I want to create a Web application for server-side data processing. My initial goal was to create an app/service that does not expect from the user to do any coding, and performs everything through the use of html/JavaScript widgets. That could be implemented using an Angular/React front-end and a Python/Django/Flask back-end. However, later on, I realised that there are cases where the user may want to do some additional custom/arbitrary processing on the server. This is why I considered JupyterLab. I wonder if it would be best and if it is possible to just create, for example, a normal Angular/Python font/back-end, and somehow wrap this up in a JupyterLab extension that will provide a mechanism to access the data from this app/service and bring it to the notebook for further processing.</li>
</ol>

<p>Thanks in advance</p>
",3765,25,<jupyter-notebook><ipywidgets><jupyter-lab>,2017-12-15 05:09:57
47660103,interact ipywidget min and max,"<p>I would like to set a min and max value for <code>interact</code> from <code>ipywidgets</code>.
<a href=""http://ipywidgets.readthedocs.io/en/stable/examples/Using%20Interact.html#Basic-interact"" rel=""nofollow noreferrer"">This</a> is all I could find concerning the use of <code>interact</code>. I am essentially trying to do the first example, however with a specified range of values for the slider.</p>
",2654,1,<python><ipywidgets>,2017-12-05 18:11:05
47639036,Increase margins between plot and dropdown widget in Jupyter notebook.,"<p>I'm basically just trying to place some room between my plots and a dropdown widget in a Jupyter notebook. Currently the plots are covering up the dropdown boxes. Here is link to the notebook on Kaggle-  <a href=""https://www.kaggle.com/samdotson/exploratory-analysis-with-geopandas/"" rel=""nofollow noreferrer"">https://www.kaggle.com/samdotson/exploratory-analysis-with-geopandas/</a>, a screenshot and some example code. I'm aware that the interactive component is disabled in Kaggle, so you'll have to fork it if you want run the code to make the widgets appear. </p>

<p>Additionally if you have any suggestions for how to enable the user interactivity, that would be incredibly helpful. For now I'm just trying to resolve the margin issue.      </p>

<p><a href=""https://i.stack.imgur.com/MHYwG.jpg"" rel=""nofollow noreferrer"">Screenshot example</a></p>

<pre><code>def f(x='Median Age-Total Population', y='Median Value (Dollars)'):
    x_abbr = labels.loc[labels['label'] == x , 'abbreviated'].iloc[0]
    y_abbr = labels.loc[labels['label'] == y , 'abbreviated'].iloc[0] 
    x_values= ((Lincoln_blk_groups.iloc[:,Lincoln_blk_groups.columns== x_abbr]).values)
    y_values= ((Lincoln_blk_groups.iloc[:,Lincoln_blk_groups.columns== y_abbr]).values)
    regressor = LinearRegression()
    regressor.fit(x_values, y_values)
    fig=plt.figure(figsize=(10, 10), dpi= 80, facecolor='w', edgecolor='k')
    plt.scatter(x_values, y_values, color = 'red')
    plt.plot(x_values, regressor.predict(x_values), color = 'blue')
    plt.title(x + "" versus "" + y +"" in Lincoln, NE"", fontsize=25 )
    plt.xlabel(x , fontsize=15)
    plt.ylabel( y , fontsize=15)
    plt.show()
interact(f,x=labels.iloc[:,1], y=labels.iloc[:,1])
</code></pre>
",221,0,<python><matplotlib><jupyter><kaggle><ipywidgets>,2017-12-04 17:43:08
47609384,cannot install r packages on IR kernel (Jupyter notebook),"<p>My company has a Jupyter Notebook cloud that can let me run R on it; however, I cannot install packages such as 'tm' or 'rpart'on it. Can anyone help me to solve it? Thank you very much!</p>

<p>The code and warning messages are shown as following:</p>

<pre><code>install.packages(""tm"", lib = '/home/jiafei', repos= 'http://cran.us.r-project.org')

Warning message in install.packages(""tm"", lib = ""/home/jiafei"", repos = ""http://cran.us.r-project.org""):
“installation of package ‘xml2’ had non-zero exit status”Warning message in install.packages(""tm"", lib = ""/home/jiafei"", repos = ""http://cran.us.r-project.org""):
“installation of package ‘tm’ had non-zero exit status”
</code></pre>
",317,1,<r><jupyter-notebook><jupyter-irkernel>,2017-12-02 15:22:40
47605853,500 error in Jupyterhub,"<p>I configed the jupyterhub as the official site given,</p>

<pre><code>c.JupyterHub.hub_ip = '0.0.0.0'
c.JupyterHub.hub_port = 8888
c.PAMAuthenticator.encoding = 'utf8'
c.LocalAuthenticator.create_system_users = True
c.Authenticator.admin_users = {'arvin'}
c.Spawner.cmd=['jupyterhub-singleuser']
c.JupyterHub.ssl_cert = '/mycert'
c.JupyterHub.ssl_key = '/mykey'
</code></pre>

<p>and when I entered the users' page(logged in) and I get this:</p>

<pre><code>500 : Internal Server Error
Failed to reach your server. Please try again later. Contact admin if the issue persists.
You can try restarting your server from the home page.
</code></pre>

<p>Could anyone give me some solution?
I've tried some but they're seems not woking.</p>

<p>These are my logs.</p>

<pre><code>arvin@arvin-Linux-PC:/etc/jupyter$ sudo jupyterhub -f jupyterhub_config.py
[sudo] password for arvin:
[I 2017-12-02 15:43:53.892 JupyterHub app:834] Loading cookie_secret from /etc/jupyter/jupyterhub_cookie_secret
[I 2017-12-02 15:43:53.921 JupyterHub app:983] Not using whitelist. Any authenticated user will be allowed.
[I 2017-12-02 15:43:53.934 JupyterHub app:1528] Hub API listening on http://*:8080/hub/
[W 2017-12-02 15:43:53.935 JupyterHub proxy:415]
    Generating CONFIGPROXY_AUTH_TOKEN. Restarting the Hub will require restarting the proxy.
    Set CONFIGPROXY_AUTH_TOKEN env or JupyterHub.proxy_auth_token config to avoid this message.

[I 2017-12-02 15:43:53.935 JupyterHub proxy:458] Starting proxy @ https://0.0.0.0:8888/
15:43:54.044 - info: [ConfigProxy] Proxying https://0.0.0.0:8888 to (no default)
15:43:54.047 - info: [ConfigProxy] Proxy API at http://127.0.0.1:8001/api/routes
15:43:54.052 - error: [ConfigProxy] Uncaught Exception Error: listen EADDRINUSE 0.0.0.0:8888
    at Object.exports._errnoException (util.js:870:11)
    at exports._exceptionWithHostPort (util.js:893:20)
    at Server._listen2 (net.js:1237:14)
    at listen (net.js:1273:10)
    at net.js:1382:9
    at nextTickCallbackWith3Args (node.js:452:9)
    at process._tickCallback (node.js:358:17)
    at Function.Module.runMain (module.js:444:11)
    at startup (node.js:136:18)
    at node.js:966:3
[W 2017-12-02 15:43:54.132 JupyterHub proxy:304] Adding missing default route
15:43:54.132 - info: [ConfigProxy] 200 GET /api/routes
[I 2017-12-02 15:43:54.132 JupyterHub proxy:370] Adding default route for Hub: / =&gt; http://*:8080
15:43:54.176 - info: [ConfigProxy] Adding route / -&gt; http://*:8080
15:43:54.178 - info: [ConfigProxy] 201 POST /api/routes/
[I 2017-12-02 15:43:54.178 JupyterHub app:1581] JupyterHub is now running at https://0.0.0.0:8888/
[W 2017-12-02 15:44:05.453 JupyterHub base:202] Invalid or expired cookie token
[W 2017-12-02 15:44:05.455 JupyterHub base:202] Invalid or expired cookie token
[I 2017-12-02 15:44:05.455 JupyterHub log:122] 302 GET /hub/user/arvin/ → /hub/login?next=%2Fhub%2Fuser%2Farvin%2F (@192.168.1.106) 3.19ms
[I 2017-12-02 15:44:05.517 JupyterHub log:122] 200 GET /hub/login?next=%2Fhub%2Fuser%2Farvin%2F (@192.168.1.106) 33.93ms
[I 2017-12-02 15:44:11.466 JupyterHub base:346] User logged in: arvin
Last login: Sat Dec  2 15:42:25 CST 2017
Welcome to Ubuntu 16.04.3 LTS (GNU/Linux 4.4.0-101-generic x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/advantage

12 packages can be updated.
9 updates are security updates.

[I 2017-12-02 15:44:11.766 JupyterHub spawner:978] Spawning jupyterhub-singleuser --port=41813 '--notebook-dir=""~/""'
[W 2017-12-02 15:44:11.996 SingleUserNotebookApp configurable:168] Config option `open_browser` not recognized by `SingleUserNotebookApp`.  Did you mean `browser`?
[I 2017-12-02 15:44:12.337 SingleUserNotebookApp singleuser:365] Starting jupyterhub-singleuser server version 0.8.1
[I 2017-12-02 15:44:12.340 JupyterHub log:122] 200 GET /hub/api (@::1) 0.74ms
[I 2017-12-02 15:44:12.341 SingleUserNotebookApp notebookapp:1445] Serving notebooks from local directory: /home/arvin
[I 2017-12-02 15:44:12.341 SingleUserNotebookApp notebookapp:1445] 0 active kernels
[I 2017-12-02 15:44:12.341 SingleUserNotebookApp notebookapp:1445] The Jupyter Notebook is running at:
[I 2017-12-02 15:44:12.341 SingleUserNotebookApp notebookapp:1445] https://[all ip addresses on your system]:41813/user/arvin/
[I 2017-12-02 15:44:12.341 SingleUserNotebookApp notebookapp:1446] Use Control-C to stop this server and shut down all kernels (twice to skip confirmation).
[W 2017-12-02 15:44:12.444 SingleUserNotebookApp iostream:1327] SSL Error on 8 ('127.0.0.1', 52568): [SSL: WRONG_VERSION_NUMBER] wrong version number (_ssl.c:645)
[W 2017-12-02 15:44:13.393 SingleUserNotebookApp iostream:1327] SSL Error on 8 ('127.0.0.1', 52636): [SSL: WRONG_VERSION_NUMBER] wrong version number (_ssl.c:645)
[W 2017-12-02 15:44:14.074 SingleUserNotebookApp iostream:1327] SSL Error on 8 ('127.0.0.1', 52688): [SSL: WRONG_VERSION_NUMBER] wrong version number (_ssl.c:645)
[W 2017-12-02 15:44:16.292 SingleUserNotebookApp iostream:1327] SSL Error on 8 ('127.0.0.1', 52838): [SSL: WRONG_VERSION_NUMBER] wrong version number (_ssl.c:645)
[W 2017-12-02 15:44:16.326 SingleUserNotebookApp iostream:1327] SSL Error on 8 ('127.0.0.1', 52844): [SSL: WRONG_VERSION_NUMBER] wrong version number (_ssl.c:645)
[W 2017-12-02 15:44:21.332 SingleUserNotebookApp iostream:1327] SSL Error on 8 ('127.0.0.1', 53182): [SSL: WRONG_VERSION_NUMBER] wrong version number (_ssl.c:645)
[W 2017-12-02 15:44:21.829 JupyterHub base:500] User arvin is slow to become responsive (timeout=10)
[I 2017-12-02 15:44:21.830 JupyterHub log:122] 302 POST /hub/login?next=%2Fhub%2Fuser%2Farvin%2F → /hub/user/arvin/ (@192.168.1.106) 10378.18ms
[W 2017-12-02 15:44:26.336 SingleUserNotebookApp iostream:1327] SSL Error on 8 ('127.0.0.1', 53520): [SSL: WRONG_VERSION_NUMBER] wrong version number (_ssl.c:645)
[W 2017-12-02 15:44:31.340 SingleUserNotebookApp iostream:1327] SSL Error on 8 ('127.0.0.1', 53862): [SSL: WRONG_VERSION_NUMBER] wrong version number (_ssl.c:645)
[I 2017-12-02 15:44:31.910 JupyterHub base:722] Pending spawn for arvin didn't finish in 10.0 seconds
[I 2017-12-02 15:44:31.910 JupyterHub base:727] arvin is pending spawn
[I 2017-12-02 15:44:31.914 JupyterHub log:122] 200 GET /hub/user/arvin/ (arvin@192.168.1.106) 10012.39ms
[W 2017-12-02 15:44:36.344 SingleUserNotebookApp iostream:1327] SSL Error on 8 ('127.0.0.1', 54196): [SSL: WRONG_VERSION_NUMBER] wrong version number (_ssl.c:645)
[W 2017-12-02 15:44:41.352 SingleUserNotebookApp iostream:1327] SSL Error on 8 ('127.0.0.1', 54530): [SSL: WRONG_VERSION_NUMBER] wrong version number (_ssl.c:645)
[W 2017-12-02 15:44:43.471 SingleUserNotebookApp iostream:1327] SSL Error on 8 ('127.0.0.1', 54670): [SSL: WRONG_VERSION_NUMBER] wrong version number (_ssl.c:645)
[W 2017-12-02 15:44:43.471 JupyterHub user:458] arvin's server never showed up at http://127.0.0.1:41813/user/arvin/ after 30 seconds. Giving up
[I 2017-12-02 15:44:43.472 SingleUserNotebookApp notebookapp:1382] Shutting down 0 kernels
[E 2017-12-02 15:44:43.901 JupyterHub gen:914] Exception in Future &lt;tornado.concurrent.Future object at 0x7faef8a44908&gt; after timeout
    Traceback (most recent call last):
      File ""/usr/local/lib/python3.5/dist-packages/tornado/gen.py"", line 910, in error_callback
        future.result()
      File ""/usr/local/lib/python3.5/dist-packages/jupyterhub/handlers/base.py"", line 445, in finish_user_spawn
        yield spawn_future
      File ""/usr/local/lib/python3.5/dist-packages/jupyterhub/user.py"", line 476, in spawn
        raise e
      File ""/usr/local/lib/python3.5/dist-packages/jupyterhub/user.py"", line 450, in spawn
        resp = yield server.wait_up(http=True, timeout=spawner.http_timeout)
      File ""/usr/local/lib/python3.5/dist-packages/jupyterhub/utils.py"", line 180, in wait_for_http_server
        timeout=timeout
      File ""/usr/local/lib/python3.5/dist-packages/jupyterhub/utils.py"", line 135, in exponential_backoff
        raise TimeoutError(fail_message)
    TimeoutError: Server at http://127.0.0.1:41813/user/arvin/ didn't respond in 30 seconds

[E 2017-12-02 15:44:43.902 JupyterHub gen:914] Exception in Future &lt;tornado.concurrent.Future object at 0x7faef8a44908&gt; after timeout
    Traceback (most recent call last):
      File ""/usr/local/lib/python3.5/dist-packages/tornado/gen.py"", line 910, in error_callback
        future.result()
      File ""/usr/local/lib/python3.5/dist-packages/jupyterhub/handlers/base.py"", line 445, in finish_user_spawn
        yield spawn_future
      File ""/usr/local/lib/python3.5/dist-packages/jupyterhub/user.py"", line 476, in spawn
        raise e
      File ""/usr/local/lib/python3.5/dist-packages/jupyterhub/user.py"", line 450, in spawn
        resp = yield server.wait_up(http=True, timeout=spawner.http_timeout)
      File ""/usr/local/lib/python3.5/dist-packages/jupyterhub/utils.py"", line 180, in wait_for_http_server
        timeout=timeout
      File ""/usr/local/lib/python3.5/dist-packages/jupyterhub/utils.py"", line 135, in exponential_backoff
        raise TimeoutError(fail_message)
    TimeoutError: Server at http://127.0.0.1:41813/user/arvin/ didn't respond in 30 seconds

[E 2017-12-02 15:44:43.903 JupyterHub web:1590] Uncaught exception GET /hub/user/arvin/ (192.168.1.106)
    HTTPServerRequest(protocol='http', host='192.168.1.119:8080', method='GET', uri='/hub/user/arvin/', version='HTTP/1.1', remote_ip='192.168.1.106', headers={'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/62.0.3202.94 Safari/537.36', 'If-None-Match': '""5fdb62c9031609084027381f99480f6927c4813f""', 'Accept-Language': 'zh-CN,zh;q=0.9,en;q=0.8', 'Accept-Encoding': 'gzip, deflate', 'Cache-Control': 'max-age=0', 'Dnt': '1', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8', 'Host': '192.168.1.119:8080', 'Referer': 'http://192.168.1.119:8080/hub/user/arvin/', 'Cookie': 'jupyter-hub-token=""2|1:0|10:1512200651|17:jupyter-hub-token|44:ZTRmNGY0OGY0Y2RiNDYzZmJjNjc4YzlhZTA2NTFiYjI=|f6535cb1c54e41b6a43f4e438059b10feee0198ae1e77ec8d0fe90fe6a51c26d""', 'Connection': 'keep-alive', 'Upgrade-Insecure-Requests': '1'})
    Traceback (most recent call last):
      File ""/usr/local/lib/python3.5/dist-packages/tornado/web.py"", line 1511, in _execute
        result = yield result
      File ""/usr/local/lib/python3.5/dist-packages/jupyterhub/handlers/base.py"", line 720, in get
        yield gen.with_timeout(timedelta(seconds=self.slow_spawn_timeout), spawner._spawn_future)
      File ""/usr/local/lib/python3.5/dist-packages/jupyterhub/handlers/base.py"", line 445, in finish_user_spawn
        yield spawn_future
      File ""/usr/local/lib/python3.5/dist-packages/jupyterhub/user.py"", line 476, in spawn
        raise e
      File ""/usr/local/lib/python3.5/dist-packages/jupyterhub/user.py"", line 450, in spawn
        resp = yield server.wait_up(http=True, timeout=spawner.http_timeout)
      File ""/usr/local/lib/python3.5/dist-packages/jupyterhub/utils.py"", line 180, in wait_for_http_server
        timeout=timeout
      File ""/usr/local/lib/python3.5/dist-packages/jupyterhub/utils.py"", line 135, in exponential_backoff
        raise TimeoutError(fail_message)
    TimeoutError: Server at http://127.0.0.1:41813/user/arvin/ didn't respond in 30 seconds

[E 2017-12-02 15:44:43.912 JupyterHub log:114] {
      ""User-Agent"": ""Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/62.0.3202.94 Safari/537.36"",
      ""If-None-Match"": ""\""5fdb62c9031609084027381f99480f6927c4813f\"""",
      ""Accept-Language"": ""zh-CN,zh;q=0.9,en;q=0.8"",
      ""Accept-Encoding"": ""gzip, deflate"",
      ""Cache-Control"": ""max-age=0"",
      ""Dnt"": ""1"",
      ""Accept"": ""text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8"",
      ""Host"": ""192.168.1.119:8080"",
      ""Referer"": ""http://192.168.1.119:8080/hub/user/arvin/"",
      ""Cookie"": ""jupyter-hub-token=\""2|1:0|10:1512200651|17:jupyter-hub-token|44:ZTRmNGY0OGY0Y2RiNDYzZmJjNjc4YzlhZTA2NTFiYjI=|f6535cb1c54e41b6a43f4e438059b10feee0198ae1e77ec8d0fe90fe6a51c26d\"""",
      ""Connection"": ""keep-alive"",
      ""Upgrade-Insecure-Requests"": ""1""
    }
[E 2017-12-02 15:44:43.912 JupyterHub log:122] 500 GET /hub/user/arvin/ (arvin@192.168.1.106) 6508.46ms
</code></pre>

<p>I've noticed that there are some problem that the spawner may not be reached but I have really no idea about what to do even I've read the official docs.</p>
",4069,0,<jupyterhub>,2017-12-02 08:01:51
47590939,Abstractions & Design Patterns for Complex IPython Widget Dashboards,"<p>The IPywidgets manual is very helpful for the most part, but is lacking some explanation about how one goes about creating complex dashboards. In particular, I am trying to figure our how to:</p>

<ol>
<li>Design abstractions to assist in building easily extendable dashboards which contain multiple interdependent widgets, some of which hide/show other widgets.</li>
<li>Do this in a way which would allow me to <em>get</em> and <em>set</em> the state of all the widgets as a <code>dict</code> so I could subsequently implement buttons to save and load the configuration of my dashboard to a JSON file.</li>
</ol>

<p>To make this question more concrete, I designed a minimal example of my current approach, which based on <a href=""https://github.com/jupyter-widgets/ipywidgets/issues/1818"" rel=""nofollow noreferrer"">a design pattern</a> I received from @jasongrout on the <a href=""https://gitter.im/jupyter-widgets/Lobby"" rel=""nofollow noreferrer"">Jupyter Widgets channel on Gitter</a>; when answering, please demonstrate your design pattern by reimplementing this example in it, ensuring the two criteria above are clearly fulfilled:</p>

<pre><code>from IPython.display import display
import IPython.display as ipd
import ipywidgets as widgets
import matplotlib.pyplot as plt

class ModelUI:

    def __init__(self):

        self.par = dict()
        self.initUI()

    def initUI(self):

        self.funcPars = widgets.VBox()

        self.initLinear()
        self.initQuadratic()
        self.initFunc()
        self.initButton()
        self.initOutput()    

        self.controls = widgets.HBox([
            self.func, 
            self.funcPars, 
            self.plot
        ])
        self.UI = widgets.VBox([
            self.controls, 
            self.output
        ])

    def initFunc(self):

        self.func = widgets.Dropdown(
            description=""Function:"", 
            options=[
                ""Linear"", 
                ""Quadratic""
            ])
        self.func.observe(self.updateFunc, ""value"")

        self.updateFunc(None)

    def initButton(self):

        self.plot = widgets.Button(description=""Plot"")
        self.plot.on_click(self.plotFunction)

    def updateFunc(self, change):

        if self.func.value == ""Linear"":
            self.funcPars.children = self.linPars
            self.par['func'] = ""Linear""
        elif self.func.value == ""Quadratic"":
            self.funcPars.children = self.quadPars
            self.par['func'] = ""Quadratic""
        else:
            pass

    def initLinear(self):

        self.m = widgets.FloatSlider(
            description=""m"", 
            min=-10, max=10, value=2)
        self.k = widgets.FloatSlider(
            description=""k"", 
            min=-10, max=10, value=1)
        self.linPars = [self.m, self.k]

        self.m.observe(self.updateLinear, ""value"")
        self.k.observe(self.updateLinear, ""value"")

        self.updateLinear(None)

    def updateLinear(self, change):

        self.par['m'] = self.m.value
        self.par['k'] = self.k.value

    def initQuadratic(self):

        self.a = widgets.FloatSlider(
            description=""a"", 
            min=-10, max=10, value=1)
        self.b = widgets.FloatSlider(
            description=""b"", 
            min=-10, max=10, value=2)
        self.c = widgets.FloatSlider(
            description=""c"", 
            min=-10, max=10, value=3)
        self.quadPars = [self.a, self.b, self.c]

        self.a.observe(self.updateQuadratic, ""value"")
        self.b.observe(self.updateQuadratic, ""value"")
        self.c.observe(self.updateQuadratic, ""value"")

        self.updateQuadratic(None)

    def updateQuadratic(self, change):

        self.par['a'] = self.a.value
        self.par['b'] = self.b.value
        self.par['c'] = self.c.value

    def initOutput(self):

        self.output = widgets.Output()
        self.plotFunction(None)    

    def plotFunction(self, change):

        self.function = {
            ""Linear"": lambda x: self.par['m']*x + self.par['k'],
            ""Quadratic"": lambda x: self.par['a']*x**2 + self.par['b']*x + self.par['c']
            }
        with self.output:
            ipd.clear_output()
            xvals = [ i/10 for i in range(-100,100)]
            yvals = list(map(self.function[self.par['func']], xvals))
            plt.plot(xvals,yvals)
            plt.show()

    def _ipython_display_(self):

        display(self.UI)

ModelUI()
</code></pre>
",240,2,<ipython><jupyter><ipywidgets>,2017-12-01 10:04:54
47577096,Python ipywidget: Align description and boxes,"<p>I want to align boxes and description in my code. Please let me know if there is a work around. </p>

<p><a href=""https://i.stack.imgur.com/KeWjk.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/KeWjk.png"" alt=""enter image description here""></a>
Code snippet below:</p>

<pre><code>def helper(a,b,c):
            print (a)
TextField1= Text(value='', placeholder='Type client table name',description='Client List Name:',disabled=False)
TextField2= Text(value='', placeholder='Type flagged column name',description='Flagged column name:',disabled=False)
TextField3= Text(value='', placeholder='Type columns name',description='Columns name:',disabled=False)
x=interactive(helper,a=TextField1,b=TextField2,c=TextField3)
display(x)
</code></pre>

<p>I tried to reference another stack page and tried a code that worked for one of the users which was as below</p>

<p><a href=""https://i.stack.imgur.com/gY0uR.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/gY0uR.png"" alt=""enter image description here""></a></p>

<p>But it did not seem to be working for me. </p>

<p><a href=""https://i.stack.imgur.com/oxdkL.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/oxdkL.png"" alt=""enter image description here""></a></p>

<p>code snippet below:</p>

<pre><code>from ipywidgets import widgets
from IPython.display import Javascript, display

align_kw = dict(
    _css = (('.widget-label', 'min-width', '20ex'),),
    margin = '0px 0px 5px 12px'
)
platform_ui = widgets.Dropdown(description = 'platform',options=['iPhone','iPad','Android'], **align_kw)
event_type_ui = widgets.Text(value='open', description='Test Event', **align_kw)
os_version_ui = widgets.Text(value='iOS9', description='Operating System', **align_kw)
refresh_ui = widgets.Checkbox(description='Force Refresh', **align_kw)

display(platform_ui,event_type_ui,os_version_ui,refresh_ui)
</code></pre>
",1722,1,<python><css><ipywidgets>,2017-11-30 15:35:04
47564423,Display tables below images in Jupyter Notebook,"<p>I am using <code>ipywidgets</code> to display a carousel of pictures in Jupyter notebook. I would like to put a table that corresponds to each picture below the image. I am struggling to do this and any advice would be appreciated. </p>

<p>Below is example code of what I have done so far. I need help displaying the <code>tmp</code> data frame below each image:</p>

<pre><code>from ipywidgets import *
import pandas as pd
import requests
from ipywidgets import *
from IPython.display import display, HTML

tmp = pd.DataFrame({'metric': ['A', 'B', 'C'],
                   'value': range(3)})

box_layout = Layout(overflow_x='scroll',
                   width='1000px',
                   flex_direction='row',
                   display='flex')

item = Image(value=requests.get(
    'http://www.godalmingmuseum.org.uk/uploads/images/People/Jekyll/Jekyll,_Gertrude,_middle_aged_Y.JPG'
).content)
item
items = [item, item, item,item, item, item]

carousel = Box(children=items, layout=box_layout)
VBox([Label('Images:'), carousel]) 
</code></pre>
",658,1,<python><python-2.7><jupyter-notebook><ipywidgets>,2017-11-30 01:17:08
47372795,js-widgets not working after installation of nbextensions,"<p><a href=""https://i.stack.imgur.com/UHVVC.png"" rel=""nofollow noreferrer"">jupyter notebook nbextension tab screen snip</a></p>

<p>I have installed jupyter nbextensions configurator and jupyter contrib nbextensions and the js-widgets extension no longer functions correctly in my code. I haven't activated any extensions, how would I be able to make js-widgets work again?</p>

<p>I tried pip uninstalling both of these pakages, and js-widgets still didn't work correctly.</p>

<p>Any help would be greatly appreciated in order to get js-widgets to work again.</p>

<p>Thanks.</p>
",262,1,<jupyter-notebook><ipywidgets>,2017-11-19 01:14:10
47269168,Ipywidgets with Google Colaboratory,"<p>I am trying to use ipywidgets with Google Colaboratory, and (as with <a href=""https://stackoverflow.com/questions/47230817/plotly-notebook-mode-with-google-colaboratory"">plotly</a>) the simplest <a href=""http://ipywidgets.readthedocs.io/en/stable/examples/Using%20Interact.html"" rel=""noreferrer"">example from the docs</a> does not work. The code below shows a slider in a local notebook but only returns 10 and <code>&lt;function __main__.f&gt;</code> in a Google notebook.</p>

<pre><code>!pip install ipywidgets

from ipywidgets import interact

def f(x):
  return x

interact(f, x=10)
</code></pre>

<p>Is there another custom initialization that I could use to enable the widgets?</p>
",12205,28,<jupyter-notebook><ipywidgets><google-colaboratory>,2017-11-13 16:33:18
47194815,How to make one slider/widget update multiple plots in Bokeh/Python/Pywidgets?,"<p>Using Jupyter notebook, <strong>how to have one slider interactively update two independent functions in two figures?</strong>
There is a link to a similar question without answer <a href=""https://stackoverflow.com/questions/43963402/how-to-change-multiple-interactive-plots-with-a-single-input-in-python"">here</a>.</p>

<p>Using Bokeh <a href=""https://bokeh.pydata.org/en/latest/docs/user_guide/interaction/callbacks.html"" rel=""nofollow noreferrer"">Javascript Callback slider power example</a>, I tried adding a second set of variables x and y but keep using the same callback. The graphs do  not update anymore.
Any suggestions? I also was trying to do the same with Pywidget but did not get anywhere. I would prefer using IPywidget if there is a solution there.
The end goal is to have a dashboard with an input composed of multiple slider, and an output composed of multiple plots all dependent on the same set of sliders input.</p>

<pre><code>from bokeh.layouts import column
from bokeh.models import CustomJS, ColumnDataSource, Slider
from bokeh.plotting import Figure, output_notebook, show

output_notebook()

x = [x*0.005 for x in range(0, 200)]
y = x
x1 = [x1*0.005 for x1 in range(0, 200)]
y1 = x1

source = ColumnDataSource(data=dict(x=x, y=y))
source1 = ColumnDataSource(data=dict(x1=x1,y1=y1))

plot = Figure(plot_width=400, plot_height=400)
plot.line('x', 'y', source=source, line_width=3, line_alpha=0.6)

plot1 = Figure(plot_width=400, plot_height=400)
plot1.line('x1', 'y1', source=source1, line_width=3, line_alpha=0.6)

callback = CustomJS(args=dict(source=source, source1=source1), code=""""""
    var data = source.data;
    var data1 = source1.data;
    var f1 =cb_obj.value
    var f = cb_obj.value
    x = data['x']
    y = data['y']
    x1 = data['x1']
    y1 = data['y1']

    for (i = 0; i &lt; x.length; i++) {
        y[i] = Math.pow(x[i], f)
    }
    for (i = 0; i &lt; x1.length; i++) {
        y1[i] = Math.pow(x1[i], f1)
    }
    source.change.emit();
    source1.change.emit();
"""""")

slider = Slider(start=0.1, end=4, value=1, step=.1, title=""power"")
slider.js_on_change('value', callback)

layout = column(slider, plot,plot1)

show(layout)
</code></pre>

<p>A snapshot of the two graphs with the slider is shown below. Slider is not updating any graph.
<a href=""https://i.stack.imgur.com/poKMB.png"" rel=""nofollow noreferrer"">Slider and two plots</a>.</p>
",1961,3,<javascript><python><jupyter-notebook><bokeh><ipywidgets>,2017-11-09 05:55:03
47193448,Use Jupyterhub+DockerSpawner+all-spark-notebook with the existing spark cluster,"<p>I set up JupyterHub + DockerSpawner + all-spark-notebook in one machine, and I have an existing spark cluster. </p>

<p>I can log in and start server, however how to make the notebook(Toree) visit the existing spark cluster? </p>

<p>I googled and found someone extended all-spark-notebook docker image and reinstall Toree. </p>

<p><code>https://github.com/jupyter/docker-stacks/wiki/Docker-Recipes#use-jupyterall-spark-notebooks-with-an-existing-sparkyarn-cluster</code></p>

<p>There are any easier ways to achieve the goal? Can DockerSpawner accept any arguments which could be transferred to Toree kernel?</p>
",810,1,<apache-spark><jupyter-notebook><jupyterhub><jupyter-scala>,2017-11-09 03:31:58
47112156,What is default username and password for JupyterHub?,"<p>I have installed JupyterHub and ran it. When I opened it's page, the following window appears:</p>

<p><a href=""https://i.stack.imgur.com/aDa8F.png"" rel=""noreferrer""><img src=""https://i.stack.imgur.com/aDa8F.png"" alt=""enter image description here""></a></p>

<p>What to enter there? Documentation is silent.</p>
",23845,28,<jupyterhub>,2017-11-04 15:11:20
47100059,How to display ipywidgets.Dropdown without a value selected,"<p>No question anymore. The problem is older ipywidgets version behaviour that looks to be fixed in version 7.</p>

<p>The ipywidgets.Dropdown on its own picks up the first value out of the options list.<br/>I would like to display the widget without a value selected.<br/>The first value in the list is a pointless default that still needs to be reflected down the workflow path. I read a discussion where a developer went as far as adding empty string item into the list. That fixes the dropdown look (to some extent though as the placeholder attribute is still ignored) but adds a silly selectable empty item to the dropdown list. Adding dummy ""None"" item to the list is not much better solution.Setting value to None results in the ""Invalid selection"" exception.<br/>I do not understand why the ipywidgets.Dropdown does not follow approach of the simpler widgets where empty value is allowed and placeholder text is dispalyed to prompt the user to select something.<br/>Is there a way to make the widget selection not required? Some attribute setting I am not aware of? If that is impossible then what is the simplest possible workaround?</p>
",10370,3,<jupyter-notebook><ipywidgets>,2017-11-03 16:09:33
47079883,sudospawner not detected by jupyterhub,"<p>I have installed sudospawner for jupyterhub with: 
<code>sudo pip3 install sudospawner</code>
Then followed the instructions to setup the sudoers and added to my jupyterhub_config.py:</p>

<pre><code>c.JupyterHub.spawner_class = 'sudospawner.SudoSpawner'
c.SudoSpawner.sudospawner_path = '/usr/local/bin/sudospawner'
</code></pre>

<p>However, it seems that the jupyterhub that I installed does not detect it since when I start the hub: </p>

<pre><code>[C 2017-11-02 15:37:07.028 JupyterHub application:90] Bad config encountered during initialization:
[C 2017-11-02 15:37:07.029 JupyterHub application:91] The 'spawner_class' trait of &lt;jupyterhub.app.JupyterHub object at 0x7f3fa0e24080&gt; instance must be a type, but 'sudospawner.SudoSpawner' could not be imported
</code></pre>

<p>(ends with <code>'sudospawner.SudoSpawner' could not be imported</code>)</p>

<p>the version of jupyter hub is 0.8.0</p>

<p>It seems that I am missing something in the install or integration of sudospawner. </p>

<p>Any ideas ? 
Thx</p>
",860,0,<jupyter><jupyterhub>,2017-11-02 16:12:26
47047376,Can Jupyter run a separate R notebook from within a Python notebook?,"<p>I have a Jupyter notebook (python3) which is a batch job -- it runs three separate python3 notebooks using <code>%run</code>. I want to invoke a fourth Jupyter R-kernel notebook from my batch.</p>

<p><strong>Is there a way to execute an external R notebook from a Python notebook in Jupyter / iPython?</strong></p>

<p>Current setup:</p>

<p><code>run_all.ipynb</code>: (python3 kernel)</p>

<pre><code>%run '1_py3.ipynb'
%run '2_py3.ipynb'
%run '3_py3.ipynb'
%run '4_R.ipynb'
</code></pre>

<p>The three python3 notebooks run correctly. The R notebook runs correctly when opened separately in Jupyter -- however it fails when called using <code>%run</code> from <code>run_all.ipynb</code>. It is interpreted as python, and the cell gives a python error on the first line:</p>

<blockquote>
<pre><code>cacheDir &lt;- ""caches""
</code></pre>
  
  <p>TypeError: bad operand type for unary -: 'str'</p>
</blockquote>

<p>I am interested in any solution for running a separate R notebook from a python notebook -- Jupyter magic, shell, python library, et cetera. I would also be interested in a workaround -- e.g. a method (like a shell script) that would run all four notebooks (both python3 and R) even if this can't be done from inside a python3 notebook. </p>

<p>(NOTE: I already understand how to embed <code>%%R</code> in a cell. This is not what I am trying to do. I want to call a complete separate R notebook.)</p>
",1637,6,<r><ipython><jupyter-notebook><ipython-notebook><jupyter-irkernel>,2017-11-01 02:35:44
47027804,Jupyter notebook slides use cell output as slide,"<p>I'm making slides with jupyter notebook. For one slide I made a nice little interactive plot with ipython widgets. However the interactive plot is  a cell's <strong>output</strong> not input. Is there a way to capture that cell's output an use it as a slide?</p>
",692,3,<ipython><jupyter-notebook><slideshow><ipywidgets>,2017-10-31 04:16:40
47019110,Jupyter notebook: How to save a copy of a notebook to a different directory,"<p>Is it possible to save a copy of a Jupyter notebook in a different directory?</p>

<p>My scenario is as such: I have jupyterhub set up using the docker spawner to create jupyter containers for users. I want all of these users to have access to a shared notebook, which contains a template for certain types of work. This notebook is served via a read-only volume mount into a <code>/shared</code> directory under <code>/work</code>. Users should then be able to modify and save a copy into the parent directory, to which they have access. However, the 'make a copy' function seems to only want to make a copy in the same directory, which is of course read only. Is there a way to change this functionality?</p>

<p>Alternate solutions also welcome!</p>

<p>(For reference, this is using the <code>r-notebook</code> kernel, but I doubt that makes a difference)</p>
",6903,3,<jupyter-notebook><jupyterhub>,2017-10-30 15:38:07
46944971,Mayavi not playing nice with ipywidgets in Jupyter notebook,"<p>Is there any reason why Mayavi will not work along with ipywidgets inside a Jupyter notebook? I can display a x3d Mayavi image inline inside the notebook using 'mlab.init_notebook()', like so:</p>

<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-html lang-html prettyprint-override""><code>from mayavi import mlab
import numpy as np
mlab.init_notebook()
mlab.clf()
phi, theta = np.mgrid[0:np.pi:11j, 0:2*np.pi:11j]
x = np.sin(phi) * np.cos(theta)
y = np.sin(phi) * np.sin(theta)
z = np.cos(phi)
mlab.mesh(x, y, z)
mlab.mesh(x, y, z, representation='wireframe', color=(0, 0, 0))</code></pre>
</div>
</div>
</p>

<p>However, if I add a Button (ipywidget) to call back a function to plot the same Mayavi figure, the plot does not show anywhere.</p>

<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-html lang-html prettyprint-override""><code>from ipywidgets import widgets
from IPython.display import display
from mayavi import mlab
import numpy as np
mlab.init_notebook()

def click(a):

    mlab.clf()
    phi, theta = np.mgrid[0:np.pi:11j, 0:2*np.pi:11j]
    x = np.sin(phi) * np.cos(theta)
    y = np.sin(phi) * np.sin(theta)
    z = np.cos(phi)
    mlab.mesh(x, y, z)
    mlab.mesh(x, y, z, representation='wireframe', color=(0, 0, 0))

button=widgets.Button(description='Click Me')
button.on_click(click)

display(button)</code></pre>
</div>
</div>
</p>
",798,1,<python-2.7><button><mayavi><ipywidgets>,2017-10-26 02:36:03
46920355,get ipywidgets to work on Safari,"<p>I installed latest ipywidgets with conda-forge (<code>conda install -c conda-forge ipywidgets</code>), and am running the simplest example from the docs:</p>

<pre><code>from ipywidgets import interact

def f(x):
    return x

interact(f, x=10);
</code></pre>

<p>The only thing that happens is that the value 10 is printed to the screen, but no slider appears. </p>

<ul>
<li>Python 3.6</li>
<li>Jupyter Notebook 5.0</li>
<li>ipywidgets 7.0.3</li>
<li>Safari</li>
</ul>

<p>No error message in terminal other than the message:
<code>[W 23:23:02.979 NotebookApp] 404 GET /nbextensions/widgets/notebook/js/extension.js?v=20171024232248 (::1) 14.79ms referer=http://localhost:8888/notebooks/notebooks/Untitled1.ipynb</code></p>

<p>Any thoughts on how to fix this? Or where I can start testing my installation. I used ipywidgets quite a bit in the past with great success.</p>
",129,0,<ipywidgets>,2017-10-24 21:30:13
46916905,Interact / interactive for a black box function,"<p>I have a blackbox function which accepts ~10 integer inputs. The function returns a pandas dataframe, and I would like to capture the output window (by using bbwidget.children) and display elsewhere in a Layout. So far interact/interactive seems the bet for this.</p>

<p>I have defined a list of widgets to use as inputs to the function; can I pass this list to interact/interactive? From my attempts so far, I need to specify ALL of the input widgets beforehand, and pass them all individually in a call to interactive.</p>

<p>Here's conceptually what I would like to do (just using the dictcomp in the function call to illustrate that each widget maps to a certain input):</p>

<pre><code>widgetlist = [list of int input widgets]
inputlist = [list of function inputs]

def bbfunc(inputlist):
    return df

bbwidget = ipyw.interactive(bbfunc, {k:v for k,v in zip(widgetlist,inputlist)})
</code></pre>

<p>Is there some special syntax or option for a call to interact/interactive that could allow for this?</p>
",102,2,<python><jupyter-notebook><ipywidgets>,2017-10-24 17:45:50
46893177,How do I update a widget based on changes in a pandas dataframe?,"<p>I am working towards creating a custom widget to display spreadsheets in a Jupyter notebook using the <a href=""https://github.com/jupyter-widgets/widget-cookiecutter"" rel=""nofollow noreferrer"">cookiecutter template</a>. The first thing that I started with was displaying a dataframe in the table. This works well, however, the table does not update when changes are made to the dataframe. </p>

<p>Does anyone have any hints on how to auto update a widget based on changes to a dataframe? Is there a way to monitor changes made to a pandas dataframe so that the widget can know about these changes?</p>

<p>Thanks in advance for your help!</p>
",259,1,<python><pandas><jupyter-notebook><jupyter><ipywidgets>,2017-10-23 15:33:48
46854887,Excessive memory use pyspark,"<p>I have setup a JupyterHub and configured a pyspark kernel for it. When I open a pyspark notebook (under username Jeroen), two processes are added, a Python process and a Java process. The Java process is assigned 12g of virtual memory (see image). When running a test script on a range of 1B number it grows to 22g. Is that something to worry about when we work on this server with multiple users? And if it is, how can I prevent Java from allocating so much memory?</p>

<p><a href=""https://i.stack.imgur.com/jBMSN.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/jBMSN.png"" alt=""enter image description here""></a></p>
",656,0,<memory><pyspark><jupyterhub>,2017-10-20 18:07:48
46853866,push_notebook does not update bokeh chart,"<p>It is kind of a complex example, but I desperately hope to get help...</p>
<p>I'm using <code>jupyter-notebook 5.2.0</code>, <code>bokeh</code> version is <code>0.12.9</code> and <code>ipywidgets</code> is <code>7.0.1</code>.</p>
<p>Here is my <code>DataFrame df</code>:</p>
<pre class=""lang-py prettyprint-override""><code>import numpy as np
import pandas as pd
import datetime
import string

start = int(datetime.datetime(2017,1,1).strftime(&quot;%s&quot;))
end = int(datetime.datetime(2017,12,31).strftime(&quot;%s&quot;))

# set parameters of DataFrame df for simualtion
size, numcats = 100,10

rints = np.random.randint(start, end + 1, size = size)
df = pd.DataFrame(rints, columns = ['zeit'])
df[&quot;bytes&quot;] = np.random.randint(5,20,size=size)
df[&quot;attr1&quot;] = np.random.randint(5,100,size=size)
df[&quot;ind&quot;] = [&quot;{}{}&quot;.format(i,j) for i in string.ascii_uppercase for j in string.ascii_uppercase][:len(df)]

choices = list(string.ascii_uppercase)[:numcats]
df['who']= np.random.choice(choices, len(df))
df[&quot;zeit&quot;] = pd.to_datetime(df[&quot;zeit&quot;], unit='s')
df.zeit = df.zeit.dt.date

df.sort_values('zeit', inplace = True)
df = df.reset_index(drop=True)
df.head(3)
</code></pre>
<p><a href=""https://i.stack.imgur.com/5d1r1.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/5d1r1.png"" alt=""enter image description here"" /></a></p>
<p>Now, let's create a bar plot, also using hover tool:</p>
<pre class=""lang-py prettyprint-override""><code>from bokeh.io import show, output_notebook, push_notebook
from bokeh.models import ColumnDataSource, HoverTool
from bokeh.plotting import figure
import ipywidgets as widgets
output_notebook()

# setup figure
hover = HoverTool(tooltips=[
    (&quot;index&quot;, &quot;$index&quot;),
    (&quot;ind&quot;, &quot;@ind&quot;),
    (&quot;who&quot;, &quot;@who&quot;),
    (&quot;bytes&quot;, &quot;@bytes&quot;),
    (&quot;attr1&quot;, &quot;@attr1&quot;),
])

fig = figure(x_range=list(df.ind), plot_height=250, title=&quot;Test Bars&quot;, 
             toolbar_location=None, tools=[hover])
x = fig.vbar(x=&quot;ind&quot;, top=&quot;bytes&quot;, width=0.9, source=ColumnDataSource(df))
h=show(fig, notebook_handle=True)
</code></pre>
<p><a href=""https://i.stack.imgur.com/YdSLG.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/YdSLG.png"" alt=""enter image description here"" /></a></p>
<p>I'm using a <code>ipywidgets.widgets.SelectionRangeSlider</code> to select a range of dates:</p>
<pre class=""lang-py prettyprint-override""><code>import ipywidgets as widgets

# create slider
dates = list(pd.date_range(df.zeit.min(), df.zeit.max(), freq='D'))
options = [(i.strftime('%d.%m.%Y'), i) for i in dates]
index = (0, len(dates)-1)
myslider = widgets.SelectionRangeSlider(
    options = options,
    index = index,
    description = 'Test',
    orientation = 'horizontal',
    layout={'width': '500px'}
)

def update_source(df, start, end):
    x = df[(df.zeit &gt;= start) &amp; (df.zeit &lt; end)]
    #data = pd.DataFrame(x.groupby('who')['bytes'].sum())
    #data.sort_values(by=&quot;bytes&quot;, inplace=True)
    #data.reset_index(inplace=True)
    #return data
    return x

def gui(model, bars):
    def myupdate(control1):
        start = control1[0].date()
        end = control1[1].date()
        #display(update_source(model, start, end).head(4))
        data = update_source(model, start, end)
    return myupdate

widgets.interactive(gui(df, x), control1 = myslider)
</code></pre>
<p><a href=""https://i.stack.imgur.com/pIPUQ.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/pIPUQ.png"" alt=""enter image description here"" /></a></p>
<p>The problem is, I can't get an update to the graph from the widget:</p>
<pre class=""lang-py prettyprint-override""><code>x.data_source = ColumnDataSource(update_source(df, myslider.value[0].date(), myslider.value[1].date()))
push_notebook(handle=h)
</code></pre>
<p>At least, it does something with the plot, as <code>hover</code> is not working anymore...</p>
<p>What am I missing? Or is this a bug?</p>
<p>Thanks for any help</p>
<p>Markus</p>
",853,0,<bokeh><ipywidgets>,2017-10-20 16:56:10
46756911,ipywidgets floatrangeslider daterangeslider,"<p>I tried to use <code>FloatRangeSlider</code> from <code>ipywidgets</code> in a jupyter-notebook such that the date is displayed:</p>

<pre><code>import ipywidgets as widgets
from datetime import datetime

class myd:
    def __init__(self, value_datetime):
        self.value = value_datetime
    def __float__(self):
        return float(self.value.strftime(""%s""))
    def __format__(self, format_spec):
        return self.value.strftime(""%d.%m.%Y"")

# Test
start = myd(datetime(2017,1,1))
end = myd(datetime(2017,10,1))
print(float(start), ""{:.1f}"".format(start))
print(float(end), ""{:.1f}"".format(end))
</code></pre>

<p>which correctly prints</p>

<pre><code>1483225200.0 01.01.2017
1506808800.0 01.10.2017
</code></pre>

<p>However, the slider doesn't display as supposed:</p>

<pre><code>widgets.FloatRangeSlider(
    value=[start, end],
    min=start,
    max=end,
    step=100,
    description='Test:',
    disabled=False,
    continuous_update=False,
    orientation='horizontal',
    readout=True,
    readout_format='.1f',
)
</code></pre>

<p>It displays</p>

<p><a href=""https://i.stack.imgur.com/A7IeY.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/A7IeY.png"" alt=""Image of slider""></a></p>

<p>but should display <code>01.01.2017 - 01.10.2017</code>.</p>

<p>Thanks for any help.</p>
",1433,0,<python><jupyter><ipywidgets>,2017-10-15 15:47:30
46750578,How to update holoviews Bars using an ipywidgets SelectionRangeSlider?,"

<p>I want to select data from some pandas DataFrame in a Jupyter-notebook through a <code>SelectionRangeSlider</code> and plot the filtered data using holoviews bar chart.</p>

<p>Consider the following example:</p>

<pre class=""lang-py prettyprint-override""><code>import numpy as np
import pandas as pd
import datetime
import holoviews as hv
hv.extension('bokeh')

import ipywidgets as widgets

start = int(datetime.datetime(2017,1,1).strftime(""%s""))
end = int(datetime.datetime(2017,12,31).strftime(""%s""))

size = 100
rints = np.random.randint(start, end + 1, size = size)
df = pd.DataFrame(rints, columns = ['zeit'])
df[""bytes""] = np.random.randint(5,20,size=size)
df['who']= np.random.choice(['John', 'Paul', 'George', 'Ringo'], len(df))
df[""zeit""] = pd.to_datetime(df[""zeit""], unit='s')
df.zeit = df.zeit.dt.date

df.sort_values('zeit', inplace = True)
df = df.reset_index(drop=True)
df.head(2)
</code></pre>

<p>This gives the test DataFrame <code>df</code>:
<a href=""https://i.stack.imgur.com/KYkHM.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/KYkHM.png"" alt=""enter image description here""></a></p>

<p>Let's group the data:</p>

<pre class=""lang-py prettyprint-override""><code>data = pd.DataFrame(df.groupby('who')['bytes'].sum())
data.reset_index(level=0, inplace=True)
data.sort_values(by=""bytes"", inplace=True)
data.head(2)
</code></pre>

<p><a href=""https://i.stack.imgur.com/bLTux.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/bLTux.png"" alt=""enter image description here""></a></p>

<p>Now, create the <code>SelectionRangeSlider</code> that is to be used to filter and update the barchart.</p>

<pre class=""lang-py prettyprint-override""><code>%%opts Bars [width=800 height=400 tools=['hover']]
def view2(v):
    x = df[(df.zeit &gt; r2.value[0].date()) &amp; (df.zeit &lt; r2.value[1].date())]
    data = pd.DataFrame(x.groupby('who')['bytes'].sum())
    data.sort_values(by=""bytes"", inplace=True)
    data.reset_index(inplace=True)
    display(hv.Bars(data, kdims=['who'], vdims=['bytes']))

r2 = widgets.SelectionRangeSlider(options = options, index = index, description = 'Test')
widgets.interactive(view2, v=r2)
</code></pre>

<p><a href=""https://i.stack.imgur.com/UrpEh.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/UrpEh.png"" alt=""enter image description here""></a></p>

<p>(I have already created an issue on github for the slider not displaying the label correctly, <a href=""https://github.com/jupyter-widgets/ipywidgets/issues/1759"" rel=""nofollow noreferrer"">https://github.com/jupyter-widgets/ipywidgets/issues/1759</a>)</p>

<p>Problems that persist:</p>

<ul>
<li><p>the image width and size collapse to default after first update (is there a way to give <code>%%opts</code> as argument to <code>hv.Bars</code>?)</p></li>
<li><p>the y-Scale should remain constant (i.e. from 0 to 150 for all updates)</p></li>
<li><p>is there any optimization possible concerning speed of updates?</p></li>
</ul>

<p>Thanks for any help.</p>
",816,0,<jupyter-notebook><ipywidgets><holoviews>,2017-10-15 00:28:21
46706951,Jupyterhub with nginx reverse proxy in a subpath,"<p>I have a Ubuntu server running nginx on port <code>443</code> to serve some static content and Jupyterhub 0.8 on port <code>8000</code> for Python notebooks (jupyterhub is installed via pip and run as a service (not with Docker).</p>

<p>I would like to use nginx's reverse proxy to make jupyterhub accessible as a subpath, e.g. <code>example.com/jupyterhub</code>.</p>

<p>Following the documentation and some other discussions (e.g. <a href=""https://stackoverflow.com/questions/35419414/jupyterhub-nginx-reverse-proxy"">this one</a>) here, I came up with the following nginx configuration:</p>

<pre><code>server_tokens off;

server {
  listen      80;
  server_name example.com;
  rewrite     ^   https://$server_name$request_uri? permanent;
}

server {
  listen 443 ssl default_server;
  #listen [::]:80 default_server ipv6only=on;

  root /var/www/html;
  index index.php index.html index.htm;

  ssl_certificate /etc/letsencrypt/live/example.com/fullchain.pem;
  ssl_certificate_key /etc/letsencrypt/live/example.com/privkey.pem;

  # Make site accessible from http://localhost/
  server_name localhost;

  # certs sent to the client in SERVER HELLO are concatenated in 
  ssl_certificate
  ssl_session_timeout 1d;
  ssl_session_cache shared:SSL:50m;
  ssl_session_tickets off;


  # modern configuration. tweak to your needs.
  ssl_protocols TLSv1.2;
  ssl_ciphers 'ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA256';
  ssl_prefer_server_ciphers on;

  # HSTS (ngx_http_headers_module is required) (15768000 seconds = 6 months)
  add_header Strict-Transport-Security max-age=15768000;

  # OCSP Stapling ---
  # fetch OCSP records from URL in ssl_certificate and cache them
  ssl_stapling on;
  ssl_stapling_verify on;

  location /jupyterhub/ {
    proxy_pass http://localhost:8000;
    proxy_set_header X-Real-IP $remote_addr;
    proxy_set_header Host $host;
    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    proxy_set_header X-NginX-Proxy true;

    proxy_http_version 1.1;
    proxy_set_header Upgrade $http_upgrade;
    proxy_set_header Connection ""upgrade"";
  }

  location / {
    try_files $uri $uri/ =404;
  }

  # pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000  
  location ~ \.php$ {
    include snippets/fastcgi-php.conf;
    fastcgi_pass unix:/run/php/php7.0-fpm.sock;
  }
}
</code></pre>

<p>Plus, I set the following in <code>jupyterhub_conf.py</code></p>

<pre><code>c.JupyterHub.base_url = u'/jupyterhub'
c.JupyterHub.ip = '127.0.0.1'
</code></pre>

<p>When I visit <code>https://example.com/jupyterhub</code> I get a 502 error. Looking at the nginx <code>error.log</code> I find</p>

<pre><code>*13 upstream prematurely closed connection while reading response header from upstream, client: xxx.xxx.xxx.xxx, server: localhost, request: ""GET /jupyterhub/ HTTP/1.1"", upstream: ""http://127.0.0.1:8000/jupyterhub/"", host: ""example.com""
</code></pre>

<p>A local <code>curl</code> of jupyterhub gives </p>

<pre><code>$ curl -v http://127.0.0.1:8000/jupyterhub/
*   Trying 127.0.0.1...
* TCP_NODELAY set
* Connected to 127.0.0.1 (127.0.0.1) port 8000 (#0)
&gt; GET /jupyterhub/ HTTP/1.1
&gt; Host: 127.0.0.1:8000
&gt; User-Agent: curl/7.52.1
&gt; Accept: */*
&gt; 
* Curl_http_done: called premature == 0
* Empty reply from server
* Connection #0 to host 127.0.0.1 left intact
curl: (52) Empty reply from server
</code></pre>
",2994,0,<nginx><reverse-proxy><jupyterhub>,2017-10-12 10:11:07
46667430,Control lifecycle of IPython widget,"<p>I have a class that uses IPython widgets to render rich output.  This output changes over time.  I manage this by adding a callback to the IOLoop that alters the output periodically.</p>

<pre><code>class Foo(object):
    def _ipython_display_(self, **kwargs):
        html = HTML(""&lt;h2&gt;hello&lt;/h2&gt;"")

        def f():
            html.value = ...  # TODO: replace with weakrefs to avoid cycle

        from tornado.ioloop import PeriodicCallback
        html._pc = PeriodicCallback(f, 1000)
        html._pc.start()

        return html._ipython_display_(**kwargs)
</code></pre>

<p>However, I also want this PeriodicCallback to stop once <code>html</code> is no longer visible on the screen.  Normally I would use <code>__del__</code> or <code>finalize</code> or something, but it appears that the <code>html</code> object will likely be kept in the notebook's output history (variables like <code>_10</code>) and so my periodic callback survives forever.</p>

<p>Is there any way to get a signal when a displayable element is no longer displayed?</p>
",302,0,<python><jupyter-notebook><ipywidgets>,2017-10-10 12:59:36
46645369,Is there a way to define a TextBox for Passwords with ipywidgets?,"<p>I am using <code>ipywidgets</code> to create text boxes as described in the <a href=""http://ipywidgets.readthedocs.io/en/stable/examples/Widget%20List.html#Text"" rel=""nofollow noreferrer"">documentation</a>. That works fine, but I want to create text boxes which show just dots/stars/whatever when an user gives some input, like for a password input box. </p>

<p>Is that possible to do with <code>ipywidgets</code>, and if so, how? The documentation is a bit scarce I would say...</p>
",2326,0,<python><ipywidgets>,2017-10-09 11:29:06
46569059,How to stress/load test JupyterHub for multiple users?,"<p>I followed the tutorial for setting up JupyterHub on an AWS EMR cluster at this link: <a href=""https://aws.amazon.com/blogs/big-data/running-jupyter-notebook-and-jupyterhub-on-amazon-emr/"" rel=""nofollow noreferrer"">https://aws.amazon.com/blogs/big-data/running-jupyter-notebook-and-jupyterhub-on-amazon-emr/</a></p>

<p>I got the cluster up and running, but now my question is how do I stress/load test? (i.e. simulate 100 users running through the notebooks simultaneously). </p>

<p>In a classroom setting, I had about 30 users sshed into my cluster running through the notebook exercises, but there was a huge slowdown when more people started executing the code blocks in the notebooks. What happened was some python library imports took forever, some exercises stopped working or was just hanging. Cloudwatch showed that there was a network bottleneck. </p>

<p>Basically what I'm asking is how can I go about debugging something like that? What's the best way to simulate multiple users sshing into the EMR cluster, opening up jupyter notebooks and running the code blocks concurrently?</p>
",921,0,<ipython><jupyter-notebook><ipython-notebook><jupyter><jupyterhub>,2017-10-04 15:47:36
46531571,How do I format an R table in an R Jupyter notebook?,"<p>Suppose I am using a Jupyter notebook with an R kernel, and I want to format a table so that any row with p_value &lt; 0.01 is bolded.  How?</p>

<p>I <a href=""https://github.com/jupyter/notebook/issues/1182"" rel=""nofollow noreferrer"">looked</a> around a bit, and I can find R styling not in Jupyter, Jupyter styling not in R, and so forth, but not what I want.</p>
",4044,3,<r><jupyter-notebook><jupyter-irkernel>,2017-10-02 18:33:49
46507504,Lexical error when connecting R with Jupyter Notebook by IRkernel::installspec(),"<p>I want to connect R with Jupyter Notebook, and I have installed <code>IRkernel</code>. However, when I run the code <code>IRkernel::installspec()</code>, an error occurs:</p>

<blockquote>
  <p>Error: lexical error: invalid char in json text.
                                        C:\Users\xin_chen\AppData\Local
                      (right here) ------^</p>
</blockquote>
",263,1,<r><jupyter-notebook><jupyter-irkernel>,2017-09-30 22:13:50
46481308,Jupyter Notebook + iPython Widgets - Dynamic Number of Widgets,"<p>I'm working on a script that will eventually allow for data exploration using ipywidgets. I've made some parts work for a dynamic number of columns someone may be interested in filtering on, but implementing the <strong>interact</strong> function in a dynamic manner is proving to be difficult. Sample code below that I've been running in Jupyter:</p>

<pre><code>import ipywidgets as widgets
from ipywidgets import interact
import pandas as pd

df = pd.read_csv('https://raw.githubusercontent.com/yankev/testing/master/datasets/nycflights.csv')
df = df.drop(df.columns[[0]], axis=1)

filter_cols = list(['origin','dest','carrier']) #list N columns we want to filter on
filter_df = df[filter_cols] #pull selected N columns from dataframe
filter_df.drop_duplicates(inplace=True) #remove duplicates

#loop through columns and create variables/widgets
for idx, val in enumerate(filter_cols):
    #creates N variables (filter0, filter1, filter2) with unique values for each column with an All option
    globals()['filter{}'.format(idx)] = ['All']+sorted(filter_df[val].unique().tolist())

    #creates N widgets (widget0, widget1, widget2) for interact function below
    globals()['widget{}'.format(idx)] = widgets.SelectMultiple(
        options=globals()['filter{}'.format(idx)],
        value=['All'],
        description=val,
        disabled=False
    )

#looking to make this function dynamic based on the number of columns we want to filter by
#filters down source dataframe based on widget value selections
def viewer(a, b, c = list()):
    #if widget selection is 'All', pass the full filter list, else filter only to what is selected in the widget
    return df[df['origin'].isin(filter0 if a==('All',) else a)
              &amp; df['dest'].isin(filter1 if b==('All',) else b) 
              &amp; df['carrier'].isin(filter2 if c==('All',) else c)].shape[0]

#displays N filters
#returns record count for filter combination
interact(viewer, a=widget0, b=widget1, c=widget2)
</code></pre>

<p>The second half of the code, after the loop, is what I'd like to make dynamic. As it stands now, I'd have to change the column name callouts and add/remove code for any additional filters. It would be nice to limit the amount of manipulation to a few points in the script.</p>

<p>Any suggestions are much appreciated. Thanks!</p>
",1216,4,<python><pandas><interactive><ipywidgets>,2017-09-29 03:19:47
46143722,"""Save and Checkpoint"": What notebook state info is ""saved""?","<p>I am curious about exactly what notebook state information is saved whenever one clicks ""save and checkpoint"" in a Jupyter notebook. I know any python changes are saved, but I am wondering if the state of widgets/html that is ""displayed"" is also saved. For instance: Let's say I have button in the notebook that runs <code>display(HTML(html))</code> when clicked. If I click that button, display the html, and then save my notebook, will the state of display be saved? Is the state of the notebooks ""cells"" saved, so that html that is displayed in a new cell is also saved? </p>

<p>Any direction to documentation about the ""save and checkpoint"" behavior is appreciated. Having trouble finding a detailed description in the Jupyter docs. Thanks!</p>
",4226,2,<jupyter-notebook><jupyter><ipywidgets>,2017-09-10 17:44:16
46090310,Jupyter notebook API to get notebooks,"<p>I have my jupyter hub and single-user server running. I am using Jupyter notebook REST APIs to get all available notebooks. I am using <a href=""http://127.0.0.1:8000/user/username/api/contents"" rel=""nofollow noreferrer"">http://127.0.0.1:8000/user/username/api/contents</a> . With this I am able to see all available notebooks on mu UI. </p>

<p>However when I try to do the same from my python script I am getting 200 response code but unable to extract any content as its redirecting to login page where I need to enter username and password for my user. I also tried to pass these credentials through requests package. Something like this</p>

<pre><code>import requests
api_url =  'http://127.0.0.1:8000/user/username/api/contents'
result = requests.get(api_url, auth=('username', 'password'))
print result
print result.json()
</code></pre>

<p>The outpus is:</p>

<pre><code>&lt;!DOCTYPE HTML&gt;
&lt;html&gt;

&lt;head&gt;
    &lt;meta charset=""utf-8""&gt;

    &lt;title&gt;Jupyter Hub&lt;/title&gt;
    &lt;meta http-equiv=""X-UA-Compatible"" content=""chrome=1""&gt;
    &lt;meta name=""viewport"" content=""width=device-width, initial-scale=1.0""&gt;


    &lt;link rel=""stylesheet"" href=""/hub/static/css/style.min.css?v=d96e0760e0c2b7356ce89635b646c350"" type=""text/css""/&gt;

    &lt;script src=""/hub/static/components/requirejs/require.js?v=6da8be361b9ee26c5e721e76c6d4afce"" type=""text/javascript"" charset=""utf-8""&gt;&lt;/script&gt;
    &lt;script&gt;
      require.config({

          urlArgs: ""v=(&amp;#39;20170907062813&amp;#39;,)"",

          baseUrl: '/hub/static/js',
          paths: {
            components: '../components',
            jquery: '../components/jquery/jquery.min',
            bootstrap: '../components/bootstrap/js/bootstrap.min',
            moment: ""../components/moment/moment"",
          },
          shim: {
            bootstrap: {
              deps: [""jquery""],
              exports: ""bootstrap""
            },
          }
      });
    &lt;/script&gt;

    &lt;script type=""text/javascript""&gt;
      window.jhdata = {
        base_url: ""/hub/"",
        prefix: ""/"",

      }
    &lt;/script&gt;




&lt;/head&gt;

&lt;body&gt;

&lt;noscript&gt;
  &lt;div id='noscript'&gt;
    Jupyter Hub requires JavaScript.&lt;br&gt;
    Please enable it to proceed.
  &lt;/div&gt;
&lt;/noscript&gt;

&lt;div id=""header"" class=""navbar navbar-static-top""&gt;
  &lt;div class=""container""&gt;
  &lt;span id=""jupyterhub-logo"" class=""pull-left""&gt;&lt;a href=""/hub/""&gt;&lt;img src='/hub/logo' alt='JupyterHub' class='jpy-logo' title='Home'/&gt;&lt;/a&gt;&lt;/span&gt;

  &lt;/div&gt;
&lt;/div&gt;

&lt;div id=""login-main"" class=""container""&gt;

&lt;form action=""/hub/login?next=%2Fhub%2Fuser%2Fpnda%2Fapi%2Fcontents"" method=""post"" role=""form""&gt;
  &lt;div class=""auth-form-header""&gt;
    Sign in
  &lt;/div&gt;
  &lt;div class='auth-form-body'&gt;

    &lt;p id='insecure-login-warning' class='hidden'&gt;
    Warning: JupyterHub seems to be served over an unsecured HTTP connection.
    We strongly recommend enabling HTTPS for JupyterHub.
    &lt;/p&gt;


    &lt;label for=""username_input""&gt;Username:&lt;/label&gt;
    &lt;input
      id=""username_input""
      type=""username""
      autocapitalize=""off""
      autocorrect=""off""
      class=""form-control""
      name=""username""
      val=""""
      tabindex=""1""
      autofocus=""autofocus""
    /&gt;
    &lt;label for='password_input'&gt;Password:&lt;/label&gt;
    &lt;input
      type=""password""
      class=""form-control""
      name=""password""
      id=""password_input""
      tabindex=""2""
    /&gt;

    &lt;input
      type=""submit""
      id=""login_submit""
      class='btn btn-jupyter'
      value='Sign In'
      tabindex=""3""
    /&gt;
  &lt;/div&gt;
&lt;/form&gt;

&lt;/div&gt;


&lt;div class=""modal fade"" id=""error-dialog"" tabindex=""-1"" role=""dialog"" aria-labelledby=""error-label"" aria-hidden=""true""&gt;
  &lt;div class=""modal-dialog""&gt;
    &lt;div class=""modal-content""&gt;
      &lt;div class=""modal-header""&gt;
        &lt;button type=""button"" class=""close"" data-dismiss=""modal""&gt;&lt;span aria-hidden=""true""&gt;&amp;times;&lt;/span&gt;&lt;span class=""sr-only""&gt;Close&lt;/span&gt;&lt;/button&gt;
        &lt;h4 class=""modal-title"" id=""error-label""&gt;Error&lt;/h4&gt;
      &lt;/div&gt;
      &lt;div class=""modal-body""&gt;

  &lt;div class=""ajax-error""&gt;
    The error
  &lt;/div&gt;

      &lt;/div&gt;
      &lt;div class=""modal-footer""&gt;
        &lt;button type=""button"" class=""btn btn-default"" data-dismiss=""modal""&gt;Cancel&lt;/button&gt;
        &lt;button type=""button"" class=""btn btn-primary"" data-dismiss=""modal"" data-dismiss=""modal""&gt;OK&lt;/button&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;




&lt;script&gt;
if (window.location.protocol === ""http:"") {
  // unhide http warning
  var warning = document.getElementById('insecure-login-warning');
  warning.className = warning.className.replace(/\bhidden\b/, '');
}
&lt;/script&gt;



&lt;/body&gt;

&lt;/html&gt;

Traceback (most recent call last):
  File ""test.py"", line 31, in &lt;module&gt;
    check_running()
  File ""test.py"", line 28, in check_running
    contents = r.json()
  File ""/usr/lib/python2.7/dist-packages/requests/models.py"", line 740, in json
    return json.loads(self.content.decode(encoding), **kwargs)
  File ""/usr/lib/python2.7/json/__init__.py"", line 338, in loads
    return _default_decoder.decode(s)
  File ""/usr/lib/python2.7/json/decoder.py"", line 366, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File ""/usr/lib/python2.7/json/decoder.py"", line 384, in raw_decode
    raise ValueError(""No JSON object could be decoded"")
</code></pre>

<p>I am fairly new to Jupyter. My I missing out on something. How else can I authenticate my user prior calling any API.</p>

<p>Saw this in jupyerhub documentation - Note that the API token authorizes JupyterHub REST API requests. The same token does not authorize access to the Jupyter Notebook REST API provided by notebook servers managed by JupyterHub. A different token is used to access the Jupyter Notebook API.</p>

<p>So this is the exactly what I am looking for. How can I create this different token so as to access jupyter notebook APIs thorugh hub.</p>
",4706,1,<python><jupyter-notebook><jupyterhub>,2017-09-07 07:25:30
45927669,Custom kernel hangs when running in ipyparallel,"<p>I am trying to use ipyparallel with a custom kernel I have installed in a conda env.  My tools are built with matplotlib 2.0.2.  I am running on a Jupyter Hub, with the default Python3 kernel pointing to matplotlib 1.5.3.  I can see the version of matplotlib from the respective engines with this example:</p>

<pre><code>import ipyparallel
import matplotlib

def myFunc(n):
    import matplotlib
    status = ""mpl version=%s, and num=%d"" % (matplotlib.__version__, 
                                             n * 10)
    return status

rc=ipyparallel.Client(profile='MJBtest')
all_proc = rc[:]
all_proc.block=True

print(""Local: "", matplotlib.__version__)

inlist = [i for i in range(3)]
print(""Now calling map_sync"")
result = all_proc.map_sync(myFunc, inlist)
print(""Parallel result : "", result)
</code></pre>

<p>which returns</p>

<pre><code>Local:  1.5.3
Now calling map_sync
Parallel result :  ['mpl version=1.5.3, and num=0', 'mpl version=1.5.3, and num=10', 'mpl version=1.5.3, and num=20']
</code></pre>

<p>as I expect, because I am running in the Python 3 default kernel.  I have built a customized kernel called ""cetb3"" by creating a custom kernel with the tools I want, activating it, and creating a kernelspec file with this command:</p>

<pre><code>ipython kernel install --user --name cetb3
</code></pre>

<p>In the cetb3 environment, I can run python, import matplotlib and I see that the version is matplotlib 2.0.2.  From this same cetb3 env, I also created a test profile with:</p>

<pre><code>ipython profile create --parallel --profile=MJBtest
</code></pre>

<p>In the Jupyter Hub, I can switch the kernel to cetb3, import matplotlib and see that it is at v2.0.2.  However, when I start a cluster from MJBtest, and try to run the same code as above with the cetb3 kernel, the cell hangs after the ""Now calling map_sync"" line and never returns:</p>

<pre><code>Local:  2.0.2
Now calling map_sync
</code></pre>

<p>I thought that I might have to create an ipython profile that uses my custom kernel, and I tried adding the name of my profile to the cetb3 kernelspec file: ""--profile=MJBtest"" but when I did this, the kernel wouldn't even start.  I am unclear whether I have to tell my kernel about my profile or vice-versa (and how I might do this) or if there is some other mechanism altogether for pushing my custom environment out to my ipyparallel engines.</p>

<p>So I worked with the sys admin on our supercomputer and it turns out that they had configured some customized ipython profiles that were starting the engine cluster using the ipengine command.  In the ipcluster_config.py file, prior to the ipengine command, I was able to specify my custom environment by adding my conda env bin path to the beginning of the PATH env variable, and then calling source activate for the conda env I wanted to be available on each engine.</p>
",271,2,<python><conda><jupyterhub>,2017-08-28 21:33:01
45826404,Cannot import widget from IPython.html.widgets in Spyder,"<p>I am using spyder to run my code.</p>

<pre><code>from Ipython.html.widgets import interact, ButtonWidget
</code></pre>

<p>I tried to replace Ipython.html.widgets to ipywidgets and execute it. It threw me back:</p>

<pre><code>from ipywidgets import interact, ButtonWidget

ImportError: cannot import name ButtonWidget""
</code></pre>
",3262,0,<python><ipython><spyder><ipywidgets>,2017-08-22 20:26:45
45797565,Jupyterhub and nginx reverse proxy configuration,"<p>I was trying to configure the jupyterhub proxy to route the content going to <code>my-host-ip/notebook</code> but it i cannot figure out the solution.</p>

<p>I am using the following Nginx configuration:</p>

<pre><code>server {
        listen 80;
        server_name  localhost;

        location /notebook {
            proxy_pass http://localhost:8000;

            # proxy_set_header X-Real-IP $remote_addr;
            # proxy_set_header Host $http_host;
            # proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        }

        location ~* /(user[-/][a-zA-Z0-9]*)/(api/kernels/[^/]+/(channels|iopub|shell|stdin)|terminals/websocket)/? {
            proxy_pass http://localhost:8000;

            # proxy_set_header X-Real-IP $remote_addr;
            # proxy_set_header Host $http_host;
            # proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;

            # WebSocket support
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection ""upgrade"";
            proxy_read_timeout 86400;

        }
    }
</code></pre>
",3342,4,<nginx><jupyterhub>,2017-08-21 12:48:25
45785150,Haskell under Jupyter,"<p>The Internet is strangely absent of instructions on how to get Haskell running under the Jupyter environment.   Any documentation that leads you toward this requires you to compile from source, however when attempting to do so, all sorts of build errors occur.</p>

<p>It seems odd that an environment that would certainly give Haskell so much exposure is strangely not exercised by enough people that there would be some decent documentation.   Yet, the language is supposedly is supported.</p>

<p>Has anyone gotten this to work?</p>
",6742,14,<jupyter><jupyter-irkernel><ihaskell>,2017-08-20 17:48:52
45773529,Jupyterhub config for limit tensorflow gpu memory,"<p>I am building a tensorflow environment with Jupyterhub(docker spawner) for my students in class, but I face a problem with this.</p>

<blockquote>
  <p>By default, TensorFlow maps nearly all of the GPU memory of all GPUs
  (subject to CUDA_VISIBLE_DEVICES) visible to the process. This is done
  to more efficiently use the relatively precious GPU memory resources
  on the devices by reducing memory fragmentation.
  (from <a href=""https://www.tensorflow.org/tutorials/using_gpu"" rel=""nofollow noreferrer"">https://www.tensorflow.org/tutorials/using_gpu</a>)</p>
</blockquote>

<p>If anyone in class use python program with gpu,then the gpu memory will nearly exhaust.According to this situation,I need to add some limit code manually.
like:</p>

<pre><code>config = tf.ConfigProto()
config.gpu_options.allow_growth = True
session = tf.Session(config=config, ...)
</code></pre>

<p>But this is not a great solution.I should add this code every time when new code generated.</p>

<p>If jupyterhub can add some config to avoid this situation or other great solutions?
Please let me know,thanks!</p>
",1206,0,<tensorflow><gpu><jupyter><jupyterhub>,2017-08-19 15:54:34
45731054,Handsontable in Jupyter Notebook,"<p>I was wondering if anyone currently uses handsontable in a Jupyter notebook. I have been following instructions from:</p>

<p><a href=""https://gist.github.com/rossant/9463955"" rel=""nofollow noreferrer"">https://gist.github.com/rossant/9463955</a></p>

<p><a href=""https://gist.github.com/rdhyee/9897356"" rel=""nofollow noreferrer"">https://gist.github.com/rdhyee/9897356</a></p>

<p>However, these instructions do not work with the current versions of the notebook/ipywidgets and are very outdated. </p>

<p>I would like to implement the following handsontable example:<a href=""http://jsfiddle.net/handsoncode/s6t768pq/"" rel=""nofollow noreferrer"">http://jsfiddle.net/handsoncode/s6t768pq/</a> </p>

<p>When I load handsontable.full.css and handsontable.full.js into the notebook, I do not get any errors. However, I get this error: <strong><em>ReferenceError: Handsontable is not defined</em></strong> when trying to run the following code in the notebook (this may not be the correct code to do this though).</p>

<pre><code>%%javascript
requirejs.config({
    paths: { 
        'handsontable': ['http://docs.handsontable.com/0.34.0/bower_components/handsontable/dist/handsontable.full'],
    },
});

require(['handsontable'], function(handsontable) {
    console.log(""Loaded :)"");   

  var data = function () {
    return Handsontable.helper.createSpreadsheetData(100, 10);
  };

  var container = document.getElementById('example');

  var hot = new Handsontable(container, {
    data: data(),
    minSpareCols: 1,
    minSpareRows: 1,
    rowHeaders: true,
    colHeaders: true,
    contextMenu: true
  });

  return{};
});
</code></pre>
",627,2,<python><jupyter-notebook><jupyter><handsontable><ipywidgets>,2017-08-17 09:14:23
45703757,jupyterhub: command not found,"<p>I am trying to run the jupyterhub locally on Ubuntu 16.04; however, I cannot seem to run the jupyterhub command on the terminal, and I get the command not found error. I have installed jupyterhub by running the following commands:</p>

<pre><code>sudo npm install -g configurable-http-proxy
pip3 install jupyterhub    
pip3 install --upgrade notebook
</code></pre>

<p>All of the above packages install successfully. My <code>PATH</code> variable in <code>/etc/environment</code> has been set as follows:</p>

<pre><code>PATH=""/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/root/bin""
</code></pre>
",4273,3,<jupyter><jupyterhub>,2017-08-16 01:26:08
45654076,How to check if a Jupyter Notebook extension is enabled?,"<p>I would like to programmatically check from a Jupyter Notebook if <a href=""https://ipywidgets.readthedocs.io/en/stable/"" rel=""noreferrer"">ipywidgets</a> is enabled. What ways are there to do so? I tried looking into <code>nbextensions</code> and <code>notebook</code> modules, but did not find a function to list enabled extensions.</p>

<p>My Notebook is on GitHub, and I want to provide a static plot there, and additionally also an interactive version if the user is actually running the notebook and has ipywidgets installed, and enabled.</p>

<p>The plotting code is</p>

<pre><code># Setup by importing some libraries and configuring a few things
import numpy as np
import ipywidgets
import matplotlib.pyplot as plt
%matplotlib inline

# Create two random datasets
data = np.random.random(15)
smallerdata = np.random.random(15) * 0.3

# Define a plotting function
def drawPlot():
    plt.plot(range(len(data)), data, label=""random data"");
    plt.plot(range(len(smallerdata)), smallerdata, 'r--', label=""smaller random data"");
    plt.title(""Two random dataset compared"");
    plt.grid(axis='y');
    plt.legend();

# Define an interactive annotation function
def updatePlot(s=0):
    print(""data {0:.2f}, smallerdata {1:.2f}"".format(data[s], smallerdata[s]))
    drawPlot()
    plt.annotate(s=round(data[s], 2),
                 xy=(s, data[s]),
                 xytext=(s + 2, 0.5),
                 arrowprops={'arrowstyle': '-&gt;'});
    plt.annotate(s=round(smallerdata[s], 2),
                 xy=(s, smallerdata[s]),
                 xytext=(s + 2, 0.3),
                 arrowprops={'arrowstyle': '-&gt;'});
    plt.show();
</code></pre>

<p>In pseudocode, I would like to achieve something like this:</p>

<pre><code>if nbextensions.enabled('ipywidgets'):
    slider = ipywidgets.interactive(updatePlot, s=(0, len(data) - 1, 1));
    display(slider)
else:
    drawPlot()
</code></pre>

<p>From the command line, conceptually similar command is <code>jupyter nbextension list</code>, but I want to do this from a running Python environment, also also provide a static plot when the user is just looking at the Notebook on GitHub (or similar).</p>

<p>Thank you :)</p>
",2354,5,<python><matplotlib><jupyter-notebook><jupyter><ipywidgets>,2017-08-12 19:21:23
45596078,Jupyter Ipywidgets behave Inconsistently when displaying and refreshing,"<p>I've made a jupyter notebook that displays some graphs and dataframes. I can then change the widget values to refresh the dataframes and graphs.</p>

<p>I'm running into two problems:</p>

<ol>
<li>Every time I run the book for the first time after opening Jupyter notebook, I get this:</li>
</ol>

<p><a href=""https://i.stack.imgur.com/9PkKF.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/9PkKF.png"" alt=""enter image description here""></a></p>

<p>Yet when I run all cells again, I get the desired output:</p>

<p><a href=""https://i.stack.imgur.com/qgVUh.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/qgVUh.png"" alt=""enter image description here""></a></p>

<ol start=""2"">
<li><p>Every time I use the widgets and make a change, the notebook eventually refreshes correctly, but for some reason it continually outputs the top few graphs, seems to clear the output, then show them again, then clear output, and after a few iterations of this, is able to display everything. Here is my event handler:</p>

<pre><code>def handle_submit(sender):
    clear_output(wait=True)

    start = w.slider_start.value.strftime('%Y-%m-%d')
    end = w.slider_end.value.strftime('%Y-%m-%d')

    zval = z.value
    yval = y.value
    xval = x.value

    df_dlm,df_dgo,df_stats = show_stats(zval,yval,xval,start,end)
    df_e = show_stats_exp(zval,yval,xval,start,end)

    display_dataframe(df_stats)
    plot_lines_e(df_e)
    dfx = prepare_data(df_dlm,df_dgo)
    plot_lines(dfx)
    plot_scatter(dfx)
</code></pre></li>
</ol>

<p>where the <code>display_dataframe</code>, <code>plot_lines</code>, and <code>plot_scatter</code> functions all have a ""display"" type line in them to actually show the graph since <code>%matplotlib inline</code> does not play well with ipywidgets...feels like that has something to do with it, but not sure how to get around this.</p>

<p>FYI the graphs are done in Bokeh, certain dataframes are plotted at matplotlib objects.</p>

<p>Thanks for your help!</p>
",398,1,<python-2.7><pandas><jupyter-notebook><bokeh><ipywidgets>,2017-08-09 16:27:19
45550605,Disable write access to Docker home directory,"<p>I am using a DockerSpawner for JupyterHub (image: jupyter/minimal-notebook). I mounted folder named ""xyz"" as /home/jovyan/xyz with all permission. I would like to disable write access to /home/jovyan in Docker, because I cannot guaranteed future access to data stored in Docker, only in host folder.</p>

<p>I tried to set up a read_only_volumes on /home/jovyan, but then is impossible to mount /home/jovyan/xyz</p>

<p>Any ideas please?
Thanks</p>
",69,1,<docker><jupyterhub>,2017-08-07 15:28:26
45510666,Jupyter Ipywidgets Export to Static HTML - Widget Javascript not detected,"<p>I have built an interactive Jupyter notebook (written in python) with ipywidgets that allows the user to interact with the kernel and filter charts, show dataframes, etc.</p>

<p>The problem I'm running into is that when I export the jupyter notebook to a static HTML file, the widgets disappear. When I try to run it in command line:</p>

<pre><code>jupyter nbconvert --to html --execute ""mynotebook.ipynb""
</code></pre>

<p>I see:</p>

<pre><code>[IPKernelApp] WARNING | Widget Javascript not detected.  It may not be installed or 
enabled properly.
</code></pre>

<p>Through google-fu, I've found that I need to execute the following command:</p>

<pre><code>jupyter nbextension enable --py --sys-prefix widgetsnbextension
</code></pre>

<p>...Which seems to work when I run it in command line:</p>

<pre><code>Enabling notebook extension jupyter-js-widgets/extension...
      - Validating: ok
</code></pre>

<p>But I still get the same error when I try to export the notebook to HTML. </p>

<p>Looking around, I see most people are getting this error when they actually try to run a widget in the notebook. This isn't my issue, as I'm able to run widgets within the notebook environment, but am not able to export the resulting notebook into HTML. That's where the <code>Widget Javascript not detected</code> messages come up.</p>

<p>Interactivity is great and all, but unless I can expose these widgets, what's the point of interactivity?</p>

<p>Thanks for your help!</p>
",1250,2,<javascript><python><jupyter-notebook><jupyter><ipywidgets>,2017-08-04 15:34:15
45507024,Python Ipywidgets: Passing Button (value/description) on click to a textarea widget,"<p>I'm currently trying out ipywidgets in Jupyter. I wanted to pass the value or description that the button has to the textArea and append whichever button value it indicates. </p>

<p>So far this is the code that I have:</p>

<pre><code>#testing adding button and textbox
from ipywidgets import widgets as wd
from ipywidgets import Layout, Box
from IPython.display import display

btnLayout = Layout(flex='1 1 auto', width='auto')

btns= [
    wd.Button(description=""Add Route""),
    wd.Button(description=""234""),
    wd.Button(description=""411"")
]

box_layout = Layout(display='flex',
                    flex_flow='row',
                    align_items='stretch')

box = Box(children=btns, layout=box_layout)

display(box)
box.children[1].layout.visibility = 'hidden'
box.children[2].layout.visibility = 'hidden'

txtArea = wd.Textarea()
display(txtArea)

def show(b):
    box.children[1].layout.visibility = 'visible'
    box.children[2].layout.visibility = 'visible'

#function intended to append button value/description to textArea
def add_text(b):
    txtArea.value = ""test, "" + txtArea.value

box.children[0].on_click(show)
box.children[1].on_click(add_text)
box.children[2].on_click(add_text)
</code></pre>

<p>I read about links and observe... but I don't think it will do what I intend to have in my code. Any ideas how to work around this if there is no direct way, unlike the intsliders etc.?</p>
",6436,1,<python><python-2.7><ipywidgets>,2017-08-04 12:35:49
45501065,How to clear both widgets and their out by other widget,"<p>I load the list of files with <code>checkbox</code> to be filtered using <code>ipywidgets</code>:</p>
<pre><code>from ipywidgets import Checkbox, interact, Layout, Button
import ipywidgets as widgets
import glob
from traitlets import traitlets
from IPython.display import display, clear_output

class LoadedButton(widgets.Button):
    def __init__(self, value=None, *args, **kwargs):
        super(LoadedButton, self).__init__(*args, **kwargs)
        # Create the value attribute.
        self.add_traits(value=traitlets.Any(value))

def file_list(**all_kwargs):
    cols = [k for k, v in all_kwargs.items() if v==True]
    return cols
    
def reload_files(rr):
    for c in all_files:
        c.close()
        clear_output()
    print('Unselect the csv files above *to EXCLUDE*')
    rr.value =interact(file_list, **all_kwargs)
    return rr

extension = 'csv'                # extention of file you want to read, csv, dat, etc.
all_file_list = [i for i in glob.glob('*.{}'.format(extension))]
all_files = [Checkbox(description=a, value=True) for a in all_file_list ]
all_kwargs = {c.description: c.value for c in all_files} 

lb = LoadedButton(description=&quot;Load/reload file list&quot;, value=None)
lb.on_click(reload_files)
display(lb)
</code></pre>
<p>I wish to overwrite the previous outputs (both widget and widget outputs) for every time I click on button created using the Button widget, but instead of overwriting it creates another instance of output. I tried both <code>clear_output</code> and <code>widget.close()</code> options, but nothing helps. I know <code>clear_output</code> is not expected to clear the widget, but I expect this to be possible using <code>close()</code>. Does anyone know how to clear/overwrite the ipywidgets as well ipywidget outputs when reloading by button?
<a href=""https://i.stack.imgur.com/0obfA.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/0obfA.png"" alt=""another instance of output "" /></a></p>
",2099,1,<python><python-3.x><ipython-notebook><ipywidgets>,2017-08-04 07:49:14
45479293,Using jupyterhub authorisation token fails,"<p>I have a running jupyterhub service and I want to interact with the REST API with admin privileges.</p>

<p>The docs suggest I can get a authorisation token like this, where <code>username</code> is an admin user:</p>

<pre><code>$ jupyterhub token --config=&lt;path-to-config&gt; &lt;username&gt;
f9ed5a19d62d4285bbebe2ded9028baf
</code></pre>

<p>However, if I use this token in a request to the API it fails:</p>

<pre><code>&gt;&gt;&gt; t1 = 'f9ed5a19d62d4285bbebe2ded9028baf'
&gt;&gt;&gt; requests.get('http://myjupyterhub/hub/api/users', headers={'Authorization': 'token {}'.format(t1)})
&gt;&gt;&gt; &lt;Response [403]&gt;
</code></pre>

<p>I can get a token if I have the user's password but this is inconvenient in my scenario:</p>

<pre><code>&gt;&gt;&gt; r = requests.post('http://myjupyterhub/hub/api/authorizations/token', json={'username': 'myadmin', 'password': myadminpass})
&gt;&gt;&gt; t2 = r.json()['Authentication']
&gt;&gt;&gt; requests.get('http://myjupyterhub/hub/api/users', headers={'Authorization': 'token {}'.format(t2)})
&gt;&gt;&gt; &lt;Response [200]&gt;
</code></pre>

<p>Have I misunderstood how <code>jupyterhub token</code> works?  </p>
",187,3,<jupyter><jupyterhub>,2017-08-03 08:49:55
45471831,Ipywidgets Jupyter Notebook Interact Ignore Argument,"<p>Is there a way to have <code>interact(f)</code> ignore certain arguments in <code>f</code>? I believe it is getting confused by the fact that I have a default argument that I use to pass in a dataframe. Here is my function:</p>

<pre><code>def show_stats(start,end,df_pnl=df_pnl):
    mask = df_pnl['Fulldate'] &gt;= start &amp; df_pnl['FullDate'] &lt;= end
    df_pnl = df_pnl[mask]
    #do some more transformations here
    display(df_pnl)
</code></pre>

<p>Here is what I'm trying to do:</p>

<pre><code>interact(show_stats,start=start_str,end=today_str)
</code></pre>

<p>And here is the error I'm getting:</p>

<p><a href=""https://i.stack.imgur.com/D3hAx.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/D3hAx.png"" alt=""enter image description here""></a></p>

<p>I hypothesize that <code>interact</code> somehow changes <code>df_pnl</code> into a string (since it gives a dropdown of the column headers in the interact output), and fails because it then tries to do <code>df_pnl['Fulldate'].....</code> on a string, which causes the error shown.</p>

<p>How do I get around this? Could I exclude that argument from my function while still having it work on the correct dataframe? Is there an option within interact to ignore certain arguments in the function?</p>

<p>Thanks </p>
",1716,2,<python-3.x><jupyter-notebook><ipython-notebook><jupyter><ipywidgets>,2017-08-02 22:09:19
45464424,How to change the default position of a ipywidget slider to the side of a matplotlib figure?,"<p>I am looking into a way to change the position of the vertical IntSlider to the right of the matplotlib fig. Here is the code:</p>

<pre><code>from ipywidgets import interact, fixed, IntSlider
import numpy as np
from matplotlib import pyplot as plt

%matplotlib notebook

fig = plt.figure(figsize=(8,4))

xs = np.random.random_integers(0, 5000, 50)
ys = np.random.random_integers(0, 5000, 50)

ax = fig.add_subplot(111)
scat, = ax.plot(xs, ys, 'kx', markersize=1)
ax.grid(which='both', color='.25', lw=.1)
ax.set_aspect('equal'), ax.set_title('Rotate')

def rotate(theta, xs, ys):
    new_xs = xs * np.cos(np.deg2rad(theta)) - ys * np.sin(np.deg2rad(theta))
    new_xs -= new_xs.min()
    new_ys = xs * np.sin(np.deg2rad(theta)) + ys * np.cos(np.deg2rad(theta))
    new_ys -= new_ys.min()
    return new_xs, new_ys

def update_plot(theta, xs, ys):
    new_xs, new_ys = rotate(theta, xs, ys)
    scat.set_xdata(new_xs), scat.set_ydata(new_ys)
    ax.set_xlim(new_xs.min() - 500, new_xs.max() + 500)
    ax.set_ylim(new_ys.min() - 500, new_ys.max() + 500)

w = interact(update_plot, 
             theta=IntSlider(min=-180, max=180, step=5,value=0, orientation='vertical'), 
             xs=fixed(xs), 
             ys=fixed(ys))
</code></pre>

<p>This is what I have:</p>

<p><a href=""https://i.stack.imgur.com/M1mfh.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/M1mfh.png"" alt=""enter image description here""></a></p>

<p>This is what I want:</p>

<p><a href=""https://i.stack.imgur.com/O8ITZ.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/O8ITZ.jpg"" alt=""enter image description here""></a></p>

<p>There might be a very simple way to do this, but I can't figure out myself.</p>

<p>I tried to place both the <code>fig</code> and the <code>interactive</code> widget into a <code>VBox</code> then wrapping the <code>VBox</code> with <code>IPython.display</code> and it didn't work.</p>

<p>Could not find a straight solution to this in the examples.</p>

<p>EDIT1:</p>

<p>ipywidgets provides an <code>Output()</code> class that captures the output area and use it inside the widget context.</p>

<p>I will try to figure out how to use it.</p>

<p>This is the object:
<a href=""https://github.com/jupyter-widgets/ipywidgets/blob/master/ipywidgets/widgets/widget_output.py"" rel=""nofollow noreferrer"">https://github.com/jupyter-widgets/ipywidgets/blob/master/ipywidgets/widgets/widget_output.py</a></p>
",5725,4,<python><matplotlib><jupyter><ipywidgets>,2017-08-02 15:02:02
45440253,ipywidgets: how to organize sliders in two columns,"<p>I am trying to work out how to display the sliders of ipywidgets in two (or more) columns. Does anyone have an example how to do it? My code (in jupyter notebook) now is the following:</p>

<pre><code>import matplotlib.pylab as plt
import numpy as np
from ipywidgets import interact,FloatSlider,IntSlider
%matplotlib inline
def plotPP(p,p_LP,Tperiods):
    t=np.linspace(0,Tperiods*(np.pi*2),1000)
    f = plt.figure(figsize=(1.618*6,6))
    p_t = p*(1.0+np.cos(t))
    plt.plot(t,p_t,'b',lw=2.0)
    plt.axhline(p_LP,color='r',lw=2.0)
    plt.xlim([t[0],t[-1]])
    plt.ylim([min(p_LP,np.amin(p_t))-0.1,np.amax(p_t)+0.1])
    plt.ylabel(r'$p$')
    plt.xlabel(r'$t$')

p_s       = FloatSlider(min=0, max=2, step=0.01, value=1.0)
p_LP_s    = FloatSlider(min=0, max=2., step=0.01, value=0.481343)
Tperiods_s= IntSlider(min=1,max=10,value=1)
interact(plotPP,p=p_s,p_LP=p_LP_s,Tperiods=Tperiods_s)
</code></pre>

<p>And it displays the three sliders one on top of the other:<a href=""https://i.stack.imgur.com/k1wAg.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/k1wAg.png"" alt=""enter image description here""></a></p>
",2761,1,<python-2.7><widget><jupyter-notebook><jupyter><ipywidgets>,2017-08-01 14:12:35
45417413,Displaying alert message to user from spawner,"<p>We have written a custom spawner for JupyterHub to suit our use cases. In the same spawner, we have memory limits for every user, and this is checked within the <code>poll()</code> function, and logged on the server.</p>

<p>What I want to do is to display an alert to the client when he approaches, say about 90% of his memory limits, and another at 100%, displaying that the process is being killed.</p>

<p>Simply put : <strong>I need to display an alert message on client browser window through the <code>poll()</code> function</strong></p>

<p>Is it even possible ? Can I do it using Flask ? (The resources I found online were about creating a new server. In this case, we already have a jupyterhub server running.)</p>

<p><strong>EDIT</strong> : Here's my client side Javascript:</p>

<pre><code>&lt;script type=""text/javascript""&gt;
// Client-side Javascript in the HTML

var targetContainer = document.getElementById(""this-div"");
var eventSource = new EventSource(""/stream"");
eventSource.onmessage = function(e) {
    targetContainer.innerHTML = e.data;
};

&lt;/script&gt;
</code></pre>

<p>Here's the <code>poll()</code> function :</p>

<pre><code>@gen.coroutine
def poll(self):
    """"""Poll the spawned process to see if it is still running.

    If the process is still running, we return None. If it is not running,
    we return the exit code of the process if we have access to it, or 0 otherwise.
    """"""

    self.log.debug(""Polling "" + self.user.name + ""..."")
    # peh = ProxyErrorHandler()
    # peh.get(503)
    self.stream()
</code></pre>

<p>And here's the <code>stream()</code> function:</p>

<pre><code>app = Flask(__name__)
    @app.route(""/stream"")
    def stream(self):
        def eventStream():
            while True:
                yield ""Hello World""
        return Response(eventStream(), mimetype=""text/event-stream"")
</code></pre>

<p>The Javascript throws a <code>404 Not Found</code> error, which makes sense because the poll() function runs every 30 seconds only.</p>
",69,0,<javascript><python><flask><tornado><jupyterhub>,2017-07-31 13:33:22
45188464,Return output of the function executed 'on_click',"<p>How to get the output of the function executed <code>on_click</code> by <code>ipywidgets.Button</code> 
 outside the function to use in next steps? For example, I want to get back the value of <code>a</code> after every click to use in the next cell of the jupyter-notebook. So far I only get <code>None</code>.</p>

<pre><code>from ipywidgets import Button
def add_num(ex):
    a = b+1
    print('a = ', a)
    return a

b = 1
buttons = Button(description=""Load/reload file list"")
a = buttons.on_click(add_num)
display(buttons)
print(a)
</code></pre>
",4670,7,<python-3.x><jupyter-notebook><ipywidgets>,2017-07-19 10:54:30
45024049,Is there a system location for custom.css searched along with ~/.jupyter/custom/?,"<p>For a multiuser JupyterHub server, how do you apply customizations outside of user's home directory, so that it will affect all new users' notebooks ?</p>

<p>I've copied a working stylesheet from <code>~/.jupyter/custom/custom.css</code> to the following locations with no joy:</p>

<pre><code>/etc/jupyter/custom
/usr/etc/jupyter/custom
/usr/local/etc/jupyter/custom
</code></pre>
",500,2,<jupyter><jupyterhub>,2017-07-11 01:41:46
44995257,In a public instance of Jupyter hub: how to prevent users to navigate through the directory system of the server?,"<p>Is there any way of avoiding users of a public instance of Jupyterhub to navigate (using magic commands) through the directory system of the public server deploying the public instance? (in my particular case the users should be able to import a given python package from their notebooks but shouldn't be able to see the source code of that python package, neither some other critical directories of the server). Thanks a lot.</p>
",707,1,<jupyter-notebook><jupyterhub>,2017-07-09 10:08:06
44986451,How to add widgets to container widget in ipython/jupyter,"<p>I am trying to make VBox widget and and add a new row with text when button is clicked. </p>

<p>I try the following code </p>

<pre><code>import ipywidgets as wg
from ipywidgets import Layout
from IPython.display import display

vb = wg.VBox([wg.Text('1'),wg.Text('2')])
btn = wg.Button(description = 'Add') 

def on_bttn_clicked(b):        
    vb.children=tuple(list(vb.children).append(wg.Text('3'))) 

btn.on_click(on_bttn_clicked)
display(vb, btn)

list(hb.children)
</code></pre>

<p>But the assignment ""hb.children="" does not work... 
Is there a way to edit container widgets with code in the same cell? </p>
",3540,3,<python-3.x><jupyter-notebook><ipywidgets>,2017-07-08 12:54:28
44986021,Jupyterhub/singleuser shared volume,"<p>I'm trying to setup a Jupyterhub server on Ubuntu 16.04, much along the lines of <a href=""https://github.com/minrk/jupyterhub-demo"" rel=""nofollow noreferrer"">https://github.com/minrk/jupyterhub-demo</a>. </p>

<p>I changed the jupyterhub_config.py to support persistent storage using the tips given here <a href=""https://github.com/jupyterhub/dockerspawner#data-persistence-and-dockerspawner"" rel=""nofollow noreferrer"">https://github.com/jupyterhub/dockerspawner#data-persistence-and-dockerspawner</a>: </p>

<pre><code>notebook_dir = os.environ.get('DOCKER_NOTEBOOK_DIR') or '/home/jovyan/work'
c.DockerSpawner.notebook_dir = notebook_dir
c.DockerSpawner.volumes = { 'jupyterhub-user-{username}': notebook_dir }
</code></pre>

<p>However, I would like to add a shared ""team"" volume for teams of users. I have a dictionary with usernames (keys) and teamnames (values) to map users to teams. </p>

<p>Ideally I would state something like:</p>

<pre><code>c.DockerSpawner.volumes = { 
    'jupyterhub-user-{username}': notebook_dir, 
    'jupyterhub-team-{teamname}': os.path.join(notebook_dir, 'shared' 
}
</code></pre>

<p>But I have no clue as to how to pass another {name} mapping to dockerspawner. </p>

<p>I tried fiddling with these, but so far to no avail:</p>

<pre><code>c.DockerSpawner. ...
extra_create_kwargs = Dict(config=True, help=""Additional args to pass for container create"")
extra_start_kwargs = Dict(config=True, help=""Additional args to pass for container start"")
extra_host_config = Dict(config=True, help=""Additional args to create_host_config for container create"")
</code></pre>

<p>Any ideas?</p>

<p>P.S.: This question is somewhat related to <a href=""https://stackoverflow.com/questions/35416116/shared-writable-folders-in-jupyterhub"">Shared, writable folders in jupyterhub</a></p>
",1684,1,<python><docker><ubuntu-16.04><jupyter><jupyterhub>,2017-07-08 12:01:27
44985938,jupyter/tmpnb for commercial web application demo,"<p>I wanted to create a real time demo of a web application based on our own proprietary python package. In the demo the users should be able to import the package and then write and run in real time simple python scripts that explore the package features. A public instance of Jupyter notebooks (particularly the implementation of <a href=""https://github.com/jupyter/tmpnb"" rel=""nofollow noreferrer"">jupyter/tmpnb</a>) would be an optimal solution, but I am concerned that the users will be able to access the proprietary python code just by using Jupyter's magic commands (i.e. by accessing shell commands) and navigating at will through the directory system of the server running the public instance. Is there any alternative to Jupyter notebooks that I can use for this? (i.e. to set up an interactive real time session for the users of the demo, so they can do their python tests of the package without being able to access the package code). Any suggestions on what the best way of doing this will be appreciated. Thanks a lot.   </p>
",111,0,<python><web-applications><jupyter-notebook><jupyterhub>,2017-07-08 11:51:46
44894576,"Interactive, read-only Jupyter notebook","<p>I have a notebook that given input from ipywidget sliders, does some calculations and generates a graph. Is there a way I can create a ""read-only"" version of this interactive notebook, essentially one in which the user can interact through the sliders but nothing else (like code entry)? Thanks!</p>
",901,2,<ipython><jupyter-notebook><ipython-notebook><ipywidgets>,2017-07-03 22:30:22
44873318,How to share just jupyter notebook dashboard to someone with out letting them access code?,"<p>So, I found a demo jupyter notebook online with toggles to adjust input to the graph. I would like to share this dashboard with someone without sharing the code which runs behind it.</p>

<p>How do I do it? I am very new to Jupyter Dashboards deploy.</p>

<p>I have seen tutorials and I see there is this option ""deploy"" under """"File"" (File->Deploy As->Local Dashboard.)</p>

<p>Jupyter notebook example I found online has Deploy As Local Dashboard option available here and My jupyter doesn't have that option.</p>

<p><a href=""https://i.stack.imgur.com/1vX4w.png"" rel=""nofollow noreferrer"">A Notebook I found online with ""Deploy"" as option which I don't have</a></p>
",2301,1,<python><jupyter-notebook><ipython-notebook><data-science><jupyterhub>,2017-07-02 17:15:32
44867290,ipywidgets jupyter notebook,"<p><a href=""https://i.stack.imgur.com/gDU3Q.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/gDU3Q.png"" alt=""enter image description here""></a></p>

<p>I updated my version of Anaconda and when i try to use ipywidgets in Jupyter notebook i get several graphics instead of an interactive one:</p>

<pre><code>%matplotlib inline
from matplotlib import pyplot as plt
import numpy as np

from ipywidgets import interact

def pinta(freq):
    x = np.linspace(0,3,200)
    y = x * np.sin(freq * x)

    plt.plot(x,y,'r')

interact(pinta, freq= (2 * np.pi, 2 * np.pi *10))
</code></pre>
",421,1,<python><anaconda><jupyter-notebook><ipywidgets>,2017-07-02 03:51:16
44823994,Jupyter notebook - OSError [Errno 2] No such file or directory,"<p>I had to install Jupyter in order to complete Udacity's projects. After following the instructions, and running Jupyter, none of the notebooks would open. This is the log output: </p>

<pre><code>[W 06:54:04.215 NotebookApp] The signatures database cannot be opened; maybe it is corrupted or encrypted. You may need to rerun your notebooks to ensure that they are trusted to run Javascript. The old signatures database has been renamed to /home/aulon/.local/share/jupyter/nbsignatures.db.bak and a new one has been created.
[E 06:54:04.218 NotebookApp] Unhandled error in API request
    Traceback (most recent call last):
      File ""/home/aulon/.local/lib/python2.7/site-packages/notebook/base/handlers.py"", line 516, in wrapper
        result = yield gen.maybe_future(method(self, *args, **kwargs))
      File ""/home/aulon/.local/lib/python2.7/site-packages/tornado/gen.py"", line 1055, in run
        value = future.result()
      File ""/home/aulon/.local/lib/python2.7/site-packages/tornado/concurrent.py"", line 238, in result
        raise_exc_info(self._exc_info)
      File ""/home/aulon/.local/lib/python2.7/site-packages/tornado/gen.py"", line 307, in wrapper
        yielded = next(result)
      File ""/home/aulon/.local/lib/python2.7/site-packages/notebook/services/contents/handlers.py"", line 124, in get
        path=path, type=type, format=format, content=content,
      File ""/home/aulon/.local/lib/python2.7/site-packages/notebook/services/contents/filemanager.py"", line 384, in get
        model = self._notebook_model(path, content=content)
      File ""/home/aulon/.local/lib/python2.7/site-packages/notebook/services/contents/filemanager.py"", line 344, in _notebook_model
        self.mark_trusted_cells(nb, path)
      File ""/home/aulon/.local/lib/python2.7/site-packages/notebook/services/contents/manager.py"", line 456, in mark_trusted_cells
        trusted = self.notary.check_signature(nb)
      File ""/home/aulon/.local/lib/python2.7/site-packages/traitlets/traitlets.py"", line 556, in __get__
        return self.get(obj, cls)
      File ""/home/aulon/.local/lib/python2.7/site-packages/traitlets/traitlets.py"", line 535, in get
        value = self._validate(obj, dynamic_default())
      File ""/home/aulon/.local/lib/python2.7/site-packages/notebook/services/contents/manager.py"", line 58, in _notary_default
        return sign.NotebookNotary(parent=self)
      File ""/home/aulon/.local/lib/python2.7/site-packages/nbformat/sign.py"", line 390, in __init__
        self.store = self.store_factory()
      File ""/home/aulon/.local/lib/python2.7/site-packages/nbformat/sign.py"", line 338, in factory
        return SQLiteSignatureStore(self.db_file)
      File ""/home/aulon/.local/lib/python2.7/site-packages/nbformat/sign.py"", line 147, in __init__
        self.db = self._connect_db(db_file)
      File ""/home/aulon/.local/lib/python2.7/site-packages/nbformat/sign.py"", line 171, in _connect_db
        os.rename(db_file, old_db_location)
    OSError: [Errno 2] No such file or directory
...
</code></pre>

<p>I googled and found some similar problems <a href=""https://github.com/jupyter/notebook/issues/1171"" rel=""nofollow noreferrer"">here</a>, <a href=""https://github.com/jupyter/notebook/issues/2301"" rel=""nofollow noreferrer"">here</a>, and <a href=""https://github.com/ipython/ipython/issues/9163"" rel=""nofollow noreferrer"">here</a>, without success.</p>

<p>I installed Anaconda, still the same problem. </p>

<p>Any help is much appreciated. </p>

<p>If I cannot solve this, how can I fully uninstall everything related to jupyter and anaconda? I am using Ubuntu 16.04. </p>

<p>Otherwise, is there any other way I can open a python notebook without jupyter? Maybe Spyder?</p>
",19802,3,<python><anaconda><jupyter-notebook><jupyter><jupyter-irkernel>,2017-06-29 11:33:31
44667052,Python ipywidgets checkbox events,"<p>I am using ipywidgets.widgets.Checkbox. Is there any way to handle the checkbox events? Please do help. I am a beginner.</p>

<p>edit: How to create a list of checkboxes?</p>
",15253,4,<python><ipywidgets>,2017-06-21 04:48:15
44555564,Working with ipywidgets and images,"<p>I can see an image, but I made a function to make changes to the array of that image (called <code>next_step</code>) and I want to see changes of that image trough ipywidgets while I control the parameters, but the problem is that the image is displayed multiple times while I would like to refresh it only.</p>

<p><a href=""https://i.stack.imgur.com/Eqk8J.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/Eqk8J.png"" alt=""enter image description here""></a></p>

<p><a href=""https://i.stack.imgur.com/45oMC.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/45oMC.png"" alt=""enter image description here""></a></p>

<p>This is the code:</p>

<pre><code>def blur(t, c):
    steps = int(t / delta_t)

    sol = []

    sol.append(image)

    for i in range(steps):
        sol.append(next_step(sol[-1], c))

    clear_output()
    plt.imshow(sol[-1])
</code></pre>

<p>And the other one:</p>

<pre><code>from IPython.display import clear_output
from ipywidgets import widgets

interact(blur, t=widgets.FloatSlider(min=t_min, max=t_max, step=delta_t), c=widgets.FloatSlider(min=0.1, max=1, step=0.1))
</code></pre>

<p>How can I update/refresh the image instead of printing it several times with ipywidgets?</p>
",1525,1,<matplotlib><ipython-notebook><jupyter><ipywidgets>,2017-06-14 22:14:36
44552756,Nyaplot generates no plot in iruby running in jupyterhub,"<p>I'm trying to set up a Ruby kernel within an existing multi-user jupyterhub installation. It works in all of my tests, except that plots created by nyaplot (the only plotting package I could find that works within iruby) don't show up in the notebook. For example, the following code (from one of the Nyaplot tutorials) gives no error (not even in the syslog file) but no plot:</p>

<pre><code>require 'nyaplot'
plot = Nyaplot::Plot.new
sc = plot.add(:scatter, [0,1,2,3,4], [-1,2,-3,4,-5])
color = Nyaplot::Colors.qual
sc.color(color)
plot.show # show plot on IRuby notebook
</code></pre>

<h2>Background:</h2>

<p>Here's how I set up iruby to run in jupyterhub. I'm giving the entire process so (a) you can spot if anything is missing, and (b) so you know that if you say something like ""add [this] to the Gemfile"" you're going to have to tell me where to put the Gemfile, since jupyterhub is not running iruby out of a particular directory. </p>

<p>The OS is CentOS 7.3. Since its default version of ruby is too old to run iruby, I installed a version of ruby using ruby-install:</p>

<pre><code>wget -O ruby-install-0.6.1.tar.gz https://github.com/postmodern/ruby-install/archive/v0.6.1.tar.gz
tar -xzvf ruby-install-0.6.1.tar.gz 
cd ruby-install-0.6.1
make
make install
ruby-install ruby 2.3.4
</code></pre>

<p>(I used ruby 2.3, instead of 2.4, because it turned out that at least one component of sciruby-full doesn't work with 2.4 yet.) After the installation, a message says that ruby is installed in /opt/rubies/ruby-2.3.4. </p>

<h2>Next come the package installations.</h2>

<p>I had to make sure that nothing was installed in my home directory, because in a multi-user system the other users don't have access to my home directory's files. I'm listing below all the packages I eventually installed to try to solve this problem:</p>

<pre><code>export RUBYDIR=/opt/rubies/ruby-2.3.4
export PATH=${RUBYDIR}/bin:$PATH
export LD_LIBRARY_PATH=${RUBYDIR}/lib:$LD_LIBRARY_PATH
export GEM_HOME=${RUBYDIR}
export GEM_PATH=${RUBYDIR}
gem install --no-user-install cztop rbczmq iruby
gem install --no-user-install pry pry-doc awesome_print gnuplot rubyvis nyaplot
gem install --no-user-install sciruby-full
gem install --no-user-install zeromq ffi-rzmq gnuplotrb
</code></pre>

<h2>Next comes installing the iruby kernel into jupyterhub.</h2>

<p>After looking at the results of ""<code>iruby register --force</code>"",<br>I created the file <code>/usr/local/share/jupyter/kernels/ruby</code>:</p>

<pre><code>{""argv"":[
         ""/usr/local/bin/jupyter-ruby-env.sh"",
         ""{connection_file}""
          ],
 ""display_name"":""Ruby"",
 ""language"":""ruby""
}
</code></pre>

<p>In /usr/local/bin/jupyter-ruby-env.sh:</p>

<pre><code>#!/usr/bin/bash -l                                                                                                                                    
export RUBYDIR=/opt/rubies/ruby-2.3.4
export PATH=${RUBYDIR}/bin:$PATH
export LD_LIBRARY_PATH=${RUBYDIR}/lib:$LD_LIBRARY_PATH
export GEM_HOME=${RUBYDIR}
export GEM_PATH=${RUBYDIR}
exec ${RUBYDIR}/bin/iruby kernel $@
</code></pre>

<p>As I said, all of this works as far as basic ruby is concerned: I can run code I found in the Ruby tutorials. The only thing I don't get are plots. All of the other jupyterhub kernels I've installed (e.g., python, SageMath, Julia) have no problems plotting. </p>

<p>Any ideas?</p>
",289,5,<ruby><graphics><centos7><jupyterhub><iruby>,2017-06-14 19:04:38
44421041,Setting up jupyterhub docker using one of the jupyter stacks,"<p>I'm trying to get a Jupyterhub up and running. 2.7 Python kernels are required, so basically whatever in the <a href=""https://github.com/jupyter/docker-stacks"" rel=""nofollow noreferrer"">docker-stacks repo</a> would be great. In the documentation,  it mentions that it can work with Jupyterhub using DockerSpawner, but I can't quite see how it all fits together. Is anyone aware of a simple step by step guide to get this working?</p>
",233,0,<python-2.7><docker><jupyter-notebook><jupyterhub>,2017-06-07 19:14:23
44418115,Interactive plotting in Jupyter results in subsequent plots being appended,"<p>I am trying to make an interactive plot in Jupyter, and it works somewhat with one problem, which is that every time I hit the button to generate a plot, a new plot is appended instead of the current one being replaced. Any ideas on how to fix this problem?</p>

<pre><code>field_ddl = widgets.Dropdown(
    options=['race', 'gender', 'grade'],
    value='race',
    description='field:',
    disabled=False,
    button_style='info'
)
graph_btn = widgets.Button(
    description='graph',
    disabled=False,
    button_style='success',
    tooltip='distribution plot',
    icon='check'
)

def graph_btn_clicked(e):
    field = field_ddl.value
    df[field].value_counts().plot(kind='bar', title=field)

graph_btn.on_click(graph_btn_clicked)

display(field_ddl)
display(graph_btn)
</code></pre>

<p>I've looked up the <a href=""http://ipywidgets.readthedocs.io/en/latest/examples/Using%20Interact.html"" rel=""nofollow noreferrer"">interact</a> feature, but that doesn't seem to help. Upon initialization, a graph is produced, but when the I select another field and hit the button again, nothing happens.</p>

<pre><code>interact(graph_btn_clicked, x=graph_btn)
</code></pre>
",587,2,<python><matplotlib><jupyter-notebook><jupyter><ipywidgets>,2017-06-07 16:24:50
44382065,Multi user signin on JupyterHub,"<p>I'm trying to setup JupyterHub on an Amazon EC2 instance using <a href=""https://github.com/jupyterhub/jupyterhub"" rel=""nofollow noreferrer"">these instructions</a>.</p>

<p>In the step titled <strong>Run the Hub Server</strong> I'm running the server using <code>sudo jupyterhub</code>. But I'm not able to login using the credentials of other Linux users (those apart from the one used to run the server).</p>

<p>It says <em>No such file or directory: 'jupyterhub-singleuser'</em> in the logs and I get a 500 internal server error in the browser. Please help!</p>
",1178,1,<jupyter-notebook><jupyter><jupyterhub>,2017-06-06 05:36:21
44257661,Python2 kernel is actually Python3 in JupyterHub,"<p>In trying to set up a python 2 kernel for my JupyterHub instance, I've added the following code to the Dockerfile for one of the images I'd like to run:</p>

<pre><code>RUN pip install -U ipython
RUN python2 -m pip install ipykernel
RUN python2 -m ipykernel install --user
</code></pre>

<p>Which I got from here: <a href=""https://ipython.readthedocs.io/en/latest/install/kernel_install.html"" rel=""nofollow noreferrer"">https://ipython.readthedocs.io/en/latest/install/kernel_install.html</a></p>

<p>However, when I launch Jupyterhub I still see the image as running python 3, despite me having selected the ""Python 2"" kernel:
<a href=""https://i.stack.imgur.com/YJLbp.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/YJLbp.png"" alt=""enter image description here""></a></p>

<p>Inside my docker container / notebook environment in <code>/usr/share/jupyter/kernels</code> I see this:</p>

<pre><code>sh-4.2$ pwd
/usr/share/jupyter/kernels
sh-4.2$ ls
python2  python3
</code></pre>

<p>When I got into <code>python2</code> I see a <code>kernel.json</code> file with the following in it:</p>

<pre><code>{
 ""display_name"": ""Python 2"",
 ""language"": ""python"",
 ""argv"": [
  ""python"",
  ""-m"",
  ""ipykernel_launcher"",
  ""-f"",
  ""{connection_file}""
 ]
}
</code></pre>

<p>And sure enough, the output of <code>python --version</code> is <code>Python 2.7.5</code>.</p>

<p>However, when I launch a notebook and inspect <code>/proc/{pid}/cmdline</code> I see that the kernel for <code>Python 2</code> was launched using the binary in <code>/usr/bin/python3.4</code>, which is obviously <em>not</em> Python 2.</p>

<p>What am I doing wrong here?</p>
",298,1,<python><python-2.7><jupyterhub>,2017-05-30 08:52:19
44191051,"ipywidgets: link two widgets so that when one updates, the other also updates","<p>I am trying to link two ipython widgets together so that when one widget updates (slider moves, text inputted, etc) another widget also updates. I have found that you can link the values together using <code>traitlets.link</code>, but cannot find a way to link together just the update behavior. Basically I want one widget to call its <code>on_trait_change</code> (now called <code>observe</code>) handler whenever the other one does. </p>

<p>I can't use the method suggested for <a href=""https://stackoverflow.com/questions/37144216/ipywidgets-update-one-widget-based-on-results-from-another"">this question</a> because the handler for the widget that needs to update relies on variables that are not accessible to the ""trigger"" widget, so the handler for the ""trigger"" widget cannot simply include the actions required of the widget that needs to update. </p>

<p>Example:</p>

<pre><code>from ipywidgets import widgets
from IPython.display import display

data={'foo':3, 'bar':5}
private_data=10 #input1 widget can use this data, input2 widget can't

output=widgets.Text(value='outputs', disabled=True)

def input_update(x):
    data['foo']=x
    output.value=str(data['foo']+data['bar']+private_data)

#elsewhere in another class, not privy to private_data
def input_update2(y):
    data['bar']=y

input1=widgets.interactive(input_update,x=10)
input2=widgets.interactive(input_update2,y=10)
display(output,input1,input2)
</code></pre>
",1032,6,<widget><ipython><jupyter-notebook><ipywidgets>,2017-05-25 22:59:45
44180957,Interactive Graph with matplotlib and ipywidget,"<p>I am trying to follow up on a problem discussed, but not completely solved, here:
<a href=""https://stackoverflow.com/questions/40122837/interactive-matplotlib-using-ipywidgets"">Interactive matplotlib using ipywidgets</a></p>

<p>I am using Python 2.7 in a jupyter notebook environment and want the following function to be modified interactively in jupyter.</p>

<pre><code>%matplotlib notebook
from ipywidgets import *
import numpy as np
import matplotlib.pyplot as plt

x = np.linspace(0, 2 * np.pi)
fig = plt.figure()
ax = fig.add_subplot(1, 1, 1)
line, = ax.plot(x, np.sin(x))

def update(w = 1.0):
    line.set_ydata(np.sin(w * x))
    fig.canvas.draw()

interact(update);
</code></pre>

<p>While the slider shows and can be modified, no graph is shown.</p>

<p>Where is my misunderstanding?</p>

<p>[EDIT] Works well now with the solution below, result:
<a href=""https://i.stack.imgur.com/vsdCK.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/vsdCK.png"" alt=""enter image description here""></a></p>
",2751,3,<python><matplotlib><ipython><jupyter-notebook><ipywidgets>,2017-05-25 12:45:29
44172426,ipywidgets use container inside Tab,"<p>Need to set an ipywidget container widget(HBox, VBox, ect.) inside a Tab 
The following is a dummy example of what I trying to do just using a list of Text widgets as a stand in for any other widget</p>

<p>Create a list of what will be in the VBox widget, bind this list of widgets to a VBox, then display that resulting VBox; and this works as expected:</p>

<pre><code>import ipywidgets as widgets
from IPython.display import display

#just ""dummy"" widgets for exsample
subwids=[widgets.Text(value='Hello City'), 
 widgets.Text(value='Hello State'), 
 widgets.Text(value='Hello country '), 
 widgets.Text(value='Hello Contant'),
 widgets.Text(value='Hello Continent')
]

#bind the dummy widgets to a VBox
BOX=widgets.VBox(subwids)
#display the VBox
display(BOX)
</code></pre>

<p>Now I am trying to set the existing VBox in a Tab in the Tab widget, and this is where it won't work and throws an error that can be seen when running the following:</p>

<pre><code>tab=widgets.Tab(BOX)
tab.set_title(0, 'GeoLevels')
display(tab)
</code></pre>

<p>But what I would want it to do is except the VBox in the tab just like I would do in Qt </p>
",2625,1,<tabwidget><ipywidgets>,2017-05-25 04:44:15
44056164,jupyter-client has to be installed but “jupyter kernelspec --version” exited with code 127,"<p>I have already installed Jupyter notebook in my ubuntu 16.04 machine. In jupyter notebook there is by default python installed. Now I want to use R from jupyter notebook. </p>

<p>To do so I followed <a href=""https://github.com/IRkernel/IRkernel"" rel=""noreferrer"">IRkernel installation link</a> and run below commands:</p>

<pre><code>install.packages('devtools')

devtools::install_github('IRkernel/IRkernel')
</code></pre>

<p>But when I run 
<code>IRkernel::installspec()</code> command it shows below error:</p>

<blockquote>
  <p>jupyter-client has to be installed but “jupyter kernelspec --version” exited with code 127</p>
</blockquote>

<p>I am now confused why this error occurs.</p>
",50345,49,<r><jupyter-notebook><jupyter-irkernel>,2017-05-18 19:18:02
43984135,"tensorflow gpu can not be called from jupyterhub/jupyter notebook, why?","<p>Well I figure eight hours is enough time trying to fix this on my own, so I'll just ask folks:</p>

<p>I am running tensorflow-gpu 1.1.0 just fine in my virtual environment named  'tensorflow'  outside of jupyterhub and Jupyter notebook.  That is, I can import tensorflow and run scripts with it using the gpu.</p>

<p>When I'm inside my tensorflow virtualenv and using jupyterhub, Jupyter can not seem to 'see' tensorflow.  I get the following error:</p>

<pre><code>ImportError: libcublas.so.8.0: cannot open shared object file: No such file or directory
</code></pre>

<p>1) This is a common seen error message indicating tensorflow install problems, yet my paths and environment variables seem fine.  After all, I can use tensorflow-gpu just fine outside of Jupyter.</p>

<p>2) Typing 'which jupyter' shows <code>~/anaconda3/envs/hub/bin/jupyter</code>, so I believe that I am referencing jupyter inside my virtualenv.
3) <code>Pip freeze</code> shows that I have jupyterhub and tensorflow-gpu. I even did a <code>pip3 freeze</code> and it shows both packages as well.</p>

<p>Any ideas? Can tensorflow-gpu be run from Jupyter notebooks?</p>
",1936,3,<tensorflow><jupyter-notebook><jupyterhub>,2017-05-15 16:06:00
43963402,How to change multiple interactive plots with a single input in Python,"<p>I am trying to make several interactive plots with the ipywidgets library in Jupyter Notebook. I face however one problem: I try to make multiple plots change when one single input widget changes, for example a slider. </p>

<p>In the added MWE this is illustrated with a sine and cosine function that both depend on a single input widget that sets the amplitude of both the sine and the cosine function. Thus, if the value of the input slider is set at the value 2, the amplitude of both the sine and cosine function must inmediately follow suit.</p>

<p>If you would run the code yourself then you will see that both sliders move together perfectly. But, not both plots change at the same time accordingly. </p>

<p>Does anyone have a solution for this? Not necessarily with ipywidgets?</p>

<p>Thank you in advance,</p>

<p>Rick</p>

<pre><code># FIRST JUPYTER NOTEBOOK CELL
import matplotlib.pyplot as plt
from ipywidgets import *
from math import * 
import numpy as np
%matplotlib inline

default_value = 1  # Default value of amplutide 

a = IntSlider(min = 1, max = 10, value = default_value, description = 'Amplitude of sine function')
b = IntSlider(min = 1, max = 10, value = default_value, description = 'Amplitude of sine function')

mylink = jslink((a, 'value'), (b, 'value'))

def widget_sine_function(amp_s = a):
  x = np.linspace(0,20,100000)  # Creat x-values for sine function
  y = [amp_s*sin(i) for i in x]  # Create y-values for sine function with amplitude according to value of widget a
  plt.clf()
  plt.figure(figsize=(15,5))
  plt.subplot(1, 2, 1)
  plt.plot(x,y)

interact(widget_sine_function)

# SECOND JUPYTER NOTEBOOK CELL
def widget_cosine_function(amp_c = b):
  x = np.linspace(0,20,100000)  # Creat x-values for cosine function
  y = [amp_c*cos(i) for i in x]  # Create y-values for cosine function with amplitude according to value of widget b
  plt.clf()
  plt.figure(figsize=(15,5))
  plt.subplot(1, 2, 1)
  plt.plot(x,y)

interact(widget_cosine_function)
</code></pre>
",793,3,<python><jupyter-notebook><ipywidgets>,2017-05-14 11:35:17
43931167,Jupyterhub - import data from another file,"<p>I am new to jupyterhub, and I'm trying to do the following. 
So have a code on jupyterhub, that is supposed to do the following: </p>

<pre><code>from a import b
</code></pre>

<p>where <code>a</code> is another file in the same ""Folder"". However, it's not working as it usually works on Spyder, and I'm receiving the following error message:</p>

<p><code>ImportError: No module named 'a'</code></p>

<p>How could I import data or functions from another files on jupyterhub? </p>
",151,0,<python><import><jupyter><jupyterhub>,2017-05-12 06:54:20
43873504,Using Python requests library on a virtual machine with jupyterhub is extremely slow,"<p>I setup a virtual machine with Jupyterhub. When I want to get use the requests package i is extremely slow.
When doing the flowing:</p>

<pre><code>import logging
import requests

logging.basicConfig() # you need to initialize logging, otherwise you will not see anything from requests
logging.getLogger().setLevel(logging.DEBUG)
requests_log = logging.getLogger(""requests.packages.urllib3"")
requests_log.setLevel(logging.DEBUG)
requests_log.propagate = True

session = requests.Session()

response = session.get(""http://www.google.de"")
</code></pre>

<p>I get this Debugging messages</p>

<pre><code>DEBUG:requests.packages.urllib3.connectionpool:Starting new HTTP connection (1): www.google.de
DEBUG:requests.packages.urllib3.connectionpool:http://www.google.de:80 ""GET / HTTP/1.1"" 200 4477
</code></pre>

<p>I've to wait more than a minute between the both debugging messages.</p>

<p>When I run the same code on my local machine with a regular Jupyter setup (using anaconda) it works without any problem.</p>

<p>I could imagine I did something wrong with the network settings, but I can't locate the problem.</p>

<p>Thanks for your help.</p>

<p>UPDATE:
I tested urllib3 - same problem. When I use regular python via bash, it work just fine, when I use ipython via bash it is very slow.</p>
",353,0,<python><ipython><python-requests><jupyter><jupyterhub>,2017-05-09 15:08:27
43844061,How to get IRkernel to show leaflet result?,"<p>I'm using leaflet in IRkernel, but the map produced doesn't show up in the output cell.</p>

<p>Actually, the map shows behind the cell, as can be seen from this figure, where the red arrow points:</p>

<p><img src=""https://i.stack.imgur.com/FQb4H.jpg"" alt=""this figure, where the red arrow points""></p>

<p>Is there any way to fix it?</p>

<pre><code>library(leaflet)
m &lt;- leaflet() %&gt;% addTiles()
m
</code></pre>

<p>I've notice the method to call saveWidget(), but the html file generated doesn't include Tiles layer.</p>
",65,3,<leaflet><jupyter-irkernel>,2017-05-08 09:24:05
43820691,Using ipywidgets with plotly in jupyter notebook,"<p>I want to use the offline plotting of plotly inside a jupyter notebook and want to manipulate or redraw the plot by using widgets from ipywidgets.
Unfortunately I do not manage to update the plots appropiately:</p>

<pre><code>from ipywidgets import widgets, HBox, Output
import plotly as py
from plotly.offline import iplot
from IPython.display import display

%matplotlib inline
ip_widget = widgets.FloatSlider(
    value=6,
    min=3,
    max=10,
    step=1,
    description='num',
    continuous_update = True
)

ow = Output()
def response(change):
    with ow:
        iplot([{'x':list(range(int(ip_widget.value))), 'y': list(range(int(ip_widget.value)))}])
ip_widget.observe(response)
display(ip_widget)
</code></pre>

<p>The provided code has two disadvantages:
It plots the graph multiple times.
The graph only shows up, if the slider is used.
How can I overcome these two issues? Please note that I don't want to use the online plotting capabilities of plotly and I don't want to solve this problem using interact.</p>

<p>Thank you very much for your answers.</p>
",6294,3,<python><jupyter-notebook><plotly><ipywidgets>,2017-05-06 12:51:59
43769068,Jupyter notebook: Widget Javascript not detected,"<p>Question:
I installed python3 and jupyter notebook using pip3 in MacOs 10.9.<br>
When I try to run the widget it gives error that there is no javascript widget.
I have python3 and R kernels installed in Jupyter-notebook.  </p>

<p>Code:  </p>

<pre><code>from ipywidgets import widgets
from IPython.display import display
text = widgets.Text()
display(text)
text.on_submit('hello')
</code></pre>

<p>Error:  </p>

<pre><code>Widget Javascript not detected.  It may not be installed or enabled properly.  
</code></pre>

<p>Attempts:  </p>

<pre><code>sudo -H pip3 install ipywidgets  
sudo -H pip3 install -upgrade ipywidgets  
jupyter nbextension enable --py widgetsnbextension
# restarted the computer. 
</code></pre>

<p>The last command gives error. </p>

<pre><code>[EnableNBExtensionApp] CRITICAL | Bad config encountered during initialization:
[EnableNBExtensionApp] CRITICAL | Unrecognized flag: '--py'
</code></pre>

<p>Note that in mac I have jupyter-nbextension command but the command:  </p>

<pre><code>jupyter-nbextension enable --py widgetsnbextension 
</code></pre>

<p>does not work either.</p>

<p>But <code>jupyter nbextension enable widgetsnbextension</code> gives no error and also does nothing. The same error is popped in if I run the code.  </p>

<p>Also,</p>

<pre><code>import ipywidgets
ipywidgets.__version__
</code></pre>

<p>gives '6.0.0'.  </p>

<p>Some notes:  </p>

<pre><code>which jupyter  
jupyter is /Library/Frameworks/Python.framework/Versions/3.5/bin/jupyter
which jupyter-notebook
jupyter-notebook is /Library/Frameworks/Python.framework/Versions/3.5/bin/jupyter-notebook
</code></pre>

<p>Related links:  </p>

<pre><code>https://github.com/jupyter-widgets/ipywidgets/issues/541    
https://github.com/jupyter/help/issues/32    
https://github.com/jupyter/help/issues/131    
https://github.com/binder-project/binder/issues/83   
</code></pre>

<p>How can I install widgets?<br>
Do I need to install java separately ? </p>
",17791,14,<python><jupyter-notebook><ipywidgets>,2017-05-03 20:06:31
43744999,Using Ipython ipywidget .Text() to create multiple variables,"<p>I would like to use widgets.Text() to specify multiple variables (year, month, day) that can be passed into an API request.</p>

<p>Based on the answer to <a href=""https://stackoverflow.com/questions/35361038/using-ipython-ipywidget-to-create-a-variable/35699667"">this question</a> I am able to successfully save the input from a single text box to a single variable. But I would like to display multiple text boxes at the same time and save their input values to three different output variables. I'm unsure how to generalize from the example given.</p>

<p>This code works for a single variable:</p>

<pre><code># Create text widget for output
year_output = widgets.Text()

# Create text widget for input
year_input = widgets.Text(
    placeholder=""example '2017'"",
    description='Year:',
    disabled=False
    )

# Define function to bind value of the input to the output variable 
def bind_input_to_output(sender):
    year_output.value = year_input.value

# Tell the text input widget to call bind_input_to_output() on submit
year_input.on_submit(bind_input_to_output)

# Display input text box widget for input
display(year_input)
</code></pre>

<p>I would like to be able to do something like this, as efficiently as possible:</p>

<pre><code>year_output = widgets.Text()
month_output = widgets.Text()
day_output = widgets.Text()

year_input = widgets.Text(
    placeholder=""example '2017'"",
    description='Year:',
    disabled=False
    )

month_input = widgets.Text(
    placeholder=""example '04'"",
    description='Month:',
    disabled=False
    )

day_input = widgets.Text(
    placeholder=""example '30'"",
    description='Day:',
    disabled=False
    )

#make this a generic function so that I don't have to repeat it for every input/output pair
def bind_input_to_output(sender): #what is 'sender'?
    output_var.value = input_var.value

year_input.on_submit(bind_input_to_output)
mont_input.on_submit(bind_input_to_output)
day_input.on_submit(bind_input_to_output)

display(year_input)
display(month_input)
display(day_input)
</code></pre>

<p>Apologies if this isn't clear enough! I can clarify as needed. Any guidance is greatly appreciated. Thank you!</p>
",4812,3,<python><jupyter-notebook><ipython-notebook><ipywidgets>,2017-05-02 18:39:42
43592285,Use python in R-kernel Jupyter,"<p>I am using the IRKernel in a Jupyter notebook but I want to run some Python cells. I have seen <a href=""https://www.datacamp.com/community/blog/jupyter-notebook-r#gs.=LzBuwQ"" rel=""noreferrer"">examples</a> to run R code while using the Python kernel in Jupyter, i.e. </p>

<pre><code>%load_ext rpy2.ipython
%R require(ggplot2)
</code></pre>

<p>Is there a way to do the reverse? Something like</p>

<pre><code>%load_ext py.ipython
%Python import pandas as pd
</code></pre>
",776,5,<python><jupyter-notebook><jupyter-irkernel>,2017-04-24 15:36:37
43505637,Integrating objects with IRKernel,"<p>Similar to how you can write <code>_repr_html_</code> for a repr on an object in Python, I'd like to be able to decorate objects in R for inspection with the IRKernel (while not interfering with regular R usage of the library). How should I be writing R to make it nicer for Jupyter users?</p>
",114,3,<r><jupyter><jupyter-irkernel>,2017-04-19 20:39:13
43490495,How to set NotebookApp.iopub_data_rate_limit and others NotebookApp settings in JupyterHub?,"<p>I want to start my notebooks with <code>jupyter notebook --NotebookApp.iopub_data_rate_limit=10000000000</code> arguments. Where one could set it in JupyterHub?</p>
",70098,23,<python><configuration><jupyter-notebook><jupyter><jupyterhub>,2017-04-19 08:33:49
43454797,Jupyter/ipywidgets sorting dataframe on two levels,"<p>Google has failed me, so hopefully someone can help me out.</p>

<p>I'm working with a Jupyter notebook.  I have a dataframe and am trying to setup interactive widgets to sort that dataframe.  </p>

<p>The dataframe is about athletes.  I am trying to sort the dataframe by athlete name, and then sort that by the disciplines that athlete competes in.  So, I want to be able to select ""Jon"", and then after selecting ""Jon"", I want to be able to narrow down the data returned so that I can look at ""Jon's"" Triple Jump (and only triple jump) if selected, but be able to switch over to look at ""Jon's"" Long Jump results if I select that.</p>

<pre><code>data = pd.read_csv(""Athlete Rank Moments.csv"", encoding = ""latin-1"", usecols = [0, 1, 2, 4, 5, 16], 
               parse_dates = True, infer_datetime_format = True)
data[""RankDate""] = pd.to_datetime(data[""RankDate""], errors=""coerce"")

items = ['All']+sorted(data[""Person/Team""].unique().tolist())
discipline_items = ['All']+sorted(data[""Discipline""].unique().tolist())


def view(x='', y=''):
    if x == 'All': return data
    return data[data['Person/Team','Discipline']==x]


w = widgets.Select(options=items)
z = widgets.Select(options = discipline_items)
v = interact(view, x=w, y=z)
display(v)
</code></pre>

<p>This code gives me two drop down menus, but the drop down menu for the ""discipline_list"" doesn't alter the data returned at all.  OBviously, this is because the view function doesn't do anything with it, but I don't know what to write in the view function to get the result I want.  ANy help would be appreciated!</p>
",1225,1,<pandas><ipython><jupyter-notebook><jupyter><ipywidgets>,2017-04-17 15:50:58
43420500,Pulling ipywidget value manually,"<p>I have this code ipython code:</p>

<pre><code>import ipywidgets as widgets
from IPython.display import display
import time

w = widgets.Dropdown(
    options=['Addition', 'Multiplication', 'Subtraction'],
    value='Addition',
    description='Task:',
)

def on_change(change):
    print(""changed to %s"" % change['new'])

w.observe(on_change)

display(w)
</code></pre>

<p>It works as expected. When the value of the widget changes, the <code>on_change</code> function gets triggered. However, I want to run a long computation and periodically check for updates to the widget. For example:</p>

<pre><code>for i in range(100):
    time.sleep(1)
    # pull for changes to w here.
    # if w.has_changed:
    #     print(w.value)
</code></pre>

<p>How can I achieve this?</p>
",658,3,<ipython><ipython-notebook><jupyter-notebook><ipywidgets>,2017-04-14 23:27:41
43415276,How to display a table of images in R output in a Jupyter notebook?,"<p>How do I take a list of image URLs, and display them in an HTML table in a Jupyter notebook with an R kernel?</p>

<p>Here's a list of URLs:</p>

<pre><code>image_urls = c('https://i.stack.imgur.com/wdQNM.jpg',
  'https://i.stack.imgur.com/8oysP.jpg')
</code></pre>

<p>Here's some code to display one image from an <code>image_url</code>:</p>

<pre><code>library(jpeg)
library(RCurl)

img &lt;- RCurl::getBinaryURL(image_url)
jj &lt;- jpeg::readJPEG(img,native=TRUE)
plot(0:1,0:1,type=""n"",ann=FALSE,axes=FALSE)
rasterImage(jj,0,0,1,1)
</code></pre>

<p><strong>Edit</strong>: Another way to think of this is, is there functionality like ipython's <code>display</code>?  It looks like there might be in <a href=""https://github.com/IRkernel/repr"" rel=""nofollow noreferrer"">https://github.com/IRkernel/repr</a>.  I have to read more.</p>
",809,3,<r><jupyter-notebook><jupyter-irkernel>,2017-04-14 16:13:28
43383591,How to see all rows of a data frame in a Jupyter notebook with an R kernel?,"<p>When I put a data frame into a cell, it shows only some of the rows, with a ""..."" in the middle.</p>

<p><strong>Edit</strong>: I'm looking for R equivalents of these Python notebook calls:</p>

<pre><code>import pandas
# ""If max_cols is exceeded, switch to truncate view""
pandas.set_option('display.max_columns', 5400)
# ""The maximum width in characters of a column""
pandas.set_option('display.max_colwidth', 500)
</code></pre>

<p>See also <a href=""http://pandas.pydata.org/pandas-docs/stable/generated/pandas.set_option.html"" rel=""noreferrer"">http://pandas.pydata.org/pandas-docs/stable/generated/pandas.set_option.html</a>.</p>
",8041,10,<r><jupyter-notebook><jupyter-irkernel>,2017-04-13 04:35:34
43360972,Graphically select geometric objects in a Jupyter/iPython notebook,"<p>The interoperability between Shapely and Jupyter/iPython is <em>nice</em>. I can do cool stuff like create a bunch of geometric shapes and view them in the notebook: </p>

<pre><code>some_nodes = [[0, 0], [0, 1], [0, 2], [1, 0], [1, 1], [1, 2]]
some_boxes = []
some_boxes.append([some_nodes[0], some_nodes[3], some_nodes[4], some_nodes[1]])
some_boxes.append([some_nodes[1], some_nodes[4], some_nodes[5], some_nodes[2]])

from shapely.geometry import MultiPolygon, Polygon
MultiPolygon([Polygon(box) for box in some_boxes])
</code></pre>

<p>...and Jupyter will show me this: </p>

<p><a href=""https://i.stack.imgur.com/ivdN1.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/ivdN1.png"" alt=""Jupyter_Shapely_output""></a></p>

<p>Now THAT is cool! It has been especially useful to me for quickly viewing and editing, for example, polygons that make up 2D finite element meshes. </p>

<p>Sadly, the images produced are just static SVG graphics; there's no interaction built in. It would be helpful to be able to select a subset of those objects in the image using this same graphical interface in iPython. </p>

<p>More specifically, I'd like to be able to create a list and add some of the displayed polygons to it by, for example, clicking/selecting them, or dragging a lasso/box around them, and also perhaps remove them when clicking a second time. </p>

<p>I've looked into trying to do this with matplotlib or javascript and although I've had some initial success it's probably the kind of project that is out of my depth at my current level of knowledge/skill. </p>

<p>Since Jupyter is a somewhat sprawling tool with lots of features that I am probably not aware of, I am wondering if there are already existing solutions out there for interaction of this sort in the context of a Jupyter notebook? </p>

<hr>

<p>UPDATE#1: It looks like I'm going to have to create something myself. Happily, <a href=""https://youtu.be/o7Tb7YhJZR0?list=PLAshlHpA2IwdlMxzOJqwD1GEToQLAD7_vA"" rel=""nofollow noreferrer"">this tutorial</a> is going to make that a LOT easier. </p>

<p>UPDATE #2: It appears that Bokeh is a library much more suited for this purpose. I believe I am going to abandon the idea of creating custom Jupyter widgets and create an app using Bokeh widgets and interactions instead. Such an app can be used in a Jupyter notebook, but also elsewhere. </p>

<p>UPDATE #3: I ended up using the jupyter widget system anyway. Added my own answer showing a proof of concept.</p>
",1494,3,<javascript><python><jupyter><shapely><ipywidgets>,2017-04-12 05:28:12
43333387,Two ipython widgets for one variable,"<p>I am trying to make a interactive function where I can control the input with 2 widgets for the same variable. I Trying this because I want to have the option to slider the values (for a quick view) and also pick one specific (typing one value). I tried this linking the widgets with the <code>ipywidget.jslink</code>. I guessed once the widgets where linked I could input the values in any of them to pass to the variable. However, it is not what happens: below, only the values I set in the Slider updates the function (in other words, typing a value in the widget doesn't update the output). Why doesn't <code>jslink</code> work? In this <a href=""https://stackoverflow.com/questions/32634142/linking-ipython-widget-button-and-slider-values"">link</a> I found that substituting <code>ipw.jslink</code> for <code>traitlets.link</code>works fine.   </p>

<pre><code>import ipywidgets as ipw    
from IPython.display import display
def f(x):
    return x**2
a=ipw.IntSlider(min=-10,max=20,step=1,value=10)
b=ipw.IntText(min=-10,max=20,step=1,value=10)
ipw.jslink((a,'value'),(b,'value'))
wid=ipw.interactive(f, x=a)
display(wid,b)
</code></pre>
",578,2,<python><ipywidgets>,2017-04-10 21:46:28
43292697,ipywidgets: avoid flickering when using interact,"<p>I made a figure with four subplots of a histogram based on random normal, gamma, exponential, and uniform distributions respectively. I made it using matplotlib and Jupyter notebook. It is an interactive figure via ipywidgets lib. In particular, there are four slide bars that control the sample size on each histogram and update them accordingly. However, when updating the histograms, it annoyingly flickers. Is there any way to avoid this? Thx.</p>

<p>Now the code to be run on a jupyter notebook: </p>

<pre><code>import numpy as np
import pandas as pd
import matplotlib.pyplot as plt
%matplotlib notebook
from ipywidgets import *

n = 1000
x1 = np.random.normal(-2.5, 1, n)
x2 = np.random.gamma(2, 1.5, n)
x3 = np.random.exponential(2, n)+7
x4 = np.random.uniform(14,20, n)
x = [x1, x2, x3, x4]

fig, ((ax1, ax2), (ax3, ax4)) = plt.subplots(2, 2, figsize=(10,7))
axs = [ax1,ax2,ax3,ax4]

titles = ['x1\nNormal', 'x2\nGamma', 'x3\nExponential', 'x4\nUniform']
subplots_axes = [[-7,2,0,250], [0,4.5,0,250], [7,25,0,250], [14,20,0,250]]

bins = [np.arange(-6, 6, 0.5),
np.arange(0, 10, 0.5),
np.arange(7, 17, 0.5),
np.arange(14, 24, 0.5)]

fig.subplots_adjust(hspace=0.5)

def plt_dist(s, sample):
    axs[s].hist(x[s][:sample], bins=bins[s], linewidth=0, color='#1F77B4')
    axs[s].axis(subplots_axes[s])
    axs[s].set_title('{}'.format(titles[s]))
    axs[s].set_ylabel('Frequency')
    axs[s].set_xlabel('Value')
    axs[s].annotate('n = {}'.format(sample), xycoords='axes fraction', xy = [0.8,0.9])
    display(fig)

for s in range(0,4):
    sld_bar = interact(plt_dist, s = fixed(s), sample = widgets.IntSlider(min=100,max=1000+45,step=1,value=100))
</code></pre>
",1995,5,<python><matplotlib><jupyter-notebook><ipywidgets>,2017-04-08 10:09:39
43254861,Exporting ipywidgets to a website,"<p>I have a Python program in Jupyter Notebook that uses <code>interact</code> from the module <code>ipywidgets</code>.</p>

<pre><code>interact(my_func, filter_by=filter_by_list, format_type=format_dict.keys())
</code></pre>

<p>I want someone to be able to open the notebook on a website somewhere and use the interactive widget without requiring Python or anything else, just like <a href=""https://jakevdp.github.io/blog/2013/12/05/static-interactive-widgets/#SymPy-Math"" rel=""noreferrer"">here</a>.</p>
",6411,8,<javascript><python><html><jupyter-notebook><ipywidgets>,2017-04-06 12:10:20
43220626,ipywidgets + matplotlib cannot clear old outputs,"<pre><code>%matplotlib inline
import numpy as np
import matplotlib.pyplot as plt
import matplotlib as mpl
from ipywidgets import interact, FloatSlider, RadioButtons

amplitude_slider = FloatSlider(min=0.1, max=1.0, step=0.1, value=0.2)
color_buttons = RadioButtons(options=['blue', 'green', 'red'])
# decorate the plot function with an environment from the UIs:
@interact(amplitude=amplitude_slider, color=color_buttons)
def plot(amplitude, color):
    fig, ax = plt.subplots(figsize=(4, 3),
                       subplot_kw={'axisbg':'#EEEEEE',
                                   'axisbelow':True})

    ax.grid(color='w', linewidth=2, linestyle='solid')
    x = np.linspace(0, 10, 1000)
    ax.plot(x, amplitude * np.sin(x), color=color,
        lw=5, alpha=0.4)
    ax.set_xlim(0, 10)
    ax.set_ylim(-1.1, 1.1)
</code></pre>

<p>Using the widget multiple times got me multiple outputs:</p>

<p><a href=""https://i.stack.imgur.com/4GyM6.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/4GyM6.png"" alt=""enter image description here""></a></p>

<p>What do I need to update in the code so the plot is cleared each time the widget is used?</p>
",1851,4,<matplotlib><jupyter-notebook><ipywidgets>,2017-04-05 02:07:00
43142019,"ipywidgets, how to change slider's value display precision","<p>In jupyter,I have the following code to create a slider control for my variable r using ipywidgets. </p>

<pre><code>from ipywidgets import interact, interactive, fixed, interact_manual
import ipywidgets as widgets

r = 0.9992
def sl(r=0.9992):
    global ar
    ar = r

interact(sl, r=(0.999, 1, 0.0001))
</code></pre>

<p>It works but the problem is that the display of slider value is rounded to 2 decimal. As a result, the display always show 1.00. </p>

<p><a href=""https://i.stack.imgur.com/wXxD2.png"" rel=""noreferrer""><img src=""https://i.stack.imgur.com/wXxD2.png"" alt=""enter image description here""></a></p>

<p>Is there any way to display its actual value?</p>
",4824,12,<python><ipython><jupyter><ipywidgets>,2017-03-31 13:31:35
43087884,Interactive Timer in Jupyter Notebook,"<p>I have a function which records data and takes a while to complete.  While the data is being recorded, I would like to have a button which, upon being pressed, displays how much time has elapsed since the data acquisition has started.</p>

<p>Is this possible to do in Jupyter?</p>

<p>I'm having issues as the data acquisition blocks the widget from activating, and if I try and run the widget in the background, it doesn't receive the <code>on_click</code> event until the data acquisition has finished.  On the other hand, if I send the data acquisition to the background, then data is lost once the background job finishes.</p>

<h3>Background Job</h3>

<pre><code>from IPython.lib.backgroundjobs import BackgroundJobManager
from IPython.core.magic import register_line_magic
from IPython import get_ipython

jobs = BackgroundJobManager()

@register_line_magic
def background_job(line):
    ip = get_ipython()
    jobs.new(line, ip.user_global_ns)
</code></pre>

<h3>Timer Button</h3>

<pre><code>import ipywidgets as widgets
import time

def button_timer():
    t0 = 0
    button = widgets.Button(description=""Measure time"")
    def action(b):
        time_elapsed = time.perf_counter() - t0
        display(""Time elapsed: {}"".format(time_elapsed))
    button.on_click(action)

    display(button)
    t0 = time.perf_counter()
</code></pre>

<h3>Data Acquisition</h3>

<pre><code>import numpy as np
import pandas as pd
import time

def acquire(a=None):
    time.sleep(10)
    print(""Done"")
    if a is None:
        return np.linspace(0, 10, 10)
    else:
        a = np.linspace(0, 10, 10)

## Implementation 1
# This fails because the `on_click` event for the button only runs after the data has been acquired.
button_timer()
data = pd.DataFrame()
data['x'] = np.linspace(0, 10, 10)
data['y'] = acquire()

## Implementation 2
# As before, the `on_click` event isn't activated until after the data has been acquired.
%background_job button_timer()
data = pd.DataFrame()
data['x'] = np.linspace(0, 10, 10)
data['y'] = acquire()

## Implementation 3
# This one fails as the data isn't actually updated
button_timer()
data = pd.DataFrame()
data['x'] = np.linspace(0, 10, 10)
# I can't use the equal sign as that isn't supported by the background job.
# %background_job data['y'] = acquire()
# If I pass in the data I want, the DataFrame isn't updated (even after I wait for the background job to finish)
%background_job acquire(data['y'])
display(data)
</code></pre>

<hr>

<p>If all else fails, I guess one option would be to have a Javascript-only timer which runs entirely within the browser.</p>

<p>Still, I'm wondering if there's a way of doing this in Python (and if possible, have it such that the (last) measured time is programmatically accessible in the rest of the notebook).</p>
",1134,4,<jupyter-notebook><jupyter><ipywidgets>,2017-03-29 08:10:18
43075325,ipywidgets - display next value in list after clicking,"<p>I'm trying to use <code>ipywidgets</code> in order to display next value in my list (in Jupyter notebook) given as <code>display_vals</code> after clicking the button. However, with the following code snippet, I got error as </p>

<pre><code>local variable 'i' referenced before assignment
</code></pre>

<p>Here is the snippet that I have</p>

<pre><code>from IPython.display import display, clear_output
import ipywidgets as widgets

button = widgets.Button(description=""Click Me!"")
display(button)

display_vals = ['a', 'b', 'c']
i = 0

def on_button_clicked(b):
    print(display_vals[i])
    clear_output()
    i += 1

button.on_click(on_button_clicked)
</code></pre>

<p>I guess I just don't know the way to parse my variable when button gets clicked.</p>
",2181,4,<jupyter-notebook><ipywidgets>,2017-03-28 16:45:41
42998009,Clear MatPlotLib figure in Jupyter Python notebook,"<p>I want a 3D scatter plot in MatPlotLib to be rotated interactively in a Jupyter Python notebook. For that reason I integrated a slider from <code>ipywidgets</code> to update the view angle. The test code below shows what I am trying to achieve. The problem is that a new figure is added below the previous one, instead of the current figure cleared. I tried <code>plt.close(fig)</code>, <code>plt.cla()</code> and <code>plt.clf()</code> without success. (further I realize that there is overhead in recreating the figure and axes but that is the lesser part of my current concerns...)</p>

<p>Here is the (test) code:</p>

<pre><code># init
import numpy as np
import matplotlib.pyplot as plt
from mpl_toolkits.mplot3d import Axes3D
import ipywidgets as widgets
from IPython.display import display

# generate test data
x = np.random.rand(100)
y = np.random.rand(100)
z = np.random.rand(100)

# prepare plot
def draw_plot(angle1 = 20, angle2 = 40):
    # create figure
    fig = plt.figure(figsize=(15,10))
    ax = fig.add_subplot(111, projection='3d')
    ax.set_xlabel('X axis')
    ax.set_ylabel('Y axis')
    ax.set_zlabel('Z axis')
    ax.scatter(x, y, z)

    # set view angle
    ax.view_init(angle1, angle2)

    # show plot
    plt.show()

# prepare widgets
angle1_slider = widgets.IntSlider(20, min = 0, max = 60)
angle1_label = widgets.Label(value = 'Angle 1 value is: ' + str(angle1_slider.value))
display(angle1_slider, angle1_label)

# handle angle 1 update
def update_angle1(value):
    draw_plot(angle1 = value['new'])
    angle1_label.value = 'Angle 1 value is: ' + str(value.new)

angle1_slider.observe(update_angle1, names = 'value')

# draw initial plot
draw_plot()
</code></pre>

<p>Any suggestions would be appreciated!</p>
",17666,7,<python><matplotlib><jupyter-notebook><ipywidgets>,2017-03-24 11:10:59
42989421,Pointing to private github repository or AWS S3 as notebook directory for Jupyterhub notebook servers,"<p>Is it possible to point to private github repository or AWS S3 as notebook directory for Jupyterhub notebook servers?</p>

<p>In Jupyterhub config file, I can set C.Spawner.notebook_dir to point to local directories but how can I point to a fileshare protected by password or to a private github repository or AWS S3?</p>

<p>There is some information here - <a href=""https://github.com/jupyterhub/jupyterhub/issues/314"" rel=""nofollow noreferrer"">https://github.com/jupyterhub/jupyterhub/issues/314</a> on customizing the directory location for each user. Is there a way to extend the custom spawner class to have the ability to point to private github or S3?</p>
",645,0,<github><amazon-s3><jupyter-notebook><jupyter><jupyterhub>,2017-03-24 00:37:10
42960668,keep cell metadata in a copy of a jupyter notebook?,"<p>I'm working on a jupyter notebook (from a local installation of jupyterhub) that I want to be able to copy and distribute to my coworkers.  Some of them are a little 'code-phobic' so I want to be able to portions of the code from them.</p>

<p>I can use the hide input extension to very prettily hide the code in my own notebook, however when I make a copy the cell meta-data for hide input reverts to  <code>""hide_input"": false,</code> and the code is all automatically visible.</p>

<p>Is there a way to keep cell meta data in the copying process?</p>

<p>I can find a lot of online discussions/documentation about keeping hide input functionality with nbconvert, however I don't want to convert to html because I still need the users to be able to actually run code.  </p>

<p>Is there a way to use nbconvert to make a copy of a notebook and not actually convert it?</p>

<p>Thanks.</p>
",626,0,<copy><jupyter-notebook><jupyterhub><nbconvert>,2017-03-22 19:10:39
42841709,Mathjax stops rendering after initiating custom widget in Jupyter notebook,"<p>I am having an issue of MathJax failing to render LateX in my Jupyter Notebook after (not before) initiating a custom ipywidget based widget, in this case an html based table widget.  This includes in the Markdown cells, not just python generated output.</p>

<p>I am not trying to render any LateX in the table and have no MathJax calls in the widget javascript and, though the widget itself appears to work perfectly, it disables/kills any MathJax rendering afterward (requiring a Jupyter restart).  Other ipywidgets standard widgets do not effect MathJax operation.  There are also no errors reported by the notebook when instantiating the widget.</p>

<p>I am running the same Python Jupyter notebook on Windows 7 with Pip install and on MacOS 10.12.3 with a Macports install.  The problem is not present on my Mac using Safari, only on the Windows 7 system using either FireFox or Internet Explorer.</p>

<p>Windows7: Jupyter-notebook 4.4.1, Python 2.7.10</p>

<p>MacOS 10.12.3: Jupyter-notebook 4.3.1, Python 2.7.13</p>

<p>Unfortunately, I am not well enough versed in MathJax to further diagnose the issue or generate a short enough snippet of code to reproduce the problem that can be shared.</p>

<p>Any help would be appreciated.</p>

<p>Thank you.</p>
",121,1,<javascript><python-2.7><jupyter-notebook><mathjax><ipywidgets>,2017-03-16 18:05:51
42782902,Clear widget area of a cell in a Jupyter notebook from within notebook,"<p>I'm wondering if it's possible to clear the widget area of a cell in a Jupyter notebook from the notebook side (ie within Python). <code>IPython.display.clear_output()</code> only clears the cell's output area not the widget area.</p>

<p>Update: this still seems to be a problem in latest Notebook and ipywidgets. Here are two minimal examples illustrating the problem I'm struggling with. The widget output that I'm trying to clear in particular are the data frames rendered by <a href=""https://github.com/quantopian/qgrid"" rel=""noreferrer"">qgrid</a>. In both cases, despite trying to clear the previous widget output, subsequent selections cause a table to be appended after the previous one. Each new table is appended as a div with the class <code>p-Widget</code>.  </p>

<pre><code>import pandas as pd
import numpy as np
import qgrid
from ipywidgets import interact
from IPython.display import display, clear_output
import notebook
import ipywidgets

print('Jupyter Notebook version: {}'.format(notebook.__version__))
print('ipywidgets version: {}'.format(ipywidgets.__version__))

max_columns = 10
max_rows = 10    
col_opts = list(range(1, max_columns + 1))
row_opts = list(range(1, max_rows + 1))
</code></pre>

<p>First attempt using interact:</p>

<pre><code>@interact(columns=col_opts, rows=row_opts)
def submit(columns, rows):
    df = pd.DataFrame(np.random.randint(0, 100, size=(rows, columns)))
    clear_output()
    display(qgrid.QGridWidget(df=df)
</code></pre>

<p>Second attempt using the Output widget:</p>

<pre><code>output = ipywidgets.Output()
display(output)

def submit2(change):
    rows = row_input.value
    columns = col_input.value
    df = pd.DataFrame(np.random.randint(0, 100, size=(rows, columns)))

    with output:
        output.clear_output()
        display(qgrid.QGridWidget(df=df))

col_input = ipywidgets.Dropdown(options=col_opts)
row_input = ipywidgets.Dropdown(options=row_opts)

col_input.observe(submit2, 'value')
row_input.observe(submit2, 'value')

display(col_input)
display(row_input)
</code></pre>
",21005,11,<python><ipython><jupyter-notebook><ipywidgets>,2017-03-14 10:04:04
42769048,Installing packages in jupyterhub kubespawner nodes,"<p>I have a jupyterhub running over a kubernetes cluster with kubespawner.  As I understand it, kubespawner is, via kubernetes, spinning up dockers on my cluster that have their own python environment and storage area.</p>

<p>For some user, I am attempting to import rpy2 (or whatever, it's not important), and the package is not installed.</p>

<p>My questions:</p>

<p>Where do these dockers get their python environment (e.g. Is there a dockerfile I can edit somewhere)?</p>

<p>How to I get rpy2 installed for just that one docker session?</p>

<p>How do I get rpy2 installed for that user (if possible)?</p>

<p>How do I get rpy2 installed for everyone on the hub?</p>
",861,0,<kubernetes><jupyter><jupyterhub>,2017-03-13 16:45:36
42762924,How to conditionally evaluate bash script,"<p>To view the installed libraries on an environment I run this code within a Jupyter Python notebook cell : </p>

<pre><code>%%bash
pip freeze
</code></pre>

<p>This works, but how to conditionally execute this code ?</p>

<p>This is my attempt : </p>

<pre><code>from __future__ import print_function
from ipywidgets import interact, interactive, fixed, interact_manual
import ipywidgets as widgets

def f(x1):
    if(x1 == True):
        f2()
    return x1

interact(f , x1 = False)


def f2():
    %%bash 
    pip freeze
</code></pre>

<p>But evaluating the cell throws error : </p>

<pre><code>  File ""&lt;ipython-input-186-e8a8ec97ab2d&gt;"", line 15
    pip freeze
             ^
SyntaxError: invalid syntax
</code></pre>

<p>To generate the checkbox I'm using ipywidgets : <a href=""https://github.com/ipython/ipywidgets"" rel=""nofollow noreferrer"">https://github.com/ipython/ipywidgets</a></p>

<p>Update : 
Running <code>pip freeze</code> within <code>check_call</code> returns 0 results : 
<a href=""https://i.stack.imgur.com/Cf9TP.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/Cf9TP.png"" alt=""enter image description here""></a></p>

<p>Running</p>

<pre><code>    %%bash 
    pip freeze
</code></pre>

<p>Returns installed libraries so 0 is not correct.</p>

<p>Is <code>subprocess.check_call(""pip freeze"", shell=True)</code> correct ?</p>

<p>Update 2 : </p>

<p>This works : </p>

<pre><code>from __future__ import print_function
from ipywidgets import interact, interactive, fixed, interact_manual
import ipywidgets as widgets
import subprocess

def f(View):
    if(View == True):
        f2()

interact(f , View = False)


def f2():
    print(subprocess.check_output(['pip', 'freeze']))
</code></pre>
",623,3,<python><pyspark><jupyter-notebook><jupyter><ipywidgets>,2017-03-13 11:49:00
42734370,Customize jupyter notebook design (not just styling),"<p>Is it possible to customize jupyter notebook front end part (not just css)?
Basically I want to serve my custom html page which has code block for which I want the functionality of a cell as in Jupyter notebook.  I can customize the styling of the page but didn't find any way to change the layout (html).</p>
",1354,2,<python><user-interface><jupyter-notebook><ipython><jupyterhub>,2017-03-11 11:01:07
42706686,How to display widget in Jupyter Notebook?,"<p>Just following a along some examples from the library <a href=""http://ipywidgets.readthedocs.io/en/latest/examples/Widget%20Alignment.html"" rel=""nofollow noreferrer"">documentation</a>, I tried to get a widget to show, like this:</p>

<pre><code>VBox([HBox([Button(), FloatRangeSlider(), Text(), Button()]),
      HBox([Button(), FloatText(),
            FloatProgress(value=40), Checkbox(description='Check')]),
      HBox([ToggleButton(), IntSlider(description='Foobar'),
            Dropdown(options=['foo', 'bar']), Valid()]),
     ])
</code></pre>

<p>But I get instead:</p>

<pre><code>&lt;function ipywidgets.widgets.widget_box.VBox&gt;
</code></pre>
",2728,2,<python><python-3.x><jupyter-notebook><ipywidgets>,2017-03-09 22:25:36
42686383,How to show more rows in selectMultiple widget?,"<p>How might one tell <a href=""http://ipywidgets.readthedocs.io/en/latest/examples/Widget%20List.html#SelectMultiple"" rel=""nofollow noreferrer"">the selectMultiple widget</a> to show more rows?</p>

<pre><code>widgets.SelectMultiple(
    options=GROUP_NAMES,
    description='Groups',
    disabled=False,
)
</code></pre>

<p>The html equivalent of adding <a href=""https://www.w3schools.com/tags/att_select_size.asp"" rel=""nofollow noreferrer"">a size attribute</a> <code>size=10</code> to the select tag.</p>

<p>Not this but that...</p>

<p><a href=""https://i.stack.imgur.com/a4yeF.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/a4yeF.png"" alt=""defaults to 3 rows""></a></p>

<p><a href=""https://i.stack.imgur.com/jm96G.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/jm96G.png"" alt=""but we want lots of rows""></a></p>
",3526,3,<python><jupyter-notebook><ipywidgets>,2017-03-09 03:55:25
42684034,AWS IAM Role in EC2 and access to S3 from JupyterHub,"<p>In JupyterHub, installed in an EC2 instance with an IAM role which allows access to a specific S3 bucket when I try to access a file in that bucket with this code:</p>

<pre><code>s3nRdd = spark.sparkContext.textFile(""s3n://bucket/file"")
</code></pre>

<p>I get this error:</p>

<blockquote>
  <p>IllegalArgumentException: u'AWS Access Key ID and Secret Access Key
  must be specified as the username or password (respectively) of a s3n
  URL, or by setting the fs.s3n.awsAccessKeyId or
  fs.s3n.awsSecretAccessKey properties (respectively).'</p>
</blockquote>

<p>However, when I export the AWS access key id and secret access key in the kernel configuration having the same policy as that role, the read for that file succeeds.</p>

<p>As the best practice is to use IAM roles, why doesn't the EC2 role work in this situation?</p>

<p>--update--
The EC2 IAM role has these 2 policies:</p>

<pre><code>{
    ""Version"": ""2012-10-17"",
    ""Statement"": [
        {
            ""Sid"": ""Stmt1488892557621"",
            ""Action"": ""s3:*"",
            ""Effect"": ""Allow"",
            ""Resource"": [
                ""arn:aws:s3:::&lt;bucket_name&gt;"",
                ""arn:aws:s3:::&lt;bucket_name&gt;/*""
            ]
        }
    ]
}


{
    ""Version"": ""2012-10-17"",
    ""Statement"": [
        {
            ""Action"": ""ec2:*"",
            ""Effect"": ""Allow"",
            ""Resource"": ""*""
        },
        {
            ""Sid"": ""Stmt1480684159000"",
            ""Effect"": ""Allow"",
            ""Action"": [
                ""iam:PassRole""
            ],
            ""Resource"": [
                ""*""
            ]
        }
    ]
}
</code></pre>

<p>Also, I am using hadoop version 2.4.0 which doesn't support <code>s3a</code> protocol and updating is not an option.</p>
",590,3,<amazon-web-services><amazon-s3><amazon-ec2><amazon-iam><jupyterhub>,2017-03-08 23:39:20
42637384,Adding a Sample Space to a Venn Diagram in R,"<p>I am trying to insert of a simple Venn diagram in an jupyter notebook on R. I have been able to generate a simple 2-set diagram using the VennDiagram library. However I can't seem to figure out how to work the triple diagram in way that yields 2 intersecting sets that are in a subset of another larger set.</p>

<p>Maybe I'm using the wrong library?</p>

<p><strong>Edit:</strong></p>

<p>This is for an illustration, I just need to draw an example of a Venn Diagram. The data would be something like:</p>

<p>S=(1,2,3)</p>

<p>A=(1,2)</p>

<p>B=(2,3)</p>
",515,0,<r><venn-diagram><jupyter-irkernel>,2017-03-06 23:17:11
42562895,Return DataFrame using ipywidgets Button,"<p>I'm currently creating a Class that inherits a DataFrame from pandas. I'm interested in developing a method called 'new_filter' that is a fancier execution of a DataFrame command:</p>

<pre><code>import pandas as pd
from ipywidgets import widgets
from IPython.display import display
import numpy as np

class Result(pd.DataFrame):

@property
def _constructor(self):
    return Result

def _filter_done(self, c):
    self._column_name = self._filter_dd.value
    self._expression = self._filter_txt.value
    return self[eval('self.'+ self._column_name +'  '+self._expression)]

def new_filter(self):
    self._filter_dd = widgets.Dropdown(options=list(self.columns),
                                            description='Column:')
    self._filter_txt = widgets.Text(description='Expr:')
    self._filter_button = widgets.Button(description = 'Done')
    self._filter_box = widgets.VBox([self._filter_dd, self._filter_txt, self._filter_button])
    display(self._filter_box)
    self._filter_button.on_click(self._filter_done)
</code></pre>

<p>After creating an object like:</p>

<pre><code>test = Result(np.random.randn(3,4), columns=['A','B','C','D']) #just an example
test_2 = test.new_filter()
</code></pre>

<p>Then, for example:
<a href=""https://i.stack.imgur.com/HlNqW.png"" rel=""nofollow noreferrer"">Widget Output</a></p>

<p>What I want is that 'test_2' be an object from 'Result' class. Is there any solution to this?</p>
",2048,2,<python><python-3.x><pandas><ipython-notebook><ipywidgets>,2017-03-02 18:15:14
42452516,how to make widgets in jupyter notebook scrollable?,"<p>For some reason, I want to my HTML widget to have fixed height, no matter how many lines there are in the widget. If the lines are too many to fit into the height, ideally one can scroll to see all the lines. I tried something like the following, but it does not work:</p>

<pre><code>import ipywidgets as widgets
widgets.HTML(
    value=""Hello &lt;p&gt;World&lt;/p&gt;&lt;p&gt;World&lt;/p&gt;&lt;p&gt;World&lt;/p&gt;&lt;p&gt;World&lt;/p&gt;&lt;p&gt;World&lt;/p&gt;&lt;p&gt;World&lt;/p&gt;&lt;p&gt;World&lt;/p&gt;&lt;p&gt;World&lt;/p&gt;"",
    placeholder='Some HTML',
    description='Some HTML',
    disabled=True,
    height='50px',
    overflow_y='scroll'
)
</code></pre>
",5112,4,<ipython><ipywidgets>,2017-02-25 05:56:34
42314732,Ubuntu Jupyterhub: 500 POST Spawner failed to start [status=1],"<p>I am trying to run <em>jupyterhub</em> for multiuser mode:</p>

<pre><code>sudo jupyterhub
</code></pre>

<p>I am able to login successfully with the user I used to install <em>jupyterhub</em>. However, when I try to login with other users I get the following message:</p>

<blockquote>
  <p>500: Internal Server Error 
  Spawner failed to start [status=1]</p>
</blockquote>

<p>And in the terminal:</p>

<blockquote>
  <p>user@server:~$ sudo jupyterhub </p>
  
  <p>[I 2017-02-18 11:47:53.663 JupyterHub app:733] Loading cookie_secret from /home/user/jupyterhub_cookie_secret </p>
  
  <p>[W 2017-02-18 11:47:53.691 JupyterHub app:372] 
  Generating CONFIGPROXY_AUTH_TOKEN. Restarting the Hub will require restarting the proxy.
  Set CONFIGPROXY_AUTH_TOKEN env or JupyterHub.proxy_auth_token config to avoid this message.</p>
  
  <p>[W 2017-02-18 11:47:53.695 JupyterHub app:874] No admin users, admin interface will be unavailable. </p>
  
  <p>[W 2017-02-18 11:47:53.695 JupyterHub app:875] Add any administrative users to <code>c.Authenticator.admin_users</code> in config. </p>
  
  <p>[I 2017-02-18 11:47:53.695 JupyterHub app:902] Not using whitelist. Any authenticated user will be allowed. </p>
  
  <p>[I 2017-02-18 11:47:53.714 JupyterHub app:1481] Hub API listening on <a href=""http://127.0.0.1:8081/hub/"" rel=""nofollow noreferrer"">http://127.0.0.1:8081/hub/</a> </p>
  
  <p>[W 2017-02-18 11:47:53.716 JupyterHub app:1201] Running JupyterHub without SSL.  I hope there is SSL termination happening somewhere else... </p>
  
  <p>[I 2017-02-18 11:47:53.716 JupyterHub app:1203] Starting proxy @ http://*:8000/ </p>
  
  <p>11:47:54.569 - info: [ConfigProxy] Proxying http://*:8000 to <a href=""http://127.0.0.1:8081"" rel=""nofollow noreferrer"">http://127.0.0.1:8081</a></p>
  
  <p>11:47:54.574 - info: [ConfigProxy] Proxy API at <a href=""http://127.0.0.1:8001/api/routes"" rel=""nofollow noreferrer"">http://127.0.0.1:8001/api/routes</a> </p>
  
  <p>[I 2017-02-18 11:47:54.597 JupyterHub app:1537] JupyterHub is now running at <a href=""http://127.0.0.1:8000/"" rel=""nofollow noreferrer"">http://127.0.0.1:8000/</a> </p>
  
  <p>Last login: Sat Feb 18 00:26:34 CET 2017 </p>
  
  <p>Welcome to Ubuntu 16.04.2 LTS (GNU/Linux 4.4.0-62-generic x86_64)</p>
  
  <ul>
  <li><p>Documentation: <a href=""https://help.ubuntu.com"" rel=""nofollow noreferrer"">https://help.ubuntu.com</a>  </p></li>
  <li><p>Management: <a href=""https://landscape.canonical.com"" rel=""nofollow noreferrer"">https://landscape.canonical.com</a> </p></li>
  <li><p>Support: <a href=""https://ubuntu.com/advantage"" rel=""nofollow noreferrer"">https://ubuntu.com/advantage</a></p></li>
  </ul>
  
  <p>1 package can be updated. </p>
  
  <p>0 updates are security updates.</p>
  
  <p>[I 2017-02-18 11:48:10.990 JupyterHub spawner:785] Spawning jupyterhub-singleuser '--user=""username""' '--cookie-name=""jupyter-hub-token-username""' '--base-url=""/user/username""' '--hub-host=""""' '--hub-prefix=""/hub/""' '--hub-api-url=""http://127.0.0.1:8081/hub/api""' '--ip=""127.0.0.1""' --port=52764 </p>
  
  <p>Traceback (most recent call last): </p>
  
  <p>File ""/usr/local/bin/jupyterhub-singleuser"", line 4, in  <strong>import</strong>('pkg_resources').require('jupyterhub==0.8.0.dev0')   File</p>
  
  <p>""/usr/local/lib/python3.5/dist-packages/pkg_resources/<strong>init</strong>.py"", line 3036, in  @_call_aside   </p>
  
  <p>File ""/usr/local/lib/python3.5/dist-packages/pkg_resources/<strong>init</strong>.py"", line 3020, in _call_aside f(*args, **kwargs)   </p>
  
  <p>File ""/usr/local/lib/python3.5/dist-packages/pkg_resources/<strong>init</strong>.py"", line 3049, in _initialize_master_working_set working_set = WorkingSet._build_master()   </p>
  
  <p>File ""/usr/local/lib/python3.5/dist-packages/pkg_resources/<strong>init</strong>.py"", line 654, in _build_master ws.require(<strong>requires</strong>)   </p>
  
  <p>File ""/usr/local/lib/python3.5/dist-packages/pkg_resources/<strong>init</strong>.py"", line 968, in require needed = self.resolve(parse_requirements(requirements))   </p>
  
  <p>File ""/usr/local/lib/python3.5/dist-packages/pkg_resources/<strong>init</strong>.py"", line 854, in resolve raise DistributionNotFound(req, requirers) </p>
  
  <p>pkg_resources.DistributionNotFound: The 'jupyterhub==0.8.0.dev0' distribution was not found and is required by the application </p>
  
  <p>[W 2017-02-18 11:48:21.038 JupyterHub web:1545] 500 POST /hub/login?next= (::ffff:10.90.0.4): Spawner failed to start [status=1] </p>
  
  <p>[E 2017-02-18 11:48:21.066 JupyterHub log:99] {</p>
  
  <p>""Content-Length"": ""36"",</p>
  
  <p>""Content-Type"": ""application/x-www-form-urlencoded"",</p>
  
  <p>""Accept-Encoding"": ""gzip, deflate"",</p>
  
  <p>""Accept-Language"": ""en-US"",</p>
  
  <p>""Dnt"": ""1"",</p>
  
  <p>""Host"": ""zeno.lehre.hwr-berlin.de:8000"",</p>
  
  <p>""Cookie"": ""_xsrf=2|1204c4dd|f391c8200e87548242350a9d25406790|1487111102"",</p>
  
  <p>""X-Forwarded-Host"": ""server.com:8000"",</p>
  
  <p>""Connection"": ""close"",</p>
  
  <p>""X-Forwarded-For"": ""::ffff:<strong>.</strong>.<em>.</em>"",</p>
  
  <p>""X-Forwarded-Proto"": ""http"",</p>
  
  <p>""Accept"": ""text/html, application/xhtml+xml, <em>/</em>"",</p>
  
  <p>""Cache-Control"": ""no-cache"",</p>
  
  <p>""User-Agent"": ""Mozilla/5.0 (Windows NT 6.1; WOW64; Trident/7.0; rv:11.0) like Gecko"",</p>
  
  <p>""Referer"": ""<a href=""http://server.com:8000/hub/login"" rel=""nofollow noreferrer"">http://server.com:8000/hub/login</a>"",</p>
  
  <p>""X-Forwarded-Port"": ""8000""</p>
  
  <p>} </p>
  
  <p>[E 2017-02-18 11:48:21.066 JupyterHub log:100] 500 POST /hub/login?next= (@::ffff:<strong>.</strong>.<em>.</em>) 10283.44ms</p>
</blockquote>

<p>I don't know if that would be the source of the problem, however, I have jupyterhub version: 0.7.0. I tried to update it to 0.8.0 using: </p>

<pre><code>sudo pip install -U jupyterhub
</code></pre>

<p>But, I got:</p>

<blockquote>
  <p>Requirement already up-to-date: ****</p>
</blockquote>

<p>I tried so long to find a solution online; I failed though. </p>

<p>Would someone please help me with this issue?</p>

<p>Thanks :)</p>
",3055,0,<ubuntu><jupyterhub>,2017-02-18 11:48:18
42307294,Changing value of a global variable inside a function,"<p>I run in Jupyter-Notebook the following code:</p>

<pre><code>from IPython.display import display
import ipywidgets as widgets

turn_on = 'Run'
turn_off = 'Skip'

skipp = True

button_exec = widgets.Button(description=turn_on)
display(button_exec)

def exec_clicked(b):
    global skipp
    if skipp:
        b.description = turn_off
    else:
        b.description = turn_on
    skipp = not skipp

button_exec.on_click(exec_clicked)
</code></pre>

<p>and whenever I press the button, the value of ""skipp"" doesn't change, but the destription of the button changes. I tried to run without the statement of the ""global"" but it doesn't work as well.</p>
",1038,2,<python><function><boolean><global-variables><ipywidgets>,2017-02-17 21:00:26
42305421,Limit GPU usage in nvidia-docker?,"<p>I am setting up an internal Jupyterhub on a multi GPU server. Jupyter access is provided through a docker instance. I'd like to limit access for each user to no more than a single GPU. I'd appreciate any suggestion or comment. Thanks.</p>
",6195,3,<docker><jupyterhub><nvidia-docker>,2017-02-17 18:54:15
42260539,Jupyterhub subdomains and multiple ssl certs,"<p>I'm setting up a multi-user JupyterHub server. I've implemented the subdomain mechanism recommended in the JupyterHub documentation. A user types in the login URL for the server in their web browser, e.g., <a href=""https://notebook.example.com"" rel=""nofollow noreferrer"">https://notebook.example.com</a>, and when they login JupyterHub creates a subdomain for them, e.g., <a href=""https://username.notebook.example.com"" rel=""nofollow noreferrer"">https://username.notebook.example.com</a>. </p>

<p>I've got the wildcard DNS working just fine. The issue is that this setup seems to require multiple SSL certificates. My certificate authority was kind enough to give me certificates for both notebook.example.com and the wildcard certificate *.notebook.example.com. If I have this configuration for the notebook.example.com certificate:</p>

<pre><code>c.JupyterHub.ssl_cert = '/etc/pki/tls/certs/notebook.example.com.cer'
</code></pre>

<p>then the user's browser will accept the certificate for the login URL, but will give an unrecognized certificate message when the user is forwarded to the user's subdomain URL. If I use the other certificate, e.g.</p>

<pre><code>c.JupyterHub.ssl_cert = '/etc/pki/tls/certs/wildcard.notebook.example.com.cer'
</code></pre>

<p>then the user's browser will complain that ""notebook.example.com"" doesn't match *.notebook.example.com in the certificate, but will accept the certificate when the user is forwarded to their subdomain. </p>

<p>Obviously I could tell the users to agree to a certificate exception in one case or the other, but this might create long-term support problems (I have to instruct them how to accept the unrecognized certificate for all the different browsers; they might get into the habit of blindly accepting certificates). </p>

<p>Is there a way of configuring JupyterHub to use one certificate for the initial login and a different one for subdomains?</p>
",386,0,<ssl><https><ssl-certificate><wildcard-subdomain><jupyterhub>,2017-02-15 21:36:48
42155210,How can I remove or disable an ipywidget's widget clear button in a Jupyter notebook?,"<p>I'm trying to write a simple user interface for Python code in a Jupyter/IPython notebook. I'm using the amazing <a href=""https://ipywidgets.readthedocs.io/en/latest/"" rel=""nofollow noreferrer"">ipywidgets</a>. I need to find a way to prevent users from clearing the widgets by accidentally clicking the <code>&lt;button class=""close""&gt;×&lt;/button&gt;</code> (the <code>X</code> to the left of the widgets). I've spent hours searching for a simple way to do this. Here's a simple, minimal example of the issue in a single Jupyter notebook cell:</p>

<pre><code>import ipywidgets
import IPython.display

w = ipywidgets.IntSlider()

IPython.display.display(w)
</code></pre>

<p>The result is a slider with the widget clear button <code>X</code> to the left of the slider:</p>

<p><a href=""https://i.stack.imgur.com/gvuDx.png"" rel=""nofollow noreferrer"">Image of slider with widget clear button <code>X</code></a></p>

<p>How can I remove or disable the widget clear button so that the user can't accidentally clear the widget?</p>
",5059,3,<python><ipython-notebook><jupyter-notebook><ipywidgets>,2017-02-10 08:57:44
42126093,bqplot: ipython widgets not being rendered,"<p>I am trying to use <a href=""https://github.com/bloomberg/bqplot"" rel=""nofollow noreferrer""><strong>bqplot</strong></a> to plot some graphs in jupyter notebook along with some ipywidgets. I want to render the widgets horizontally adjacent to my plot as discussed in <a href=""https://github.com/ipython/ipywidgets/issues/1067"" rel=""nofollow noreferrer"">this issue</a>, but I cannot get the widgets to show up in my jupyter notebook. </p>

<p>My code is as follows -</p>

<pre><code>from bqplot import pyplot as plt
import ipywidgets as widgets
from pandas import DataFrame

class AdderDOEProblem_PlotUtils:
    def __init__(self, parseutils):
        self.data = DataFrame({'timestamps': parseutils.getTimestampValues(),
                            'Adder.sum': parseutils.getValues('Adder.sum'),
                            'Adder.a': parseutils.getValues('desvar_a.a'),
                            'Adder.b': parseutils.getValues('desvar_b.b')})
        # step size
        self.Adder_a__step = 0.1
        self.Adder_b__step = 0.1

        # axes configuration
        x_axis_values = self.data['Adder.a']
        y_axis_values = self.data['Adder.sum']

        self.fig = plt.figure(title='AdderDOEProblem')
        self.p = plt.plot(x_axis_values, y_axis_values)

        w_a_slider = widgets.FloatSlider(value=0, min=0, max=1, step=self.Adder_a__step, description='Adder.a')
        w_b_slider = widgets.FloatSlider(value=0, min=0, max=1, step=self.Adder_b__step, description='Adder.b')
        self.widgets_list = [w_a_slider, w_b_slider]

    def update (self, change):
        # Placeholder logic for testing 
        self.p.y = [i+1 for i in self.p.y]

    def plot (self):
        plt.show()
        for w in self.widgets_list:
            w.observe(self.update, 'value')
        self.update(None)
        widgets.HBox([widgets.VBox(self.widgets_list), self.fig])
</code></pre>

<p>When I run it in the notebook, I get the following output -</p>

<p><a href=""https://i.stack.imgur.com/4iaxz.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/4iaxz.png"" alt=""jupyter notebook output""></a></p>

<p>I have tried the following command as suggested in many of the threads (but with no luck) -</p>

<pre><code>jupyter nbextension enable --py widgetsnbextension
</code></pre>

<p>What am I missing?</p>

<p>P.S. The versions of the packages are as follows -<br>
jupyter - 1.0.0<br>
ipython - 5.1.0<br>
ipywidgets - 5.2.2<br>
bqplot - 0.8.4   </p>
",1757,1,<jupyter-notebook><ipywidgets><bqplot>,2017-02-09 00:20:30
42112699,Jupyterhub with dockerspawner does not run - error 502,"<p>I'm trying to set up a multiuser jupyter setup. For this case I've set up an jupyterhub with RemoteCSVAuthenticator and DockerSpawner.</p>

<p>Authentication seems to work fine and also if I log in, a docker-container is started. But after logging in I only get an 502 Error-Message:</p>

<pre><code>502 : Bad Gateway
The error was:
Failed to check authorization (upstream problem)
</code></pre>

<p>The jupyterhost logfile shows no errors. The dockercontainer is the plain 
<code>jupyterhub/singleuser</code>. </p>

<p>Can anyone tell me where to start? </p>

<hr>

<p>After trying to digg deeper into the problem I found that if I try to access the jupyter-process inside the docker container (e.g. <a href=""http://172.17.0.36:8888/"" rel=""nofollow noreferrer"">http://172.17.0.36:8888/</a>) it always throws error 404 - page not found. I don't think this is normal. Maybe this is the cause for the configurable-http-proxy to throw the ""Bad Gateway"" error.</p>
",872,2,<docker><jupyter><jupyterhub>,2017-02-08 12:07:24
42107676,Run R in Jupyter notebook - kernel is dying,"<p>I am attempting to run R in Jupyter notebook. I tried almost everything what I have found, but without results. So I tried to reinstall Anaconda (Python 2.7.13, Anaconda 4.3.0, IPython 5.1.0) and R (version 3.3.2) to have the latest versions. </p>

<p>Afterwards, I ran </p>

<pre><code>conda install -c r r-essentials
</code></pre>

<p>But If I open Jupyter notebook and create a new file with R kernel, the kernel dies immediately and I get long error, see the full version <a href=""https://drive.google.com/open?id=17NQ0LW0b3O2P1OLnN_DND3nOeRKuemZGsUTXovNKu5E"" rel=""nofollow noreferrer"">here</a>. The last line:</p>

<pre><code>WindowsError: [Error 2] The system cannot find the file specified
</code></pre>

<p>Any suggestions will be very appreciated.</p>
",550,2,<jupyter-irkernel>,2017-02-08 08:04:20
42101586,Adjust the Space Between Two Jupyter Widgets,"<p>I'm trying to create a Jupyter Notebook to help some colleagues interactively access some data. I want to give them a bunch of widgets that allow them to use different criteria to filter the data.  </p>

<p>Mainly it works beautifully, but I can't adjust the spacing between two widgets, and it's going to drive me nuts. </p>

<p>I've tried following the instructions <a href=""http://ipywidgets.readthedocs.io/en/latest/examples/Widget%20Styling.html#The-layout-attribute."" rel=""noreferrer"">here</a>, but the two buttons are always right next to each other.</p>

<pre><code>class Dashboard(object):
    def __init__(self):
        item_layout = Layout(flex='1 1 auto',
                             width='auto')

        toggle = widgets.ToggleButtons(
            options=[""Foo"", ""Bar""],
            value=""Foo"",
            description=""Foobar:"",
            disable=False,
            layout=item_layout,
        )

        check = widgets.Checkbox(
            value=True,
            description=""Checked"",
            disabled=False,
            layout=item_layout,
        )

        box_layout = Layout(display='flex',
                            flex_flow='row',
                            justify_content='space around',
                            width='500px',
                            button_layout='solid',
                            )

        buttons = widgets.Box(children=[
            widgets.interactive(self._set_foobar, foobar=toggle, layout=item_layout),
            widgets.interactive(self._set_checked, checked=check, layout=item_layout),
        ],
            layout=box_layout)

        display(buttons)

    def _set_foobar(self, foobar):
        self._foo = foobar == 'Foo'

    def _set_checked(self, checked):
        self._checked = bool(checked)
</code></pre>

<p>If I then open up a Jupyter notebook and do:</p>

<pre><code>import dashboard
y = dashboard.Dashboard()
</code></pre>

<p>It produces:</p>

<p><a href=""https://i.stack.imgur.com/1m3k4.png"" rel=""noreferrer""><img src=""https://i.stack.imgur.com/1m3k4.png"" alt=""enter image description here""></a></p>

<p>If I don't make the widgets interactive i.e. <code>children=[toggle, check]</code> it works perfectly.  </p>

<p><a href=""https://i.stack.imgur.com/PEWYU.png"" rel=""noreferrer""><img src=""https://i.stack.imgur.com/PEWYU.png"" alt=""enter image description here""></a></p>

<p>Is there a way that I can adjust the space between interactive widgets?</p>
",3240,5,<python><css><jupyter-notebook><jupyter><ipywidgets>,2017-02-07 22:56:45
42084979,How to authenticate JupyterHub user with json web token (JWT)?,"<p>I am trying to figure out the best way of authenticating a JupyterHub user with JWT. In my particular use case, the client will be first authenticated on a primary website and redirected at a later stage to the JupyterHub proxy (both sites are hosted behind the same domain). The idea would be to completely bypass the JupyterHub login screen and enable the user to access his Notebooks (provided that a valid JWT token is available in the HTTP request's Authorization header). The JWT token would be generated once the user has logged in to the primary site.</p>

<p>Any pointers/advice on how to implement this would be greatly appreciated! My guess is that I need to write a custom authenticator in order to validate the JWT. However, I am unsure on how to configure the entire process.
Thanks!</p>
",2474,7,<jupyterhub>,2017-02-07 08:26:46
41999020,How to make an ipywidgets Image clickable?,"<p>I would like to make an Image instance in a jupyter notebook to respond to click events - how can we do this? I also want to be able to identify the image that was clicked.
It is simple to do so with buttons but not with images.</p>
",4973,12,<python><jupyter-notebook><jupyter><ipywidgets>,2017-02-02 09:55:42
41912626,How do you save the state of a widget in a Jupyter notebook?,"<p>I have a radio button widget in a Jupyter notebook and I want to save the selected state, preferrably in the notebook json. That doesn't seem to be happening when I save the notebook. The state gets lost and reset when you reopen the notebook. Is there a way to save the state and have it reload?</p>
",1332,7,<jupyter><ipywidgets>,2017-01-28 17:22:42
41782983,How do I install the datepicker widget in ipywidgets?,"<p>It seems like I don't have the <code>DatePicker</code> widget which is pretty odd. I tried installing / unistalling <code>ipywidgets</code> but no luck.</p>
<p>Any idea how to install it?</p>
<pre><code>import ipywidgets as ipyw
ipyw.DatePicker
# AttributeError: module 'ipywidgets' has no attribute 'DatePicker'
ipyw.__version__
# 5.2.2
</code></pre>
<p>running python3.5</p>
",2425,4,<python-3.x><jupyter-notebook><ipywidgets>,2017-01-21 18:33:40
41520034,Embed Jupyter HTML output in a web page,"<p>I want to embed the HTML output of Jupyter, in my own web page. The reason for this is primarily, so that I can use Jupyter from my own webapp - and also access my research notebooks from anywhere in the world - via the internet.</p>

<p>A typical use case scenario would be that I click on a button on my page, and an iframe will be inserted in my page; Jupyter will then be launched at the backend (if not already running), and the output of Jupyter will be 'piped' to the iframe - so that I can use Jupyter from within my page.</p>

<p>The naive solution it appeared, was to use <code>&lt;iframe&gt;</code>, but there were two problems:</p>

<ol>
<li>The iframe cross domain policy problem</li>
<li>Jupyter generated a one time authentication token when first launched</li>
</ol>

<p>Is there anyway I can overcome these issues, so I can embed the output of Jupyter in my own web page?</p>
",6583,2,<html><iframe><jupyter-notebook><jupyter><jupyterhub>,2017-01-07 09:42:34
41435067,Specifying JupyterHub Path Variable,"<p>I am in the process of installing jupyterhub.  I successfully install jupyterhub using:</p>

<pre><code>python3 -m pip install jupyterhub
npm install -g configurable-http-proxy
</code></pre>

<p>However, when I run <code>jupyterhub -h</code> in the Windows command prompt it gives:</p>

<pre><code>""jupyterhub"" is not recognized as an internal or external command, operable
program or batch file.
</code></pre>

<p>I added <code>C:\Users\User\AppData\Local\Continuum\Anaconda3\Lib\site-packages\jupyterhub\</code> to my user environment variable, however still receive the message.  What path should I be using?</p>
",639,0,<windows><environment-variables><jupyterhub>,2017-01-03 00:59:06
41264792,"how to build test enviroment (Linux, Spark, jupyterhub","<p>I am working on my thesis, and i have the opportunity to set up a working environment to test the functionality and how it works. </p>

<p>the following points should be covered:</p>

<ul>
<li>jupyterhub (within a private cloud)</li>
<li>pandas, numpy, sql, nbconvert, nbviewer</li>
<li>get Data into DataFrame (csv), analyze Data, store the data (RDD?, HDF5?, HDFS?)</li>
<li>spark for future analysis</li>
</ul>

<p>The test scenario will consist:</p>

<ul>
<li>multiple user environment with notebooks for Users/Topics</li>
<li>analyze structured tables (RSEG, MSEG, EKPO) with several million lines in a 3-way-match with pandas, numpy and spark (spark-sql), matplotlib.... its about 3GB of Data in those 3 tables.</li>
<li>export notebooks with nbconvert, nbviewer to pdf, read-only notbook and/or reveal.js</li>
</ul>

<p>Can you guys please give me some hints or experiences on how many notes i should use for testing, which Linux distribution is a good start?
i am sure there are many more questions, i have problems to find ways or info how to evaluate possible answers.</p>

<p>thanks in advance!</p>
",85,0,<linux><hadoop><apache-spark><pyspark><jupyterhub>,2016-12-21 14:12:04
41180337,How to export an entire Jupyter notebook?,"<p>I'm not sure if this place would be the appropriate place to post this question, but I wanted to download a folder with multiple Jupyter notebook so that I can view in my local server?</p>

<p>Thank you!</p>
",1455,0,<jupyter-notebook><jupyter><jupyterhub>,2016-12-16 08:43:43
41105726,Can a PySpark Kernel(JupyterHub) run in yarn-client mode?,"<p>My Current Setup:</p>

<ul>
<li>Spark EC2 Cluster with HDFS and YARN</li>
<li>JuputerHub(0.7.0)</li>
<li>PySpark Kernel with python27</li>
</ul>

<p>The very simple code that I am using for this question:</p>

<pre><code>rdd = sc.parallelize([1, 2])
rdd.collect()
</code></pre>

<p>The PySpark kernel that <strong>works as expected</strong> in Spark standalone has the following environment variable in the kernel json file:</p>

<pre><code>""PYSPARK_SUBMIT_ARGS"": ""--master spark://&lt;spark_master&gt;:7077 pyspark-shell""
</code></pre>

<p>However, when I try to run in yarn-client mode it is getting stuck forever, while the log output from the JupyerHub logs is:</p>

<pre><code>16/12/12 16:45:21 WARN YarnScheduler: Initial job has not accepted any resources; check your cluster UI to ensure that workers are registered and have sufficient resources
16/12/12 16:45:36 WARN YarnScheduler: Initial job has not accepted any resources; check your cluster UI to ensure that workers are registered and have sufficient resources
16/12/12 16:45:51 WARN YarnScheduler: Initial job has not accepted any resources; check your cluster UI to ensure that workers are registered and have sufficient resources
16/12/12 16:46:06 WARN YarnScheduler: Initial job has not accepted any resources; check your cluster UI to ensure that workers are registered and have sufficient resources
</code></pre>

<p>As described <a href=""http://spark.apache.org/docs/latest/running-on-yarn.html"" rel=""nofollow noreferrer"">here</a> I have added the <strong>HADOOP_CONF_DIR</strong> env. variable to point to the directory where the Hadoop configurations are, and changed <strong>PYSPARK_SUBMIT_ARGS</strong> <code>--master</code> property to ""<strong>yarn-client</strong>"". Also i can confirm that there are no other jobs running during this and that the workers are correctly registered.</p>

<p>I am under the impression that it is possible to configure a JupyterHub Notebook with a PySpark kernel to run with YARN as <a href=""https://github.com/jupyterhub/jupyterhub/issues/438"" rel=""nofollow noreferrer"">other people have done it</a>, if this indeed is the case what I am I doing wrong?</p>
",3259,0,<pyspark><hadoop-yarn><jupyterhub><spark-ec2>,2016-12-12 16:55:36
41087303,Jupyter Notebook R Kernel Max_Rows Option?,"<p>I have a table of coefficeints (other stat output) that is being abridged. </p>

<p>Is there an option (or hack) in an R-Kernel Jupyter Notebook to output a full data.table? Similar to the Pandas option <code>pd.set_option('display.max_rows', 500)</code> you can use in the regular python Jupyter Notebook. </p>

<p>Is this on the R side or on the Jupyter side? </p>
",363,2,<r><jupyter-notebook><jupyter-irkernel>,2016-12-11 14:36:26
41018240,jupyter dropdown widget trigger action,"<p>I have a seemingly simple intention, just have a dropdown widget in jupyter notebook to trigger some simple action. It sort of works, but following script actually seems to trigger the event three times, what am I doing wrong?</p>

<pre class=""lang-py prettyprint-override""><code>import ipywidgets as widgets
from IPython.display import display, clear_output
vardict = [""var1"",""var2""]
select_variable = widgets.Dropdown(
    options=vardict,
    value=vardict[0],
    description='Select variable:',
    disabled=False,
    button_style=''
)
def get_and_plot(b):
    clear_output
    print(select_variable.value)

display(select_variable)
select_variable.observe(get_and_plot)
</code></pre>

<p>And the output when I select item from dropdown is something like</p>

<pre><code>var1
var2
var2
</code></pre>

<p>and getting longer with each selection. </p>

<p>What I want to get is a way to trigger action (print or something else) only once per selection, how do I achieve this? </p>
",6890,4,<jupyter><ipywidgets>,2016-12-07 13:02:46
41000661,How to use quantmod library in Jupyter R Notebook?,"<p>I need to call quantmod::getSymbols. The function works perfectly in Rstudio, but it doesn't work in Jupyter R Notebook:</p>

<p><a href=""https://i.stack.imgur.com/dMrsh.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/dMrsh.png"" alt=""enter image description here""></a></p>

<p>In terms of Jupyter, I am using Anaconda environment(<a href=""https://www.continuum.io/downloads"" rel=""nofollow noreferrer"">https://www.continuum.io/downloads</a>), with Python 2.7.</p>
",295,0,<r><jupyter-notebook><quantmod><jupyter-irkernel>,2016-12-06 16:52:14
40952166,Linking ipython widget dropdown and slider values,"<p>I ""understand"" how to link a text box to a slider (by ""understand"" I mean how to make it work):</p>

<pre><code>from traitlets import link

a = widgets.FloatText(value=4.)
b = widgets.FloatSlider(min=3,max=7,step=0.23,value=4.)
display(a,b)

mylink = link((a, 'value'), (b, 'value'))
</code></pre>

<p>This results in something like this:</p>

<p><a href=""https://i.stack.imgur.com/hNJfG.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/hNJfG.png"" alt=""linking widgets""></a></p>

<p>But is there any way how I can link a dropdown box, whose values would be <code>list_items = ('case1', 'case2', 'case3')</code> to the <code>FloatSlider</code>, where the corresponding values would be e.g. <code>(3.4, 5.4, 6.7)</code> ?</p>
",2440,1,<python><ipython-notebook><jupyter-notebook><ipywidgets>,2016-12-03 20:27:30
40771929,Issues loading R libraries in Jupyter,"<p>I am trying to load R libraries such as ggplot2, qtlcharts, scatterD3 etc. into my jupyter notebook but getting the follwoing error:</p>

<blockquote>
  <p>Error: package or namespace load failed for 'ggplot2'</p>
</blockquote>

<p>Has anybody faced similar issue? How do we solve it? </p>

<p>Note: I tried reinstalling the libraries (with different CRAN mirrors) and updating all the current packages as well but in vain. </p>
",1150,3,<r><jupyter><jupyter-irkernel>,2016-11-23 18:35:46
40768798,Update dropdown based on selection of another dropdown in ipywidgets,"<p>I have a dropdown menu that shows soms posssible 'cycles'. These are actually .csv files containing some data. Then I have another dropdown that should show all the variables in this .csv file. So this second dropdown should update according to the file selected in the first dropdown. I found <a href=""https://stackoverflow.com/questions/37144216/ipywidgets-update-one-widget-based-on-results-from-another"">a similar</a> 
question and tried to implement this, but it did not work. The second dropdown remains empty. Note that I use pyspark to read the .csv files.</p>

<p><code>Cycles</code> is a tuple containing all the .csv files in my working directory.</p>

<pre><code>scW1 = widgets.Dropdown(description = 'Select file',options = cycles)
scW2 = widgets.Dropdown(description = 'Select variable')

def plotvar(sender):
    df=sc.textFile(str(scW1.value)).map(lambda x: x.split(','))
    header = tuple(df.first())
    print(header)
    with scW2.hold_trait_notifications():
        scW2.options = header

display(scW1)
display(scW2)
</code></pre>

<p>What goes wrong?</p>
",1104,3,<python><widget><ipywidgets>,2016-11-23 15:50:26
40733151,Port exposed by Docker not reachable,"<p>I ran a docker container that exposes port <code>443</code>. <code>docker ps</code> confirms that it is exposed.</p>

<pre><code>~ docker ps -a
CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS               NAMES
42b17c2a4b75        tmp/tmp             ""/usr/bin/tini -- /bi""   57 seconds ago      Up 55 seconds       443/tcp             adoring_austin
</code></pre>

<p>However, <code>netstat</code> doesn't show this port. I cannot reach it from a browser either.</p>

<pre><code>~ netstat -lt
Active Internet connections (only servers)
Proto Recv-Q Send-Q Local Address           Foreign Address         State
tcp        0      0 *:ssh                   *:*                     LISTEN
tcp6       0      0 [::]:ssh                [::]:*                  LISTEN
</code></pre>

<p>The command that I used the run the container is just <a href=""https://github.com/jupyterhub/jupyterhub"" rel=""nofollow noreferrer""><code>JupyterHub</code></a>.</p>

<pre><code>[I 2016-11-22 03:12:11.494 JupyterHub app:643] Writing cookie_secret to /jupyterhub_cookie_secret
[W 2016-11-22 03:12:12.562 JupyterHub app:304]
Generating CONFIGPROXY_AUTH_TOKEN. Restarting the Hub will require restarting the proxy.
Set CONFIGPROXY_AUTH_TOKEN env or JupyterHub.proxy_auth_token config to avoid this message.
[W 2016-11-22 03:12:12.655 JupyterHub app:757] No admin users, admin interface will be unavailable.
[W 2016-11-22 03:12:12.655 JupyterHub app:758] Add any administrative users to `c.Authenticator.admin_users` in config.
[I 2016-11-22 03:12:12.655 JupyterHub app:785] Not using whitelist. Any authenticated user will be allowed.
[I 2016-11-22 03:12:12.671 JupyterHub app:1231] Hub API listening on http://172.17.0.3:8081/hub/
[I 2016-11-22 03:12:12.676 JupyterHub app:968] Starting proxy @ http://*:443/
03:12:12.861 - info: [ConfigProxy] Proxying https://*:443 to http://172.17.0.3:8081
03:12:12.864 - info: [ConfigProxy] Proxy API at http://127.0.0.1:444/api/routes
[I 2016-11-22 03:12:12.883 JupyterHub app:1254] JupyterHub is now running at http://127.0.0.1:443/
</code></pre>

<p>What am I doing wrong here?</p>
",4353,5,<docker><tcp><port><netstat><jupyterhub>,2016-11-22 03:06:48
40725055,Jupyterhub on openshift,"<p>Sorry for a vague and quite open question, but is there any way to install jupyterhub on openshift.com, using a free account? You have to have either python3+nodejs, which is not possible to do in a single cartridge, or a docker container, which is not installed on the openshift. </p>

<p>Maybe you have suggestions for other services that can do that for free for an academic?</p>
",388,-1,<openshift><jupyterhub>,2016-11-21 16:37:59
40700288,Using multiple python version with jupyter,"<p>I am using anaconda installers and have python2 installed. I however, do want to use both python 2 and 3 interchangeably in jupyter notebooks. I read through the instructions provided <a href=""http://ipython.readthedocs.io/en/stable/install/kernel_install.html"" rel=""nofollow noreferrer"">here</a>.</p>

<p>Does it mean, that I do not need to install python3, just the kernel to start using both python2 &amp; 3 in jupyter?</p>
",1265,0,<python-3.x><python-2.x><jupyter-notebook><jupyter><jupyter-irkernel>,2016-11-20 03:09:32
40669271,"After installing R Recommended package, kernel shows error when I use Jupyter Notebook","<pre><code>Package web https://anaconda.org/r/r-recommended

kernel error
Traceback (most recent call last):

  File ""C:\Users\LIU\Anaconda3\lib\site-packages\notebook\base\handlers.py"", line 457, in wrapper

    result = yield gen.maybe_future(method(self, *args, **kwargs))

  File ""C:\Users\LIU\Anaconda3\lib\site-packages\tornado\gen.py"", line 1008, in run

    value = future.result()

  File ""C:\Users\LIU\Anaconda3\lib\site-packages\tornado\concurrent.py"", line 232, in result

    raise_exc_info(self._exc_info)

  File ""&lt;string&gt;"", line 3, in raise_exc_info

  File ""C:\Users\LIU\Anaconda3\lib\site-packages\tornado\gen.py"", line 1014, in run

    yielded = self.gen.throw(*exc_info)

  File ""C:\Users\LIU\Anaconda3\lib\site-packages\notebook\services\sessions\handlers.py"", line 62, in post

    kernel_id=kernel_id))

  File ""C:\Users\LIU\Anaconda3\lib\site-packages\tornado\gen.py"", line 1008, in run

    value = future.result()

  File ""C:\Users\LIU\Anaconda3\lib\site-packages\tornado\concurrent.py"", line 232, in result

    raise_exc_info(self._exc_info)

  File ""&lt;string&gt;"", line 3, in raise_exc_info

  File ""C:\Users\LIU\Anaconda3\lib\site-packages\tornado\gen.py"", line 1014, in run

    yielded = self.gen.throw(*exc_info)

  File ""C:\Users\LIU\Anaconda3\lib\site-packages\notebook\services\sessions\sessionmanager.py"", line 79, in create_session

    kernel_name)

  File ""C:\Users\LIU\Anaconda3\lib\site-packages\tornado\gen.py"", line 1008, in run

    value = future.result()

  File ""C:\Users\LIU\Anaconda3\lib\site-packages\tornado\concurrent.py"", line 232, in result

    raise_exc_info(self._exc_info)

  File ""&lt;string&gt;"", line 3, in raise_exc_info

  File ""C:\Users\LIU\Anaconda3\lib\site-packages\tornado\gen.py"", line 1014, in run

    yielded = self.gen.throw(*exc_info)

  File ""C:\Users\LIU\Anaconda3\lib\site-packages\notebook\services\sessions\sessionmanager.py"", line 92, in start_kernel_for_session

    self.kernel_manager.start_kernel(path=kernel_path, kernel_name=kernel_name)

  File ""C:\Users\LIU\Anaconda3\lib\site-packages\tornado\gen.py"", line 1008, in run

    value = future.result()

  File ""C:\Users\LIU\Anaconda3\lib\site-packages\tornado\concurrent.py"", line 232, in result

    raise_exc_info(self._exc_info)

  File ""&lt;string&gt;"", line 3, in raise_exc_info

  File ""C:\Users\LIU\Anaconda3\lib\site-packages\tornado\gen.py"", line 282, in wrapper

    yielded = next(result)

  File ""C:\Users\LIU\Anaconda3\lib\site-packages\notebook\services\kernels\kernelmanager.py"", line 87, in start_kernel

    super(MappingKernelManager, self).start_kernel(**kwargs)

  File ""C:\Users\LIU\Anaconda3\lib\site-packages\jupyter_client\multikernelmanager.py"", line 110, in start_kernel

    km.start_kernel(**kwargs)

  File ""C:\Users\LIU\Anaconda3\lib\site-packages\jupyter_client\manager.py"", line 243, in start_kernel

    **kw)

  File ""C:\Users\LIU\Anaconda3\lib\site-packages\jupyter_client\manager.py"", line 189, in _launch_kernel

    return launch_kernel(kernel_cmd, **kw)

  File ""C:\Users\LIU\Anaconda3\lib\site-packages\jupyter_client\launcher.py"", line 123, in launch_kernel

    proc = Popen(cmd, **kwargs)

  File ""C:\Users\LIU\Anaconda3\lib\subprocess.py"", line 947, in __init__

    restore_signals, start_new_session)

  File ""C:\Users\LIU\Anaconda3\lib\subprocess.py"", line 1224, in _execute_child

    startupinfo)

FileNotFoundError: [WinError 2]
</code></pre>
",58,1,<r><package><jupyter-notebook><jupyter-irkernel>,2016-11-18 04:15:56
40644469,Is JupyterHub kernel safe across users?,"<p>I'm using JupyterHub to share computational power of a big computer among some users. The software that's primarily used is a <code>ctypes</code> extension Python script that uses a sophisticated C/C++ code. This code isn't invulnerable to memory problems and crashes.</p>

<p><strong>My question is:</strong> If a low-level problem happens with one user and his kernel gets, say, a segmentation fault, will that crash the main server by design and get all users to lose their kernel information? Or is it designed to create a new server for every user that logs in, so that such problems don't happen?</p>
",205,1,<python><c++><c><jupyter-notebook><jupyterhub>,2016-11-16 23:56:37
40594372,How to create a ipywidgets from multiple ones?,"<p>Let's say I want a widget composed of an IntText widget and a DropDown widget which value is a concatened string of those widgets values. How can I do?</p>

<p>Here is an attempt:</p>

<pre><code>import re
import ipywidgets as ipw

from IPython.display import display


class IntMultipliedDropdown:
    _VALUE_PATTERN = re.compile('(?P&lt;num&gt;\d+) (?P&lt;option&gt;\w+-?\w*)')

    def __init__(self, options, option_value, int_value=1):
        self.number = ipw.IntText(int_value)
        self.options = ipw.Dropdown(options=options, value=option_value)
        self.box = ipw.HBox([self.number, self.options])

        self.number.observe(self._on_changes, names='value')
        self.options.observe(self._on_changes, names='value')

        self._handelers = []

    def _on_changes(self, change):
        for handeler in self._handelers:
            handeler(self.value)

    @property
    def value(self):
        return ""{} {}"".format(self.number.value, self.options.value)

    @value.setter
    def value(self, value):
        match = re.search(self._VALUE_PATTERN, value)
        groupdict = match.groupdict()
        self.number.value = groupdict['num']
        self.options.value = groupdict['option']

    def _ipython_display_(self, **kwargs):
        return self.box._ipython_display_(**kwargs)

    def observe(self, handler):
        if handler not in self._handelers:
            self._handelers.append(handler)


mywidget = IntMultipliedDropdown(['apple', 'bed', 'cell'], 'cell')
mywidget.observe(print)

display(mywidget)
print('default value:', mywidget.value)

mywidget.value = '2 bed'
</code></pre>

<p>It works but has drawbacks. First, when I set <code>mywidget.value</code> the observed function is called two times: on number value change and on option value change.</p>

<p>Second and worst is that I cannot use this widget in a Box widget like:</p>

<pre><code>ipw.HBox([ipw.Label('Mylabel'), mywidget])
</code></pre>

<p>Which raises:</p>

<pre><code>ValueError: Can't clean for JSON: &lt;__main__.IntMultipliedDropdown object at 0x7f7d604fff28&gt;
</code></pre>

<p>Is there a better solution?</p>
",2000,0,<python><jupyter-notebook><ipywidgets>,2016-11-14 17:20:44
40556525,Jupyter Notebook Copy mechanism,"<p>I am trying to make a copy of a readonly jupyter notebook (made by setting the chattr <code>i</code> bit with a <code>644</code> permission). The notebook copy fails when the kernel is set to Python2 or Python3. It only opens a blank page. Interestingly a similar notebook with a R kernel successfully makes the copy.</p>

<p><em>Does jupyter kernels have special calls for this <code>make a copy</code> UI?</em></p>

<p>As far as I can tell <code>make a copy</code> triggers <a href=""https://github.com/jupyter/notebook/blob/606b7377ae53dafebaee77f184194b8466544c0b/notebook/static/notebook/js/notebook.js#L2778"" rel=""nofollow noreferrer"">notebook.js</a> which is handled by <a href=""https://github.com/jupyter/notebook/blob/179bb24fbf79d153812858126127a91431da3319/notebook/services/contents/handlers.py#L147"" rel=""nofollow noreferrer"">handler.py</a>. I put a listener in <code>handler.py</code> to debug this but it seems like the make a copy is not even entering the context. I tried putting in a alert box in the <code>notebook.js</code> as well before <a href=""https://github.com/jupyter/notebook/blob/606b7377ae53dafebaee77f184194b8466544c0b/notebook/static/notebook/js/notebook.js#L2781"" rel=""nofollow noreferrer"">line 2781</a>, but that didn't seem to do anything. Any pointers to debug this scenario or how the copy code gets called?</p>

<p>Relevant information:</p>

<ol>
<li>Jupyter is being served via <code>jupyterhub==0.6.1</code></li>
<li><code>jupyter==1.0.0</code></li>
<li><code>ipykernel==4.3.1</code></li>
</ol>
",140,1,<python-3.x><jupyter-notebook><jupyter><jupyterhub>,2016-11-11 21:32:20
40377072,"Using `ipywidgets.iteract`, is it possible to locate the output beside the widgets and not below them?","<p>When using the <a href=""http://ipywidgets.readthedocs.io/en/latest/examples/Using%20Interact.html"" rel=""nofollow noreferrer""><code>ipywidgets.interact</code></a> function in Jupyter notebooks, the output is always below the widgets. Is it possible to show it besides the widgets?
In other words, instead of this:
<a href=""https://i.stack.imgur.com/CJnHp.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/CJnHp.png"" alt=""before: the output is below the widget""></a></p>

<p>(taken from <a href=""https://github.com/ipython/ipywidgets/blob/master/docs/source/examples/Image%20Browser.ipynb"" rel=""nofollow noreferrer"">this example</a>), </p>

<p>I would like to see something like this:</p>

<p><a href=""https://i.stack.imgur.com/7NHTL.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/7NHTL.png"" alt=""after: the output is on the right of the widget""></a></p>
",214,1,<python-3.x><ipython><jupyter-notebook><jupyter><ipywidgets>,2016-11-02 10:01:26
40360129,How to simulate Arima-Garch models in R?,"<p>I was trying to find how may I simulate (i.e. generate ARIMA in the mean model and a GARCh in the variance model) in R. </p>

<p>I tried searching online but I only found how to fit such a model using </p>

<pre><code>spec &lt;- ugarchspec( variance.model = list(   
                                            model = ""sGARCH"", 
                                             garchOrder = c(1, 1),
                                             submodel = NULL, 
                                             external.regressors = NULL, 
                                             variance.targeting = FALSE),

                                             mean.model = list(  armaOrder = c(1, 1), 
                                                                 include.mean = TRUE, 
                                                                 archm = FALSE,
                                                                 archpow = 1, 
                                                                 arfima = FALSE, 
                                                                 external.regressors = NULL, 
                                                                 archex = FALSE),
                                                                 distribution.model = ""norm"", 
                                                                 start.pars = list(), 
                                                                 fixed.pars = list()
                    )
</code></pre>

<p>Then I write </p>

<pre><code>garch &lt;- ugarchfit(spec = spec, data = data, solver.control = list(trace=0))
</code></pre>

<p>This is obviously fitting and not simulating i.e. generating random variables.</p>
",1882,0,<r><statistics><time-series><jupyter-irkernel>,2016-11-01 12:31:46
40122837,Interactive matplotlib using ipywidgets,"<p>I want to implement an <em>interactive plot</em> using <strong>Matplotlib</strong> and <strong>ipywidgets</strong> in IPython (python3). So, how I can do this efficiently (change smoothly without delay)?</p>

<p>And another question is why this code works?!</p>

<pre><code>from ipywidgets import *
import numpy as np
import matplotlib.pyplot as plt
%matplotlib inline

x = np.linspace(0, 2 * np.pi)

def update(w = 1.0):
    fig = plt.figure()
    ax = fig.add_subplot(1, 1, 1)
    ax.plot(x, np.sin(w * x))

    fig.canvas.draw()

interact(update);
</code></pre>

<p><a href=""https://i.stack.imgur.com/4ROoi.png"" rel=""noreferrer""><img src=""https://i.stack.imgur.com/4ROoi.png"" alt=""enter image description here""></a></p>

<p>But, this doesn't work?!</p>

<pre><code>from ipywidgets import *
import numpy as np
import matplotlib.pyplot as plt
%matplotlib inline

x = np.linspace(0, 2 * np.pi)
fig = plt.figure()
ax = fig.add_subplot(1, 1, 1)
line, = ax.plot(x, np.sin(x))

def update(w = 1.0):
    line.set_ydata(np.sin(w * x))
    fig.canvas.draw()

interact(update);
</code></pre>

<p><a href=""https://i.stack.imgur.com/fWQch.png"" rel=""noreferrer""><img src=""https://i.stack.imgur.com/fWQch.png"" alt=""enter image description here""></a></p>
",14066,18,<python><matplotlib><ipython><jupyter-notebook><ipywidgets>,2016-10-19 05:25:48
40093690,Unselect every thing in ipython widget,"<p>In a <code>SelectMultiple</code> widget in iPython, is it possible to select nothing (or unselect everything)?
There doesn't seem to be any option like that in the documentation.</p>
",511,0,<ipython><jupyter><jupyter-notebook><ipywidgets>,2016-10-17 18:57:11
39943862,why tseries package stop working on Jupyter notebook after it was running perfectly?,"<p>I am downloading packages to R via Jupyter notebook using the following command</p>

<pre><code>install.packages('tseries', repos='http://cran.us.r-project.org')
</code></pre>

<p>this was working perfectly well until right now it just does not like to work. </p>

<p>i then coded <code>library(tseries)</code></p>

<p>the result was </p>

<pre><code>Error in library(tseries): there is no package called 'tseries'
Traceback:

1. library(tseries)
2. stop(txt, domain = NA)
</code></pre>

<p>Can someone help me with this? </p>
",228,0,<r><jupyter-notebook><jupyter-irkernel>,2016-10-09 12:55:21
39914819,conda build r-ldavis/ not working,"<p>I am new to jupyter, and I am looking to install an R package (tseries) that is available on CRAN</p>

<p>I was trying to follow a question that was raised, but I think I am getting a different problem. </p>

<p>I was originally following this link</p>

<p><a href=""https://stackoverflow.com/questions/34705917/conda-how-to-install-r-packages-that-are-not-available-in-r-essentials"">conda - How to install R packages that are not available in &quot;R-essentials&quot;?</a></p>

<p>But it seems obvious that the answer direct me to another link which is </p>

<p><a href=""https://www.continuum.io/content/conda-data-science"" rel=""nofollow noreferrer"">https://www.continuum.io/content/conda-data-science</a></p>

<p>under the Building a conda R package </p>

<p>They said to run </p>

<pre><code>conda skeleton cran ldavis
</code></pre>

<p>and then I got the following </p>

<pre><code>C:\Users\Rami&gt;conda skeleton cran ldavis
Tip: install CacheControl (conda package) to cache the CRAN metadata
Fetching metadata from http://cran.r-project.org/
Tip: install CacheControl (conda package) to cache the CRAN metadata
Traceback (most recent call last):
  File ""d:\Users\Rami\Anaconda3\Scripts\conda-skeleton-script.py"", line 5, in &lt;module&gt;
    sys.exit(conda_build.cli.main_skeleton.main())
  File ""d:\Users\Rami\Anaconda3\lib\site-packages\conda_build\cli\main_skeleton.py"", line 65, in main
    return execute(sys.argv[1:])
  File ""d:\Users\Rami\Anaconda3\lib\site-packages\conda_build\cli\main_skeleton.py"", line 61, in execute
    api.skeletonize(package, args.repo, config=config)
  File ""d:\Users\Rami\Anaconda3\lib\site-packages\conda_build\api.py"", line 192, in skeletonize
    recursive=recursive, config=config, **kwargs)
  File ""d:\Users\Rami\Anaconda3\lib\site-packages\conda_build\skeletons\cran.py"", line 527, in skeletonize
    raise RuntimeError(""directory already exists: %s"" % dir_path)
RuntimeError: directory already exists: .\r-ldavis
</code></pre>

<p>Please help me in steps as I am really new to this on windows 10</p>
",148,0,<r><jupyter-notebook><conda><jupyter-irkernel>,2016-10-07 10:14:40
39905024,How to get wider text for Checkbox widget?,"<p>How can I configure the <code>ipywidgets</code> Checkbox for long text strings as in,</p>

<pre><code> c = Checkbox(description=' this is some very long very long text',value=False)
</code></pre>

<p>and not get the text to be squeezed and wrapped in the encompassing Jupyter notebook?</p>

<p>Thanks!</p>
",4226,5,<jupyter-notebook><ipywidgets>,2016-10-06 20:23:11
39843909,"JupyterHub openssl self signed cert ""Error: error:0906D06C:PEM routines:PEM_read_bio:no start line""","<p>Trying to configure at JupyterHub on a AWS instance using a self signed OPENSSL key/cert pair. I have tried several openssl configurations, and continued to have this same error.</p>

<pre><code>jupyterhub
[I 2016-10-04 03:38:24.090 JupyterHub app:622] Loading cookie_secret from           /home/ubuntu/jupyterhub_cookie_secret
[W 2016-10-04 03:38:24.123 JupyterHub app:304] 
    Generating CONFIGPROXY_AUTH_TOKEN. Restarting the Hub will require     restarting the proxy.
    Set CONFIGPROXY_AUTH_TOKEN env or JupyterHub.proxy_auth_token config to avoid this message.

[W 2016-10-04 03:38:24.127 JupyterHub app:757] No admin users, admin interface will be unavailable.
[W 2016-10-04 03:38:24.127 JupyterHub app:758] Add any administrative users to `c.Authenticator.admin_users` in config.
[I 2016-10-04 03:38:24.127 JupyterHub app:785] Not using whitelist. Any authenticated user will be allowed.
[I 2016-10-04 03:38:24.139 JupyterHub app:1231] Hub API listening on http://127.0.0.1:8081/hub/
[I 2016-10-04 03:38:24.143 JupyterHub app:968] Starting proxy @ http://*:8000/

crypto.js:128
      c.context.setKey(options.key);
            ^
Error: error:0906D06C:PEM routines:PEM_read_bio:no start line
    at Object.exports.createCredentials (crypto.js:128:17)
    at Server (tls.js:1176:28)
    at new Server (https.js:35:14)
    at Object.exports.createServer (https.js:54:10)
    at new ConfigurableProxy (/usr/lib/node_modules/configurable-http-    proxy/lib/configproxy.js:174:35)
    at Object.&lt;anonymous&gt; (/usr/lib/node_modules/configurable-http-proxy/bin/configurable-http-proxy:189:13)
    at Module._compile (module.js:456:26)
    at Object.Module._extensions..js (module.js:474:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
[C 2016-10-04 03:38:25.158 JupyterHub app:1237] Failed to start proxy
    Traceback (most recent call last):
      File ""/home/ubuntu/anaconda3/lib/python3.5/site-packages/jupyterhub/app.py"", line 1235, in start
    yield self.start_proxy()
      File ""/home/ubuntu/anaconda3/lib/python3.5/site-packages/jupyterhub/app.py"", line 989, in start_proxy
    _check()
      File ""/home/ubuntu/anaconda3/lib/python3.5/site-packages/jupyterhub/app.py"", line 985, in _check
        raise e
    RuntimeError: Proxy failed to start with exit code 8
</code></pre>

<p>Generated the current pair using this command</p>

<pre><code>openssl req -new -x509 -days 365 -utf8 -out mycert.pem -keyout mykey.pem
</code></pre>

<p>Verified that it is in fact PEM format</p>

<pre><code>openssl x509 -in mycert.pem -text -noout
Certificate:
    Data:
        Version: 3 (0x2)
        Serial Number:
            ec:16:a1:7d:64:6b:90:42
    Signature Algorithm: sha256WithRSAEncryption
        Issuer: C=SG, ST=SG, L=Singapore, O=GoldenCompass
        Validity
            Not Before: Oct  4 02:58:55 2016 GMT
            Not After : Oct  4 02:58:55 2017 GMT
        Subject: C=SG, ST=SG, L=Singapore, O=GoldenCompass
        Subject Public Key Info:
            Public Key Algorithm: rsaEncryption
                Public-Key: (2048 bit)
&lt;snippet&gt;
</code></pre>

<p>jupyterhub_config.py</p>

<pre><code>&lt;snippet&gt;
## Path to SSL certificate file for the public facing interface of the proxy
#  
#  Use with ssl_key
c.JupyterHub.ssl_cert = '/home/ubuntu/mykey.pem'

## Path to SSL key file for the public facing interface of the proxy
#  
#  Use with ssl_cert
c.JupyterHub.ssl_key = '/home/ubuntu/mycert.pem'

&lt;snippet&gt;
</code></pre>
",765,0,<python><ssl><jupyter><jupyter-notebook><jupyterhub>,2016-10-04 03:55:12
39834831,Jupyter dashboard server - part of the stack or traffic not working,"<p>I'm having trouble understanding which part of the jupyter dashboard server doesn't work.
It seems like the dashboard server is working, the kernel gateway is working and the kernel gets started up, but for some reason after the startup the websocket traffic to kernel gets 404 as a response.</p>

<p>I've tried to do a curl request on the kernel gateway, but curl doesn't support the 'ws' protocol.</p>

<p>How can I debug this further? All the details below.</p>

<p>I have a VM (debian jessie) with this Apache configuration:</p>

<pre><code>ProxyPreserveHost on
ProxyPass ""/"" ""http://127.0.0.1:3000/""
ProxyPassReverse ""/"" ""http://127.0.0.1:3000/""
</code></pre>

<p>I have the dashboard server, which is responding:</p>

<pre><code>GET /dashboards/Environment_variables 200 39.408 ms - 2400
GET /css/style.css 200 1.688 ms - 186626
GET /components/require.js 200 3.943 ms - 86262
GET /components/dashboard.js 200 1.351 ms - 788654
GET /components/fonts/fontawesome-webfont.woff2?v=4.6.3 304 0.689 ms - -
GET /components/dashboard.js.map 304 0.621 ms - -
POST /api/kernels?1475506860562 201 923.933 ms - 62
GET /api/kernels/d7681c2f-b8f9-4b19-9893-6bd6022d0e77/channels?session_id=ad17021f13dd752eb2e687b4a78fee64 404 2.936 ms - 1021
GET /api/kernels/d7681c2f-b8f9-4b19-9893-6bd6022d0e77/channels?session_id=ad17021f13dd752eb2e687b4a78fee64 404 3.703 ms - 1021
</code></pre>

<p>Albeit with the 404 in the end.</p>

<p>Then I have the kernel gateway running:</p>

<pre><code>[KernelGatewayApp] The Jupyter Kernel Gateway is running at: http://127.0.0.1:8888
[KernelGatewayApp] Native kernel (python3) available from /opt/anaconda3/lib/python3.5/site-packages/ipykernel/resources
[KernelGatewayApp] Starting kernel: ['/opt/anaconda3/bin/python', '-m', 'ipykernel', '-f', '/home/sandman/.local/share/jupyter/runtime/kernel-d7681c2f-b8f9-4b19-9893-6bd6022d0e77.json']
[KernelGatewayApp] Connecting to: tcp://127.0.0.1:52565
[KernelGatewayApp] Kernel started: d7681c2f-b8f9-4b19-9893-6bd6022d0e77
[KernelGatewayApp] Kernel args: {'kernel_name': 'python3'}
[I 161003 16:01:01 web:1971] 201 POST /api/kernels (127.0.0.1) 917.05ms
</code></pre>

<p>Which sees the request for a kernel and as far as I understand, starts it up.</p>

<p>But the browser doesn't see it:</p>

<pre><code>Environment_variables   200 document    Other   1.2 KB  365 ms  
style.css   200 stylesheet  Environment_variables:7 29.2 KB 259 ms  
require.js  200 script  Environment_variables:64    21.0 KB 325 ms  
dashboard.js    200 script  Environment_variables:65    214 KB  989 ms  
fontawesome-webfont.woff2?v=4.6.3   304 font    Environment_variables:64    216 B   82 ms   
kernels?1475506860562   201 xhr index.js:178    395 B   1.01 s  
cursor.png  200 png middlemouse.js:53   (from cache)    2 ms    
channels?session_id=ad17021f13dd752eb2e687b4a78fee64    404 websocket   Other   0 B 82 ms   
channels?session_id=ad17021f13dd752eb2e687b4a78fee64    404 websocket   Other   0 B 82 ms   
</code></pre>

<p><a href=""https://i.stack.imgur.com/vCUvZ.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/vCUvZ.png"" alt=""enter image description here""></a></p>

<p>I also tried starting up the kernel gateway in http mode, but that just gave me an error:</p>

<pre><code>$ jupyter kernelgateway --KernelGatewayApp.api=kernel_gateway.notebook_http --debug
Traceback (most recent call last):
  File ""/opt/anaconda3/bin/jupyter-kernelgateway"", line 11, in &lt;module&gt;
    sys.exit(launch_instance())
  File ""/opt/anaconda3/lib/python3.5/site-packages/jupyter_core/application.py"", line 267, in launch_instance
    return super(JupyterApp, cls).launch_instance(argv=argv, **kwargs)
  File ""/opt/anaconda3/lib/python3.5/site-packages/traitlets/config/application.py"", line 652, in launch_instance
    app.initialize(argv)
  File ""/opt/anaconda3/lib/python3.5/site-packages/kernel_gateway/gatewayapp.py"", line 298, in initialize
    self.init_configurables()
  File ""/opt/anaconda3/lib/python3.5/site-packages/kernel_gateway/gatewayapp.py"", line 352, in init_configurables
    self.personality = func(parent=self, log=self.log)
  File ""/opt/anaconda3/lib/python3.5/site-packages/kernel_gateway/notebook_http/__init__.py"", line 144, in create_personality
    return NotebookHTTPPersonality(*args, **kwargs)
  File ""/opt/anaconda3/lib/python3.5/site-packages/kernel_gateway/notebook_http/__init__.py"", line 25, in __init__
    self.api_parser = func(parent=self, log=self.log, kernelspec=self.parent.kernel_manager.seed_kernelspec, notebook_cells=self.parent.seed_notebook.cells)
AttributeError: 'NoneType' object has no attribute 'cells'
</code></pre>
",429,0,<jupyter><jupyter-irkernel>,2016-10-03 15:11:15
39805798,R inline plots in Jupyter,"<p>I am trying to run R in Jupyter through the <a href=""http://mybinder.org/"" rel=""nofollow noreferrer"">Binder</a> project interface, though the question may be more general. For instance it question may be related the <a href=""https://stackoverflow.com/questions/32821369/how-to-get-ipython-irkernel-to-plot-graphics-inline"">long-dormant one</a> about Jupyter on Mac OS. I have the r-essentials, r-rzmq and r-repr added through <a href=""https://anaconda.org/r"" rel=""nofollow noreferrer"">conda</a>. IRKernel and IRDisplay are part of r-essentials. However, when I try to plot anything, there is no output. Indeed, it looks like there are no graphics output options. What am I missing here? There is no problem in python notebooks, but no luck with R.</p>

<pre><code>capabilities()
jpeg FALSE
png FALSE
tiff FALSE
tcltk TRUE
X11 FALSE
aqua FALSE
http/ftp TRUE
sockets TRUE
libxml TRUE
fifo TRUE
cledit FALSE
iconv TRUE
NLS TRUE
profmem TRUE
cairo FALSE
ICU TRUE
long.double TRUE
libcurl TRUE
</code></pre>
",1022,0,<r><jupyter><jupyter-irkernel>,2016-10-01 11:00:54
39720886,Download a custom dataset in Azure ML Jupyter/iPython Notebook using R,"<p>I need to download a custom dataset in an Azure Jupyter/iPython Notebook.
My ultimate goal is to install an R package. To be able to do this the package (the dataset) needs to be downloaded in code. I followed the steps outlined by Andrie de Vries in the comments section of this post: <a href=""https://blogs.technet.microsoft.com/machinelearning/2016/03/30/jupyter-notebooks-with-r-in-azure-ml-studio-2/#comments"" rel=""nofollow"">Jupyter Notebooks with R in Azure ML Studio</a>.</p>

<p>Uploading the package as a ZIP file was without problems, but when I run the code in my notebook I get an error:</p>

<blockquote>
  <p>Error in curl(x$DownloadLocation, handle = h, open = conn): Failure
  when receiving data from the peer Traceback:</p>
  
  <ol>
  <li>download.datasets(ws, ""plotly_3.6.0.tar.gz.zip"")</li>
  <li>lapply(1:nrow(datasets), function(j) get_dataset(datasets[j,   .     ], ...))</li>
  <li>FUN(1L[[1L]], ...)</li>
  <li>get_dataset(datasets[j, ], ...)</li>
  <li>curl(x$DownloadLocation, handle = h, open = conn)</li>
  </ol>
</blockquote>

<p>So I simplified my code into:</p>

<pre><code>library(""AzureML"")
ws &lt;- workspace()
ds &lt;- datasets(ws)
ds$Name

data &lt;- download.datasets(ws, ""plotly_3.6.0.tar.gz.zip"")
head(data)
</code></pre>

<p>Where ""plotly_3.6.0.tar.gz.zip"" is the name of my dataset of data type ""Zip"".
Unfortunately this results in the same error.
To rule out data type issues I also tried to download another dataset of mine which is of data type ""Dataset"". Also the same error.</p>

<p>Now I change the dataset I want to download to one of the sample datasets of AzureML Studio.
""text.preprocessing.zip"" is of datatype Zip</p>

<pre><code>data &lt;- download.datasets(ws, ""text.preprocessing.zip"")
</code></pre>

<p>""Flight Delays Data"" is of datatype GenericCSV</p>

<pre><code>data &lt;- download.datasets(ws, ""Flight Delays Data"")
</code></pre>

<p>Both of the sample datasets can be downloaded without problems.</p>

<p><strong>So why can't I download my own saved dataset?</strong></p>

<p>I could not find anything helpful in the documentation of the download.datasets function. Not on <a href=""https://www.rdocumentation.org/packages/AzureML/versions/0.2.10/topics/download.datasets?"" rel=""nofollow"">rdocumentation.org</a>, nor on <a href=""https://cran.r-project.org/web/packages/AzureML/AzureML.pdf"" rel=""nofollow"">cran.r-project.org (page 17-18)</a>.</p>
",709,0,<r><azure><jupyter-notebook><jupyter-irkernel>,2016-09-27 09:22:31
39676933,Create a popup widget in IPython,"<p>I'm trying to create a Popup widget in Jupyter as described in <a href=""https://youtu.be/o7Tb7YhJZR0?t=26m21s"" rel=""nofollow"">this vid</a>: </p>

<pre><code>from IPython.html import widgets
</code></pre>

<p>which gives the following warning: </p>

<blockquote>
  <p>ShimWarning: The <code>IPython.html</code> package has been deprecated. You should import from <code>notebook</code> instead. <code>IPython.html.widgets</code> has moved to <code>ipywidgets</code>. ""<code>IPython.html.widgets</code> has moved to <code>ipywidgets</code>.""</p>
</blockquote>

<p>However, <code>ipywidgets</code> doesn't have a popup widget and there is nothing in <a href=""https://ipywidgets.readthedocs.io/en/latest/"" rel=""nofollow"">its docs</a>. (By the way, <code>IPython.html.widgets</code> doesn't have a popup widget either)</p>

<p>How can I create a popup widget in jupyter?</p>

<hr>

<p><sub><strong>Versions</strong>:<br>
Jupyter 1.0.0<br>
IPython 5.1.0</sub></p>
",9598,5,<python><popup><jupyter><jupyter-notebook><ipywidgets>,2016-09-24 13:35:56
39495994,Uploading files using Browse Button in Jupyter and Using/Saving them,"<p>I came across <a href=""https://github.com/peteut/ipython-file-upload/blob/master/README.rst"" rel=""noreferrer"">this snippet</a> for uploading files in Jupyter however I don't know how to save this file on the machine that executes the code or how to show the first 5 lines of the uploaded file. Basically I am looking for proper commands for accessing the file after it has been uploaded:</p>

<pre><code>import io
from IPython.display import display
import fileupload

def _upload():

    _upload_widget = fileupload.FileUploadWidget()

    def _cb(change):
        decoded = io.StringIO(change['owner'].data.decode('utf-8'))
        filename = change['owner'].filename
        print('Uploaded `{}` ({:.2f} kB)'.format(
            filename, len(decoded.read()) / 2 **10))

    _upload_widget.observe(_cb, names='data')
    display(_upload_widget)

_upload()
</code></pre>
",27846,9,<python><file-upload><ipython><jupyter-notebook><ipywidgets>,2016-09-14 17:01:45
39423491,Error in if (download_method_secure()) from installing native R kernel for Jupyter,"<p>I tried to install <a href=""https://irkernel.github.io/installation/"" rel=""nofollow"">R Kernel</a> to my Jupyter notebook on Windows from</p>

<pre><code>devtools::install_github('IRkernel/IRkernel')
</code></pre>

<p>but I ran into this error</p>

<pre><code>Error in if (download_method_secure()) { :
missing value where TRUE/FALSE needed
</code></pre>

<p>Any suggestions on how to fix it will be appreciated.</p>
",261,4,<jupyter-irkernel>,2016-09-10 06:58:00
39413786,Can I make an ipywidget floatslider with a list of values?,"<p>I would like to make an ipywidget floatslider, but passing it a list of values, rather than a range and step.  Is there a way to do this, or is making a dropdown widget the only option?</p>
",1362,3,<python><jupyter><ipywidgets>,2016-09-09 14:21:15
39397759,How to use interactive with a Box containing widgets?,"<p>Using <code>interactive</code> is fairly simple with multiple widgets, for example:</p>

<pre><code>interactive(foo, w1=widget1, w2=widget2, ...)
</code></pre>

<p>However I would like to layout these widgets in a specific manner, using combinations of VBox and HBox. Question is, how can I use interative with a box? </p>

<p>I have tried a couple of ways such as calling interactive with the widgets of the Box then displaying the box itself but that does not seem to work.</p>
",6498,8,<ipywidgets>,2016-09-08 18:21:55
39334589,Execute algorithm step by step in Jupyter,"<p>I am trying to show the execution of a Python program in Jupyter, step by step. For example, I can visualize the value of a variable in a program as in the following toy program:</p>

<pre><code>from IPython.display import display, clear_output
from time import sleep
def sum_first_integers(n):
    res = 0
    for i in range(n+1):
        res += i
        clear_output(wait=True)
        display(res)
        sleep(.5)
    return res
</code></pre>

<p>This shows the value of <code>res</code> at each step of the algorithm, and I added a <code>sleep(.5)</code> to be able to actually view the execution of the algorithm. My question is whether there exists a better way of performing this visualization:</p>

<ul>
<li>Is it possible (with <code>ipywidgets</code> for instance) to make a button ""Next step"", such that one needs to hit the button before the loop continues to its next step?</li>
<li>Is it possible to add other buttons such as ""Run"" &amp; ""Stop"" such that when ""Run"" is clicked, the algorithm runs (with for example some speed adjustment that would use <code>sleep</code>), and when ""Stop"" is clicked the algorithm is stopped?</li>
</ul>
",1043,3,<python><jupyter-notebook><ipywidgets>,2016-09-05 16:31:03
39334338,Jupyter: embed live interactive widgets,"<p>According to the Jupyter blog <a href=""http://blog.jupyter.org/2016/04/22/ipywidgets5/"" rel=""noreferrer"">here</a>, it is now possible to embed interactive widgets in a static webpage:</p>

<blockquote>
  <p>Live interactive widgets can now be embedded into static web pages or blogs by inserting an html snippet containing the serialized widget state. This also works with custom widget libraries. See <a href=""http://jupyter.org/embed-jupyter-widgets.html"" rel=""noreferrer"">http://jupyter.org/embed-jupyter-widgets.html</a>.</p>
</blockquote>

<p>When I open the example above, in firefox or chrome, I get the interactive widgets alright! </p>

<p>However, if I create a new notebook with the same bit of python code, save the notebook as html, and then copy-paste the embeddable HTML snippet to render the interactive widgets, it is not working. At best I obtain an image of the widget state, but nothing interactive.</p>

<p>Has anyone managed to replicate the HTML page with interactive widgets? Is there something that I am missing?</p>
",6219,17,<python-3.x><ipython><jupyter><jupyter-notebook><ipywidgets>,2016-09-05 16:13:09
39310156,Sharing Interactive IPython/Jupyter Notebooks for Non-Technical Users,"<p>Is there an optimal way to share/serve a readonly-ish Jupyter notebooks with the input code cells hidden, but connected to a live kernel so users can interact with widgets? </p>

<p>I understand there are ways to embed data for widgets, but often the widgets require rerunning a query against a larger data sets.</p>

<p>I've recently started learning to use widgets and they'd be really useful to share interactive data with our non-technical staff, but I haven't figured out a good way to do so yet. </p>

<p>Having this capability would also reduce the desire for expensive tools like Tableau. </p>
",2087,4,<jupyter-notebook><ipywidgets><jupyterhub>,2016-09-03 18:33:14
39279065,How to update plot characteristics (hovertool details and x_range) in a bokeh plot multiple times?,"<p>I have a bokeh plot that I would like to update the ranges (x_range and y_range) as well as the hovertool details (field names, etc.) when I update the source data in the plot. The things I've tried haven't worked yet. Any help would be appreciated. Here's an example of what I've tried.  </p>

<pre><code>def update_plot(*args):
    source = select_data();

    # Set ranges (not working)
    p.x_range = Range1d(0, source['x'].max())
    p.y_range = Range1d(0, source['y'].max())

    # How to change hovertool here?

figureTools = [HoverTool()]
p = figure(plot_height=600, plot_width=700, title='', tools=figureTools)
p.circle(x='x', y='y', source=source, line_color=None)

widget = widgets.Dropdown(options=['1', '2', '3'])
widget.observe(update_plot, 'value')

update_plot();
show(p);
</code></pre>
",399,0,<python><jupyter><bokeh><ipywidgets>,2016-09-01 19:02:53
39258580,iPyWidget with date slider?,"<p>I am wondering if there's an easy way to build an iPyWidget with a datetime slider. Right now it is easy to slide over integer or floating point ranges (e.g. numbers 1-10, decimals 0.01, 0.02, ...). </p>

<p>I imagine you could convert dates to floats or integers, build some sort of slider using these, and then convert back to dates for the display labels on the slider. However, this seems clunky. Does anyone have a smoother solution? </p>
",16948,15,<python><jupyter-notebook><ipython><jupyter><ipywidgets>,2016-08-31 20:36:41
39065074,Obtaining values from ipywidgets.widgets.SelectMultiple,"<p>I am not able to get the values from a MultipleSelect widget after changing the initial selection. The selection looks fine, but the values do not show. The code to create the SelectMultiple widget:</p>

<pre><code>from ipywidgets import widgets
from IPython.display import display
w = widgets.SelectMultiple(description=""Fruits"",
options=['Apples', 'Oranges', 'Pears'])
display(w)
</code></pre>

<p>The selection widget appears as expected, and if nothing is done with it, a subsequent <code>w.value</code> correctly returns the visual selection (for me, this is the last option, 'Pears'). 
However, after making a selection by mouse (say, selecting 'Apples' or 'Apples' and 'Oranges'), <code>w.value</code> returns an empty tuple. </p>

<p>The exact same code with <code>widgets.SelectMultiple</code> replaced with <code>widgets.Dropdown</code> works as expected (<code>w.value</code> showing the selected value, also after changing the selection). </p>

<p>What am I doing wrong?</p>
",4883,4,<python><jupyter-notebook><ipywidgets>,2016-08-21 14:04:01
38920578,Python Jupyter Notebook Ipywidget Break a loop,"<p>I'm trying, on Ipython notebook, to create graphs using plot.ly offline updated every ten seconds.</p>

<p>So I've put in an infinite loop a method creating and displaying the graph, wait for ten seconds with sleep, then clear_output()</p>

<p>I'm trying to control this infinite loop with a widget Interactive</p>

<pre><code>def stopSeries(self, active):
    if (active == True):
        current_time = datetime.datetime.now(tzlocal()) - datetime.timedelta(minutes=15)
        self.launchSeries(current_time.isoformat(), """", """", """", """", self.sensibility)
    time.sleep(self.delay)
    clear_output()
    self.on = active
    self.w.close()
    del self.w

def autoSeries(self, sensibility, delay):
    self.sensibility = sensibility
    self.delay = int(delay)
    while (self.on):
        self.w = interactive(self.stopSeries, active=self.on)
        display(self.w)

def autointeractSeries(self): 
    w = interactive(self.autoSeries, sensibility = FloatSlider(min=0,max=10,step=0.1,value=1), delay = ""10"", __manual=True)
    display(w)
</code></pre>

<p>Each 10 seconds, the check box fills again and the loop continue, I cant manage to break the loop, the self.on = active doesn't change self.on value</p>
",875,2,<python><ipython><jupyter-notebook><ipywidgets>,2016-08-12 14:37:51
38906333,Jupyter Notebook: How to change spacing between Text objects inside HBox?,"<p>Say I have the following code in a cell in the Jupyter Notebook:</p>

<pre><code>from ipywidgets.widgets import HBox, Text
from IPython.display import display

text1 = Text(description = ""text1"", width = 100)
text2 = Text(description = ""text2"", width = 100)
text3 = Text(description = ""text3"", width = 100)
text4 = Text(description = ""text4"", width = 100)
text5 = Text(description = ""text5"", width = 100)
display(HBox((text1, text2, text3, text4, text5)))
</code></pre>

<p>It produces the following output:</p>

<p><a href=""https://i.stack.imgur.com/lxMKr.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/lxMKr.png"" alt=""enter image description here""></a></p>

<p>As you can see, there is a ton of unnecessary spacing between the Text objects. How do I change the spacing so that they stay within the cell?</p>
",5110,3,<python><jupyter><ipywidgets>,2016-08-11 21:20:24
38777378,Jupyterhub Notebook doesn't recognize Python modules,"<p>I'm trying to run Jupyterhub on a Ubuntu 14.04 VM. I've successfully done this before on a similar Amazon EC2 instance, but for some reason it's not cooperating with me here.</p>

<p>I've installed both the Python 27 and Python 35 Anaconda packages, so I expect to be able to access libraries like <code>matplotlib</code> and <code>numpy</code>. </p>

<p>When I use Python from the command line, I can successfully import <code>matplotlib</code>:</p>

<pre><code>$ python3
&gt;&gt;&gt; import matplotlib
&gt;&gt;&gt; # no error
</code></pre>

<p>However, when I try and import <code>matplotlib</code> from an iPython notebook inside of Jupyterhub, I'm told no such module exists:</p>

<pre><code>import matplotlib
-----------------------
ImportError
...
ImportError: No module named 'matplotlib'
</code></pre>

<p>Why does Jupyterhub not recognize the module despite my being able to use it through other means? </p>
",458,0,<python><matplotlib><python-import><jupyter><jupyterhub>,2016-08-04 21:03:06
38729238,R Jupyter notebook in Mac doesn't display some errors,"<p>I installed R, Anaconda and Jupyter on a Mac (OSX El Capitan). While everything else works well, I've noticed the Jupyter Notebooks doesn't display some error messages, at least some of the errors from ggplot2 and Dplyr.</p>

<p>For instance the following R code is incorrect:</p>

<pre><code>library(""ggplot2"")
ggplot(c(1,2,3),c(4,5,6))
</code></pre>

<p>And on the terminal I get the following error:</p>

<pre><code>Error: Mapping should be created with `aes() or `aes_()`.
</code></pre>

<p>But R on Jupyter doesn't display any error.</p>
",130,2,<r><macos><jupyter><jupyter-notebook><jupyter-irkernel>,2016-08-02 19:46:23
38566767,%R magic no longer works in IPython or Jupyter following update to Canopy Ver 1.7.4.3348,"<p>Previously %R and %%R magics were working in IPython and Jupyter python notebooks.
The R terminal version is:</p>

<pre><code>R version 3.3.1 (2016-06-21) -- ""Bug in Your Hair""
Copyright (C) 2016 The R Foundation for Statistical Computing
Platform: x86_64-apple-darwin13.4.0 (64-bit)
</code></pre>

<p>After upgrading to Version 1.7.4.3348 in Enthought Canopy, the notebooks and IPython no longer work. I have tried reinstalling following <a href=""https://stackoverflow.com/questions/35420680/installing-rkernel"">Installing RKernel</a> and <a href=""http://irkernel.github.io/installation/"" rel=""nofollow noreferrer"">http://irkernel.github.io/installation/</a>, which worked before. I run the command to load the R-extension as per</p>

<pre><code>%load_ext rpy2.ipython
</code></pre>

<p>I get the error message as follows: </p>

<pre><code>---------------------------------------------------------------------------
AttributeError                            Traceback (most recent call last)
&lt;ipython-input-2-691c6d73b073&gt; in &lt;module&gt;()
----&gt; 1 get_ipython().magic(u'load_ext rpy2.ipython')

/Users/Llewelyn_home/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/IPython/core/interactiveshell.pyc in magic(self, arg_s)
   2161         magic_name, _, magic_arg_s = arg_s.partition(' ')
   2162         magic_name = magic_name.lstrip(prefilter.ESC_MAGIC)
-&gt; 2163         return self.run_line_magic(magic_name, magic_arg_s)
   2164 
   2165     #-------------------------------------------------------------------------

/Users/Llewelyn_home/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/IPython/core/interactiveshell.pyc in run_line_magic(self, magic_name, line)
   2082                 kwargs['local_ns'] = sys._getframe(stack_depth).f_locals
   2083             with self.builtin_trap:
-&gt; 2084                 result = fn(*args,**kwargs)
   2085             return result
   2086 

&lt;decorator-gen-64&gt; in load_ext(self, module_str)

/Users/Llewelyn_home/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/IPython/core/magic.pyc in &lt;lambda&gt;(f, *a, **k)
    191     # but it's overkill for just that one bit of state.
    192     def magic_deco(arg):
--&gt; 193         call = lambda f, *a, **k: f(*a, **k)
    194 
    195         if callable(arg):

/Users/Llewelyn_home/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/IPython/core/magics/extension.pyc in load_ext(self, module_str)
     64         if not module_str:
     65             raise UsageError('Missing module name.')
---&gt; 66         res = self.shell.extension_manager.load_extension(module_str)
     67 
     68         if res == 'already loaded':

/Users/Llewelyn_home/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/IPython/core/extensions.pyc in load_extension(self, module_str)
     82             if module_str not in sys.modules:
     83                 with prepended_to_syspath(self.ipython_extension_dir):
---&gt; 84                     __import__(module_str)
     85             mod = sys.modules[module_str]
     86             if self._call_load_ipython_extension(mod):

/Users/Llewelyn_home/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/rpy2/ipython/__init__.py in &lt;module&gt;()
----&gt; 1 from .rmagic import load_ipython_extension

/Users/Llewelyn_home/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/rpy2/ipython/rmagic.py in &lt;module&gt;()
     57 template_converter = ro.conversion.converter
     58 try:
---&gt; 59     from rpy2.robjects import pandas2ri as baseconversion
     60     template_converter = template_converter + baseconversion.converter
     61 except ImportError:

/Users/Llewelyn_home/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/rpy2/robjects/pandas2ri.py in &lt;module&gt;()
      7                              INTSXP)
      8 
----&gt; 9 from pandas.core.frame import DataFrame as PandasDataFrame
     10 from pandas.core.series import Series as PandasSeries
     11 from pandas.core.index import Index as PandasIndex

/Users/Llewelyn_home/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/pandas/__init__.py in &lt;module&gt;()
     20 
     21 # numpy compat
---&gt; 22 from pandas.compat.numpy_compat import *
     23 
     24 try:

/Users/Llewelyn_home/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/pandas/compat/numpy_compat.py in &lt;module&gt;()
     13 
     14 # numpy versioning
---&gt; 15 _np_version = np.version.short_version
     16 _np_version_under1p8 = LooseVersion(_np_version) &lt; '1.8'
     17 _np_version_under1p9 = LooseVersion(_np_version) &lt; '1.9'

AttributeError: 'module' object has no attribute 'version'
</code></pre>

<p>Could it be related to Canopy version of numpy being listed as 1.10.4-1 and the np.<strong>version</strong> result being 1.11.1 (based on error message)? Any suggestions gratefully received. PS. R works in the console still, plus in terminal and in Jupyter with an R kernel...</p>
",185,0,<r><enthought><ipython-magic><jupyter-irkernel>,2016-07-25 11:39:16
38528426,How to efficiently replace element in plot with ipywidgets?,"<p>How can I efficiently display similar plots with ipywidgets using Jupyter Notebook?</p>

<p>I wish to plot interactively a heavy plot (heavy in the sense that it has lots of data points and takes some time to plot it) and modify a single element of it using interact from ipywidgets without replotting all the complicated plot. Is there a builtin functionality to do this?</p>

<p>basically what I'm trying to do is</p>

<pre><code>import numpy as np
import matplotlib.pyplot as plt
from ipywidgets import interact
import matplotlib.patches as patches
%matplotlib inline #ideally nbagg

def complicated plot(t):
    plt.plot(HEAVY_DATA_SET)
    ax = plt.gca()
    p = patches.Rectangle(something_that_depends_on_t)
    ax.add_patch(p)

interact(complicatedplot, t=(1, 100));
</code></pre>

<p>Right now it takes up to 2 seconds for each replot. I expect there are ways to keep the figure there and just replace that rectangle.</p>

<p>A hack would be to create a figure of the constant part, make it background to the plot and just plot the rectangle part. but the sounds too dirty</p>

<p>Thank you</p>
",954,0,<python><matplotlib><jupyter><jupyter-notebook><ipywidgets>,2016-07-22 14:02:46
38518181,Scientific notation for ipywidgets slider,"<p>In <code>ipywidgets</code>, how do I use scientific notation for large values of slider? Say if I have something like:</p>

<p><code>
FloatSlider(min=1e7, max=1e9, step=1e7)
</code></p>

<p>The display on the slider would be full of zeros. Can I somehow switch that to a scientific notation? </p>
",854,1,<jupyter-notebook><ipywidgets>,2016-07-22 04:28:33
38466438,readline() in Jupyter IRKernel,"<p>I'm currently working to transfer some R scripts of mine into a Jupyter notebook in order to make them more accessible; however, I'm running into the issue that <code>readline()</code> is returning <code>""""</code>, the default in non-interactive use. Jupyter (frustratingly so) seems to be non-interactive (i.e., <code>interactive()</code> returns <code>FALSE</code>). </p>

<p>Are there any known workarounds (other than a clunky interface) for the people who might use this Notebook? 
I had previously used <code>readline()</code> to enter data using a loop line-by-line into a dataframe built off a MySQL query in which the size may be variable. It's hard to preëmpt what size it might be, so being able to enter using <code>readline()</code> was particularly useful. </p>
",670,2,<r><jupyter><jupyter-notebook><jupyter-irkernel>,2016-07-19 18:56:45
38387027,Unable to load IRKernel in Jupyter notebook,"<p>I'm pretty new to the forum, so I'm sorry if this question has already been answered. I looked around, and although I saw that some had similar issues, I couldn't find the solution to my problem on any previous posts. So - here goes...</p>

<p>I'm running Mac OS X 10.11.5, Jupyter notebook version 4.2.1, R version 3.2.2</p>

<p>I installed the R kernel for Jupyter notebook with the following command -</p>

<pre><code>conda install -c r r-irkernel
</code></pre>

<p>Now, when I launch Jupyter notebook, I see 'R' appears as one of the options in the drop down menu on the right hand side under 'notebooks.' However, when I try to create an R notebook, the kernel crashes and I get the following error in terminal:</p>

<pre><code>WARNING:root:kernel b42781ab-ebb1-45eb-8a54-d3801106fb94 restarted
Error: .onLoad failed in loadNamespace() for 'pbdZMQ', details:  
  call: dyn.load(file, DLLpath = DLLpath, ...)
  error: unable to load shared object '/Users/avislova/anaconda/lib/R/library/pbdZMQ/libs/pbdZMQ.so':
  dlopen(/Users/avislova/anaconda/lib/R/library/pbdZMQ/libs/pbdZMQ.so,     6): Library not loaded: @rpath/libzmq.5.dylib
  Referenced from: /Users/avislova/anaconda/lib/R/library/pbdZMQ/libs/pbdZMQ.so
  Reason: image not found
Execution halted
 [W 16:19:12.382 NotebookApp] KernelRestarter: restart failed
 [W 16:19:12.382 NotebookApp] Kernel b42781ab-ebb1-45eb-8a54-d3801106fb94 died, removing from map.
ERROR:root:kernel b42781ab-ebb1-45eb-8a54-d3801106fb94 restarted failed!
 [W 16:19:12.390 NotebookApp] Kernel deleted before session
 [W 16:19:12.390 NotebookApp] 410 DELETE /api/sessions/2236e334-e33a-483b-87f3-31c461d4903b (::1) 1.32ms referer=http://localhost:8888/notebooks/Untitled5.ipynb?kernel_name=ir
</code></pre>

<p>Any idea where I can go from here?</p>

<p>Thank you!</p>
",10657,14,<r><installation><jupyter><jupyter-notebook><jupyter-irkernel>,2016-07-15 02:34:44
38229442,SAML authentication for Jupyter Hub,"<p>I should implement <strong>SAML</strong> authentication (Okta) in Jupyter. I have tried to search but didn't find anything. Maybe someone knows the solution. Thanks for help.</p>
",6335,3,<saml><saml-2.0><jupyter><okta><jupyterhub>,2016-07-06 16:51:30
38146701,iPython widgets: interact() with html result,"<p>I've recently discovered iPython widgets, and I would like to use them to provide more intearction for users. In particular, I have a function that returns an HTML table, based on choices made by user. </p>

<p>When I use the widgets and interact, the HTML table does not get updated. Instead, each time the user makes a selection, it prints a new table below, and it's not very helpful since the tables can be quite large.</p>

<p>On the other hand, if I return the string only of the HTML table, it is updated, but again not very helpful for visualization!</p>

<p>Is there any solution for the HTML table to be updated instead of printed each time the user makes a selection?</p>

<p><strong>EDIT: Nevermind, I found out how to link the html output to another widget!</strong></p>

<p>Here is an example of working code, with a simple table:</p>

<pre><code>from IPython.display import display,HTML
#ipywidgets imports
from __future__ import print_function
from ipywidgets import *
import ipywidgets as widgets

#EDIT
#added an html widget for output
w3 = widgets.HTML(value="""")

def my_function(a, b):
    html_table = '&lt;table&gt;&lt;thead&gt;'
    for col in a:
        html_table += '&lt;th&gt;'+col+'&lt;/th&gt;'
    html_table += '&lt;/thead&gt;&lt;tbody&gt;'
    for row in b:
        html_table += '&lt;tr&gt;'
        for col in a:
            html_table += '&lt;td&gt;'+row+'&lt;/td&gt;'
        html_table += '&lt;/tr&gt;'
    html_table += '&lt;/tbody&gt;&lt;/table&gt;'

    #EDIT
    w3.value = html_table
    #return HTML(html_table)
    #return html_table

widget1 = widgets.SelectMultiple(
    description=""columns:"",
    options=['A', 'B', 'C', 'D', 'E', 'F', 'G']
)

widget2 = widgets.SelectMultiple(
    description=""rows:"",
    options=['A', 'B', 'C', 'D', 'E', 'F', 'G']
)

#EDIT
interact(my_function, a=widget1, b=widget2)
display(w3)
</code></pre>
",1091,1,<python-3.x><ipython-notebook><jupyter-notebook><ipywidgets>,2016-07-01 13:27:19
38143237,How to define the default value of a Slider widget on ipywidgets?,"<p>On a Jupyter Notebook and using ipywidgets I can create sliders using the compact version</p>

<pre><code>import ipywidgets as ip
def f(x):
    print(x)
ip.interact(f, x = (0, 1, 1))
</code></pre>

<p>The slider's default value is 0 but I would like to make it 1. How can I do this?</p>
",5827,3,<ipython><ipython-notebook><jupyter><jupyter-notebook><ipywidgets>,2016-07-01 10:36:09
38135485,Suppress output from an interact() widget,"<p>I am using a widget to parametrise the generation of some data. I would like to capture the data, without outputting it. Is this possible? Adding <code>;</code> after <code>interact()</code> doesn't work. Example:</p>

<pre><code>import ipywidgets as widgets
from ipywidgets import interact, interactive, fixed

def generate_data(n, p, s):
    return np.random.negative_binomial(n, p, s)

w_n = widgets.IntSlider(min=1, max=10000, step=1)
w_p = widgets.FloatSlider(min=0.01, max=1, step = 0.01)
w_s = widgets.IntSlider(min=500,max=10000,step=50)

data = interact(generate_data, n = w_n, p = w_p, s = w_s);
</code></pre>
",1809,2,<ipython><ipython-notebook><jupyter><jupyter-notebook><ipywidgets>,2016-07-01 00:58:35
37999772,How to run jupyter Rkernel notebook with inline graphics on machine without display?,"<p>I often run jupyter IPython notebooks on a linux cluster compute node  without X11 with no problems.  However, running the R kernel on the same setup is not working very well. </p>

<p>The machine details are:</p>

<ul>
<li>CentOS 7.2</li>
<li>R 3.3.1 with X11, png, and cairo capabilities</li>
<li>Anaconda 4.0.0 (python 2.7.11) </li>
</ul>

<p>Just starting the notebook causes the kernel to crash after the first cell is run with this in the log:</p>

<pre><code>unable to open connection to X11 display ''
</code></pre>

<p>I can get it to work by starting the notebook with <code>xvfb-run jupyter notebook</code>.  This lets me run R commands in the cells but when I try to produce plots, I get the following</p>

<pre><code>Error in grid.Call(L_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : X11  font -adobe-helvetica-%s-%s-*-*-%d-*-*-*-*-*-*-*, face 1 at size 9 could not be loaded
</code></pre>

<p>I suppose that if I could install the x11 fonts it would work, but this is on a compute node of a cluster and I don't have the administrative privileges to install them.  </p>

<p>What is the correct way to configure jupyter notebook with the R kernel to produce graphics on a linux machine without X11?</p>
",2098,1,<r><linux><x11><jupyter-notebook><jupyter-irkernel>,2016-06-23 19:02:47
37995341,How to have an argument possible values dependent on another argument with IPython Widgets?,"<p>Assume I have this simple function in Python:</p>

<pre><code>def f(gender, name):
    if gender == 'male':
        return ranking_male(name)
    else:
        return ranking_female(name)
</code></pre>

<p>where <code>gender</code> belongs to <code>['male', 'female']</code> whereas <code>name</code> belongs to <code>['Adam', 'John', 'Max', 'Frodo']</code> (if <code>gender</code> is <code>male</code>) or <code>['Mary', 'Sarah', 'Arwen']</code> (otherwise).</p>

<p>I wish to apply <code>interact</code> from <code>ipywidgets</code> to this function <code>f</code>. Normally one would do</p>

<pre><code>from ipywidgets import interact
interact(f, gender = ('male', 'female'), name = ('Adam', 'John', 'Max', 'Frodo'))
</code></pre>

<p>The problem is that the admissible values for <code>name</code> now depend on the value chosen for <code>gender</code>.</p>

<p>I tried to find it in the docs but couldn't find it. The only thing I think may be important is 
This is used to setup dynamic notifications of trait changes.</p>

<pre><code>    Parameters
    ----------
    handler : callable
        A callable that is called when a trait changes. Its
        signature should be ``handler(change)``, where ``change```is a
        dictionary. The change dictionary at least holds a 'type' key.
        * ``type``: the type of notification.
        Other keys may be passed depending on the value of 'type'. In the
        case where type is 'change', we also have the following keys:
        * ``owner`` : the HasTraits instance
        * ``old`` : the old value of the modified trait attribute
        * ``new`` : the new value of the modified trait attribute
        * ``name`` : the name of the modified trait attribute.
    names : list, str, All
        If names is All, the handler will apply to all traits.  If a list
        of str, handler will apply to all names in the list.  If a
        str, the handler will apply just to that name.
    type : str, All (default: 'change')
        The type of notification to filter by. If equal to All, then all
        notifications are passed to the observe handler.
</code></pre>

<p>But I have no idea how to do it nor to interpret what the doc string is talking about. Any help is much appreciated!</p>
",2586,5,<widget><ipython><jupyter><jupyter-notebook><ipywidgets>,2016-06-23 15:01:50
37886584,R + jupyter tapply() function gives `Error: subscript out of bounds`,"<p>I have this minimal code in an R - Jupyter notebook:</p>

<pre><code>In[1]:
    a = c( 1, 2, 3, 4, 5, 6 )
    b = c( 1, 1, 1, 2, 3, 0 )
   print( tapply( a, b, mean ) )
</code></pre>

<p>which gives this output:</p>

<pre><code>    0 1 2 3 
    6 2 4 5 
</code></pre>

<p>If I just run a cell with:</p>

<pre><code>In[2]: 
    tapply( a, b, mean )
</code></pre>

<p>I get this output (in that order):</p>

<pre><code>Error in dn[[2L]]: subscript out of bounds    

Out[2]:
    0    6
    1    2
    2    4
    3    5
</code></pre>

<p>Interestingly, the following does not throw an error:</p>

<pre><code>In[3]:
    t( tapply( a, b, mean ) )
Out[3]:
    0 1 2 3
    6 2 4 5
</code></pre>

<hr>

<p>Why do I get this error?</p>

<p>And why does it print <em>vertically</em>?</p>

<p>And why don't I get the labels <code>Out[]</code> when using <code>print()</code>?</p>

<p>It seems that it has something to do with how Jupyter prints the value of objects when called with no <code>print()</code> function... And something about the Notice that the calculation itself is correct, so the error doesn't appear to be harmful, it's just strange :P</p>

<p><strong>Note:</strong> The error doesn't occur in bash, nor in rStudio, only in Jupyter.</p>
",398,3,<r><jupyter><jupyter-notebook><jupyter-irkernel>,2016-06-17 16:48:24
37837210,Is it actually possible to pass data (callback) from mpld3 to ipython?,"<p>There is a lot of amazing possibilities to create animated pictures using <code>mpld3</code>. However, it seems that all the ""moving parts"" are responsibility of JavaScript. Moreover, there are lots of requests on the internet and Stack Overflow where people directly ask for that possibility.</p>

<p><a href=""https://stackoverflow.com/questions/26532327/retrieve-data-from-dynamic-mpld3-plot-in-python"">Retrieve Data From Dynamic mpld3 plot in python</a></p>

<p><a href=""https://stackoverflow.com/questions/24498322/get-point-information-after-dragging?rq=1"">Get point information after dragging</a></p>

<p><a href=""https://stackoverflow.com/questions/26619698/how-to-dump-points-selected-with-the-linkedbrush-plugin-for-mpld3?rq=1"">How to &quot;dump&quot; points selected with the LinkedBrush plugin for mpld3?</a></p>

<p><a href=""https://stackoverflow.com/questions/33108218/mpld3-select-points-and-get-their-coordinates?rq=1"">mpld3 ~ Select points and get their coordinates?</a></p>

<p>with references therein, but all the answers are WRONG, since they propose to use some kind of alerts or captions. The second link is, however, most interesting, since it suggests to add some HTML-form and push the button to send the data to ""server-python"" from the ""client-javascript"". There is another interesting notebook</p>

<p><a href=""http://nbviewer.jupyter.org/gist/aflaxman/11156203"" rel=""noreferrer"">http://nbviewer.jupyter.org/gist/aflaxman/11156203</a></p>

<p>which is mentioned by many people as a source of inspiration - it saves the output configuration the .html file. Maybe this hard-disk exchange can be used to proceed this information further by python.</p>

<p>Moving further, I discovered <code>IPYwidgets</code>, with plenty of examples and even possibilities of TRUE interaction client-server. Essentially, we may start from basic sliders and buttons, but then we see that some more complex packages are built on this basis: mainly <code>bqplot</code>, and some other inherited packages.</p>

<p>What I want - is just to drag and drop some points on the picture, and then pass them to iPython to make some further plots - it is very complicated and definitely can't be moved to JavaScript. But it seems that despite the team of <code>bqplot</code> has done a huge work, you can use only some ""predefined"" set of interactions, so the drag-and-drop behavior is again not included.</p>

<p>When I tried (not very deeply) to enter the source code of mpld3 and modify it and possibly merge with ipywidgets, I encountered that many things are deprecated, the code evolves really fast, which doesn't accord to the existing examples in the internet: most poplar ones are very old, and inquiries are also very old. So I couldn't do anything because of the mess, many examples fail because of lack of backward-compatibility.</p>

<p><strong>Summary.</strong> I would be glad if anyone provided some way to drag-and-drop points and to pass their coordinates to python, but which could me more helpful - is the ability to pass information from mpld3 in a more ""abstract manner"", so that other cases can be included.</p>
",1288,8,<javascript><python><mpld3><ipywidgets>,2016-06-15 13:41:48
37818584,How to install ipywidgets offline (from file),"<p>So I am trying to install ipywidgets-0.0.1 into my Anaconda environment. I am running Anaconda3. Unfortunately, the machine I need to install it on does not have internet access.</p>

<p>The basic way to install the package is to run <code>conda install ipywidgets</code>, but of course this gives the following error:</p>

<pre><code>Fetching package metadata: Could not connect to https://repo.continuum.io/pkgs/p
ro/noarch/
Could not connect to https://repo.continuum.io/pkgs/free/win-64/
Could not connect to https://repo.continuum.io/pkgs/pro/win-64/
.Could not connect to https://repo.continuum.io/pkgs/free/noarch/
...
Solving package specifications: .
Package plan for installation in environment C:\Program Files\Anaconda3:

The following packages will be downloaded:

    package                    |            build
    ---------------------------|-----------------
    ipywidgets-0.0.1           |       np19py34_0           7 KB

The following NEW packages will be INSTALLED:

    ipywidgets: 0.0.1-np19py34_0

Proceed ([y]/n)? y

Fetching packages ...
Could not connect to https://repo.continuum.io/pkgs/free/win-64/ipywidgets-0.0.1
-np19py34_0.tar.bz2
Error: Connection error: HTTPSConnectionPool(host='repo.continuum.io', port=443)
: Max retries exceeded with url: /pkgs/free/win-64/ipywidgets-0.0.1-np19py34_0.t
ar.bz2 (Caused by ProtocolError('Connection aborted.', gaierror(11004, 'getaddri
nfo failed'))): 
https://repo.continuum.io/pkgs/free/win-64/ipywidgets-0.0.1-np19py34_0.tar.bz2
</code></pre>

<p>This makes sense, since the box can't access the internet.
I downloaded the ipywidgets tarball from the listed URL at <a href=""https://repo.continuum.io/pkgs/free/win-64/ipywidgets-0.0.1-np19py34_0.tar.bz2"" rel=""nofollow"">https://repo.continuum.io/pkgs/free/win-64/ipywidgets-0.0.1-np19py34_0.tar.bz2</a>, and I ssh'ed it onto the box. </p>

<p>What command can I run on the box (it is a Windows 7 environment) so that it will run the install as local, looking at the downloaded tarball to unpack rather than trying to access the internet to get the file? </p>
",485,0,<python><cmd><anaconda><jupyter-notebook><ipywidgets>,2016-06-14 17:32:20
37715661,Jupyter R crashes when plotting in docker container,"<p><strong>I am trying to set up Jupyter using Docker. I would like to provide multiple languages kernels (python, scala, R etc.) Now it seems work for others but R. 
Everytime I execute a 'plot' function, the browser will tell me ""The kernel appears to have died. It will restart automatically""</strong></p>

<p>And the error message in log is:</p>

<pre><code> ***caught segfault ***
 address 0x35da0, cause 'memory not mapped'
 Traceback:
 1: png(tf, width, height, ""in"", pointsize, bg, res, antialias = antialias)
 2: dev.cb(tf)
 3: repr_recordedplot_generic(obj, "".png"", TRUE, function(tf) png(tf, width, height, ""in"", pointsize, bg, res, antialias = antialias))
 4: repr_png.recordedplot(plotobj)
 5: mime2repr[mime]
 6: doTryCatch(return(expr), name, parentenv, handler)
 7: tryCatchOne(expr, names, parentenv, handlers[[1L]])
 8: tryCatchList(expr, classes, parentenv, handlers)
 9: tryCatch({ formats[[mime]] &lt;- mime2repr[mime]}, error = handle_error)
 10: send_plot(last_recorded_plot)
 11: executor$execute(msg)
 12: handle_shell()
 13: kernel$run()
 14: IRkernel::main()
 aborting ... 
 [I 2016-06-08 19:41:02.360 XX restarter:103] KernelRestarter: restarting kernel (1/5)
 WARNING:root:kernel XXXXXXXXXXXXXXXXXX restarted
</code></pre>

<p>If I execute a function of <code>png()</code> or <code>jpeg()</code> from the browser (Google Chrome) first, then <code>plot()</code> function could be executed successfully. I don't know why this happens, what will be changed after running <code>png()</code> or <code>jpeg()</code>. Has anyone met similar issues in either Jupyter or R?</p>
",270,0,<r><docker><jupyter><jupyter-irkernel>,2016-06-09 01:53:04
37622023,How to sort key names in ipywidgets interactive widgets (slider)?,"<p>I am trying to make interactive sliders with ipywidgets on jupyter notebook to change the data of a plot when a user changes a slider Widget, which is simple and we can find example codes easily. The problem that I have is twofold: 1) when there are many parameters (= variables,sliders) in my function to be displayed, sliders are vertically arranged so that it is getting hard to control them without scrolling the jupyter page. Is there any way to arrange sliders as I wish like m by n grid? 2) To pass a large number of integer-/float-valued sliders, I made a single dictionary to be passed to the function interactive. Here, the key (=slider/variable/parameter) names are displayed seemingly in random order. I tried to pass the dictionary after sorting by the key names beforehand, but it does not still resolve the issue.</p>

<p>I'd appreciate it if you can share any ideas.</p>

<pre><code>def myfun(**var_dict):
    v = [value for value in var_dict.values()]
    return np.sum(v)

var_dict = {'var1':1,'var2':2,'var3':3,'var4':4}
w = interactive(myfun,**var_dict)
display(w)
</code></pre>

<p><a href=""http://i.stack.imgur.com/P1CS8.png"" rel=""nofollow"">ipywidgets interactive sliders</a></p>
",1541,4,<python><jupyter-notebook><ipywidgets>,2016-06-03 19:27:01
37554442,Jupyter R notebook library(dplyr) causes kernel crash,"<p>I'm running a new install of Jupyter notebook on MacOS 10.10.5 following the the instructions in the O'Reilly video tutorial (<a href=""http://shop.oreilly.com/product/0636920044260.do"" rel=""nofollow"">http://shop.oreilly.com/product/0636920044260.do</a>). After installing miniconda I create an environment for the R kernel with:</p>

<pre><code>conda create -n jupyter_r -c r r-irkernel r-recommended r-essentials anaconda rpy2 -y
</code></pre>

<p>Within that environment I can start the jupyter notebook and create a new R notebook. </p>

<p>However, when I try to execute:</p>

<pre><code>library(dplyr)
</code></pre>

<p>I get a Dead kernel error, and the kernel restarts in my terminal.</p>

<p>I can successfully execute:</p>

<pre><code>library(ggplot2)
library(lattice)
library(reshape2)
</code></pre>

<p>It's only the library(dplyr) that seems to cause the crash. I've also verified that this happens with both anaconda and miniconda installs.</p>

<p>Output from the crash is:</p>

<pre><code> *** caught segfault ***
address 0x18, cause 'memory not mapped'

Traceback:
 1: dyn.load(file, DLLpath = DLLpath, ...)
 2: library.dynam(lib, package, package.lib)
 3: loadNamespace(package, c(which.lib.loc, lib.loc))
 4: doTryCatch(return(expr), name, parentenv, handler)
 5: tryCatchOne(expr, names, parentenv, handlers[[1L]])
 6: tryCatchList(expr, classes, parentenv, handlers)
 7: tryCatch(expr, error = function(e) {    call &lt;- conditionCall(e)    if (!is.null(call)) {        if (identical(call[[1L]], quote(doTryCatch)))             call &lt;- sys.call(-4L)        dcall &lt;- deparse(call)[1L]        prefix &lt;- paste(""Error in"", dcall, "": "")        LONG &lt;- 75L        msg &lt;- conditionMessage(e)        sm &lt;- strsplit(msg, ""\n"")[[1L]]        w &lt;- 14L + nchar(dcall, type = ""w"") + nchar(sm[1L], type = ""w"")        if (is.na(w))             w &lt;- 14L + nchar(dcall, type = ""b"") + nchar(sm[1L],                 type = ""b"")        if (w &gt; LONG)             prefix &lt;- paste0(prefix, ""\n  "")    }    else prefix &lt;- ""Error : ""    msg &lt;- paste0(prefix, conditionMessage(e), ""\n"")    .Internal(seterrmessage(msg[1L]))    if (!silent &amp;&amp; identical(getOption(""show.error.messages""),         TRUE)) {        cat(msg, file = stderr())        .Internal(printDeferredWarnings())    }    invisible(structure(msg, class = ""try-error"", condition = e))})
 8: try({    ns &lt;- loadNamespace(package, c(which.lib.loc, lib.loc))    env &lt;- attachNamespace(ns, pos = pos, deps)})
 9: library(dplyr)
10: eval(expr, envir, enclos)
11: eval(expr, envir, enclos)
12: withVisible(eval(expr, envir, enclos))
13: withCallingHandlers(withVisible(eval(expr, envir, enclos)), warning = wHandler,     error = eHandler, message = mHandler)
14: doTryCatch(return(expr), name, parentenv, handler)
15: tryCatchOne(expr, names, parentenv, handlers[[1L]])
16: tryCatchList(expr, classes, parentenv, handlers)
17: tryCatch(expr, error = function(e) {    call &lt;- conditionCall(e)    if (!is.null(call)) {        if (identical(call[[1L]], quote(doTryCatch)))             call &lt;- sys.call(-4L)        dcall &lt;- deparse(call)[1L]        prefix &lt;- paste(""Error in"", dcall, "": "")        LONG &lt;- 75L        msg &lt;- conditionMessage(e)        sm &lt;- strsplit(msg, ""\n"")[[1L]]        w &lt;- 14L + nchar(dcall, type = ""w"") + nchar(sm[1L], type = ""w"")        if (is.na(w))             w &lt;- 14L + nchar(dcall, type = ""b"") + nchar(sm[1L],                 type = ""b"")        if (w &gt; LONG)             prefix &lt;- paste0(prefix, ""\n  "")    }    else prefix &lt;- ""Error : ""    msg &lt;- paste0(prefix, conditionMessage(e), ""\n"")    .Internal(seterrmessage(msg[1L]))    if (!silent &amp;&amp; identical(getOption(""show.error.messages""),         TRUE)) {        cat(msg, file = stderr())        .Internal(printDeferredWarnings())    }    invisible(structure(msg, class = ""try-error"", condition = e))})
18: try(f, silent = TRUE)
19: handle(ev &lt;- withCallingHandlers(withVisible(eval(expr, envir,     enclos)), warning = wHandler, error = eHandler, message = mHandler))
20: evaluate_call(expr, parsed$src[[i]], envir = envir, enclos = enclos,     debug = debug, last = i == length(out), use_try = stop_on_error !=         2L, keep_warning = keep_warning, keep_message = keep_message,     output_handler = output_handler)
21: evaluate(request$content$code, envir = .GlobalEnv, output_handler = oh,     stop_on_error = 0L)
22: doTryCatch(return(expr), name, parentenv, handler)
23: tryCatchOne(expr, names, parentenv, handlers[[1L]])
24: tryCatchList(expr, names[-nh], parentenv, handlers[-nh])
25: doTryCatch(return(expr), name, parentenv, handler)
26: tryCatchOne(tryCatchList(expr, names[-nh], parentenv, handlers[-nh]),     names[nh], parentenv, handlers[[nh]])
27: tryCatchList(expr, classes, parentenv, handlers)
28: tryCatch(evaluate(request$content$code, envir = .GlobalEnv, output_handler = oh,     stop_on_error = 0L), interrupt = function(cond) interrupted &lt;&lt;- TRUE,     error = handle_error)
29: executor$execute(msg)
30: handle_shell()
31: kernel$run()
32: IRkernel::main()
aborting ...
[I 15:33:17.931 NotebookApp] KernelRestarter: restarting kernel (1/5)
</code></pre>

<p>Any suggestions on what's causing this? I've found a number of references to the jupyter kernel crashing spontaneously, but nothing that seems to be specifically tied to dplyr.</p>

<p>Thanks,</p>

<p>Alex</p>
",595,0,<jupyter><jupyter-notebook><jupyter-irkernel>,2016-05-31 19:49:03
37542298,HTML ipywidgets state is not saved with the notebook,"<p>I use ipywidgets to display asynchronous results from processes. </p>

<pre><code>import ipywidgets as widgets

results = widgets.HTML()
display(results)
</code></pre>

<p>It works well, results appear correctly, but when the notebook is saved, the widgets are not there anymore. Is there a way to save them with the notebook?</p>
",1720,9,<jupyter-notebook><ipywidgets>,2016-05-31 09:46:41
37528992,Place ipywidgets into HTML into Jupyter notebook,"<p>With the following minimal example, I can create buttons which interact with the Jupyter notebook and an HTML table, which is displayed in the notebook.</p>

<pre><code>import ipywidgets
from IPython.display import display

from IPython.core.display import HTML

def func(btn):
    print('Hi!')

btn1 = ipywidgets.Button(description=""Click me!"")
btn1.on_click(func)
btn2 = ipywidgets.Button(description=""Click me!"")
btn2.on_click(func)
display(btn1)
display(btn2)

display(HTML(
        '&lt;table&gt;' +
        '&lt;tr&gt;&lt;td&gt;Something here&lt;/td&gt;&lt;td&gt;Button 1 here&lt;/td&gt;&lt;/tr&gt;' +
        '&lt;tr&gt;&lt;td&gt;Something here&lt;/td&gt;&lt;td&gt;Button 2 here&lt;/td&gt;&lt;/tr&gt;' +
        '&lt;/table&gt;'
    ))
</code></pre>

<p>The produced result is:
<a href=""https://i.stack.imgur.com/Zytdx.png"" rel=""noreferrer""><img src=""https://i.stack.imgur.com/Zytdx.png"" alt=""screenshot of table and buttons""></a></p>

<p>I now would like to place the buttons in the html table. I tried investigating the method <code>Widget._ipython_display_()</code> but this does not allow me to use the button inside my own html table.</p>

<p>(Please see the small table as an example. I want to place the buttons in a large table and use the buttons to delete rows from a database.)</p>

<p>In <a href=""https://stackoverflow.com/questions/37013489/how-to-alight-and-place-ipywidgets"">this question</a>, the wanted to know, how to place widgets relative to each other. Here, I want to place the widgets inside other HTML code.</p>
",4137,15,<python><html><jupyter-notebook><ipywidgets>,2016-05-30 15:14:52
37519775,How can I read a matrix with ipywidgets?,"<p>I want to develop an interactive ipywidget; here I want to read the input as a matrix and compare it with another matrix I saved. How can I read a matrix?</p>
",123,0,<ipywidgets>,2016-05-30 07:19:17
37462747,Return value from function where ipython widgets are used to obtain input parameters,"<p>I'm trying to ""widgetize"" my IPython notebooks and am running into trouble with events and returning values from a function.  This is the workflow I'm thinking is the best way to go:</p>

<ul>
<li>using widgets to get the input values for an arbitrary function</li>
<li>call the function on event trigger</li>
<li>return value from function</li>
</ul>

<p>I first tried using the ""interact"" method to call the function, but that seemed difficult to associate events and return values.  From reading other interactive examples, making a class seemed like the way to go.  I don't write classes very often; so hopefully my error is something simple there.</p>

<p>The following makes two widgets, and when the user presses ""Enter"" should call a function and store its return value in the class for future use.  </p>

<p>In reality, it fires off the function two times before I enter any text and throws 'unicode object is not callable' when I change value.</p>

<pre><code>

    import ipywidgets as widgets
    from IPython.display import display

    def any_function_returning_value(word1,word2):
        new_word = 'Combining words is easy: %s %s'%(word1,word2)
        print new_word
        return new_word

    class learn_classes_and_widgets():
        def __init__(self, param1 = 'a word', param2 = 'another word'):
            self.p1_text = widgets.Text(description = 'Word #1',value = param1)
            self.p2_text = widgets.Text(description = 'Word #2',value = param2)
            self.p1_text.on_submit(self.handle_submit())
            self.p2_text.on_submit(self.handle_submit())
            display(self.p1_text, self.p2_text)

        def handle_submit(self):
            print ""Submitting""
            self.w = any_function_returning_value(self.p1_text.value,self.p2_text.value)
            return self.w

    f = learn_classes_and_widgets(param1 = 'try this word')
    #f.w should contain the combined words when this is all working

</code></pre>
",6386,4,<ipython><ipywidgets>,2016-05-26 13:47:59
37427645,Using Jupyter notebook with SparkR,"<p>I want to use <code>Jupyter</code> notebook with SparkR, I want to install IR kernel on <code>Jupyter</code> which is installed on my <code>Spark</code> cluster.</p>

<p>I could find help on using <code>Jupyter</code> with <code>pySpark</code>, but not with <code>SparkR</code>.</p>

<p>I have created my <code>Spark</code> cluster on <code>AWS-EMR</code> cluster.</p>
",1874,0,<sparkr><jupyter-irkernel>,2016-05-25 04:05:48
37334162,Jupyterhub terminal path variable,"<p>When I open a terminal on JupyterHub and try to run commands that I've placed in the machine's path, it says ""command not found."" </p>

<p>The default PATH variable on Jupyterhub terminal seems to be <code>/sbin:/usr/sbin:/bin:/usr/bin:/usr/local/bin</code> and I'm wondering why it doesn't use the PATH as defined on the machine. Is there a way to get it to inherit this PATH, or to run some command like <code>source /etc/environment</code> whenever a terminal is generated?</p>
",624,2,<ipython><jupyter><jupyter-notebook><jupyterhub><jupyter-console>,2016-05-19 21:18:38
37325378,Ipywidgets select multiple not working? Version 4.1.1 and 5.1.4,"<pre><code>a=widgets.SelectMultiple(options = df.columns.tolist(),description = 'X Axis',value=['Totpop'])
display(a)
</code></pre>

<p>This correctly displays the list of columns in a select multiple widget</p>

<pre><code>a.value
</code></pre>

<p>When run directly after displaying the widget, it properly displays the starting value. However, if I change the selection in the widget to anything else (or even if I change it and then change it back to the initial value), a.value returns an empty list.</p>

<p>I first noticed this because I have a tool I use that interacts with a bokeh plot and some other statistical outputs, but all of a sudden selecting new values caused it to bomb.</p>

<p>I have tried updating to version 5.1.4 and I get the same result.  Any help would be greatly appreciated!</p>

<p>Thank you!</p>
",700,0,<python><ipywidgets>,2016-05-19 13:53:24
37305575,Is there a way to generate publication quality tables in Jupyter?,"<p>I've been using Jupyter for some data analysis in R with irkernel but it seems that there is not an obvious workflow to generate tables that could then be used for publication. Mathjax doesn't support latex tables and markdown tables are pretty basic. Ideally there'd even be a way to programmatically generate the tables from variables in R. For an example, here is a table that I would consider complex and ready for publication.
<a href=""https://i.stack.imgur.com/zqEUc.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/zqEUc.png"" alt=""Den Boon, et al. 2005. “Development and Evaluation of a New Chest Radiograph Reading and Recording System for Epidemiological Surveys of Tuberculosis and Lung Disease.”""></a></p>

<p>I can run the totals on agreement, proportion of agreement, confidence intervals and Cohen's Kappa in Jupyter, but can't find a way to display them all nicely together in one table.</p>
",1498,2,<r><latex><markdown><jupyter><jupyter-irkernel>,2016-05-18 16:42:23
37280920,graceful interrupt of while loop in ipython notebook,"<p>I'm running some data analysis in ipython notebook. A separate machine collects some data and saves them to a server folder, and my notebook scans this server periodically for new files, and analyzes them.</p>

<p>I do this in a while loop that checks every second for new files. Currently I have set it up to terminate when some number of new files are analyzed. However, I want to instead terminate upon a keypress.</p>

<p>I have tried try-catching a keyboard interrupt, as suggested here: <a href=""https://stackoverflow.com/questions/13180941/how-to-kill-a-while-loop-with-a-keystroke"">How to kill a while loop with a keystroke?</a></p>

<p>but it doesn't seem to work with ipython notebook (I am using Windows). </p>

<p>Using openCV's keywait does work for me, but I was wondering if there are alternative methods without having to import opencv.</p>

<p>I have also tried implementing a button widget that interrupts the loop, as such:</p>

<pre><code>from ipywidgets import widgets 
import time
%pylab inline

button = widgets.Button(description='Press to stop')
display(button)

class Mode():
    def __init__(self):
        self.value='running'

mode=Mode()

def on_button_clicked(b):
    mode.value='stopped'

button.on_click(on_button_clicked)

while True:
    time.sleep(1)
    if mode.value=='stopped':
        break
</code></pre>

<p>But I see that the loop basically ignores the button presses.</p>
",10850,10,<ipython><interrupt><jupyter-notebook><ipywidgets>,2016-05-17 15:48:22
37250905,SSL Chain certificate: PEM_read_bio:no start line,"<p>How can I configure Jupyterhub to work with chain certificates? I have my certs from Entrust:</p>

<p>my_name.txt</p>

<pre><code>-----BEGIN CERTIFICATE-----
...
-----END CERTIFICATE-----
</code></pre>

<p>Entrust_Root.txt</p>

<pre><code>-----BEGIN CERTIFICATE-----
...
-----END CERTIFICATE-----
</code></pre>

<p>Entrust_L1Kroot.txt</p>

<pre><code>-----BEGIN CERTIFICATE-----
...
-----END CERTIFICATE-----
-----BEGIN CERTIFICATE-----
...
-----END CERTIFICATE-----
</code></pre>

<p>When I try to start Jupyterhub I get following error:</p>

<pre><code>crypto.js:131

c.context.setKey(options.key);
          ^

Error: error:0906D06C:PEM routines:PEM_read_bio:no start line
at Object.exports.createCredentials (crypto.js:131:17)
at Server (tls.js:1128:28)
at new Server (https.js:35:14)
at Object.exports.createServer (https.js:54:10)
at new ConfigurableProxy (/usr/lib/node_modules/configurable-http-proxy/lib/configproxy.js:158:35)
at Object. (/usr/lib/node_modules/configurable-http-proxy/bin/configurable-http-proxy:171:13)
at Module._compile (module.js:456:26)
at Object.Module._extensions..js (module.js:474:10)
at Module.load (module.js:356:32)
at Function.Module._load (module.js:312:12)
[C 2016-05-13 15:44:24.633 JupyterHub app:1119] Failed to start proxy
Traceback (most recent call last):
File ""/usr/local/lib/python3.5/site-packages/jupyterhub/app.py"", line 1117, in start
yield self.start_proxy()
File ""/usr/local/lib/python3.5/site-packages/jupyterhub/app.py"", line 881, in start_proxy
_check()
File ""/usr/local/lib/python3.5/site-packages/jupyterhub/app.py"", line 877, in _check
raise e
RuntimeError: Proxy failed to start with exit code 8
</code></pre>

<p>My confiuration file:</p>

<pre><code>c.JupyterHub.ssl_cert = u'/path/to/Entrust_L1Kroot.txt'
c.JupyterHub.ssl_key = u'/path/to/my_name.txt'
</code></pre>

<p>I have tried other assignments to the ssl_cert and ssl_key but they did not work neighter.</p>
",699,0,<jupyter><jupyter-notebook><jupyterhub>,2016-05-16 09:42:29
37149758,R Kernel in Jupyter is using wrong directory,"<p>Once upon a time ago, I installed the conda suite in Dropbox but then Dropbox did me dirty so I installed it in a different directory.  Deleted everything and started new but somehow R is being called from the old directory.  </p>

<p><strong>What is calling the wrong <code>R</code> directory so I can go in and change it?</strong></p>

<p>My current R is:</p>

<pre><code>$ which R
/Users/Mu/Sync/anaconda/bin/R
</code></pre>

<p>This is my error when I try to run an R kernel</p>

<pre><code>Traceback (most recent call last):
  File ""/Users/Mu/Sync/anaconda/lib/python3.5/site-packages/notebook/base/handlers.py"", line 458, in wrapper
    result = yield gen.maybe_future(method(self, *args, **kwargs))
  File ""/Users/Mu/Sync/anaconda/lib/python3.5/site-packages/tornado/gen.py"", line 1008, in run
    value = future.result()
  File ""/Users/Mu/Sync/anaconda/lib/python3.5/site-packages/tornado/concurrent.py"", line 232, in result
    raise_exc_info(self._exc_info)
  File ""&lt;string&gt;"", line 3, in raise_exc_info
  File ""/Users/Mu/Sync/anaconda/lib/python3.5/site-packages/tornado/gen.py"", line 1014, in run
    yielded = self.gen.throw(*exc_info)
  File ""/Users/Mu/Sync/anaconda/lib/python3.5/site-packages/notebook/services/sessions/handlers.py"", line 58, in post
    sm.create_session(path=path, kernel_name=kernel_name))
  File ""/Users/Mu/Sync/anaconda/lib/python3.5/site-packages/tornado/gen.py"", line 1008, in run
    value = future.result()
  File ""/Users/Mu/Sync/anaconda/lib/python3.5/site-packages/tornado/concurrent.py"", line 232, in result
    raise_exc_info(self._exc_info)
  File ""&lt;string&gt;"", line 3, in raise_exc_info
  File ""/Users/Mu/Sync/anaconda/lib/python3.5/site-packages/tornado/gen.py"", line 1014, in run
    yielded = self.gen.throw(*exc_info)
  File ""/Users/Mu/Sync/anaconda/lib/python3.5/site-packages/notebook/services/sessions/sessionmanager.py"", line 73, in create_session
    self.kernel_manager.start_kernel(path=kernel_path, kernel_name=kernel_name)
  File ""/Users/Mu/Sync/anaconda/lib/python3.5/site-packages/tornado/gen.py"", line 1008, in run
    value = future.result()
  File ""/Users/Mu/Sync/anaconda/lib/python3.5/site-packages/tornado/concurrent.py"", line 232, in result
    raise_exc_info(self._exc_info)
  File ""&lt;string&gt;"", line 3, in raise_exc_info
  File ""/Users/Mu/Sync/anaconda/lib/python3.5/site-packages/tornado/gen.py"", line 282, in wrapper
    yielded = next(result)
  File ""/Users/Mu/Sync/anaconda/lib/python3.5/site-packages/notebook/services/kernels/kernelmanager.py"", line 87, in start_kernel
    super(MappingKernelManager, self).start_kernel(**kwargs)
  File ""/Users/Mu/Sync/anaconda/lib/python3.5/site-packages/jupyter_client/multikernelmanager.py"", line 110, in start_kernel
    km.start_kernel(**kwargs)
  File ""/Users/Mu/Sync/anaconda/lib/python3.5/site-packages/jupyter_client/manager.py"", line 243, in start_kernel
    **kw)
  File ""/Users/Mu/Sync/anaconda/lib/python3.5/site-packages/jupyter_client/manager.py"", line 189, in _launch_kernel
    return launch_kernel(kernel_cmd, **kw)
  File ""/Users/Mu/Sync/anaconda/lib/python3.5/site-packages/jupyter_client/launcher.py"", line 123, in launch_kernel
    proc = Popen(cmd, **kwargs)
  File ""/Users/Mu/Sync/anaconda/lib/python3.5/subprocess.py"", line 950, in __init__
    restore_signals, start_new_session)
  File ""/Users/Mu/Sync/anaconda/lib/python3.5/subprocess.py"", line 1544, in _execute_child
    raise child_exception_type(errno_num, err_msg)
FileNotFoundError: [Errno 2] No such file or directory: '/Users/Mu/Dropbox/anaconda/lib/R/bin/R'
</code></pre>
",1633,3,<r><directory><anaconda><jupyter><jupyter-irkernel>,2016-05-10 22:05:56
37144216,ipywidgets: Update one widget based on results from another,"<p>I am using widgets in IPython that allows the user to repeatedly search for a phrase and see the results (different titles) in another widget (a selection widget) and then select one of the results.</p>

<p>In short:</p>

<pre><code>search_text = widgets.Text(description = 'Search') 
search_result = widgets.Select(description = 'Select table')

def search_action(sender):
    phrase = search_text.value
    df = search(phrase) # A function that returns the results in a pandas df
    titles = df['title'].tolist()
    search_result.options = titles

search_text.on_submit(search_action)
</code></pre>

<p>This used to work fine, but after updating to the latest version of ipywidgets (5.1.3 from 4.0.1) it seems like</p>

<pre><code>search_selection.options = titles
</code></pre>

<p>Produce the following errors (one or both, it varies):</p>

<pre><code>TraitError: Invalid selection
TypeError: 'list' object is not callable
</code></pre>

<p>It still works in the sense that the widget gets updated with the results based on the search from the other widget, but it gives an error. </p>

<p>What is the correct way of setting the options in one widget based on the results from another widget?</p>

<p>(edit: added more detailed error message)</p>
",15411,10,<python><widget><ipython><ipywidgets>,2016-05-10 16:31:56
37058637,IPython.html.widgets in IPython say: no module named widgets,"<p>God day for all. I'm trying to execute code from book ""IPython Interactive Computing an Visualizing Cookbook"" of Cirille Rossant on a Jupyter + IPython environment.</p>

<p>All work fine until I try:</p>

<pre><code>from collections import OrderedDict
from IPython.display import (display, clear_output, YouTubeVideo)
from IPython.html.widgets import DropdownWidget
</code></pre>

<p>If I do restart to the kernel appear this message: </p>

<pre><code>/usr/local/lib/python3.4/dist-packages/IPython/html.py:14: ShimWarning: The `IPython.html` package has been deprecated. You should import from `notebook` instead. `IPython.html.widgets` has moved to `ipywidgets`.
  ""`IPython.html.widgets` has moved to `ipywidgets`."", ShimWarning)
</code></pre>

<p>then I try to change the third line (the problem) by:</p>

<pre><code>from ipywidgets import DropdownWidgets
</code></pre>

<p>but Jupyter answer: <code>ImportError: cannot import name 'DropdownWidget'</code></p>

<p><em>Can somebody help me about?</em></p>

<p><strong><em>The next is a partial answer</em></strong></p>

<p>Well, seeking on the web I find in this page <a href=""https://ipywidgets.readthedocs.io/en/latest/user_install.html"" rel=""nofollow"">ipywidgets installation</a> the answer to my question and problem.</p>

<p>I try the next expample and work fine:</p>

<pre><code>import numpy as np
url = ""http://donnees.ville.montreal.qc.ca/dataset/f170fecc-18db-44bc-b4fe-5b0b6d2c7297/resource/ec12447d-6b2a-45d0-b0e7-fd69c382e368/download/2013.csv""
df = pd.read_csv(url, index_col='Date', parse_dates=True, dayfirst=True)
from ipywidgets import interact
@interact
def plot(n=(1, 30)):
    pd.rolling_mean(df['Berri1'], n).dropna().plot()
    plt.ylim(0, 8000)
    plt.show()
</code></pre>

<p>but jupyter claim that I have to do: <code>jupyter nbextension enable --py --sys-prefix widgetsnbextension</code></p>

<p>I go to the terminal obeying the suggestion and jupyter respond:</p>

<pre><code>Configure an nbextension to be automatically loaded

Options
-------

Arguments that take values are actually convenience aliases to full
Configurables, whose aliases are listed on the help line. For more information
on full configurables, see '--help-all'.

--debug
    set log level to logging.DEBUG (maximize logging output)
-y
    Answer yes to any questions instead of prompting.
--generate-config
    generate default config file
--section=&lt;Unicode&gt; (EnableNBExtensionApp.section)
    Default: 'notebook'
    Which config section to add the extension to. 'common' will affect all
    pages.

To see all available configurables, use `--help-all`

[EnableNBExtensionApp] CRITICAL | Bad config encountered during initialization:
[EnableNBExtensionApp] CRITICAL | Unrecognized flag: '--py'
</code></pre>

<p>Look that in <a href=""https://ipywidgets.readthedocs.io/en/latest/user_install.html"" rel=""nofollow"">1</a> have the suggestion: <code>jupyter nbextension enable --py widgetsnbextension</code> but in the console suggest <code>jupyter nbextension enable --py --sys-prefix widgetsnbextension</code>. Note that there is a little difference but in both cases appear the same error about <code>--py</code> option</p>

<p>In this moment the question is partially answered.</p>
",3421,2,<python><ipython><jupyter><jupyter-notebook><ipywidgets>,2016-05-05 19:19:58
37039066,Cannot run jupyterhub with Sudospawner,"<p>I can run jupyterhub for single user successfully but when I add  <code>c.JupyterHub.spawner_class = 'sudospawner.SudoSpawner'</code> 
it throws an error - </p>

<pre><code>[E 2016-05-04 22:14:28.633 JupyterHub user:237] Unhandled error starting rhea's server: substring not found
[E 2016-05-04 22:14:28.642 JupyterHub web:1524] Uncaught exception GET /hub/user/rhea (::ffff:10.ip.***)

    Traceback (most recent call last):
      File ""/usr/local/lib64/python3.4/site-packages/tornado/web.py"", line 1445, in _execute
        result = yield result
      File ""/usr/local/lib/python3.4/site-packages/jupyterhub/handlers/base.py"", line 493, in get
        yield self.spawn_single_user(current_user)
      File ""/usr/local/lib/python3.4/site-packages/jupyterhub/handlers/base.py"", line 312, in spawn_single_user
        yield gen.with_timeout(timedelta(seconds=self.slow_spawn_timeout), f)
      File ""/usr/local/lib/python3.4/site-packages/jupyterhub/user.py"", line 247, in spawn
        raise e
      File ""/usr/local/lib/python3.4/site-packages/jupyterhub/user.py"", line 228, in spawn
        yield gen.with_timeout(timedelta(seconds=spawner.start_timeout), f)
      File ""/usr/local/lib/python3.4/site-packages/sudospawner/spawner.py"", line 83, in start
        reply = yield self.do(action='spawn', args=self.get_args(), env=self.get_env())
      File ""/usr/local/lib/python3.4/site-packages/sudospawner/spawner.py"", line 72, in do
        data_str = data_str[data_str.index('{'):data_str.rindex('}')+1]
    ValueError: substring not found
</code></pre>

<p>I tried to print the command jupyterhub trying to execute -</p>

<pre><code> ['sudo', '-u', 'rhea', '-nH', 'sudospawner']
</code></pre>

<p>datastr value is NULL (/usr/local/lib/python3.4/site-packages/sudospawner/spawner.py"", line 72, in do
            data_str = )</p>

<p>How to include and run sudospawner?</p>

<p>Thanks!</p>
",1852,2,<jupyter><jupyter-notebook><jupyterhub>,2016-05-04 22:22:59
37013489,How to alight and place ipywidgets,"<p>Is there a way to control the placement and alignment of ipywidgets (inside jupyter notebook)?</p>

<pre><code>from ipywidgets import widgets
from IPython.display import Javascript, display
event_type_ui = widgets.Text(value='open', description='Test Event')
platform_ui = widgets.Text(value='Android', description='Control Event')
display(event_type_ui)
display(platform_ui)
</code></pre>

<p><a href=""https://i.stack.imgur.com/6jQ8w.png"" rel=""noreferrer""><img src=""https://i.stack.imgur.com/6jQ8w.png"" alt=""enter image description here""></a></p>

<p>I would like to specify an offset (in pixels?) to allow the label to fit and to have two controls aligned vertically.</p>
",11141,6,<jupyter-notebook><ipywidgets>,2016-05-03 20:10:54
37010454,Jupyterhub cannot start server - 500 error,"<p>I am trying to run jupyter hub for multiuser mode. I installed jupyterhub from PIP. </p>

<blockquote>
  <p>[root@ip-of-machine hadoop]# echo $PATH</p>
  
  <p>/usr/local/bin/jupyterhub-singleuser:/usr/local/bin/jupyterhub:/sbin:/bin:/usr/sbin:/usr/bin:/opt/aws/bin</p>
</blockquote>

<p>When I tun jupyterhub I get an error saying </p>

<blockquote>
  <p>500 : Internal Server Error</p>
  
  <p>Failed to start your server. Please contact admin.</p>
</blockquote>

<p>I ran it as </p>

<pre><code>[root@ip-of-machine hadoop]# /usr/local/bin/jupyterhub -f ./jupyterhub/jupyterhub_config.py --no-ssl
</code></pre>

<p>The logs contain </p>

<pre><code>[I 2016-05-03 17:13:09.406 JupyterHub spawner:465] Spawning jupyterhub-singleuser --user=jupyter --port=40770 --cookie-name=jupyter-hub-token-jupyter --base-url=/user/jupyter --hub-host= --hub-prefix=/hub/ --hub-api-url=http://127.0.0.1:8081/hub/api --ip=127.0.0.1
[E 2016-05-03 17:13:09.433 JupyterHub user:237] Unhandled error starting jupyter's server: [Errno 2] No such file or directory: 'jupyterhub-singleuser'
</code></pre>

<p>But there is singleuser in path. I explicitly added it to path and exported. </p>

<p>Any clues? Thanks.</p>
",3808,0,<jupyter><jupyter-notebook><jupyterhub>,2016-05-03 17:19:25
37010406,R kernel is not available in Jupyter Notebook after install,"<p>I have installed Python 2.7, R 3.2.5, RStudio, Eclipse with PyDev, Jupyter Notebook 4.0.4. I use Windows 10 x64.</p>

<p>I did everything according to <a href=""http://irkernel.github.io/installation/"" rel=""nofollow"" title=""this"">http://irkernel.github.io/installation/</a> and there were no errors. When I start Jupyter Notebook, there is no R kernel in dropdown list. When I type jupyter-kernelspec list, it shows:</p>

<p>Available kernels:</p>

<p>python2    c:\python27_64\lib\site-packages\ipykernel\resources
  ir         C:\Users\User\AppData\Roaming\jupyter\kernels\ir</p>

<p>What should I do?</p>
",1934,1,<r><jupyter-irkernel>,2016-05-03 17:17:25
36909909,ipython float slider with pandas datetime series?,"<p>I am trying to make an interactive chart with sliders to control date and time
So I tried to do this</p>

<pre><code>from ipywidgets import widgets, FloatSlider
import pandas as pd
from matplotlib import pyplot as plt

DateList = ['2013-01-01', '2013-01-02', '2013-01-03']
ts = pd.to_datetime(pd.Series(DateList))

Slider = FloatSlider(min=min(ts), max=max(ts), step=1, 
                 value=pd.Timestamp('2013-01-01'))
</code></pre>

<p>but this doesn't work?
How can I do this?</p>
",613,0,<python><datetime><ipython><ipywidgets>,2016-04-28 09:00:22
36905507,"ipython dead kernel and cannot be restarted, what can i do?","<p>When I try to open r file through jupyter notebook shell, the kernel cannot start and it shows:</p>

<pre><code>The kernel has died, and the automatic restart has failed. 
It is possible the kernel cannot be restarted. 
If you are not able to restart the kernel, you will still be able to save the notebook,
 but running code will no longer work until the notebook is reopened.
</code></pre>

<p>While the terminal shows:</p>

<pre><code>*** caught segfault ***
address 0x18, cause 'memory not mapped'

Traceback:
 1: dyn.load(file, DLLpath = DLLpath, ...)
 2: library.dynam(lib, package, package.lib)
 3: loadNamespace(i, c(lib.loc, .libPaths()), versionCheck = vI[[i]])
 4: namespaceImport(ns, loadNamespace(i, c(lib.loc, .libPaths()),     versionCheck = vI[[i]]), from = package)
 5: loadNamespace(name)
 6: doTryCatch(return(expr), name, parentenv, handler)
 7: tryCatchOne(expr, names, parentenv, handlers[[1L]])
 8: tryCatchList(expr, classes, parentenv, handlers)
 9: tryCatch(loadNamespace(name), error = function(e) stop(e))
10: getNamespace(ns)
11: asNamespace(ns)
12: getExportedValue(pkg, name)
13: IRkernel::main
aborting ...
</code></pre>

<p>I use anaconda3 on MAC OS, and use conda -install -c r r-essentials to install the r packages. 
After several attempts to reinstall ipython, it still does not work!
Thanks in advance for your attention and help.</p>
",1665,3,<r><jupyter><jupyter-irkernel>,2016-04-28 04:51:33
36800185,Update values in evenly spaced mesh with slider,"<p>The problem I'm facing is that I'm unable to figure out how to update the figure when I increase/decrease values with my slider. </p>

<p>I am creating an x, y mesh grid, then plotting it, and updating the values within my array to define a new mesh. I would like to be able to move the slider and see a finer/coarser grid and update the plot and axes.  </p>

<p>Additionally, I would like the user to be able to move the grid lines interactively with the mouse. This is not included in example code. Does someone know how to implement this? </p>

<p>There are similar questions that have been asked about updating values on a plot with a slider, but perhaps none address this specific problem; can someone help me figure out what I'm doing wrong? I realize I don't have anything that is redrawing the plot (though I have tested various things), but am unsure how to implement this, as M.plotGrid() creates the grid, so it may/may not be as easy as using fig.canvas.draw_idle(). </p>

<p>Here is my code:</p>

<pre><code>#Create simple evenly spaced mesh and allow slider to change values

from SimPEG import Mesh, np
import matplotlib.pyplot as plt
from matplotlib.widgets import Slider, Button, RadioButtons

hx = np.r_[0.1,0.1,0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1]
hy = np.r_[0.1,0.1,0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1]

M = Mesh.TensorMesh([hx, hy])
M.plotGrid()

#Define slider location, size, and color for adjusting mesh values
axhx = plt.axes([0.25, 0.1, 0.65, 0.03])
axhy = plt.axes([0.25, 0.15, 0.65, 0.03])
xnode_inc = Slider(axhx, 'X mesh Node', 0.1, 1000.0, valinit=0)
anode_inc = Slider(axhy, 'Y mesh Node', 0.1, 1000.0, valinit=0)

def update(val):
    framehx = xnode_inc.val + hx
    framehy = ynode_inc.val + hy
    M = Mesh.TensorMesh([framehx, framehy])
    print M, framehx, framehy
    M.plotGrid()

xnode_inc.on_changed(update)
ynode_inc.on_changed(update)

plt.show()
</code></pre>
",470,1,<python><numpy><mesh><ipywidgets>,2016-04-22 17:42:38
36776586,IRkernel dies when running mclapply with dada2,"<p>I don't know if this issue is dada2 specific or not. I would guess that it is not but I am not able to reproduce it otherwise.</p>

<p>I am trying to use <code>mclapply</code> from the <code>parallel</code> library inside of a Jupyter notebook with dada2. The parallel job runs, though the moment it finishes the kernel dies and I am unable to restart it. Running the same workflow inside of an R terminal has no issues. </p>

<p>Running it on a small dataset works with no issues:</p>

<pre><code>library(dada2)
library(parallel)

derepFs &lt;- mclapply('seqs/test_f.fastq', derepFastq)
derepFs
</code></pre>

<p>Running the same workflow but with the full dataset (I'm sorry I am not able to provide it here, it is too large, and not public) causes the kernel to die, this makes me think it is a memory issue, runninng it outside of the Jupyter environment has no issues. Running this with <code>lapply</code> has no issues. Also attempting to run this on an AWS instance with more memory results in the the same error. The terminal output when the kernel dies is:</p>

<pre><code>Error in poll.socket(list(sockets$hb, sockets$shell, sockets$control),  :
  Interrupted system call
Calls: &lt;Anonymous&gt; -&gt; &lt;Anonymous&gt; -&gt; poll.socket -&gt; .Call
Execution halted
</code></pre>

<p>Monitoring memory shows it never gets very high ~200MB. So my question is if it is not memory what could it be? I realize it may be difficult to answer this question, though as I said I cannot post the full dataset. R version 3.2.2, Jupyter version 1.0.0, Dada2 version 0.99.8, OSX 10.11.4</p>
",175,1,<r><jupyter><mclapply><jupyter-irkernel>,2016-04-21 17:25:20
36711352,Filter records from table in R,"<p>I have a dataset Movies.</p>

<pre><code>head(Movies)
</code></pre>

<p><a href=""https://i.stack.imgur.com/7d9KA.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/7d9KA.png"" alt=""output of head(Movies)""></a></p>

<p>How to fetch rows where MovieID is ""0000008""?
I have tried:</p>

<pre><code>t1 = subset(Movies, ""MovieID"" == ""0000008"")
t2 &lt;- Movies[ which(Movies[""MovieID""]==""0000008""), ]
head(t1)
head(t2)
</code></pre>

<p>Both return empty datasets, which is wrong as I can see a row with ID ""0000008"".</p>

<p>Edit:
I have tried removing """" from MovieID, but that throws error: </p>

<blockquote>
  <p>Error in subset.matrix(Movies, MovieID == ""0000008""): object 'MovieID' not found</p>
</blockquote>

<p>Edit:
The Movie data was obtained as:</p>

<pre><code>URL = ""https://raw.githubusercontent.com/sidooms/MovieTweetings/master/latest/movies.dat""
MovieText = readLines( remote.file(URL) ) # HACK!!!
Movies = matrix( sapply( MovieText,
            function(x) unlist(strsplit(sub("" [(]([0-9]+)[)]"", ""::\\1"",x),""::""))[1:4] ),
            nrow=length(MovieText), ncol=4, byrow=TRUE )
colnames(Movies) = c(""MovieID"", ""MovieTitle"", ""Year"", ""Genres"")
</code></pre>
",566,0,<r><jupyter-irkernel>,2016-04-19 07:25:25
36678421,Update tabs children in jupyter notebook widget,"<p>I'm trying to update children of a tab widget. So, I first create a simple tab example :</p>

<pre><code>from ipywidgets import widgets
from IPython.display import display

lst = ['P0', 'P1', 'P2', 'P3', 'P4']
childs = [widgets.Text(description=name) for name in lst]
tab = widgets.Tab(children=childs)
[tab.set_title(num, name) for num, name in enumerate(lst)]
display(tab)
</code></pre>

<p>Then, I try to remove the 'P2' tab :</p>

<pre><code>child_to_remove = 2
lst.pop(child_to_remove)
tab.children = [i for k, i in  enumerate(tab.children) if k != child_to_remove]
[tab.set_title(num, name) for num, name in enumerate(lst)]
</code></pre>

<p>If I look at the already displayed Tab, the new titles are : 'P0', 'P1', 'P4' and 'Page 6'. If I run again <code>display(tab)</code> the tab is fine. But there is no problem if I remove the last tab <code>child_to_remove = 4</code>.</p>

<p>How can I update the first created tab without using <code>display(tab)</code> and having the right title for each tab?</p>

<p>Thx ! </p>
",1734,3,<jquery><python><jupyter-notebook><ipywidgets>,2016-04-17 15:22:52
36404809,Execute IPyWidgets in Google Cloud Datalab,"<p>For a project we try to expand the Google Cloud Datalab with IPyWidgets. When we try out IPyWidgets in jupyter notebook (not in google-cloud-datalab) locally, everything run as expected (i.e. we tried to show a Text field, which worked). When we try to execute the same code in Google Cloud Datalab, it fails. In the web console we see following error:</p>

<p>Error 1:</p>

<pre><code>Error message: ""Class ipython.widget not found in registry ""
Error stack: ""load_class/&lt;@http://localhost:8081/static/notebook/js/main.min.js:12751:28load_class@http://localhost:8081/static/notebook/js/main.min.js:12736:1CommManager.prototype.comm_open@http://localhost:8081/static/notebook/js/main.min.js:21802:31.proxy/i@http://localhost:8081/static/notebook/js/main.min.js:89:5486Kernel.prototype._handle_iopub_message@http://localhost:8081/static/notebook/js/main.min.js:23101:20Kernel.prototype._finish_ws_message@http://localhost:8081/static/notebook/js/main.min.js:22936:1Kernel.prototype._handle_ws_message/this._msg_queue&lt;@http://localhost:8081/static/notebook/js/main.min.js:22926:39""
</code></pre>

<p>Error 2:</p>

<pre><code>Message: Could not open comm
Error message: ""Couldn't process kernel message""
Error stack: ""WrappedError@http://localhost:8081/static/notebook/js/main.min.js:12706:19reject/&lt;@http://localhost:8081/static/notebook/js/main.min.js:12785:33""
</code></pre>

<p>The strange thing is, is when google-cloud-datalab is running and we go to the jupyter notebook (on port 9000), and we execute the code over there it works.</p>

<p>Do we need to make changes to nb.html, and/or static.ts to make this work?</p>

<p><strong>Question:</strong> Is there a way to execute IPyWidgets on Google Cloud Datalab?</p>

<p>Greetings, Brecht</p>

<p><strong>Edit:</strong> I can now load the js and the css files from IPyWidgets in google-cloud-datalab (you need to change static.ts, for those who wonder). The only remaining issue (hopefully), is that we get following error: </p>

<p><code>""Error: Could not determine where the display message was from.  Widget will not be displayed"".
</code></p>

<p>This is because</p>

<pre><code>var cell = this.get_msg_cell(msg.parent_header.msg_id);
</code></pre>

<p>is null (line 556, of ipywidgets/widgets/js/manager.js). I assume that changing static.ts is not enough? </p>
",529,0,<jupyter-notebook><google-cloud-datalab><ipywidgets>,2016-04-04 14:00:36
36351109,IPython Notebook ipywidgets does not show,"<p>I created a table with an interactive slider that allows me to toggle between different periods on my table. It was working for the past few days, until today, when I re-ran the notebook, the slide bar doesn't show anymore. No error messages appear. The code seem to run just fine, as the table appears, but the slide bar just doesn't appear. I didn't change my code either, as I was working on a separate part of my notebook. </p>

<p>I tried many approaches, including searching in this space but was still unable to come up with a solution. I was wondering if anyone faced a similar issue, and have any solution to this.</p>

<p>Below is my code snippet. Anything before was solely to get my data into the desired form for tabulation. </p>

<pre><code>from IPython.display import display
from ipywidgets import widgets, interactive
v = interactive(by_q, quarter=(['q1y2015', 'q2y2015', 'q3y2015', 'q4y2015']), days=(1, 180))
display(v)
</code></pre>
",82849,67,<python><jupyter-notebook><ipywidgets>,2016-04-01 08:03:22
36291728,Magic %% commands in R inside Jupyter,"<p>How do I run %%magic in R inside Jupyter?</p>

<pre><code>%%javascript
IPython.OutputArea.auto_scroll_threshold = 99999;
</code></pre>

<p>The auto scroll feature on longer output is vastly annoying as I have several functions and scripts that spit out a lot of output.</p>

<p>The above Javascript works fine in python notebooks but not in R notebooks.</p>

<p>When I run the %% magic command in R, it barfs:</p>

<pre><code>Error in parse(text = x, srcfile = src): &lt;text&gt;:1:1: unexpected SPECIAL
1: %%
</code></pre>

<p>Any suggestions?</p>

<hr>

<p>According to this post <a href=""https://github.com/minrk/ipython_extensions/blob/master/extensions/disable_autoscroll.py"" rel=""nofollow"">disable_autoscroll.py</a>, it may be possible to put that Javascript into a profile_dir/static/js/custom.js file.  Pray tell, where is the profile_dir on a Windows box?</p>

<p>I found: <code>c:/Anaconda2/Lib/site-packages/notebook/static/custom/custom.js</code> but that is the central custom.js file.  </p>

<hr>

<p>References:</p>

<p><a href=""https://github.com/ipython/ipython/issues/2172"" rel=""nofollow"">Auto-scrolling of long output should be configurable in the UI</a></p>
",2384,3,<r><jupyter><jupyter-notebook><jupyter-irkernel>,2016-03-29 17:58:23
36286341,Ipywidget dropdown menu to select figure from list,"<p>I have a list of csv files from <code>glob.glob</code>. Each csv is used to generate a figure. I would like to use an ipywidget dropdown menu so that only the file that is selected is plotted.</p>

<pre><code>import glob
import pandas as pd
import ipywidgets as widgets
from IPython.display import display
from IPython.html.widgets import interactive

csvs = sorted(glob.glob('*/*csv'))
for csv in csvs:
    df = pd.read_csv(x, sep=',')
    plt.figure()
    df.plot()
</code></pre>

<p>The dropdown menu would therefore be </p>

<pre><code>w = widgets.Select(options=csvs)
display(w)
</code></pre>

<p>It would also be ok to use <code>widgets.Button</code> if this is the only way. Thanks!</p>
",2911,1,<python><jupyter><ipywidgets>,2016-03-29 13:50:23
36174666,Change Jupyter R-Kernel engine from 32 bit to 64 bit easily,"<p>I'm using Jupyter with R Kernel to create training forms.
With some packages of R, I need to use a 32 bit release of R engine, and for others (the main part) 64 bit.</p>

<p>So my goal is to be able to switch really easily from a R Kernel 32 bit to a R Kernel 64 bit really easily.</p>

<p>From now on, the only thing I've been able to do is</p>

<ul>
<li>getting a 32 bit R Kernel Under Jupyter when I previously installed the Kernel Under a 32bit version of my R engine  </li>
<li>getting a 64 bit R Kernel when previously installed the packages and the R Kernel Under a 64 bit R engine </li>
</ul>

<p>To install the Kernel, my code is always the same : </p>

<pre><code>    install.packages(c('repr', 'IRkernel', 'IRdisplay'),
     repos = c('http://irkernel.github.io/', getOption('repos')))
IRkernel::installspec()
</code></pre>
",1639,3,<r><32bit-64bit><jupyter><jupyter-irkernel>,2016-03-23 09:46:53
36142099,Jupyterhub not running on Ubuntu 14.04,"<p>Been stuck in this issue for the past two days.</p>

<p>Followed the github link regarding this issue. Didn't worked.
<a href=""https://github.com/jupyter/jupyterhub/issues/237"" rel=""nofollow"">https://github.com/jupyter/jupyterhub/issues/237</a></p>

<pre><code>saimmehmood@saimmehmood-VirtualBox:~$ sudo jupyterhub
[sudo] password for saimmehmood: 
[I 2016-03-22 02:18:54.577 JupyterHub app:558] Loading cookie_secret from /home/saimmehmood/jupyterhub_cookie_secret
[W 2016-03-22 02:18:54.865 JupyterHub app:292] 
Generating CONFIGPROXY_AUTH_TOKEN. Restarting the Hub will require restarting the proxy.
Set CONFIGPROXY_AUTH_TOKEN env or JupyterHub.proxy_auth_token config to avoid this message.

[W 2016-03-22 02:18:54.893 JupyterHub app:685] No admin users, admin interface will be unavailable.
[W 2016-03-22 02:18:54.900 JupyterHub app:686] Add any administrative users to `c.Authenticator.admin_users` in config.
[I 2016-03-22 02:18:54.906 JupyterHub app:712] Not using whitelist. Any authenticated user will be allowed.
[I 2016-03-22 02:18:55.016 JupyterHub app:1113] Hub API listening on http://127.0.0.1:8081/hub/
[E 2016-03-22 02:18:55.055 JupyterHub app:855] Refusing to run JuptyterHub without SSL. If you are terminating SSL in another layer, pass --no-ssl to tell JupyterHub to allow the proxy to listen on HTTP.


saimmehmood@saimmehmood-VirtualBox:~$ sudo jupyterhub --no-ssl
[I 2016-03-22 02:19:12.896 JupyterHub app:558] Loading cookie_secret from /home/saimmehmood/jupyterhub_cookie_secret
[W 2016-03-22 02:19:13.046 JupyterHub app:292] 
Generating CONFIGPROXY_AUTH_TOKEN. Restarting the Hub will require restarting the proxy.
Set CONFIGPROXY_AUTH_TOKEN env or JupyterHub.proxy_auth_token config to avoid this message.

[W 2016-03-22 02:19:13.079 JupyterHub app:685] No admin users, admin interface will be unavailable.
[W 2016-03-22 02:19:13.080 JupyterHub app:686] Add any administrative users to `c.Authenticator.admin_users` in config.
[I 2016-03-22 02:19:13.080 JupyterHub app:712] Not using whitelist. Any authenticated user will be allowed.
[I 2016-03-22 02:19:13.149 JupyterHub app:1113] Hub API listening on http://127.0.0.1:8081/hub/
[W 2016-03-22 02:19:13.174 JupyterHub app:851] Running JupyterHub without SSL. There better be SSL termination happening somewhere else...
[I 2016-03-22 02:19:13.174 JupyterHub app:860] Starting proxy @ http://*:8000/
/usr/bin/env: node: No such file or directory
[C 2016-03-22 02:19:14.297 JupyterHub app:1119] Failed to start proxy
Traceback (most recent call last):
  File ""/usr/local/lib/python3.4/dist-packages/jupyterhub/app.py"", line 1117, in start
    yield self.start_proxy()
  File ""/usr/local/lib/python3.4/dist-packages/jupyterhub/app.py"", line 881, in start_proxy
    _check()
  File ""/usr/local/lib/python3.4/dist-packages/jupyterhub/app.py"", line 877, in _check
    raise e
RuntimeError: Proxy failed to start with exit code 127
</code></pre>

<p>Kindly let me know any solution.</p>

<p>Thank you!</p>
",1912,0,<ubuntu-14.04><jupyterhub>,2016-03-21 21:37:14
36058649,Graph and ipywidget cannot be in same code cell when using %matplotlib notebook,"<p>I want to make a figure and interactively change it with ipywidgets.
When I use <code>%matplotlib notebook</code>, the widget call needs to be in a separate code cell, which is odd. Here is the code that doesn't work</p>

<pre><code>import matplotlib.pyplot as plt
from matplotlib.patches import Circle
%matplotlib notebook

fig = plt.figure(figsize=(6, 6))
ax1 = plt.subplot(111, aspect='equal')
ax1.set_xlim(-5,5)
ax1.set_ylim(-5,5)
circ = Circle((0,0), radius=1)
ax1.add_patch(circ)

def change_radius(r=1):
    circ.set_radius(r)

from ipywidgets import interact
interact(change_radius, r=(1.0, 5))
</code></pre>

<p>This only works when the last two lines are in a separate code cell, but then the widget is separated from the graph by the code cell. Does anybody know how to get it to work in one code cell with <code>%matplotlib notebook</code> ?</p>
",547,2,<matplotlib><ipython><jupyter-notebook><ipywidgets>,2016-03-17 11:02:06
35943710,Starting jupyterhub with docker,"<p>I am starting with docker and jupyterhub. I am following those instructions (<a href=""https://hub.docker.com/r/jupyter/jupyterhub/"" rel=""nofollow"">https://hub.docker.com/r/jupyter/jupyterhub/</a>). I can start jupyterhub, but I am struggling to start it with docker (dockerspawner
) and to user the oauth authentication with github. Can someone point some tutorial or give some help with this matter?</p>
",1034,1,<docker><jupyterhub>,2016-03-11 15:14:36
35917064,modules needed to create a custom widget with ipython?,"<p>what are modules needed to create a custom widget? I have installed ipywidgets module with the command : ""conda install ipywidgets"" and I tried to run this example found in github <a href=""https://github.com/ipython/ipywidgets/blob/52d1ff2090801856d4863c8768488a43e7266295/examples/Custom%20Widget%20-%20Hello%20World.ipynb"" rel=""nofollow"">here</a> but the browser says that the file ""jupyter-js-widgets"" is not found. </p>

<p>thank you for your help</p>
",297,0,<ipython><jupyter-notebook><ipywidgets>,2016-03-10 12:53:03
35880006,automatically adjust IPython widgets layout,"<p>I'm creating an interactive <code>jupyter notebook</code> with <a href=""https://github.com/ipython/ipywidgets"" rel=""nofollow noreferrer""><code>ipython widgets</code></a> and want the user to select from a certain number of checkboxes. I'm using the code below to visualize the <a href=""https://ipython.org/ipython-doc/3/api/generated/IPython.html.widgets.widget_box.html"" rel=""nofollow noreferrer""><code>HBox</code></a> that contains the checkboxes.</p>

<pre><code>num_checks = 10

cb_cont = widgets.HBox(background_color='red',height='100px',width='100%')

checkboxes = []
for f in range(num_checks):
    checkboxes.append(\
        widgets.Checkbox(description = 'Checkbox [%d]'%(f), \
                         value=False, width=50))

cb_cont.children=[i for i in checkboxes]
display(cb_cont)
</code></pre>

<p>Here is a screenshot of the output from the above code:</p>

<p><a href=""https://i.stack.imgur.com/m25F9.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/m25F9.png"" alt=""enter image description here""></a></p>

<p>As you can see, the content of the box overflows and goes beyond the width of the container.</p>

<p>I can change the behavior by setting the <code>overflow_x</code> property to be one of the following: <code>['visible', 'hidden', 'scroll', 'auto', 'initial', 'inherit', '']</code>.</p>

<p>For instance, <code>cb_cont.overflow_x = 'scroll'</code> results in the following output window:</p>

<p><a href=""https://i.stack.imgur.com/KYFbk.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/KYFbk.png"" alt=""enter image description here""></a></p>

<p>in which the content doesn't overflow but becomes invisible and can be scrolled.</p>

<p><strong>How can I set the property of the box to visualize the content that does not fit on a newline?</strong></p>

<p>Obviously I could use multiple <code>HBox</code> objects each one containing the maximum number of checkboxes that fit in a window size, however this is not the wanted solution for a set of reasons:</p>

<ol>
<li>Depending on the screen resolution that number could change.</li>
<li>The number of checkboxes to pick from depends on a previous computation ans is not known it in advance.</li>
</ol>
",8734,3,<python><ipython><jupyter><jupyter-notebook><ipywidgets>,2016-03-08 23:19:32
35873591,Specify R for Jupyter Notebook with Anaconda Windows,"<p>I feel pretty comfortable working with R, and I want to get into Python through Anaconda.<br>
Upon trying the Jupyter Notebook and finding it has compatibility with R, I really want to use it. </p>

<p>I'm having problem installing the R packages that don't come in R-essentials; and mainly because I noticed it uses a different R installation than the one I had before.  Not only is this a different R installation, but it also uses a previous version of R.  In my local installation I have updated to 3.2.3 but in the Anaconda environment for Jupyter I got 3.1. </p>

<p>I also found a post to change the <code>.libPaths</code> variable to include the packages that I had already installed.  Still, I see this as a potential problem because of the different R versions. </p>

<p>I wanted to know if I can update the R version that's used in Anaconda, or if I can point to the one that's installed locally.  </p>

<p>Thank you. </p>
",1364,0,<r><anaconda><jupyter-notebook><jupyter-irkernel>,2016-03-08 17:07:51
35867087,import javascript files in ipython notebook to create a custom widget,"<p>I'm newer in ""ipython notebook"" and I would to create a custom widget with ipywidgets using html and javascript. I'm using a javascript library and I wanna know if there is a way to import it inside ipython notebook.</p>

<p>thank u in advance</p>
",5665,2,<javascript><python><ipython><jupyter-notebook><ipywidgets>,2016-03-08 12:12:42
35827734,trouble when exporting notebook to html on Jupyter with R kernel,"<p>The following code works fine when writing an ipython notebook equipped with the R kernel. Unfortunately, the export to html fails for the second barplot (both with the embedded option of jupyter and manual use of nbconvert).</p>

<pre><code>library(NLP)
library(tm)

# here I used the EBook of Ulysses, by James Joyce, but any text file can fit
# the text is available here: https://www.gutenberg.org/cache/epub/4300/pg4300.txt
book &lt;- readLines(""pg4300.txt"", encoding=""UTF-8"")
corpus &lt;- Corpus(VectorSource(book))
corpus &lt;- tm_map(corpus, content_transformer(tolower))
corpus &lt;- tm_map(corpus, removeNumbers)
corpus &lt;- tm_map(corpus, removePunctuation)
dtm &lt;- TermDocumentMatrix(corpus)
m &lt;- as.matrix(dtm)

freq &lt;- rowSums(m)
freq.sorted &lt;- sort(freq, decreasing=TRUE)

# first barplot with stop words (ok for both notebook and export)
barplot(freq.sorted[1:50], xlab=""Word"", ylab=""Frequency"", las=2)

corpus.sw &lt;- tm_map(corpus, removeWords, stopwords('english'))
dtm.sw &lt;- TermDocumentMatrix(corpus.sw)
m.sw &lt;- as.matrix(dtm.sw)
freq.sw &lt;- rowSums(m.sw)
freq.sw.sorted &lt;- sort(freq.sw, decreasing=TRUE)

# second barplot without stop words (ok on ipython notebook but fail when exporting)
barplot(freq.sw.sorted[1:50], xlab=""Word"", ylab=""Frequency"", las=2)
</code></pre>

<p>What is really weird, it is that the first barplot is well exported, but not the second one whereas the process is exactly the same (showing the 50 top words).</p>

<p>Here is my configuration:</p>

<ul>
<li>macosx 10.11.2 el capitan</li>
<li>jupyter 4.0.6</li>
<li>ipython 4.0.1</li>
<li>R version 3.2.2</li>
</ul>

<p>Thank you,</p>

<p>Julien</p>
",296,0,<jupyter><jupyter-irkernel>,2016-03-06 13:58:15
35787692,Use ipywidgets to interatively find best position matplotlib text,"<p>I am interested in using the interact function to use a slider to adjust the position of text in a matplotlib plot (you know, instead of adjusting the position, running the code, and repeating 1000 times).</p>

<p>Here's a simple example of a plot</p>

<pre><code>import matplotlib.pyplot as plt
x=0.2
y=0.9
plt.text(x, y,'To move',size=19)
plt.show()
</code></pre>

<p>and some interact code</p>

<pre><code>from __future__ import print_function
from ipywidgets import interact, interactive, fixed
import ipywidgets as widgets
def f(x):
    return x
interact(f, cx=0.2)
</code></pre>

<p>I'm wondering how I can combine these to generate a plot with the text along with a slider that will interactively move the text based on the specified value for x. Is this possible? What if I want to do the same for y?</p>

<p>Thanks in advance!</p>
",397,0,<matplotlib><ipywidgets>,2016-03-04 03:55:50
35786496,using R in jupyter: display_markdown in loop,"<p>I need to setup a reporting document in which I <strong>loop over items and generate individual graphs</strong>. when using <strong>R in jupyter</strong> i read about display_markdown and display_html using repr and IRDisplay here: <a href=""https://stackoverflow.com/questions/32703654/how-to-render-latex-html-in-jupyter-r"">How to render LaTeX / HTML in Jupyter (R)?</a> This perfectly does the job of printing Markdown inside a code cell. but unfortunately the order is ruined. </p>

<p>If i do:</p>

<pre><code>library(IRdisplay)
library(repr)
options(repr.vector.quote=FALSE)

for (i in 1:3) {
    print(paste(""print before headline in run:"",i))

    display_markdown(paste(""# Headline in run:"",i))

    cars &lt;- c(i, 3, 6, 4, 9)
    plot(cars)   

    print(paste(""print after headline in run:"",i))
}
</code></pre>

<p>the end result in jupyter gets mixed up. the headlines appear above the printed lines and graphs:</p>

<p><a href=""https://i.stack.imgur.com/xd0Sj.png"" rel=""nofollow noreferrer"">loop result of above code</a></p>

<p>R version 3.2.2 (2015-08-14)</p>
",1367,4,<r><jupyter><repr><jupyterhub>,2016-03-04 01:42:29
35779631,Improve HTML styling of Pandas DataFrames within IPython widgets,"<p>How can I generate appropriate HTML to hand to an <code>ipywidgets.HTML</code> object to properly display a Pandas DataFrame?</p>

<p><a href=""https://i.stack.imgur.com/yEKnf.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/yEKnf.png"" alt=""enter image description here""></a></p>
",2126,6,<pandas><jupyter-notebook><ipywidgets>,2016-03-03 18:02:13
35762692,Using ipywidget for multiple choice test,"<p>I'm pretty new to python and python notebooks.  Im trying to create a Jupyter notebook that will display an image from a list of images and give the user 4 choices to what that image in the from of clickable ipywidget buttons. Once the user clicks their choice, I want to replace the image with a new image and repopulate the buttons with 4 new choices. </p>

<p>I know how to clear the image output and close the button widgets using button.close(), but I can't seem to figure out how to redraw the buttons with new choices. Once I've closed the container, I cant figure out how to loop back to the top since I'm stuck in the on_button_clicked function once a choice is made.   Here's what I have so far, though I know its no where near working yet and it probably way off in the approach.  Note I don't need to use ipywidgets, but it seemed like a good choice in the sense of clickable buttons: </p>

<pre><code>x = ['tree.jpg','house.jpg','car.jpg','door.jpg','train.jpg','moon.jpg']

choices = random.sample(x, 4)
correct = random.choice(choices)

display(Image(correct))
time.sleep(3)

button1 = widgets.Button(description = x[0])
button2 = widgets.Button(description = x[1])
button3 = widgets.Button(description = x[2])
button4 = widgets.Button(description = x[3])

container = widgets.HBox(children=[button1,button2,button3,button4])
display(container)


button1.on_click(on_button1_clicked)
button2.on_click(on_button2_clicked)
button3.on_click(on_button3_clicked)
button4.on_click(on_button4_clicked)


def on_button1_clicked(b):
     # [insert code to record choice] 
    container.close()
    clear_output()

def on_button2_clicked(b):
     # [insert code to record choice] 
    container.close()
    clear_output()

def on_button3_clicked(b):
     # [insert code to record choice] 
    container.close()
    clear_output()

def on_button4_clicked(b):
     # [insert code to record choice] 
    container.close()
    clear_output()
</code></pre>

<p>thanks alot!</p>
",3825,2,<python><jupyter><jupyter-notebook><ipywidgets>,2016-03-03 03:34:08
35687065,No Module Named Ipywidgets Error,"<p>I'm new in Ipython and Jupyter Notebook. I installed the ipywidgets module in Jupyter Notebook by using Anaconda prompt window. </p>

<p>I tried:</p>

<pre><code>pip install ipywidgets
</code></pre>

<p>It said that the requirements had already satisfied. Then I tried to import the module but received the ""<strong>ImportError: No module named ipywidgets</strong>"" error.</p>

<p>Then I tried:</p>

<pre><code>conda install ipywidgets
</code></pre>

<p>It fetched some files from the ""<strong>api.anaconda.org</strong>"" site and installed the files. I exited from Jupyter Notebook and entered again. When I tried to import the modüle received the same ""<strong>ImportError: No module named ipywidgets</strong>"" error.</p>

<p>I have no idea what is wrong. How can I import this modüle to Jupyter Notebook and Anaconda ?</p>
",2472,6,<python><anaconda><jupyter-notebook><ipywidgets>,2016-02-28 19:15:57
35551356,Docker crash test with many containers of the same image,"<p>I would like to make a docker crash test on my server, to see how many containers based on the same image my server will support. (Because I've installed  jupyterhub and I want to see how many containers can run in good condition.)</p>

<p>So how can I copy an existing container? </p>
",134,1,<docker><containers><jupyterhub>,2016-02-22 10:33:00
35516906,two factor authentication with username and password for a Jupyter Notebook server,"<p>I've setup a Jupyter Notebook server with appropriate password and SSL so it is accessed via HTTPS. However, I'm looking now for a way to enforce a two factor authentication with username and password for loging in. The current Jupyter Notebook server only asks for a password and I hence have to create a shared one (no username though). </p>

<p>I know about JupyterHub, but at the moment I'm looking for a way to add a username (or multiple usernames) and correspond password (passwords), so that everyone can access the same work space without necessarily having credentials on the Linux server side.</p>

<p>Is this even possible, or do I have to resort to deploying a JupyterHub server?</p>
",2668,1,<python><authentication><jupyter><jupyter-notebook><jupyterhub>,2016-02-19 23:22:31
35435889,ipywidgets graph widget implementation,"<p>Good day</p>

<p>I have been on this all day. I am trying to add widgets to my notebooks on my Jupyter(ipython) notebook. Below is my code which makes sense in my head but it is not populating anything. I am trying to control the list of values in StatusesList through a widget so it changes the graph populated. Please help.</p>

<pre><code>from plotly import __version__
from plotly.offline import download_plotlyjs, init_notebook_mode, iplot
import plotly.plotly as py
import plotly.graph_objs as go
from plotly.graph_objs import *
import numpy as np
import cufflinks as cf
init_notebook_mode()
cf.go_offline()
import pandas as pd
cf.set_config_file(theme='pearl')
from __future__ import print_function
from ipywidgets import interact, interactive, fixed
import pandas as pd
import ipywidgets as widgets
from IPython.display import display

df = pd.read_excel(""C:\Users\UserName\Downloads\Complaints Management.xlsx"")
df_status = df[['Status', 'Member Number']].groupby('Status').count()

StatusesList = df_status.index.tolist()

GragphValueList = df_status[""Member Number""].tolist()
# w = Output()

def f(x):
    x = StatusesList
    return x
    interact(f, x = StatusesList)


    fig_status = {
    'data': [{'labels': x,
    'values': GragphValueList,
    'type': 'pie'}],
    'layout': {'title': 'Complaints by status'}
    }

    iplot(fig_status)
</code></pre>

<p><a href=""https://www.dropbox.com/s/uf82tipe5puedb0/Complaints%20Management.xlsx?dl=0"" rel=""nofollow"">file sample</a></p>
",1843,1,<python><jupyter><plotly><jupyter-notebook><ipywidgets>,2016-02-16 15:02:20
35420680,Installing RKernel,"<p>Despite all my efforts, I wasn't able to install the R kernel for my IPython/Jupyter notebook on Canopy.</p>

<p>I've closely followed the clear instructions given in:
<a href=""http://www.michaelpacer.com/maths/r-kernel-for-ipython-notebook"" rel=""nofollow"">http://www.michaelpacer.com/maths/r-kernel-for-ipython-notebook</a>
(or, alternatively, <a href=""http://irkernel.github.io/installation/"" rel=""nofollow"">http://irkernel.github.io/installation/</a>)</p>

<p>All goes well until the last step that install the kernel on Jupyter:</p>

<pre><code>IRkernel::installspec()
</code></pre>

<p>Here is the weird message I get:</p>

<pre><code>File ""/Users/julien/Library/Enthought/Canopy_64bit/User/bin/jupyter-kernelspec"", line 8
from jupyter_client.kernelspecapp import KernelSpecApp.launch_instance
                                                      ^
SyntaxError: invalid syntax
</code></pre>

<p>My configuration is the following:</p>

<ul>
<li>Macbook with El Capitan</li>
<li>R version 3.2.2</li>
<li>IPython 4.0.1</li>
<li>Jupyter 4.0.6</li>
</ul>
",934,0,<jupyter><jupyter-notebook><jupyter-irkernel>,2016-02-15 22:58:46
35419414,jupyterhub nginx reverse proxy,"<p>I'm trying to get a reverse proxy (nginx) to work with juypterhub.  I want the service available at myurl.com/jhub/.  I placed the following in the config: </p>

<pre><code>location /jhub/ {
        proxy_pass http://127.0.0.1:8000/;

        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header Host $host;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;

        proxy_set_header X-NginX-Proxy true;  

        #WebSocket support

        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection ""upgrade"";
        proxy_read_timeout 86400;
  }
</code></pre>

<p>However, when I try the url after restarting the proxy jupyterhub is not available and I get a '404' Not Found error.  I've tried every combination of ports and address with no luck.  The same approach works just fine for RStudio server.... What am I missing?</p>
",2057,4,<nginx><ipython><reverse-proxy><jupyterhub>,2016-02-15 21:27:18
35416116,"Shared, writable folders in jupyterhub","<p>We are currently building a jupyterhub environment in a docker container and struggling with shared folders. Our goal is to set up a shared folder which is writable for all users.</p>
<p>In each user's home folder there is a symbolic link <code>~/shared</code> to <code>/opt/shared</code>. The target folder has the permissions <code>777</code> and is owned by the group <i>jupyter</i>. Each user is member of the group <i>jupyter</i>. However, if one user creates a file in the shared folder logged in with his account into the web app, the permissions are set to <code>644</code>. Therefore, no other user can edit the file.</p>
<p>I've tried to set the <code>umask</code> to <code>000</code> in the <code>/etc/profiles</code> and the <code>~/.bashrc</code> files for each user. However, jupyter seems to ignore it. Is there a possibility to configure jupyter to create new files with <code>g+w</code> rights as default? I would like to avoid setting up access control lists with <code>setfacl</code> at the file system level because it requires custom flags in the <code>/etc/fstab</code>.</p>
",7707,22,<jupyter><jupyter-notebook><jupyterhub>,2016-02-15 18:05:30
35410174,How to share Jupyter notebooks,"<p>I have a Jupyter hub installed and I was wondering if it is possible to share notebooks among different users.</p>
",12159,9,<jupyter><jupyter-notebook><jupyterhub>,2016-02-15 13:07:38
35387563,How to configure JupyterHub to show same notebook types as Jupyter?,"<p>On Ubuntu 14 I installed Jupyter via pip3 and apt-get. It works. Yet I have a problem: JupyterHub shows one menu for a user: </p>

<p><a href=""https://i.stack.imgur.com/Z3koD.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/Z3koD.png"" alt=""enter image description here""></a> </p>

<p>while Jupyter notebook shows another: </p>

<p><a href=""https://i.stack.imgur.com/JN0hJ.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/JN0hJ.png"" alt=""enter image description here""></a></p>

<p>Same virtual environments and default configuration.</p>

<p>I use the following comands to start them:</p>

<pre><code>sudo jupyter notebook --port=80 --ip=0.0.0.0  --no-browser
sudo jupyterhub --port 80
</code></pre>

<p>I wonder what shall be changed in JupyterHub to show exactly the same picture as I see in Jupyter?</p>
",438,1,<python><configuration><jupyter><jupyter-notebook><jupyterhub>,2016-02-14 01:57:46
35361038,Using Ipython ipywidget to create a variable?,"<p>This seems really simple but I have not been able to find a single example or to solve this myself. How do I use an ipywidget widget to create or return a python variable/object, such as a list or string, that can be used in a following cell?</p>
",32073,22,<ipython><jupyter-notebook><ipywidgets>,2016-02-12 11:06:15
35299071,Jupyterhub - how to select the installed python version,"<p>Jupyterhub uses a specific python version when creating new notebooks.
I can't find out where to set this version.</p>

<p>I installed anaconda on my ubuntu and created a link between python and anaconda's distribution </p>

<pre><code>usr/bin$ ls -l pyt*
lrwxrwxrwx 1 root root      24 Feb  9 18:34 python -&gt; /usr/anaconda/bin/python
</code></pre>

<p>which works : </p>

<pre><code>:/usr/bin$ python
Python 3.5.1 |Anaconda 2.5.0 (64-bit)| (default, Dec  7 2015, 11:16:01)
[GCC 4.4.7 20120313 (Red Hat 4.4.7-1)] on linux
Type ""help"", ""copyright"", ""credits"" or ""license"" for more information.
&gt;&gt;&gt; 
</code></pre>

<p>But when I use jupyterhub the notebooks are created using another installation of python. I see on the jupyter's terminal that the correct python version is accessed through the terminal so. It is only on the notebooks that the version is wrong.</p>

<p>Should I create a specific kernel ? 
Or can I set up an env variable to make jupyterhub use the anacondas' python ?</p>
",2157,1,<python><jupyterhub>,2016-02-09 18:07:00
35298513,Using ipython magics in R jupyter notebook?,"<p>I installed jupyter with <code>conda install jupyter</code> and am running a notebook with the r kernal installed from <code>conda create -n my-r-env -c r r-essentials</code></p>

<p>I am running a notebook and want to run a bash command from a shell.</p>

<pre><code>!echo ""hi""
Error in parse(text = x, srcfile = src): &lt;text&gt;:1:7: unexpected string constant
1: !echo ""hi""
</code></pre>

<p>For comparison, in an notebook with a python kernel:</p>

<pre><code>!echo ""hi""
hi
</code></pre>

<p>Is there a way to set up R notebooks to have the same functionality as the ipython notebook with regards to bash commands (and maybe other magics)?</p>
",4256,19,<r><jupyter-notebook><jupyter-irkernel>,2016-02-09 17:37:13
35258034,JupyterHub instance depends on SSH pipe,"<p>I have what I think is a simple question.  I have an Ubuntu server (14.04) running JupyterHub.  I launch the service using the standard command: </p>

<pre><code>sudo jupyterhub
</code></pre>

<p>I'm doing this from an SSH connection to the server itself.  However, after the service starts my terminal turns into a 'logging only mode' (my words).  The jupyterhub notebook is available as it should be, but I loose access to the CL.  The problem is that the service only runs as long as my terminal is connected via SSH.  When I disconnect I can't access the service anymore.  How do I keep the service running so it will be available after I disconnect my SSH session?</p>
",259,1,<ssh><jupyter-notebook><jupyterhub>,2016-02-07 19:28:53
35183829,Jupyterhub Error 503: Proxy Target Missing,"<p>I managed to establish <code>Jupyterhub</code> on my server and it worked well. Since I tried to restart the <code>Jupyterhub</code> service it doesn't work any more and when I'm trying to run it I see the error message:</p>

<pre><code>Proxy appears to be running at http://*:8000/, but I can't access it (HTTP 403: Forbidden)
Did CONFIGPROXY_AUTH_TOKEN change?
</code></pre>

<p>In the web browser I get </p>

<pre><code>Error 503: Proxy Target Missing. 
</code></pre>

<p>It may be connected to the warning that I see every time when I run <code>Jupyterhub</code> :</p>

<pre><code>Generating CONFIGPROXY_AUTH_TOKEN. Restarting the Hub will require restarting the proxy.
Set CONFIGPROXY_AUTH_TOKEN env or JupyterHub.proxy_auth_token config to avoid this message.
</code></pre>
",4675,6,<python><proxy><jupyterhub>,2016-02-03 17:32:53
35182640,Run Jupyter cell on page refresh,"<p>I am using Jupyter for my company's Analytics.  I want to make live page that displays some pretty charts.  I will be displaying this page on a big monitor in the lobby, and I want it to refresh automatically.</p>

<p>Is there some way to trigger ""run all cells"" by refreshing the browser page?  Alternately, is there some way to automatically run cells on a schedule?</p>

<p>I was hoping to find some %magic but I didn't.  Anyone know?</p>

<p>Thanks
P</p>
",1573,3,<jupyter><jupyter-notebook><jupyterhub>,2016-02-03 16:36:03
35029979,How to speed up the execution of an IPython widget?,"<p>I created a widget using <code>interact()</code> in the Jupyter notebook which plots the data (see code below). However, the widget updates very slowly (around 1 fps) when I move the slider.</p>

<p>Evaluation of the data inside the functions <code>neg(T)</code> and <code>pos(T)</code> takes around 1e-4 seconds and plotting of the data inside the function <code>conc(T)</code> - around 1e-1 seconds. Then why does my widget have such a slow response? How could I improve it?</p>

<pre><code>from scipy import constants
from numpy import *
import matplotlib.pyplot as plt
from ipywidgets import interact
import time

%matplotlib inline

m_e = m_h = 1.5 * 10**-49
hbar = constants.hbar
k = constants.k / constants.e

E_g = 1.1242
E_v = 0
E_c = E_v + E_g
E_a = E_v + 0.045
E_d = E_c - 0.045
n_a = 10**14
n_d = 10**12
g_a = 4
g_d = 2

E_f = linspace(E_v, E_c, 100)

def neg(T):
    start = time.time()

    N_c = 2 * 10**-6 * (m_e*k*T/(2*pi*hbar**2))**1.5
    n = N_c * exp((E_f-E_c)/(k*T))
    N_a_minus = n_a/(1+g_a*exp((E_a-E_f)/(k*T)))

    print(time.time()-start)

    return n + N_a_minus

def pos(T):
    start = time.time()

    N_v = 2 * 10**-6 * (m_h*k*T/(2*pi*hbar**2))**1.5
    p = N_v * exp((E_v-E_f)/(k*T))
    N_d_plus = n_d/(1+g_d*exp((E_f-E_d)/(k*T)))

    print(time.time()-start)

    return p + N_d_plus

def conc(T):
    start = time.time()

    plt.plot(E_f, neg(T), E_f, pos(T))
    plt.axis([E_v,E_g,10.0**6,10.0**21])
    plt.yscale('log')

    print(time.time()-start)

interact(conc, T=(50,800,50));
</code></pre>
",1042,4,<python><matplotlib><ipywidgets>,2016-01-27 06:08:23
35023744,How to order entries in ipywidgets Dropdown or Select?,"<p>I want to select from a list of possible values of type float:</p>

<pre><code>values = [400e-9,435e-9,498e-9]
</code></pre>

<p>The ipywidgets module provides the Select and Dropdown widgets, which accept either a list of strings, or a dictionary. In the latter case, the keys will be displayed and the values will be used when the corresponding key is selected. See <a href=""https://github.com/ipython/ipywidgets/blob/master/examples/notebooks/Widget%20List.ipynb"" rel=""nofollow"">the list of widgets in the docs</a>.</p>

<pre><code># Required imports for examples below
import ipywidgets as widgets
from IPython.display import display
</code></pre>

<p>Indeed, supplying my list of values directly raises an error since the values are floats, not strings.</p>

<pre><code># This will raise a TraitError
w = widgets.Select(options=values,description='Select one of the values:')
display(w)
</code></pre>

<p>So I create a dictionary and pass this to the widget:</p>

<pre><code>keys = [""{:.2e}"".format(val) for val in values]
valsdict = dict(zip(keys,values))
w = widgets.Select(options=valsdict, description='Select one of the values:')
display(w)
</code></pre>

<p>However, since dictionaries are not sorted, the resulting widget shows the options in a seemingly random order. In this case, when I ran it, 498e-9 came before 435e-9, as shown in this screenshot: <a href=""http://i.stack.imgur.com/gcIlF.jpg"" rel=""nofollow"">screenshot of the resulting widget</a>.</p>

<p>So the question is, is there a way to sort the entries in the selection widgets? </p>

<p>An obvious workaround is to supply the widget only with my list of strings (called <code>keys</code> in the example above) and implement looking up the corresponding value from the list myself, but I was hoping there would be a more elegant solution.</p>
",3896,2,<python><jupyter><jupyter-notebook><ipywidgets>,2016-01-26 20:53:32
35015947,Hiding code in jupiter in R,"<p>I would like to try to produce reports (pdf and probably html) in jupyter using R kernel. However, I would like to hide code in two ways, depending on audience:</p>

<ol>
<li>all code cells</li>
<li>some code cells</li>
</ol>

<p>When I have looked for this I found answers for python kernel. Is there a way to this in R (no python code)?</p>
",3861,5,<r><jupyter><jupyter-notebook><jupyter-irkernel>,2016-01-26 14:17:46
34986657,using ipywidgets in jupyter notebook: how to set focus?,"<p>Is it possible to give a jupyter notebook widget the focus? 
I can't see documentation or hints in the code about this? </p>
",748,14,<jupyter-notebook><ipywidgets>,2016-01-25 06:52:20
34981756,Display Images from file in R Jupyter notebook,"<p>I have an image on disk and want to display it in a markdown cell in an R Jupyter Notebook. How can I go about this?</p>

<p>I know with Python this as simple as importing the Image class from display.</p>
",7084,11,<r><jupyter><jupyter-notebook><jupyter-irkernel>,2016-01-24 21:31:43
34948928,Multiple interact() commands duplicate widgets in IPython,"<p>I am using an IPython Jupyter notebook. In the following situation, I call a function using <code>interact()</code>, which in turns calls a second function again using <code>interact()</code>.</p>

<pre><code>def fun1(dataset_id):
     dataset = read_dataset(dataset_id)
     interact(fun2, data=dataset, var=(0,dataset.property,0.1))

def fun2(data, var):
     # something

interact(fun1, dataset_id=(0,5,1))
</code></pre>

<p>When first running this, it display 2 slider widgets: one for <code>dataset_id</code>, and one for the variable <code>var</code>. But if I vary the <code>dataset_id</code> slider once, a second slider for <code>var</code> is added below the first <code>var</code> slider, so now I have 3 sliders in total. How can I avoid this?</p>
",5231,4,<python><ipython><jupyter-notebook><ipywidgets>,2016-01-22 14:22:33
34941546,Is there a way to integrate git with Jupyter and have a version control over the notebooks created?,"<p>I have hosted jupyterhub on a server and added many users into it. I want the users to have an option of version control for their work. So is there any way to add a git kernel or extension do have this done?</p>
",11793,26,<git><github><jupyter><jupyter-notebook><jupyterhub>,2016-01-22 07:48:53
34935298,Using matplotlib GTK3Agg Backend in jupyterhub notebook,"<p>I just started a jupyterhub server so that I can save all my data on one machine and have collaborators connect to access the data. Part of the code uses a GTK window which I normally launch from an ipython notebook. The error I get is <code>TypeError: constructor returned NULL</code> (<a href=""https://gist.github.com/m3wolf/2b3abf368f2fb6f7874c"" rel=""nofollow"">full traceback</a>). I can pretty easily reproduce this by making a new notebook and running <code>from matplotlib import pyplot</code> since by default it uses the GTK backend of my system.</p>

<p>So this works if I run it from the conventional jupyter-notebook and not through jupyterhub even if the notebook is accessed from the same computer that the server is running on. I recognize that many clients won't be able to load the GTK components if they don't have it installed themselves so I structured the software so that Gtk/Gdk only get imported when necessary. If I can't use it at all, though, then I will have to abandon the jupyterhub idea and think of something else.</p>
",581,0,<python><matplotlib><gtk3><jupyter-notebook><jupyterhub>,2016-01-21 22:08:55
34882050,Cannot run multiple kernels (Python versions) in jupyterhub,"<p>Hi I am running a notebook server with jupyterhub but I am unable to access different kernels (version of python).</p>

<p>I have the various enronments setup correctly, and when I type </p>

<pre><code>jupyter kernelspec list
</code></pre>

<p>I get the following output</p>

<pre><code>Available kernels:              
bash       /home/username/.local/share/jupyter/kernels/bash  
python2    /usr/local/share/jupyter/kernels/python2                  
python3    /usr/local/share/jupyter/kernels/python3
</code></pre>

<p>But when the jupyterhub launches it only finds the Python3 kernel available?</p>

<p>How can I get it to detect all available python versions??</p>

<pre><code>cat /usr/local/share/jupyter/kernels/python2/kernel.json  

{                                                   
""display_name"": ""Python 2"",
""language"": ""python"",
""argv"": [
""/opt/anaconda3/envs/py27/bin/python2.7"",
""-m"",
""ipykernel"",
""-f"",
""{connection_file}""                                                        
]       
}

cat /usr/local/share/jupyter/kernels/python3/kernel.json  

{ 
""language"": ""python"",                                                 
""display_name"": ""Python 3"",
""argv"": [
""/opt/anaconda3/bin/python3"",
""-m"",
""ipykernel"",
""-f"",
""{connection_file}""                                                        
] 
}
</code></pre>
",1161,2,<python-2.7><ipython><python-3.4><jupyter><jupyterhub>,2016-01-19 16:32:30
34812377,Can't whitelist a kernel in jupyterhub,"<p>I'm trying to setup jupyterhub with just one kernel. I've set this config parameter:</p>

<pre><code>c.KernelSpecManager.whitelist = {'python2'}
</code></pre>

<p>However it doesn't take effect. I still can use both python2 and python3 kernels. Other config variables are being applied with no problem.</p>

<p>Is anyone else observing this?</p>
",210,1,<jupyter><jupyterhub>,2016-01-15 13:39:45
31535027,make Pyspark working inside jupyterhub,"<p>I have a machine with JupyterHub (Python2,Python3,R and Bash Kernels). I have Spark(scala) and off course PySpark working. I can even use PySpark inside an interactive IPython notebook with a command like:</p>

<pre><code>IPYTHON_OPTS=""notebook"" $path/to/bin/pyspark
</code></pre>

<p>(this open a Jupyter notebook and inside Python2 I can use Spark)</p>

<p>BUT I can't get PySpark working inside JupyterHub. </p>

<p><a href=""https://github.com/ibm-et/spark-kernel"" rel=""nofollow"">the spark kernel</a> is more than what i really need. </p>

<p>I only need Pyspark inside JupyterHub. Any suggestion ?</p>

<p>thanks.</p>
",5221,3,<python><apache-spark><pyspark><ipython-notebook><jupyterhub>,2015-07-21 09:19:24
28529157,Dynamically changing dropdowns in IPython notebook widgets and Spyre,"<p>I have a dropdown in an IPython notebook (as part of the HTML widgets) and in a Spyre app (as a <code>dropdown</code> element), say to pick a continent and I'd like to add a second dropdown to select the country within the continent. Now obviously the options within the second dropdown are dependent on the value of the first one. I'm struggling to find a convenient way to have a callback function that would update this UI element.</p>

<p>I have almost done this in the IPython notebook where I had one <code>interact</code> function and within the called function, I'd create a second <code>interact</code> element with the second dropdown. But whenever I'd change the first dropdown a new dropdown element would be created, so I'd end up with one additional dropdown with each change. But I only want one dropdown to be updated, that's all.</p>

<p>Hope the issue is clear. Thank you.</p>
",21231,19,<python><jupyter-notebook><ipython><ipywidgets>,2015-02-15 17:53:48
43333387,Two ipython widgets for one variable,"<p>I am trying to make a interactive function where I can control the input with 2 widgets for the same variable. I Trying this because I want to have the option to slider the values (for a quick view) and also pick one specific (typing one value). I tried this linking the widgets with the <code>ipywidget.jslink</code>. I guessed once the widgets where linked I could input the values in any of them to pass to the variable. However, it is not what happens: below, only the values I set in the Slider updates the function (in other words, typing a value in the widget doesn't update the output). Why doesn't <code>jslink</code> work? In this <a href=""https://stackoverflow.com/questions/32634142/linking-ipython-widget-button-and-slider-values"">link</a> I found that substituting <code>ipw.jslink</code> for <code>traitlets.link</code>works fine.   </p>

<pre><code>import ipywidgets as ipw    
from IPython.display import display
def f(x):
    return x**2
a=ipw.IntSlider(min=-10,max=20,step=1,value=10)
b=ipw.IntText(min=-10,max=20,step=1,value=10)
ipw.jslink((a,'value'),(b,'value'))
wid=ipw.interactive(f, x=a)
display(wid,b)
</code></pre>
",578,2,<python><ipywidgets>,2017-04-10 21:46:28
43292697,ipywidgets: avoid flickering when using interact,"<p>I made a figure with four subplots of a histogram based on random normal, gamma, exponential, and uniform distributions respectively. I made it using matplotlib and Jupyter notebook. It is an interactive figure via ipywidgets lib. In particular, there are four slide bars that control the sample size on each histogram and update them accordingly. However, when updating the histograms, it annoyingly flickers. Is there any way to avoid this? Thx.</p>

<p>Now the code to be run on a jupyter notebook: </p>

<pre><code>import numpy as np
import pandas as pd
import matplotlib.pyplot as plt
%matplotlib notebook
from ipywidgets import *

n = 1000
x1 = np.random.normal(-2.5, 1, n)
x2 = np.random.gamma(2, 1.5, n)
x3 = np.random.exponential(2, n)+7
x4 = np.random.uniform(14,20, n)
x = [x1, x2, x3, x4]

fig, ((ax1, ax2), (ax3, ax4)) = plt.subplots(2, 2, figsize=(10,7))
axs = [ax1,ax2,ax3,ax4]

titles = ['x1\nNormal', 'x2\nGamma', 'x3\nExponential', 'x4\nUniform']
subplots_axes = [[-7,2,0,250], [0,4.5,0,250], [7,25,0,250], [14,20,0,250]]

bins = [np.arange(-6, 6, 0.5),
np.arange(0, 10, 0.5),
np.arange(7, 17, 0.5),
np.arange(14, 24, 0.5)]

fig.subplots_adjust(hspace=0.5)

def plt_dist(s, sample):
    axs[s].hist(x[s][:sample], bins=bins[s], linewidth=0, color='#1F77B4')
    axs[s].axis(subplots_axes[s])
    axs[s].set_title('{}'.format(titles[s]))
    axs[s].set_ylabel('Frequency')
    axs[s].set_xlabel('Value')
    axs[s].annotate('n = {}'.format(sample), xycoords='axes fraction', xy = [0.8,0.9])
    display(fig)

for s in range(0,4):
    sld_bar = interact(plt_dist, s = fixed(s), sample = widgets.IntSlider(min=100,max=1000+45,step=1,value=100))
</code></pre>
",1995,5,<python><matplotlib><jupyter-notebook><ipywidgets>,2017-04-08 10:09:39
43254861,Exporting ipywidgets to a website,"<p>I have a Python program in Jupyter Notebook that uses <code>interact</code> from the module <code>ipywidgets</code>.</p>

<pre><code>interact(my_func, filter_by=filter_by_list, format_type=format_dict.keys())
</code></pre>

<p>I want someone to be able to open the notebook on a website somewhere and use the interactive widget without requiring Python or anything else, just like <a href=""https://jakevdp.github.io/blog/2013/12/05/static-interactive-widgets/#SymPy-Math"" rel=""noreferrer"">here</a>.</p>
",6411,8,<javascript><python><html><jupyter-notebook><ipywidgets>,2017-04-06 12:10:20
43220626,ipywidgets + matplotlib cannot clear old outputs,"<pre><code>%matplotlib inline
import numpy as np
import matplotlib.pyplot as plt
import matplotlib as mpl
from ipywidgets import interact, FloatSlider, RadioButtons

amplitude_slider = FloatSlider(min=0.1, max=1.0, step=0.1, value=0.2)
color_buttons = RadioButtons(options=['blue', 'green', 'red'])
# decorate the plot function with an environment from the UIs:
@interact(amplitude=amplitude_slider, color=color_buttons)
def plot(amplitude, color):
    fig, ax = plt.subplots(figsize=(4, 3),
                       subplot_kw={'axisbg':'#EEEEEE',
                                   'axisbelow':True})

    ax.grid(color='w', linewidth=2, linestyle='solid')
    x = np.linspace(0, 10, 1000)
    ax.plot(x, amplitude * np.sin(x), color=color,
        lw=5, alpha=0.4)
    ax.set_xlim(0, 10)
    ax.set_ylim(-1.1, 1.1)
</code></pre>

<p>Using the widget multiple times got me multiple outputs:</p>

<p><a href=""https://i.stack.imgur.com/4GyM6.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/4GyM6.png"" alt=""enter image description here""></a></p>

<p>What do I need to update in the code so the plot is cleared each time the widget is used?</p>
",1851,4,<matplotlib><jupyter-notebook><ipywidgets>,2017-04-05 02:07:00
43142019,"ipywidgets, how to change slider's value display precision","<p>In jupyter,I have the following code to create a slider control for my variable r using ipywidgets. </p>

<pre><code>from ipywidgets import interact, interactive, fixed, interact_manual
import ipywidgets as widgets

r = 0.9992
def sl(r=0.9992):
    global ar
    ar = r

interact(sl, r=(0.999, 1, 0.0001))
</code></pre>

<p>It works but the problem is that the display of slider value is rounded to 2 decimal. As a result, the display always show 1.00. </p>

<p><a href=""https://i.stack.imgur.com/wXxD2.png"" rel=""noreferrer""><img src=""https://i.stack.imgur.com/wXxD2.png"" alt=""enter image description here""></a></p>

<p>Is there any way to display its actual value?</p>
",4824,12,<python><ipython><jupyter><ipywidgets>,2017-03-31 13:31:35
43087884,Interactive Timer in Jupyter Notebook,"<p>I have a function which records data and takes a while to complete.  While the data is being recorded, I would like to have a button which, upon being pressed, displays how much time has elapsed since the data acquisition has started.</p>

<p>Is this possible to do in Jupyter?</p>

<p>I'm having issues as the data acquisition blocks the widget from activating, and if I try and run the widget in the background, it doesn't receive the <code>on_click</code> event until the data acquisition has finished.  On the other hand, if I send the data acquisition to the background, then data is lost once the background job finishes.</p>

<h3>Background Job</h3>

<pre><code>from IPython.lib.backgroundjobs import BackgroundJobManager
from IPython.core.magic import register_line_magic
from IPython import get_ipython

jobs = BackgroundJobManager()

@register_line_magic
def background_job(line):
    ip = get_ipython()
    jobs.new(line, ip.user_global_ns)
</code></pre>

<h3>Timer Button</h3>

<pre><code>import ipywidgets as widgets
import time

def button_timer():
    t0 = 0
    button = widgets.Button(description=""Measure time"")
    def action(b):
        time_elapsed = time.perf_counter() - t0
        display(""Time elapsed: {}"".format(time_elapsed))
    button.on_click(action)

    display(button)
    t0 = time.perf_counter()
</code></pre>

<h3>Data Acquisition</h3>

<pre><code>import numpy as np
import pandas as pd
import time

def acquire(a=None):
    time.sleep(10)
    print(""Done"")
    if a is None:
        return np.linspace(0, 10, 10)
    else:
        a = np.linspace(0, 10, 10)

## Implementation 1
# This fails because the `on_click` event for the button only runs after the data has been acquired.
button_timer()
data = pd.DataFrame()
data['x'] = np.linspace(0, 10, 10)
data['y'] = acquire()

## Implementation 2
# As before, the `on_click` event isn't activated until after the data has been acquired.
%background_job button_timer()
data = pd.DataFrame()
data['x'] = np.linspace(0, 10, 10)
data['y'] = acquire()

## Implementation 3
# This one fails as the data isn't actually updated
button_timer()
data = pd.DataFrame()
data['x'] = np.linspace(0, 10, 10)
# I can't use the equal sign as that isn't supported by the background job.
# %background_job data['y'] = acquire()
# If I pass in the data I want, the DataFrame isn't updated (even after I wait for the background job to finish)
%background_job acquire(data['y'])
display(data)
</code></pre>

<hr>

<p>If all else fails, I guess one option would be to have a Javascript-only timer which runs entirely within the browser.</p>

<p>Still, I'm wondering if there's a way of doing this in Python (and if possible, have it such that the (last) measured time is programmatically accessible in the rest of the notebook).</p>
",1134,4,<jupyter-notebook><jupyter><ipywidgets>,2017-03-29 08:10:18
43075325,ipywidgets - display next value in list after clicking,"<p>I'm trying to use <code>ipywidgets</code> in order to display next value in my list (in Jupyter notebook) given as <code>display_vals</code> after clicking the button. However, with the following code snippet, I got error as </p>

<pre><code>local variable 'i' referenced before assignment
</code></pre>

<p>Here is the snippet that I have</p>

<pre><code>from IPython.display import display, clear_output
import ipywidgets as widgets

button = widgets.Button(description=""Click Me!"")
display(button)

display_vals = ['a', 'b', 'c']
i = 0

def on_button_clicked(b):
    print(display_vals[i])
    clear_output()
    i += 1

button.on_click(on_button_clicked)
</code></pre>

<p>I guess I just don't know the way to parse my variable when button gets clicked.</p>
",2181,4,<jupyter-notebook><ipywidgets>,2017-03-28 16:45:41
42998009,Clear MatPlotLib figure in Jupyter Python notebook,"<p>I want a 3D scatter plot in MatPlotLib to be rotated interactively in a Jupyter Python notebook. For that reason I integrated a slider from <code>ipywidgets</code> to update the view angle. The test code below shows what I am trying to achieve. The problem is that a new figure is added below the previous one, instead of the current figure cleared. I tried <code>plt.close(fig)</code>, <code>plt.cla()</code> and <code>plt.clf()</code> without success. (further I realize that there is overhead in recreating the figure and axes but that is the lesser part of my current concerns...)</p>

<p>Here is the (test) code:</p>

<pre><code># init
import numpy as np
import matplotlib.pyplot as plt
from mpl_toolkits.mplot3d import Axes3D
import ipywidgets as widgets
from IPython.display import display

# generate test data
x = np.random.rand(100)
y = np.random.rand(100)
z = np.random.rand(100)

# prepare plot
def draw_plot(angle1 = 20, angle2 = 40):
    # create figure
    fig = plt.figure(figsize=(15,10))
    ax = fig.add_subplot(111, projection='3d')
    ax.set_xlabel('X axis')
    ax.set_ylabel('Y axis')
    ax.set_zlabel('Z axis')
    ax.scatter(x, y, z)

    # set view angle
    ax.view_init(angle1, angle2)

    # show plot
    plt.show()

# prepare widgets
angle1_slider = widgets.IntSlider(20, min = 0, max = 60)
angle1_label = widgets.Label(value = 'Angle 1 value is: ' + str(angle1_slider.value))
display(angle1_slider, angle1_label)

# handle angle 1 update
def update_angle1(value):
    draw_plot(angle1 = value['new'])
    angle1_label.value = 'Angle 1 value is: ' + str(value.new)

angle1_slider.observe(update_angle1, names = 'value')

# draw initial plot
draw_plot()
</code></pre>

<p>Any suggestions would be appreciated!</p>
",17666,7,<python><matplotlib><jupyter-notebook><ipywidgets>,2017-03-24 11:10:59
42989421,Pointing to private github repository or AWS S3 as notebook directory for Jupyterhub notebook servers,"<p>Is it possible to point to private github repository or AWS S3 as notebook directory for Jupyterhub notebook servers?</p>

<p>In Jupyterhub config file, I can set C.Spawner.notebook_dir to point to local directories but how can I point to a fileshare protected by password or to a private github repository or AWS S3?</p>

<p>There is some information here - <a href=""https://github.com/jupyterhub/jupyterhub/issues/314"" rel=""nofollow noreferrer"">https://github.com/jupyterhub/jupyterhub/issues/314</a> on customizing the directory location for each user. Is there a way to extend the custom spawner class to have the ability to point to private github or S3?</p>
",645,0,<github><amazon-s3><jupyter-notebook><jupyter><jupyterhub>,2017-03-24 00:37:10
42960668,keep cell metadata in a copy of a jupyter notebook?,"<p>I'm working on a jupyter notebook (from a local installation of jupyterhub) that I want to be able to copy and distribute to my coworkers.  Some of them are a little 'code-phobic' so I want to be able to portions of the code from them.</p>

<p>I can use the hide input extension to very prettily hide the code in my own notebook, however when I make a copy the cell meta-data for hide input reverts to  <code>""hide_input"": false,</code> and the code is all automatically visible.</p>

<p>Is there a way to keep cell meta data in the copying process?</p>

<p>I can find a lot of online discussions/documentation about keeping hide input functionality with nbconvert, however I don't want to convert to html because I still need the users to be able to actually run code.  </p>

<p>Is there a way to use nbconvert to make a copy of a notebook and not actually convert it?</p>

<p>Thanks.</p>
",626,0,<copy><jupyter-notebook><jupyterhub><nbconvert>,2017-03-22 19:10:39
42841709,Mathjax stops rendering after initiating custom widget in Jupyter notebook,"<p>I am having an issue of MathJax failing to render LateX in my Jupyter Notebook after (not before) initiating a custom ipywidget based widget, in this case an html based table widget.  This includes in the Markdown cells, not just python generated output.</p>

<p>I am not trying to render any LateX in the table and have no MathJax calls in the widget javascript and, though the widget itself appears to work perfectly, it disables/kills any MathJax rendering afterward (requiring a Jupyter restart).  Other ipywidgets standard widgets do not effect MathJax operation.  There are also no errors reported by the notebook when instantiating the widget.</p>

<p>I am running the same Python Jupyter notebook on Windows 7 with Pip install and on MacOS 10.12.3 with a Macports install.  The problem is not present on my Mac using Safari, only on the Windows 7 system using either FireFox or Internet Explorer.</p>

<p>Windows7: Jupyter-notebook 4.4.1, Python 2.7.10</p>

<p>MacOS 10.12.3: Jupyter-notebook 4.3.1, Python 2.7.13</p>

<p>Unfortunately, I am not well enough versed in MathJax to further diagnose the issue or generate a short enough snippet of code to reproduce the problem that can be shared.</p>

<p>Any help would be appreciated.</p>

<p>Thank you.</p>
",121,1,<javascript><python-2.7><jupyter-notebook><mathjax><ipywidgets>,2017-03-16 18:05:51
42782902,Clear widget area of a cell in a Jupyter notebook from within notebook,"<p>I'm wondering if it's possible to clear the widget area of a cell in a Jupyter notebook from the notebook side (ie within Python). <code>IPython.display.clear_output()</code> only clears the cell's output area not the widget area.</p>

<p>Update: this still seems to be a problem in latest Notebook and ipywidgets. Here are two minimal examples illustrating the problem I'm struggling with. The widget output that I'm trying to clear in particular are the data frames rendered by <a href=""https://github.com/quantopian/qgrid"" rel=""noreferrer"">qgrid</a>. In both cases, despite trying to clear the previous widget output, subsequent selections cause a table to be appended after the previous one. Each new table is appended as a div with the class <code>p-Widget</code>.  </p>

<pre><code>import pandas as pd
import numpy as np
import qgrid
from ipywidgets import interact
from IPython.display import display, clear_output
import notebook
import ipywidgets

print('Jupyter Notebook version: {}'.format(notebook.__version__))
print('ipywidgets version: {}'.format(ipywidgets.__version__))

max_columns = 10
max_rows = 10    
col_opts = list(range(1, max_columns + 1))
row_opts = list(range(1, max_rows + 1))
</code></pre>

<p>First attempt using interact:</p>

<pre><code>@interact(columns=col_opts, rows=row_opts)
def submit(columns, rows):
    df = pd.DataFrame(np.random.randint(0, 100, size=(rows, columns)))
    clear_output()
    display(qgrid.QGridWidget(df=df)
</code></pre>

<p>Second attempt using the Output widget:</p>

<pre><code>output = ipywidgets.Output()
display(output)

def submit2(change):
    rows = row_input.value
    columns = col_input.value
    df = pd.DataFrame(np.random.randint(0, 100, size=(rows, columns)))

    with output:
        output.clear_output()
        display(qgrid.QGridWidget(df=df))

col_input = ipywidgets.Dropdown(options=col_opts)
row_input = ipywidgets.Dropdown(options=row_opts)

col_input.observe(submit2, 'value')
row_input.observe(submit2, 'value')

display(col_input)
display(row_input)
</code></pre>
",21005,11,<python><ipython><jupyter-notebook><ipywidgets>,2017-03-14 10:04:04
42769048,Installing packages in jupyterhub kubespawner nodes,"<p>I have a jupyterhub running over a kubernetes cluster with kubespawner.  As I understand it, kubespawner is, via kubernetes, spinning up dockers on my cluster that have their own python environment and storage area.</p>

<p>For some user, I am attempting to import rpy2 (or whatever, it's not important), and the package is not installed.</p>

<p>My questions:</p>

<p>Where do these dockers get their python environment (e.g. Is there a dockerfile I can edit somewhere)?</p>

<p>How to I get rpy2 installed for just that one docker session?</p>

<p>How do I get rpy2 installed for that user (if possible)?</p>

<p>How do I get rpy2 installed for everyone on the hub?</p>
",861,0,<kubernetes><jupyter><jupyterhub>,2017-03-13 16:45:36
42762924,How to conditionally evaluate bash script,"<p>To view the installed libraries on an environment I run this code within a Jupyter Python notebook cell : </p>

<pre><code>%%bash
pip freeze
</code></pre>

<p>This works, but how to conditionally execute this code ?</p>

<p>This is my attempt : </p>

<pre><code>from __future__ import print_function
from ipywidgets import interact, interactive, fixed, interact_manual
import ipywidgets as widgets

def f(x1):
    if(x1 == True):
        f2()
    return x1

interact(f , x1 = False)


def f2():
    %%bash 
    pip freeze
</code></pre>

<p>But evaluating the cell throws error : </p>

<pre><code>  File ""&lt;ipython-input-186-e8a8ec97ab2d&gt;"", line 15
    pip freeze
             ^
SyntaxError: invalid syntax
</code></pre>

<p>To generate the checkbox I'm using ipywidgets : <a href=""https://github.com/ipython/ipywidgets"" rel=""nofollow noreferrer"">https://github.com/ipython/ipywidgets</a></p>

<p>Update : 
Running <code>pip freeze</code> within <code>check_call</code> returns 0 results : 
<a href=""https://i.stack.imgur.com/Cf9TP.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/Cf9TP.png"" alt=""enter image description here""></a></p>

<p>Running</p>

<pre><code>    %%bash 
    pip freeze
</code></pre>

<p>Returns installed libraries so 0 is not correct.</p>

<p>Is <code>subprocess.check_call(""pip freeze"", shell=True)</code> correct ?</p>

<p>Update 2 : </p>

<p>This works : </p>

<pre><code>from __future__ import print_function
from ipywidgets import interact, interactive, fixed, interact_manual
import ipywidgets as widgets
import subprocess

def f(View):
    if(View == True):
        f2()

interact(f , View = False)


def f2():
    print(subprocess.check_output(['pip', 'freeze']))
</code></pre>
",623,3,<python><pyspark><jupyter-notebook><jupyter><ipywidgets>,2017-03-13 11:49:00
42734370,Customize jupyter notebook design (not just styling),"<p>Is it possible to customize jupyter notebook front end part (not just css)?
Basically I want to serve my custom html page which has code block for which I want the functionality of a cell as in Jupyter notebook.  I can customize the styling of the page but didn't find any way to change the layout (html).</p>
",1354,2,<python><user-interface><jupyter-notebook><ipython><jupyterhub>,2017-03-11 11:01:07
42706686,How to display widget in Jupyter Notebook?,"<p>Just following a along some examples from the library <a href=""http://ipywidgets.readthedocs.io/en/latest/examples/Widget%20Alignment.html"" rel=""nofollow noreferrer"">documentation</a>, I tried to get a widget to show, like this:</p>

<pre><code>VBox([HBox([Button(), FloatRangeSlider(), Text(), Button()]),
      HBox([Button(), FloatText(),
            FloatProgress(value=40), Checkbox(description='Check')]),
      HBox([ToggleButton(), IntSlider(description='Foobar'),
            Dropdown(options=['foo', 'bar']), Valid()]),
     ])
</code></pre>

<p>But I get instead:</p>

<pre><code>&lt;function ipywidgets.widgets.widget_box.VBox&gt;
</code></pre>
",2728,2,<python><python-3.x><jupyter-notebook><ipywidgets>,2017-03-09 22:25:36
42686383,How to show more rows in selectMultiple widget?,"<p>How might one tell <a href=""http://ipywidgets.readthedocs.io/en/latest/examples/Widget%20List.html#SelectMultiple"" rel=""nofollow noreferrer"">the selectMultiple widget</a> to show more rows?</p>

<pre><code>widgets.SelectMultiple(
    options=GROUP_NAMES,
    description='Groups',
    disabled=False,
)
</code></pre>

<p>The html equivalent of adding <a href=""https://www.w3schools.com/tags/att_select_size.asp"" rel=""nofollow noreferrer"">a size attribute</a> <code>size=10</code> to the select tag.</p>

<p>Not this but that...</p>

<p><a href=""https://i.stack.imgur.com/a4yeF.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/a4yeF.png"" alt=""defaults to 3 rows""></a></p>

<p><a href=""https://i.stack.imgur.com/jm96G.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/jm96G.png"" alt=""but we want lots of rows""></a></p>
",3526,3,<python><jupyter-notebook><ipywidgets>,2017-03-09 03:55:25
42684034,AWS IAM Role in EC2 and access to S3 from JupyterHub,"<p>In JupyterHub, installed in an EC2 instance with an IAM role which allows access to a specific S3 bucket when I try to access a file in that bucket with this code:</p>

<pre><code>s3nRdd = spark.sparkContext.textFile(""s3n://bucket/file"")
</code></pre>

<p>I get this error:</p>

<blockquote>
  <p>IllegalArgumentException: u'AWS Access Key ID and Secret Access Key
  must be specified as the username or password (respectively) of a s3n
  URL, or by setting the fs.s3n.awsAccessKeyId or
  fs.s3n.awsSecretAccessKey properties (respectively).'</p>
</blockquote>

<p>However, when I export the AWS access key id and secret access key in the kernel configuration having the same policy as that role, the read for that file succeeds.</p>

<p>As the best practice is to use IAM roles, why doesn't the EC2 role work in this situation?</p>

<p>--update--
The EC2 IAM role has these 2 policies:</p>

<pre><code>{
    ""Version"": ""2012-10-17"",
    ""Statement"": [
        {
            ""Sid"": ""Stmt1488892557621"",
            ""Action"": ""s3:*"",
            ""Effect"": ""Allow"",
            ""Resource"": [
                ""arn:aws:s3:::&lt;bucket_name&gt;"",
                ""arn:aws:s3:::&lt;bucket_name&gt;/*""
            ]
        }
    ]
}


{
    ""Version"": ""2012-10-17"",
    ""Statement"": [
        {
            ""Action"": ""ec2:*"",
            ""Effect"": ""Allow"",
            ""Resource"": ""*""
        },
        {
            ""Sid"": ""Stmt1480684159000"",
            ""Effect"": ""Allow"",
            ""Action"": [
                ""iam:PassRole""
            ],
            ""Resource"": [
                ""*""
            ]
        }
    ]
}
</code></pre>

<p>Also, I am using hadoop version 2.4.0 which doesn't support <code>s3a</code> protocol and updating is not an option.</p>
",590,3,<amazon-web-services><amazon-s3><amazon-ec2><amazon-iam><jupyterhub>,2017-03-08 23:39:20
42637384,Adding a Sample Space to a Venn Diagram in R,"<p>I am trying to insert of a simple Venn diagram in an jupyter notebook on R. I have been able to generate a simple 2-set diagram using the VennDiagram library. However I can't seem to figure out how to work the triple diagram in way that yields 2 intersecting sets that are in a subset of another larger set.</p>

<p>Maybe I'm using the wrong library?</p>

<p><strong>Edit:</strong></p>

<p>This is for an illustration, I just need to draw an example of a Venn Diagram. The data would be something like:</p>

<p>S=(1,2,3)</p>

<p>A=(1,2)</p>

<p>B=(2,3)</p>
",515,0,<r><venn-diagram><jupyter-irkernel>,2017-03-06 23:17:11
42562895,Return DataFrame using ipywidgets Button,"<p>I'm currently creating a Class that inherits a DataFrame from pandas. I'm interested in developing a method called 'new_filter' that is a fancier execution of a DataFrame command:</p>

<pre><code>import pandas as pd
from ipywidgets import widgets
from IPython.display import display
import numpy as np

class Result(pd.DataFrame):

@property
def _constructor(self):
    return Result

def _filter_done(self, c):
    self._column_name = self._filter_dd.value
    self._expression = self._filter_txt.value
    return self[eval('self.'+ self._column_name +'  '+self._expression)]

def new_filter(self):
    self._filter_dd = widgets.Dropdown(options=list(self.columns),
                                            description='Column:')
    self._filter_txt = widgets.Text(description='Expr:')
    self._filter_button = widgets.Button(description = 'Done')
    self._filter_box = widgets.VBox([self._filter_dd, self._filter_txt, self._filter_button])
    display(self._filter_box)
    self._filter_button.on_click(self._filter_done)
</code></pre>

<p>After creating an object like:</p>

<pre><code>test = Result(np.random.randn(3,4), columns=['A','B','C','D']) #just an example
test_2 = test.new_filter()
</code></pre>

<p>Then, for example:
<a href=""https://i.stack.imgur.com/HlNqW.png"" rel=""nofollow noreferrer"">Widget Output</a></p>

<p>What I want is that 'test_2' be an object from 'Result' class. Is there any solution to this?</p>
",2048,2,<python><python-3.x><pandas><ipython-notebook><ipywidgets>,2017-03-02 18:15:14
42452516,how to make widgets in jupyter notebook scrollable?,"<p>For some reason, I want to my HTML widget to have fixed height, no matter how many lines there are in the widget. If the lines are too many to fit into the height, ideally one can scroll to see all the lines. I tried something like the following, but it does not work:</p>

<pre><code>import ipywidgets as widgets
widgets.HTML(
    value=""Hello &lt;p&gt;World&lt;/p&gt;&lt;p&gt;World&lt;/p&gt;&lt;p&gt;World&lt;/p&gt;&lt;p&gt;World&lt;/p&gt;&lt;p&gt;World&lt;/p&gt;&lt;p&gt;World&lt;/p&gt;&lt;p&gt;World&lt;/p&gt;&lt;p&gt;World&lt;/p&gt;"",
    placeholder='Some HTML',
    description='Some HTML',
    disabled=True,
    height='50px',
    overflow_y='scroll'
)
</code></pre>
",5112,4,<ipython><ipywidgets>,2017-02-25 05:56:34
42314732,Ubuntu Jupyterhub: 500 POST Spawner failed to start [status=1],"<p>I am trying to run <em>jupyterhub</em> for multiuser mode:</p>

<pre><code>sudo jupyterhub
</code></pre>

<p>I am able to login successfully with the user I used to install <em>jupyterhub</em>. However, when I try to login with other users I get the following message:</p>

<blockquote>
  <p>500: Internal Server Error 
  Spawner failed to start [status=1]</p>
</blockquote>

<p>And in the terminal:</p>

<blockquote>
  <p>user@server:~$ sudo jupyterhub </p>
  
  <p>[I 2017-02-18 11:47:53.663 JupyterHub app:733] Loading cookie_secret from /home/user/jupyterhub_cookie_secret </p>
  
  <p>[W 2017-02-18 11:47:53.691 JupyterHub app:372] 
  Generating CONFIGPROXY_AUTH_TOKEN. Restarting the Hub will require restarting the proxy.
  Set CONFIGPROXY_AUTH_TOKEN env or JupyterHub.proxy_auth_token config to avoid this message.</p>
  
  <p>[W 2017-02-18 11:47:53.695 JupyterHub app:874] No admin users, admin interface will be unavailable. </p>
  
  <p>[W 2017-02-18 11:47:53.695 JupyterHub app:875] Add any administrative users to <code>c.Authenticator.admin_users</code> in config. </p>
  
  <p>[I 2017-02-18 11:47:53.695 JupyterHub app:902] Not using whitelist. Any authenticated user will be allowed. </p>
  
  <p>[I 2017-02-18 11:47:53.714 JupyterHub app:1481] Hub API listening on <a href=""http://127.0.0.1:8081/hub/"" rel=""nofollow noreferrer"">http://127.0.0.1:8081/hub/</a> </p>
  
  <p>[W 2017-02-18 11:47:53.716 JupyterHub app:1201] Running JupyterHub without SSL.  I hope there is SSL termination happening somewhere else... </p>
  
  <p>[I 2017-02-18 11:47:53.716 JupyterHub app:1203] Starting proxy @ http://*:8000/ </p>
  
  <p>11:47:54.569 - info: [ConfigProxy] Proxying http://*:8000 to <a href=""http://127.0.0.1:8081"" rel=""nofollow noreferrer"">http://127.0.0.1:8081</a></p>
  
  <p>11:47:54.574 - info: [ConfigProxy] Proxy API at <a href=""http://127.0.0.1:8001/api/routes"" rel=""nofollow noreferrer"">http://127.0.0.1:8001/api/routes</a> </p>
  
  <p>[I 2017-02-18 11:47:54.597 JupyterHub app:1537] JupyterHub is now running at <a href=""http://127.0.0.1:8000/"" rel=""nofollow noreferrer"">http://127.0.0.1:8000/</a> </p>
  
  <p>Last login: Sat Feb 18 00:26:34 CET 2017 </p>
  
  <p>Welcome to Ubuntu 16.04.2 LTS (GNU/Linux 4.4.0-62-generic x86_64)</p>
  
  <ul>
  <li><p>Documentation: <a href=""https://help.ubuntu.com"" rel=""nofollow noreferrer"">https://help.ubuntu.com</a>  </p></li>
  <li><p>Management: <a href=""https://landscape.canonical.com"" rel=""nofollow noreferrer"">https://landscape.canonical.com</a> </p></li>
  <li><p>Support: <a href=""https://ubuntu.com/advantage"" rel=""nofollow noreferrer"">https://ubuntu.com/advantage</a></p></li>
  </ul>
  
  <p>1 package can be updated. </p>
  
  <p>0 updates are security updates.</p>
  
  <p>[I 2017-02-18 11:48:10.990 JupyterHub spawner:785] Spawning jupyterhub-singleuser '--user=""username""' '--cookie-name=""jupyter-hub-token-username""' '--base-url=""/user/username""' '--hub-host=""""' '--hub-prefix=""/hub/""' '--hub-api-url=""http://127.0.0.1:8081/hub/api""' '--ip=""127.0.0.1""' --port=52764 </p>
  
  <p>Traceback (most recent call last): </p>
  
  <p>File ""/usr/local/bin/jupyterhub-singleuser"", line 4, in  <strong>import</strong>('pkg_resources').require('jupyterhub==0.8.0.dev0')   File</p>
  
  <p>""/usr/local/lib/python3.5/dist-packages/pkg_resources/<strong>init</strong>.py"", line 3036, in  @_call_aside   </p>
  
  <p>File ""/usr/local/lib/python3.5/dist-packages/pkg_resources/<strong>init</strong>.py"", line 3020, in _call_aside f(*args, **kwargs)   </p>
  
  <p>File ""/usr/local/lib/python3.5/dist-packages/pkg_resources/<strong>init</strong>.py"", line 3049, in _initialize_master_working_set working_set = WorkingSet._build_master()   </p>
  
  <p>File ""/usr/local/lib/python3.5/dist-packages/pkg_resources/<strong>init</strong>.py"", line 654, in _build_master ws.require(<strong>requires</strong>)   </p>
  
  <p>File ""/usr/local/lib/python3.5/dist-packages/pkg_resources/<strong>init</strong>.py"", line 968, in require needed = self.resolve(parse_requirements(requirements))   </p>
  
  <p>File ""/usr/local/lib/python3.5/dist-packages/pkg_resources/<strong>init</strong>.py"", line 854, in resolve raise DistributionNotFound(req, requirers) </p>
  
  <p>pkg_resources.DistributionNotFound: The 'jupyterhub==0.8.0.dev0' distribution was not found and is required by the application </p>
  
  <p>[W 2017-02-18 11:48:21.038 JupyterHub web:1545] 500 POST /hub/login?next= (::ffff:10.90.0.4): Spawner failed to start [status=1] </p>
  
  <p>[E 2017-02-18 11:48:21.066 JupyterHub log:99] {</p>
  
  <p>""Content-Length"": ""36"",</p>
  
  <p>""Content-Type"": ""application/x-www-form-urlencoded"",</p>
  
  <p>""Accept-Encoding"": ""gzip, deflate"",</p>
  
  <p>""Accept-Language"": ""en-US"",</p>
  
  <p>""Dnt"": ""1"",</p>
  
  <p>""Host"": ""zeno.lehre.hwr-berlin.de:8000"",</p>
  
  <p>""Cookie"": ""_xsrf=2|1204c4dd|f391c8200e87548242350a9d25406790|1487111102"",</p>
  
  <p>""X-Forwarded-Host"": ""server.com:8000"",</p>
  
  <p>""Connection"": ""close"",</p>
  
  <p>""X-Forwarded-For"": ""::ffff:<strong>.</strong>.<em>.</em>"",</p>
  
  <p>""X-Forwarded-Proto"": ""http"",</p>
  
  <p>""Accept"": ""text/html, application/xhtml+xml, <em>/</em>"",</p>
  
  <p>""Cache-Control"": ""no-cache"",</p>
  
  <p>""User-Agent"": ""Mozilla/5.0 (Windows NT 6.1; WOW64; Trident/7.0; rv:11.0) like Gecko"",</p>
  
  <p>""Referer"": ""<a href=""http://server.com:8000/hub/login"" rel=""nofollow noreferrer"">http://server.com:8000/hub/login</a>"",</p>
  
  <p>""X-Forwarded-Port"": ""8000""</p>
  
  <p>} </p>
  
  <p>[E 2017-02-18 11:48:21.066 JupyterHub log:100] 500 POST /hub/login?next= (@::ffff:<strong>.</strong>.<em>.</em>) 10283.44ms</p>
</blockquote>

<p>I don't know if that would be the source of the problem, however, I have jupyterhub version: 0.7.0. I tried to update it to 0.8.0 using: </p>

<pre><code>sudo pip install -U jupyterhub
</code></pre>

<p>But, I got:</p>

<blockquote>
  <p>Requirement already up-to-date: ****</p>
</blockquote>

<p>I tried so long to find a solution online; I failed though. </p>

<p>Would someone please help me with this issue?</p>

<p>Thanks :)</p>
",3055,0,<ubuntu><jupyterhub>,2017-02-18 11:48:18
42307294,Changing value of a global variable inside a function,"<p>I run in Jupyter-Notebook the following code:</p>

<pre><code>from IPython.display import display
import ipywidgets as widgets

turn_on = 'Run'
turn_off = 'Skip'

skipp = True

button_exec = widgets.Button(description=turn_on)
display(button_exec)

def exec_clicked(b):
    global skipp
    if skipp:
        b.description = turn_off
    else:
        b.description = turn_on
    skipp = not skipp

button_exec.on_click(exec_clicked)
</code></pre>

<p>and whenever I press the button, the value of ""skipp"" doesn't change, but the destription of the button changes. I tried to run without the statement of the ""global"" but it doesn't work as well.</p>
",1038,2,<python><function><boolean><global-variables><ipywidgets>,2017-02-17 21:00:26
42305421,Limit GPU usage in nvidia-docker?,"<p>I am setting up an internal Jupyterhub on a multi GPU server. Jupyter access is provided through a docker instance. I'd like to limit access for each user to no more than a single GPU. I'd appreciate any suggestion or comment. Thanks.</p>
",6195,3,<docker><jupyterhub><nvidia-docker>,2017-02-17 18:54:15
42260539,Jupyterhub subdomains and multiple ssl certs,"<p>I'm setting up a multi-user JupyterHub server. I've implemented the subdomain mechanism recommended in the JupyterHub documentation. A user types in the login URL for the server in their web browser, e.g., <a href=""https://notebook.example.com"" rel=""nofollow noreferrer"">https://notebook.example.com</a>, and when they login JupyterHub creates a subdomain for them, e.g., <a href=""https://username.notebook.example.com"" rel=""nofollow noreferrer"">https://username.notebook.example.com</a>. </p>

<p>I've got the wildcard DNS working just fine. The issue is that this setup seems to require multiple SSL certificates. My certificate authority was kind enough to give me certificates for both notebook.example.com and the wildcard certificate *.notebook.example.com. If I have this configuration for the notebook.example.com certificate:</p>

<pre><code>c.JupyterHub.ssl_cert = '/etc/pki/tls/certs/notebook.example.com.cer'
</code></pre>

<p>then the user's browser will accept the certificate for the login URL, but will give an unrecognized certificate message when the user is forwarded to the user's subdomain URL. If I use the other certificate, e.g.</p>

<pre><code>c.JupyterHub.ssl_cert = '/etc/pki/tls/certs/wildcard.notebook.example.com.cer'
</code></pre>

<p>then the user's browser will complain that ""notebook.example.com"" doesn't match *.notebook.example.com in the certificate, but will accept the certificate when the user is forwarded to their subdomain. </p>

<p>Obviously I could tell the users to agree to a certificate exception in one case or the other, but this might create long-term support problems (I have to instruct them how to accept the unrecognized certificate for all the different browsers; they might get into the habit of blindly accepting certificates). </p>

<p>Is there a way of configuring JupyterHub to use one certificate for the initial login and a different one for subdomains?</p>
",386,0,<ssl><https><ssl-certificate><wildcard-subdomain><jupyterhub>,2017-02-15 21:36:48
42155210,How can I remove or disable an ipywidget's widget clear button in a Jupyter notebook?,"<p>I'm trying to write a simple user interface for Python code in a Jupyter/IPython notebook. I'm using the amazing <a href=""https://ipywidgets.readthedocs.io/en/latest/"" rel=""nofollow noreferrer"">ipywidgets</a>. I need to find a way to prevent users from clearing the widgets by accidentally clicking the <code>&lt;button class=""close""&gt;×&lt;/button&gt;</code> (the <code>X</code> to the left of the widgets). I've spent hours searching for a simple way to do this. Here's a simple, minimal example of the issue in a single Jupyter notebook cell:</p>

<pre><code>import ipywidgets
import IPython.display

w = ipywidgets.IntSlider()

IPython.display.display(w)
</code></pre>

<p>The result is a slider with the widget clear button <code>X</code> to the left of the slider:</p>

<p><a href=""https://i.stack.imgur.com/gvuDx.png"" rel=""nofollow noreferrer"">Image of slider with widget clear button <code>X</code></a></p>

<p>How can I remove or disable the widget clear button so that the user can't accidentally clear the widget?</p>
",5059,3,<python><ipython-notebook><jupyter-notebook><ipywidgets>,2017-02-10 08:57:44
42126093,bqplot: ipython widgets not being rendered,"<p>I am trying to use <a href=""https://github.com/bloomberg/bqplot"" rel=""nofollow noreferrer""><strong>bqplot</strong></a> to plot some graphs in jupyter notebook along with some ipywidgets. I want to render the widgets horizontally adjacent to my plot as discussed in <a href=""https://github.com/ipython/ipywidgets/issues/1067"" rel=""nofollow noreferrer"">this issue</a>, but I cannot get the widgets to show up in my jupyter notebook. </p>

<p>My code is as follows -</p>

<pre><code>from bqplot import pyplot as plt
import ipywidgets as widgets
from pandas import DataFrame

class AdderDOEProblem_PlotUtils:
    def __init__(self, parseutils):
        self.data = DataFrame({'timestamps': parseutils.getTimestampValues(),
                            'Adder.sum': parseutils.getValues('Adder.sum'),
                            'Adder.a': parseutils.getValues('desvar_a.a'),
                            'Adder.b': parseutils.getValues('desvar_b.b')})
        # step size
        self.Adder_a__step = 0.1
        self.Adder_b__step = 0.1

        # axes configuration
        x_axis_values = self.data['Adder.a']
        y_axis_values = self.data['Adder.sum']

        self.fig = plt.figure(title='AdderDOEProblem')
        self.p = plt.plot(x_axis_values, y_axis_values)

        w_a_slider = widgets.FloatSlider(value=0, min=0, max=1, step=self.Adder_a__step, description='Adder.a')
        w_b_slider = widgets.FloatSlider(value=0, min=0, max=1, step=self.Adder_b__step, description='Adder.b')
        self.widgets_list = [w_a_slider, w_b_slider]

    def update (self, change):
        # Placeholder logic for testing 
        self.p.y = [i+1 for i in self.p.y]

    def plot (self):
        plt.show()
        for w in self.widgets_list:
            w.observe(self.update, 'value')
        self.update(None)
        widgets.HBox([widgets.VBox(self.widgets_list), self.fig])
</code></pre>

<p>When I run it in the notebook, I get the following output -</p>

<p><a href=""https://i.stack.imgur.com/4iaxz.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/4iaxz.png"" alt=""jupyter notebook output""></a></p>

<p>I have tried the following command as suggested in many of the threads (but with no luck) -</p>

<pre><code>jupyter nbextension enable --py widgetsnbextension
</code></pre>

<p>What am I missing?</p>

<p>P.S. The versions of the packages are as follows -<br>
jupyter - 1.0.0<br>
ipython - 5.1.0<br>
ipywidgets - 5.2.2<br>
bqplot - 0.8.4   </p>
",1757,1,<jupyter-notebook><ipywidgets><bqplot>,2017-02-09 00:20:30
42112699,Jupyterhub with dockerspawner does not run - error 502,"<p>I'm trying to set up a multiuser jupyter setup. For this case I've set up an jupyterhub with RemoteCSVAuthenticator and DockerSpawner.</p>

<p>Authentication seems to work fine and also if I log in, a docker-container is started. But after logging in I only get an 502 Error-Message:</p>

<pre><code>502 : Bad Gateway
The error was:
Failed to check authorization (upstream problem)
</code></pre>

<p>The jupyterhost logfile shows no errors. The dockercontainer is the plain 
<code>jupyterhub/singleuser</code>. </p>

<p>Can anyone tell me where to start? </p>

<hr>

<p>After trying to digg deeper into the problem I found that if I try to access the jupyter-process inside the docker container (e.g. <a href=""http://172.17.0.36:8888/"" rel=""nofollow noreferrer"">http://172.17.0.36:8888/</a>) it always throws error 404 - page not found. I don't think this is normal. Maybe this is the cause for the configurable-http-proxy to throw the ""Bad Gateway"" error.</p>
",872,2,<docker><jupyter><jupyterhub>,2017-02-08 12:07:24
42107676,Run R in Jupyter notebook - kernel is dying,"<p>I am attempting to run R in Jupyter notebook. I tried almost everything what I have found, but without results. So I tried to reinstall Anaconda (Python 2.7.13, Anaconda 4.3.0, IPython 5.1.0) and R (version 3.3.2) to have the latest versions. </p>

<p>Afterwards, I ran </p>

<pre><code>conda install -c r r-essentials
</code></pre>

<p>But If I open Jupyter notebook and create a new file with R kernel, the kernel dies immediately and I get long error, see the full version <a href=""https://drive.google.com/open?id=17NQ0LW0b3O2P1OLnN_DND3nOeRKuemZGsUTXovNKu5E"" rel=""nofollow noreferrer"">here</a>. The last line:</p>

<pre><code>WindowsError: [Error 2] The system cannot find the file specified
</code></pre>

<p>Any suggestions will be very appreciated.</p>
",550,2,<jupyter-irkernel>,2017-02-08 08:04:20
42101586,Adjust the Space Between Two Jupyter Widgets,"<p>I'm trying to create a Jupyter Notebook to help some colleagues interactively access some data. I want to give them a bunch of widgets that allow them to use different criteria to filter the data.  </p>

<p>Mainly it works beautifully, but I can't adjust the spacing between two widgets, and it's going to drive me nuts. </p>

<p>I've tried following the instructions <a href=""http://ipywidgets.readthedocs.io/en/latest/examples/Widget%20Styling.html#The-layout-attribute."" rel=""noreferrer"">here</a>, but the two buttons are always right next to each other.</p>

<pre><code>class Dashboard(object):
    def __init__(self):
        item_layout = Layout(flex='1 1 auto',
                             width='auto')

        toggle = widgets.ToggleButtons(
            options=[""Foo"", ""Bar""],
            value=""Foo"",
            description=""Foobar:"",
            disable=False,
            layout=item_layout,
        )

        check = widgets.Checkbox(
            value=True,
            description=""Checked"",
            disabled=False,
            layout=item_layout,
        )

        box_layout = Layout(display='flex',
                            flex_flow='row',
                            justify_content='space around',
                            width='500px',
                            button_layout='solid',
                            )

        buttons = widgets.Box(children=[
            widgets.interactive(self._set_foobar, foobar=toggle, layout=item_layout),
            widgets.interactive(self._set_checked, checked=check, layout=item_layout),
        ],
            layout=box_layout)

        display(buttons)

    def _set_foobar(self, foobar):
        self._foo = foobar == 'Foo'

    def _set_checked(self, checked):
        self._checked = bool(checked)
</code></pre>

<p>If I then open up a Jupyter notebook and do:</p>

<pre><code>import dashboard
y = dashboard.Dashboard()
</code></pre>

<p>It produces:</p>

<p><a href=""https://i.stack.imgur.com/1m3k4.png"" rel=""noreferrer""><img src=""https://i.stack.imgur.com/1m3k4.png"" alt=""enter image description here""></a></p>

<p>If I don't make the widgets interactive i.e. <code>children=[toggle, check]</code> it works perfectly.  </p>

<p><a href=""https://i.stack.imgur.com/PEWYU.png"" rel=""noreferrer""><img src=""https://i.stack.imgur.com/PEWYU.png"" alt=""enter image description here""></a></p>

<p>Is there a way that I can adjust the space between interactive widgets?</p>
",3240,5,<python><css><jupyter-notebook><jupyter><ipywidgets>,2017-02-07 22:56:45
42084979,How to authenticate JupyterHub user with json web token (JWT)?,"<p>I am trying to figure out the best way of authenticating a JupyterHub user with JWT. In my particular use case, the client will be first authenticated on a primary website and redirected at a later stage to the JupyterHub proxy (both sites are hosted behind the same domain). The idea would be to completely bypass the JupyterHub login screen and enable the user to access his Notebooks (provided that a valid JWT token is available in the HTTP request's Authorization header). The JWT token would be generated once the user has logged in to the primary site.</p>

<p>Any pointers/advice on how to implement this would be greatly appreciated! My guess is that I need to write a custom authenticator in order to validate the JWT. However, I am unsure on how to configure the entire process.
Thanks!</p>
",2474,7,<jupyterhub>,2017-02-07 08:26:46
41999020,How to make an ipywidgets Image clickable?,"<p>I would like to make an Image instance in a jupyter notebook to respond to click events - how can we do this? I also want to be able to identify the image that was clicked.
It is simple to do so with buttons but not with images.</p>
",4973,12,<python><jupyter-notebook><jupyter><ipywidgets>,2017-02-02 09:55:42
41912626,How do you save the state of a widget in a Jupyter notebook?,"<p>I have a radio button widget in a Jupyter notebook and I want to save the selected state, preferrably in the notebook json. That doesn't seem to be happening when I save the notebook. The state gets lost and reset when you reopen the notebook. Is there a way to save the state and have it reload?</p>
",1332,7,<jupyter><ipywidgets>,2017-01-28 17:22:42
41782983,How do I install the datepicker widget in ipywidgets?,"<p>It seems like I don't have the <code>DatePicker</code> widget which is pretty odd. I tried installing / unistalling <code>ipywidgets</code> but no luck.</p>
<p>Any idea how to install it?</p>
<pre><code>import ipywidgets as ipyw
ipyw.DatePicker
# AttributeError: module 'ipywidgets' has no attribute 'DatePicker'
ipyw.__version__
# 5.2.2
</code></pre>
<p>running python3.5</p>
",2425,4,<python-3.x><jupyter-notebook><ipywidgets>,2017-01-21 18:33:40
41520034,Embed Jupyter HTML output in a web page,"<p>I want to embed the HTML output of Jupyter, in my own web page. The reason for this is primarily, so that I can use Jupyter from my own webapp - and also access my research notebooks from anywhere in the world - via the internet.</p>

<p>A typical use case scenario would be that I click on a button on my page, and an iframe will be inserted in my page; Jupyter will then be launched at the backend (if not already running), and the output of Jupyter will be 'piped' to the iframe - so that I can use Jupyter from within my page.</p>

<p>The naive solution it appeared, was to use <code>&lt;iframe&gt;</code>, but there were two problems:</p>

<ol>
<li>The iframe cross domain policy problem</li>
<li>Jupyter generated a one time authentication token when first launched</li>
</ol>

<p>Is there anyway I can overcome these issues, so I can embed the output of Jupyter in my own web page?</p>
",6583,2,<html><iframe><jupyter-notebook><jupyter><jupyterhub>,2017-01-07 09:42:34
41435067,Specifying JupyterHub Path Variable,"<p>I am in the process of installing jupyterhub.  I successfully install jupyterhub using:</p>

<pre><code>python3 -m pip install jupyterhub
npm install -g configurable-http-proxy
</code></pre>

<p>However, when I run <code>jupyterhub -h</code> in the Windows command prompt it gives:</p>

<pre><code>""jupyterhub"" is not recognized as an internal or external command, operable
program or batch file.
</code></pre>

<p>I added <code>C:\Users\User\AppData\Local\Continuum\Anaconda3\Lib\site-packages\jupyterhub\</code> to my user environment variable, however still receive the message.  What path should I be using?</p>
",639,0,<windows><environment-variables><jupyterhub>,2017-01-03 00:59:06
41264792,"how to build test enviroment (Linux, Spark, jupyterhub","<p>I am working on my thesis, and i have the opportunity to set up a working environment to test the functionality and how it works. </p>

<p>the following points should be covered:</p>

<ul>
<li>jupyterhub (within a private cloud)</li>
<li>pandas, numpy, sql, nbconvert, nbviewer</li>
<li>get Data into DataFrame (csv), analyze Data, store the data (RDD?, HDF5?, HDFS?)</li>
<li>spark for future analysis</li>
</ul>

<p>The test scenario will consist:</p>

<ul>
<li>multiple user environment with notebooks for Users/Topics</li>
<li>analyze structured tables (RSEG, MSEG, EKPO) with several million lines in a 3-way-match with pandas, numpy and spark (spark-sql), matplotlib.... its about 3GB of Data in those 3 tables.</li>
<li>export notebooks with nbconvert, nbviewer to pdf, read-only notbook and/or reveal.js</li>
</ul>

<p>Can you guys please give me some hints or experiences on how many notes i should use for testing, which Linux distribution is a good start?
i am sure there are many more questions, i have problems to find ways or info how to evaluate possible answers.</p>

<p>thanks in advance!</p>
",85,0,<linux><hadoop><apache-spark><pyspark><jupyterhub>,2016-12-21 14:12:04
41180337,How to export an entire Jupyter notebook?,"<p>I'm not sure if this place would be the appropriate place to post this question, but I wanted to download a folder with multiple Jupyter notebook so that I can view in my local server?</p>

<p>Thank you!</p>
",1455,0,<jupyter-notebook><jupyter><jupyterhub>,2016-12-16 08:43:43
41105726,Can a PySpark Kernel(JupyterHub) run in yarn-client mode?,"<p>My Current Setup:</p>

<ul>
<li>Spark EC2 Cluster with HDFS and YARN</li>
<li>JuputerHub(0.7.0)</li>
<li>PySpark Kernel with python27</li>
</ul>

<p>The very simple code that I am using for this question:</p>

<pre><code>rdd = sc.parallelize([1, 2])
rdd.collect()
</code></pre>

<p>The PySpark kernel that <strong>works as expected</strong> in Spark standalone has the following environment variable in the kernel json file:</p>

<pre><code>""PYSPARK_SUBMIT_ARGS"": ""--master spark://&lt;spark_master&gt;:7077 pyspark-shell""
</code></pre>

<p>However, when I try to run in yarn-client mode it is getting stuck forever, while the log output from the JupyerHub logs is:</p>

<pre><code>16/12/12 16:45:21 WARN YarnScheduler: Initial job has not accepted any resources; check your cluster UI to ensure that workers are registered and have sufficient resources
16/12/12 16:45:36 WARN YarnScheduler: Initial job has not accepted any resources; check your cluster UI to ensure that workers are registered and have sufficient resources
16/12/12 16:45:51 WARN YarnScheduler: Initial job has not accepted any resources; check your cluster UI to ensure that workers are registered and have sufficient resources
16/12/12 16:46:06 WARN YarnScheduler: Initial job has not accepted any resources; check your cluster UI to ensure that workers are registered and have sufficient resources
</code></pre>

<p>As described <a href=""http://spark.apache.org/docs/latest/running-on-yarn.html"" rel=""nofollow noreferrer"">here</a> I have added the <strong>HADOOP_CONF_DIR</strong> env. variable to point to the directory where the Hadoop configurations are, and changed <strong>PYSPARK_SUBMIT_ARGS</strong> <code>--master</code> property to ""<strong>yarn-client</strong>"". Also i can confirm that there are no other jobs running during this and that the workers are correctly registered.</p>

<p>I am under the impression that it is possible to configure a JupyterHub Notebook with a PySpark kernel to run with YARN as <a href=""https://github.com/jupyterhub/jupyterhub/issues/438"" rel=""nofollow noreferrer"">other people have done it</a>, if this indeed is the case what I am I doing wrong?</p>
",3259,0,<pyspark><hadoop-yarn><jupyterhub><spark-ec2>,2016-12-12 16:55:36
41087303,Jupyter Notebook R Kernel Max_Rows Option?,"<p>I have a table of coefficeints (other stat output) that is being abridged. </p>

<p>Is there an option (or hack) in an R-Kernel Jupyter Notebook to output a full data.table? Similar to the Pandas option <code>pd.set_option('display.max_rows', 500)</code> you can use in the regular python Jupyter Notebook. </p>

<p>Is this on the R side or on the Jupyter side? </p>
",363,2,<r><jupyter-notebook><jupyter-irkernel>,2016-12-11 14:36:26
41018240,jupyter dropdown widget trigger action,"<p>I have a seemingly simple intention, just have a dropdown widget in jupyter notebook to trigger some simple action. It sort of works, but following script actually seems to trigger the event three times, what am I doing wrong?</p>

<pre class=""lang-py prettyprint-override""><code>import ipywidgets as widgets
from IPython.display import display, clear_output
vardict = [""var1"",""var2""]
select_variable = widgets.Dropdown(
    options=vardict,
    value=vardict[0],
    description='Select variable:',
    disabled=False,
    button_style=''
)
def get_and_plot(b):
    clear_output
    print(select_variable.value)

display(select_variable)
select_variable.observe(get_and_plot)
</code></pre>

<p>And the output when I select item from dropdown is something like</p>

<pre><code>var1
var2
var2
</code></pre>

<p>and getting longer with each selection. </p>

<p>What I want to get is a way to trigger action (print or something else) only once per selection, how do I achieve this? </p>
",6890,4,<jupyter><ipywidgets>,2016-12-07 13:02:46
41000661,How to use quantmod library in Jupyter R Notebook?,"<p>I need to call quantmod::getSymbols. The function works perfectly in Rstudio, but it doesn't work in Jupyter R Notebook:</p>

<p><a href=""https://i.stack.imgur.com/dMrsh.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/dMrsh.png"" alt=""enter image description here""></a></p>

<p>In terms of Jupyter, I am using Anaconda environment(<a href=""https://www.continuum.io/downloads"" rel=""nofollow noreferrer"">https://www.continuum.io/downloads</a>), with Python 2.7.</p>
",295,0,<r><jupyter-notebook><quantmod><jupyter-irkernel>,2016-12-06 16:52:14
40952166,Linking ipython widget dropdown and slider values,"<p>I ""understand"" how to link a text box to a slider (by ""understand"" I mean how to make it work):</p>

<pre><code>from traitlets import link

a = widgets.FloatText(value=4.)
b = widgets.FloatSlider(min=3,max=7,step=0.23,value=4.)
display(a,b)

mylink = link((a, 'value'), (b, 'value'))
</code></pre>

<p>This results in something like this:</p>

<p><a href=""https://i.stack.imgur.com/hNJfG.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/hNJfG.png"" alt=""linking widgets""></a></p>

<p>But is there any way how I can link a dropdown box, whose values would be <code>list_items = ('case1', 'case2', 'case3')</code> to the <code>FloatSlider</code>, where the corresponding values would be e.g. <code>(3.4, 5.4, 6.7)</code> ?</p>
",2440,1,<python><ipython-notebook><jupyter-notebook><ipywidgets>,2016-12-03 20:27:30
40771929,Issues loading R libraries in Jupyter,"<p>I am trying to load R libraries such as ggplot2, qtlcharts, scatterD3 etc. into my jupyter notebook but getting the follwoing error:</p>

<blockquote>
  <p>Error: package or namespace load failed for 'ggplot2'</p>
</blockquote>

<p>Has anybody faced similar issue? How do we solve it? </p>

<p>Note: I tried reinstalling the libraries (with different CRAN mirrors) and updating all the current packages as well but in vain. </p>
",1150,3,<r><jupyter><jupyter-irkernel>,2016-11-23 18:35:46
40768798,Update dropdown based on selection of another dropdown in ipywidgets,"<p>I have a dropdown menu that shows soms posssible 'cycles'. These are actually .csv files containing some data. Then I have another dropdown that should show all the variables in this .csv file. So this second dropdown should update according to the file selected in the first dropdown. I found <a href=""https://stackoverflow.com/questions/37144216/ipywidgets-update-one-widget-based-on-results-from-another"">a similar</a> 
question and tried to implement this, but it did not work. The second dropdown remains empty. Note that I use pyspark to read the .csv files.</p>

<p><code>Cycles</code> is a tuple containing all the .csv files in my working directory.</p>

<pre><code>scW1 = widgets.Dropdown(description = 'Select file',options = cycles)
scW2 = widgets.Dropdown(description = 'Select variable')

def plotvar(sender):
    df=sc.textFile(str(scW1.value)).map(lambda x: x.split(','))
    header = tuple(df.first())
    print(header)
    with scW2.hold_trait_notifications():
        scW2.options = header

display(scW1)
display(scW2)
</code></pre>

<p>What goes wrong?</p>
",1104,3,<python><widget><ipywidgets>,2016-11-23 15:50:26
40733151,Port exposed by Docker not reachable,"<p>I ran a docker container that exposes port <code>443</code>. <code>docker ps</code> confirms that it is exposed.</p>

<pre><code>~ docker ps -a
CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS               NAMES
42b17c2a4b75        tmp/tmp             ""/usr/bin/tini -- /bi""   57 seconds ago      Up 55 seconds       443/tcp             adoring_austin
</code></pre>

<p>However, <code>netstat</code> doesn't show this port. I cannot reach it from a browser either.</p>

<pre><code>~ netstat -lt
Active Internet connections (only servers)
Proto Recv-Q Send-Q Local Address           Foreign Address         State
tcp        0      0 *:ssh                   *:*                     LISTEN
tcp6       0      0 [::]:ssh                [::]:*                  LISTEN
</code></pre>

<p>The command that I used the run the container is just <a href=""https://github.com/jupyterhub/jupyterhub"" rel=""nofollow noreferrer""><code>JupyterHub</code></a>.</p>

<pre><code>[I 2016-11-22 03:12:11.494 JupyterHub app:643] Writing cookie_secret to /jupyterhub_cookie_secret
[W 2016-11-22 03:12:12.562 JupyterHub app:304]
Generating CONFIGPROXY_AUTH_TOKEN. Restarting the Hub will require restarting the proxy.
Set CONFIGPROXY_AUTH_TOKEN env or JupyterHub.proxy_auth_token config to avoid this message.
[W 2016-11-22 03:12:12.655 JupyterHub app:757] No admin users, admin interface will be unavailable.
[W 2016-11-22 03:12:12.655 JupyterHub app:758] Add any administrative users to `c.Authenticator.admin_users` in config.
[I 2016-11-22 03:12:12.655 JupyterHub app:785] Not using whitelist. Any authenticated user will be allowed.
[I 2016-11-22 03:12:12.671 JupyterHub app:1231] Hub API listening on http://172.17.0.3:8081/hub/
[I 2016-11-22 03:12:12.676 JupyterHub app:968] Starting proxy @ http://*:443/
03:12:12.861 - info: [ConfigProxy] Proxying https://*:443 to http://172.17.0.3:8081
03:12:12.864 - info: [ConfigProxy] Proxy API at http://127.0.0.1:444/api/routes
[I 2016-11-22 03:12:12.883 JupyterHub app:1254] JupyterHub is now running at http://127.0.0.1:443/
</code></pre>

<p>What am I doing wrong here?</p>
",4353,5,<docker><tcp><port><netstat><jupyterhub>,2016-11-22 03:06:48
40725055,Jupyterhub on openshift,"<p>Sorry for a vague and quite open question, but is there any way to install jupyterhub on openshift.com, using a free account? You have to have either python3+nodejs, which is not possible to do in a single cartridge, or a docker container, which is not installed on the openshift. </p>

<p>Maybe you have suggestions for other services that can do that for free for an academic?</p>
",388,-1,<openshift><jupyterhub>,2016-11-21 16:37:59
40700288,Using multiple python version with jupyter,"<p>I am using anaconda installers and have python2 installed. I however, do want to use both python 2 and 3 interchangeably in jupyter notebooks. I read through the instructions provided <a href=""http://ipython.readthedocs.io/en/stable/install/kernel_install.html"" rel=""nofollow noreferrer"">here</a>.</p>

<p>Does it mean, that I do not need to install python3, just the kernel to start using both python2 &amp; 3 in jupyter?</p>
",1265,0,<python-3.x><python-2.x><jupyter-notebook><jupyter><jupyter-irkernel>,2016-11-20 03:09:32
40669271,"After installing R Recommended package, kernel shows error when I use Jupyter Notebook","<pre><code>Package web https://anaconda.org/r/r-recommended

kernel error
Traceback (most recent call last):

  File ""C:\Users\LIU\Anaconda3\lib\site-packages\notebook\base\handlers.py"", line 457, in wrapper

    result = yield gen.maybe_future(method(self, *args, **kwargs))

  File ""C:\Users\LIU\Anaconda3\lib\site-packages\tornado\gen.py"", line 1008, in run

    value = future.result()

  File ""C:\Users\LIU\Anaconda3\lib\site-packages\tornado\concurrent.py"", line 232, in result

    raise_exc_info(self._exc_info)

  File ""&lt;string&gt;"", line 3, in raise_exc_info

  File ""C:\Users\LIU\Anaconda3\lib\site-packages\tornado\gen.py"", line 1014, in run

    yielded = self.gen.throw(*exc_info)

  File ""C:\Users\LIU\Anaconda3\lib\site-packages\notebook\services\sessions\handlers.py"", line 62, in post

    kernel_id=kernel_id))

  File ""C:\Users\LIU\Anaconda3\lib\site-packages\tornado\gen.py"", line 1008, in run

    value = future.result()

  File ""C:\Users\LIU\Anaconda3\lib\site-packages\tornado\concurrent.py"", line 232, in result

    raise_exc_info(self._exc_info)

  File ""&lt;string&gt;"", line 3, in raise_exc_info

  File ""C:\Users\LIU\Anaconda3\lib\site-packages\tornado\gen.py"", line 1014, in run

    yielded = self.gen.throw(*exc_info)

  File ""C:\Users\LIU\Anaconda3\lib\site-packages\notebook\services\sessions\sessionmanager.py"", line 79, in create_session

    kernel_name)

  File ""C:\Users\LIU\Anaconda3\lib\site-packages\tornado\gen.py"", line 1008, in run

    value = future.result()

  File ""C:\Users\LIU\Anaconda3\lib\site-packages\tornado\concurrent.py"", line 232, in result

    raise_exc_info(self._exc_info)

  File ""&lt;string&gt;"", line 3, in raise_exc_info

  File ""C:\Users\LIU\Anaconda3\lib\site-packages\tornado\gen.py"", line 1014, in run

    yielded = self.gen.throw(*exc_info)

  File ""C:\Users\LIU\Anaconda3\lib\site-packages\notebook\services\sessions\sessionmanager.py"", line 92, in start_kernel_for_session

    self.kernel_manager.start_kernel(path=kernel_path, kernel_name=kernel_name)

  File ""C:\Users\LIU\Anaconda3\lib\site-packages\tornado\gen.py"", line 1008, in run

    value = future.result()

  File ""C:\Users\LIU\Anaconda3\lib\site-packages\tornado\concurrent.py"", line 232, in result

    raise_exc_info(self._exc_info)

  File ""&lt;string&gt;"", line 3, in raise_exc_info

  File ""C:\Users\LIU\Anaconda3\lib\site-packages\tornado\gen.py"", line 282, in wrapper

    yielded = next(result)

  File ""C:\Users\LIU\Anaconda3\lib\site-packages\notebook\services\kernels\kernelmanager.py"", line 87, in start_kernel

    super(MappingKernelManager, self).start_kernel(**kwargs)

  File ""C:\Users\LIU\Anaconda3\lib\site-packages\jupyter_client\multikernelmanager.py"", line 110, in start_kernel

    km.start_kernel(**kwargs)

  File ""C:\Users\LIU\Anaconda3\lib\site-packages\jupyter_client\manager.py"", line 243, in start_kernel

    **kw)

  File ""C:\Users\LIU\Anaconda3\lib\site-packages\jupyter_client\manager.py"", line 189, in _launch_kernel

    return launch_kernel(kernel_cmd, **kw)

  File ""C:\Users\LIU\Anaconda3\lib\site-packages\jupyter_client\launcher.py"", line 123, in launch_kernel

    proc = Popen(cmd, **kwargs)

  File ""C:\Users\LIU\Anaconda3\lib\subprocess.py"", line 947, in __init__

    restore_signals, start_new_session)

  File ""C:\Users\LIU\Anaconda3\lib\subprocess.py"", line 1224, in _execute_child

    startupinfo)

FileNotFoundError: [WinError 2]
</code></pre>
",58,1,<r><package><jupyter-notebook><jupyter-irkernel>,2016-11-18 04:15:56
40644469,Is JupyterHub kernel safe across users?,"<p>I'm using JupyterHub to share computational power of a big computer among some users. The software that's primarily used is a <code>ctypes</code> extension Python script that uses a sophisticated C/C++ code. This code isn't invulnerable to memory problems and crashes.</p>

<p><strong>My question is:</strong> If a low-level problem happens with one user and his kernel gets, say, a segmentation fault, will that crash the main server by design and get all users to lose their kernel information? Or is it designed to create a new server for every user that logs in, so that such problems don't happen?</p>
",205,1,<python><c++><c><jupyter-notebook><jupyterhub>,2016-11-16 23:56:37
40594372,How to create a ipywidgets from multiple ones?,"<p>Let's say I want a widget composed of an IntText widget and a DropDown widget which value is a concatened string of those widgets values. How can I do?</p>

<p>Here is an attempt:</p>

<pre><code>import re
import ipywidgets as ipw

from IPython.display import display


class IntMultipliedDropdown:
    _VALUE_PATTERN = re.compile('(?P&lt;num&gt;\d+) (?P&lt;option&gt;\w+-?\w*)')

    def __init__(self, options, option_value, int_value=1):
        self.number = ipw.IntText(int_value)
        self.options = ipw.Dropdown(options=options, value=option_value)
        self.box = ipw.HBox([self.number, self.options])

        self.number.observe(self._on_changes, names='value')
        self.options.observe(self._on_changes, names='value')

        self._handelers = []

    def _on_changes(self, change):
        for handeler in self._handelers:
            handeler(self.value)

    @property
    def value(self):
        return ""{} {}"".format(self.number.value, self.options.value)

    @value.setter
    def value(self, value):
        match = re.search(self._VALUE_PATTERN, value)
        groupdict = match.groupdict()
        self.number.value = groupdict['num']
        self.options.value = groupdict['option']

    def _ipython_display_(self, **kwargs):
        return self.box._ipython_display_(**kwargs)

    def observe(self, handler):
        if handler not in self._handelers:
            self._handelers.append(handler)


mywidget = IntMultipliedDropdown(['apple', 'bed', 'cell'], 'cell')
mywidget.observe(print)

display(mywidget)
print('default value:', mywidget.value)

mywidget.value = '2 bed'
</code></pre>

<p>It works but has drawbacks. First, when I set <code>mywidget.value</code> the observed function is called two times: on number value change and on option value change.</p>

<p>Second and worst is that I cannot use this widget in a Box widget like:</p>

<pre><code>ipw.HBox([ipw.Label('Mylabel'), mywidget])
</code></pre>

<p>Which raises:</p>

<pre><code>ValueError: Can't clean for JSON: &lt;__main__.IntMultipliedDropdown object at 0x7f7d604fff28&gt;
</code></pre>

<p>Is there a better solution?</p>
",2000,0,<python><jupyter-notebook><ipywidgets>,2016-11-14 17:20:44
40556525,Jupyter Notebook Copy mechanism,"<p>I am trying to make a copy of a readonly jupyter notebook (made by setting the chattr <code>i</code> bit with a <code>644</code> permission). The notebook copy fails when the kernel is set to Python2 or Python3. It only opens a blank page. Interestingly a similar notebook with a R kernel successfully makes the copy.</p>

<p><em>Does jupyter kernels have special calls for this <code>make a copy</code> UI?</em></p>

<p>As far as I can tell <code>make a copy</code> triggers <a href=""https://github.com/jupyter/notebook/blob/606b7377ae53dafebaee77f184194b8466544c0b/notebook/static/notebook/js/notebook.js#L2778"" rel=""nofollow noreferrer"">notebook.js</a> which is handled by <a href=""https://github.com/jupyter/notebook/blob/179bb24fbf79d153812858126127a91431da3319/notebook/services/contents/handlers.py#L147"" rel=""nofollow noreferrer"">handler.py</a>. I put a listener in <code>handler.py</code> to debug this but it seems like the make a copy is not even entering the context. I tried putting in a alert box in the <code>notebook.js</code> as well before <a href=""https://github.com/jupyter/notebook/blob/606b7377ae53dafebaee77f184194b8466544c0b/notebook/static/notebook/js/notebook.js#L2781"" rel=""nofollow noreferrer"">line 2781</a>, but that didn't seem to do anything. Any pointers to debug this scenario or how the copy code gets called?</p>

<p>Relevant information:</p>

<ol>
<li>Jupyter is being served via <code>jupyterhub==0.6.1</code></li>
<li><code>jupyter==1.0.0</code></li>
<li><code>ipykernel==4.3.1</code></li>
</ol>
",140,1,<python-3.x><jupyter-notebook><jupyter><jupyterhub>,2016-11-11 21:32:20
40377072,"Using `ipywidgets.iteract`, is it possible to locate the output beside the widgets and not below them?","<p>When using the <a href=""http://ipywidgets.readthedocs.io/en/latest/examples/Using%20Interact.html"" rel=""nofollow noreferrer""><code>ipywidgets.interact</code></a> function in Jupyter notebooks, the output is always below the widgets. Is it possible to show it besides the widgets?
In other words, instead of this:
<a href=""https://i.stack.imgur.com/CJnHp.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/CJnHp.png"" alt=""before: the output is below the widget""></a></p>

<p>(taken from <a href=""https://github.com/ipython/ipywidgets/blob/master/docs/source/examples/Image%20Browser.ipynb"" rel=""nofollow noreferrer"">this example</a>), </p>

<p>I would like to see something like this:</p>

<p><a href=""https://i.stack.imgur.com/7NHTL.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/7NHTL.png"" alt=""after: the output is on the right of the widget""></a></p>
",214,1,<python-3.x><ipython><jupyter-notebook><jupyter><ipywidgets>,2016-11-02 10:01:26
40360129,How to simulate Arima-Garch models in R?,"<p>I was trying to find how may I simulate (i.e. generate ARIMA in the mean model and a GARCh in the variance model) in R. </p>

<p>I tried searching online but I only found how to fit such a model using </p>

<pre><code>spec &lt;- ugarchspec( variance.model = list(   
                                            model = ""sGARCH"", 
                                             garchOrder = c(1, 1),
                                             submodel = NULL, 
                                             external.regressors = NULL, 
                                             variance.targeting = FALSE),

                                             mean.model = list(  armaOrder = c(1, 1), 
                                                                 include.mean = TRUE, 
                                                                 archm = FALSE,
                                                                 archpow = 1, 
                                                                 arfima = FALSE, 
                                                                 external.regressors = NULL, 
                                                                 archex = FALSE),
                                                                 distribution.model = ""norm"", 
                                                                 start.pars = list(), 
                                                                 fixed.pars = list()
                    )
</code></pre>

<p>Then I write </p>

<pre><code>garch &lt;- ugarchfit(spec = spec, data = data, solver.control = list(trace=0))
</code></pre>

<p>This is obviously fitting and not simulating i.e. generating random variables.</p>
",1882,0,<r><statistics><time-series><jupyter-irkernel>,2016-11-01 12:31:46
40122837,Interactive matplotlib using ipywidgets,"<p>I want to implement an <em>interactive plot</em> using <strong>Matplotlib</strong> and <strong>ipywidgets</strong> in IPython (python3). So, how I can do this efficiently (change smoothly without delay)?</p>

<p>And another question is why this code works?!</p>

<pre><code>from ipywidgets import *
import numpy as np
import matplotlib.pyplot as plt
%matplotlib inline

x = np.linspace(0, 2 * np.pi)

def update(w = 1.0):
    fig = plt.figure()
    ax = fig.add_subplot(1, 1, 1)
    ax.plot(x, np.sin(w * x))

    fig.canvas.draw()

interact(update);
</code></pre>

<p><a href=""https://i.stack.imgur.com/4ROoi.png"" rel=""noreferrer""><img src=""https://i.stack.imgur.com/4ROoi.png"" alt=""enter image description here""></a></p>

<p>But, this doesn't work?!</p>

<pre><code>from ipywidgets import *
import numpy as np
import matplotlib.pyplot as plt
%matplotlib inline

x = np.linspace(0, 2 * np.pi)
fig = plt.figure()
ax = fig.add_subplot(1, 1, 1)
line, = ax.plot(x, np.sin(x))

def update(w = 1.0):
    line.set_ydata(np.sin(w * x))
    fig.canvas.draw()

interact(update);
</code></pre>

<p><a href=""https://i.stack.imgur.com/fWQch.png"" rel=""noreferrer""><img src=""https://i.stack.imgur.com/fWQch.png"" alt=""enter image description here""></a></p>
",14066,18,<python><matplotlib><ipython><jupyter-notebook><ipywidgets>,2016-10-19 05:25:48
40093690,Unselect every thing in ipython widget,"<p>In a <code>SelectMultiple</code> widget in iPython, is it possible to select nothing (or unselect everything)?
There doesn't seem to be any option like that in the documentation.</p>
",511,0,<ipython><jupyter><jupyter-notebook><ipywidgets>,2016-10-17 18:57:11
39943862,why tseries package stop working on Jupyter notebook after it was running perfectly?,"<p>I am downloading packages to R via Jupyter notebook using the following command</p>

<pre><code>install.packages('tseries', repos='http://cran.us.r-project.org')
</code></pre>

<p>this was working perfectly well until right now it just does not like to work. </p>

<p>i then coded <code>library(tseries)</code></p>

<p>the result was </p>

<pre><code>Error in library(tseries): there is no package called 'tseries'
Traceback:

1. library(tseries)
2. stop(txt, domain = NA)
</code></pre>

<p>Can someone help me with this? </p>
",228,0,<r><jupyter-notebook><jupyter-irkernel>,2016-10-09 12:55:21
39914819,conda build r-ldavis/ not working,"<p>I am new to jupyter, and I am looking to install an R package (tseries) that is available on CRAN</p>

<p>I was trying to follow a question that was raised, but I think I am getting a different problem. </p>

<p>I was originally following this link</p>

<p><a href=""https://stackoverflow.com/questions/34705917/conda-how-to-install-r-packages-that-are-not-available-in-r-essentials"">conda - How to install R packages that are not available in &quot;R-essentials&quot;?</a></p>

<p>But it seems obvious that the answer direct me to another link which is </p>

<p><a href=""https://www.continuum.io/content/conda-data-science"" rel=""nofollow noreferrer"">https://www.continuum.io/content/conda-data-science</a></p>

<p>under the Building a conda R package </p>

<p>They said to run </p>

<pre><code>conda skeleton cran ldavis
</code></pre>

<p>and then I got the following </p>

<pre><code>C:\Users\Rami&gt;conda skeleton cran ldavis
Tip: install CacheControl (conda package) to cache the CRAN metadata
Fetching metadata from http://cran.r-project.org/
Tip: install CacheControl (conda package) to cache the CRAN metadata
Traceback (most recent call last):
  File ""d:\Users\Rami\Anaconda3\Scripts\conda-skeleton-script.py"", line 5, in &lt;module&gt;
    sys.exit(conda_build.cli.main_skeleton.main())
  File ""d:\Users\Rami\Anaconda3\lib\site-packages\conda_build\cli\main_skeleton.py"", line 65, in main
    return execute(sys.argv[1:])
  File ""d:\Users\Rami\Anaconda3\lib\site-packages\conda_build\cli\main_skeleton.py"", line 61, in execute
    api.skeletonize(package, args.repo, config=config)
  File ""d:\Users\Rami\Anaconda3\lib\site-packages\conda_build\api.py"", line 192, in skeletonize
    recursive=recursive, config=config, **kwargs)
  File ""d:\Users\Rami\Anaconda3\lib\site-packages\conda_build\skeletons\cran.py"", line 527, in skeletonize
    raise RuntimeError(""directory already exists: %s"" % dir_path)
RuntimeError: directory already exists: .\r-ldavis
</code></pre>

<p>Please help me in steps as I am really new to this on windows 10</p>
",148,0,<r><jupyter-notebook><conda><jupyter-irkernel>,2016-10-07 10:14:40
39905024,How to get wider text for Checkbox widget?,"<p>How can I configure the <code>ipywidgets</code> Checkbox for long text strings as in,</p>

<pre><code> c = Checkbox(description=' this is some very long very long text',value=False)
</code></pre>

<p>and not get the text to be squeezed and wrapped in the encompassing Jupyter notebook?</p>

<p>Thanks!</p>
",4226,5,<jupyter-notebook><ipywidgets>,2016-10-06 20:23:11
39843909,"JupyterHub openssl self signed cert ""Error: error:0906D06C:PEM routines:PEM_read_bio:no start line""","<p>Trying to configure at JupyterHub on a AWS instance using a self signed OPENSSL key/cert pair. I have tried several openssl configurations, and continued to have this same error.</p>

<pre><code>jupyterhub
[I 2016-10-04 03:38:24.090 JupyterHub app:622] Loading cookie_secret from           /home/ubuntu/jupyterhub_cookie_secret
[W 2016-10-04 03:38:24.123 JupyterHub app:304] 
    Generating CONFIGPROXY_AUTH_TOKEN. Restarting the Hub will require     restarting the proxy.
    Set CONFIGPROXY_AUTH_TOKEN env or JupyterHub.proxy_auth_token config to avoid this message.

[W 2016-10-04 03:38:24.127 JupyterHub app:757] No admin users, admin interface will be unavailable.
[W 2016-10-04 03:38:24.127 JupyterHub app:758] Add any administrative users to `c.Authenticator.admin_users` in config.
[I 2016-10-04 03:38:24.127 JupyterHub app:785] Not using whitelist. Any authenticated user will be allowed.
[I 2016-10-04 03:38:24.139 JupyterHub app:1231] Hub API listening on http://127.0.0.1:8081/hub/
[I 2016-10-04 03:38:24.143 JupyterHub app:968] Starting proxy @ http://*:8000/

crypto.js:128
      c.context.setKey(options.key);
            ^
Error: error:0906D06C:PEM routines:PEM_read_bio:no start line
    at Object.exports.createCredentials (crypto.js:128:17)
    at Server (tls.js:1176:28)
    at new Server (https.js:35:14)
    at Object.exports.createServer (https.js:54:10)
    at new ConfigurableProxy (/usr/lib/node_modules/configurable-http-    proxy/lib/configproxy.js:174:35)
    at Object.&lt;anonymous&gt; (/usr/lib/node_modules/configurable-http-proxy/bin/configurable-http-proxy:189:13)
    at Module._compile (module.js:456:26)
    at Object.Module._extensions..js (module.js:474:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
[C 2016-10-04 03:38:25.158 JupyterHub app:1237] Failed to start proxy
    Traceback (most recent call last):
      File ""/home/ubuntu/anaconda3/lib/python3.5/site-packages/jupyterhub/app.py"", line 1235, in start
    yield self.start_proxy()
      File ""/home/ubuntu/anaconda3/lib/python3.5/site-packages/jupyterhub/app.py"", line 989, in start_proxy
    _check()
      File ""/home/ubuntu/anaconda3/lib/python3.5/site-packages/jupyterhub/app.py"", line 985, in _check
        raise e
    RuntimeError: Proxy failed to start with exit code 8
</code></pre>

<p>Generated the current pair using this command</p>

<pre><code>openssl req -new -x509 -days 365 -utf8 -out mycert.pem -keyout mykey.pem
</code></pre>

<p>Verified that it is in fact PEM format</p>

<pre><code>openssl x509 -in mycert.pem -text -noout
Certificate:
    Data:
        Version: 3 (0x2)
        Serial Number:
            ec:16:a1:7d:64:6b:90:42
    Signature Algorithm: sha256WithRSAEncryption
        Issuer: C=SG, ST=SG, L=Singapore, O=GoldenCompass
        Validity
            Not Before: Oct  4 02:58:55 2016 GMT
            Not After : Oct  4 02:58:55 2017 GMT
        Subject: C=SG, ST=SG, L=Singapore, O=GoldenCompass
        Subject Public Key Info:
            Public Key Algorithm: rsaEncryption
                Public-Key: (2048 bit)
&lt;snippet&gt;
</code></pre>

<p>jupyterhub_config.py</p>

<pre><code>&lt;snippet&gt;
## Path to SSL certificate file for the public facing interface of the proxy
#  
#  Use with ssl_key
c.JupyterHub.ssl_cert = '/home/ubuntu/mykey.pem'

## Path to SSL key file for the public facing interface of the proxy
#  
#  Use with ssl_cert
c.JupyterHub.ssl_key = '/home/ubuntu/mycert.pem'

&lt;snippet&gt;
</code></pre>
",765,0,<python><ssl><jupyter><jupyter-notebook><jupyterhub>,2016-10-04 03:55:12
39834831,Jupyter dashboard server - part of the stack or traffic not working,"<p>I'm having trouble understanding which part of the jupyter dashboard server doesn't work.
It seems like the dashboard server is working, the kernel gateway is working and the kernel gets started up, but for some reason after the startup the websocket traffic to kernel gets 404 as a response.</p>

<p>I've tried to do a curl request on the kernel gateway, but curl doesn't support the 'ws' protocol.</p>

<p>How can I debug this further? All the details below.</p>

<p>I have a VM (debian jessie) with this Apache configuration:</p>

<pre><code>ProxyPreserveHost on
ProxyPass ""/"" ""http://127.0.0.1:3000/""
ProxyPassReverse ""/"" ""http://127.0.0.1:3000/""
</code></pre>

<p>I have the dashboard server, which is responding:</p>

<pre><code>GET /dashboards/Environment_variables 200 39.408 ms - 2400
GET /css/style.css 200 1.688 ms - 186626
GET /components/require.js 200 3.943 ms - 86262
GET /components/dashboard.js 200 1.351 ms - 788654
GET /components/fonts/fontawesome-webfont.woff2?v=4.6.3 304 0.689 ms - -
GET /components/dashboard.js.map 304 0.621 ms - -
POST /api/kernels?1475506860562 201 923.933 ms - 62
GET /api/kernels/d7681c2f-b8f9-4b19-9893-6bd6022d0e77/channels?session_id=ad17021f13dd752eb2e687b4a78fee64 404 2.936 ms - 1021
GET /api/kernels/d7681c2f-b8f9-4b19-9893-6bd6022d0e77/channels?session_id=ad17021f13dd752eb2e687b4a78fee64 404 3.703 ms - 1021
</code></pre>

<p>Albeit with the 404 in the end.</p>

<p>Then I have the kernel gateway running:</p>

<pre><code>[KernelGatewayApp] The Jupyter Kernel Gateway is running at: http://127.0.0.1:8888
[KernelGatewayApp] Native kernel (python3) available from /opt/anaconda3/lib/python3.5/site-packages/ipykernel/resources
[KernelGatewayApp] Starting kernel: ['/opt/anaconda3/bin/python', '-m', 'ipykernel', '-f', '/home/sandman/.local/share/jupyter/runtime/kernel-d7681c2f-b8f9-4b19-9893-6bd6022d0e77.json']
[KernelGatewayApp] Connecting to: tcp://127.0.0.1:52565
[KernelGatewayApp] Kernel started: d7681c2f-b8f9-4b19-9893-6bd6022d0e77
[KernelGatewayApp] Kernel args: {'kernel_name': 'python3'}
[I 161003 16:01:01 web:1971] 201 POST /api/kernels (127.0.0.1) 917.05ms
</code></pre>

<p>Which sees the request for a kernel and as far as I understand, starts it up.</p>

<p>But the browser doesn't see it:</p>

<pre><code>Environment_variables   200 document    Other   1.2 KB  365 ms  
style.css   200 stylesheet  Environment_variables:7 29.2 KB 259 ms  
require.js  200 script  Environment_variables:64    21.0 KB 325 ms  
dashboard.js    200 script  Environment_variables:65    214 KB  989 ms  
fontawesome-webfont.woff2?v=4.6.3   304 font    Environment_variables:64    216 B   82 ms   
kernels?1475506860562   201 xhr index.js:178    395 B   1.01 s  
cursor.png  200 png middlemouse.js:53   (from cache)    2 ms    
channels?session_id=ad17021f13dd752eb2e687b4a78fee64    404 websocket   Other   0 B 82 ms   
channels?session_id=ad17021f13dd752eb2e687b4a78fee64    404 websocket   Other   0 B 82 ms   
</code></pre>

<p><a href=""https://i.stack.imgur.com/vCUvZ.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/vCUvZ.png"" alt=""enter image description here""></a></p>

<p>I also tried starting up the kernel gateway in http mode, but that just gave me an error:</p>

<pre><code>$ jupyter kernelgateway --KernelGatewayApp.api=kernel_gateway.notebook_http --debug
Traceback (most recent call last):
  File ""/opt/anaconda3/bin/jupyter-kernelgateway"", line 11, in &lt;module&gt;
    sys.exit(launch_instance())
  File ""/opt/anaconda3/lib/python3.5/site-packages/jupyter_core/application.py"", line 267, in launch_instance
    return super(JupyterApp, cls).launch_instance(argv=argv, **kwargs)
  File ""/opt/anaconda3/lib/python3.5/site-packages/traitlets/config/application.py"", line 652, in launch_instance
    app.initialize(argv)
  File ""/opt/anaconda3/lib/python3.5/site-packages/kernel_gateway/gatewayapp.py"", line 298, in initialize
    self.init_configurables()
  File ""/opt/anaconda3/lib/python3.5/site-packages/kernel_gateway/gatewayapp.py"", line 352, in init_configurables
    self.personality = func(parent=self, log=self.log)
  File ""/opt/anaconda3/lib/python3.5/site-packages/kernel_gateway/notebook_http/__init__.py"", line 144, in create_personality
    return NotebookHTTPPersonality(*args, **kwargs)
  File ""/opt/anaconda3/lib/python3.5/site-packages/kernel_gateway/notebook_http/__init__.py"", line 25, in __init__
    self.api_parser = func(parent=self, log=self.log, kernelspec=self.parent.kernel_manager.seed_kernelspec, notebook_cells=self.parent.seed_notebook.cells)
AttributeError: 'NoneType' object has no attribute 'cells'
</code></pre>
",429,0,<jupyter><jupyter-irkernel>,2016-10-03 15:11:15
39805798,R inline plots in Jupyter,"<p>I am trying to run R in Jupyter through the <a href=""http://mybinder.org/"" rel=""nofollow noreferrer"">Binder</a> project interface, though the question may be more general. For instance it question may be related the <a href=""https://stackoverflow.com/questions/32821369/how-to-get-ipython-irkernel-to-plot-graphics-inline"">long-dormant one</a> about Jupyter on Mac OS. I have the r-essentials, r-rzmq and r-repr added through <a href=""https://anaconda.org/r"" rel=""nofollow noreferrer"">conda</a>. IRKernel and IRDisplay are part of r-essentials. However, when I try to plot anything, there is no output. Indeed, it looks like there are no graphics output options. What am I missing here? There is no problem in python notebooks, but no luck with R.</p>

<pre><code>capabilities()
jpeg FALSE
png FALSE
tiff FALSE
tcltk TRUE
X11 FALSE
aqua FALSE
http/ftp TRUE
sockets TRUE
libxml TRUE
fifo TRUE
cledit FALSE
iconv TRUE
NLS TRUE
profmem TRUE
cairo FALSE
ICU TRUE
long.double TRUE
libcurl TRUE
</code></pre>
",1022,0,<r><jupyter><jupyter-irkernel>,2016-10-01 11:00:54
39720886,Download a custom dataset in Azure ML Jupyter/iPython Notebook using R,"<p>I need to download a custom dataset in an Azure Jupyter/iPython Notebook.
My ultimate goal is to install an R package. To be able to do this the package (the dataset) needs to be downloaded in code. I followed the steps outlined by Andrie de Vries in the comments section of this post: <a href=""https://blogs.technet.microsoft.com/machinelearning/2016/03/30/jupyter-notebooks-with-r-in-azure-ml-studio-2/#comments"" rel=""nofollow"">Jupyter Notebooks with R in Azure ML Studio</a>.</p>

<p>Uploading the package as a ZIP file was without problems, but when I run the code in my notebook I get an error:</p>

<blockquote>
  <p>Error in curl(x$DownloadLocation, handle = h, open = conn): Failure
  when receiving data from the peer Traceback:</p>
  
  <ol>
  <li>download.datasets(ws, ""plotly_3.6.0.tar.gz.zip"")</li>
  <li>lapply(1:nrow(datasets), function(j) get_dataset(datasets[j,   .     ], ...))</li>
  <li>FUN(1L[[1L]], ...)</li>
  <li>get_dataset(datasets[j, ], ...)</li>
  <li>curl(x$DownloadLocation, handle = h, open = conn)</li>
  </ol>
</blockquote>

<p>So I simplified my code into:</p>

<pre><code>library(""AzureML"")
ws &lt;- workspace()
ds &lt;- datasets(ws)
ds$Name

data &lt;- download.datasets(ws, ""plotly_3.6.0.tar.gz.zip"")
head(data)
</code></pre>

<p>Where ""plotly_3.6.0.tar.gz.zip"" is the name of my dataset of data type ""Zip"".
Unfortunately this results in the same error.
To rule out data type issues I also tried to download another dataset of mine which is of data type ""Dataset"". Also the same error.</p>

<p>Now I change the dataset I want to download to one of the sample datasets of AzureML Studio.
""text.preprocessing.zip"" is of datatype Zip</p>

<pre><code>data &lt;- download.datasets(ws, ""text.preprocessing.zip"")
</code></pre>

<p>""Flight Delays Data"" is of datatype GenericCSV</p>

<pre><code>data &lt;- download.datasets(ws, ""Flight Delays Data"")
</code></pre>

<p>Both of the sample datasets can be downloaded without problems.</p>

<p><strong>So why can't I download my own saved dataset?</strong></p>

<p>I could not find anything helpful in the documentation of the download.datasets function. Not on <a href=""https://www.rdocumentation.org/packages/AzureML/versions/0.2.10/topics/download.datasets?"" rel=""nofollow"">rdocumentation.org</a>, nor on <a href=""https://cran.r-project.org/web/packages/AzureML/AzureML.pdf"" rel=""nofollow"">cran.r-project.org (page 17-18)</a>.</p>
",709,0,<r><azure><jupyter-notebook><jupyter-irkernel>,2016-09-27 09:22:31
39676933,Create a popup widget in IPython,"<p>I'm trying to create a Popup widget in Jupyter as described in <a href=""https://youtu.be/o7Tb7YhJZR0?t=26m21s"" rel=""nofollow"">this vid</a>: </p>

<pre><code>from IPython.html import widgets
</code></pre>

<p>which gives the following warning: </p>

<blockquote>
  <p>ShimWarning: The <code>IPython.html</code> package has been deprecated. You should import from <code>notebook</code> instead. <code>IPython.html.widgets</code> has moved to <code>ipywidgets</code>. ""<code>IPython.html.widgets</code> has moved to <code>ipywidgets</code>.""</p>
</blockquote>

<p>However, <code>ipywidgets</code> doesn't have a popup widget and there is nothing in <a href=""https://ipywidgets.readthedocs.io/en/latest/"" rel=""nofollow"">its docs</a>. (By the way, <code>IPython.html.widgets</code> doesn't have a popup widget either)</p>

<p>How can I create a popup widget in jupyter?</p>

<hr>

<p><sub><strong>Versions</strong>:<br>
Jupyter 1.0.0<br>
IPython 5.1.0</sub></p>
",9598,5,<python><popup><jupyter><jupyter-notebook><ipywidgets>,2016-09-24 13:35:56
39495994,Uploading files using Browse Button in Jupyter and Using/Saving them,"<p>I came across <a href=""https://github.com/peteut/ipython-file-upload/blob/master/README.rst"" rel=""noreferrer"">this snippet</a> for uploading files in Jupyter however I don't know how to save this file on the machine that executes the code or how to show the first 5 lines of the uploaded file. Basically I am looking for proper commands for accessing the file after it has been uploaded:</p>

<pre><code>import io
from IPython.display import display
import fileupload

def _upload():

    _upload_widget = fileupload.FileUploadWidget()

    def _cb(change):
        decoded = io.StringIO(change['owner'].data.decode('utf-8'))
        filename = change['owner'].filename
        print('Uploaded `{}` ({:.2f} kB)'.format(
            filename, len(decoded.read()) / 2 **10))

    _upload_widget.observe(_cb, names='data')
    display(_upload_widget)

_upload()
</code></pre>
",27846,9,<python><file-upload><ipython><jupyter-notebook><ipywidgets>,2016-09-14 17:01:45
39423491,Error in if (download_method_secure()) from installing native R kernel for Jupyter,"<p>I tried to install <a href=""https://irkernel.github.io/installation/"" rel=""nofollow"">R Kernel</a> to my Jupyter notebook on Windows from</p>

<pre><code>devtools::install_github('IRkernel/IRkernel')
</code></pre>

<p>but I ran into this error</p>

<pre><code>Error in if (download_method_secure()) { :
missing value where TRUE/FALSE needed
</code></pre>

<p>Any suggestions on how to fix it will be appreciated.</p>
",261,4,<jupyter-irkernel>,2016-09-10 06:58:00
39413786,Can I make an ipywidget floatslider with a list of values?,"<p>I would like to make an ipywidget floatslider, but passing it a list of values, rather than a range and step.  Is there a way to do this, or is making a dropdown widget the only option?</p>
",1362,3,<python><jupyter><ipywidgets>,2016-09-09 14:21:15
39397759,How to use interactive with a Box containing widgets?,"<p>Using <code>interactive</code> is fairly simple with multiple widgets, for example:</p>

<pre><code>interactive(foo, w1=widget1, w2=widget2, ...)
</code></pre>

<p>However I would like to layout these widgets in a specific manner, using combinations of VBox and HBox. Question is, how can I use interative with a box? </p>

<p>I have tried a couple of ways such as calling interactive with the widgets of the Box then displaying the box itself but that does not seem to work.</p>
",6498,8,<ipywidgets>,2016-09-08 18:21:55
39334589,Execute algorithm step by step in Jupyter,"<p>I am trying to show the execution of a Python program in Jupyter, step by step. For example, I can visualize the value of a variable in a program as in the following toy program:</p>

<pre><code>from IPython.display import display, clear_output
from time import sleep
def sum_first_integers(n):
    res = 0
    for i in range(n+1):
        res += i
        clear_output(wait=True)
        display(res)
        sleep(.5)
    return res
</code></pre>

<p>This shows the value of <code>res</code> at each step of the algorithm, and I added a <code>sleep(.5)</code> to be able to actually view the execution of the algorithm. My question is whether there exists a better way of performing this visualization:</p>

<ul>
<li>Is it possible (with <code>ipywidgets</code> for instance) to make a button ""Next step"", such that one needs to hit the button before the loop continues to its next step?</li>
<li>Is it possible to add other buttons such as ""Run"" &amp; ""Stop"" such that when ""Run"" is clicked, the algorithm runs (with for example some speed adjustment that would use <code>sleep</code>), and when ""Stop"" is clicked the algorithm is stopped?</li>
</ul>
",1043,3,<python><jupyter-notebook><ipywidgets>,2016-09-05 16:31:03
39334338,Jupyter: embed live interactive widgets,"<p>According to the Jupyter blog <a href=""http://blog.jupyter.org/2016/04/22/ipywidgets5/"" rel=""noreferrer"">here</a>, it is now possible to embed interactive widgets in a static webpage:</p>

<blockquote>
  <p>Live interactive widgets can now be embedded into static web pages or blogs by inserting an html snippet containing the serialized widget state. This also works with custom widget libraries. See <a href=""http://jupyter.org/embed-jupyter-widgets.html"" rel=""noreferrer"">http://jupyter.org/embed-jupyter-widgets.html</a>.</p>
</blockquote>

<p>When I open the example above, in firefox or chrome, I get the interactive widgets alright! </p>

<p>However, if I create a new notebook with the same bit of python code, save the notebook as html, and then copy-paste the embeddable HTML snippet to render the interactive widgets, it is not working. At best I obtain an image of the widget state, but nothing interactive.</p>

<p>Has anyone managed to replicate the HTML page with interactive widgets? Is there something that I am missing?</p>
",6219,17,<python-3.x><ipython><jupyter><jupyter-notebook><ipywidgets>,2016-09-05 16:13:09
39310156,Sharing Interactive IPython/Jupyter Notebooks for Non-Technical Users,"<p>Is there an optimal way to share/serve a readonly-ish Jupyter notebooks with the input code cells hidden, but connected to a live kernel so users can interact with widgets? </p>

<p>I understand there are ways to embed data for widgets, but often the widgets require rerunning a query against a larger data sets.</p>

<p>I've recently started learning to use widgets and they'd be really useful to share interactive data with our non-technical staff, but I haven't figured out a good way to do so yet. </p>

<p>Having this capability would also reduce the desire for expensive tools like Tableau. </p>
",2087,4,<jupyter-notebook><ipywidgets><jupyterhub>,2016-09-03 18:33:14
39279065,How to update plot characteristics (hovertool details and x_range) in a bokeh plot multiple times?,"<p>I have a bokeh plot that I would like to update the ranges (x_range and y_range) as well as the hovertool details (field names, etc.) when I update the source data in the plot. The things I've tried haven't worked yet. Any help would be appreciated. Here's an example of what I've tried.  </p>

<pre><code>def update_plot(*args):
    source = select_data();

    # Set ranges (not working)
    p.x_range = Range1d(0, source['x'].max())
    p.y_range = Range1d(0, source['y'].max())

    # How to change hovertool here?

figureTools = [HoverTool()]
p = figure(plot_height=600, plot_width=700, title='', tools=figureTools)
p.circle(x='x', y='y', source=source, line_color=None)

widget = widgets.Dropdown(options=['1', '2', '3'])
widget.observe(update_plot, 'value')

update_plot();
show(p);
</code></pre>
",399,0,<python><jupyter><bokeh><ipywidgets>,2016-09-01 19:02:53
39258580,iPyWidget with date slider?,"<p>I am wondering if there's an easy way to build an iPyWidget with a datetime slider. Right now it is easy to slide over integer or floating point ranges (e.g. numbers 1-10, decimals 0.01, 0.02, ...). </p>

<p>I imagine you could convert dates to floats or integers, build some sort of slider using these, and then convert back to dates for the display labels on the slider. However, this seems clunky. Does anyone have a smoother solution? </p>
",16948,15,<python><jupyter-notebook><ipython><jupyter><ipywidgets>,2016-08-31 20:36:41
39065074,Obtaining values from ipywidgets.widgets.SelectMultiple,"<p>I am not able to get the values from a MultipleSelect widget after changing the initial selection. The selection looks fine, but the values do not show. The code to create the SelectMultiple widget:</p>

<pre><code>from ipywidgets import widgets
from IPython.display import display
w = widgets.SelectMultiple(description=""Fruits"",
options=['Apples', 'Oranges', 'Pears'])
display(w)
</code></pre>

<p>The selection widget appears as expected, and if nothing is done with it, a subsequent <code>w.value</code> correctly returns the visual selection (for me, this is the last option, 'Pears'). 
However, after making a selection by mouse (say, selecting 'Apples' or 'Apples' and 'Oranges'), <code>w.value</code> returns an empty tuple. </p>

<p>The exact same code with <code>widgets.SelectMultiple</code> replaced with <code>widgets.Dropdown</code> works as expected (<code>w.value</code> showing the selected value, also after changing the selection). </p>

<p>What am I doing wrong?</p>
",4883,4,<python><jupyter-notebook><ipywidgets>,2016-08-21 14:04:01
38920578,Python Jupyter Notebook Ipywidget Break a loop,"<p>I'm trying, on Ipython notebook, to create graphs using plot.ly offline updated every ten seconds.</p>

<p>So I've put in an infinite loop a method creating and displaying the graph, wait for ten seconds with sleep, then clear_output()</p>

<p>I'm trying to control this infinite loop with a widget Interactive</p>

<pre><code>def stopSeries(self, active):
    if (active == True):
        current_time = datetime.datetime.now(tzlocal()) - datetime.timedelta(minutes=15)
        self.launchSeries(current_time.isoformat(), """", """", """", """", self.sensibility)
    time.sleep(self.delay)
    clear_output()
    self.on = active
    self.w.close()
    del self.w

def autoSeries(self, sensibility, delay):
    self.sensibility = sensibility
    self.delay = int(delay)
    while (self.on):
        self.w = interactive(self.stopSeries, active=self.on)
        display(self.w)

def autointeractSeries(self): 
    w = interactive(self.autoSeries, sensibility = FloatSlider(min=0,max=10,step=0.1,value=1), delay = ""10"", __manual=True)
    display(w)
</code></pre>

<p>Each 10 seconds, the check box fills again and the loop continue, I cant manage to break the loop, the self.on = active doesn't change self.on value</p>
",875,2,<python><ipython><jupyter-notebook><ipywidgets>,2016-08-12 14:37:51
38906333,Jupyter Notebook: How to change spacing between Text objects inside HBox?,"<p>Say I have the following code in a cell in the Jupyter Notebook:</p>

<pre><code>from ipywidgets.widgets import HBox, Text
from IPython.display import display

text1 = Text(description = ""text1"", width = 100)
text2 = Text(description = ""text2"", width = 100)
text3 = Text(description = ""text3"", width = 100)
text4 = Text(description = ""text4"", width = 100)
text5 = Text(description = ""text5"", width = 100)
display(HBox((text1, text2, text3, text4, text5)))
</code></pre>

<p>It produces the following output:</p>

<p><a href=""https://i.stack.imgur.com/lxMKr.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/lxMKr.png"" alt=""enter image description here""></a></p>

<p>As you can see, there is a ton of unnecessary spacing between the Text objects. How do I change the spacing so that they stay within the cell?</p>
",5110,3,<python><jupyter><ipywidgets>,2016-08-11 21:20:24
38777378,Jupyterhub Notebook doesn't recognize Python modules,"<p>I'm trying to run Jupyterhub on a Ubuntu 14.04 VM. I've successfully done this before on a similar Amazon EC2 instance, but for some reason it's not cooperating with me here.</p>

<p>I've installed both the Python 27 and Python 35 Anaconda packages, so I expect to be able to access libraries like <code>matplotlib</code> and <code>numpy</code>. </p>

<p>When I use Python from the command line, I can successfully import <code>matplotlib</code>:</p>

<pre><code>$ python3
&gt;&gt;&gt; import matplotlib
&gt;&gt;&gt; # no error
</code></pre>

<p>However, when I try and import <code>matplotlib</code> from an iPython notebook inside of Jupyterhub, I'm told no such module exists:</p>

<pre><code>import matplotlib
-----------------------
ImportError
...
ImportError: No module named 'matplotlib'
</code></pre>

<p>Why does Jupyterhub not recognize the module despite my being able to use it through other means? </p>
",458,0,<python><matplotlib><python-import><jupyter><jupyterhub>,2016-08-04 21:03:06
38729238,R Jupyter notebook in Mac doesn't display some errors,"<p>I installed R, Anaconda and Jupyter on a Mac (OSX El Capitan). While everything else works well, I've noticed the Jupyter Notebooks doesn't display some error messages, at least some of the errors from ggplot2 and Dplyr.</p>

<p>For instance the following R code is incorrect:</p>

<pre><code>library(""ggplot2"")
ggplot(c(1,2,3),c(4,5,6))
</code></pre>

<p>And on the terminal I get the following error:</p>

<pre><code>Error: Mapping should be created with `aes() or `aes_()`.
</code></pre>

<p>But R on Jupyter doesn't display any error.</p>
",130,2,<r><macos><jupyter><jupyter-notebook><jupyter-irkernel>,2016-08-02 19:46:23
38566767,%R magic no longer works in IPython or Jupyter following update to Canopy Ver 1.7.4.3348,"<p>Previously %R and %%R magics were working in IPython and Jupyter python notebooks.
The R terminal version is:</p>

<pre><code>R version 3.3.1 (2016-06-21) -- ""Bug in Your Hair""
Copyright (C) 2016 The R Foundation for Statistical Computing
Platform: x86_64-apple-darwin13.4.0 (64-bit)
</code></pre>

<p>After upgrading to Version 1.7.4.3348 in Enthought Canopy, the notebooks and IPython no longer work. I have tried reinstalling following <a href=""https://stackoverflow.com/questions/35420680/installing-rkernel"">Installing RKernel</a> and <a href=""http://irkernel.github.io/installation/"" rel=""nofollow noreferrer"">http://irkernel.github.io/installation/</a>, which worked before. I run the command to load the R-extension as per</p>

<pre><code>%load_ext rpy2.ipython
</code></pre>

<p>I get the error message as follows: </p>

<pre><code>---------------------------------------------------------------------------
AttributeError                            Traceback (most recent call last)
&lt;ipython-input-2-691c6d73b073&gt; in &lt;module&gt;()
----&gt; 1 get_ipython().magic(u'load_ext rpy2.ipython')

/Users/Llewelyn_home/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/IPython/core/interactiveshell.pyc in magic(self, arg_s)
   2161         magic_name, _, magic_arg_s = arg_s.partition(' ')
   2162         magic_name = magic_name.lstrip(prefilter.ESC_MAGIC)
-&gt; 2163         return self.run_line_magic(magic_name, magic_arg_s)
   2164 
   2165     #-------------------------------------------------------------------------

/Users/Llewelyn_home/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/IPython/core/interactiveshell.pyc in run_line_magic(self, magic_name, line)
   2082                 kwargs['local_ns'] = sys._getframe(stack_depth).f_locals
   2083             with self.builtin_trap:
-&gt; 2084                 result = fn(*args,**kwargs)
   2085             return result
   2086 

&lt;decorator-gen-64&gt; in load_ext(self, module_str)

/Users/Llewelyn_home/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/IPython/core/magic.pyc in &lt;lambda&gt;(f, *a, **k)
    191     # but it's overkill for just that one bit of state.
    192     def magic_deco(arg):
--&gt; 193         call = lambda f, *a, **k: f(*a, **k)
    194 
    195         if callable(arg):

/Users/Llewelyn_home/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/IPython/core/magics/extension.pyc in load_ext(self, module_str)
     64         if not module_str:
     65             raise UsageError('Missing module name.')
---&gt; 66         res = self.shell.extension_manager.load_extension(module_str)
     67 
     68         if res == 'already loaded':

/Users/Llewelyn_home/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/IPython/core/extensions.pyc in load_extension(self, module_str)
     82             if module_str not in sys.modules:
     83                 with prepended_to_syspath(self.ipython_extension_dir):
---&gt; 84                     __import__(module_str)
     85             mod = sys.modules[module_str]
     86             if self._call_load_ipython_extension(mod):

/Users/Llewelyn_home/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/rpy2/ipython/__init__.py in &lt;module&gt;()
----&gt; 1 from .rmagic import load_ipython_extension

/Users/Llewelyn_home/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/rpy2/ipython/rmagic.py in &lt;module&gt;()
     57 template_converter = ro.conversion.converter
     58 try:
---&gt; 59     from rpy2.robjects import pandas2ri as baseconversion
     60     template_converter = template_converter + baseconversion.converter
     61 except ImportError:

/Users/Llewelyn_home/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/rpy2/robjects/pandas2ri.py in &lt;module&gt;()
      7                              INTSXP)
      8 
----&gt; 9 from pandas.core.frame import DataFrame as PandasDataFrame
     10 from pandas.core.series import Series as PandasSeries
     11 from pandas.core.index import Index as PandasIndex

/Users/Llewelyn_home/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/pandas/__init__.py in &lt;module&gt;()
     20 
     21 # numpy compat
---&gt; 22 from pandas.compat.numpy_compat import *
     23 
     24 try:

/Users/Llewelyn_home/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/pandas/compat/numpy_compat.py in &lt;module&gt;()
     13 
     14 # numpy versioning
---&gt; 15 _np_version = np.version.short_version
     16 _np_version_under1p8 = LooseVersion(_np_version) &lt; '1.8'
     17 _np_version_under1p9 = LooseVersion(_np_version) &lt; '1.9'

AttributeError: 'module' object has no attribute 'version'
</code></pre>

<p>Could it be related to Canopy version of numpy being listed as 1.10.4-1 and the np.<strong>version</strong> result being 1.11.1 (based on error message)? Any suggestions gratefully received. PS. R works in the console still, plus in terminal and in Jupyter with an R kernel...</p>
",185,0,<r><enthought><ipython-magic><jupyter-irkernel>,2016-07-25 11:39:16
38528426,How to efficiently replace element in plot with ipywidgets?,"<p>How can I efficiently display similar plots with ipywidgets using Jupyter Notebook?</p>

<p>I wish to plot interactively a heavy plot (heavy in the sense that it has lots of data points and takes some time to plot it) and modify a single element of it using interact from ipywidgets without replotting all the complicated plot. Is there a builtin functionality to do this?</p>

<p>basically what I'm trying to do is</p>

<pre><code>import numpy as np
import matplotlib.pyplot as plt
from ipywidgets import interact
import matplotlib.patches as patches
%matplotlib inline #ideally nbagg

def complicated plot(t):
    plt.plot(HEAVY_DATA_SET)
    ax = plt.gca()
    p = patches.Rectangle(something_that_depends_on_t)
    ax.add_patch(p)

interact(complicatedplot, t=(1, 100));
</code></pre>

<p>Right now it takes up to 2 seconds for each replot. I expect there are ways to keep the figure there and just replace that rectangle.</p>

<p>A hack would be to create a figure of the constant part, make it background to the plot and just plot the rectangle part. but the sounds too dirty</p>

<p>Thank you</p>
",954,0,<python><matplotlib><jupyter><jupyter-notebook><ipywidgets>,2016-07-22 14:02:46
38518181,Scientific notation for ipywidgets slider,"<p>In <code>ipywidgets</code>, how do I use scientific notation for large values of slider? Say if I have something like:</p>

<p><code>
FloatSlider(min=1e7, max=1e9, step=1e7)
</code></p>

<p>The display on the slider would be full of zeros. Can I somehow switch that to a scientific notation? </p>
",854,1,<jupyter-notebook><ipywidgets>,2016-07-22 04:28:33
38466438,readline() in Jupyter IRKernel,"<p>I'm currently working to transfer some R scripts of mine into a Jupyter notebook in order to make them more accessible; however, I'm running into the issue that <code>readline()</code> is returning <code>""""</code>, the default in non-interactive use. Jupyter (frustratingly so) seems to be non-interactive (i.e., <code>interactive()</code> returns <code>FALSE</code>). </p>

<p>Are there any known workarounds (other than a clunky interface) for the people who might use this Notebook? 
I had previously used <code>readline()</code> to enter data using a loop line-by-line into a dataframe built off a MySQL query in which the size may be variable. It's hard to preëmpt what size it might be, so being able to enter using <code>readline()</code> was particularly useful. </p>
",670,2,<r><jupyter><jupyter-notebook><jupyter-irkernel>,2016-07-19 18:56:45
38387027,Unable to load IRKernel in Jupyter notebook,"<p>I'm pretty new to the forum, so I'm sorry if this question has already been answered. I looked around, and although I saw that some had similar issues, I couldn't find the solution to my problem on any previous posts. So - here goes...</p>

<p>I'm running Mac OS X 10.11.5, Jupyter notebook version 4.2.1, R version 3.2.2</p>

<p>I installed the R kernel for Jupyter notebook with the following command -</p>

<pre><code>conda install -c r r-irkernel
</code></pre>

<p>Now, when I launch Jupyter notebook, I see 'R' appears as one of the options in the drop down menu on the right hand side under 'notebooks.' However, when I try to create an R notebook, the kernel crashes and I get the following error in terminal:</p>

<pre><code>WARNING:root:kernel b42781ab-ebb1-45eb-8a54-d3801106fb94 restarted
Error: .onLoad failed in loadNamespace() for 'pbdZMQ', details:  
  call: dyn.load(file, DLLpath = DLLpath, ...)
  error: unable to load shared object '/Users/avislova/anaconda/lib/R/library/pbdZMQ/libs/pbdZMQ.so':
  dlopen(/Users/avislova/anaconda/lib/R/library/pbdZMQ/libs/pbdZMQ.so,     6): Library not loaded: @rpath/libzmq.5.dylib
  Referenced from: /Users/avislova/anaconda/lib/R/library/pbdZMQ/libs/pbdZMQ.so
  Reason: image not found
Execution halted
 [W 16:19:12.382 NotebookApp] KernelRestarter: restart failed
 [W 16:19:12.382 NotebookApp] Kernel b42781ab-ebb1-45eb-8a54-d3801106fb94 died, removing from map.
ERROR:root:kernel b42781ab-ebb1-45eb-8a54-d3801106fb94 restarted failed!
 [W 16:19:12.390 NotebookApp] Kernel deleted before session
 [W 16:19:12.390 NotebookApp] 410 DELETE /api/sessions/2236e334-e33a-483b-87f3-31c461d4903b (::1) 1.32ms referer=http://localhost:8888/notebooks/Untitled5.ipynb?kernel_name=ir
</code></pre>

<p>Any idea where I can go from here?</p>

<p>Thank you!</p>
",10657,14,<r><installation><jupyter><jupyter-notebook><jupyter-irkernel>,2016-07-15 02:34:44
38229442,SAML authentication for Jupyter Hub,"<p>I should implement <strong>SAML</strong> authentication (Okta) in Jupyter. I have tried to search but didn't find anything. Maybe someone knows the solution. Thanks for help.</p>
",6335,3,<saml><saml-2.0><jupyter><okta><jupyterhub>,2016-07-06 16:51:30
38146701,iPython widgets: interact() with html result,"<p>I've recently discovered iPython widgets, and I would like to use them to provide more intearction for users. In particular, I have a function that returns an HTML table, based on choices made by user. </p>

<p>When I use the widgets and interact, the HTML table does not get updated. Instead, each time the user makes a selection, it prints a new table below, and it's not very helpful since the tables can be quite large.</p>

<p>On the other hand, if I return the string only of the HTML table, it is updated, but again not very helpful for visualization!</p>

<p>Is there any solution for the HTML table to be updated instead of printed each time the user makes a selection?</p>

<p><strong>EDIT: Nevermind, I found out how to link the html output to another widget!</strong></p>

<p>Here is an example of working code, with a simple table:</p>

<pre><code>from IPython.display import display,HTML
#ipywidgets imports
from __future__ import print_function
from ipywidgets import *
import ipywidgets as widgets

#EDIT
#added an html widget for output
w3 = widgets.HTML(value="""")

def my_function(a, b):
    html_table = '&lt;table&gt;&lt;thead&gt;'
    for col in a:
        html_table += '&lt;th&gt;'+col+'&lt;/th&gt;'
    html_table += '&lt;/thead&gt;&lt;tbody&gt;'
    for row in b:
        html_table += '&lt;tr&gt;'
        for col in a:
            html_table += '&lt;td&gt;'+row+'&lt;/td&gt;'
        html_table += '&lt;/tr&gt;'
    html_table += '&lt;/tbody&gt;&lt;/table&gt;'

    #EDIT
    w3.value = html_table
    #return HTML(html_table)
    #return html_table

widget1 = widgets.SelectMultiple(
    description=""columns:"",
    options=['A', 'B', 'C', 'D', 'E', 'F', 'G']
)

widget2 = widgets.SelectMultiple(
    description=""rows:"",
    options=['A', 'B', 'C', 'D', 'E', 'F', 'G']
)

#EDIT
interact(my_function, a=widget1, b=widget2)
display(w3)
</code></pre>
",1091,1,<python-3.x><ipython-notebook><jupyter-notebook><ipywidgets>,2016-07-01 13:27:19
38143237,How to define the default value of a Slider widget on ipywidgets?,"<p>On a Jupyter Notebook and using ipywidgets I can create sliders using the compact version</p>

<pre><code>import ipywidgets as ip
def f(x):
    print(x)
ip.interact(f, x = (0, 1, 1))
</code></pre>

<p>The slider's default value is 0 but I would like to make it 1. How can I do this?</p>
",5827,3,<ipython><ipython-notebook><jupyter><jupyter-notebook><ipywidgets>,2016-07-01 10:36:09
38135485,Suppress output from an interact() widget,"<p>I am using a widget to parametrise the generation of some data. I would like to capture the data, without outputting it. Is this possible? Adding <code>;</code> after <code>interact()</code> doesn't work. Example:</p>

<pre><code>import ipywidgets as widgets
from ipywidgets import interact, interactive, fixed

def generate_data(n, p, s):
    return np.random.negative_binomial(n, p, s)

w_n = widgets.IntSlider(min=1, max=10000, step=1)
w_p = widgets.FloatSlider(min=0.01, max=1, step = 0.01)
w_s = widgets.IntSlider(min=500,max=10000,step=50)

data = interact(generate_data, n = w_n, p = w_p, s = w_s);
</code></pre>
",1809,2,<ipython><ipython-notebook><jupyter><jupyter-notebook><ipywidgets>,2016-07-01 00:58:35
37999772,How to run jupyter Rkernel notebook with inline graphics on machine without display?,"<p>I often run jupyter IPython notebooks on a linux cluster compute node  without X11 with no problems.  However, running the R kernel on the same setup is not working very well. </p>

<p>The machine details are:</p>

<ul>
<li>CentOS 7.2</li>
<li>R 3.3.1 with X11, png, and cairo capabilities</li>
<li>Anaconda 4.0.0 (python 2.7.11) </li>
</ul>

<p>Just starting the notebook causes the kernel to crash after the first cell is run with this in the log:</p>

<pre><code>unable to open connection to X11 display ''
</code></pre>

<p>I can get it to work by starting the notebook with <code>xvfb-run jupyter notebook</code>.  This lets me run R commands in the cells but when I try to produce plots, I get the following</p>

<pre><code>Error in grid.Call(L_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : X11  font -adobe-helvetica-%s-%s-*-*-%d-*-*-*-*-*-*-*, face 1 at size 9 could not be loaded
</code></pre>

<p>I suppose that if I could install the x11 fonts it would work, but this is on a compute node of a cluster and I don't have the administrative privileges to install them.  </p>

<p>What is the correct way to configure jupyter notebook with the R kernel to produce graphics on a linux machine without X11?</p>
",2098,1,<r><linux><x11><jupyter-notebook><jupyter-irkernel>,2016-06-23 19:02:47
37995341,How to have an argument possible values dependent on another argument with IPython Widgets?,"<p>Assume I have this simple function in Python:</p>

<pre><code>def f(gender, name):
    if gender == 'male':
        return ranking_male(name)
    else:
        return ranking_female(name)
</code></pre>

<p>where <code>gender</code> belongs to <code>['male', 'female']</code> whereas <code>name</code> belongs to <code>['Adam', 'John', 'Max', 'Frodo']</code> (if <code>gender</code> is <code>male</code>) or <code>['Mary', 'Sarah', 'Arwen']</code> (otherwise).</p>

<p>I wish to apply <code>interact</code> from <code>ipywidgets</code> to this function <code>f</code>. Normally one would do</p>

<pre><code>from ipywidgets import interact
interact(f, gender = ('male', 'female'), name = ('Adam', 'John', 'Max', 'Frodo'))
</code></pre>

<p>The problem is that the admissible values for <code>name</code> now depend on the value chosen for <code>gender</code>.</p>

<p>I tried to find it in the docs but couldn't find it. The only thing I think may be important is 
This is used to setup dynamic notifications of trait changes.</p>

<pre><code>    Parameters
    ----------
    handler : callable
        A callable that is called when a trait changes. Its
        signature should be ``handler(change)``, where ``change```is a
        dictionary. The change dictionary at least holds a 'type' key.
        * ``type``: the type of notification.
        Other keys may be passed depending on the value of 'type'. In the
        case where type is 'change', we also have the following keys:
        * ``owner`` : the HasTraits instance
        * ``old`` : the old value of the modified trait attribute
        * ``new`` : the new value of the modified trait attribute
        * ``name`` : the name of the modified trait attribute.
    names : list, str, All
        If names is All, the handler will apply to all traits.  If a list
        of str, handler will apply to all names in the list.  If a
        str, the handler will apply just to that name.
    type : str, All (default: 'change')
        The type of notification to filter by. If equal to All, then all
        notifications are passed to the observe handler.
</code></pre>

<p>But I have no idea how to do it nor to interpret what the doc string is talking about. Any help is much appreciated!</p>
",2586,5,<widget><ipython><jupyter><jupyter-notebook><ipywidgets>,2016-06-23 15:01:50
37886584,R + jupyter tapply() function gives `Error: subscript out of bounds`,"<p>I have this minimal code in an R - Jupyter notebook:</p>

<pre><code>In[1]:
    a = c( 1, 2, 3, 4, 5, 6 )
    b = c( 1, 1, 1, 2, 3, 0 )
   print( tapply( a, b, mean ) )
</code></pre>

<p>which gives this output:</p>

<pre><code>    0 1 2 3 
    6 2 4 5 
</code></pre>

<p>If I just run a cell with:</p>

<pre><code>In[2]: 
    tapply( a, b, mean )
</code></pre>

<p>I get this output (in that order):</p>

<pre><code>Error in dn[[2L]]: subscript out of bounds    

Out[2]:
    0    6
    1    2
    2    4
    3    5
</code></pre>

<p>Interestingly, the following does not throw an error:</p>

<pre><code>In[3]:
    t( tapply( a, b, mean ) )
Out[3]:
    0 1 2 3
    6 2 4 5
</code></pre>

<hr>

<p>Why do I get this error?</p>

<p>And why does it print <em>vertically</em>?</p>

<p>And why don't I get the labels <code>Out[]</code> when using <code>print()</code>?</p>

<p>It seems that it has something to do with how Jupyter prints the value of objects when called with no <code>print()</code> function... And something about the Notice that the calculation itself is correct, so the error doesn't appear to be harmful, it's just strange :P</p>

<p><strong>Note:</strong> The error doesn't occur in bash, nor in rStudio, only in Jupyter.</p>
",398,3,<r><jupyter><jupyter-notebook><jupyter-irkernel>,2016-06-17 16:48:24
37837210,Is it actually possible to pass data (callback) from mpld3 to ipython?,"<p>There is a lot of amazing possibilities to create animated pictures using <code>mpld3</code>. However, it seems that all the ""moving parts"" are responsibility of JavaScript. Moreover, there are lots of requests on the internet and Stack Overflow where people directly ask for that possibility.</p>

<p><a href=""https://stackoverflow.com/questions/26532327/retrieve-data-from-dynamic-mpld3-plot-in-python"">Retrieve Data From Dynamic mpld3 plot in python</a></p>

<p><a href=""https://stackoverflow.com/questions/24498322/get-point-information-after-dragging?rq=1"">Get point information after dragging</a></p>

<p><a href=""https://stackoverflow.com/questions/26619698/how-to-dump-points-selected-with-the-linkedbrush-plugin-for-mpld3?rq=1"">How to &quot;dump&quot; points selected with the LinkedBrush plugin for mpld3?</a></p>

<p><a href=""https://stackoverflow.com/questions/33108218/mpld3-select-points-and-get-their-coordinates?rq=1"">mpld3 ~ Select points and get their coordinates?</a></p>

<p>with references therein, but all the answers are WRONG, since they propose to use some kind of alerts or captions. The second link is, however, most interesting, since it suggests to add some HTML-form and push the button to send the data to ""server-python"" from the ""client-javascript"". There is another interesting notebook</p>

<p><a href=""http://nbviewer.jupyter.org/gist/aflaxman/11156203"" rel=""noreferrer"">http://nbviewer.jupyter.org/gist/aflaxman/11156203</a></p>

<p>which is mentioned by many people as a source of inspiration - it saves the output configuration the .html file. Maybe this hard-disk exchange can be used to proceed this information further by python.</p>

<p>Moving further, I discovered <code>IPYwidgets</code>, with plenty of examples and even possibilities of TRUE interaction client-server. Essentially, we may start from basic sliders and buttons, but then we see that some more complex packages are built on this basis: mainly <code>bqplot</code>, and some other inherited packages.</p>

<p>What I want - is just to drag and drop some points on the picture, and then pass them to iPython to make some further plots - it is very complicated and definitely can't be moved to JavaScript. But it seems that despite the team of <code>bqplot</code> has done a huge work, you can use only some ""predefined"" set of interactions, so the drag-and-drop behavior is again not included.</p>

<p>When I tried (not very deeply) to enter the source code of mpld3 and modify it and possibly merge with ipywidgets, I encountered that many things are deprecated, the code evolves really fast, which doesn't accord to the existing examples in the internet: most poplar ones are very old, and inquiries are also very old. So I couldn't do anything because of the mess, many examples fail because of lack of backward-compatibility.</p>

<p><strong>Summary.</strong> I would be glad if anyone provided some way to drag-and-drop points and to pass their coordinates to python, but which could me more helpful - is the ability to pass information from mpld3 in a more ""abstract manner"", so that other cases can be included.</p>
",1288,8,<javascript><python><mpld3><ipywidgets>,2016-06-15 13:41:48
37818584,How to install ipywidgets offline (from file),"<p>So I am trying to install ipywidgets-0.0.1 into my Anaconda environment. I am running Anaconda3. Unfortunately, the machine I need to install it on does not have internet access.</p>

<p>The basic way to install the package is to run <code>conda install ipywidgets</code>, but of course this gives the following error:</p>

<pre><code>Fetching package metadata: Could not connect to https://repo.continuum.io/pkgs/p
ro/noarch/
Could not connect to https://repo.continuum.io/pkgs/free/win-64/
Could not connect to https://repo.continuum.io/pkgs/pro/win-64/
.Could not connect to https://repo.continuum.io/pkgs/free/noarch/
...
Solving package specifications: .
Package plan for installation in environment C:\Program Files\Anaconda3:

The following packages will be downloaded:

    package                    |            build
    ---------------------------|-----------------
    ipywidgets-0.0.1           |       np19py34_0           7 KB

The following NEW packages will be INSTALLED:

    ipywidgets: 0.0.1-np19py34_0

Proceed ([y]/n)? y

Fetching packages ...
Could not connect to https://repo.continuum.io/pkgs/free/win-64/ipywidgets-0.0.1
-np19py34_0.tar.bz2
Error: Connection error: HTTPSConnectionPool(host='repo.continuum.io', port=443)
: Max retries exceeded with url: /pkgs/free/win-64/ipywidgets-0.0.1-np19py34_0.t
ar.bz2 (Caused by ProtocolError('Connection aborted.', gaierror(11004, 'getaddri
nfo failed'))): 
https://repo.continuum.io/pkgs/free/win-64/ipywidgets-0.0.1-np19py34_0.tar.bz2
</code></pre>

<p>This makes sense, since the box can't access the internet.
I downloaded the ipywidgets tarball from the listed URL at <a href=""https://repo.continuum.io/pkgs/free/win-64/ipywidgets-0.0.1-np19py34_0.tar.bz2"" rel=""nofollow"">https://repo.continuum.io/pkgs/free/win-64/ipywidgets-0.0.1-np19py34_0.tar.bz2</a>, and I ssh'ed it onto the box. </p>

<p>What command can I run on the box (it is a Windows 7 environment) so that it will run the install as local, looking at the downloaded tarball to unpack rather than trying to access the internet to get the file? </p>
",485,0,<python><cmd><anaconda><jupyter-notebook><ipywidgets>,2016-06-14 17:32:20
37715661,Jupyter R crashes when plotting in docker container,"<p><strong>I am trying to set up Jupyter using Docker. I would like to provide multiple languages kernels (python, scala, R etc.) Now it seems work for others but R. 
Everytime I execute a 'plot' function, the browser will tell me ""The kernel appears to have died. It will restart automatically""</strong></p>

<p>And the error message in log is:</p>

<pre><code> ***caught segfault ***
 address 0x35da0, cause 'memory not mapped'
 Traceback:
 1: png(tf, width, height, ""in"", pointsize, bg, res, antialias = antialias)
 2: dev.cb(tf)
 3: repr_recordedplot_generic(obj, "".png"", TRUE, function(tf) png(tf, width, height, ""in"", pointsize, bg, res, antialias = antialias))
 4: repr_png.recordedplot(plotobj)
 5: mime2repr[mime]
 6: doTryCatch(return(expr), name, parentenv, handler)
 7: tryCatchOne(expr, names, parentenv, handlers[[1L]])
 8: tryCatchList(expr, classes, parentenv, handlers)
 9: tryCatch({ formats[[mime]] &lt;- mime2repr[mime]}, error = handle_error)
 10: send_plot(last_recorded_plot)
 11: executor$execute(msg)
 12: handle_shell()
 13: kernel$run()
 14: IRkernel::main()
 aborting ... 
 [I 2016-06-08 19:41:02.360 XX restarter:103] KernelRestarter: restarting kernel (1/5)
 WARNING:root:kernel XXXXXXXXXXXXXXXXXX restarted
</code></pre>

<p>If I execute a function of <code>png()</code> or <code>jpeg()</code> from the browser (Google Chrome) first, then <code>plot()</code> function could be executed successfully. I don't know why this happens, what will be changed after running <code>png()</code> or <code>jpeg()</code>. Has anyone met similar issues in either Jupyter or R?</p>
",270,0,<r><docker><jupyter><jupyter-irkernel>,2016-06-09 01:53:04
37622023,How to sort key names in ipywidgets interactive widgets (slider)?,"<p>I am trying to make interactive sliders with ipywidgets on jupyter notebook to change the data of a plot when a user changes a slider Widget, which is simple and we can find example codes easily. The problem that I have is twofold: 1) when there are many parameters (= variables,sliders) in my function to be displayed, sliders are vertically arranged so that it is getting hard to control them without scrolling the jupyter page. Is there any way to arrange sliders as I wish like m by n grid? 2) To pass a large number of integer-/float-valued sliders, I made a single dictionary to be passed to the function interactive. Here, the key (=slider/variable/parameter) names are displayed seemingly in random order. I tried to pass the dictionary after sorting by the key names beforehand, but it does not still resolve the issue.</p>

<p>I'd appreciate it if you can share any ideas.</p>

<pre><code>def myfun(**var_dict):
    v = [value for value in var_dict.values()]
    return np.sum(v)

var_dict = {'var1':1,'var2':2,'var3':3,'var4':4}
w = interactive(myfun,**var_dict)
display(w)
</code></pre>

<p><a href=""http://i.stack.imgur.com/P1CS8.png"" rel=""nofollow"">ipywidgets interactive sliders</a></p>
",1541,4,<python><jupyter-notebook><ipywidgets>,2016-06-03 19:27:01
37554442,Jupyter R notebook library(dplyr) causes kernel crash,"<p>I'm running a new install of Jupyter notebook on MacOS 10.10.5 following the the instructions in the O'Reilly video tutorial (<a href=""http://shop.oreilly.com/product/0636920044260.do"" rel=""nofollow"">http://shop.oreilly.com/product/0636920044260.do</a>). After installing miniconda I create an environment for the R kernel with:</p>

<pre><code>conda create -n jupyter_r -c r r-irkernel r-recommended r-essentials anaconda rpy2 -y
</code></pre>

<p>Within that environment I can start the jupyter notebook and create a new R notebook. </p>

<p>However, when I try to execute:</p>

<pre><code>library(dplyr)
</code></pre>

<p>I get a Dead kernel error, and the kernel restarts in my terminal.</p>

<p>I can successfully execute:</p>

<pre><code>library(ggplot2)
library(lattice)
library(reshape2)
</code></pre>

<p>It's only the library(dplyr) that seems to cause the crash. I've also verified that this happens with both anaconda and miniconda installs.</p>

<p>Output from the crash is:</p>

<pre><code> *** caught segfault ***
address 0x18, cause 'memory not mapped'

Traceback:
 1: dyn.load(file, DLLpath = DLLpath, ...)
 2: library.dynam(lib, package, package.lib)
 3: loadNamespace(package, c(which.lib.loc, lib.loc))
 4: doTryCatch(return(expr), name, parentenv, handler)
 5: tryCatchOne(expr, names, parentenv, handlers[[1L]])
 6: tryCatchList(expr, classes, parentenv, handlers)
 7: tryCatch(expr, error = function(e) {    call &lt;- conditionCall(e)    if (!is.null(call)) {        if (identical(call[[1L]], quote(doTryCatch)))             call &lt;- sys.call(-4L)        dcall &lt;- deparse(call)[1L]        prefix &lt;- paste(""Error in"", dcall, "": "")        LONG &lt;- 75L        msg &lt;- conditionMessage(e)        sm &lt;- strsplit(msg, ""\n"")[[1L]]        w &lt;- 14L + nchar(dcall, type = ""w"") + nchar(sm[1L], type = ""w"")        if (is.na(w))             w &lt;- 14L + nchar(dcall, type = ""b"") + nchar(sm[1L],                 type = ""b"")        if (w &gt; LONG)             prefix &lt;- paste0(prefix, ""\n  "")    }    else prefix &lt;- ""Error : ""    msg &lt;- paste0(prefix, conditionMessage(e), ""\n"")    .Internal(seterrmessage(msg[1L]))    if (!silent &amp;&amp; identical(getOption(""show.error.messages""),         TRUE)) {        cat(msg, file = stderr())        .Internal(printDeferredWarnings())    }    invisible(structure(msg, class = ""try-error"", condition = e))})
 8: try({    ns &lt;- loadNamespace(package, c(which.lib.loc, lib.loc))    env &lt;- attachNamespace(ns, pos = pos, deps)})
 9: library(dplyr)
10: eval(expr, envir, enclos)
11: eval(expr, envir, enclos)
12: withVisible(eval(expr, envir, enclos))
13: withCallingHandlers(withVisible(eval(expr, envir, enclos)), warning = wHandler,     error = eHandler, message = mHandler)
14: doTryCatch(return(expr), name, parentenv, handler)
15: tryCatchOne(expr, names, parentenv, handlers[[1L]])
16: tryCatchList(expr, classes, parentenv, handlers)
17: tryCatch(expr, error = function(e) {    call &lt;- conditionCall(e)    if (!is.null(call)) {        if (identical(call[[1L]], quote(doTryCatch)))             call &lt;- sys.call(-4L)        dcall &lt;- deparse(call)[1L]        prefix &lt;- paste(""Error in"", dcall, "": "")        LONG &lt;- 75L        msg &lt;- conditionMessage(e)        sm &lt;- strsplit(msg, ""\n"")[[1L]]        w &lt;- 14L + nchar(dcall, type = ""w"") + nchar(sm[1L], type = ""w"")        if (is.na(w))             w &lt;- 14L + nchar(dcall, type = ""b"") + nchar(sm[1L],                 type = ""b"")        if (w &gt; LONG)             prefix &lt;- paste0(prefix, ""\n  "")    }    else prefix &lt;- ""Error : ""    msg &lt;- paste0(prefix, conditionMessage(e), ""\n"")    .Internal(seterrmessage(msg[1L]))    if (!silent &amp;&amp; identical(getOption(""show.error.messages""),         TRUE)) {        cat(msg, file = stderr())        .Internal(printDeferredWarnings())    }    invisible(structure(msg, class = ""try-error"", condition = e))})
18: try(f, silent = TRUE)
19: handle(ev &lt;- withCallingHandlers(withVisible(eval(expr, envir,     enclos)), warning = wHandler, error = eHandler, message = mHandler))
20: evaluate_call(expr, parsed$src[[i]], envir = envir, enclos = enclos,     debug = debug, last = i == length(out), use_try = stop_on_error !=         2L, keep_warning = keep_warning, keep_message = keep_message,     output_handler = output_handler)
21: evaluate(request$content$code, envir = .GlobalEnv, output_handler = oh,     stop_on_error = 0L)
22: doTryCatch(return(expr), name, parentenv, handler)
23: tryCatchOne(expr, names, parentenv, handlers[[1L]])
24: tryCatchList(expr, names[-nh], parentenv, handlers[-nh])
25: doTryCatch(return(expr), name, parentenv, handler)
26: tryCatchOne(tryCatchList(expr, names[-nh], parentenv, handlers[-nh]),     names[nh], parentenv, handlers[[nh]])
27: tryCatchList(expr, classes, parentenv, handlers)
28: tryCatch(evaluate(request$content$code, envir = .GlobalEnv, output_handler = oh,     stop_on_error = 0L), interrupt = function(cond) interrupted &lt;&lt;- TRUE,     error = handle_error)
29: executor$execute(msg)
30: handle_shell()
31: kernel$run()
32: IRkernel::main()
aborting ...
[I 15:33:17.931 NotebookApp] KernelRestarter: restarting kernel (1/5)
</code></pre>

<p>Any suggestions on what's causing this? I've found a number of references to the jupyter kernel crashing spontaneously, but nothing that seems to be specifically tied to dplyr.</p>

<p>Thanks,</p>

<p>Alex</p>
",595,0,<jupyter><jupyter-notebook><jupyter-irkernel>,2016-05-31 19:49:03
37542298,HTML ipywidgets state is not saved with the notebook,"<p>I use ipywidgets to display asynchronous results from processes. </p>

<pre><code>import ipywidgets as widgets

results = widgets.HTML()
display(results)
</code></pre>

<p>It works well, results appear correctly, but when the notebook is saved, the widgets are not there anymore. Is there a way to save them with the notebook?</p>
",1720,9,<jupyter-notebook><ipywidgets>,2016-05-31 09:46:41
37528992,Place ipywidgets into HTML into Jupyter notebook,"<p>With the following minimal example, I can create buttons which interact with the Jupyter notebook and an HTML table, which is displayed in the notebook.</p>

<pre><code>import ipywidgets
from IPython.display import display

from IPython.core.display import HTML

def func(btn):
    print('Hi!')

btn1 = ipywidgets.Button(description=""Click me!"")
btn1.on_click(func)
btn2 = ipywidgets.Button(description=""Click me!"")
btn2.on_click(func)
display(btn1)
display(btn2)

display(HTML(
        '&lt;table&gt;' +
        '&lt;tr&gt;&lt;td&gt;Something here&lt;/td&gt;&lt;td&gt;Button 1 here&lt;/td&gt;&lt;/tr&gt;' +
        '&lt;tr&gt;&lt;td&gt;Something here&lt;/td&gt;&lt;td&gt;Button 2 here&lt;/td&gt;&lt;/tr&gt;' +
        '&lt;/table&gt;'
    ))
</code></pre>

<p>The produced result is:
<a href=""https://i.stack.imgur.com/Zytdx.png"" rel=""noreferrer""><img src=""https://i.stack.imgur.com/Zytdx.png"" alt=""screenshot of table and buttons""></a></p>

<p>I now would like to place the buttons in the html table. I tried investigating the method <code>Widget._ipython_display_()</code> but this does not allow me to use the button inside my own html table.</p>

<p>(Please see the small table as an example. I want to place the buttons in a large table and use the buttons to delete rows from a database.)</p>

<p>In <a href=""https://stackoverflow.com/questions/37013489/how-to-alight-and-place-ipywidgets"">this question</a>, the wanted to know, how to place widgets relative to each other. Here, I want to place the widgets inside other HTML code.</p>
",4137,15,<python><html><jupyter-notebook><ipywidgets>,2016-05-30 15:14:52
37519775,How can I read a matrix with ipywidgets?,"<p>I want to develop an interactive ipywidget; here I want to read the input as a matrix and compare it with another matrix I saved. How can I read a matrix?</p>
",123,0,<ipywidgets>,2016-05-30 07:19:17
37462747,Return value from function where ipython widgets are used to obtain input parameters,"<p>I'm trying to ""widgetize"" my IPython notebooks and am running into trouble with events and returning values from a function.  This is the workflow I'm thinking is the best way to go:</p>

<ul>
<li>using widgets to get the input values for an arbitrary function</li>
<li>call the function on event trigger</li>
<li>return value from function</li>
</ul>

<p>I first tried using the ""interact"" method to call the function, but that seemed difficult to associate events and return values.  From reading other interactive examples, making a class seemed like the way to go.  I don't write classes very often; so hopefully my error is something simple there.</p>

<p>The following makes two widgets, and when the user presses ""Enter"" should call a function and store its return value in the class for future use.  </p>

<p>In reality, it fires off the function two times before I enter any text and throws 'unicode object is not callable' when I change value.</p>

<pre><code>

    import ipywidgets as widgets
    from IPython.display import display

    def any_function_returning_value(word1,word2):
        new_word = 'Combining words is easy: %s %s'%(word1,word2)
        print new_word
        return new_word

    class learn_classes_and_widgets():
        def __init__(self, param1 = 'a word', param2 = 'another word'):
            self.p1_text = widgets.Text(description = 'Word #1',value = param1)
            self.p2_text = widgets.Text(description = 'Word #2',value = param2)
            self.p1_text.on_submit(self.handle_submit())
            self.p2_text.on_submit(self.handle_submit())
            display(self.p1_text, self.p2_text)

        def handle_submit(self):
            print ""Submitting""
            self.w = any_function_returning_value(self.p1_text.value,self.p2_text.value)
            return self.w

    f = learn_classes_and_widgets(param1 = 'try this word')
    #f.w should contain the combined words when this is all working

</code></pre>
",6386,4,<ipython><ipywidgets>,2016-05-26 13:47:59
37427645,Using Jupyter notebook with SparkR,"<p>I want to use <code>Jupyter</code> notebook with SparkR, I want to install IR kernel on <code>Jupyter</code> which is installed on my <code>Spark</code> cluster.</p>

<p>I could find help on using <code>Jupyter</code> with <code>pySpark</code>, but not with <code>SparkR</code>.</p>

<p>I have created my <code>Spark</code> cluster on <code>AWS-EMR</code> cluster.</p>
",1874,0,<sparkr><jupyter-irkernel>,2016-05-25 04:05:48
37334162,Jupyterhub terminal path variable,"<p>When I open a terminal on JupyterHub and try to run commands that I've placed in the machine's path, it says ""command not found."" </p>

<p>The default PATH variable on Jupyterhub terminal seems to be <code>/sbin:/usr/sbin:/bin:/usr/bin:/usr/local/bin</code> and I'm wondering why it doesn't use the PATH as defined on the machine. Is there a way to get it to inherit this PATH, or to run some command like <code>source /etc/environment</code> whenever a terminal is generated?</p>
",624,2,<ipython><jupyter><jupyter-notebook><jupyterhub><jupyter-console>,2016-05-19 21:18:38
37325378,Ipywidgets select multiple not working? Version 4.1.1 and 5.1.4,"<pre><code>a=widgets.SelectMultiple(options = df.columns.tolist(),description = 'X Axis',value=['Totpop'])
display(a)
</code></pre>

<p>This correctly displays the list of columns in a select multiple widget</p>

<pre><code>a.value
</code></pre>

<p>When run directly after displaying the widget, it properly displays the starting value. However, if I change the selection in the widget to anything else (or even if I change it and then change it back to the initial value), a.value returns an empty list.</p>

<p>I first noticed this because I have a tool I use that interacts with a bokeh plot and some other statistical outputs, but all of a sudden selecting new values caused it to bomb.</p>

<p>I have tried updating to version 5.1.4 and I get the same result.  Any help would be greatly appreciated!</p>

<p>Thank you!</p>
",700,0,<python><ipywidgets>,2016-05-19 13:53:24
37305575,Is there a way to generate publication quality tables in Jupyter?,"<p>I've been using Jupyter for some data analysis in R with irkernel but it seems that there is not an obvious workflow to generate tables that could then be used for publication. Mathjax doesn't support latex tables and markdown tables are pretty basic. Ideally there'd even be a way to programmatically generate the tables from variables in R. For an example, here is a table that I would consider complex and ready for publication.
<a href=""https://i.stack.imgur.com/zqEUc.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/zqEUc.png"" alt=""Den Boon, et al. 2005. “Development and Evaluation of a New Chest Radiograph Reading and Recording System for Epidemiological Surveys of Tuberculosis and Lung Disease.”""></a></p>

<p>I can run the totals on agreement, proportion of agreement, confidence intervals and Cohen's Kappa in Jupyter, but can't find a way to display them all nicely together in one table.</p>
",1498,2,<r><latex><markdown><jupyter><jupyter-irkernel>,2016-05-18 16:42:23
37280920,graceful interrupt of while loop in ipython notebook,"<p>I'm running some data analysis in ipython notebook. A separate machine collects some data and saves them to a server folder, and my notebook scans this server periodically for new files, and analyzes them.</p>

<p>I do this in a while loop that checks every second for new files. Currently I have set it up to terminate when some number of new files are analyzed. However, I want to instead terminate upon a keypress.</p>

<p>I have tried try-catching a keyboard interrupt, as suggested here: <a href=""https://stackoverflow.com/questions/13180941/how-to-kill-a-while-loop-with-a-keystroke"">How to kill a while loop with a keystroke?</a></p>

<p>but it doesn't seem to work with ipython notebook (I am using Windows). </p>

<p>Using openCV's keywait does work for me, but I was wondering if there are alternative methods without having to import opencv.</p>

<p>I have also tried implementing a button widget that interrupts the loop, as such:</p>

<pre><code>from ipywidgets import widgets 
import time
%pylab inline

button = widgets.Button(description='Press to stop')
display(button)

class Mode():
    def __init__(self):
        self.value='running'

mode=Mode()

def on_button_clicked(b):
    mode.value='stopped'

button.on_click(on_button_clicked)

while True:
    time.sleep(1)
    if mode.value=='stopped':
        break
</code></pre>

<p>But I see that the loop basically ignores the button presses.</p>
",10850,10,<ipython><interrupt><jupyter-notebook><ipywidgets>,2016-05-17 15:48:22
37250905,SSL Chain certificate: PEM_read_bio:no start line,"<p>How can I configure Jupyterhub to work with chain certificates? I have my certs from Entrust:</p>

<p>my_name.txt</p>

<pre><code>-----BEGIN CERTIFICATE-----
...
-----END CERTIFICATE-----
</code></pre>

<p>Entrust_Root.txt</p>

<pre><code>-----BEGIN CERTIFICATE-----
...
-----END CERTIFICATE-----
</code></pre>

<p>Entrust_L1Kroot.txt</p>

<pre><code>-----BEGIN CERTIFICATE-----
...
-----END CERTIFICATE-----
-----BEGIN CERTIFICATE-----
...
-----END CERTIFICATE-----
</code></pre>

<p>When I try to start Jupyterhub I get following error:</p>

<pre><code>crypto.js:131

c.context.setKey(options.key);
          ^

Error: error:0906D06C:PEM routines:PEM_read_bio:no start line
at Object.exports.createCredentials (crypto.js:131:17)
at Server (tls.js:1128:28)
at new Server (https.js:35:14)
at Object.exports.createServer (https.js:54:10)
at new ConfigurableProxy (/usr/lib/node_modules/configurable-http-proxy/lib/configproxy.js:158:35)
at Object. (/usr/lib/node_modules/configurable-http-proxy/bin/configurable-http-proxy:171:13)
at Module._compile (module.js:456:26)
at Object.Module._extensions..js (module.js:474:10)
at Module.load (module.js:356:32)
at Function.Module._load (module.js:312:12)
[C 2016-05-13 15:44:24.633 JupyterHub app:1119] Failed to start proxy
Traceback (most recent call last):
File ""/usr/local/lib/python3.5/site-packages/jupyterhub/app.py"", line 1117, in start
yield self.start_proxy()
File ""/usr/local/lib/python3.5/site-packages/jupyterhub/app.py"", line 881, in start_proxy
_check()
File ""/usr/local/lib/python3.5/site-packages/jupyterhub/app.py"", line 877, in _check
raise e
RuntimeError: Proxy failed to start with exit code 8
</code></pre>

<p>My confiuration file:</p>

<pre><code>c.JupyterHub.ssl_cert = u'/path/to/Entrust_L1Kroot.txt'
c.JupyterHub.ssl_key = u'/path/to/my_name.txt'
</code></pre>

<p>I have tried other assignments to the ssl_cert and ssl_key but they did not work neighter.</p>
",699,0,<jupyter><jupyter-notebook><jupyterhub>,2016-05-16 09:42:29
37149758,R Kernel in Jupyter is using wrong directory,"<p>Once upon a time ago, I installed the conda suite in Dropbox but then Dropbox did me dirty so I installed it in a different directory.  Deleted everything and started new but somehow R is being called from the old directory.  </p>

<p><strong>What is calling the wrong <code>R</code> directory so I can go in and change it?</strong></p>

<p>My current R is:</p>

<pre><code>$ which R
/Users/Mu/Sync/anaconda/bin/R
</code></pre>

<p>This is my error when I try to run an R kernel</p>

<pre><code>Traceback (most recent call last):
  File ""/Users/Mu/Sync/anaconda/lib/python3.5/site-packages/notebook/base/handlers.py"", line 458, in wrapper
    result = yield gen.maybe_future(method(self, *args, **kwargs))
  File ""/Users/Mu/Sync/anaconda/lib/python3.5/site-packages/tornado/gen.py"", line 1008, in run
    value = future.result()
  File ""/Users/Mu/Sync/anaconda/lib/python3.5/site-packages/tornado/concurrent.py"", line 232, in result
    raise_exc_info(self._exc_info)
  File ""&lt;string&gt;"", line 3, in raise_exc_info
  File ""/Users/Mu/Sync/anaconda/lib/python3.5/site-packages/tornado/gen.py"", line 1014, in run
    yielded = self.gen.throw(*exc_info)
  File ""/Users/Mu/Sync/anaconda/lib/python3.5/site-packages/notebook/services/sessions/handlers.py"", line 58, in post
    sm.create_session(path=path, kernel_name=kernel_name))
  File ""/Users/Mu/Sync/anaconda/lib/python3.5/site-packages/tornado/gen.py"", line 1008, in run
    value = future.result()
  File ""/Users/Mu/Sync/anaconda/lib/python3.5/site-packages/tornado/concurrent.py"", line 232, in result
    raise_exc_info(self._exc_info)
  File ""&lt;string&gt;"", line 3, in raise_exc_info
  File ""/Users/Mu/Sync/anaconda/lib/python3.5/site-packages/tornado/gen.py"", line 1014, in run
    yielded = self.gen.throw(*exc_info)
  File ""/Users/Mu/Sync/anaconda/lib/python3.5/site-packages/notebook/services/sessions/sessionmanager.py"", line 73, in create_session
    self.kernel_manager.start_kernel(path=kernel_path, kernel_name=kernel_name)
  File ""/Users/Mu/Sync/anaconda/lib/python3.5/site-packages/tornado/gen.py"", line 1008, in run
    value = future.result()
  File ""/Users/Mu/Sync/anaconda/lib/python3.5/site-packages/tornado/concurrent.py"", line 232, in result
    raise_exc_info(self._exc_info)
  File ""&lt;string&gt;"", line 3, in raise_exc_info
  File ""/Users/Mu/Sync/anaconda/lib/python3.5/site-packages/tornado/gen.py"", line 282, in wrapper
    yielded = next(result)
  File ""/Users/Mu/Sync/anaconda/lib/python3.5/site-packages/notebook/services/kernels/kernelmanager.py"", line 87, in start_kernel
    super(MappingKernelManager, self).start_kernel(**kwargs)
  File ""/Users/Mu/Sync/anaconda/lib/python3.5/site-packages/jupyter_client/multikernelmanager.py"", line 110, in start_kernel
    km.start_kernel(**kwargs)
  File ""/Users/Mu/Sync/anaconda/lib/python3.5/site-packages/jupyter_client/manager.py"", line 243, in start_kernel
    **kw)
  File ""/Users/Mu/Sync/anaconda/lib/python3.5/site-packages/jupyter_client/manager.py"", line 189, in _launch_kernel
    return launch_kernel(kernel_cmd, **kw)
  File ""/Users/Mu/Sync/anaconda/lib/python3.5/site-packages/jupyter_client/launcher.py"", line 123, in launch_kernel
    proc = Popen(cmd, **kwargs)
  File ""/Users/Mu/Sync/anaconda/lib/python3.5/subprocess.py"", line 950, in __init__
    restore_signals, start_new_session)
  File ""/Users/Mu/Sync/anaconda/lib/python3.5/subprocess.py"", line 1544, in _execute_child
    raise child_exception_type(errno_num, err_msg)
FileNotFoundError: [Errno 2] No such file or directory: '/Users/Mu/Dropbox/anaconda/lib/R/bin/R'
</code></pre>
",1633,3,<r><directory><anaconda><jupyter><jupyter-irkernel>,2016-05-10 22:05:56
37144216,ipywidgets: Update one widget based on results from another,"<p>I am using widgets in IPython that allows the user to repeatedly search for a phrase and see the results (different titles) in another widget (a selection widget) and then select one of the results.</p>

<p>In short:</p>

<pre><code>search_text = widgets.Text(description = 'Search') 
search_result = widgets.Select(description = 'Select table')

def search_action(sender):
    phrase = search_text.value
    df = search(phrase) # A function that returns the results in a pandas df
    titles = df['title'].tolist()
    search_result.options = titles

search_text.on_submit(search_action)
</code></pre>

<p>This used to work fine, but after updating to the latest version of ipywidgets (5.1.3 from 4.0.1) it seems like</p>

<pre><code>search_selection.options = titles
</code></pre>

<p>Produce the following errors (one or both, it varies):</p>

<pre><code>TraitError: Invalid selection
TypeError: 'list' object is not callable
</code></pre>

<p>It still works in the sense that the widget gets updated with the results based on the search from the other widget, but it gives an error. </p>

<p>What is the correct way of setting the options in one widget based on the results from another widget?</p>

<p>(edit: added more detailed error message)</p>
",15411,10,<python><widget><ipython><ipywidgets>,2016-05-10 16:31:56
37058637,IPython.html.widgets in IPython say: no module named widgets,"<p>God day for all. I'm trying to execute code from book ""IPython Interactive Computing an Visualizing Cookbook"" of Cirille Rossant on a Jupyter + IPython environment.</p>

<p>All work fine until I try:</p>

<pre><code>from collections import OrderedDict
from IPython.display import (display, clear_output, YouTubeVideo)
from IPython.html.widgets import DropdownWidget
</code></pre>

<p>If I do restart to the kernel appear this message: </p>

<pre><code>/usr/local/lib/python3.4/dist-packages/IPython/html.py:14: ShimWarning: The `IPython.html` package has been deprecated. You should import from `notebook` instead. `IPython.html.widgets` has moved to `ipywidgets`.
  ""`IPython.html.widgets` has moved to `ipywidgets`."", ShimWarning)
</code></pre>

<p>then I try to change the third line (the problem) by:</p>

<pre><code>from ipywidgets import DropdownWidgets
</code></pre>

<p>but Jupyter answer: <code>ImportError: cannot import name 'DropdownWidget'</code></p>

<p><em>Can somebody help me about?</em></p>

<p><strong><em>The next is a partial answer</em></strong></p>

<p>Well, seeking on the web I find in this page <a href=""https://ipywidgets.readthedocs.io/en/latest/user_install.html"" rel=""nofollow"">ipywidgets installation</a> the answer to my question and problem.</p>

<p>I try the next expample and work fine:</p>

<pre><code>import numpy as np
url = ""http://donnees.ville.montreal.qc.ca/dataset/f170fecc-18db-44bc-b4fe-5b0b6d2c7297/resource/ec12447d-6b2a-45d0-b0e7-fd69c382e368/download/2013.csv""
df = pd.read_csv(url, index_col='Date', parse_dates=True, dayfirst=True)
from ipywidgets import interact
@interact
def plot(n=(1, 30)):
    pd.rolling_mean(df['Berri1'], n).dropna().plot()
    plt.ylim(0, 8000)
    plt.show()
</code></pre>

<p>but jupyter claim that I have to do: <code>jupyter nbextension enable --py --sys-prefix widgetsnbextension</code></p>

<p>I go to the terminal obeying the suggestion and jupyter respond:</p>

<pre><code>Configure an nbextension to be automatically loaded

Options
-------

Arguments that take values are actually convenience aliases to full
Configurables, whose aliases are listed on the help line. For more information
on full configurables, see '--help-all'.

--debug
    set log level to logging.DEBUG (maximize logging output)
-y
    Answer yes to any questions instead of prompting.
--generate-config
    generate default config file
--section=&lt;Unicode&gt; (EnableNBExtensionApp.section)
    Default: 'notebook'
    Which config section to add the extension to. 'common' will affect all
    pages.

To see all available configurables, use `--help-all`

[EnableNBExtensionApp] CRITICAL | Bad config encountered during initialization:
[EnableNBExtensionApp] CRITICAL | Unrecognized flag: '--py'
</code></pre>

<p>Look that in <a href=""https://ipywidgets.readthedocs.io/en/latest/user_install.html"" rel=""nofollow"">1</a> have the suggestion: <code>jupyter nbextension enable --py widgetsnbextension</code> but in the console suggest <code>jupyter nbextension enable --py --sys-prefix widgetsnbextension</code>. Note that there is a little difference but in both cases appear the same error about <code>--py</code> option</p>

<p>In this moment the question is partially answered.</p>
",3421,2,<python><ipython><jupyter><jupyter-notebook><ipywidgets>,2016-05-05 19:19:58
37039066,Cannot run jupyterhub with Sudospawner,"<p>I can run jupyterhub for single user successfully but when I add  <code>c.JupyterHub.spawner_class = 'sudospawner.SudoSpawner'</code> 
it throws an error - </p>

<pre><code>[E 2016-05-04 22:14:28.633 JupyterHub user:237] Unhandled error starting rhea's server: substring not found
[E 2016-05-04 22:14:28.642 JupyterHub web:1524] Uncaught exception GET /hub/user/rhea (::ffff:10.ip.***)

    Traceback (most recent call last):
      File ""/usr/local/lib64/python3.4/site-packages/tornado/web.py"", line 1445, in _execute
        result = yield result
      File ""/usr/local/lib/python3.4/site-packages/jupyterhub/handlers/base.py"", line 493, in get
        yield self.spawn_single_user(current_user)
      File ""/usr/local/lib/python3.4/site-packages/jupyterhub/handlers/base.py"", line 312, in spawn_single_user
        yield gen.with_timeout(timedelta(seconds=self.slow_spawn_timeout), f)
      File ""/usr/local/lib/python3.4/site-packages/jupyterhub/user.py"", line 247, in spawn
        raise e
      File ""/usr/local/lib/python3.4/site-packages/jupyterhub/user.py"", line 228, in spawn
        yield gen.with_timeout(timedelta(seconds=spawner.start_timeout), f)
      File ""/usr/local/lib/python3.4/site-packages/sudospawner/spawner.py"", line 83, in start
        reply = yield self.do(action='spawn', args=self.get_args(), env=self.get_env())
      File ""/usr/local/lib/python3.4/site-packages/sudospawner/spawner.py"", line 72, in do
        data_str = data_str[data_str.index('{'):data_str.rindex('}')+1]
    ValueError: substring not found
</code></pre>

<p>I tried to print the command jupyterhub trying to execute -</p>

<pre><code> ['sudo', '-u', 'rhea', '-nH', 'sudospawner']
</code></pre>

<p>datastr value is NULL (/usr/local/lib/python3.4/site-packages/sudospawner/spawner.py"", line 72, in do
            data_str = )</p>

<p>How to include and run sudospawner?</p>

<p>Thanks!</p>
",1852,2,<jupyter><jupyter-notebook><jupyterhub>,2016-05-04 22:22:59
37013489,How to alight and place ipywidgets,"<p>Is there a way to control the placement and alignment of ipywidgets (inside jupyter notebook)?</p>

<pre><code>from ipywidgets import widgets
from IPython.display import Javascript, display
event_type_ui = widgets.Text(value='open', description='Test Event')
platform_ui = widgets.Text(value='Android', description='Control Event')
display(event_type_ui)
display(platform_ui)
</code></pre>

<p><a href=""https://i.stack.imgur.com/6jQ8w.png"" rel=""noreferrer""><img src=""https://i.stack.imgur.com/6jQ8w.png"" alt=""enter image description here""></a></p>

<p>I would like to specify an offset (in pixels?) to allow the label to fit and to have two controls aligned vertically.</p>
",11141,6,<jupyter-notebook><ipywidgets>,2016-05-03 20:10:54
37010454,Jupyterhub cannot start server - 500 error,"<p>I am trying to run jupyter hub for multiuser mode. I installed jupyterhub from PIP. </p>

<blockquote>
  <p>[root@ip-of-machine hadoop]# echo $PATH</p>
  
  <p>/usr/local/bin/jupyterhub-singleuser:/usr/local/bin/jupyterhub:/sbin:/bin:/usr/sbin:/usr/bin:/opt/aws/bin</p>
</blockquote>

<p>When I tun jupyterhub I get an error saying </p>

<blockquote>
  <p>500 : Internal Server Error</p>
  
  <p>Failed to start your server. Please contact admin.</p>
</blockquote>

<p>I ran it as </p>

<pre><code>[root@ip-of-machine hadoop]# /usr/local/bin/jupyterhub -f ./jupyterhub/jupyterhub_config.py --no-ssl
</code></pre>

<p>The logs contain </p>

<pre><code>[I 2016-05-03 17:13:09.406 JupyterHub spawner:465] Spawning jupyterhub-singleuser --user=jupyter --port=40770 --cookie-name=jupyter-hub-token-jupyter --base-url=/user/jupyter --hub-host= --hub-prefix=/hub/ --hub-api-url=http://127.0.0.1:8081/hub/api --ip=127.0.0.1
[E 2016-05-03 17:13:09.433 JupyterHub user:237] Unhandled error starting jupyter's server: [Errno 2] No such file or directory: 'jupyterhub-singleuser'
</code></pre>

<p>But there is singleuser in path. I explicitly added it to path and exported. </p>

<p>Any clues? Thanks.</p>
",3808,0,<jupyter><jupyter-notebook><jupyterhub>,2016-05-03 17:19:25
37010406,R kernel is not available in Jupyter Notebook after install,"<p>I have installed Python 2.7, R 3.2.5, RStudio, Eclipse with PyDev, Jupyter Notebook 4.0.4. I use Windows 10 x64.</p>

<p>I did everything according to <a href=""http://irkernel.github.io/installation/"" rel=""nofollow"" title=""this"">http://irkernel.github.io/installation/</a> and there were no errors. When I start Jupyter Notebook, there is no R kernel in dropdown list. When I type jupyter-kernelspec list, it shows:</p>

<p>Available kernels:</p>

<p>python2    c:\python27_64\lib\site-packages\ipykernel\resources
  ir         C:\Users\User\AppData\Roaming\jupyter\kernels\ir</p>

<p>What should I do?</p>
",1934,1,<r><jupyter-irkernel>,2016-05-03 17:17:25
36909909,ipython float slider with pandas datetime series?,"<p>I am trying to make an interactive chart with sliders to control date and time
So I tried to do this</p>

<pre><code>from ipywidgets import widgets, FloatSlider
import pandas as pd
from matplotlib import pyplot as plt

DateList = ['2013-01-01', '2013-01-02', '2013-01-03']
ts = pd.to_datetime(pd.Series(DateList))

Slider = FloatSlider(min=min(ts), max=max(ts), step=1, 
                 value=pd.Timestamp('2013-01-01'))
</code></pre>

<p>but this doesn't work?
How can I do this?</p>
",613,0,<python><datetime><ipython><ipywidgets>,2016-04-28 09:00:22
36905507,"ipython dead kernel and cannot be restarted, what can i do?","<p>When I try to open r file through jupyter notebook shell, the kernel cannot start and it shows:</p>

<pre><code>The kernel has died, and the automatic restart has failed. 
It is possible the kernel cannot be restarted. 
If you are not able to restart the kernel, you will still be able to save the notebook,
 but running code will no longer work until the notebook is reopened.
</code></pre>

<p>While the terminal shows:</p>

<pre><code>*** caught segfault ***
address 0x18, cause 'memory not mapped'

Traceback:
 1: dyn.load(file, DLLpath = DLLpath, ...)
 2: library.dynam(lib, package, package.lib)
 3: loadNamespace(i, c(lib.loc, .libPaths()), versionCheck = vI[[i]])
 4: namespaceImport(ns, loadNamespace(i, c(lib.loc, .libPaths()),     versionCheck = vI[[i]]), from = package)
 5: loadNamespace(name)
 6: doTryCatch(return(expr), name, parentenv, handler)
 7: tryCatchOne(expr, names, parentenv, handlers[[1L]])
 8: tryCatchList(expr, classes, parentenv, handlers)
 9: tryCatch(loadNamespace(name), error = function(e) stop(e))
10: getNamespace(ns)
11: asNamespace(ns)
12: getExportedValue(pkg, name)
13: IRkernel::main
aborting ...
</code></pre>

<p>I use anaconda3 on MAC OS, and use conda -install -c r r-essentials to install the r packages. 
After several attempts to reinstall ipython, it still does not work!
Thanks in advance for your attention and help.</p>
",1665,3,<r><jupyter><jupyter-irkernel>,2016-04-28 04:51:33
36800185,Update values in evenly spaced mesh with slider,"<p>The problem I'm facing is that I'm unable to figure out how to update the figure when I increase/decrease values with my slider. </p>

<p>I am creating an x, y mesh grid, then plotting it, and updating the values within my array to define a new mesh. I would like to be able to move the slider and see a finer/coarser grid and update the plot and axes.  </p>

<p>Additionally, I would like the user to be able to move the grid lines interactively with the mouse. This is not included in example code. Does someone know how to implement this? </p>

<p>There are similar questions that have been asked about updating values on a plot with a slider, but perhaps none address this specific problem; can someone help me figure out what I'm doing wrong? I realize I don't have anything that is redrawing the plot (though I have tested various things), but am unsure how to implement this, as M.plotGrid() creates the grid, so it may/may not be as easy as using fig.canvas.draw_idle(). </p>

<p>Here is my code:</p>

<pre><code>#Create simple evenly spaced mesh and allow slider to change values

from SimPEG import Mesh, np
import matplotlib.pyplot as plt
from matplotlib.widgets import Slider, Button, RadioButtons

hx = np.r_[0.1,0.1,0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1]
hy = np.r_[0.1,0.1,0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1]

M = Mesh.TensorMesh([hx, hy])
M.plotGrid()

#Define slider location, size, and color for adjusting mesh values
axhx = plt.axes([0.25, 0.1, 0.65, 0.03])
axhy = plt.axes([0.25, 0.15, 0.65, 0.03])
xnode_inc = Slider(axhx, 'X mesh Node', 0.1, 1000.0, valinit=0)
anode_inc = Slider(axhy, 'Y mesh Node', 0.1, 1000.0, valinit=0)

def update(val):
    framehx = xnode_inc.val + hx
    framehy = ynode_inc.val + hy
    M = Mesh.TensorMesh([framehx, framehy])
    print M, framehx, framehy
    M.plotGrid()

xnode_inc.on_changed(update)
ynode_inc.on_changed(update)

plt.show()
</code></pre>
",470,1,<python><numpy><mesh><ipywidgets>,2016-04-22 17:42:38
36776586,IRkernel dies when running mclapply with dada2,"<p>I don't know if this issue is dada2 specific or not. I would guess that it is not but I am not able to reproduce it otherwise.</p>

<p>I am trying to use <code>mclapply</code> from the <code>parallel</code> library inside of a Jupyter notebook with dada2. The parallel job runs, though the moment it finishes the kernel dies and I am unable to restart it. Running the same workflow inside of an R terminal has no issues. </p>

<p>Running it on a small dataset works with no issues:</p>

<pre><code>library(dada2)
library(parallel)

derepFs &lt;- mclapply('seqs/test_f.fastq', derepFastq)
derepFs
</code></pre>

<p>Running the same workflow but with the full dataset (I'm sorry I am not able to provide it here, it is too large, and not public) causes the kernel to die, this makes me think it is a memory issue, runninng it outside of the Jupyter environment has no issues. Running this with <code>lapply</code> has no issues. Also attempting to run this on an AWS instance with more memory results in the the same error. The terminal output when the kernel dies is:</p>

<pre><code>Error in poll.socket(list(sockets$hb, sockets$shell, sockets$control),  :
  Interrupted system call
Calls: &lt;Anonymous&gt; -&gt; &lt;Anonymous&gt; -&gt; poll.socket -&gt; .Call
Execution halted
</code></pre>

<p>Monitoring memory shows it never gets very high ~200MB. So my question is if it is not memory what could it be? I realize it may be difficult to answer this question, though as I said I cannot post the full dataset. R version 3.2.2, Jupyter version 1.0.0, Dada2 version 0.99.8, OSX 10.11.4</p>
",175,1,<r><jupyter><mclapply><jupyter-irkernel>,2016-04-21 17:25:20
36711352,Filter records from table in R,"<p>I have a dataset Movies.</p>

<pre><code>head(Movies)
</code></pre>

<p><a href=""https://i.stack.imgur.com/7d9KA.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/7d9KA.png"" alt=""output of head(Movies)""></a></p>

<p>How to fetch rows where MovieID is ""0000008""?
I have tried:</p>

<pre><code>t1 = subset(Movies, ""MovieID"" == ""0000008"")
t2 &lt;- Movies[ which(Movies[""MovieID""]==""0000008""), ]
head(t1)
head(t2)
</code></pre>

<p>Both return empty datasets, which is wrong as I can see a row with ID ""0000008"".</p>

<p>Edit:
I have tried removing """" from MovieID, but that throws error: </p>

<blockquote>
  <p>Error in subset.matrix(Movies, MovieID == ""0000008""): object 'MovieID' not found</p>
</blockquote>

<p>Edit:
The Movie data was obtained as:</p>

<pre><code>URL = ""https://raw.githubusercontent.com/sidooms/MovieTweetings/master/latest/movies.dat""
MovieText = readLines( remote.file(URL) ) # HACK!!!
Movies = matrix( sapply( MovieText,
            function(x) unlist(strsplit(sub("" [(]([0-9]+)[)]"", ""::\\1"",x),""::""))[1:4] ),
            nrow=length(MovieText), ncol=4, byrow=TRUE )
colnames(Movies) = c(""MovieID"", ""MovieTitle"", ""Year"", ""Genres"")
</code></pre>
",566,0,<r><jupyter-irkernel>,2016-04-19 07:25:25
36678421,Update tabs children in jupyter notebook widget,"<p>I'm trying to update children of a tab widget. So, I first create a simple tab example :</p>

<pre><code>from ipywidgets import widgets
from IPython.display import display

lst = ['P0', 'P1', 'P2', 'P3', 'P4']
childs = [widgets.Text(description=name) for name in lst]
tab = widgets.Tab(children=childs)
[tab.set_title(num, name) for num, name in enumerate(lst)]
display(tab)
</code></pre>

<p>Then, I try to remove the 'P2' tab :</p>

<pre><code>child_to_remove = 2
lst.pop(child_to_remove)
tab.children = [i for k, i in  enumerate(tab.children) if k != child_to_remove]
[tab.set_title(num, name) for num, name in enumerate(lst)]
</code></pre>

<p>If I look at the already displayed Tab, the new titles are : 'P0', 'P1', 'P4' and 'Page 6'. If I run again <code>display(tab)</code> the tab is fine. But there is no problem if I remove the last tab <code>child_to_remove = 4</code>.</p>

<p>How can I update the first created tab without using <code>display(tab)</code> and having the right title for each tab?</p>

<p>Thx ! </p>
",1734,3,<jquery><python><jupyter-notebook><ipywidgets>,2016-04-17 15:22:52
36404809,Execute IPyWidgets in Google Cloud Datalab,"<p>For a project we try to expand the Google Cloud Datalab with IPyWidgets. When we try out IPyWidgets in jupyter notebook (not in google-cloud-datalab) locally, everything run as expected (i.e. we tried to show a Text field, which worked). When we try to execute the same code in Google Cloud Datalab, it fails. In the web console we see following error:</p>

<p>Error 1:</p>

<pre><code>Error message: ""Class ipython.widget not found in registry ""
Error stack: ""load_class/&lt;@http://localhost:8081/static/notebook/js/main.min.js:12751:28load_class@http://localhost:8081/static/notebook/js/main.min.js:12736:1CommManager.prototype.comm_open@http://localhost:8081/static/notebook/js/main.min.js:21802:31.proxy/i@http://localhost:8081/static/notebook/js/main.min.js:89:5486Kernel.prototype._handle_iopub_message@http://localhost:8081/static/notebook/js/main.min.js:23101:20Kernel.prototype._finish_ws_message@http://localhost:8081/static/notebook/js/main.min.js:22936:1Kernel.prototype._handle_ws_message/this._msg_queue&lt;@http://localhost:8081/static/notebook/js/main.min.js:22926:39""
</code></pre>

<p>Error 2:</p>

<pre><code>Message: Could not open comm
Error message: ""Couldn't process kernel message""
Error stack: ""WrappedError@http://localhost:8081/static/notebook/js/main.min.js:12706:19reject/&lt;@http://localhost:8081/static/notebook/js/main.min.js:12785:33""
</code></pre>

<p>The strange thing is, is when google-cloud-datalab is running and we go to the jupyter notebook (on port 9000), and we execute the code over there it works.</p>

<p>Do we need to make changes to nb.html, and/or static.ts to make this work?</p>

<p><strong>Question:</strong> Is there a way to execute IPyWidgets on Google Cloud Datalab?</p>

<p>Greetings, Brecht</p>

<p><strong>Edit:</strong> I can now load the js and the css files from IPyWidgets in google-cloud-datalab (you need to change static.ts, for those who wonder). The only remaining issue (hopefully), is that we get following error: </p>

<p><code>""Error: Could not determine where the display message was from.  Widget will not be displayed"".
</code></p>

<p>This is because</p>

<pre><code>var cell = this.get_msg_cell(msg.parent_header.msg_id);
</code></pre>

<p>is null (line 556, of ipywidgets/widgets/js/manager.js). I assume that changing static.ts is not enough? </p>
",529,0,<jupyter-notebook><google-cloud-datalab><ipywidgets>,2016-04-04 14:00:36
36351109,IPython Notebook ipywidgets does not show,"<p>I created a table with an interactive slider that allows me to toggle between different periods on my table. It was working for the past few days, until today, when I re-ran the notebook, the slide bar doesn't show anymore. No error messages appear. The code seem to run just fine, as the table appears, but the slide bar just doesn't appear. I didn't change my code either, as I was working on a separate part of my notebook. </p>

<p>I tried many approaches, including searching in this space but was still unable to come up with a solution. I was wondering if anyone faced a similar issue, and have any solution to this.</p>

<p>Below is my code snippet. Anything before was solely to get my data into the desired form for tabulation. </p>

<pre><code>from IPython.display import display
from ipywidgets import widgets, interactive
v = interactive(by_q, quarter=(['q1y2015', 'q2y2015', 'q3y2015', 'q4y2015']), days=(1, 180))
display(v)
</code></pre>
",82849,67,<python><jupyter-notebook><ipywidgets>,2016-04-01 08:03:22
36291728,Magic %% commands in R inside Jupyter,"<p>How do I run %%magic in R inside Jupyter?</p>

<pre><code>%%javascript
IPython.OutputArea.auto_scroll_threshold = 99999;
</code></pre>

<p>The auto scroll feature on longer output is vastly annoying as I have several functions and scripts that spit out a lot of output.</p>

<p>The above Javascript works fine in python notebooks but not in R notebooks.</p>

<p>When I run the %% magic command in R, it barfs:</p>

<pre><code>Error in parse(text = x, srcfile = src): &lt;text&gt;:1:1: unexpected SPECIAL
1: %%
</code></pre>

<p>Any suggestions?</p>

<hr>

<p>According to this post <a href=""https://github.com/minrk/ipython_extensions/blob/master/extensions/disable_autoscroll.py"" rel=""nofollow"">disable_autoscroll.py</a>, it may be possible to put that Javascript into a profile_dir/static/js/custom.js file.  Pray tell, where is the profile_dir on a Windows box?</p>

<p>I found: <code>c:/Anaconda2/Lib/site-packages/notebook/static/custom/custom.js</code> but that is the central custom.js file.  </p>

<hr>

<p>References:</p>

<p><a href=""https://github.com/ipython/ipython/issues/2172"" rel=""nofollow"">Auto-scrolling of long output should be configurable in the UI</a></p>
",2384,3,<r><jupyter><jupyter-notebook><jupyter-irkernel>,2016-03-29 17:58:23
36286341,Ipywidget dropdown menu to select figure from list,"<p>I have a list of csv files from <code>glob.glob</code>. Each csv is used to generate a figure. I would like to use an ipywidget dropdown menu so that only the file that is selected is plotted.</p>

<pre><code>import glob
import pandas as pd
import ipywidgets as widgets
from IPython.display import display
from IPython.html.widgets import interactive

csvs = sorted(glob.glob('*/*csv'))
for csv in csvs:
    df = pd.read_csv(x, sep=',')
    plt.figure()
    df.plot()
</code></pre>

<p>The dropdown menu would therefore be </p>

<pre><code>w = widgets.Select(options=csvs)
display(w)
</code></pre>

<p>It would also be ok to use <code>widgets.Button</code> if this is the only way. Thanks!</p>
",2911,1,<python><jupyter><ipywidgets>,2016-03-29 13:50:23
36174666,Change Jupyter R-Kernel engine from 32 bit to 64 bit easily,"<p>I'm using Jupyter with R Kernel to create training forms.
With some packages of R, I need to use a 32 bit release of R engine, and for others (the main part) 64 bit.</p>

<p>So my goal is to be able to switch really easily from a R Kernel 32 bit to a R Kernel 64 bit really easily.</p>

<p>From now on, the only thing I've been able to do is</p>

<ul>
<li>getting a 32 bit R Kernel Under Jupyter when I previously installed the Kernel Under a 32bit version of my R engine  </li>
<li>getting a 64 bit R Kernel when previously installed the packages and the R Kernel Under a 64 bit R engine </li>
</ul>

<p>To install the Kernel, my code is always the same : </p>

<pre><code>    install.packages(c('repr', 'IRkernel', 'IRdisplay'),
     repos = c('http://irkernel.github.io/', getOption('repos')))
IRkernel::installspec()
</code></pre>
",1639,3,<r><32bit-64bit><jupyter><jupyter-irkernel>,2016-03-23 09:46:53
36142099,Jupyterhub not running on Ubuntu 14.04,"<p>Been stuck in this issue for the past two days.</p>

<p>Followed the github link regarding this issue. Didn't worked.
<a href=""https://github.com/jupyter/jupyterhub/issues/237"" rel=""nofollow"">https://github.com/jupyter/jupyterhub/issues/237</a></p>

<pre><code>saimmehmood@saimmehmood-VirtualBox:~$ sudo jupyterhub
[sudo] password for saimmehmood: 
[I 2016-03-22 02:18:54.577 JupyterHub app:558] Loading cookie_secret from /home/saimmehmood/jupyterhub_cookie_secret
[W 2016-03-22 02:18:54.865 JupyterHub app:292] 
Generating CONFIGPROXY_AUTH_TOKEN. Restarting the Hub will require restarting the proxy.
Set CONFIGPROXY_AUTH_TOKEN env or JupyterHub.proxy_auth_token config to avoid this message.

[W 2016-03-22 02:18:54.893 JupyterHub app:685] No admin users, admin interface will be unavailable.
[W 2016-03-22 02:18:54.900 JupyterHub app:686] Add any administrative users to `c.Authenticator.admin_users` in config.
[I 2016-03-22 02:18:54.906 JupyterHub app:712] Not using whitelist. Any authenticated user will be allowed.
[I 2016-03-22 02:18:55.016 JupyterHub app:1113] Hub API listening on http://127.0.0.1:8081/hub/
[E 2016-03-22 02:18:55.055 JupyterHub app:855] Refusing to run JuptyterHub without SSL. If you are terminating SSL in another layer, pass --no-ssl to tell JupyterHub to allow the proxy to listen on HTTP.


saimmehmood@saimmehmood-VirtualBox:~$ sudo jupyterhub --no-ssl
[I 2016-03-22 02:19:12.896 JupyterHub app:558] Loading cookie_secret from /home/saimmehmood/jupyterhub_cookie_secret
[W 2016-03-22 02:19:13.046 JupyterHub app:292] 
Generating CONFIGPROXY_AUTH_TOKEN. Restarting the Hub will require restarting the proxy.
Set CONFIGPROXY_AUTH_TOKEN env or JupyterHub.proxy_auth_token config to avoid this message.

[W 2016-03-22 02:19:13.079 JupyterHub app:685] No admin users, admin interface will be unavailable.
[W 2016-03-22 02:19:13.080 JupyterHub app:686] Add any administrative users to `c.Authenticator.admin_users` in config.
[I 2016-03-22 02:19:13.080 JupyterHub app:712] Not using whitelist. Any authenticated user will be allowed.
[I 2016-03-22 02:19:13.149 JupyterHub app:1113] Hub API listening on http://127.0.0.1:8081/hub/
[W 2016-03-22 02:19:13.174 JupyterHub app:851] Running JupyterHub without SSL. There better be SSL termination happening somewhere else...
[I 2016-03-22 02:19:13.174 JupyterHub app:860] Starting proxy @ http://*:8000/
/usr/bin/env: node: No such file or directory
[C 2016-03-22 02:19:14.297 JupyterHub app:1119] Failed to start proxy
Traceback (most recent call last):
  File ""/usr/local/lib/python3.4/dist-packages/jupyterhub/app.py"", line 1117, in start
    yield self.start_proxy()
  File ""/usr/local/lib/python3.4/dist-packages/jupyterhub/app.py"", line 881, in start_proxy
    _check()
  File ""/usr/local/lib/python3.4/dist-packages/jupyterhub/app.py"", line 877, in _check
    raise e
RuntimeError: Proxy failed to start with exit code 127
</code></pre>

<p>Kindly let me know any solution.</p>

<p>Thank you!</p>
",1912,0,<ubuntu-14.04><jupyterhub>,2016-03-21 21:37:14
36058649,Graph and ipywidget cannot be in same code cell when using %matplotlib notebook,"<p>I want to make a figure and interactively change it with ipywidgets.
When I use <code>%matplotlib notebook</code>, the widget call needs to be in a separate code cell, which is odd. Here is the code that doesn't work</p>

<pre><code>import matplotlib.pyplot as plt
from matplotlib.patches import Circle
%matplotlib notebook

fig = plt.figure(figsize=(6, 6))
ax1 = plt.subplot(111, aspect='equal')
ax1.set_xlim(-5,5)
ax1.set_ylim(-5,5)
circ = Circle((0,0), radius=1)
ax1.add_patch(circ)

def change_radius(r=1):
    circ.set_radius(r)

from ipywidgets import interact
interact(change_radius, r=(1.0, 5))
</code></pre>

<p>This only works when the last two lines are in a separate code cell, but then the widget is separated from the graph by the code cell. Does anybody know how to get it to work in one code cell with <code>%matplotlib notebook</code> ?</p>
",547,2,<matplotlib><ipython><jupyter-notebook><ipywidgets>,2016-03-17 11:02:06
35943710,Starting jupyterhub with docker,"<p>I am starting with docker and jupyterhub. I am following those instructions (<a href=""https://hub.docker.com/r/jupyter/jupyterhub/"" rel=""nofollow"">https://hub.docker.com/r/jupyter/jupyterhub/</a>). I can start jupyterhub, but I am struggling to start it with docker (dockerspawner
) and to user the oauth authentication with github. Can someone point some tutorial or give some help with this matter?</p>
",1034,1,<docker><jupyterhub>,2016-03-11 15:14:36
35917064,modules needed to create a custom widget with ipython?,"<p>what are modules needed to create a custom widget? I have installed ipywidgets module with the command : ""conda install ipywidgets"" and I tried to run this example found in github <a href=""https://github.com/ipython/ipywidgets/blob/52d1ff2090801856d4863c8768488a43e7266295/examples/Custom%20Widget%20-%20Hello%20World.ipynb"" rel=""nofollow"">here</a> but the browser says that the file ""jupyter-js-widgets"" is not found. </p>

<p>thank you for your help</p>
",297,0,<ipython><jupyter-notebook><ipywidgets>,2016-03-10 12:53:03
35880006,automatically adjust IPython widgets layout,"<p>I'm creating an interactive <code>jupyter notebook</code> with <a href=""https://github.com/ipython/ipywidgets"" rel=""nofollow noreferrer""><code>ipython widgets</code></a> and want the user to select from a certain number of checkboxes. I'm using the code below to visualize the <a href=""https://ipython.org/ipython-doc/3/api/generated/IPython.html.widgets.widget_box.html"" rel=""nofollow noreferrer""><code>HBox</code></a> that contains the checkboxes.</p>

<pre><code>num_checks = 10

cb_cont = widgets.HBox(background_color='red',height='100px',width='100%')

checkboxes = []
for f in range(num_checks):
    checkboxes.append(\
        widgets.Checkbox(description = 'Checkbox [%d]'%(f), \
                         value=False, width=50))

cb_cont.children=[i for i in checkboxes]
display(cb_cont)
</code></pre>

<p>Here is a screenshot of the output from the above code:</p>

<p><a href=""https://i.stack.imgur.com/m25F9.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/m25F9.png"" alt=""enter image description here""></a></p>

<p>As you can see, the content of the box overflows and goes beyond the width of the container.</p>

<p>I can change the behavior by setting the <code>overflow_x</code> property to be one of the following: <code>['visible', 'hidden', 'scroll', 'auto', 'initial', 'inherit', '']</code>.</p>

<p>For instance, <code>cb_cont.overflow_x = 'scroll'</code> results in the following output window:</p>

<p><a href=""https://i.stack.imgur.com/KYFbk.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/KYFbk.png"" alt=""enter image description here""></a></p>

<p>in which the content doesn't overflow but becomes invisible and can be scrolled.</p>

<p><strong>How can I set the property of the box to visualize the content that does not fit on a newline?</strong></p>

<p>Obviously I could use multiple <code>HBox</code> objects each one containing the maximum number of checkboxes that fit in a window size, however this is not the wanted solution for a set of reasons:</p>

<ol>
<li>Depending on the screen resolution that number could change.</li>
<li>The number of checkboxes to pick from depends on a previous computation ans is not known it in advance.</li>
</ol>
",8734,3,<python><ipython><jupyter><jupyter-notebook><ipywidgets>,2016-03-08 23:19:32
35873591,Specify R for Jupyter Notebook with Anaconda Windows,"<p>I feel pretty comfortable working with R, and I want to get into Python through Anaconda.<br>
Upon trying the Jupyter Notebook and finding it has compatibility with R, I really want to use it. </p>

<p>I'm having problem installing the R packages that don't come in R-essentials; and mainly because I noticed it uses a different R installation than the one I had before.  Not only is this a different R installation, but it also uses a previous version of R.  In my local installation I have updated to 3.2.3 but in the Anaconda environment for Jupyter I got 3.1. </p>

<p>I also found a post to change the <code>.libPaths</code> variable to include the packages that I had already installed.  Still, I see this as a potential problem because of the different R versions. </p>

<p>I wanted to know if I can update the R version that's used in Anaconda, or if I can point to the one that's installed locally.  </p>

<p>Thank you. </p>
",1364,0,<r><anaconda><jupyter-notebook><jupyter-irkernel>,2016-03-08 17:07:51
35867087,import javascript files in ipython notebook to create a custom widget,"<p>I'm newer in ""ipython notebook"" and I would to create a custom widget with ipywidgets using html and javascript. I'm using a javascript library and I wanna know if there is a way to import it inside ipython notebook.</p>

<p>thank u in advance</p>
",5665,2,<javascript><python><ipython><jupyter-notebook><ipywidgets>,2016-03-08 12:12:42
35827734,trouble when exporting notebook to html on Jupyter with R kernel,"<p>The following code works fine when writing an ipython notebook equipped with the R kernel. Unfortunately, the export to html fails for the second barplot (both with the embedded option of jupyter and manual use of nbconvert).</p>

<pre><code>library(NLP)
library(tm)

# here I used the EBook of Ulysses, by James Joyce, but any text file can fit
# the text is available here: https://www.gutenberg.org/cache/epub/4300/pg4300.txt
book &lt;- readLines(""pg4300.txt"", encoding=""UTF-8"")
corpus &lt;- Corpus(VectorSource(book))
corpus &lt;- tm_map(corpus, content_transformer(tolower))
corpus &lt;- tm_map(corpus, removeNumbers)
corpus &lt;- tm_map(corpus, removePunctuation)
dtm &lt;- TermDocumentMatrix(corpus)
m &lt;- as.matrix(dtm)

freq &lt;- rowSums(m)
freq.sorted &lt;- sort(freq, decreasing=TRUE)

# first barplot with stop words (ok for both notebook and export)
barplot(freq.sorted[1:50], xlab=""Word"", ylab=""Frequency"", las=2)

corpus.sw &lt;- tm_map(corpus, removeWords, stopwords('english'))
dtm.sw &lt;- TermDocumentMatrix(corpus.sw)
m.sw &lt;- as.matrix(dtm.sw)
freq.sw &lt;- rowSums(m.sw)
freq.sw.sorted &lt;- sort(freq.sw, decreasing=TRUE)

# second barplot without stop words (ok on ipython notebook but fail when exporting)
barplot(freq.sw.sorted[1:50], xlab=""Word"", ylab=""Frequency"", las=2)
</code></pre>

<p>What is really weird, it is that the first barplot is well exported, but not the second one whereas the process is exactly the same (showing the 50 top words).</p>

<p>Here is my configuration:</p>

<ul>
<li>macosx 10.11.2 el capitan</li>
<li>jupyter 4.0.6</li>
<li>ipython 4.0.1</li>
<li>R version 3.2.2</li>
</ul>

<p>Thank you,</p>

<p>Julien</p>
",296,0,<jupyter><jupyter-irkernel>,2016-03-06 13:58:15
35787692,Use ipywidgets to interatively find best position matplotlib text,"<p>I am interested in using the interact function to use a slider to adjust the position of text in a matplotlib plot (you know, instead of adjusting the position, running the code, and repeating 1000 times).</p>

<p>Here's a simple example of a plot</p>

<pre><code>import matplotlib.pyplot as plt
x=0.2
y=0.9
plt.text(x, y,'To move',size=19)
plt.show()
</code></pre>

<p>and some interact code</p>

<pre><code>from __future__ import print_function
from ipywidgets import interact, interactive, fixed
import ipywidgets as widgets
def f(x):
    return x
interact(f, cx=0.2)
</code></pre>

<p>I'm wondering how I can combine these to generate a plot with the text along with a slider that will interactively move the text based on the specified value for x. Is this possible? What if I want to do the same for y?</p>

<p>Thanks in advance!</p>
",397,0,<matplotlib><ipywidgets>,2016-03-04 03:55:50
35786496,using R in jupyter: display_markdown in loop,"<p>I need to setup a reporting document in which I <strong>loop over items and generate individual graphs</strong>. when using <strong>R in jupyter</strong> i read about display_markdown and display_html using repr and IRDisplay here: <a href=""https://stackoverflow.com/questions/32703654/how-to-render-latex-html-in-jupyter-r"">How to render LaTeX / HTML in Jupyter (R)?</a> This perfectly does the job of printing Markdown inside a code cell. but unfortunately the order is ruined. </p>

<p>If i do:</p>

<pre><code>library(IRdisplay)
library(repr)
options(repr.vector.quote=FALSE)

for (i in 1:3) {
    print(paste(""print before headline in run:"",i))

    display_markdown(paste(""# Headline in run:"",i))

    cars &lt;- c(i, 3, 6, 4, 9)
    plot(cars)   

    print(paste(""print after headline in run:"",i))
}
</code></pre>

<p>the end result in jupyter gets mixed up. the headlines appear above the printed lines and graphs:</p>

<p><a href=""https://i.stack.imgur.com/xd0Sj.png"" rel=""nofollow noreferrer"">loop result of above code</a></p>

<p>R version 3.2.2 (2015-08-14)</p>
",1367,4,<r><jupyter><repr><jupyterhub>,2016-03-04 01:42:29
35779631,Improve HTML styling of Pandas DataFrames within IPython widgets,"<p>How can I generate appropriate HTML to hand to an <code>ipywidgets.HTML</code> object to properly display a Pandas DataFrame?</p>

<p><a href=""https://i.stack.imgur.com/yEKnf.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/yEKnf.png"" alt=""enter image description here""></a></p>
",2126,6,<pandas><jupyter-notebook><ipywidgets>,2016-03-03 18:02:13
35762692,Using ipywidget for multiple choice test,"<p>I'm pretty new to python and python notebooks.  Im trying to create a Jupyter notebook that will display an image from a list of images and give the user 4 choices to what that image in the from of clickable ipywidget buttons. Once the user clicks their choice, I want to replace the image with a new image and repopulate the buttons with 4 new choices. </p>

<p>I know how to clear the image output and close the button widgets using button.close(), but I can't seem to figure out how to redraw the buttons with new choices. Once I've closed the container, I cant figure out how to loop back to the top since I'm stuck in the on_button_clicked function once a choice is made.   Here's what I have so far, though I know its no where near working yet and it probably way off in the approach.  Note I don't need to use ipywidgets, but it seemed like a good choice in the sense of clickable buttons: </p>

<pre><code>x = ['tree.jpg','house.jpg','car.jpg','door.jpg','train.jpg','moon.jpg']

choices = random.sample(x, 4)
correct = random.choice(choices)

display(Image(correct))
time.sleep(3)

button1 = widgets.Button(description = x[0])
button2 = widgets.Button(description = x[1])
button3 = widgets.Button(description = x[2])
button4 = widgets.Button(description = x[3])

container = widgets.HBox(children=[button1,button2,button3,button4])
display(container)


button1.on_click(on_button1_clicked)
button2.on_click(on_button2_clicked)
button3.on_click(on_button3_clicked)
button4.on_click(on_button4_clicked)


def on_button1_clicked(b):
     # [insert code to record choice] 
    container.close()
    clear_output()

def on_button2_clicked(b):
     # [insert code to record choice] 
    container.close()
    clear_output()

def on_button3_clicked(b):
     # [insert code to record choice] 
    container.close()
    clear_output()

def on_button4_clicked(b):
     # [insert code to record choice] 
    container.close()
    clear_output()
</code></pre>

<p>thanks alot!</p>
",3825,2,<python><jupyter><jupyter-notebook><ipywidgets>,2016-03-03 03:34:08
35687065,No Module Named Ipywidgets Error,"<p>I'm new in Ipython and Jupyter Notebook. I installed the ipywidgets module in Jupyter Notebook by using Anaconda prompt window. </p>

<p>I tried:</p>

<pre><code>pip install ipywidgets
</code></pre>

<p>It said that the requirements had already satisfied. Then I tried to import the module but received the ""<strong>ImportError: No module named ipywidgets</strong>"" error.</p>

<p>Then I tried:</p>

<pre><code>conda install ipywidgets
</code></pre>

<p>It fetched some files from the ""<strong>api.anaconda.org</strong>"" site and installed the files. I exited from Jupyter Notebook and entered again. When I tried to import the modüle received the same ""<strong>ImportError: No module named ipywidgets</strong>"" error.</p>

<p>I have no idea what is wrong. How can I import this modüle to Jupyter Notebook and Anaconda ?</p>
",2472,6,<python><anaconda><jupyter-notebook><ipywidgets>,2016-02-28 19:15:57
35551356,Docker crash test with many containers of the same image,"<p>I would like to make a docker crash test on my server, to see how many containers based on the same image my server will support. (Because I've installed  jupyterhub and I want to see how many containers can run in good condition.)</p>

<p>So how can I copy an existing container? </p>
",134,1,<docker><containers><jupyterhub>,2016-02-22 10:33:00
35516906,two factor authentication with username and password for a Jupyter Notebook server,"<p>I've setup a Jupyter Notebook server with appropriate password and SSL so it is accessed via HTTPS. However, I'm looking now for a way to enforce a two factor authentication with username and password for loging in. The current Jupyter Notebook server only asks for a password and I hence have to create a shared one (no username though). </p>

<p>I know about JupyterHub, but at the moment I'm looking for a way to add a username (or multiple usernames) and correspond password (passwords), so that everyone can access the same work space without necessarily having credentials on the Linux server side.</p>

<p>Is this even possible, or do I have to resort to deploying a JupyterHub server?</p>
",2668,1,<python><authentication><jupyter><jupyter-notebook><jupyterhub>,2016-02-19 23:22:31
35435889,ipywidgets graph widget implementation,"<p>Good day</p>

<p>I have been on this all day. I am trying to add widgets to my notebooks on my Jupyter(ipython) notebook. Below is my code which makes sense in my head but it is not populating anything. I am trying to control the list of values in StatusesList through a widget so it changes the graph populated. Please help.</p>

<pre><code>from plotly import __version__
from plotly.offline import download_plotlyjs, init_notebook_mode, iplot
import plotly.plotly as py
import plotly.graph_objs as go
from plotly.graph_objs import *
import numpy as np
import cufflinks as cf
init_notebook_mode()
cf.go_offline()
import pandas as pd
cf.set_config_file(theme='pearl')
from __future__ import print_function
from ipywidgets import interact, interactive, fixed
import pandas as pd
import ipywidgets as widgets
from IPython.display import display

df = pd.read_excel(""C:\Users\UserName\Downloads\Complaints Management.xlsx"")
df_status = df[['Status', 'Member Number']].groupby('Status').count()

StatusesList = df_status.index.tolist()

GragphValueList = df_status[""Member Number""].tolist()
# w = Output()

def f(x):
    x = StatusesList
    return x
    interact(f, x = StatusesList)


    fig_status = {
    'data': [{'labels': x,
    'values': GragphValueList,
    'type': 'pie'}],
    'layout': {'title': 'Complaints by status'}
    }

    iplot(fig_status)
</code></pre>

<p><a href=""https://www.dropbox.com/s/uf82tipe5puedb0/Complaints%20Management.xlsx?dl=0"" rel=""nofollow"">file sample</a></p>
",1843,1,<python><jupyter><plotly><jupyter-notebook><ipywidgets>,2016-02-16 15:02:20
35420680,Installing RKernel,"<p>Despite all my efforts, I wasn't able to install the R kernel for my IPython/Jupyter notebook on Canopy.</p>

<p>I've closely followed the clear instructions given in:
<a href=""http://www.michaelpacer.com/maths/r-kernel-for-ipython-notebook"" rel=""nofollow"">http://www.michaelpacer.com/maths/r-kernel-for-ipython-notebook</a>
(or, alternatively, <a href=""http://irkernel.github.io/installation/"" rel=""nofollow"">http://irkernel.github.io/installation/</a>)</p>

<p>All goes well until the last step that install the kernel on Jupyter:</p>

<pre><code>IRkernel::installspec()
</code></pre>

<p>Here is the weird message I get:</p>

<pre><code>File ""/Users/julien/Library/Enthought/Canopy_64bit/User/bin/jupyter-kernelspec"", line 8
from jupyter_client.kernelspecapp import KernelSpecApp.launch_instance
                                                      ^
SyntaxError: invalid syntax
</code></pre>

<p>My configuration is the following:</p>

<ul>
<li>Macbook with El Capitan</li>
<li>R version 3.2.2</li>
<li>IPython 4.0.1</li>
<li>Jupyter 4.0.6</li>
</ul>
",934,0,<jupyter><jupyter-notebook><jupyter-irkernel>,2016-02-15 22:58:46
35419414,jupyterhub nginx reverse proxy,"<p>I'm trying to get a reverse proxy (nginx) to work with juypterhub.  I want the service available at myurl.com/jhub/.  I placed the following in the config: </p>

<pre><code>location /jhub/ {
        proxy_pass http://127.0.0.1:8000/;

        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header Host $host;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;

        proxy_set_header X-NginX-Proxy true;  

        #WebSocket support

        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection ""upgrade"";
        proxy_read_timeout 86400;
  }
</code></pre>

<p>However, when I try the url after restarting the proxy jupyterhub is not available and I get a '404' Not Found error.  I've tried every combination of ports and address with no luck.  The same approach works just fine for RStudio server.... What am I missing?</p>
",2057,4,<nginx><ipython><reverse-proxy><jupyterhub>,2016-02-15 21:27:18
35416116,"Shared, writable folders in jupyterhub","<p>We are currently building a jupyterhub environment in a docker container and struggling with shared folders. Our goal is to set up a shared folder which is writable for all users.</p>
<p>In each user's home folder there is a symbolic link <code>~/shared</code> to <code>/opt/shared</code>. The target folder has the permissions <code>777</code> and is owned by the group <i>jupyter</i>. Each user is member of the group <i>jupyter</i>. However, if one user creates a file in the shared folder logged in with his account into the web app, the permissions are set to <code>644</code>. Therefore, no other user can edit the file.</p>
<p>I've tried to set the <code>umask</code> to <code>000</code> in the <code>/etc/profiles</code> and the <code>~/.bashrc</code> files for each user. However, jupyter seems to ignore it. Is there a possibility to configure jupyter to create new files with <code>g+w</code> rights as default? I would like to avoid setting up access control lists with <code>setfacl</code> at the file system level because it requires custom flags in the <code>/etc/fstab</code>.</p>
",7707,22,<jupyter><jupyter-notebook><jupyterhub>,2016-02-15 18:05:30
35410174,How to share Jupyter notebooks,"<p>I have a Jupyter hub installed and I was wondering if it is possible to share notebooks among different users.</p>
",12159,9,<jupyter><jupyter-notebook><jupyterhub>,2016-02-15 13:07:38
35387563,How to configure JupyterHub to show same notebook types as Jupyter?,"<p>On Ubuntu 14 I installed Jupyter via pip3 and apt-get. It works. Yet I have a problem: JupyterHub shows one menu for a user: </p>

<p><a href=""https://i.stack.imgur.com/Z3koD.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/Z3koD.png"" alt=""enter image description here""></a> </p>

<p>while Jupyter notebook shows another: </p>

<p><a href=""https://i.stack.imgur.com/JN0hJ.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/JN0hJ.png"" alt=""enter image description here""></a></p>

<p>Same virtual environments and default configuration.</p>

<p>I use the following comands to start them:</p>

<pre><code>sudo jupyter notebook --port=80 --ip=0.0.0.0  --no-browser
sudo jupyterhub --port 80
</code></pre>

<p>I wonder what shall be changed in JupyterHub to show exactly the same picture as I see in Jupyter?</p>
",438,1,<python><configuration><jupyter><jupyter-notebook><jupyterhub>,2016-02-14 01:57:46
35361038,Using Ipython ipywidget to create a variable?,"<p>This seems really simple but I have not been able to find a single example or to solve this myself. How do I use an ipywidget widget to create or return a python variable/object, such as a list or string, that can be used in a following cell?</p>
",32073,22,<ipython><jupyter-notebook><ipywidgets>,2016-02-12 11:06:15
35299071,Jupyterhub - how to select the installed python version,"<p>Jupyterhub uses a specific python version when creating new notebooks.
I can't find out where to set this version.</p>

<p>I installed anaconda on my ubuntu and created a link between python and anaconda's distribution </p>

<pre><code>usr/bin$ ls -l pyt*
lrwxrwxrwx 1 root root      24 Feb  9 18:34 python -&gt; /usr/anaconda/bin/python
</code></pre>

<p>which works : </p>

<pre><code>:/usr/bin$ python
Python 3.5.1 |Anaconda 2.5.0 (64-bit)| (default, Dec  7 2015, 11:16:01)
[GCC 4.4.7 20120313 (Red Hat 4.4.7-1)] on linux
Type ""help"", ""copyright"", ""credits"" or ""license"" for more information.
&gt;&gt;&gt; 
</code></pre>

<p>But when I use jupyterhub the notebooks are created using another installation of python. I see on the jupyter's terminal that the correct python version is accessed through the terminal so. It is only on the notebooks that the version is wrong.</p>

<p>Should I create a specific kernel ? 
Or can I set up an env variable to make jupyterhub use the anacondas' python ?</p>
",2157,1,<python><jupyterhub>,2016-02-09 18:07:00
35298513,Using ipython magics in R jupyter notebook?,"<p>I installed jupyter with <code>conda install jupyter</code> and am running a notebook with the r kernal installed from <code>conda create -n my-r-env -c r r-essentials</code></p>

<p>I am running a notebook and want to run a bash command from a shell.</p>

<pre><code>!echo ""hi""
Error in parse(text = x, srcfile = src): &lt;text&gt;:1:7: unexpected string constant
1: !echo ""hi""
</code></pre>

<p>For comparison, in an notebook with a python kernel:</p>

<pre><code>!echo ""hi""
hi
</code></pre>

<p>Is there a way to set up R notebooks to have the same functionality as the ipython notebook with regards to bash commands (and maybe other magics)?</p>
",4256,19,<r><jupyter-notebook><jupyter-irkernel>,2016-02-09 17:37:13
35258034,JupyterHub instance depends on SSH pipe,"<p>I have what I think is a simple question.  I have an Ubuntu server (14.04) running JupyterHub.  I launch the service using the standard command: </p>

<pre><code>sudo jupyterhub
</code></pre>

<p>I'm doing this from an SSH connection to the server itself.  However, after the service starts my terminal turns into a 'logging only mode' (my words).  The jupyterhub notebook is available as it should be, but I loose access to the CL.  The problem is that the service only runs as long as my terminal is connected via SSH.  When I disconnect I can't access the service anymore.  How do I keep the service running so it will be available after I disconnect my SSH session?</p>
",259,1,<ssh><jupyter-notebook><jupyterhub>,2016-02-07 19:28:53
35183829,Jupyterhub Error 503: Proxy Target Missing,"<p>I managed to establish <code>Jupyterhub</code> on my server and it worked well. Since I tried to restart the <code>Jupyterhub</code> service it doesn't work any more and when I'm trying to run it I see the error message:</p>

<pre><code>Proxy appears to be running at http://*:8000/, but I can't access it (HTTP 403: Forbidden)
Did CONFIGPROXY_AUTH_TOKEN change?
</code></pre>

<p>In the web browser I get </p>

<pre><code>Error 503: Proxy Target Missing. 
</code></pre>

<p>It may be connected to the warning that I see every time when I run <code>Jupyterhub</code> :</p>

<pre><code>Generating CONFIGPROXY_AUTH_TOKEN. Restarting the Hub will require restarting the proxy.
Set CONFIGPROXY_AUTH_TOKEN env or JupyterHub.proxy_auth_token config to avoid this message.
</code></pre>
",4675,6,<python><proxy><jupyterhub>,2016-02-03 17:32:53
35182640,Run Jupyter cell on page refresh,"<p>I am using Jupyter for my company's Analytics.  I want to make live page that displays some pretty charts.  I will be displaying this page on a big monitor in the lobby, and I want it to refresh automatically.</p>

<p>Is there some way to trigger ""run all cells"" by refreshing the browser page?  Alternately, is there some way to automatically run cells on a schedule?</p>

<p>I was hoping to find some %magic but I didn't.  Anyone know?</p>

<p>Thanks
P</p>
",1573,3,<jupyter><jupyter-notebook><jupyterhub>,2016-02-03 16:36:03
35029979,How to speed up the execution of an IPython widget?,"<p>I created a widget using <code>interact()</code> in the Jupyter notebook which plots the data (see code below). However, the widget updates very slowly (around 1 fps) when I move the slider.</p>

<p>Evaluation of the data inside the functions <code>neg(T)</code> and <code>pos(T)</code> takes around 1e-4 seconds and plotting of the data inside the function <code>conc(T)</code> - around 1e-1 seconds. Then why does my widget have such a slow response? How could I improve it?</p>

<pre><code>from scipy import constants
from numpy import *
import matplotlib.pyplot as plt
from ipywidgets import interact
import time

%matplotlib inline

m_e = m_h = 1.5 * 10**-49
hbar = constants.hbar
k = constants.k / constants.e

E_g = 1.1242
E_v = 0
E_c = E_v + E_g
E_a = E_v + 0.045
E_d = E_c - 0.045
n_a = 10**14
n_d = 10**12
g_a = 4
g_d = 2

E_f = linspace(E_v, E_c, 100)

def neg(T):
    start = time.time()

    N_c = 2 * 10**-6 * (m_e*k*T/(2*pi*hbar**2))**1.5
    n = N_c * exp((E_f-E_c)/(k*T))
    N_a_minus = n_a/(1+g_a*exp((E_a-E_f)/(k*T)))

    print(time.time()-start)

    return n + N_a_minus

def pos(T):
    start = time.time()

    N_v = 2 * 10**-6 * (m_h*k*T/(2*pi*hbar**2))**1.5
    p = N_v * exp((E_v-E_f)/(k*T))
    N_d_plus = n_d/(1+g_d*exp((E_f-E_d)/(k*T)))

    print(time.time()-start)

    return p + N_d_plus

def conc(T):
    start = time.time()

    plt.plot(E_f, neg(T), E_f, pos(T))
    plt.axis([E_v,E_g,10.0**6,10.0**21])
    plt.yscale('log')

    print(time.time()-start)

interact(conc, T=(50,800,50));
</code></pre>
",1042,4,<python><matplotlib><ipywidgets>,2016-01-27 06:08:23
35023744,How to order entries in ipywidgets Dropdown or Select?,"<p>I want to select from a list of possible values of type float:</p>

<pre><code>values = [400e-9,435e-9,498e-9]
</code></pre>

<p>The ipywidgets module provides the Select and Dropdown widgets, which accept either a list of strings, or a dictionary. In the latter case, the keys will be displayed and the values will be used when the corresponding key is selected. See <a href=""https://github.com/ipython/ipywidgets/blob/master/examples/notebooks/Widget%20List.ipynb"" rel=""nofollow"">the list of widgets in the docs</a>.</p>

<pre><code># Required imports for examples below
import ipywidgets as widgets
from IPython.display import display
</code></pre>

<p>Indeed, supplying my list of values directly raises an error since the values are floats, not strings.</p>

<pre><code># This will raise a TraitError
w = widgets.Select(options=values,description='Select one of the values:')
display(w)
</code></pre>

<p>So I create a dictionary and pass this to the widget:</p>

<pre><code>keys = [""{:.2e}"".format(val) for val in values]
valsdict = dict(zip(keys,values))
w = widgets.Select(options=valsdict, description='Select one of the values:')
display(w)
</code></pre>

<p>However, since dictionaries are not sorted, the resulting widget shows the options in a seemingly random order. In this case, when I ran it, 498e-9 came before 435e-9, as shown in this screenshot: <a href=""http://i.stack.imgur.com/gcIlF.jpg"" rel=""nofollow"">screenshot of the resulting widget</a>.</p>

<p>So the question is, is there a way to sort the entries in the selection widgets? </p>

<p>An obvious workaround is to supply the widget only with my list of strings (called <code>keys</code> in the example above) and implement looking up the corresponding value from the list myself, but I was hoping there would be a more elegant solution.</p>
",3896,2,<python><jupyter><jupyter-notebook><ipywidgets>,2016-01-26 20:53:32
35015947,Hiding code in jupiter in R,"<p>I would like to try to produce reports (pdf and probably html) in jupyter using R kernel. However, I would like to hide code in two ways, depending on audience:</p>

<ol>
<li>all code cells</li>
<li>some code cells</li>
</ol>

<p>When I have looked for this I found answers for python kernel. Is there a way to this in R (no python code)?</p>
",3861,5,<r><jupyter><jupyter-notebook><jupyter-irkernel>,2016-01-26 14:17:46
34986657,using ipywidgets in jupyter notebook: how to set focus?,"<p>Is it possible to give a jupyter notebook widget the focus? 
I can't see documentation or hints in the code about this? </p>
",748,14,<jupyter-notebook><ipywidgets>,2016-01-25 06:52:20
34981756,Display Images from file in R Jupyter notebook,"<p>I have an image on disk and want to display it in a markdown cell in an R Jupyter Notebook. How can I go about this?</p>

<p>I know with Python this as simple as importing the Image class from display.</p>
",7084,11,<r><jupyter><jupyter-notebook><jupyter-irkernel>,2016-01-24 21:31:43
34948928,Multiple interact() commands duplicate widgets in IPython,"<p>I am using an IPython Jupyter notebook. In the following situation, I call a function using <code>interact()</code>, which in turns calls a second function again using <code>interact()</code>.</p>

<pre><code>def fun1(dataset_id):
     dataset = read_dataset(dataset_id)
     interact(fun2, data=dataset, var=(0,dataset.property,0.1))

def fun2(data, var):
     # something

interact(fun1, dataset_id=(0,5,1))
</code></pre>

<p>When first running this, it display 2 slider widgets: one for <code>dataset_id</code>, and one for the variable <code>var</code>. But if I vary the <code>dataset_id</code> slider once, a second slider for <code>var</code> is added below the first <code>var</code> slider, so now I have 3 sliders in total. How can I avoid this?</p>
",5231,4,<python><ipython><jupyter-notebook><ipywidgets>,2016-01-22 14:22:33
34941546,Is there a way to integrate git with Jupyter and have a version control over the notebooks created?,"<p>I have hosted jupyterhub on a server and added many users into it. I want the users to have an option of version control for their work. So is there any way to add a git kernel or extension do have this done?</p>
",11793,26,<git><github><jupyter><jupyter-notebook><jupyterhub>,2016-01-22 07:48:53
34935298,Using matplotlib GTK3Agg Backend in jupyterhub notebook,"<p>I just started a jupyterhub server so that I can save all my data on one machine and have collaborators connect to access the data. Part of the code uses a GTK window which I normally launch from an ipython notebook. The error I get is <code>TypeError: constructor returned NULL</code> (<a href=""https://gist.github.com/m3wolf/2b3abf368f2fb6f7874c"" rel=""nofollow"">full traceback</a>). I can pretty easily reproduce this by making a new notebook and running <code>from matplotlib import pyplot</code> since by default it uses the GTK backend of my system.</p>

<p>So this works if I run it from the conventional jupyter-notebook and not through jupyterhub even if the notebook is accessed from the same computer that the server is running on. I recognize that many clients won't be able to load the GTK components if they don't have it installed themselves so I structured the software so that Gtk/Gdk only get imported when necessary. If I can't use it at all, though, then I will have to abandon the jupyterhub idea and think of something else.</p>
",581,0,<python><matplotlib><gtk3><jupyter-notebook><jupyterhub>,2016-01-21 22:08:55
34882050,Cannot run multiple kernels (Python versions) in jupyterhub,"<p>Hi I am running a notebook server with jupyterhub but I am unable to access different kernels (version of python).</p>

<p>I have the various enronments setup correctly, and when I type </p>

<pre><code>jupyter kernelspec list
</code></pre>

<p>I get the following output</p>

<pre><code>Available kernels:              
bash       /home/username/.local/share/jupyter/kernels/bash  
python2    /usr/local/share/jupyter/kernels/python2                  
python3    /usr/local/share/jupyter/kernels/python3
</code></pre>

<p>But when the jupyterhub launches it only finds the Python3 kernel available?</p>

<p>How can I get it to detect all available python versions??</p>

<pre><code>cat /usr/local/share/jupyter/kernels/python2/kernel.json  

{                                                   
""display_name"": ""Python 2"",
""language"": ""python"",
""argv"": [
""/opt/anaconda3/envs/py27/bin/python2.7"",
""-m"",
""ipykernel"",
""-f"",
""{connection_file}""                                                        
]       
}

cat /usr/local/share/jupyter/kernels/python3/kernel.json  

{ 
""language"": ""python"",                                                 
""display_name"": ""Python 3"",
""argv"": [
""/opt/anaconda3/bin/python3"",
""-m"",
""ipykernel"",
""-f"",
""{connection_file}""                                                        
] 
}
</code></pre>
",1161,2,<python-2.7><ipython><python-3.4><jupyter><jupyterhub>,2016-01-19 16:32:30
34812377,Can't whitelist a kernel in jupyterhub,"<p>I'm trying to setup jupyterhub with just one kernel. I've set this config parameter:</p>

<pre><code>c.KernelSpecManager.whitelist = {'python2'}
</code></pre>

<p>However it doesn't take effect. I still can use both python2 and python3 kernels. Other config variables are being applied with no problem.</p>

<p>Is anyone else observing this?</p>
",210,1,<jupyter><jupyterhub>,2016-01-15 13:39:45
31535027,make Pyspark working inside jupyterhub,"<p>I have a machine with JupyterHub (Python2,Python3,R and Bash Kernels). I have Spark(scala) and off course PySpark working. I can even use PySpark inside an interactive IPython notebook with a command like:</p>

<pre><code>IPYTHON_OPTS=""notebook"" $path/to/bin/pyspark
</code></pre>

<p>(this open a Jupyter notebook and inside Python2 I can use Spark)</p>

<p>BUT I can't get PySpark working inside JupyterHub. </p>

<p><a href=""https://github.com/ibm-et/spark-kernel"" rel=""nofollow"">the spark kernel</a> is more than what i really need. </p>

<p>I only need Pyspark inside JupyterHub. Any suggestion ?</p>

<p>thanks.</p>
",5221,3,<python><apache-spark><pyspark><ipython-notebook><jupyterhub>,2015-07-21 09:19:24
28529157,Dynamically changing dropdowns in IPython notebook widgets and Spyre,"<p>I have a dropdown in an IPython notebook (as part of the HTML widgets) and in a Spyre app (as a <code>dropdown</code> element), say to pick a continent and I'd like to add a second dropdown to select the country within the continent. Now obviously the options within the second dropdown are dependent on the value of the first one. I'm struggling to find a convenient way to have a callback function that would update this UI element.</p>

<p>I have almost done this in the IPython notebook where I had one <code>interact</code> function and within the called function, I'd create a second <code>interact</code> element with the second dropdown. But whenever I'd change the first dropdown a new dropdown element would be created, so I'd end up with one additional dropdown with each change. But I only want one dropdown to be updated, that's all.</p>

<p>Hope the issue is clear. Thank you.</p>
",21231,19,<python><jupyter-notebook><ipython><ipywidgets>,2015-02-15 17:53:48
